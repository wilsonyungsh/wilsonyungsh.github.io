<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<style>body{background-color:white;}</style>
<script>(function() {
  // If window.HTMLWidgets is already defined, then use it; otherwise create a
  // new object. This allows preceding code to set options that affect the
  // initialization process (though none currently exist).
  window.HTMLWidgets = window.HTMLWidgets || {};

  // See if we're running in a viewer pane. If not, we're in a web browser.
  var viewerMode = window.HTMLWidgets.viewerMode =
      /\bviewer_pane=1\b/.test(window.location);

  // See if we're running in Shiny mode. If not, it's a static document.
  // Note that static widgets can appear in both Shiny and static modes, but
  // obviously, Shiny widgets can only appear in Shiny apps/documents.
  var shinyMode = window.HTMLWidgets.shinyMode =
      typeof(window.Shiny) !== "undefined" && !!window.Shiny.outputBindings;

  // We can't count on jQuery being available, so we implement our own
  // version if necessary.
  function querySelectorAll(scope, selector) {
    if (typeof(jQuery) !== "undefined" && scope instanceof jQuery) {
      return scope.find(selector);
    }
    if (scope.querySelectorAll) {
      return scope.querySelectorAll(selector);
    }
  }

  function asArray(value) {
    if (value === null)
      return [];
    if ($.isArray(value))
      return value;
    return [value];
  }

  // Implement jQuery's extend
  function extend(target /*, ... */) {
    if (arguments.length == 1) {
      return target;
    }
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];
      for (var prop in source) {
        if (source.hasOwnProperty(prop)) {
          target[prop] = source[prop];
        }
      }
    }
    return target;
  }

  // IE8 doesn't support Array.forEach.
  function forEach(values, callback, thisArg) {
    if (values.forEach) {
      values.forEach(callback, thisArg);
    } else {
      for (var i = 0; i < values.length; i++) {
        callback.call(thisArg, values[i], i, values);
      }
    }
  }

  // Replaces the specified method with the return value of funcSource.
  //
  // Note that funcSource should not BE the new method, it should be a function
  // that RETURNS the new method. funcSource receives a single argument that is
  // the overridden method, it can be called from the new method. The overridden
  // method can be called like a regular function, it has the target permanently
  // bound to it so "this" will work correctly.
  function overrideMethod(target, methodName, funcSource) {
    var superFunc = target[methodName] || function() {};
    var superFuncBound = function() {
      return superFunc.apply(target, arguments);
    };
    target[methodName] = funcSource(superFuncBound);
  }

  // Add a method to delegator that, when invoked, calls
  // delegatee.methodName. If there is no such method on
  // the delegatee, but there was one on delegator before
  // delegateMethod was called, then the original version
  // is invoked instead.
  // For example:
  //
  // var a = {
  //   method1: function() { console.log('a1'); }
  //   method2: function() { console.log('a2'); }
  // };
  // var b = {
  //   method1: function() { console.log('b1'); }
  // };
  // delegateMethod(a, b, "method1");
  // delegateMethod(a, b, "method2");
  // a.method1();
  // a.method2();
  //
  // The output would be "b1", "a2".
  function delegateMethod(delegator, delegatee, methodName) {
    var inherited = delegator[methodName];
    delegator[methodName] = function() {
      var target = delegatee;
      var method = delegatee[methodName];

      // The method doesn't exist on the delegatee. Instead,
      // call the method on the delegator, if it exists.
      if (!method) {
        target = delegator;
        method = inherited;
      }

      if (method) {
        return method.apply(target, arguments);
      }
    };
  }

  // Implement a vague facsimilie of jQuery's data method
  function elementData(el, name, value) {
    if (arguments.length == 2) {
      return el["htmlwidget_data_" + name];
    } else if (arguments.length == 3) {
      el["htmlwidget_data_" + name] = value;
      return el;
    } else {
      throw new Error("Wrong number of arguments for elementData: " +
        arguments.length);
    }
  }

  // http://stackoverflow.com/questions/3446170/escape-string-for-use-in-javascript-regex
  function escapeRegExp(str) {
    return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&");
  }

  function hasClass(el, className) {
    var re = new RegExp("\\b" + escapeRegExp(className) + "\\b");
    return re.test(el.className);
  }

  // elements - array (or array-like object) of HTML elements
  // className - class name to test for
  // include - if true, only return elements with given className;
  //   if false, only return elements *without* given className
  function filterByClass(elements, className, include) {
    var results = [];
    for (var i = 0; i < elements.length; i++) {
      if (hasClass(elements[i], className) == include)
        results.push(elements[i]);
    }
    return results;
  }

  function on(obj, eventName, func) {
    if (obj.addEventListener) {
      obj.addEventListener(eventName, func, false);
    } else if (obj.attachEvent) {
      obj.attachEvent(eventName, func);
    }
  }

  function off(obj, eventName, func) {
    if (obj.removeEventListener)
      obj.removeEventListener(eventName, func, false);
    else if (obj.detachEvent) {
      obj.detachEvent(eventName, func);
    }
  }

  // Translate array of values to top/right/bottom/left, as usual with
  // the "padding" CSS property
  // https://developer.mozilla.org/en-US/docs/Web/CSS/padding
  function unpackPadding(value) {
    if (typeof(value) === "number")
      value = [value];
    if (value.length === 1) {
      return {top: value[0], right: value[0], bottom: value[0], left: value[0]};
    }
    if (value.length === 2) {
      return {top: value[0], right: value[1], bottom: value[0], left: value[1]};
    }
    if (value.length === 3) {
      return {top: value[0], right: value[1], bottom: value[2], left: value[1]};
    }
    if (value.length === 4) {
      return {top: value[0], right: value[1], bottom: value[2], left: value[3]};
    }
  }

  // Convert an unpacked padding object to a CSS value
  function paddingToCss(paddingObj) {
    return paddingObj.top + "px " + paddingObj.right + "px " + paddingObj.bottom + "px " + paddingObj.left + "px";
  }

  // Makes a number suitable for CSS
  function px(x) {
    if (typeof(x) === "number")
      return x + "px";
    else
      return x;
  }

  // Retrieves runtime widget sizing information for an element.
  // The return value is either null, or an object with fill, padding,
  // defaultWidth, defaultHeight fields.
  function sizingPolicy(el) {
    var sizingEl = document.querySelector("script[data-for='" + el.id + "'][type='application/htmlwidget-sizing']");
    if (!sizingEl)
      return null;
    var sp = JSON.parse(sizingEl.textContent || sizingEl.text || "{}");
    if (viewerMode) {
      return sp.viewer;
    } else {
      return sp.browser;
    }
  }

  // @param tasks Array of strings (or falsy value, in which case no-op).
  //   Each element must be a valid JavaScript expression that yields a
  //   function. Or, can be an array of objects with "code" and "data"
  //   properties; in this case, the "code" property should be a string
  //   of JS that's an expr that yields a function, and "data" should be
  //   an object that will be added as an additional argument when that
  //   function is called.
  // @param target The object that will be "this" for each function
  //   execution.
  // @param args Array of arguments to be passed to the functions. (The
  //   same arguments will be passed to all functions.)
  function evalAndRun(tasks, target, args) {
    if (tasks) {
      forEach(tasks, function(task) {
        var theseArgs = args;
        if (typeof(task) === "object") {
          theseArgs = theseArgs.concat([task.data]);
          task = task.code;
        }
        var taskFunc = tryEval(task);
        if (typeof(taskFunc) !== "function") {
          throw new Error("Task must be a function! Source:\n" + task);
        }
        taskFunc.apply(target, theseArgs);
      });
    }
  }

  // Attempt eval() both with and without enclosing in parentheses.
  // Note that enclosing coerces a function declaration into
  // an expression that eval() can parse
  // (otherwise, a SyntaxError is thrown)
  function tryEval(code) {
    var result = null;
    try {
      result = eval("(" + code + ")");
    } catch(error) {
      if (!(error instanceof SyntaxError)) {
        throw error;
      }
      try {
        result = eval(code);
      } catch(e) {
        if (e instanceof SyntaxError) {
          throw error;
        } else {
          throw e;
        }
      }
    }
    return result;
  }

  function initSizing(el) {
    var sizing = sizingPolicy(el);
    if (!sizing)
      return;

    var cel = document.getElementById("htmlwidget_container");
    if (!cel)
      return;

    if (typeof(sizing.padding) !== "undefined") {
      document.body.style.margin = "0";
      document.body.style.padding = paddingToCss(unpackPadding(sizing.padding));
    }

    if (sizing.fill) {
      document.body.style.overflow = "hidden";
      document.body.style.width = "100%";
      document.body.style.height = "100%";
      document.documentElement.style.width = "100%";
      document.documentElement.style.height = "100%";
      cel.style.position = "absolute";
      var pad = unpackPadding(sizing.padding);
      cel.style.top = pad.top + "px";
      cel.style.right = pad.right + "px";
      cel.style.bottom = pad.bottom + "px";
      cel.style.left = pad.left + "px";
      el.style.width = "100%";
      el.style.height = "100%";

      return {
        getWidth: function() { return cel.getBoundingClientRect().width; },
        getHeight: function() { return cel.getBoundingClientRect().height; }
      };

    } else {
      el.style.width = px(sizing.width);
      el.style.height = px(sizing.height);

      return {
        getWidth: function() { return cel.getBoundingClientRect().width; },
        getHeight: function() { return cel.getBoundingClientRect().height; }
      };
    }
  }

  // Default implementations for methods
  var defaults = {
    find: function(scope) {
      return querySelectorAll(scope, "." + this.name);
    },
    renderError: function(el, err) {
      var $el = $(el);

      this.clearError(el);

      // Add all these error classes, as Shiny does
      var errClass = "shiny-output-error";
      if (err.type !== null) {
        // use the classes of the error condition as CSS class names
        errClass = errClass + " " + $.map(asArray(err.type), function(type) {
          return errClass + "-" + type;
        }).join(" ");
      }
      errClass = errClass + " htmlwidgets-error";

      // Is el inline or block? If inline or inline-block, just display:none it
      // and add an inline error.
      var display = $el.css("display");
      $el.data("restore-display-mode", display);

      if (display === "inline" || display === "inline-block") {
        $el.hide();
        if (err.message !== "") {
          var errorSpan = $("<span>").addClass(errClass);
          errorSpan.text(err.message);
          $el.after(errorSpan);
        }
      } else if (display === "block") {
        // If block, add an error just after the el, set visibility:none on the
        // el, and position the error to be on top of the el.
        // Mark it with a unique ID and CSS class so we can remove it later.
        $el.css("visibility", "hidden");
        if (err.message !== "") {
          var errorDiv = $("<div>").addClass(errClass).css("position", "absolute")
            .css("top", el.offsetTop)
            .css("left", el.offsetLeft)
            // setting width can push out the page size, forcing otherwise
            // unnecessary scrollbars to appear and making it impossible for
            // the element to shrink; so use max-width instead
            .css("maxWidth", el.offsetWidth)
            .css("height", el.offsetHeight);
          errorDiv.text(err.message);
          $el.after(errorDiv);

          // Really dumb way to keep the size/position of the error in sync with
          // the parent element as the window is resized or whatever.
          var intId = setInterval(function() {
            if (!errorDiv[0].parentElement) {
              clearInterval(intId);
              return;
            }
            errorDiv
              .css("top", el.offsetTop)
              .css("left", el.offsetLeft)
              .css("maxWidth", el.offsetWidth)
              .css("height", el.offsetHeight);
          }, 500);
        }
      }
    },
    clearError: function(el) {
      var $el = $(el);
      var display = $el.data("restore-display-mode");
      $el.data("restore-display-mode", null);

      if (display === "inline" || display === "inline-block") {
        if (display)
          $el.css("display", display);
        $(el.nextSibling).filter(".htmlwidgets-error").remove();
      } else if (display === "block"){
        $el.css("visibility", "inherit");
        $(el.nextSibling).filter(".htmlwidgets-error").remove();
      }
    },
    sizing: {}
  };

  // Called by widget bindings to register a new type of widget. The definition
  // object can contain the following properties:
  // - name (required) - A string indicating the binding name, which will be
  //   used by default as the CSS classname to look for.
  // - initialize (optional) - A function(el) that will be called once per
  //   widget element; if a value is returned, it will be passed as the third
  //   value to renderValue.
  // - renderValue (required) - A function(el, data, initValue) that will be
  //   called with data. Static contexts will cause this to be called once per
  //   element; Shiny apps will cause this to be called multiple times per
  //   element, as the data changes.
  window.HTMLWidgets.widget = function(definition) {
    if (!definition.name) {
      throw new Error("Widget must have a name");
    }
    if (!definition.type) {
      throw new Error("Widget must have a type");
    }
    // Currently we only support output widgets
    if (definition.type !== "output") {
      throw new Error("Unrecognized widget type '" + definition.type + "'");
    }
    // TODO: Verify that .name is a valid CSS classname

    // Support new-style instance-bound definitions. Old-style class-bound
    // definitions have one widget "object" per widget per type/class of
    // widget; the renderValue and resize methods on such widget objects
    // take el and instance arguments, because the widget object can't
    // store them. New-style instance-bound definitions have one widget
    // object per widget instance; the definition that's passed in doesn't
    // provide renderValue or resize methods at all, just the single method
    //   factory(el, width, height)
    // which returns an object that has renderValue(x) and resize(w, h).
    // This enables a far more natural programming style for the widget
    // author, who can store per-instance state using either OO-style
    // instance fields or functional-style closure variables (I guess this
    // is in contrast to what can only be called C-style pseudo-OO which is
    // what we required before).
    if (definition.factory) {
      definition = createLegacyDefinitionAdapter(definition);
    }

    if (!definition.renderValue) {
      throw new Error("Widget must have a renderValue function");
    }

    // For static rendering (non-Shiny), use a simple widget registration
    // scheme. We also use this scheme for Shiny apps/documents that also
    // contain static widgets.
    window.HTMLWidgets.widgets = window.HTMLWidgets.widgets || [];
    // Merge defaults into the definition; don't mutate the original definition.
    var staticBinding = extend({}, defaults, definition);
    overrideMethod(staticBinding, "find", function(superfunc) {
      return function(scope) {
        var results = superfunc(scope);
        // Filter out Shiny outputs, we only want the static kind
        return filterByClass(results, "html-widget-output", false);
      };
    });
    window.HTMLWidgets.widgets.push(staticBinding);

    if (shinyMode) {
      // Shiny is running. Register the definition with an output binding.
      // The definition itself will not be the output binding, instead
      // we will make an output binding object that delegates to the
      // definition. This is because we foolishly used the same method
      // name (renderValue) for htmlwidgets definition and Shiny bindings
      // but they actually have quite different semantics (the Shiny
      // bindings receive data that includes lots of metadata that it
      // strips off before calling htmlwidgets renderValue). We can't
      // just ignore the difference because in some widgets it's helpful
      // to call this.renderValue() from inside of resize(), and if
      // we're not delegating, then that call will go to the Shiny
      // version instead of the htmlwidgets version.

      // Merge defaults with definition, without mutating either.
      var bindingDef = extend({}, defaults, definition);

      // This object will be our actual Shiny binding.
      var shinyBinding = new Shiny.OutputBinding();

      // With a few exceptions, we'll want to simply use the bindingDef's
      // version of methods if they are available, otherwise fall back to
      // Shiny's defaults. NOTE: If Shiny's output bindings gain additional
      // methods in the future, and we want them to be overrideable by
      // HTMLWidget binding definitions, then we'll need to add them to this
      // list.
      delegateMethod(shinyBinding, bindingDef, "getId");
      delegateMethod(shinyBinding, bindingDef, "onValueChange");
      delegateMethod(shinyBinding, bindingDef, "onValueError");
      delegateMethod(shinyBinding, bindingDef, "renderError");
      delegateMethod(shinyBinding, bindingDef, "clearError");
      delegateMethod(shinyBinding, bindingDef, "showProgress");

      // The find, renderValue, and resize are handled differently, because we
      // want to actually decorate the behavior of the bindingDef methods.

      shinyBinding.find = function(scope) {
        var results = bindingDef.find(scope);

        // Only return elements that are Shiny outputs, not static ones
        var dynamicResults = results.filter(".html-widget-output");

        // It's possible that whatever caused Shiny to think there might be
        // new dynamic outputs, also caused there to be new static outputs.
        // Since there might be lots of different htmlwidgets bindings, we
        // schedule execution for later--no need to staticRender multiple
        // times.
        if (results.length !== dynamicResults.length)
          scheduleStaticRender();

        return dynamicResults;
      };

      // Wrap renderValue to handle initialization, which unfortunately isn't
      // supported natively by Shiny at the time of this writing.

      shinyBinding.renderValue = function(el, data) {
        Shiny.renderDependencies(data.deps);
        // Resolve strings marked as javascript literals to objects
        if (!(data.evals instanceof Array)) data.evals = [data.evals];
        for (var i = 0; data.evals && i < data.evals.length; i++) {
          window.HTMLWidgets.evaluateStringMember(data.x, data.evals[i]);
        }
        if (!bindingDef.renderOnNullValue) {
          if (data.x === null) {
            el.style.visibility = "hidden";
            return;
          } else {
            el.style.visibility = "inherit";
          }
        }
        if (!elementData(el, "initialized")) {
          initSizing(el);

          elementData(el, "initialized", true);
          if (bindingDef.initialize) {
            var rect = el.getBoundingClientRect();
            var result = bindingDef.initialize(el, rect.width, rect.height);
            elementData(el, "init_result", result);
          }
        }
        bindingDef.renderValue(el, data.x, elementData(el, "init_result"));
        evalAndRun(data.jsHooks.render, elementData(el, "init_result"), [el, data.x]);
      };

      // Only override resize if bindingDef implements it
      if (bindingDef.resize) {
        shinyBinding.resize = function(el, width, height) {
          // Shiny can call resize before initialize/renderValue have been
          // called, which doesn't make sense for widgets.
          if (elementData(el, "initialized")) {
            bindingDef.resize(el, width, height, elementData(el, "init_result"));
          }
        };
      }

      Shiny.outputBindings.register(shinyBinding, bindingDef.name);
    }
  };

  var scheduleStaticRenderTimerId = null;
  function scheduleStaticRender() {
    if (!scheduleStaticRenderTimerId) {
      scheduleStaticRenderTimerId = setTimeout(function() {
        scheduleStaticRenderTimerId = null;
        window.HTMLWidgets.staticRender();
      }, 1);
    }
  }

  // Render static widgets after the document finishes loading
  // Statically render all elements that are of this widget's class
  window.HTMLWidgets.staticRender = function() {
    var bindings = window.HTMLWidgets.widgets || [];
    forEach(bindings, function(binding) {
      var matches = binding.find(document.documentElement);
      forEach(matches, function(el) {
        var sizeObj = initSizing(el, binding);

        var getSize = function(el) {
          if (sizeObj) {
            return {w: sizeObj.getWidth(), h: sizeObj.getHeight()}
          } else {
            var rect = el.getBoundingClientRect();
            return {w: rect.width, h: rect.height}
          }
        };

        if (hasClass(el, "html-widget-static-bound"))
          return;
        el.className = el.className + " html-widget-static-bound";

        var initResult;
        if (binding.initialize) {
          var size = getSize(el);
          initResult = binding.initialize(el, size.w, size.h);
          elementData(el, "init_result", initResult);
        }

        if (binding.resize) {
          var lastSize = getSize(el);
          var resizeHandler = function(e) {
            var size = getSize(el);
            if (size.w === 0 && size.h === 0)
              return;
            if (size.w === lastSize.w && size.h === lastSize.h)
              return;
            lastSize = size;
            binding.resize(el, size.w, size.h, initResult);
          };

          on(window, "resize", resizeHandler);

          // This is needed for cases where we're running in a Shiny
          // app, but the widget itself is not a Shiny output, but
          // rather a simple static widget. One example of this is
          // an rmarkdown document that has runtime:shiny and widget
          // that isn't in a render function. Shiny only knows to
          // call resize handlers for Shiny outputs, not for static
          // widgets, so we do it ourselves.
          if (window.jQuery) {
            window.jQuery(document).on(
              "shown.htmlwidgets shown.bs.tab.htmlwidgets shown.bs.collapse.htmlwidgets",
              resizeHandler
            );
            window.jQuery(document).on(
              "hidden.htmlwidgets hidden.bs.tab.htmlwidgets hidden.bs.collapse.htmlwidgets",
              resizeHandler
            );
          }

          // This is needed for the specific case of ioslides, which
          // flips slides between display:none and display:block.
          // Ideally we would not have to have ioslide-specific code
          // here, but rather have ioslides raise a generic event,
          // but the rmarkdown package just went to CRAN so the
          // window to getting that fixed may be long.
          if (window.addEventListener) {
            // It's OK to limit this to window.addEventListener
            // browsers because ioslides itself only supports
            // such browsers.
            on(document, "slideenter", resizeHandler);
            on(document, "slideleave", resizeHandler);
          }
        }

        var scriptData = document.querySelector("script[data-for='" + el.id + "'][type='application/json']");
        if (scriptData) {
          var data = JSON.parse(scriptData.textContent || scriptData.text);
          // Resolve strings marked as javascript literals to objects
          if (!(data.evals instanceof Array)) data.evals = [data.evals];
          for (var k = 0; data.evals && k < data.evals.length; k++) {
            window.HTMLWidgets.evaluateStringMember(data.x, data.evals[k]);
          }
          binding.renderValue(el, data.x, initResult);
          evalAndRun(data.jsHooks.render, initResult, [el, data.x]);
        }
      });
    });

    invokePostRenderHandlers();
  }


  function has_jQuery3() {
    if (!window.jQuery) {
      return false;
    }
    var $version = window.jQuery.fn.jquery;
    var $major_version = parseInt($version.split(".")[0]);
    return $major_version >= 3;
  }

  /*
  / Shiny 1.4 bumped jQuery from 1.x to 3.x which means jQuery's
  / on-ready handler (i.e., $(fn)) is now asyncronous (i.e., it now
  / really means $(setTimeout(fn)).
  / https://jquery.com/upgrade-guide/3.0/#breaking-change-document-ready-handlers-are-now-asynchronous
  /
  / Since Shiny uses $() to schedule initShiny, shiny>=1.4 calls initShiny
  / one tick later than it did before, which means staticRender() is
  / called renderValue() earlier than (advanced) widget authors might be expecting.
  / https://github.com/rstudio/shiny/issues/2630
  /
  / For a concrete example, leaflet has some methods (e.g., updateBounds)
  / which reference Shiny methods registered in initShiny (e.g., setInputValue).
  / Since leaflet is privy to this life-cycle, it knows to use setTimeout() to
  / delay execution of those methods (until Shiny methods are ready)
  / https://github.com/rstudio/leaflet/blob/18ec981/javascript/src/index.js#L266-L268
  /
  / Ideally widget authors wouldn't need to use this setTimeout() hack that
  / leaflet uses to call Shiny methods on a staticRender(). In the long run,
  / the logic initShiny should be broken up so that method registration happens
  / right away, but binding happens later.
  */
  function maybeStaticRenderLater() {
    if (shinyMode && has_jQuery3()) {
      window.jQuery(window.HTMLWidgets.staticRender);
    } else {
      window.HTMLWidgets.staticRender();
    }
  }

  if (document.addEventListener) {
    document.addEventListener("DOMContentLoaded", function() {
      document.removeEventListener("DOMContentLoaded", arguments.callee, false);
      maybeStaticRenderLater();
    }, false);
  } else if (document.attachEvent) {
    document.attachEvent("onreadystatechange", function() {
      if (document.readyState === "complete") {
        document.detachEvent("onreadystatechange", arguments.callee);
        maybeStaticRenderLater();
      }
    });
  }


  window.HTMLWidgets.getAttachmentUrl = function(depname, key) {
    // If no key, default to the first item
    if (typeof(key) === "undefined")
      key = 1;

    var link = document.getElementById(depname + "-" + key + "-attachment");
    if (!link) {
      throw new Error("Attachment " + depname + "/" + key + " not found in document");
    }
    return link.getAttribute("href");
  };

  window.HTMLWidgets.dataframeToD3 = function(df) {
    var names = [];
    var length;
    for (var name in df) {
        if (df.hasOwnProperty(name))
            names.push(name);
        if (typeof(df[name]) !== "object" || typeof(df[name].length) === "undefined") {
            throw new Error("All fields must be arrays");
        } else if (typeof(length) !== "undefined" && length !== df[name].length) {
            throw new Error("All fields must be arrays of the same length");
        }
        length = df[name].length;
    }
    var results = [];
    var item;
    for (var row = 0; row < length; row++) {
        item = {};
        for (var col = 0; col < names.length; col++) {
            item[names[col]] = df[names[col]][row];
        }
        results.push(item);
    }
    return results;
  };

  window.HTMLWidgets.transposeArray2D = function(array) {
      if (array.length === 0) return array;
      var newArray = array[0].map(function(col, i) {
          return array.map(function(row) {
              return row[i]
          })
      });
      return newArray;
  };
  // Split value at splitChar, but allow splitChar to be escaped
  // using escapeChar. Any other characters escaped by escapeChar
  // will be included as usual (including escapeChar itself).
  function splitWithEscape(value, splitChar, escapeChar) {
    var results = [];
    var escapeMode = false;
    var currentResult = "";
    for (var pos = 0; pos < value.length; pos++) {
      if (!escapeMode) {
        if (value[pos] === splitChar) {
          results.push(currentResult);
          currentResult = "";
        } else if (value[pos] === escapeChar) {
          escapeMode = true;
        } else {
          currentResult += value[pos];
        }
      } else {
        currentResult += value[pos];
        escapeMode = false;
      }
    }
    if (currentResult !== "") {
      results.push(currentResult);
    }
    return results;
  }
  // Function authored by Yihui/JJ Allaire
  window.HTMLWidgets.evaluateStringMember = function(o, member) {
    var parts = splitWithEscape(member, '.', '\\');
    for (var i = 0, l = parts.length; i < l; i++) {
      var part = parts[i];
      // part may be a character or 'numeric' member name
      if (o !== null && typeof o === "object" && part in o) {
        if (i == (l - 1)) { // if we are at the end of the line then evalulate
          if (typeof o[part] === "string")
            o[part] = tryEval(o[part]);
        } else { // otherwise continue to next embedded object
          o = o[part];
        }
      }
    }
  };

  // Retrieve the HTMLWidget instance (i.e. the return value of an
  // HTMLWidget binding's initialize() or factory() function)
  // associated with an element, or null if none.
  window.HTMLWidgets.getInstance = function(el) {
    return elementData(el, "init_result");
  };

  // Finds the first element in the scope that matches the selector,
  // and returns the HTMLWidget instance (i.e. the return value of
  // an HTMLWidget binding's initialize() or factory() function)
  // associated with that element, if any. If no element matches the
  // selector, or the first matching element has no HTMLWidget
  // instance associated with it, then null is returned.
  //
  // The scope argument is optional, and defaults to window.document.
  window.HTMLWidgets.find = function(scope, selector) {
    if (arguments.length == 1) {
      selector = scope;
      scope = document;
    }

    var el = scope.querySelector(selector);
    if (el === null) {
      return null;
    } else {
      return window.HTMLWidgets.getInstance(el);
    }
  };

  // Finds all elements in the scope that match the selector, and
  // returns the HTMLWidget instances (i.e. the return values of
  // an HTMLWidget binding's initialize() or factory() function)
  // associated with the elements, in an array. If elements that
  // match the selector don't have an associated HTMLWidget
  // instance, the returned array will contain nulls.
  //
  // The scope argument is optional, and defaults to window.document.
  window.HTMLWidgets.findAll = function(scope, selector) {
    if (arguments.length == 1) {
      selector = scope;
      scope = document;
    }

    var nodes = scope.querySelectorAll(selector);
    var results = [];
    for (var i = 0; i < nodes.length; i++) {
      results.push(window.HTMLWidgets.getInstance(nodes[i]));
    }
    return results;
  };

  var postRenderHandlers = [];
  function invokePostRenderHandlers() {
    while (postRenderHandlers.length) {
      var handler = postRenderHandlers.shift();
      if (handler) {
        handler();
      }
    }
  }

  // Register the given callback function to be invoked after the
  // next time static widgets are rendered.
  window.HTMLWidgets.addPostRenderHandler = function(callback) {
    postRenderHandlers.push(callback);
  };

  // Takes a new-style instance-bound definition, and returns an
  // old-style class-bound definition. This saves us from having
  // to rewrite all the logic in this file to accomodate both
  // types of definitions.
  function createLegacyDefinitionAdapter(defn) {
    var result = {
      name: defn.name,
      type: defn.type,
      initialize: function(el, width, height) {
        return defn.factory(el, width, height);
      },
      renderValue: function(el, x, instance) {
        return instance.renderValue(x);
      },
      resize: function(el, width, height, instance) {
        return instance.resize(width, height);
      }
    };

    if (defn.find)
      result.find = defn.find;
    if (defn.renderError)
      result.renderError = defn.renderError;
    if (defn.clearError)
      result.clearError = defn.clearError;

    return result;
  }
})();
</script>
<style type="text/css">.maplibregl-map{font:12px/20px Helvetica Neue,Arial,Helvetica,sans-serif;overflow:hidden;position:relative;-webkit-tap-highlight-color:rgb(0 0 0/0)}.maplibregl-canvas{left:0;position:absolute;top:0}.maplibregl-map:fullscreen{height:100%;width:100%}.maplibregl-ctrl-group button.maplibregl-ctrl-compass{touch-action:none}.maplibregl-canvas-container.maplibregl-interactive,.maplibregl-ctrl-group button.maplibregl-ctrl-compass{cursor:grab;-webkit-user-select:none;-moz-user-select:none;user-select:none}.maplibregl-canvas-container.maplibregl-interactive.maplibregl-track-pointer{cursor:pointer}.maplibregl-canvas-container.maplibregl-interactive:active,.maplibregl-ctrl-group button.maplibregl-ctrl-compass:active{cursor:grabbing}.maplibregl-canvas-container.maplibregl-touch-zoom-rotate,.maplibregl-canvas-container.maplibregl-touch-zoom-rotate .maplibregl-canvas{touch-action:pan-x pan-y}.maplibregl-canvas-container.maplibregl-touch-drag-pan,.maplibregl-canvas-container.maplibregl-touch-drag-pan .maplibregl-canvas{touch-action:pinch-zoom}.maplibregl-canvas-container.maplibregl-touch-zoom-rotate.maplibregl-touch-drag-pan,.maplibregl-canvas-container.maplibregl-touch-zoom-rotate.maplibregl-touch-drag-pan .maplibregl-canvas{touch-action:none}.maplibregl-canvas-container.maplibregl-touch-drag-pan.maplibregl-cooperative-gestures,.maplibregl-canvas-container.maplibregl-touch-drag-pan.maplibregl-cooperative-gestures .maplibregl-canvas{touch-action:pan-x pan-y}.maplibregl-ctrl-bottom-left,.maplibregl-ctrl-bottom-right,.maplibregl-ctrl-top-left,.maplibregl-ctrl-top-right{pointer-events:none;position:absolute;z-index:2}.maplibregl-ctrl-top-left{left:0;top:0}.maplibregl-ctrl-top-right{right:0;top:0}.maplibregl-ctrl-bottom-left{bottom:0;left:0}.maplibregl-ctrl-bottom-right{bottom:0;right:0}.maplibregl-ctrl{clear:both;pointer-events:auto;transform:translate(0)}.maplibregl-ctrl-top-left .maplibregl-ctrl{float:left;margin:10px 0 0 10px}.maplibregl-ctrl-top-right .maplibregl-ctrl{float:right;margin:10px 10px 0 0}.maplibregl-ctrl-bottom-left .maplibregl-ctrl{float:left;margin:0 0 10px 10px}.maplibregl-ctrl-bottom-right .maplibregl-ctrl{float:right;margin:0 10px 10px 0}.maplibregl-ctrl-group{background:#fff;border-radius:4px}.maplibregl-ctrl-group:not(:empty){box-shadow:0 0 0 2px rgba(0,0,0,.1)}@media (forced-colors:active){.maplibregl-ctrl-group:not(:empty){box-shadow:0 0 0 2px ButtonText}}.maplibregl-ctrl-group button{background-color:transparent;border:0;box-sizing:border-box;cursor:pointer;display:block;height:29px;outline:none;padding:0;width:29px}.maplibregl-ctrl-group button+button{border-top:1px solid #ddd}.maplibregl-ctrl button .maplibregl-ctrl-icon{background-position:50%;background-repeat:no-repeat;display:block;height:100%;width:100%}@media (forced-colors:active){.maplibregl-ctrl-icon{background-color:transparent}.maplibregl-ctrl-group button+button{border-top:1px solid ButtonText}}.maplibregl-ctrl button::-moz-focus-inner{border:0;padding:0}.maplibregl-ctrl-attrib-button:focus,.maplibregl-ctrl-group button:focus{box-shadow:0 0 2px 2px #0096ff}.maplibregl-ctrl button:disabled{cursor:not-allowed}.maplibregl-ctrl button:disabled .maplibregl-ctrl-icon{opacity:.25}@media (hover:hover){.maplibregl-ctrl button:not(:disabled):hover{background-color:rgb(0 0 0/5%)}}.maplibregl-ctrl button:not(:disabled):active{background-color:rgb(0 0 0/5%)}.maplibregl-ctrl-group button:focus:focus-visible{box-shadow:0 0 2px 2px #0096ff}.maplibregl-ctrl-group button:focus:not(:focus-visible){box-shadow:none}.maplibregl-ctrl-group button:focus:first-child{border-radius:4px 4px 0 0}.maplibregl-ctrl-group button:focus:last-child{border-radius:0 0 4px 4px}.maplibregl-ctrl-group button:focus:only-child{border-radius:inherit}.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5'/%3E%3C/svg%3E")}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5'/%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5'/%3E%3C/svg%3E")}}.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1z'/%3E%3C/svg%3E")}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1z'/%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1z'/%3E%3C/svg%3E")}}.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='m10.5 14 4-8 4 8z'/%3E%3Cpath fill='%23ccc' d='m10.5 16 4 8 4-8z'/%3E%3C/svg%3E")}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='m10.5 14 4-8 4 8z'/%3E%3Cpath fill='%23ccc' d='m10.5 16 4 8 4-8z'/%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='m10.5 14 4-8 4 8z'/%3E%3Cpath fill='%23ccc' d='m10.5 16 4 8 4-8z'/%3E%3C/svg%3E")}}.maplibregl-ctrl button.maplibregl-ctrl-globe .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='22' height='22' fill='none' stroke='%23333' viewBox='0 0 22 22'%3E%3Ccircle cx='11' cy='11' r='8.5'/%3E%3Cpath d='M17.5 11c0 4.819-3.02 8.5-6.5 8.5S4.5 15.819 4.5 11 7.52 2.5 11 2.5s6.5 3.681 6.5 8.5Z'/%3E%3Cpath d='M13.5 11c0 2.447-.331 4.64-.853 6.206-.262.785-.562 1.384-.872 1.777-.314.399-.58.517-.775.517s-.461-.118-.775-.517c-.31-.393-.61-.992-.872-1.777C8.831 15.64 8.5 13.446 8.5 11s.331-4.64.853-6.206c.262-.785.562-1.384.872-1.777.314-.399.58-.517.775-.517s.461.118.775.517c.31.393.61.992.872 1.777.522 1.565.853 3.76.853 6.206Z'/%3E%3Cpath d='M11 7.5c-1.909 0-3.622-.166-4.845-.428-.616-.132-1.08-.283-1.379-.434a1.3 1.3 0 0 1-.224-.138q.07-.058.224-.138c.299-.151.763-.302 1.379-.434C7.378 5.666 9.091 5.5 11 5.5s3.622.166 4.845.428c.616.132 1.08.283 1.379.434.105.053.177.1.224.138q-.07.058-.224.138c-.299.151-.763.302-1.379.434-1.223.262-2.936.428-4.845.428ZM4.486 6.436ZM11 16.5c-1.909 0-3.622-.166-4.845-.428-.616-.132-1.08-.283-1.379-.434a1.3 1.3 0 0 1-.224-.138 1.3 1.3 0 0 1 .224-.138c.299-.151.763-.302 1.379-.434C7.378 14.666 9.091 14.5 11 14.5s3.622.166 4.845.428c.616.132 1.08.283 1.379.434.105.053.177.1.224.138a1.3 1.3 0 0 1-.224.138c-.299.151-.763.302-1.379.434-1.223.262-2.936.428-4.845.428Zm-6.514-1.064ZM11 12.5c-2.46 0-4.672-.222-6.255-.574-.796-.177-1.406-.38-1.805-.59a1.5 1.5 0 0 1-.39-.272.3.3 0 0 1-.047-.064.3.3 0 0 1 .048-.064c.066-.073.189-.167.389-.272.399-.21 1.009-.413 1.805-.59C6.328 9.722 8.54 9.5 11 9.5s4.672.222 6.256.574c.795.177 1.405.38 1.804.59.2.105.323.2.39.272a.3.3 0 0 1 .047.064.3.3 0 0 1-.048.064 1.4 1.4 0 0 1-.389.272c-.399.21-1.009.413-1.804.59-1.584.352-3.796.574-6.256.574Zm-8.501-1.51v.002zm0 .018v.002zm17.002.002v-.002zm0-.018v-.002z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-globe-enabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='22' height='22' fill='none' stroke='%2333b5e5' viewBox='0 0 22 22'%3E%3Ccircle cx='11' cy='11' r='8.5'/%3E%3Cpath d='M17.5 11c0 4.819-3.02 8.5-6.5 8.5S4.5 15.819 4.5 11 7.52 2.5 11 2.5s6.5 3.681 6.5 8.5Z'/%3E%3Cpath d='M13.5 11c0 2.447-.331 4.64-.853 6.206-.262.785-.562 1.384-.872 1.777-.314.399-.58.517-.775.517s-.461-.118-.775-.517c-.31-.393-.61-.992-.872-1.777C8.831 15.64 8.5 13.446 8.5 11s.331-4.64.853-6.206c.262-.785.562-1.384.872-1.777.314-.399.58-.517.775-.517s.461.118.775.517c.31.393.61.992.872 1.777.522 1.565.853 3.76.853 6.206Z'/%3E%3Cpath d='M11 7.5c-1.909 0-3.622-.166-4.845-.428-.616-.132-1.08-.283-1.379-.434a1.3 1.3 0 0 1-.224-.138q.07-.058.224-.138c.299-.151.763-.302 1.379-.434C7.378 5.666 9.091 5.5 11 5.5s3.622.166 4.845.428c.616.132 1.08.283 1.379.434.105.053.177.1.224.138q-.07.058-.224.138c-.299.151-.763.302-1.379.434-1.223.262-2.936.428-4.845.428ZM4.486 6.436ZM11 16.5c-1.909 0-3.622-.166-4.845-.428-.616-.132-1.08-.283-1.379-.434a1.3 1.3 0 0 1-.224-.138 1.3 1.3 0 0 1 .224-.138c.299-.151.763-.302 1.379-.434C7.378 14.666 9.091 14.5 11 14.5s3.622.166 4.845.428c.616.132 1.08.283 1.379.434.105.053.177.1.224.138a1.3 1.3 0 0 1-.224.138c-.299.151-.763.302-1.379.434-1.223.262-2.936.428-4.845.428Zm-6.514-1.064ZM11 12.5c-2.46 0-4.672-.222-6.255-.574-.796-.177-1.406-.38-1.805-.59a1.5 1.5 0 0 1-.39-.272.3.3 0 0 1-.047-.064.3.3 0 0 1 .048-.064c.066-.073.189-.167.389-.272.399-.21 1.009-.413 1.805-.59C6.328 9.722 8.54 9.5 11 9.5s4.672.222 6.256.574c.795.177 1.405.38 1.804.59.2.105.323.2.39.272a.3.3 0 0 1 .047.064.3.3 0 0 1-.048.064 1.4 1.4 0 0 1-.389.272c-.399.21-1.009.413-1.804.59-1.584.352-3.796.574-6.256.574Zm-8.501-1.51v.002zm0 .018v.002zm17.002.002v-.002zm0-.018v-.002z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-terrain .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='22' height='22' fill='%23333' viewBox='0 0 22 22'%3E%3Cpath d='m1.754 13.406 4.453-4.851 3.09 3.09 3.281 3.277.969-.969-3.309-3.312 3.844-4.121 6.148 6.886h1.082v-.855l-7.207-8.07-4.84 5.187L6.169 6.57l-5.48 5.965v.871ZM.688 16.844h20.625v1.375H.688Zm0 0'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-terrain-enabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='22' height='22' fill='%2333b5e5' viewBox='0 0 22 22'%3E%3Cpath d='m1.754 13.406 4.453-4.851 3.09 3.09 3.281 3.277.969-.969-3.309-3.312 3.844-4.121 6.148 6.886h1.082v-.855l-7.207-8.07-4.84 5.187L6.169 6.57l-5.48 5.965v.871ZM.688 16.844h20.625v1.375H.688Zm0 0'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23aaa' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath fill='red' d='m14 5 1 1-9 9-1-1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active-error .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e58978' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background-error .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e54e33' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-waiting .maplibregl-ctrl-icon{animation:maplibregl-spin 2s linear infinite}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23999' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath fill='red' d='m14 5 1 1-9 9-1-1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active-error .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e58978' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background-error .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e54e33' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23666' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath fill='red' d='m14 5 1 1-9 9-1-1z'/%3E%3C/svg%3E")}}@keyframes maplibregl-spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}a.maplibregl-ctrl-logo{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='88' height='23' fill='none'%3E%3Cpath fill='%23000' fill-opacity='.4' fill-rule='evenodd' d='M17.408 16.796h-1.827l2.501-12.095h.198l3.324 6.533.988 2.19.988-2.19 3.258-6.533h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.929 5.644h-.098l-2.914-5.644-.757-1.71-.345 1.71zm1.958-3.42-.726 3.663a1.255 1.255 0 0 1-1.232 1.011h-1.827a1.255 1.255 0 0 1-1.229-1.509l2.501-12.095a1.255 1.255 0 0 1 1.23-1.001h.197a1.25 1.25 0 0 1 1.12.685l3.19 6.273 3.125-6.263a1.25 1.25 0 0 1 1.123-.695h.181a1.255 1.255 0 0 1 1.227.991l1.443 6.71a5 5 0 0 1 .314-.787l.009-.016a4.6 4.6 0 0 1 1.777-1.887c.782-.46 1.668-.667 2.611-.667a4.6 4.6 0 0 1 1.7.32l.306.134c.21-.16.474-.256.759-.256h1.694a1.255 1.255 0 0 1 1.212.925 1.255 1.255 0 0 1 1.212-.925h1.711c.284 0 .545.094.755.252.613-.3 1.312-.45 2.075-.45 1.356 0 2.557.445 3.482 1.4q.47.48.763 1.064V4.701a1.255 1.255 0 0 1 1.255-1.255h1.86A1.255 1.255 0 0 1 54.44 4.7v9.194h2.217c.19 0 .37.043.532.118v-4.77c0-.356.147-.678.385-.906a2.42 2.42 0 0 1-.682-1.71c0-.665.267-1.253.735-1.7a2.45 2.45 0 0 1 1.722-.674 2.43 2.43 0 0 1 1.705.675q.318.302.504.683V4.7a1.255 1.255 0 0 1 1.255-1.255h1.744A1.255 1.255 0 0 1 65.812 4.7v3.335a4.8 4.8 0 0 1 1.526-.246c.938 0 1.817.214 2.59.69a4.47 4.47 0 0 1 1.67 1.743v-.98a1.255 1.255 0 0 1 1.256-1.256h1.777c.233 0 .451.064.639.174a3.4 3.4 0 0 1 1.567-.372c.346 0 .861.02 1.285.232a1.25 1.25 0 0 1 .689 1.004 4.7 4.7 0 0 1 .853-.588c.795-.44 1.675-.647 2.61-.647 1.385 0 2.65.39 3.525 1.396.836.938 1.168 2.173 1.168 3.528q-.001.515-.056 1.051a1.255 1.255 0 0 1-.947 1.09l.408.952a1.255 1.255 0 0 1-.477 1.552c-.418.268-.92.463-1.458.612-.613.171-1.304.244-2.049.244-1.06 0-2.043-.207-2.886-.698l-.015-.008c-.798-.48-1.419-1.135-1.818-1.963l-.004-.008a5.8 5.8 0 0 1-.548-2.512q0-.429.053-.843a1.3 1.3 0 0 1-.333-.086l-.166-.004c-.223 0-.426.062-.643.228-.03.024-.142.139-.142.59v3.883a1.255 1.255 0 0 1-1.256 1.256h-1.777a1.255 1.255 0 0 1-1.256-1.256V15.69l-.032.057a4.8 4.8 0 0 1-1.86 1.833 5.04 5.04 0 0 1-2.484.634 4.5 4.5 0 0 1-1.935-.424 1.25 1.25 0 0 1-.764.258h-1.71a1.255 1.255 0 0 1-1.256-1.255V7.687a2.4 2.4 0 0 1-.428.625c.253.23.412.561.412.93v7.553a1.255 1.255 0 0 1-1.256 1.255h-1.843a1.25 1.25 0 0 1-.894-.373c-.228.23-.544.373-.894.373H51.32a1.255 1.255 0 0 1-1.256-1.255v-1.251l-.061.117a4.7 4.7 0 0 1-1.782 1.884 4.77 4.77 0 0 1-2.485.67 5.6 5.6 0 0 1-1.485-.188l.009 2.764a1.255 1.255 0 0 1-1.255 1.259h-1.729a1.255 1.255 0 0 1-1.255-1.255v-3.537a1.255 1.255 0 0 1-1.167.793h-1.679a1.25 1.25 0 0 1-.77-.263 4.5 4.5 0 0 1-1.945.429c-.885 0-1.724-.21-2.495-.632l-.017-.01a5 5 0 0 1-1.081-.836 1.255 1.255 0 0 1-1.254 1.312h-1.81a1.255 1.255 0 0 1-1.228-.99l-.782-3.625-2.044 3.939a1.25 1.25 0 0 1-1.115.676h-.098a1.25 1.25 0 0 1-1.116-.68l-2.061-3.994zM35.92 16.63l.207-.114.223-.15q.493-.356.735-.785l.061-.118.033 1.332h1.678V9.242h-1.694l-.033 1.267q-.133-.329-.526-.658l-.032-.028a3.2 3.2 0 0 0-.668-.428l-.27-.12a3.3 3.3 0 0 0-1.235-.23q-1.136-.001-1.974.493a3.36 3.36 0 0 0-1.3 1.382q-.445.89-.444 2.074 0 1.2.51 2.107a3.8 3.8 0 0 0 1.382 1.381 3.9 3.9 0 0 0 1.893.477q.795 0 1.455-.33zm-2.789-5.38q-.576.675-.575 1.762 0 1.102.559 1.794.576.675 1.645.675a2.25 2.25 0 0 0 .934-.19 2.2 2.2 0 0 0 .468-.29l.178-.161a2.2 2.2 0 0 0 .397-.561q.244-.5.244-1.15v-.115q0-.708-.296-1.267l-.043-.077a2.2 2.2 0 0 0-.633-.709l-.13-.086-.047-.028a2.1 2.1 0 0 0-1.073-.285q-1.052 0-1.629.692zm2.316 2.706c.163-.17.28-.407.28-.83v-.114c0-.292-.06-.508-.15-.68a.96.96 0 0 0-.353-.389.85.85 0 0 0-.464-.127c-.4 0-.56.114-.664.239l-.01.012c-.148.174-.275.45-.275.945 0 .506.122.801.27.99.097.11.266.224.68.224.303 0 .504-.09.687-.269zm7.545 1.705a2.6 2.6 0 0 0 .331.423q.319.33.755.548l.173.074q.65.255 1.49.255 1.02 0 1.844-.493a3.45 3.45 0 0 0 1.316-1.4q.493-.904.493-2.089 0-1.909-.988-2.913-.988-1.02-2.584-1.02-.898 0-1.575.347a3 3 0 0 0-.415.262l-.199.166a3.4 3.4 0 0 0-.64.82V9.242h-1.712v11.553h1.729l-.017-5.134zm.53-1.138q.206.29.48.5l.155.11.053.034q.51.296 1.119.297 1.07 0 1.645-.675.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.435 0-.835.16a2 2 0 0 0-.284.136 2 2 0 0 0-.363.254 2.2 2.2 0 0 0-.46.569l-.082.162a2.6 2.6 0 0 0-.213 1.072v.115q0 .707.296 1.267l.135.211zm.964-.818a1.1 1.1 0 0 0 .367.385.94.94 0 0 0 .476.118c.423 0 .59-.117.687-.23.159-.194.28-.478.28-.95 0-.53-.133-.8-.266-.952l-.021-.025c-.078-.094-.231-.221-.68-.221a1 1 0 0 0-.503.135l-.012.007a.86.86 0 0 0-.335.343c-.073.133-.132.324-.132.614v.115a1.4 1.4 0 0 0 .14.66zm15.7-6.222q.347-.346.346-.856a1.05 1.05 0 0 0-.345-.79 1.18 1.18 0 0 0-.84-.329q-.51 0-.855.33a1.05 1.05 0 0 0-.346.79q0 .51.346.855.345.346.856.346.51 0 .839-.346zm4.337 9.314.033-1.332q.191.403.59.747l.098.081a4 4 0 0 0 .316.224l.223.122a3.2 3.2 0 0 0 1.44.322 3.8 3.8 0 0 0 1.875-.477 3.5 3.5 0 0 0 1.382-1.366q.527-.89.526-2.09 0-1.184-.444-2.073a3.24 3.24 0 0 0-1.283-1.399q-.823-.51-1.942-.51a3.5 3.5 0 0 0-1.527.344l-.086.043-.165.09a3 3 0 0 0-.33.214q-.432.315-.656.707a2 2 0 0 0-.099.198l.082-1.283V4.701h-1.744v12.095zm.473-2.509a2.5 2.5 0 0 0 .566.7q.117.098.245.18l.144.08a2.1 2.1 0 0 0 .975.232q1.07 0 1.645-.675.576-.69.576-1.778 0-1.102-.576-1.777-.56-.691-1.645-.692a2.2 2.2 0 0 0-1.015.235q-.22.113-.415.282l-.15.142a2.1 2.1 0 0 0-.42.594q-.223.479-.223 1.1v.115q0 .705.293 1.26zm2.616-.293c.157-.191.28-.479.28-.967 0-.51-.13-.79-.276-.961l-.021-.026c-.082-.1-.232-.225-.67-.225a.87.87 0 0 0-.681.279l-.012.011c-.154.155-.274.38-.274.807v.115c0 .285.057.499.144.669a1.1 1.1 0 0 0 .367.405c.137.082.28.123.455.123.423 0 .59-.118.686-.23zm8.266-3.013q.345-.13.724-.14l.069-.002q.493 0 .642.099l.247-1.794q-.196-.099-.717-.099a2.3 2.3 0 0 0-.545.063 2 2 0 0 0-.411.148 2.2 2.2 0 0 0-.4.249 2.5 2.5 0 0 0-.485.499 2.7 2.7 0 0 0-.32.581l-.05.137v-1.48h-1.778v7.553h1.777v-3.884q0-.546.159-.943a1.5 1.5 0 0 1 .466-.636 2.5 2.5 0 0 1 .399-.253 2 2 0 0 1 .224-.099zm9.784 2.656.05-.922q0-1.743-.856-2.698-.838-.97-2.584-.97-1.119-.001-2.007.493a3.46 3.46 0 0 0-1.4 1.382q-.493.906-.493 2.106 0 1.07.428 1.975.428.89 1.332 1.432.906.526 2.255.526.973 0 1.668-.185l.044-.012.135-.04q.613-.184.984-.421l-.542-1.267q-.3.162-.642.274l-.297.087q-.51.131-1.3.131-.954 0-1.497-.444a1.6 1.6 0 0 1-.192-.193q-.366-.44-.512-1.234l-.004-.021zm-5.427-1.256-.003.022h3.752v-.138q-.011-.727-.288-1.118a1 1 0 0 0-.156-.176q-.46-.428-1.316-.428-.986 0-1.494.604-.379.45-.494 1.234zm-27.053 2.77V4.7h-1.86v12.095h5.333V15.15zm7.103-5.908v7.553h-1.843V9.242h1.843z'/%3E%3Cpath fill='%23fff' d='m19.63 11.151-.757-1.71-.345 1.71-1.12 5.644h-1.827L18.083 4.7h.197l3.325 6.533.988 2.19.988-2.19L26.839 4.7h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.93 5.644h-.098l-2.913-5.644zm14.836 5.81q-1.02 0-1.893-.478a3.8 3.8 0 0 1-1.381-1.382q-.51-.906-.51-2.106 0-1.185.444-2.074a3.36 3.36 0 0 1 1.3-1.382q.839-.494 1.974-.494a3.3 3.3 0 0 1 1.234.231 3.3 3.3 0 0 1 .97.575q.396.33.527.659l.033-1.267h1.694v7.553H37.18l-.033-1.332q-.279.593-1.02 1.053a3.17 3.17 0 0 1-1.662.444zm.296-1.482q.938 0 1.58-.642.642-.66.642-1.711v-.115q0-.708-.296-1.267a2.2 2.2 0 0 0-.807-.872 2.1 2.1 0 0 0-1.119-.313q-1.053 0-1.629.692-.575.675-.575 1.76 0 1.103.559 1.795.577.675 1.645.675zm6.521-6.237h1.711v1.4q.906-1.597 2.83-1.597 1.596 0 2.584 1.02.988 1.005.988 2.914 0 1.185-.493 2.09a3.46 3.46 0 0 1-1.316 1.399 3.5 3.5 0 0 1-1.844.493q-.954 0-1.662-.329a2.67 2.67 0 0 1-1.086-.97l.017 5.134h-1.728zm4.048 6.22q1.07 0 1.645-.674.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.592 0-1.12.296-.51.28-.822.823-.296.527-.296 1.234v.115q0 .708.296 1.267.313.543.823.855.51.296 1.119.297z'/%3E%3Cpath fill='%23e1e3e9' d='M51.325 4.7h1.86v10.45h3.473v1.646h-5.333zm7.12 4.542h1.843v7.553h-1.843zm.905-1.415a1.16 1.16 0 0 1-.856-.346 1.17 1.17 0 0 1-.346-.856 1.05 1.05 0 0 1 .346-.79q.346-.329.856-.329.494 0 .839.33a1.05 1.05 0 0 1 .345.79 1.16 1.16 0 0 1-.345.855q-.33.346-.84.346zm7.875 9.133a3.17 3.17 0 0 1-1.662-.444q-.723-.46-1.004-1.053l-.033 1.332h-1.71V4.701h1.743v4.657l-.082 1.283q.279-.658 1.086-1.119a3.5 3.5 0 0 1 1.778-.477q1.119 0 1.942.51a3.24 3.24 0 0 1 1.283 1.4q.445.888.444 2.072 0 1.201-.526 2.09a3.5 3.5 0 0 1-1.382 1.366 3.8 3.8 0 0 1-1.876.477zm-.296-1.481q1.069 0 1.645-.675.577-.69.577-1.778 0-1.102-.577-1.776-.56-.691-1.645-.692a2.12 2.12 0 0 0-1.58.659q-.642.641-.642 1.694v.115q0 .71.296 1.267a2.4 2.4 0 0 0 .807.872 2.1 2.1 0 0 0 1.119.313zm5.927-6.237h1.777v1.481q.263-.757.856-1.217a2.14 2.14 0 0 1 1.349-.46q.527 0 .724.098l-.247 1.794q-.149-.099-.642-.099-.774 0-1.416.494-.626.493-.626 1.58v3.883h-1.777V9.242zm9.534 7.718q-1.35 0-2.255-.526-.904-.543-1.332-1.432a4.6 4.6 0 0 1-.428-1.975q0-1.2.493-2.106a3.46 3.46 0 0 1 1.4-1.382q.889-.495 2.007-.494 1.744 0 2.584.97.855.956.856 2.7 0 .444-.05.92h-5.43q.18 1.005.708 1.45.542.443 1.497.443.79 0 1.3-.131a4 4 0 0 0 .938-.362l.542 1.267q-.411.263-1.119.46-.708.198-1.711.197zm1.596-4.558q.016-1.02-.444-1.432-.46-.428-1.316-.428-1.728 0-1.991 1.86z'/%3E%3Cpath d='M5.074 15.948a.484.657 0 0 0-.486.659v1.84a.484.657 0 0 0 .486.659h4.101a.484.657 0 0 0 .486-.659v-1.84a.484.657 0 0 0-.486-.659zm3.56 1.16H5.617v.838h3.017z' style='fill:%23fff;fill-rule:evenodd;stroke-width:1.03600001'/%3E%3Cg style='stroke-width:1.12603545'%3E%3Cpath d='M-9.408-1.416c-3.833-.025-7.056 2.912-7.08 6.615-.02 3.08 1.653 4.832 3.107 6.268.903.892 1.721 1.74 2.32 2.902l-.525-.004c-.543-.003-.992.304-1.24.639a1.87 1.87 0 0 0-.362 1.121l-.011 1.877c-.003.402.104.787.347 1.125.244.338.688.653 1.23.656l4.142.028c.542.003.99-.306 1.238-.641a1.87 1.87 0 0 0 .363-1.121l.012-1.875a1.87 1.87 0 0 0-.348-1.127c-.243-.338-.688-.653-1.23-.656l-.518-.004c.597-1.145 1.425-1.983 2.348-2.87 1.473-1.414 3.18-3.149 3.2-6.226-.016-3.59-2.923-6.684-6.993-6.707m-.006 1.1v.002c3.274.02 5.92 2.532 5.9 5.6-.017 2.706-1.39 4.026-2.863 5.44-1.034.994-2.118 2.033-2.814 3.633-.018.041-.052.055-.075.065q-.013.004-.02.01a.34.34 0 0 1-.226.084.34.34 0 0 1-.224-.086l-.092-.077c-.699-1.615-1.768-2.669-2.781-3.67-1.454-1.435-2.797-2.762-2.78-5.478.02-3.067 2.7-5.545 5.975-5.523m-.02 2.826c-1.62-.01-2.944 1.315-2.955 2.96-.01 1.646 1.295 2.988 2.916 2.999h.002c1.621.01 2.943-1.316 2.953-2.961.011-1.646-1.294-2.988-2.916-2.998m-.005 1.1c1.017.006 1.829.83 1.822 1.89s-.83 1.874-1.848 1.867c-1.018-.006-1.829-.83-1.822-1.89s.83-1.874 1.848-1.868m-2.155 11.857 4.14.025c.271.002.49.305.487.676l-.013 1.875c-.003.37-.224.67-.495.668l-4.14-.025c-.27-.002-.487-.306-.485-.676l.012-1.875c.003-.37.224-.67.494-.668' style='color:%23000;font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:%23000;letter-spacing:normal;word-spacing:normal;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:start;white-space:normal;shape-padding:0;clip-rule:evenodd;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000;solid-opacity:1;vector-effect:none;fill:%23000;fill-opacity:.4;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-9.415-.316C-12.69-.338-15.37 2.14-15.39 5.207c-.017 2.716 1.326 4.041 2.78 5.477 1.013 1 2.081 2.055 2.78 3.67l.092.076a.34.34 0 0 0 .225.086.34.34 0 0 0 .227-.083l.019-.01c.022-.009.057-.024.074-.064.697-1.6 1.78-2.64 2.814-3.634 1.473-1.414 2.847-2.733 2.864-5.44.02-3.067-2.627-5.58-5.901-5.601m-.057 8.784c1.621.011 2.944-1.315 2.955-2.96.01-1.646-1.295-2.988-2.916-2.999-1.622-.01-2.945 1.315-2.955 2.96s1.295 2.989 2.916 3' style='clip-rule:evenodd;fill:%23e1e3e9;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-11.594 15.465c-.27-.002-.492.297-.494.668l-.012 1.876c-.003.371.214.673.485.675l4.14.027c.271.002.492-.298.495-.668l.012-1.877c.003-.37-.215-.672-.485-.674z' style='clip-rule:evenodd;fill:%23fff;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3C/g%3E%3C/svg%3E");background-repeat:no-repeat;cursor:pointer;display:block;height:23px;margin:0 0 -4px -4px;overflow:hidden;width:88px}a.maplibregl-ctrl-logo.maplibregl-compact{width:14px}@media (forced-colors:active){a.maplibregl-ctrl-logo{background-color:transparent;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='88' height='23' fill='none'%3E%3Cpath fill='%23000' fill-opacity='.4' fill-rule='evenodd' d='M17.408 16.796h-1.827l2.501-12.095h.198l3.324 6.533.988 2.19.988-2.19 3.258-6.533h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.929 5.644h-.098l-2.914-5.644-.757-1.71-.345 1.71zm1.958-3.42-.726 3.663a1.255 1.255 0 0 1-1.232 1.011h-1.827a1.255 1.255 0 0 1-1.229-1.509l2.501-12.095a1.255 1.255 0 0 1 1.23-1.001h.197a1.25 1.25 0 0 1 1.12.685l3.19 6.273 3.125-6.263a1.25 1.25 0 0 1 1.123-.695h.181a1.255 1.255 0 0 1 1.227.991l1.443 6.71a5 5 0 0 1 .314-.787l.009-.016a4.6 4.6 0 0 1 1.777-1.887c.782-.46 1.668-.667 2.611-.667a4.6 4.6 0 0 1 1.7.32l.306.134c.21-.16.474-.256.759-.256h1.694a1.255 1.255 0 0 1 1.212.925 1.255 1.255 0 0 1 1.212-.925h1.711c.284 0 .545.094.755.252.613-.3 1.312-.45 2.075-.45 1.356 0 2.557.445 3.482 1.4q.47.48.763 1.064V4.701a1.255 1.255 0 0 1 1.255-1.255h1.86A1.255 1.255 0 0 1 54.44 4.7v9.194h2.217c.19 0 .37.043.532.118v-4.77c0-.356.147-.678.385-.906a2.42 2.42 0 0 1-.682-1.71c0-.665.267-1.253.735-1.7a2.45 2.45 0 0 1 1.722-.674 2.43 2.43 0 0 1 1.705.675q.318.302.504.683V4.7a1.255 1.255 0 0 1 1.255-1.255h1.744A1.255 1.255 0 0 1 65.812 4.7v3.335a4.8 4.8 0 0 1 1.526-.246c.938 0 1.817.214 2.59.69a4.47 4.47 0 0 1 1.67 1.743v-.98a1.255 1.255 0 0 1 1.256-1.256h1.777c.233 0 .451.064.639.174a3.4 3.4 0 0 1 1.567-.372c.346 0 .861.02 1.285.232a1.25 1.25 0 0 1 .689 1.004 4.7 4.7 0 0 1 .853-.588c.795-.44 1.675-.647 2.61-.647 1.385 0 2.65.39 3.525 1.396.836.938 1.168 2.173 1.168 3.528q-.001.515-.056 1.051a1.255 1.255 0 0 1-.947 1.09l.408.952a1.255 1.255 0 0 1-.477 1.552c-.418.268-.92.463-1.458.612-.613.171-1.304.244-2.049.244-1.06 0-2.043-.207-2.886-.698l-.015-.008c-.798-.48-1.419-1.135-1.818-1.963l-.004-.008a5.8 5.8 0 0 1-.548-2.512q0-.429.053-.843a1.3 1.3 0 0 1-.333-.086l-.166-.004c-.223 0-.426.062-.643.228-.03.024-.142.139-.142.59v3.883a1.255 1.255 0 0 1-1.256 1.256h-1.777a1.255 1.255 0 0 1-1.256-1.256V15.69l-.032.057a4.8 4.8 0 0 1-1.86 1.833 5.04 5.04 0 0 1-2.484.634 4.5 4.5 0 0 1-1.935-.424 1.25 1.25 0 0 1-.764.258h-1.71a1.255 1.255 0 0 1-1.256-1.255V7.687a2.4 2.4 0 0 1-.428.625c.253.23.412.561.412.93v7.553a1.255 1.255 0 0 1-1.256 1.255h-1.843a1.25 1.25 0 0 1-.894-.373c-.228.23-.544.373-.894.373H51.32a1.255 1.255 0 0 1-1.256-1.255v-1.251l-.061.117a4.7 4.7 0 0 1-1.782 1.884 4.77 4.77 0 0 1-2.485.67 5.6 5.6 0 0 1-1.485-.188l.009 2.764a1.255 1.255 0 0 1-1.255 1.259h-1.729a1.255 1.255 0 0 1-1.255-1.255v-3.537a1.255 1.255 0 0 1-1.167.793h-1.679a1.25 1.25 0 0 1-.77-.263 4.5 4.5 0 0 1-1.945.429c-.885 0-1.724-.21-2.495-.632l-.017-.01a5 5 0 0 1-1.081-.836 1.255 1.255 0 0 1-1.254 1.312h-1.81a1.255 1.255 0 0 1-1.228-.99l-.782-3.625-2.044 3.939a1.25 1.25 0 0 1-1.115.676h-.098a1.25 1.25 0 0 1-1.116-.68l-2.061-3.994zM35.92 16.63l.207-.114.223-.15q.493-.356.735-.785l.061-.118.033 1.332h1.678V9.242h-1.694l-.033 1.267q-.133-.329-.526-.658l-.032-.028a3.2 3.2 0 0 0-.668-.428l-.27-.12a3.3 3.3 0 0 0-1.235-.23q-1.136-.001-1.974.493a3.36 3.36 0 0 0-1.3 1.382q-.445.89-.444 2.074 0 1.2.51 2.107a3.8 3.8 0 0 0 1.382 1.381 3.9 3.9 0 0 0 1.893.477q.795 0 1.455-.33zm-2.789-5.38q-.576.675-.575 1.762 0 1.102.559 1.794.576.675 1.645.675a2.25 2.25 0 0 0 .934-.19 2.2 2.2 0 0 0 .468-.29l.178-.161a2.2 2.2 0 0 0 .397-.561q.244-.5.244-1.15v-.115q0-.708-.296-1.267l-.043-.077a2.2 2.2 0 0 0-.633-.709l-.13-.086-.047-.028a2.1 2.1 0 0 0-1.073-.285q-1.052 0-1.629.692zm2.316 2.706c.163-.17.28-.407.28-.83v-.114c0-.292-.06-.508-.15-.68a.96.96 0 0 0-.353-.389.85.85 0 0 0-.464-.127c-.4 0-.56.114-.664.239l-.01.012c-.148.174-.275.45-.275.945 0 .506.122.801.27.99.097.11.266.224.68.224.303 0 .504-.09.687-.269zm7.545 1.705a2.6 2.6 0 0 0 .331.423q.319.33.755.548l.173.074q.65.255 1.49.255 1.02 0 1.844-.493a3.45 3.45 0 0 0 1.316-1.4q.493-.904.493-2.089 0-1.909-.988-2.913-.988-1.02-2.584-1.02-.898 0-1.575.347a3 3 0 0 0-.415.262l-.199.166a3.4 3.4 0 0 0-.64.82V9.242h-1.712v11.553h1.729l-.017-5.134zm.53-1.138q.206.29.48.5l.155.11.053.034q.51.296 1.119.297 1.07 0 1.645-.675.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.435 0-.835.16a2 2 0 0 0-.284.136 2 2 0 0 0-.363.254 2.2 2.2 0 0 0-.46.569l-.082.162a2.6 2.6 0 0 0-.213 1.072v.115q0 .707.296 1.267l.135.211zm.964-.818a1.1 1.1 0 0 0 .367.385.94.94 0 0 0 .476.118c.423 0 .59-.117.687-.23.159-.194.28-.478.28-.95 0-.53-.133-.8-.266-.952l-.021-.025c-.078-.094-.231-.221-.68-.221a1 1 0 0 0-.503.135l-.012.007a.86.86 0 0 0-.335.343c-.073.133-.132.324-.132.614v.115a1.4 1.4 0 0 0 .14.66zm15.7-6.222q.347-.346.346-.856a1.05 1.05 0 0 0-.345-.79 1.18 1.18 0 0 0-.84-.329q-.51 0-.855.33a1.05 1.05 0 0 0-.346.79q0 .51.346.855.345.346.856.346.51 0 .839-.346zm4.337 9.314.033-1.332q.191.403.59.747l.098.081a4 4 0 0 0 .316.224l.223.122a3.2 3.2 0 0 0 1.44.322 3.8 3.8 0 0 0 1.875-.477 3.5 3.5 0 0 0 1.382-1.366q.527-.89.526-2.09 0-1.184-.444-2.073a3.24 3.24 0 0 0-1.283-1.399q-.823-.51-1.942-.51a3.5 3.5 0 0 0-1.527.344l-.086.043-.165.09a3 3 0 0 0-.33.214q-.432.315-.656.707a2 2 0 0 0-.099.198l.082-1.283V4.701h-1.744v12.095zm.473-2.509a2.5 2.5 0 0 0 .566.7q.117.098.245.18l.144.08a2.1 2.1 0 0 0 .975.232q1.07 0 1.645-.675.576-.69.576-1.778 0-1.102-.576-1.777-.56-.691-1.645-.692a2.2 2.2 0 0 0-1.015.235q-.22.113-.415.282l-.15.142a2.1 2.1 0 0 0-.42.594q-.223.479-.223 1.1v.115q0 .705.293 1.26zm2.616-.293c.157-.191.28-.479.28-.967 0-.51-.13-.79-.276-.961l-.021-.026c-.082-.1-.232-.225-.67-.225a.87.87 0 0 0-.681.279l-.012.011c-.154.155-.274.38-.274.807v.115c0 .285.057.499.144.669a1.1 1.1 0 0 0 .367.405c.137.082.28.123.455.123.423 0 .59-.118.686-.23zm8.266-3.013q.345-.13.724-.14l.069-.002q.493 0 .642.099l.247-1.794q-.196-.099-.717-.099a2.3 2.3 0 0 0-.545.063 2 2 0 0 0-.411.148 2.2 2.2 0 0 0-.4.249 2.5 2.5 0 0 0-.485.499 2.7 2.7 0 0 0-.32.581l-.05.137v-1.48h-1.778v7.553h1.777v-3.884q0-.546.159-.943a1.5 1.5 0 0 1 .466-.636 2.5 2.5 0 0 1 .399-.253 2 2 0 0 1 .224-.099zm9.784 2.656.05-.922q0-1.743-.856-2.698-.838-.97-2.584-.97-1.119-.001-2.007.493a3.46 3.46 0 0 0-1.4 1.382q-.493.906-.493 2.106 0 1.07.428 1.975.428.89 1.332 1.432.906.526 2.255.526.973 0 1.668-.185l.044-.012.135-.04q.613-.184.984-.421l-.542-1.267q-.3.162-.642.274l-.297.087q-.51.131-1.3.131-.954 0-1.497-.444a1.6 1.6 0 0 1-.192-.193q-.366-.44-.512-1.234l-.004-.021zm-5.427-1.256-.003.022h3.752v-.138q-.011-.727-.288-1.118a1 1 0 0 0-.156-.176q-.46-.428-1.316-.428-.986 0-1.494.604-.379.45-.494 1.234zm-27.053 2.77V4.7h-1.86v12.095h5.333V15.15zm7.103-5.908v7.553h-1.843V9.242h1.843z'/%3E%3Cpath fill='%23fff' d='m19.63 11.151-.757-1.71-.345 1.71-1.12 5.644h-1.827L18.083 4.7h.197l3.325 6.533.988 2.19.988-2.19L26.839 4.7h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.93 5.644h-.098l-2.913-5.644zm14.836 5.81q-1.02 0-1.893-.478a3.8 3.8 0 0 1-1.381-1.382q-.51-.906-.51-2.106 0-1.185.444-2.074a3.36 3.36 0 0 1 1.3-1.382q.839-.494 1.974-.494a3.3 3.3 0 0 1 1.234.231 3.3 3.3 0 0 1 .97.575q.396.33.527.659l.033-1.267h1.694v7.553H37.18l-.033-1.332q-.279.593-1.02 1.053a3.17 3.17 0 0 1-1.662.444zm.296-1.482q.938 0 1.58-.642.642-.66.642-1.711v-.115q0-.708-.296-1.267a2.2 2.2 0 0 0-.807-.872 2.1 2.1 0 0 0-1.119-.313q-1.053 0-1.629.692-.575.675-.575 1.76 0 1.103.559 1.795.577.675 1.645.675zm6.521-6.237h1.711v1.4q.906-1.597 2.83-1.597 1.596 0 2.584 1.02.988 1.005.988 2.914 0 1.185-.493 2.09a3.46 3.46 0 0 1-1.316 1.399 3.5 3.5 0 0 1-1.844.493q-.954 0-1.662-.329a2.67 2.67 0 0 1-1.086-.97l.017 5.134h-1.728zm4.048 6.22q1.07 0 1.645-.674.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.592 0-1.12.296-.51.28-.822.823-.296.527-.296 1.234v.115q0 .708.296 1.267.313.543.823.855.51.296 1.119.297z'/%3E%3Cpath fill='%23e1e3e9' d='M51.325 4.7h1.86v10.45h3.473v1.646h-5.333zm7.12 4.542h1.843v7.553h-1.843zm.905-1.415a1.16 1.16 0 0 1-.856-.346 1.17 1.17 0 0 1-.346-.856 1.05 1.05 0 0 1 .346-.79q.346-.329.856-.329.494 0 .839.33a1.05 1.05 0 0 1 .345.79 1.16 1.16 0 0 1-.345.855q-.33.346-.84.346zm7.875 9.133a3.17 3.17 0 0 1-1.662-.444q-.723-.46-1.004-1.053l-.033 1.332h-1.71V4.701h1.743v4.657l-.082 1.283q.279-.658 1.086-1.119a3.5 3.5 0 0 1 1.778-.477q1.119 0 1.942.51a3.24 3.24 0 0 1 1.283 1.4q.445.888.444 2.072 0 1.201-.526 2.09a3.5 3.5 0 0 1-1.382 1.366 3.8 3.8 0 0 1-1.876.477zm-.296-1.481q1.069 0 1.645-.675.577-.69.577-1.778 0-1.102-.577-1.776-.56-.691-1.645-.692a2.12 2.12 0 0 0-1.58.659q-.642.641-.642 1.694v.115q0 .71.296 1.267a2.4 2.4 0 0 0 .807.872 2.1 2.1 0 0 0 1.119.313zm5.927-6.237h1.777v1.481q.263-.757.856-1.217a2.14 2.14 0 0 1 1.349-.46q.527 0 .724.098l-.247 1.794q-.149-.099-.642-.099-.774 0-1.416.494-.626.493-.626 1.58v3.883h-1.777V9.242zm9.534 7.718q-1.35 0-2.255-.526-.904-.543-1.332-1.432a4.6 4.6 0 0 1-.428-1.975q0-1.2.493-2.106a3.46 3.46 0 0 1 1.4-1.382q.889-.495 2.007-.494 1.744 0 2.584.97.855.956.856 2.7 0 .444-.05.92h-5.43q.18 1.005.708 1.45.542.443 1.497.443.79 0 1.3-.131a4 4 0 0 0 .938-.362l.542 1.267q-.411.263-1.119.46-.708.198-1.711.197zm1.596-4.558q.016-1.02-.444-1.432-.46-.428-1.316-.428-1.728 0-1.991 1.86z'/%3E%3Cpath d='M5.074 15.948a.484.657 0 0 0-.486.659v1.84a.484.657 0 0 0 .486.659h4.101a.484.657 0 0 0 .486-.659v-1.84a.484.657 0 0 0-.486-.659zm3.56 1.16H5.617v.838h3.017z' style='fill:%23fff;fill-rule:evenodd;stroke-width:1.03600001'/%3E%3Cg style='stroke-width:1.12603545'%3E%3Cpath d='M-9.408-1.416c-3.833-.025-7.056 2.912-7.08 6.615-.02 3.08 1.653 4.832 3.107 6.268.903.892 1.721 1.74 2.32 2.902l-.525-.004c-.543-.003-.992.304-1.24.639a1.87 1.87 0 0 0-.362 1.121l-.011 1.877c-.003.402.104.787.347 1.125.244.338.688.653 1.23.656l4.142.028c.542.003.99-.306 1.238-.641a1.87 1.87 0 0 0 .363-1.121l.012-1.875a1.87 1.87 0 0 0-.348-1.127c-.243-.338-.688-.653-1.23-.656l-.518-.004c.597-1.145 1.425-1.983 2.348-2.87 1.473-1.414 3.18-3.149 3.2-6.226-.016-3.59-2.923-6.684-6.993-6.707m-.006 1.1v.002c3.274.02 5.92 2.532 5.9 5.6-.017 2.706-1.39 4.026-2.863 5.44-1.034.994-2.118 2.033-2.814 3.633-.018.041-.052.055-.075.065q-.013.004-.02.01a.34.34 0 0 1-.226.084.34.34 0 0 1-.224-.086l-.092-.077c-.699-1.615-1.768-2.669-2.781-3.67-1.454-1.435-2.797-2.762-2.78-5.478.02-3.067 2.7-5.545 5.975-5.523m-.02 2.826c-1.62-.01-2.944 1.315-2.955 2.96-.01 1.646 1.295 2.988 2.916 2.999h.002c1.621.01 2.943-1.316 2.953-2.961.011-1.646-1.294-2.988-2.916-2.998m-.005 1.1c1.017.006 1.829.83 1.822 1.89s-.83 1.874-1.848 1.867c-1.018-.006-1.829-.83-1.822-1.89s.83-1.874 1.848-1.868m-2.155 11.857 4.14.025c.271.002.49.305.487.676l-.013 1.875c-.003.37-.224.67-.495.668l-4.14-.025c-.27-.002-.487-.306-.485-.676l.012-1.875c.003-.37.224-.67.494-.668' style='color:%23000;font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:%23000;letter-spacing:normal;word-spacing:normal;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:start;white-space:normal;shape-padding:0;clip-rule:evenodd;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000;solid-opacity:1;vector-effect:none;fill:%23000;fill-opacity:.4;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-9.415-.316C-12.69-.338-15.37 2.14-15.39 5.207c-.017 2.716 1.326 4.041 2.78 5.477 1.013 1 2.081 2.055 2.78 3.67l.092.076a.34.34 0 0 0 .225.086.34.34 0 0 0 .227-.083l.019-.01c.022-.009.057-.024.074-.064.697-1.6 1.78-2.64 2.814-3.634 1.473-1.414 2.847-2.733 2.864-5.44.02-3.067-2.627-5.58-5.901-5.601m-.057 8.784c1.621.011 2.944-1.315 2.955-2.96.01-1.646-1.295-2.988-2.916-2.999-1.622-.01-2.945 1.315-2.955 2.96s1.295 2.989 2.916 3' style='clip-rule:evenodd;fill:%23e1e3e9;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-11.594 15.465c-.27-.002-.492.297-.494.668l-.012 1.876c-.003.371.214.673.485.675l4.14.027c.271.002.492-.298.495-.668l.012-1.877c.003-.37-.215-.672-.485-.674z' style='clip-rule:evenodd;fill:%23fff;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3C/g%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){a.maplibregl-ctrl-logo{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='88' height='23' fill='none'%3E%3Cpath fill='%23000' fill-opacity='.4' fill-rule='evenodd' d='M17.408 16.796h-1.827l2.501-12.095h.198l3.324 6.533.988 2.19.988-2.19 3.258-6.533h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.929 5.644h-.098l-2.914-5.644-.757-1.71-.345 1.71zm1.958-3.42-.726 3.663a1.255 1.255 0 0 1-1.232 1.011h-1.827a1.255 1.255 0 0 1-1.229-1.509l2.501-12.095a1.255 1.255 0 0 1 1.23-1.001h.197a1.25 1.25 0 0 1 1.12.685l3.19 6.273 3.125-6.263a1.25 1.25 0 0 1 1.123-.695h.181a1.255 1.255 0 0 1 1.227.991l1.443 6.71a5 5 0 0 1 .314-.787l.009-.016a4.6 4.6 0 0 1 1.777-1.887c.782-.46 1.668-.667 2.611-.667a4.6 4.6 0 0 1 1.7.32l.306.134c.21-.16.474-.256.759-.256h1.694a1.255 1.255 0 0 1 1.212.925 1.255 1.255 0 0 1 1.212-.925h1.711c.284 0 .545.094.755.252.613-.3 1.312-.45 2.075-.45 1.356 0 2.557.445 3.482 1.4q.47.48.763 1.064V4.701a1.255 1.255 0 0 1 1.255-1.255h1.86A1.255 1.255 0 0 1 54.44 4.7v9.194h2.217c.19 0 .37.043.532.118v-4.77c0-.356.147-.678.385-.906a2.42 2.42 0 0 1-.682-1.71c0-.665.267-1.253.735-1.7a2.45 2.45 0 0 1 1.722-.674 2.43 2.43 0 0 1 1.705.675q.318.302.504.683V4.7a1.255 1.255 0 0 1 1.255-1.255h1.744A1.255 1.255 0 0 1 65.812 4.7v3.335a4.8 4.8 0 0 1 1.526-.246c.938 0 1.817.214 2.59.69a4.47 4.47 0 0 1 1.67 1.743v-.98a1.255 1.255 0 0 1 1.256-1.256h1.777c.233 0 .451.064.639.174a3.4 3.4 0 0 1 1.567-.372c.346 0 .861.02 1.285.232a1.25 1.25 0 0 1 .689 1.004 4.7 4.7 0 0 1 .853-.588c.795-.44 1.675-.647 2.61-.647 1.385 0 2.65.39 3.525 1.396.836.938 1.168 2.173 1.168 3.528q-.001.515-.056 1.051a1.255 1.255 0 0 1-.947 1.09l.408.952a1.255 1.255 0 0 1-.477 1.552c-.418.268-.92.463-1.458.612-.613.171-1.304.244-2.049.244-1.06 0-2.043-.207-2.886-.698l-.015-.008c-.798-.48-1.419-1.135-1.818-1.963l-.004-.008a5.8 5.8 0 0 1-.548-2.512q0-.429.053-.843a1.3 1.3 0 0 1-.333-.086l-.166-.004c-.223 0-.426.062-.643.228-.03.024-.142.139-.142.59v3.883a1.255 1.255 0 0 1-1.256 1.256h-1.777a1.255 1.255 0 0 1-1.256-1.256V15.69l-.032.057a4.8 4.8 0 0 1-1.86 1.833 5.04 5.04 0 0 1-2.484.634 4.5 4.5 0 0 1-1.935-.424 1.25 1.25 0 0 1-.764.258h-1.71a1.255 1.255 0 0 1-1.256-1.255V7.687a2.4 2.4 0 0 1-.428.625c.253.23.412.561.412.93v7.553a1.255 1.255 0 0 1-1.256 1.255h-1.843a1.25 1.25 0 0 1-.894-.373c-.228.23-.544.373-.894.373H51.32a1.255 1.255 0 0 1-1.256-1.255v-1.251l-.061.117a4.7 4.7 0 0 1-1.782 1.884 4.77 4.77 0 0 1-2.485.67 5.6 5.6 0 0 1-1.485-.188l.009 2.764a1.255 1.255 0 0 1-1.255 1.259h-1.729a1.255 1.255 0 0 1-1.255-1.255v-3.537a1.255 1.255 0 0 1-1.167.793h-1.679a1.25 1.25 0 0 1-.77-.263 4.5 4.5 0 0 1-1.945.429c-.885 0-1.724-.21-2.495-.632l-.017-.01a5 5 0 0 1-1.081-.836 1.255 1.255 0 0 1-1.254 1.312h-1.81a1.255 1.255 0 0 1-1.228-.99l-.782-3.625-2.044 3.939a1.25 1.25 0 0 1-1.115.676h-.098a1.25 1.25 0 0 1-1.116-.68l-2.061-3.994zM35.92 16.63l.207-.114.223-.15q.493-.356.735-.785l.061-.118.033 1.332h1.678V9.242h-1.694l-.033 1.267q-.133-.329-.526-.658l-.032-.028a3.2 3.2 0 0 0-.668-.428l-.27-.12a3.3 3.3 0 0 0-1.235-.23q-1.136-.001-1.974.493a3.36 3.36 0 0 0-1.3 1.382q-.445.89-.444 2.074 0 1.2.51 2.107a3.8 3.8 0 0 0 1.382 1.381 3.9 3.9 0 0 0 1.893.477q.795 0 1.455-.33zm-2.789-5.38q-.576.675-.575 1.762 0 1.102.559 1.794.576.675 1.645.675a2.25 2.25 0 0 0 .934-.19 2.2 2.2 0 0 0 .468-.29l.178-.161a2.2 2.2 0 0 0 .397-.561q.244-.5.244-1.15v-.115q0-.708-.296-1.267l-.043-.077a2.2 2.2 0 0 0-.633-.709l-.13-.086-.047-.028a2.1 2.1 0 0 0-1.073-.285q-1.052 0-1.629.692zm2.316 2.706c.163-.17.28-.407.28-.83v-.114c0-.292-.06-.508-.15-.68a.96.96 0 0 0-.353-.389.85.85 0 0 0-.464-.127c-.4 0-.56.114-.664.239l-.01.012c-.148.174-.275.45-.275.945 0 .506.122.801.27.99.097.11.266.224.68.224.303 0 .504-.09.687-.269zm7.545 1.705a2.6 2.6 0 0 0 .331.423q.319.33.755.548l.173.074q.65.255 1.49.255 1.02 0 1.844-.493a3.45 3.45 0 0 0 1.316-1.4q.493-.904.493-2.089 0-1.909-.988-2.913-.988-1.02-2.584-1.02-.898 0-1.575.347a3 3 0 0 0-.415.262l-.199.166a3.4 3.4 0 0 0-.64.82V9.242h-1.712v11.553h1.729l-.017-5.134zm.53-1.138q.206.29.48.5l.155.11.053.034q.51.296 1.119.297 1.07 0 1.645-.675.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.435 0-.835.16a2 2 0 0 0-.284.136 2 2 0 0 0-.363.254 2.2 2.2 0 0 0-.46.569l-.082.162a2.6 2.6 0 0 0-.213 1.072v.115q0 .707.296 1.267l.135.211zm.964-.818a1.1 1.1 0 0 0 .367.385.94.94 0 0 0 .476.118c.423 0 .59-.117.687-.23.159-.194.28-.478.28-.95 0-.53-.133-.8-.266-.952l-.021-.025c-.078-.094-.231-.221-.68-.221a1 1 0 0 0-.503.135l-.012.007a.86.86 0 0 0-.335.343c-.073.133-.132.324-.132.614v.115a1.4 1.4 0 0 0 .14.66zm15.7-6.222q.347-.346.346-.856a1.05 1.05 0 0 0-.345-.79 1.18 1.18 0 0 0-.84-.329q-.51 0-.855.33a1.05 1.05 0 0 0-.346.79q0 .51.346.855.345.346.856.346.51 0 .839-.346zm4.337 9.314.033-1.332q.191.403.59.747l.098.081a4 4 0 0 0 .316.224l.223.122a3.2 3.2 0 0 0 1.44.322 3.8 3.8 0 0 0 1.875-.477 3.5 3.5 0 0 0 1.382-1.366q.527-.89.526-2.09 0-1.184-.444-2.073a3.24 3.24 0 0 0-1.283-1.399q-.823-.51-1.942-.51a3.5 3.5 0 0 0-1.527.344l-.086.043-.165.09a3 3 0 0 0-.33.214q-.432.315-.656.707a2 2 0 0 0-.099.198l.082-1.283V4.701h-1.744v12.095zm.473-2.509a2.5 2.5 0 0 0 .566.7q.117.098.245.18l.144.08a2.1 2.1 0 0 0 .975.232q1.07 0 1.645-.675.576-.69.576-1.778 0-1.102-.576-1.777-.56-.691-1.645-.692a2.2 2.2 0 0 0-1.015.235q-.22.113-.415.282l-.15.142a2.1 2.1 0 0 0-.42.594q-.223.479-.223 1.1v.115q0 .705.293 1.26zm2.616-.293c.157-.191.28-.479.28-.967 0-.51-.13-.79-.276-.961l-.021-.026c-.082-.1-.232-.225-.67-.225a.87.87 0 0 0-.681.279l-.012.011c-.154.155-.274.38-.274.807v.115c0 .285.057.499.144.669a1.1 1.1 0 0 0 .367.405c.137.082.28.123.455.123.423 0 .59-.118.686-.23zm8.266-3.013q.345-.13.724-.14l.069-.002q.493 0 .642.099l.247-1.794q-.196-.099-.717-.099a2.3 2.3 0 0 0-.545.063 2 2 0 0 0-.411.148 2.2 2.2 0 0 0-.4.249 2.5 2.5 0 0 0-.485.499 2.7 2.7 0 0 0-.32.581l-.05.137v-1.48h-1.778v7.553h1.777v-3.884q0-.546.159-.943a1.5 1.5 0 0 1 .466-.636 2.5 2.5 0 0 1 .399-.253 2 2 0 0 1 .224-.099zm9.784 2.656.05-.922q0-1.743-.856-2.698-.838-.97-2.584-.97-1.119-.001-2.007.493a3.46 3.46 0 0 0-1.4 1.382q-.493.906-.493 2.106 0 1.07.428 1.975.428.89 1.332 1.432.906.526 2.255.526.973 0 1.668-.185l.044-.012.135-.04q.613-.184.984-.421l-.542-1.267q-.3.162-.642.274l-.297.087q-.51.131-1.3.131-.954 0-1.497-.444a1.6 1.6 0 0 1-.192-.193q-.366-.44-.512-1.234l-.004-.021zm-5.427-1.256-.003.022h3.752v-.138q-.011-.727-.288-1.118a1 1 0 0 0-.156-.176q-.46-.428-1.316-.428-.986 0-1.494.604-.379.45-.494 1.234zm-27.053 2.77V4.7h-1.86v12.095h5.333V15.15zm7.103-5.908v7.553h-1.843V9.242h1.843z'/%3E%3Cpath fill='%23fff' d='m19.63 11.151-.757-1.71-.345 1.71-1.12 5.644h-1.827L18.083 4.7h.197l3.325 6.533.988 2.19.988-2.19L26.839 4.7h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.93 5.644h-.098l-2.913-5.644zm14.836 5.81q-1.02 0-1.893-.478a3.8 3.8 0 0 1-1.381-1.382q-.51-.906-.51-2.106 0-1.185.444-2.074a3.36 3.36 0 0 1 1.3-1.382q.839-.494 1.974-.494a3.3 3.3 0 0 1 1.234.231 3.3 3.3 0 0 1 .97.575q.396.33.527.659l.033-1.267h1.694v7.553H37.18l-.033-1.332q-.279.593-1.02 1.053a3.17 3.17 0 0 1-1.662.444zm.296-1.482q.938 0 1.58-.642.642-.66.642-1.711v-.115q0-.708-.296-1.267a2.2 2.2 0 0 0-.807-.872 2.1 2.1 0 0 0-1.119-.313q-1.053 0-1.629.692-.575.675-.575 1.76 0 1.103.559 1.795.577.675 1.645.675zm6.521-6.237h1.711v1.4q.906-1.597 2.83-1.597 1.596 0 2.584 1.02.988 1.005.988 2.914 0 1.185-.493 2.09a3.46 3.46 0 0 1-1.316 1.399 3.5 3.5 0 0 1-1.844.493q-.954 0-1.662-.329a2.67 2.67 0 0 1-1.086-.97l.017 5.134h-1.728zm4.048 6.22q1.07 0 1.645-.674.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.592 0-1.12.296-.51.28-.822.823-.296.527-.296 1.234v.115q0 .708.296 1.267.313.543.823.855.51.296 1.119.297z'/%3E%3Cpath fill='%23e1e3e9' d='M51.325 4.7h1.86v10.45h3.473v1.646h-5.333zm7.12 4.542h1.843v7.553h-1.843zm.905-1.415a1.16 1.16 0 0 1-.856-.346 1.17 1.17 0 0 1-.346-.856 1.05 1.05 0 0 1 .346-.79q.346-.329.856-.329.494 0 .839.33a1.05 1.05 0 0 1 .345.79 1.16 1.16 0 0 1-.345.855q-.33.346-.84.346zm7.875 9.133a3.17 3.17 0 0 1-1.662-.444q-.723-.46-1.004-1.053l-.033 1.332h-1.71V4.701h1.743v4.657l-.082 1.283q.279-.658 1.086-1.119a3.5 3.5 0 0 1 1.778-.477q1.119 0 1.942.51a3.24 3.24 0 0 1 1.283 1.4q.445.888.444 2.072 0 1.201-.526 2.09a3.5 3.5 0 0 1-1.382 1.366 3.8 3.8 0 0 1-1.876.477zm-.296-1.481q1.069 0 1.645-.675.577-.69.577-1.778 0-1.102-.577-1.776-.56-.691-1.645-.692a2.12 2.12 0 0 0-1.58.659q-.642.641-.642 1.694v.115q0 .71.296 1.267a2.4 2.4 0 0 0 .807.872 2.1 2.1 0 0 0 1.119.313zm5.927-6.237h1.777v1.481q.263-.757.856-1.217a2.14 2.14 0 0 1 1.349-.46q.527 0 .724.098l-.247 1.794q-.149-.099-.642-.099-.774 0-1.416.494-.626.493-.626 1.58v3.883h-1.777V9.242zm9.534 7.718q-1.35 0-2.255-.526-.904-.543-1.332-1.432a4.6 4.6 0 0 1-.428-1.975q0-1.2.493-2.106a3.46 3.46 0 0 1 1.4-1.382q.889-.495 2.007-.494 1.744 0 2.584.97.855.956.856 2.7 0 .444-.05.92h-5.43q.18 1.005.708 1.45.542.443 1.497.443.79 0 1.3-.131a4 4 0 0 0 .938-.362l.542 1.267q-.411.263-1.119.46-.708.198-1.711.197zm1.596-4.558q.016-1.02-.444-1.432-.46-.428-1.316-.428-1.728 0-1.991 1.86z'/%3E%3Cpath d='M5.074 15.948a.484.657 0 0 0-.486.659v1.84a.484.657 0 0 0 .486.659h4.101a.484.657 0 0 0 .486-.659v-1.84a.484.657 0 0 0-.486-.659zm3.56 1.16H5.617v.838h3.017z' style='fill:%23fff;fill-rule:evenodd;stroke-width:1.03600001'/%3E%3Cg style='stroke-width:1.12603545'%3E%3Cpath d='M-9.408-1.416c-3.833-.025-7.056 2.912-7.08 6.615-.02 3.08 1.653 4.832 3.107 6.268.903.892 1.721 1.74 2.32 2.902l-.525-.004c-.543-.003-.992.304-1.24.639a1.87 1.87 0 0 0-.362 1.121l-.011 1.877c-.003.402.104.787.347 1.125.244.338.688.653 1.23.656l4.142.028c.542.003.99-.306 1.238-.641a1.87 1.87 0 0 0 .363-1.121l.012-1.875a1.87 1.87 0 0 0-.348-1.127c-.243-.338-.688-.653-1.23-.656l-.518-.004c.597-1.145 1.425-1.983 2.348-2.87 1.473-1.414 3.18-3.149 3.2-6.226-.016-3.59-2.923-6.684-6.993-6.707m-.006 1.1v.002c3.274.02 5.92 2.532 5.9 5.6-.017 2.706-1.39 4.026-2.863 5.44-1.034.994-2.118 2.033-2.814 3.633-.018.041-.052.055-.075.065q-.013.004-.02.01a.34.34 0 0 1-.226.084.34.34 0 0 1-.224-.086l-.092-.077c-.699-1.615-1.768-2.669-2.781-3.67-1.454-1.435-2.797-2.762-2.78-5.478.02-3.067 2.7-5.545 5.975-5.523m-.02 2.826c-1.62-.01-2.944 1.315-2.955 2.96-.01 1.646 1.295 2.988 2.916 2.999h.002c1.621.01 2.943-1.316 2.953-2.961.011-1.646-1.294-2.988-2.916-2.998m-.005 1.1c1.017.006 1.829.83 1.822 1.89s-.83 1.874-1.848 1.867c-1.018-.006-1.829-.83-1.822-1.89s.83-1.874 1.848-1.868m-2.155 11.857 4.14.025c.271.002.49.305.487.676l-.013 1.875c-.003.37-.224.67-.495.668l-4.14-.025c-.27-.002-.487-.306-.485-.676l.012-1.875c.003-.37.224-.67.494-.668' style='color:%23000;font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:%23000;letter-spacing:normal;word-spacing:normal;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:start;white-space:normal;shape-padding:0;clip-rule:evenodd;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000;solid-opacity:1;vector-effect:none;fill:%23000;fill-opacity:.4;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-9.415-.316C-12.69-.338-15.37 2.14-15.39 5.207c-.017 2.716 1.326 4.041 2.78 5.477 1.013 1 2.081 2.055 2.78 3.67l.092.076a.34.34 0 0 0 .225.086.34.34 0 0 0 .227-.083l.019-.01c.022-.009.057-.024.074-.064.697-1.6 1.78-2.64 2.814-3.634 1.473-1.414 2.847-2.733 2.864-5.44.02-3.067-2.627-5.58-5.901-5.601m-.057 8.784c1.621.011 2.944-1.315 2.955-2.96.01-1.646-1.295-2.988-2.916-2.999-1.622-.01-2.945 1.315-2.955 2.96s1.295 2.989 2.916 3' style='clip-rule:evenodd;fill:%23e1e3e9;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-11.594 15.465c-.27-.002-.492.297-.494.668l-.012 1.876c-.003.371.214.673.485.675l4.14.027c.271.002.492-.298.495-.668l.012-1.877c.003-.37-.215-.672-.485-.674z' style='clip-rule:evenodd;fill:%23fff;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3C/g%3E%3C/svg%3E")}}.maplibregl-ctrl.maplibregl-ctrl-attrib{background-color:hsla(0,0%,100%,.5);margin:0;padding:0 5px}@media screen{.maplibregl-ctrl-attrib.maplibregl-compact{background-color:#fff;border-radius:12px;box-sizing:content-box;color:#000;margin:10px;min-height:20px;padding:2px 24px 2px 0;position:relative}.maplibregl-ctrl-attrib.maplibregl-compact-show{padding:2px 28px 2px 8px;visibility:visible}.maplibregl-ctrl-bottom-left>.maplibregl-ctrl-attrib.maplibregl-compact-show,.maplibregl-ctrl-top-left>.maplibregl-ctrl-attrib.maplibregl-compact-show{border-radius:12px;padding:2px 8px 2px 28px}.maplibregl-ctrl-attrib.maplibregl-compact .maplibregl-ctrl-attrib-inner{display:none}.maplibregl-ctrl-attrib-button{background-color:hsla(0,0%,100%,.5);background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill-rule='evenodd' viewBox='0 0 20 20'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E");border:0;border-radius:12px;box-sizing:border-box;cursor:pointer;display:none;height:24px;outline:none;position:absolute;right:0;top:0;width:24px}.maplibregl-ctrl-attrib summary.maplibregl-ctrl-attrib-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;list-style:none}.maplibregl-ctrl-attrib summary.maplibregl-ctrl-attrib-button::-webkit-details-marker{display:none}.maplibregl-ctrl-bottom-left .maplibregl-ctrl-attrib-button,.maplibregl-ctrl-top-left .maplibregl-ctrl-attrib-button{left:0}.maplibregl-ctrl-attrib.maplibregl-compact .maplibregl-ctrl-attrib-button,.maplibregl-ctrl-attrib.maplibregl-compact-show .maplibregl-ctrl-attrib-inner{display:block}.maplibregl-ctrl-attrib.maplibregl-compact-show .maplibregl-ctrl-attrib-button{background-color:rgb(0 0 0/5%)}.maplibregl-ctrl-bottom-right>.maplibregl-ctrl-attrib.maplibregl-compact:after{bottom:0;right:0}.maplibregl-ctrl-top-right>.maplibregl-ctrl-attrib.maplibregl-compact:after{right:0;top:0}.maplibregl-ctrl-top-left>.maplibregl-ctrl-attrib.maplibregl-compact:after{left:0;top:0}.maplibregl-ctrl-bottom-left>.maplibregl-ctrl-attrib.maplibregl-compact:after{bottom:0;left:0}}@media screen and (forced-colors:active){.maplibregl-ctrl-attrib.maplibregl-compact:after{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%23fff' fill-rule='evenodd' viewBox='0 0 20 20'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E")}}@media screen and (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl-attrib.maplibregl-compact:after{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill-rule='evenodd' viewBox='0 0 20 20'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E")}}.maplibregl-ctrl-attrib a{color:rgba(0,0,0,.75);text-decoration:none}.maplibregl-ctrl-attrib a:hover{color:inherit;text-decoration:underline}.maplibregl-attrib-empty{display:none}.maplibregl-ctrl-scale{background-color:hsla(0,0%,100%,.75);border:2px solid #333;border-top:#333;box-sizing:border-box;color:#333;font-size:10px;padding:0 5px}.maplibregl-popup{display:flex;left:0;pointer-events:none;position:absolute;top:0;will-change:transform}.maplibregl-popup-anchor-top,.maplibregl-popup-anchor-top-left,.maplibregl-popup-anchor-top-right{flex-direction:column}.maplibregl-popup-anchor-bottom,.maplibregl-popup-anchor-bottom-left,.maplibregl-popup-anchor-bottom-right{flex-direction:column-reverse}.maplibregl-popup-anchor-left{flex-direction:row}.maplibregl-popup-anchor-right{flex-direction:row-reverse}.maplibregl-popup-tip{border:10px solid transparent;height:0;width:0;z-index:1}.maplibregl-popup-anchor-top .maplibregl-popup-tip{align-self:center;border-bottom-color:#fff;border-top:none}.maplibregl-popup-anchor-top-left .maplibregl-popup-tip{align-self:flex-start;border-bottom-color:#fff;border-left:none;border-top:none}.maplibregl-popup-anchor-top-right .maplibregl-popup-tip{align-self:flex-end;border-bottom-color:#fff;border-right:none;border-top:none}.maplibregl-popup-anchor-bottom .maplibregl-popup-tip{align-self:center;border-bottom:none;border-top-color:#fff}.maplibregl-popup-anchor-bottom-left .maplibregl-popup-tip{align-self:flex-start;border-bottom:none;border-left:none;border-top-color:#fff}.maplibregl-popup-anchor-bottom-right .maplibregl-popup-tip{align-self:flex-end;border-bottom:none;border-right:none;border-top-color:#fff}.maplibregl-popup-anchor-left .maplibregl-popup-tip{align-self:center;border-left:none;border-right-color:#fff}.maplibregl-popup-anchor-right .maplibregl-popup-tip{align-self:center;border-left-color:#fff;border-right:none}.maplibregl-popup-close-button{background-color:transparent;border:0;border-radius:0 3px 0 0;cursor:pointer;position:absolute;right:0;top:0}.maplibregl-popup-close-button:hover{background-color:rgb(0 0 0/5%)}.maplibregl-popup-content{background:#fff;border-radius:3px;box-shadow:0 1px 2px rgba(0,0,0,.1);padding:15px 10px;pointer-events:auto;position:relative}.maplibregl-popup-anchor-top-left .maplibregl-popup-content{border-top-left-radius:0}.maplibregl-popup-anchor-top-right .maplibregl-popup-content{border-top-right-radius:0}.maplibregl-popup-anchor-bottom-left .maplibregl-popup-content{border-bottom-left-radius:0}.maplibregl-popup-anchor-bottom-right .maplibregl-popup-content{border-bottom-right-radius:0}.maplibregl-popup-track-pointer{display:none}.maplibregl-popup-track-pointer *{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.maplibregl-map:hover .maplibregl-popup-track-pointer{display:flex}.maplibregl-map:active .maplibregl-popup-track-pointer{display:none}.maplibregl-marker{left:0;position:absolute;top:0;transition:opacity .2s;will-change:transform}.maplibregl-user-location-dot,.maplibregl-user-location-dot:before{background-color:#1da1f2;border-radius:50%;height:15px;width:15px}.maplibregl-user-location-dot:before{animation:maplibregl-user-location-dot-pulse 2s infinite;content:"";position:absolute}.maplibregl-user-location-dot:after{border:2px solid #fff;border-radius:50%;box-shadow:0 0 3px rgba(0,0,0,.35);box-sizing:border-box;content:"";height:19px;left:-2px;position:absolute;top:-2px;width:19px}@keyframes maplibregl-user-location-dot-pulse{0%{opacity:1;transform:scale(1)}70%{opacity:0;transform:scale(3)}to{opacity:0;transform:scale(1)}}.maplibregl-user-location-dot-stale{background-color:#aaa}.maplibregl-user-location-dot-stale:after{display:none}.maplibregl-user-location-accuracy-circle{background-color:#1da1f233;border-radius:100%;height:1px;width:1px}.maplibregl-crosshair,.maplibregl-crosshair .maplibregl-interactive,.maplibregl-crosshair .maplibregl-interactive:active{cursor:crosshair}.maplibregl-boxzoom{background:#fff;border:2px dotted #202020;height:0;left:0;opacity:.5;position:absolute;top:0;width:0}.maplibregl-cooperative-gesture-screen{align-items:center;background:rgba(0,0,0,.4);color:#fff;display:flex;font-size:1.4em;inset:0;justify-content:center;line-height:1.2;opacity:0;padding:1rem;pointer-events:none;position:absolute;transition:opacity 1s ease 1s;z-index:99999}.maplibregl-cooperative-gesture-screen.maplibregl-show{opacity:1;transition:opacity .05s}.maplibregl-cooperative-gesture-screen .maplibregl-mobile-message{display:none}@media (hover:none),(pointer:coarse){.maplibregl-cooperative-gesture-screen .maplibregl-desktop-message{display:none}.maplibregl-cooperative-gesture-screen .maplibregl-mobile-message{display:block}}.maplibregl-pseudo-fullscreen{height:100%!important;left:0!important;position:fixed!important;top:0!important;width:100%!important;z-index:99999}</style>
<script>/**
 * MapLibre GL JS
 * @license 3-Clause BSD. Full text of license: https://github.com/maplibre/maplibre-gl-js/blob/v5.6.0/LICENSE.txt
 */
(function (global, factory) {
typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
typeof define === 'function' && define.amd ? define(factory) :
(global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.maplibregl = factory());
})(this, (function () { 'use strict';

/* eslint-disable */

var maplibregl = {};
var modules = {};
function define(moduleName, _dependencies, moduleFactory) {
    modules[moduleName] = moduleFactory;

    // to get the list of modules see generated dist/maplibre-gl-dev.js file (look for `define(` calls)
    if (moduleName !== 'index') {
        return;
    }

    // we assume that when an index module is initializing then other modules are loaded already
    var workerBundleString = 'var sharedModule = {}; (' + modules.shared + ')(sharedModule); (' + modules.worker + ')(sharedModule);'

    var sharedModule = {};
    // the order of arguments of a module factory depends on rollup (it decides who is whose dependency)
    // to check the correct order, see dist/maplibre-gl-dev.js file (look for `define(` calls)
    // we assume that for our 3 chunks it will generate 3 modules and their order is predefined like the following
    modules.shared(sharedModule);
    modules.index(maplibregl, sharedModule);

    if (typeof window !== 'undefined') {
        maplibregl.setWorkerUrl(window.URL.createObjectURL(new Blob([workerBundleString], { type: 'text/javascript' })));
    }

    return maplibregl;
};



define("shared",["exports"],(function(t){"use strict";function e(t,e,r,n){return new(r||(r=Promise))((function(i,s){function a(t){try{l(n.next(t));}catch(t){s(t);}}function o(t){try{l(n.throw(t));}catch(t){s(t);}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e);}))).then(a,o);}l((n=n.apply(t,e||[])).next());}))}function r(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var n,i;function s(){if(i)return n;function t(t,e){this.x=t,this.y=e;}return i=1,n=t,t.prototype={clone:function(){return new t(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,e){return this.clone()._rotateAround(t,e)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,r=t.y-this.y;return e*e+r*r},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[2]*this.x+t[3]*this.y;return this.x=t[0]*this.x+t[1]*this.y,this.y=e,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),r=Math.sin(t),n=r*this.x+e*this.y;return this.x=e*this.x-r*this.y,this.y=n,this},_rotateAround:function(t,e){var r=Math.cos(t),n=Math.sin(t),i=e.y+n*(this.x-e.x)+r*(this.y-e.y);return this.x=e.x+r*(this.x-e.x)-n*(this.y-e.y),this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},t.convert=function(e){return e instanceof t?e:Array.isArray(e)?new t(e[0],e[1]):e},n}"function"==typeof SuppressedError&&SuppressedError;var a,o,l=r(s()),u=function(){if(o)return a;function t(t,e,r,n){this.cx=3*t,this.bx=3*(r-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(n-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=e,this.p2x=r,this.p2y=n;}return o=1,a=t,t.prototype={sampleCurveX:function(t){return ((this.ax*t+this.bx)*t+this.cx)*t},sampleCurveY:function(t){return ((this.ay*t+this.by)*t+this.cy)*t},sampleCurveDerivativeX:function(t){return (3*this.ax*t+2*this.bx)*t+this.cx},solveCurveX:function(t,e){if(void 0===e&&(e=1e-6),t<0)return 0;if(t>1)return 1;for(var r=t,n=0;n<8;n++){var i=this.sampleCurveX(r)-t;if(Math.abs(i)<e)return r;var s=this.sampleCurveDerivativeX(r);if(Math.abs(s)<1e-6)break;r-=i/s;}var a=0,o=1;for(r=t,n=0;n<20&&(i=this.sampleCurveX(r),!(Math.abs(i-t)<e));n++)t>i?a=r:o=r,r=.5*(o-a)+a;return r},solve:function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))}},a}(),c=r(u);let h,p;function f(){return null==h&&(h="undefined"!=typeof OffscreenCanvas&&new OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof createImageBitmap),h}function d(){if(null==p&&(p=!1,f())){const t=5,e=new OffscreenCanvas(t,t).getContext("2d",{willReadFrequently:!0});if(e){for(let r=0;r<t*t;r++){const n=4*r;e.fillStyle=`rgb(${n},${n+1},${n+2})`,e.fillRect(r%t,Math.floor(r/t),1,1);}const r=e.getImageData(0,0,t,t).data;for(let e=0;e<t*t*4;e++)if(e%4!=3&&r[e]!==e){p=!0;break}}}return p||!1}var y=1e-6,m="undefined"!=typeof Float32Array?Float32Array:Array;function g(){var t=new m(9);return m!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function x(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function v(){var t=new m(3);return m!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function b(t){return Math.hypot(t[0],t[1],t[2])}function w(t,e,r){var n=new m(3);return n[0]=t,n[1]=e,n[2]=r,n}function _(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t}function S(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t}function A(t,e,r){var n=e[0],i=e[1],s=e[2],a=r[0],o=r[1],l=r[2];return t[0]=i*l-s*o,t[1]=s*a-n*l,t[2]=n*o-i*a,t}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var k,M=b;function I(t,e,r){var n=e[0],i=e[1],s=e[2],a=e[3];return t[0]=r[0]*n+r[4]*i+r[8]*s+r[12]*a,t[1]=r[1]*n+r[5]*i+r[9]*s+r[13]*a,t[2]=r[2]*n+r[6]*i+r[10]*s+r[14]*a,t[3]=r[3]*n+r[7]*i+r[11]*s+r[15]*a,t}function z(){var t=new m(4);return m!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function P(t,e,r,n){var i=.5*Math.PI/180;e*=i,r*=i,n*=i;var s=Math.sin(e),a=Math.cos(e),o=Math.sin(r),l=Math.cos(r),u=Math.sin(n),c=Math.cos(n);return t[0]=s*l*c-a*o*u,t[1]=a*o*c+s*l*u,t[2]=a*l*u-s*o*c,t[3]=a*l*c+s*o*u,t}function C(){var t=new m(2);return m!=Float32Array&&(t[0]=0,t[1]=0),t}function B(t,e){var r=new m(2);return r[0]=t,r[1]=e,r}v(),k=new m(4),m!=Float32Array&&(k[0]=0,k[1]=0,k[2]=0,k[3]=0),v(),w(1,0,0),w(0,1,0),z(),z(),g(),C();const E=8192;function T(t,e,r){return e*(E/(t.tileSize*Math.pow(2,r-t.tileID.overscaledZ)))}function V(t,e){return (t%e+e)%e}function F(t,e,r){return t*(1-r)+e*r}function L(t){if(t<=0)return 0;if(t>=1)return 1;const e=t*t,r=e*t;return 4*(t<.5?r:3*(t-e)+r-.75)}function $(t,e,r,n){const i=new c(t,e,r,n);return t=>i.solve(t)}const D=$(.25,.1,.25,1);function O(t,e,r){return Math.min(r,Math.max(e,t))}function R(t,e,r){const n=r-e,i=((t-e)%n+n)%n+e;return i===e?r:i}function j(t,...e){for(const r of e)for(const e in r)t[e]=r[e];return t}let N=1;function U(t,e,r){const n={};for(const r in t)n[r]=e.call(this,t[r],r,t);return n}function q(t,e,r){const n={};for(const r in t)e.call(this,t[r],r,t)&&(n[r]=t[r]);return n}function G(t){return Array.isArray(t)?t.map(G):"object"==typeof t&&t?U(t,G):t}const X={};function Z(t){X[t]||("undefined"!=typeof console&&console.warn(t),X[t]=!0);}function Y(t,e,r){return (r.y-t.y)*(e.x-t.x)>(e.y-t.y)*(r.x-t.x)}function H(t){return "undefined"!=typeof WorkerGlobalScope&&void 0!==t&&t instanceof WorkerGlobalScope}let K=null;function J(t){return "undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap}const W="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function Q(t,r,n,i,s){return e(this,void 0,void 0,(function*(){if("undefined"==typeof VideoFrame)throw new Error("VideoFrame not supported");const e=new VideoFrame(t,{timestamp:0});try{const a=null==e?void 0:e.format;if(!a||!a.startsWith("BGR")&&!a.startsWith("RGB"))throw new Error(`Unrecognized format ${a}`);const o=a.startsWith("BGR"),l=new Uint8ClampedArray(i*s*4);if(yield e.copyTo(l,function(t,e,r,n,i){const s=4*Math.max(1,0),a=(Math.max(0,r)-r)*n*4+s,o=4*n,l=Math.max(0,e),u=Math.max(0,r);return {rect:{x:l,y:u,width:Math.min(t.width,e+n)-l,height:Math.min(t.height,r+i)-u},layout:[{offset:a,stride:o}]}}(t,r,n,i,s)),o)for(let t=0;t<l.length;t+=4){const e=l[t];l[t]=l[t+2],l[t+2]=e;}return l}finally{e.close();}}))}let tt,et;function rt(t,e,r,n){return t.addEventListener(e,r,n),{unsubscribe:()=>{t.removeEventListener(e,r,n);}}}function nt(t){return t*Math.PI/180}function it(t){return t/Math.PI*180}const st={touchstart:!0,touchmove:!0,touchmoveWindow:!0,touchend:!0,touchcancel:!0},at={dblclick:!0,click:!0,mouseover:!0,mouseout:!0,mousedown:!0,mousemove:!0,mousemoveWindow:!0,mouseup:!0,mouseupWindow:!0,contextmenu:!0,wheel:!0},ot="AbortError";function lt(){return new Error(ot)}const ut={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};function ct(t){return ut.REGISTERED_PROTOCOLS[t.substring(0,t.indexOf("://"))]}const ht="global-dispatcher";class pt extends Error{constructor(t,e,r,n){super(`AJAXError: ${e} (${t}): ${r}`),this.status=t,this.statusText=e,this.url=r,this.body=n;}}const ft=()=>H(self)?self.worker&&self.worker.referrer:("blob:"===window.location.protocol?window.parent:window).location.href,dt=function(t,r){if(/:\/\//.test(t.url)&&!/^https?:|^file:/.test(t.url)){const e=ct(t.url);if(e)return e(t,r);if(H(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:t,targetMapId:ht},r)}if(!(/^file:/.test(n=t.url)||/^file:/.test(ft())&&!/^\w+:/.test(n))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return function(t,r){return e(this,void 0,void 0,(function*(){const e=new Request(t.url,{method:t.method||"GET",body:t.body,credentials:t.credentials,headers:t.headers,cache:t.cache,referrer:ft(),signal:r.signal});let n,i;"json"!==t.type||e.headers.has("Accept")||e.headers.set("Accept","application/json");try{n=yield fetch(e);}catch(e){throw new pt(0,e.message,t.url,new Blob)}if(!n.ok){const e=yield n.blob();throw new pt(n.status,n.statusText,t.url,e)}i="arrayBuffer"===t.type||"image"===t.type?n.arrayBuffer():"json"===t.type?n.json():n.text();const s=yield i;if(r.signal.aborted)throw lt();return {data:s,cacheControl:n.headers.get("Cache-Control"),expires:n.headers.get("Expires")}}))}(t,r);if(H(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:t,mustQueue:!0,targetMapId:ht},r)}var n;return function(t,e){return new Promise(((r,n)=>{var i;const s=new XMLHttpRequest;s.open(t.method||"GET",t.url,!0),"arrayBuffer"!==t.type&&"image"!==t.type||(s.responseType="arraybuffer");for(const e in t.headers)s.setRequestHeader(e,t.headers[e]);"json"===t.type&&(s.responseType="text",(null===(i=t.headers)||void 0===i?void 0:i.Accept)||s.setRequestHeader("Accept","application/json")),s.withCredentials="include"===t.credentials,s.onerror=()=>{n(new Error(s.statusText));},s.onload=()=>{if(!e.signal.aborted)if((s.status>=200&&s.status<300||0===s.status)&&null!==s.response){let e=s.response;if("json"===t.type)try{e=JSON.parse(s.response);}catch(t){return void n(t)}r({data:e,cacheControl:s.getResponseHeader("Cache-Control"),expires:s.getResponseHeader("Expires")});}else {const e=new Blob([s.response],{type:s.getResponseHeader("Content-Type")});n(new pt(s.status,s.statusText,t.url,e));}},e.signal.addEventListener("abort",(()=>{s.abort(),n(lt());})),s.send(t.body);}))}(t,r)};function yt(t){if(!t||t.indexOf("://")<=0||0===t.indexOf("data:image/")||0===t.indexOf("blob:"))return !0;const e=new URL(t),r=window.location;return e.protocol===r.protocol&&e.host===r.host}function mt(t,e,r){r[t]&&-1!==r[t].indexOf(e)||(r[t]=r[t]||[],r[t].push(e));}function gt(t,e,r){if(r&&r[t]){const n=r[t].indexOf(e);-1!==n&&r[t].splice(n,1);}}class xt{constructor(t,e={}){j(this,e),this.type=t;}}class vt extends xt{constructor(t,e={}){super("error",j({error:t},e));}}class bt{on(t,e){return this._listeners=this._listeners||{},mt(t,e,this._listeners),{unsubscribe:()=>{this.off(t,e);}}}off(t,e){return gt(t,e,this._listeners),gt(t,e,this._oneTimeListeners),this}once(t,e){return e?(this._oneTimeListeners=this._oneTimeListeners||{},mt(t,e,this._oneTimeListeners),this):new Promise((e=>this.once(t,e)))}fire(t,e){"string"==typeof t&&(t=new xt(t,e||{}));const r=t.type;if(this.listens(r)){t.target=this;const e=this._listeners&&this._listeners[r]?this._listeners[r].slice():[];for(const r of e)r.call(this,t);const n=this._oneTimeListeners&&this._oneTimeListeners[r]?this._oneTimeListeners[r].slice():[];for(const e of n)gt(r,e,this._oneTimeListeners),e.call(this,t);const i=this._eventedParent;i&&(j(t,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),i.fire(t));}else t instanceof vt&&console.error(t.error);return this}listens(t){return this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t)}setEventedParent(t,e){return this._eventedParent=t,this._eventedParentData=e,this}}var wt={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},centerAltitude:{type:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},roll:{type:"number",default:0,units:"degrees"},state:{type:"state",default:{}},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},"color-relief":{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_color-relief","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_color-relief":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},projection:{type:{type:"projectionDefinition",default:"mercator","property-type":"data-constant",transition:!1,expression:{interpolated:!0,parameters:["zoom"]}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_color-relief","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"numberArray",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-altitude":{type:"numberArray",default:45,minimum:0,maximum:90,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"colorArray",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"colorArray",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-method":{type:"enum",values:{standard:{},basic:{},combined:{},igor:{},multidirectional:{}},default:"standard",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},"paint_color-relief":{"color-relief-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"color-relief-color":{type:"color",transition:!1,expression:{interpolated:!0,parameters:["elevation"]},"property-type":"color-ramp"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const _t=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function St(t,e){const r={};for(const e in t)"ref"!==e&&(r[e]=t[e]);return _t.forEach((t=>{t in e&&(r[t]=e[t]);})),r}function At(t,e){if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return !1;for(let r=0;r<t.length;r++)if(!At(t[r],e[r]))return !1;return !0}if("object"==typeof t&&null!==t&&null!==e){if("object"!=typeof e)return !1;if(Object.keys(t).length!==Object.keys(e).length)return !1;for(const r in t)if(!At(t[r],e[r]))return !1;return !0}return t===e}function kt(t,e){t.push(e);}function Mt(t,e,r){kt(r,{command:"addSource",args:[t,e[t]]});}function It(t,e,r){kt(e,{command:"removeSource",args:[t]}),r[t]=!0;}function zt(t,e,r,n){It(t,r,n),Mt(t,e,r);}function Pt(t,e,r){let n;for(n in t[r])if(Object.prototype.hasOwnProperty.call(t[r],n)&&"data"!==n&&!At(t[r][n],e[r][n]))return !1;for(n in e[r])if(Object.prototype.hasOwnProperty.call(e[r],n)&&"data"!==n&&!At(t[r][n],e[r][n]))return !1;return !0}function Ct(t,e,r,n,i,s){t=t||{},e=e||{};for(const a in t)Object.prototype.hasOwnProperty.call(t,a)&&(At(t[a],e[a])||r.push({command:s,args:[n,a,e[a],i]}));for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&!Object.prototype.hasOwnProperty.call(t,a)&&(At(t[a],e[a])||r.push({command:s,args:[n,a,e[a],i]}));}function Bt(t){return t.id}function Et(t,e){return t[e.id]=e,t}class Tt{constructor(t,e,r,n){this.message=(t?`${t}: `:"")+r,n&&(this.identifier=n),null!=e&&e.__line__&&(this.line=e.__line__);}}function Vt(t,...e){for(const r of e)for(const e in r)t[e]=r[e];return t}class Ft extends Error{constructor(t,e){super(e),this.message=e,this.key=t;}}class Lt{constructor(t,e=[]){this.parent=t,this.bindings={};for(const[t,r]of e)this.bindings[t]=r;}concat(t){return new Lt(this,t)}get(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(`${t} not found in scope.`)}has(t){return !!this.bindings[t]||!!this.parent&&this.parent.has(t)}}const $t={kind:"null"},Dt={kind:"number"},Ot={kind:"string"},Rt={kind:"boolean"},jt={kind:"color"},Nt={kind:"projectionDefinition"},Ut={kind:"object"},qt={kind:"value"},Gt={kind:"collator"},Xt={kind:"formatted"},Zt={kind:"padding"},Yt={kind:"colorArray"},Ht={kind:"numberArray"},Kt={kind:"resolvedImage"},Jt={kind:"variableAnchorOffsetCollection"};function Wt(t,e){return {kind:"array",itemType:t,N:e}}function Qt(t){if("array"===t.kind){const e=Qt(t.itemType);return "number"==typeof t.N?`array<${e}, ${t.N}>`:"value"===t.itemType.kind?"array":`array<${e}>`}return t.kind}const te=[$t,Dt,Ot,Rt,jt,Nt,Xt,Ut,Wt(qt),Zt,Ht,Yt,Kt,Jt];function ee(t,e){if("error"===e.kind)return null;if("array"===t.kind){if("array"===e.kind&&(0===e.N&&"value"===e.itemType.kind||!ee(t.itemType,e.itemType))&&("number"!=typeof t.N||t.N===e.N))return null}else {if(t.kind===e.kind)return null;if("value"===t.kind)for(const t of te)if(!ee(t,e))return null}return `Expected ${Qt(t)} but found ${Qt(e)} instead.`}function re(t,e){return e.some((e=>e.kind===t.kind))}function ne(t,e){return e.some((e=>"null"===e?null===t:"array"===e?Array.isArray(t):"object"===e?t&&!Array.isArray(t)&&"object"==typeof t:e===typeof t))}function ie(t,e){return "array"===t.kind&&"array"===e.kind?t.itemType.kind===e.itemType.kind&&"number"==typeof t.N:t.kind===e.kind}const se=.96422,ae=.82521,oe=4/29,le=6/29,ue=3*le*le,ce=le*le*le,he=Math.PI/180,pe=180/Math.PI;function fe(t){return (t%=360)<0&&(t+=360),t}function de([t,e,r,n]){let i,s;const a=me((.2225045*(t=ye(t))+.7168786*(e=ye(e))+.0606169*(r=ye(r)))/1);t===e&&e===r?i=s=a:(i=me((.4360747*t+.3850649*e+.1430804*r)/se),s=me((.0139322*t+.0971045*e+.7141733*r)/ae));const o=116*a-16;return [o<0?0:o,500*(i-a),200*(a-s),n]}function ye(t){return t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function me(t){return t>ce?Math.pow(t,1/3):t/ue+oe}function ge([t,e,r,n]){let i=(t+16)/116,s=isNaN(e)?i:i+e/500,a=isNaN(r)?i:i-r/200;return i=1*ve(i),s=se*ve(s),a=ae*ve(a),[xe(3.1338561*s-1.6168667*i-.4906146*a),xe(-.9787684*s+1.9161415*i+.033454*a),xe(.0719453*s-.2289914*i+1.4052427*a),n]}function xe(t){return (t=t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055)<0?0:t>1?1:t}function ve(t){return t>le?t*t*t:ue*(t-oe)}const be=Object.hasOwn||function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};function we(t,e){return be(t,e)?t[e]:void 0}function _e(t){return parseInt(t.padEnd(2,t),16)/255}function Se(t,e){return Ae(e?t/100:t,0,1)}function Ae(t,e,r){return Math.min(Math.max(e,t),r)}function ke(t){return !t.some(Number.isNaN)}const Me={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};function Ie(t,e,r){return t+r*(e-t)}function ze(t,e,r){return t.map(((t,n)=>Ie(t,e[n],r)))}class Pe{constructor(t,e,r,n=1,i=!0){this.r=t,this.g=e,this.b=r,this.a=n,i||(this.r*=n,this.g*=n,this.b*=n,n||this.overwriteGetter("rgb",[t,e,r,n]));}static parse(t){if(t instanceof Pe)return t;if("string"!=typeof t)return;const e=function(t){if("transparent"===(t=t.toLowerCase().trim()))return [0,0,0,0];const e=we(Me,t);if(e){const[t,r,n]=e;return [t/255,r/255,n/255,1]}if(t.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(t)){const e=t.length<6?1:2;let r=1;return [_e(t.slice(r,r+=e)),_e(t.slice(r,r+=e)),_e(t.slice(r,r+=e)),_e(t.slice(r,r+e)||"ff")]}if(t.startsWith("rgb")){const e=t.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(e){const[t,r,n,i,s,a,o,l,u,c,h,p]=e,f=[i||" ",o||" ",c].join("");if("  "===f||"  /"===f||",,"===f||",,,"===f){const t=[n,a,u].join(""),e="%%%"===t?100:""===t?255:0;if(e){const t=[Ae(+r/e,0,1),Ae(+s/e,0,1),Ae(+l/e,0,1),h?Se(+h,p):1];if(ke(t))return t}}return}}const r=t.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(r){const[t,e,n,i,s,a,o,l,u]=r,c=[n||" ",s||" ",o].join("");if("  "===c||"  /"===c||",,"===c||",,,"===c){const t=[+e,Ae(+i,0,100),Ae(+a,0,100),l?Se(+l,u):1];if(ke(t))return function([t,e,r,n]){function i(n){const i=(n+t/30)%12,s=e*Math.min(r,1-r);return r-s*Math.max(-1,Math.min(i-3,9-i,1))}return t=fe(t),e/=100,r/=100,[i(0),i(8),i(4),n]}(t)}}}(t);return e?new Pe(...e,!1):void 0}get rgb(){const{r:t,g:e,b:r,a:n}=this,i=n||1/0;return this.overwriteGetter("rgb",[t/i,e/i,r/i,n])}get hcl(){return this.overwriteGetter("hcl",function(t){const[e,r,n,i]=de(t),s=Math.sqrt(r*r+n*n);return [Math.round(1e4*s)?fe(Math.atan2(n,r)*pe):NaN,s,e,i]}(this.rgb))}get lab(){return this.overwriteGetter("lab",de(this.rgb))}overwriteGetter(t,e){return Object.defineProperty(this,t,{value:e}),e}toString(){const[t,e,r,n]=this.rgb;return `rgba(${[t,e,r].map((t=>Math.round(255*t))).join(",")},${n})`}static interpolate(t,e,r,n="rgb"){switch(n){case "rgb":{const[n,i,s,a]=ze(t.rgb,e.rgb,r);return new Pe(n,i,s,a,!1)}case "hcl":{const[n,i,s,a]=t.hcl,[o,l,u,c]=e.hcl;let h,p;if(isNaN(n)||isNaN(o))isNaN(n)?isNaN(o)?h=NaN:(h=o,1!==s&&0!==s||(p=l)):(h=n,1!==u&&0!==u||(p=i));else {let t=o-n;o>n&&t>180?t-=360:o<n&&n-o>180&&(t+=360),h=n+r*t;}const[f,d,y,m]=function([t,e,r,n]){return t=isNaN(t)?0:t*he,ge([r,Math.cos(t)*e,Math.sin(t)*e,n])}([h,null!=p?p:Ie(i,l,r),Ie(s,u,r),Ie(a,c,r)]);return new Pe(f,d,y,m,!1)}case "lab":{const[n,i,s,a]=ge(ze(t.lab,e.lab,r));return new Pe(n,i,s,a,!1)}}}}Pe.black=new Pe(0,0,0,1),Pe.white=new Pe(1,1,1,1),Pe.transparent=new Pe(0,0,0,0),Pe.red=new Pe(1,0,0,1);class Ce{constructor(t,e,r){this.sensitivity=t?e?"variant":"case":e?"accent":"base",this.locale=r,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"});}compare(t,e){return this.collator.compare(t,e)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}const Be=["bottom","center","top"];class Ee{constructor(t,e,r,n,i,s){this.text=t,this.image=e,this.scale=r,this.fontStack=n,this.textColor=i,this.verticalAlign=s;}}class Te{constructor(t){this.sections=t;}static fromString(t){return new Te([new Ee(t,null,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some((t=>0!==t.text.length||t.image&&0!==t.image.name.length))}static factory(t){return t instanceof Te?t:Te.fromString(t)}toString(){return 0===this.sections.length?"":this.sections.map((t=>t.text)).join("")}}class Ve{constructor(t){this.values=t.slice();}static parse(t){if(t instanceof Ve)return t;if("number"==typeof t)return new Ve([t,t,t,t]);if(Array.isArray(t)&&!(t.length<1||t.length>4)){for(const e of t)if("number"!=typeof e)return;switch(t.length){case 1:t=[t[0],t[0],t[0],t[0]];break;case 2:t=[t[0],t[1],t[0],t[1]];break;case 3:t=[t[0],t[1],t[2],t[1]];}return new Ve(t)}}toString(){return JSON.stringify(this.values)}static interpolate(t,e,r){return new Ve(ze(t.values,e.values,r))}}class Fe{constructor(t){this.values=t.slice();}static parse(t){if(t instanceof Fe)return t;if("number"==typeof t)return new Fe([t]);if(Array.isArray(t)){for(const e of t)if("number"!=typeof e)return;return new Fe(t)}}toString(){return JSON.stringify(this.values)}static interpolate(t,e,r){return new Fe(ze(t.values,e.values,r))}}class Le{constructor(t){this.values=t.slice();}static parse(t){if(t instanceof Le)return t;if("string"==typeof t){const e=Pe.parse(t);if(!e)return;return new Le([e])}if(!Array.isArray(t))return;const e=[];for(const r of t){if("string"!=typeof r)return;const t=Pe.parse(r);if(!t)return;e.push(t);}return new Le(e)}toString(){return JSON.stringify(this.values)}static interpolate(t,e,r,n="rgb"){const i=[];if(t.values.length!=e.values.length)throw new Error(`colorArray: Arrays have mismatched length (${t.values.length} vs. ${e.values.length}), cannot interpolate.`);for(let s=0;s<t.values.length;s++)i.push(Pe.interpolate(t.values[s],e.values[s],r,n));return new Le(i)}}class $e extends Error{constructor(t){super(t),this.name="RuntimeError";}toJSON(){return this.message}}const De=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class Oe{constructor(t){this.values=t.slice();}static parse(t){if(t instanceof Oe)return t;if(Array.isArray(t)&&!(t.length<1)&&t.length%2==0){for(let e=0;e<t.length;e+=2){const r=t[e],n=t[e+1];if("string"!=typeof r||!De.has(r))return;if(!Array.isArray(n)||2!==n.length||"number"!=typeof n[0]||"number"!=typeof n[1])return}return new Oe(t)}}toString(){return JSON.stringify(this.values)}static interpolate(t,e,r){const n=t.values,i=e.values;if(n.length!==i.length)throw new $e(`Cannot interpolate values of different length. from: ${t.toString()}, to: ${e.toString()}`);const s=[];for(let t=0;t<n.length;t+=2){if(n[t]!==i[t])throw new $e(`Cannot interpolate values containing mismatched anchors. from[${t}]: ${n[t]}, to[${t}]: ${i[t]}`);s.push(n[t]);const[e,a]=n[t+1],[o,l]=i[t+1];s.push([Ie(e,o,r),Ie(a,l,r)]);}return new Oe(s)}}class Re{constructor(t){this.name=t.name,this.available=t.available;}toString(){return this.name}static fromString(t){return t?new Re({name:t,available:!1}):null}}class je{constructor(t,e,r){this.from=t,this.to=e,this.transition=r;}static interpolate(t,e,r){return new je(t,e,r)}static parse(t){return t instanceof je?t:Array.isArray(t)&&3===t.length&&"string"==typeof t[0]&&"string"==typeof t[1]&&"number"==typeof t[2]?new je(t[0],t[1],t[2]):"object"==typeof t&&"string"==typeof t.from&&"string"==typeof t.to&&"number"==typeof t.transition?new je(t.from,t.to,t.transition):"string"==typeof t?new je(t,t,1):void 0}}function Ne(t,e,r,n){return "number"==typeof t&&t>=0&&t<=255&&"number"==typeof e&&e>=0&&e<=255&&"number"==typeof r&&r>=0&&r<=255?void 0===n||"number"==typeof n&&n>=0&&n<=1?null:`Invalid rgba value [${[t,e,r,n].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${("number"==typeof n?[t,e,r,n]:[t,e,r]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Ue(t){if(null===t||"string"==typeof t||"boolean"==typeof t||"number"==typeof t||t instanceof je||t instanceof Pe||t instanceof Ce||t instanceof Te||t instanceof Ve||t instanceof Fe||t instanceof Le||t instanceof Oe||t instanceof Re)return !0;if(Array.isArray(t)){for(const e of t)if(!Ue(e))return !1;return !0}if("object"==typeof t){for(const e in t)if(!Ue(t[e]))return !1;return !0}return !1}function qe(t){if(null===t)return $t;if("string"==typeof t)return Ot;if("boolean"==typeof t)return Rt;if("number"==typeof t)return Dt;if(t instanceof Pe)return jt;if(t instanceof je)return Nt;if(t instanceof Ce)return Gt;if(t instanceof Te)return Xt;if(t instanceof Ve)return Zt;if(t instanceof Fe)return Ht;if(t instanceof Le)return Yt;if(t instanceof Oe)return Jt;if(t instanceof Re)return Kt;if(Array.isArray(t)){const e=t.length;let r;for(const e of t){const t=qe(e);if(r){if(r===t)continue;r=qt;break}r=t;}return Wt(r||qt,e)}return Ut}function Ge(t){const e=typeof t;return null===t?"":"string"===e||"number"===e||"boolean"===e?String(t):t instanceof Pe||t instanceof je||t instanceof Te||t instanceof Ve||t instanceof Fe||t instanceof Le||t instanceof Oe||t instanceof Re?t.toString():JSON.stringify(t)}class Xe{constructor(t,e){this.type=t,this.value=e;}static parse(t,e){if(2!==t.length)return e.error(`'literal' expression requires exactly one argument, but found ${t.length-1} instead.`);if(!Ue(t[1]))return e.error("invalid value");const r=t[1];let n=qe(r);const i=e.expectedType;return "array"!==n.kind||0!==n.N||!i||"array"!==i.kind||"number"==typeof i.N&&0!==i.N||(n=i),new Xe(n,r)}evaluate(){return this.value}eachChild(){}outputDefined(){return !0}}const Ze={string:Ot,number:Dt,boolean:Rt,object:Ut};class Ye{constructor(t,e){this.type=t,this.args=e;}static parse(t,e){if(t.length<2)return e.error("Expected at least one argument.");let r,n=1;const i=t[0];if("array"===i){let i,s;if(t.length>2){const r=t[1];if("string"!=typeof r||!(r in Ze)||"object"===r)return e.error('The item type argument of "array" must be one of string, number, boolean',1);i=Ze[r],n++;}else i=qt;if(t.length>3){if(null!==t[2]&&("number"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2])))return e.error('The length argument to "array" must be a positive integer literal',2);s=t[2],n++;}r=Wt(i,s);}else {if(!Ze[i])throw new Error(`Types doesn't contain name = ${i}`);r=Ze[i];}const s=[];for(;n<t.length;n++){const r=e.parse(t[n],n,qt);if(!r)return null;s.push(r);}return new Ye(r,s)}evaluate(t){for(let e=0;e<this.args.length;e++){const r=this.args[e].evaluate(t);if(!ee(this.type,qe(r)))return r;if(e===this.args.length-1)throw new $e(`Expected value to be of type ${Qt(this.type)}, but found ${Qt(qe(r))} instead.`)}throw new Error}eachChild(t){this.args.forEach(t);}outputDefined(){return this.args.every((t=>t.outputDefined()))}}const He={"to-boolean":Rt,"to-color":jt,"to-number":Dt,"to-string":Ot};class Ke{constructor(t,e){this.type=t,this.args=e;}static parse(t,e){if(t.length<2)return e.error("Expected at least one argument.");const r=t[0];if(!He[r])throw new Error(`Can't parse ${r} as it is not part of the known types`);if(("to-boolean"===r||"to-string"===r)&&2!==t.length)return e.error("Expected one argument.");const n=He[r],i=[];for(let r=1;r<t.length;r++){const n=e.parse(t[r],r,qt);if(!n)return null;i.push(n);}return new Ke(n,i)}evaluate(t){switch(this.type.kind){case "boolean":return Boolean(this.args[0].evaluate(t));case "color":{let e,r;for(const n of this.args){if(e=n.evaluate(t),r=null,e instanceof Pe)return e;if("string"==typeof e){const r=t.parseColor(e);if(r)return r}else if(Array.isArray(e)&&(r=e.length<3||e.length>4?`Invalid rgba value ${JSON.stringify(e)}: expected an array containing either three or four numeric values.`:Ne(e[0],e[1],e[2],e[3]),!r))return new Pe(e[0]/255,e[1]/255,e[2]/255,e[3])}throw new $e(r||`Could not parse color from value '${"string"==typeof e?e:JSON.stringify(e)}'`)}case "padding":{let e;for(const r of this.args){e=r.evaluate(t);const n=Ve.parse(e);if(n)return n}throw new $e(`Could not parse padding from value '${"string"==typeof e?e:JSON.stringify(e)}'`)}case "numberArray":{let e;for(const r of this.args){e=r.evaluate(t);const n=Fe.parse(e);if(n)return n}throw new $e(`Could not parse numberArray from value '${"string"==typeof e?e:JSON.stringify(e)}'`)}case "colorArray":{let e;for(const r of this.args){e=r.evaluate(t);const n=Le.parse(e);if(n)return n}throw new $e(`Could not parse colorArray from value '${"string"==typeof e?e:JSON.stringify(e)}'`)}case "variableAnchorOffsetCollection":{let e;for(const r of this.args){e=r.evaluate(t);const n=Oe.parse(e);if(n)return n}throw new $e(`Could not parse variableAnchorOffsetCollection from value '${"string"==typeof e?e:JSON.stringify(e)}'`)}case "number":{let e=null;for(const r of this.args){if(e=r.evaluate(t),null===e)return 0;const n=Number(e);if(!isNaN(n))return n}throw new $e(`Could not convert ${JSON.stringify(e)} to number.`)}case "formatted":return Te.fromString(Ge(this.args[0].evaluate(t)));case "resolvedImage":return Re.fromString(Ge(this.args[0].evaluate(t)));case "projectionDefinition":return this.args[0].evaluate(t);default:return Ge(this.args[0].evaluate(t))}}eachChild(t){this.args.forEach(t);}outputDefined(){return this.args.every((t=>t.outputDefined()))}}const Je=["Unknown","Point","LineString","Polygon"];class We{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache=new Map,this.availableImages=null,this.canonical=null;}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?Je[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(t){let e=this._parseColorCache.get(t);return e||(e=Pe.parse(t),this._parseColorCache.set(t,e)),e}}class Qe{constructor(t,e,r=[],n,i=new Lt,s=[]){this.registry=t,this.path=r,this.key=r.map((t=>`[${t}]`)).join(""),this.scope=i,this.errors=s,this.expectedType=n,this._isConstant=e;}parse(t,e,r,n,i={}){return e?this.concat(e,r,n)._parse(t,i):this._parse(t,i)}_parse(t,e){function r(t,e,r){return "assert"===r?new Ye(e,[t]):"coerce"===r?new Ke(e,[t]):t}if(null!==t&&"string"!=typeof t&&"boolean"!=typeof t&&"number"!=typeof t||(t=["literal",t]),Array.isArray(t)){if(0===t.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const n=t[0];if("string"!=typeof n)return this.error(`Expression name must be a string, but found ${typeof n} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const i=this.registry[n];if(i){let n=i.parse(t,this);if(!n)return null;if(this.expectedType){const t=this.expectedType,i=n.type;if("string"!==t.kind&&"number"!==t.kind&&"boolean"!==t.kind&&"object"!==t.kind&&"array"!==t.kind||"value"!==i.kind){if("projectionDefinition"===t.kind&&["string","array"].includes(i.kind)||["color","formatted","resolvedImage"].includes(t.kind)&&["value","string"].includes(i.kind)||["padding","numberArray"].includes(t.kind)&&["value","number","array"].includes(i.kind)||"colorArray"===t.kind&&["value","string","array"].includes(i.kind)||"variableAnchorOffsetCollection"===t.kind&&["value","array"].includes(i.kind))n=r(n,t,e.typeAnnotation||"coerce");else if(this.checkSubtype(t,i))return null}else n=r(n,t,e.typeAnnotation||"assert");}if(!(n instanceof Xe)&&"resolvedImage"!==n.type.kind&&this._isConstant(n)){const t=new We;try{n=new Xe(n.type,n.evaluate(t));}catch(t){return this.error(t.message),null}}return n}return this.error(`Unknown expression "${n}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(void 0===t?"'undefined' value invalid. Use null instead.":"object"==typeof t?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof t} instead.`)}concat(t,e,r){const n="number"==typeof t?this.path.concat(t):this.path,i=r?this.scope.concat(r):this.scope;return new Qe(this.registry,this._isConstant,n,e||null,i,this.errors)}error(t,...e){const r=`${this.key}${e.map((t=>`[${t}]`)).join("")}`;this.errors.push(new Ft(r,t));}checkSubtype(t,e){const r=ee(t,e);return r&&this.error(r),r}}class tr{constructor(t,e){this.type=e.type,this.bindings=[].concat(t),this.result=e;}evaluate(t){return this.result.evaluate(t)}eachChild(t){for(const e of this.bindings)t(e[1]);t(this.result);}static parse(t,e){if(t.length<4)return e.error(`Expected at least 3 arguments, but found ${t.length-1} instead.`);const r=[];for(let n=1;n<t.length-1;n+=2){const i=t[n];if("string"!=typeof i)return e.error(`Expected string, but found ${typeof i} instead.`,n);if(/[^a-zA-Z0-9_]/.test(i))return e.error("Variable names must contain only alphanumeric characters or '_'.",n);const s=e.parse(t[n+1],n+1);if(!s)return null;r.push([i,s]);}const n=e.parse(t[t.length-1],t.length-1,e.expectedType,r);return n?new tr(r,n):null}outputDefined(){return this.result.outputDefined()}}class er{constructor(t,e){this.type=e.type,this.name=t,this.boundExpression=e;}static parse(t,e){if(2!==t.length||"string"!=typeof t[1])return e.error("'var' expression requires exactly one string literal argument.");const r=t[1];return e.scope.has(r)?new er(r,e.scope.get(r)):e.error(`Unknown variable "${r}". Make sure "${r}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(t){return this.boundExpression.evaluate(t)}eachChild(){}outputDefined(){return !1}}class rr{constructor(t,e,r){this.type=t,this.index=e,this.input=r;}static parse(t,e){if(3!==t.length)return e.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const r=e.parse(t[1],1,Dt),n=e.parse(t[2],2,Wt(e.expectedType||qt));return r&&n?new rr(n.type.itemType,r,n):null}evaluate(t){const e=this.index.evaluate(t),r=this.input.evaluate(t);if(e<0)throw new $e(`Array index out of bounds: ${e} < 0.`);if(e>=r.length)throw new $e(`Array index out of bounds: ${e} > ${r.length-1}.`);if(e!==Math.floor(e))throw new $e(`Array index must be an integer, but found ${e} instead.`);return r[e]}eachChild(t){t(this.index),t(this.input);}outputDefined(){return !1}}class nr{constructor(t,e){this.type=Rt,this.needle=t,this.haystack=e;}static parse(t,e){if(3!==t.length)return e.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const r=e.parse(t[1],1,qt),n=e.parse(t[2],2,qt);return r&&n?re(r.type,[Rt,Ot,Dt,$t,qt])?new nr(r,n):e.error(`Expected first argument to be of type boolean, string, number or null, but found ${Qt(r.type)} instead`):null}evaluate(t){const e=this.needle.evaluate(t),r=this.haystack.evaluate(t);if(!r)return !1;if(!ne(e,["boolean","string","number","null"]))throw new $e(`Expected first argument to be of type boolean, string, number or null, but found ${Qt(qe(e))} instead.`);if(!ne(r,["string","array"]))throw new $e(`Expected second argument to be of type array or string, but found ${Qt(qe(r))} instead.`);return r.indexOf(e)>=0}eachChild(t){t(this.needle),t(this.haystack);}outputDefined(){return !0}}class ir{constructor(t,e,r){this.type=Dt,this.needle=t,this.haystack=e,this.fromIndex=r;}static parse(t,e){if(t.length<=2||t.length>=5)return e.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const r=e.parse(t[1],1,qt),n=e.parse(t[2],2,qt);if(!r||!n)return null;if(!re(r.type,[Rt,Ot,Dt,$t,qt]))return e.error(`Expected first argument to be of type boolean, string, number or null, but found ${Qt(r.type)} instead`);if(4===t.length){const i=e.parse(t[3],3,Dt);return i?new ir(r,n,i):null}return new ir(r,n)}evaluate(t){const e=this.needle.evaluate(t),r=this.haystack.evaluate(t);if(!ne(e,["boolean","string","number","null"]))throw new $e(`Expected first argument to be of type boolean, string, number or null, but found ${Qt(qe(e))} instead.`);let n;if(this.fromIndex&&(n=this.fromIndex.evaluate(t)),ne(r,["string"])){const t=r.indexOf(e,n);return -1===t?-1:[...r.slice(0,t)].length}if(ne(r,["array"]))return r.indexOf(e,n);throw new $e(`Expected second argument to be of type array or string, but found ${Qt(qe(r))} instead.`)}eachChild(t){t(this.needle),t(this.haystack),this.fromIndex&&t(this.fromIndex);}outputDefined(){return !1}}class sr{constructor(t,e,r,n,i,s){this.inputType=t,this.type=e,this.input=r,this.cases=n,this.outputs=i,this.otherwise=s;}static parse(t,e){if(t.length<5)return e.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if(t.length%2!=1)return e.error("Expected an even number of arguments.");let r,n;e.expectedType&&"value"!==e.expectedType.kind&&(n=e.expectedType);const i={},s=[];for(let a=2;a<t.length-1;a+=2){let o=t[a];const l=t[a+1];Array.isArray(o)||(o=[o]);const u=e.concat(a);if(0===o.length)return u.error("Expected at least one branch label.");for(const t of o){if("number"!=typeof t&&"string"!=typeof t)return u.error("Branch labels must be numbers or strings.");if("number"==typeof t&&Math.abs(t)>Number.MAX_SAFE_INTEGER)return u.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"==typeof t&&Math.floor(t)!==t)return u.error("Numeric branch labels must be integer values.");if(r){if(u.checkSubtype(r,qe(t)))return null}else r=qe(t);if(void 0!==i[String(t)])return u.error("Branch labels must be unique.");i[String(t)]=s.length;}const c=e.parse(l,a,n);if(!c)return null;n=n||c.type,s.push(c);}const a=e.parse(t[1],1,qt);if(!a)return null;const o=e.parse(t[t.length-1],t.length-1,n);return o?"value"!==a.type.kind&&e.concat(1).checkSubtype(r,a.type)?null:new sr(r,n,a,i,s,o):null}evaluate(t){const e=this.input.evaluate(t);return (qe(e)===this.inputType&&this.outputs[this.cases[e]]||this.otherwise).evaluate(t)}eachChild(t){t(this.input),this.outputs.forEach(t),t(this.otherwise);}outputDefined(){return this.outputs.every((t=>t.outputDefined()))&&this.otherwise.outputDefined()}}class ar{constructor(t,e,r){this.type=t,this.branches=e,this.otherwise=r;}static parse(t,e){if(t.length<4)return e.error(`Expected at least 3 arguments, but found only ${t.length-1}.`);if(t.length%2!=0)return e.error("Expected an odd number of arguments.");let r;e.expectedType&&"value"!==e.expectedType.kind&&(r=e.expectedType);const n=[];for(let i=1;i<t.length-1;i+=2){const s=e.parse(t[i],i,Rt);if(!s)return null;const a=e.parse(t[i+1],i+1,r);if(!a)return null;n.push([s,a]),r=r||a.type;}const i=e.parse(t[t.length-1],t.length-1,r);if(!i)return null;if(!r)throw new Error("Can't infer output type");return new ar(r,n,i)}evaluate(t){for(const[e,r]of this.branches)if(e.evaluate(t))return r.evaluate(t);return this.otherwise.evaluate(t)}eachChild(t){for(const[e,r]of this.branches)t(e),t(r);t(this.otherwise);}outputDefined(){return this.branches.every((([t,e])=>e.outputDefined()))&&this.otherwise.outputDefined()}}class or{constructor(t,e,r,n){this.type=t,this.input=e,this.beginIndex=r,this.endIndex=n;}static parse(t,e){if(t.length<=2||t.length>=5)return e.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const r=e.parse(t[1],1,qt),n=e.parse(t[2],2,Dt);if(!r||!n)return null;if(!re(r.type,[Wt(qt),Ot,qt]))return e.error(`Expected first argument to be of type array or string, but found ${Qt(r.type)} instead`);if(4===t.length){const i=e.parse(t[3],3,Dt);return i?new or(r.type,r,n,i):null}return new or(r.type,r,n)}evaluate(t){const e=this.input.evaluate(t),r=this.beginIndex.evaluate(t);let n;if(this.endIndex&&(n=this.endIndex.evaluate(t)),ne(e,["string"]))return [...e].slice(r,n).join("");if(ne(e,["array"]))return e.slice(r,n);throw new $e(`Expected first argument to be of type array or string, but found ${Qt(qe(e))} instead.`)}eachChild(t){t(this.input),t(this.beginIndex),this.endIndex&&t(this.endIndex);}outputDefined(){return !1}}function lr(t,e){const r=t.length-1;let n,i,s=0,a=r,o=0;for(;s<=a;)if(o=Math.floor((s+a)/2),n=t[o],i=t[o+1],n<=e){if(o===r||e<i)return o;s=o+1;}else {if(!(n>e))throw new $e("Input is not a number.");a=o-1;}return 0}class ur{constructor(t,e,r){this.type=t,this.input=e,this.labels=[],this.outputs=[];for(const[t,e]of r)this.labels.push(t),this.outputs.push(e);}static parse(t,e){if(t.length-1<4)return e.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");const r=e.parse(t[1],1,Dt);if(!r)return null;const n=[];let i=null;e.expectedType&&"value"!==e.expectedType.kind&&(i=e.expectedType);for(let r=1;r<t.length;r+=2){const s=1===r?-1/0:t[r],a=t[r+1],o=r,l=r+1;if("number"!=typeof s)return e.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',o);if(n.length&&n[n.length-1][0]>=s)return e.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',o);const u=e.parse(a,l,i);if(!u)return null;i=i||u.type,n.push([s,u]);}return new ur(i,r,n)}evaluate(t){const e=this.labels,r=this.outputs;if(1===e.length)return r[0].evaluate(t);const n=this.input.evaluate(t);if(n<=e[0])return r[0].evaluate(t);const i=e.length;return n>=e[i-1]?r[i-1].evaluate(t):r[lr(e,n)].evaluate(t)}eachChild(t){t(this.input);for(const e of this.outputs)t(e);}outputDefined(){return this.outputs.every((t=>t.outputDefined()))}}function cr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hr,pr,fr=function(){if(pr)return hr;function t(t,e,r,n){this.cx=3*t,this.bx=3*(r-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(n-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=e,this.p2x=r,this.p2y=n;}return pr=1,hr=t,t.prototype={sampleCurveX:function(t){return ((this.ax*t+this.bx)*t+this.cx)*t},sampleCurveY:function(t){return ((this.ay*t+this.by)*t+this.cy)*t},sampleCurveDerivativeX:function(t){return (3*this.ax*t+2*this.bx)*t+this.cx},solveCurveX:function(t,e){if(void 0===e&&(e=1e-6),t<0)return 0;if(t>1)return 1;for(var r=t,n=0;n<8;n++){var i=this.sampleCurveX(r)-t;if(Math.abs(i)<e)return r;var s=this.sampleCurveDerivativeX(r);if(Math.abs(s)<1e-6)break;r-=i/s;}var a=0,o=1;for(r=t,n=0;n<20&&(i=this.sampleCurveX(r),!(Math.abs(i-t)<e));n++)t>i?a=r:o=r,r=.5*(o-a)+a;return r},solve:function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))}},hr}(),dr=cr(fr);class yr{constructor(t,e,r,n,i){this.type=t,this.operator=e,this.interpolation=r,this.input=n,this.labels=[],this.outputs=[];for(const[t,e]of i)this.labels.push(t),this.outputs.push(e);}static interpolationFactor(t,e,r,n){let i=0;if("exponential"===t.name)i=mr(e,t.base,r,n);else if("linear"===t.name)i=mr(e,1,r,n);else if("cubic-bezier"===t.name){const s=t.controlPoints;i=new dr(s[0],s[1],s[2],s[3]).solve(mr(e,1,r,n));}return i}static parse(t,e){let[r,n,i,...s]=t;if(!Array.isArray(n)||0===n.length)return e.error("Expected an interpolation type expression.",1);if("linear"===n[0])n={name:"linear"};else if("exponential"===n[0]){const t=n[1];if("number"!=typeof t)return e.error("Exponential interpolation requires a numeric base.",1,1);n={name:"exponential",base:t};}else {if("cubic-bezier"!==n[0])return e.error(`Unknown interpolation type ${String(n[0])}`,1,0);{const t=n.slice(1);if(4!==t.length||t.some((t=>"number"!=typeof t||t<0||t>1)))return e.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);n={name:"cubic-bezier",controlPoints:t};}}if(t.length-1<4)return e.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");if(i=e.parse(i,2,Dt),!i)return null;const a=[];let o=null;"interpolate-hcl"!==r&&"interpolate-lab"!==r||e.expectedType==Yt?e.expectedType&&"value"!==e.expectedType.kind&&(o=e.expectedType):o=jt;for(let t=0;t<s.length;t+=2){const r=s[t],n=s[t+1],i=t+3,l=t+4;if("number"!=typeof r)return e.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',i);if(a.length&&a[a.length-1][0]>=r)return e.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',i);const u=e.parse(n,l,o);if(!u)return null;o=o||u.type,a.push([r,u]);}return ie(o,Dt)||ie(o,Nt)||ie(o,jt)||ie(o,Zt)||ie(o,Ht)||ie(o,Yt)||ie(o,Jt)||ie(o,Wt(Dt))?new yr(o,r,n,i,a):e.error(`Type ${Qt(o)} is not interpolatable.`)}evaluate(t){const e=this.labels,r=this.outputs;if(1===e.length)return r[0].evaluate(t);const n=this.input.evaluate(t);if(n<=e[0])return r[0].evaluate(t);const i=e.length;if(n>=e[i-1])return r[i-1].evaluate(t);const s=lr(e,n),a=yr.interpolationFactor(this.interpolation,n,e[s],e[s+1]),o=r[s].evaluate(t),l=r[s+1].evaluate(t);switch(this.operator){case "interpolate":switch(this.type.kind){case "number":return Ie(o,l,a);case "color":return Pe.interpolate(o,l,a);case "padding":return Ve.interpolate(o,l,a);case "colorArray":return Le.interpolate(o,l,a);case "numberArray":return Fe.interpolate(o,l,a);case "variableAnchorOffsetCollection":return Oe.interpolate(o,l,a);case "array":return ze(o,l,a);case "projectionDefinition":return je.interpolate(o,l,a)}case "interpolate-hcl":switch(this.type.kind){case "color":return Pe.interpolate(o,l,a,"hcl");case "colorArray":return Le.interpolate(o,l,a,"hcl")}case "interpolate-lab":switch(this.type.kind){case "color":return Pe.interpolate(o,l,a,"lab");case "colorArray":return Le.interpolate(o,l,a,"lab")}}}eachChild(t){t(this.input);for(const e of this.outputs)t(e);}outputDefined(){return this.outputs.every((t=>t.outputDefined()))}}function mr(t,e,r,n){const i=n-r,s=t-r;return 0===i?0:1===e?s/i:(Math.pow(e,s)-1)/(Math.pow(e,i)-1)}const gr={color:Pe.interpolate,number:Ie,padding:Ve.interpolate,numberArray:Fe.interpolate,colorArray:Le.interpolate,variableAnchorOffsetCollection:Oe.interpolate,array:ze};class xr{constructor(t,e){this.type=t,this.args=e;}static parse(t,e){if(t.length<2)return e.error("Expected at least one argument.");let r=null;const n=e.expectedType;n&&"value"!==n.kind&&(r=n);const i=[];for(const n of t.slice(1)){const t=e.parse(n,1+i.length,r,void 0,{typeAnnotation:"omit"});if(!t)return null;r=r||t.type,i.push(t);}if(!r)throw new Error("No output type");const s=n&&i.some((t=>ee(n,t.type)));return new xr(s?qt:r,i)}evaluate(t){let e,r=null,n=0;for(const i of this.args)if(n++,r=i.evaluate(t),r&&r instanceof Re&&!r.available&&(e||(e=r.name),r=null,n===this.args.length&&(r=e)),null!==r)break;return r}eachChild(t){this.args.forEach(t);}outputDefined(){return this.args.every((t=>t.outputDefined()))}}function vr(t,e){return "=="===t||"!="===t?"boolean"===e.kind||"string"===e.kind||"number"===e.kind||"null"===e.kind||"value"===e.kind:"string"===e.kind||"number"===e.kind||"value"===e.kind}function br(t,e,r,n){return 0===n.compare(e,r)}function wr(t,e,r){const n="=="!==t&&"!="!==t;return class i{constructor(t,e,r){this.type=Rt,this.lhs=t,this.rhs=e,this.collator=r,this.hasUntypedArgument="value"===t.type.kind||"value"===e.type.kind;}static parse(t,e){if(3!==t.length&&4!==t.length)return e.error("Expected two or three arguments.");const r=t[0];let s=e.parse(t[1],1,qt);if(!s)return null;if(!vr(r,s.type))return e.concat(1).error(`"${r}" comparisons are not supported for type '${Qt(s.type)}'.`);let a=e.parse(t[2],2,qt);if(!a)return null;if(!vr(r,a.type))return e.concat(2).error(`"${r}" comparisons are not supported for type '${Qt(a.type)}'.`);if(s.type.kind!==a.type.kind&&"value"!==s.type.kind&&"value"!==a.type.kind)return e.error(`Cannot compare types '${Qt(s.type)}' and '${Qt(a.type)}'.`);n&&("value"===s.type.kind&&"value"!==a.type.kind?s=new Ye(a.type,[s]):"value"!==s.type.kind&&"value"===a.type.kind&&(a=new Ye(s.type,[a])));let o=null;if(4===t.length){if("string"!==s.type.kind&&"string"!==a.type.kind&&"value"!==s.type.kind&&"value"!==a.type.kind)return e.error("Cannot use collator to compare non-string types.");if(o=e.parse(t[3],3,Gt),!o)return null}return new i(s,a,o)}evaluate(i){const s=this.lhs.evaluate(i),a=this.rhs.evaluate(i);if(n&&this.hasUntypedArgument){const e=qe(s),r=qe(a);if(e.kind!==r.kind||"string"!==e.kind&&"number"!==e.kind)throw new $e(`Expected arguments for "${t}" to be (string, string) or (number, number), but found (${e.kind}, ${r.kind}) instead.`)}if(this.collator&&!n&&this.hasUntypedArgument){const t=qe(s),r=qe(a);if("string"!==t.kind||"string"!==r.kind)return e(i,s,a)}return this.collator?r(i,s,a,this.collator.evaluate(i)):e(i,s,a)}eachChild(t){t(this.lhs),t(this.rhs),this.collator&&t(this.collator);}outputDefined(){return !0}}}const _r=wr("==",(function(t,e,r){return e===r}),br),Sr=wr("!=",(function(t,e,r){return e!==r}),(function(t,e,r,n){return !br(0,e,r,n)})),Ar=wr("<",(function(t,e,r){return e<r}),(function(t,e,r,n){return n.compare(e,r)<0})),kr=wr(">",(function(t,e,r){return e>r}),(function(t,e,r,n){return n.compare(e,r)>0})),Mr=wr("<=",(function(t,e,r){return e<=r}),(function(t,e,r,n){return n.compare(e,r)<=0})),Ir=wr(">=",(function(t,e,r){return e>=r}),(function(t,e,r,n){return n.compare(e,r)>=0}));class zr{constructor(t,e,r){this.type=Gt,this.locale=r,this.caseSensitive=t,this.diacriticSensitive=e;}static parse(t,e){if(2!==t.length)return e.error("Expected one argument.");const r=t[1];if("object"!=typeof r||Array.isArray(r))return e.error("Collator options argument must be an object.");const n=e.parse(void 0!==r["case-sensitive"]&&r["case-sensitive"],1,Rt);if(!n)return null;const i=e.parse(void 0!==r["diacritic-sensitive"]&&r["diacritic-sensitive"],1,Rt);if(!i)return null;let s=null;return r.locale&&(s=e.parse(r.locale,1,Ot),!s)?null:new zr(n,i,s)}evaluate(t){return new Ce(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)}eachChild(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale);}outputDefined(){return !1}}class Pr{constructor(t,e,r,n,i){this.type=Ot,this.number=t,this.locale=e,this.currency=r,this.minFractionDigits=n,this.maxFractionDigits=i;}static parse(t,e){if(3!==t.length)return e.error("Expected two arguments.");const r=e.parse(t[1],1,Dt);if(!r)return null;const n=t[2];if("object"!=typeof n||Array.isArray(n))return e.error("NumberFormat options argument must be an object.");let i=null;if(n.locale&&(i=e.parse(n.locale,1,Ot),!i))return null;let s=null;if(n.currency&&(s=e.parse(n.currency,1,Ot),!s))return null;let a=null;if(n["min-fraction-digits"]&&(a=e.parse(n["min-fraction-digits"],1,Dt),!a))return null;let o=null;return n["max-fraction-digits"]&&(o=e.parse(n["max-fraction-digits"],1,Dt),!o)?null:new Pr(r,i,s,a,o)}evaluate(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))}eachChild(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits);}outputDefined(){return !1}}class Cr{constructor(t){this.type=Xt,this.sections=t;}static parse(t,e){if(t.length<2)return e.error("Expected at least one argument.");const r=t[1];if(!Array.isArray(r)&&"object"==typeof r)return e.error("First argument must be an image or text section.");const n=[];let i=!1;for(let r=1;r<=t.length-1;++r){const s=t[r];if(i&&"object"==typeof s&&!Array.isArray(s)){i=!1;let t=null;if(s["font-scale"]&&(t=e.parse(s["font-scale"],1,Dt),!t))return null;let r=null;if(s["text-font"]&&(r=e.parse(s["text-font"],1,Wt(Ot)),!r))return null;let a=null;if(s["text-color"]&&(a=e.parse(s["text-color"],1,jt),!a))return null;let o=null;if(s["vertical-align"]){if("string"==typeof s["vertical-align"]&&!Be.includes(s["vertical-align"]))return e.error(`'vertical-align' must be one of: 'bottom', 'center', 'top' but found '${s["vertical-align"]}' instead.`);if(o=e.parse(s["vertical-align"],1,Ot),!o)return null}const l=n[n.length-1];l.scale=t,l.font=r,l.textColor=a,l.verticalAlign=o;}else {const s=e.parse(t[r],1,qt);if(!s)return null;const a=s.type.kind;if("string"!==a&&"value"!==a&&"null"!==a&&"resolvedImage"!==a)return e.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");i=!0,n.push({content:s,scale:null,font:null,textColor:null,verticalAlign:null});}}return new Cr(n)}evaluate(t){return new Te(this.sections.map((e=>{const r=e.content.evaluate(t);return qe(r)===Kt?new Ee("",r,null,null,null,e.verticalAlign?e.verticalAlign.evaluate(t):null):new Ee(Ge(r),null,e.scale?e.scale.evaluate(t):null,e.font?e.font.evaluate(t).join(","):null,e.textColor?e.textColor.evaluate(t):null,e.verticalAlign?e.verticalAlign.evaluate(t):null)})))}eachChild(t){for(const e of this.sections)t(e.content),e.scale&&t(e.scale),e.font&&t(e.font),e.textColor&&t(e.textColor),e.verticalAlign&&t(e.verticalAlign);}outputDefined(){return !1}}class Br{constructor(t){this.type=Kt,this.input=t;}static parse(t,e){if(2!==t.length)return e.error("Expected two arguments.");const r=e.parse(t[1],1,Ot);return r?new Br(r):e.error("No image name provided.")}evaluate(t){const e=this.input.evaluate(t),r=Re.fromString(e);return r&&t.availableImages&&(r.available=t.availableImages.indexOf(e)>-1),r}eachChild(t){t(this.input);}outputDefined(){return !1}}class Er{constructor(t){this.type=Dt,this.input=t;}static parse(t,e){if(2!==t.length)return e.error(`Expected 1 argument, but found ${t.length-1} instead.`);const r=e.parse(t[1],1);return r?"array"!==r.type.kind&&"string"!==r.type.kind&&"value"!==r.type.kind?e.error(`Expected argument of type string or array, but found ${Qt(r.type)} instead.`):new Er(r):null}evaluate(t){const e=this.input.evaluate(t);if("string"==typeof e)return [...e].length;if(Array.isArray(e))return e.length;throw new $e(`Expected value to be of type string or array, but found ${Qt(qe(e))} instead.`)}eachChild(t){t(this.input);}outputDefined(){return !1}}const Tr=8192;function Vr(t,e){const r=(180+t[0])/360,n=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t[1]*Math.PI/360)))/360,i=Math.pow(2,e.z);return [Math.round(r*i*Tr),Math.round(n*i*Tr)]}function Fr(t,e){const r=Math.pow(2,e.z);return [(i=(t[0]/Tr+e.x)/r,360*i-180),(n=(t[1]/Tr+e.y)/r,360/Math.PI*Math.atan(Math.exp((180-360*n)*Math.PI/180))-90)];var n,i;}function Lr(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.max(t[2],e[0]),t[3]=Math.max(t[3],e[1]);}function $r(t,e){return !(t[0]<=e[0]||t[2]>=e[2]||t[1]<=e[1]||t[3]>=e[3])}function Dr(t,e,r){const n=t[0]-e[0],i=t[1]-e[1],s=t[0]-r[0],a=t[1]-r[1];return n*a-s*i==0&&n*s<=0&&i*a<=0}function Or(t,e,r,n){return 0!=(i=[n[0]-r[0],n[1]-r[1]])[0]*(s=[e[0]-t[0],e[1]-t[1]])[1]-i[1]*s[0]&&!(!Gr(t,e,r,n)||!Gr(r,n,t,e));var i,s;}function Rr(t,e,r){for(const n of r)for(let r=0;r<n.length-1;++r)if(Or(t,e,n[r],n[r+1]))return !0;return !1}function jr(t,e,r=!1){let n=!1;for(const o of e)for(let e=0;e<o.length-1;e++){if(Dr(t,o[e],o[e+1]))return r;(s=o[e])[1]>(i=t)[1]!=(a=o[e+1])[1]>i[1]&&i[0]<(a[0]-s[0])*(i[1]-s[1])/(a[1]-s[1])+s[0]&&(n=!n);}var i,s,a;return n}function Nr(t,e){for(const r of e)if(jr(t,r))return !0;return !1}function Ur(t,e){for(const r of t)if(!jr(r,e))return !1;for(let r=0;r<t.length-1;++r)if(Rr(t[r],t[r+1],e))return !1;return !0}function qr(t,e){for(const r of e)if(Ur(t,r))return !0;return !1}function Gr(t,e,r,n){const i=n[0]-r[0],s=n[1]-r[1],a=(t[0]-r[0])*s-i*(t[1]-r[1]),o=(e[0]-r[0])*s-i*(e[1]-r[1]);return a>0&&o<0||a<0&&o>0}function Xr(t,e,r){const n=[];for(let i=0;i<t.length;i++){const s=[];for(let n=0;n<t[i].length;n++){const a=Vr(t[i][n],r);Lr(e,a),s.push(a);}n.push(s);}return n}function Zr(t,e,r){const n=[];for(let i=0;i<t.length;i++){const s=Xr(t[i],e,r);n.push(s);}return n}function Yr(t,e,r,n){if(t[0]<r[0]||t[0]>r[2]){const e=.5*n;let i=t[0]-r[0]>e?-n:r[0]-t[0]>e?n:0;0===i&&(i=t[0]-r[2]>e?-n:r[2]-t[0]>e?n:0),t[0]+=i;}Lr(e,t);}function Hr(t,e,r,n){const i=Math.pow(2,n.z)*Tr,s=[n.x*Tr,n.y*Tr],a=[];for(const n of t)for(const t of n){const n=[t.x+s[0],t.y+s[1]];Yr(n,e,r,i),a.push(n);}return a}function Kr(t,e,r,n){const i=Math.pow(2,n.z)*Tr,s=[n.x*Tr,n.y*Tr],a=[];for(const r of t){const t=[];for(const n of r){const r=[n.x+s[0],n.y+s[1]];Lr(e,r),t.push(r);}a.push(t);}if(e[2]-e[0]<=i/2){(o=e)[0]=o[1]=1/0,o[2]=o[3]=-1/0;for(const t of a)for(const n of t)Yr(n,e,r,i);}var o;return a}class Jr{constructor(t,e){this.type=Rt,this.geojson=t,this.geometries=e;}static parse(t,e){if(2!==t.length)return e.error(`'within' expression requires exactly one argument, but found ${t.length-1} instead.`);if(Ue(t[1])){const e=t[1];if("FeatureCollection"===e.type){const t=[];for(const r of e.features){const{type:e,coordinates:n}=r.geometry;"Polygon"===e&&t.push(n),"MultiPolygon"===e&&t.push(...n);}if(t.length)return new Jr(e,{type:"MultiPolygon",coordinates:t})}else if("Feature"===e.type){const t=e.geometry.type;if("Polygon"===t||"MultiPolygon"===t)return new Jr(e,e.geometry)}else if("Polygon"===e.type||"MultiPolygon"===e.type)return new Jr(e,e)}return e.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(t){if(null!=t.geometry()&&null!=t.canonicalID()){if("Point"===t.geometryType())return function(t,e){const r=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],i=t.canonicalID();if("Polygon"===e.type){const s=Xr(e.coordinates,n,i),a=Hr(t.geometry(),r,n,i);if(!$r(r,n))return !1;for(const t of a)if(!jr(t,s))return !1}if("MultiPolygon"===e.type){const s=Zr(e.coordinates,n,i),a=Hr(t.geometry(),r,n,i);if(!$r(r,n))return !1;for(const t of a)if(!Nr(t,s))return !1}return !0}(t,this.geometries);if("LineString"===t.geometryType())return function(t,e){const r=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],i=t.canonicalID();if("Polygon"===e.type){const s=Xr(e.coordinates,n,i),a=Kr(t.geometry(),r,n,i);if(!$r(r,n))return !1;for(const t of a)if(!Ur(t,s))return !1}if("MultiPolygon"===e.type){const s=Zr(e.coordinates,n,i),a=Kr(t.geometry(),r,n,i);if(!$r(r,n))return !1;for(const t of a)if(!qr(t,s))return !1}return !0}(t,this.geometries)}return !1}eachChild(){}outputDefined(){return !0}}let Wr=class{constructor(t=[],e=(t,e)=>t<e?-1:t>e?1:0){if(this.data=t,this.length=this.data.length,this.compare=e,this.length>0)for(let t=(this.length>>1)-1;t>=0;t--)this._down(t);}push(t){this.data.push(t),this._up(this.length++);}pop(){if(0===this.length)return;const t=this.data[0],e=this.data.pop();return --this.length>0&&(this.data[0]=e,this._down(0)),t}peek(){return this.data[0]}_up(t){const{data:e,compare:r}=this,n=e[t];for(;t>0;){const i=t-1>>1,s=e[i];if(r(n,s)>=0)break;e[t]=s,t=i;}e[t]=n;}_down(t){const{data:e,compare:r}=this,n=this.length>>1,i=e[t];for(;t<n;){let n=1+(t<<1);const s=n+1;if(s<this.length&&r(e[s],e[n])<0&&(n=s),r(e[n],i)>=0)break;e[t]=e[n],t=n;}e[t]=i;}};function Qr(t,e,r=0,n=t.length-1,i=en){for(;n>r;){if(n-r>600){const s=n-r+1,a=e-r+1,o=Math.log(s),l=.5*Math.exp(2*o/3),u=.5*Math.sqrt(o*l*(s-l)/s)*(a-s/2<0?-1:1);Qr(t,e,Math.max(r,Math.floor(e-a*l/s+u)),Math.min(n,Math.floor(e+(s-a)*l/s+u)),i);}const s=t[e];let a=r,o=n;for(tn(t,r,e),i(t[n],s)>0&&tn(t,r,n);a<o;){for(tn(t,a,o),a++,o--;i(t[a],s)<0;)a++;for(;i(t[o],s)>0;)o--;}0===i(t[r],s)?tn(t,r,o):(o++,tn(t,o,n)),o<=e&&(r=o+1),e<=o&&(n=o-1);}}function tn(t,e,r){const n=t[e];t[e]=t[r],t[r]=n;}function en(t,e){return t<e?-1:t>e?1:0}function rn(t,e){if(t.length<=1)return [t];const r=[];let n,i;for(const e of t){const t=sn(e);0!==t&&(e.area=Math.abs(t),void 0===i&&(i=t<0),i===t<0?(n&&r.push(n),n=[e]):n.push(e));}if(n&&r.push(n),e>1)for(let t=0;t<r.length;t++)r[t].length<=e||(Qr(r[t],e,1,r[t].length-1,nn),r[t]=r[t].slice(0,e));return r}function nn(t,e){return e.area-t.area}function sn(t){let e=0;for(let r,n,i=0,s=t.length,a=s-1;i<s;a=i++)r=t[i],n=t[a],e+=(n.x-r.x)*(r.y+n.y);return e}const an=1/298.257223563,on=an*(2-an),ln=Math.PI/180;class un{constructor(t){const e=6378.137*ln*1e3,r=Math.cos(t*ln),n=1/(1-on*(1-r*r)),i=Math.sqrt(n);this.kx=e*i*r,this.ky=e*i*n*(1-on);}distance(t,e){const r=this.wrap(t[0]-e[0])*this.kx,n=(t[1]-e[1])*this.ky;return Math.sqrt(r*r+n*n)}pointOnLine(t,e){let r,n,i,s,a=1/0;for(let o=0;o<t.length-1;o++){let l=t[o][0],u=t[o][1],c=this.wrap(t[o+1][0]-l)*this.kx,h=(t[o+1][1]-u)*this.ky,p=0;0===c&&0===h||(p=(this.wrap(e[0]-l)*this.kx*c+(e[1]-u)*this.ky*h)/(c*c+h*h),p>1?(l=t[o+1][0],u=t[o+1][1]):p>0&&(l+=c/this.kx*p,u+=h/this.ky*p)),c=this.wrap(e[0]-l)*this.kx,h=(e[1]-u)*this.ky;const f=c*c+h*h;f<a&&(a=f,r=l,n=u,i=o,s=p);}return {point:[r,n],index:i,t:Math.max(0,Math.min(1,s))}}wrap(t){for(;t<-180;)t+=360;for(;t>180;)t-=360;return t}}function cn(t,e){return e[0]-t[0]}function hn(t){return t[1]-t[0]+1}function pn(t,e){return t[1]>=t[0]&&t[1]<e}function fn(t,e){if(t[0]>t[1])return [null,null];const r=hn(t);if(e){if(2===r)return [t,null];const e=Math.floor(r/2);return [[t[0],t[0]+e],[t[0]+e,t[1]]]}if(1===r)return [t,null];const n=Math.floor(r/2)-1;return [[t[0],t[0]+n],[t[0]+n+1,t[1]]]}function dn(t,e){if(!pn(e,t.length))return [1/0,1/0,-1/0,-1/0];const r=[1/0,1/0,-1/0,-1/0];for(let n=e[0];n<=e[1];++n)Lr(r,t[n]);return r}function yn(t){const e=[1/0,1/0,-1/0,-1/0];for(const r of t)for(const t of r)Lr(e,t);return e}function mn(t){return t[0]!==-1/0&&t[1]!==-1/0&&t[2]!==1/0&&t[3]!==1/0}function gn(t,e,r){if(!mn(t)||!mn(e))return NaN;let n=0,i=0;return t[2]<e[0]&&(n=e[0]-t[2]),t[0]>e[2]&&(n=t[0]-e[2]),t[1]>e[3]&&(i=t[1]-e[3]),t[3]<e[1]&&(i=e[1]-t[3]),r.distance([0,0],[n,i])}function xn(t,e,r){const n=r.pointOnLine(e,t);return r.distance(t,n.point)}function vn(t,e,r,n,i){const s=Math.min(xn(t,[r,n],i),xn(e,[r,n],i)),a=Math.min(xn(r,[t,e],i),xn(n,[t,e],i));return Math.min(s,a)}function bn(t,e,r,n,i){if(!pn(e,t.length)||!pn(n,r.length))return 1/0;let s=1/0;for(let a=e[0];a<e[1];++a){const e=t[a],o=t[a+1];for(let t=n[0];t<n[1];++t){const n=r[t],a=r[t+1];if(Or(e,o,n,a))return 0;s=Math.min(s,vn(e,o,n,a,i));}}return s}function wn(t,e,r,n,i){if(!pn(e,t.length)||!pn(n,r.length))return NaN;let s=1/0;for(let a=e[0];a<=e[1];++a)for(let e=n[0];e<=n[1];++e)if(s=Math.min(s,i.distance(t[a],r[e])),0===s)return s;return s}function _n(t,e,r){if(jr(t,e,!0))return 0;let n=1/0;for(const i of e){const e=i[0],s=i[i.length-1];if(e!==s&&(n=Math.min(n,xn(t,[s,e],r)),0===n))return n;const a=r.pointOnLine(i,t);if(n=Math.min(n,r.distance(t,a.point)),0===n)return n}return n}function Sn(t,e,r,n){if(!pn(e,t.length))return NaN;for(let n=e[0];n<=e[1];++n)if(jr(t[n],r,!0))return 0;let i=1/0;for(let s=e[0];s<e[1];++s){const e=t[s],a=t[s+1];for(const t of r)for(let r=0,s=t.length,o=s-1;r<s;o=r++){const s=t[o],l=t[r];if(Or(e,a,s,l))return 0;i=Math.min(i,vn(e,a,s,l,n));}}return i}function An(t,e){for(const r of t)for(const t of r)if(jr(t,e,!0))return !0;return !1}function kn(t,e,r,n=1/0){const i=yn(t),s=yn(e);if(n!==1/0&&gn(i,s,r)>=n)return n;if($r(i,s)){if(An(t,e))return 0}else if(An(e,t))return 0;let a=1/0;for(const n of t)for(let t=0,i=n.length,s=i-1;t<i;s=t++){const i=n[s],o=n[t];for(const t of e)for(let e=0,n=t.length,s=n-1;e<n;s=e++){const n=t[s],l=t[e];if(Or(i,o,n,l))return 0;a=Math.min(a,vn(i,o,n,l,r));}}return a}function Mn(t,e,r,n,i,s){if(!s)return;const a=gn(dn(n,s),i,r);a<e&&t.push([a,s,[0,0]]);}function In(t,e,r,n,i,s,a){if(!s||!a)return;const o=gn(dn(n,s),dn(i,a),r);o<e&&t.push([o,s,a]);}function zn(t,e,r,n,i=1/0){let s=Math.min(n.distance(t[0],r[0][0]),i);if(0===s)return s;const a=new Wr([[0,[0,t.length-1],[0,0]]],cn),o=yn(r);for(;a.length>0;){const i=a.pop();if(i[0]>=s)continue;const l=i[1],u=e?50:100;if(hn(l)<=u){if(!pn(l,t.length))return NaN;if(e){const e=Sn(t,l,r,n);if(isNaN(e)||0===e)return e;s=Math.min(s,e);}else for(let e=l[0];e<=l[1];++e){const i=_n(t[e],r,n);if(s=Math.min(s,i),0===s)return 0}}else {const r=fn(l,e);Mn(a,s,n,t,o,r[0]),Mn(a,s,n,t,o,r[1]);}}return s}function Pn(t,e,r,n,i,s=1/0){let a=Math.min(s,i.distance(t[0],r[0]));if(0===a)return a;const o=new Wr([[0,[0,t.length-1],[0,r.length-1]]],cn);for(;o.length>0;){const s=o.pop();if(s[0]>=a)continue;const l=s[1],u=s[2],c=e?50:100,h=n?50:100;if(hn(l)<=c&&hn(u)<=h){if(!pn(l,t.length)&&pn(u,r.length))return NaN;let s;if(e&&n)s=bn(t,l,r,u,i),a=Math.min(a,s);else if(e&&!n){const e=t.slice(l[0],l[1]+1);for(let t=u[0];t<=u[1];++t)if(s=xn(r[t],e,i),a=Math.min(a,s),0===a)return a}else if(!e&&n){const e=r.slice(u[0],u[1]+1);for(let r=l[0];r<=l[1];++r)if(s=xn(t[r],e,i),a=Math.min(a,s),0===a)return a}else s=wn(t,l,r,u,i),a=Math.min(a,s);}else {const s=fn(l,e),c=fn(u,n);In(o,a,i,t,r,s[0],c[0]),In(o,a,i,t,r,s[0],c[1]),In(o,a,i,t,r,s[1],c[0]),In(o,a,i,t,r,s[1],c[1]);}}return a}function Cn(t){return "MultiPolygon"===t.type?t.coordinates.map((t=>({type:"Polygon",coordinates:t}))):"MultiLineString"===t.type?t.coordinates.map((t=>({type:"LineString",coordinates:t}))):"MultiPoint"===t.type?t.coordinates.map((t=>({type:"Point",coordinates:t}))):[t]}class Bn{constructor(t,e){this.type=Dt,this.geojson=t,this.geometries=e;}static parse(t,e){if(2!==t.length)return e.error(`'distance' expression requires exactly one argument, but found ${t.length-1} instead.`);if(Ue(t[1])){const e=t[1];if("FeatureCollection"===e.type)return new Bn(e,e.features.map((t=>Cn(t.geometry))).flat());if("Feature"===e.type)return new Bn(e,Cn(e.geometry));if("type"in e&&"coordinates"in e)return new Bn(e,Cn(e))}return e.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(t){if(null!=t.geometry()&&null!=t.canonicalID()){if("Point"===t.geometryType())return function(t,e){const r=t.geometry(),n=r.flat().map((e=>Fr([e.x,e.y],t.canonical)));if(0===r.length)return NaN;const i=new un(n[0][1]);let s=1/0;for(const t of e){switch(t.type){case "Point":s=Math.min(s,Pn(n,!1,[t.coordinates],!1,i,s));break;case "LineString":s=Math.min(s,Pn(n,!1,t.coordinates,!0,i,s));break;case "Polygon":s=Math.min(s,zn(n,!1,t.coordinates,i,s));}if(0===s)return s}return s}(t,this.geometries);if("LineString"===t.geometryType())return function(t,e){const r=t.geometry(),n=r.flat().map((e=>Fr([e.x,e.y],t.canonical)));if(0===r.length)return NaN;const i=new un(n[0][1]);let s=1/0;for(const t of e){switch(t.type){case "Point":s=Math.min(s,Pn(n,!0,[t.coordinates],!1,i,s));break;case "LineString":s=Math.min(s,Pn(n,!0,t.coordinates,!0,i,s));break;case "Polygon":s=Math.min(s,zn(n,!0,t.coordinates,i,s));}if(0===s)return s}return s}(t,this.geometries);if("Polygon"===t.geometryType())return function(t,e){const r=t.geometry();if(0===r.length||0===r[0].length)return NaN;const n=rn(r,0).map((e=>e.map((e=>e.map((e=>Fr([e.x,e.y],t.canonical))))))),i=new un(n[0][0][0][1]);let s=1/0;for(const t of e)for(const e of n){switch(t.type){case "Point":s=Math.min(s,zn([t.coordinates],!1,e,i,s));break;case "LineString":s=Math.min(s,zn(t.coordinates,!0,e,i,s));break;case "Polygon":s=Math.min(s,kn(e,t.coordinates,i,s));}if(0===s)return s}return s}(t,this.geometries)}return NaN}eachChild(){}outputDefined(){return !0}}class En{constructor(t){this.type=qt,this.key=t;}static parse(t,e){if(2!==t.length)return e.error(`Expected 1 argument, but found ${t.length-1} instead.`);const r=t[1];return null==r?e.error("Global state property must be defined."):"string"!=typeof r?e.error(`Global state property must be string, but found ${typeof t[1]} instead.`):new En(r)}evaluate(t){var e;const r=null===(e=t.globals)||void 0===e?void 0:e.globalState;return r&&0!==Object.keys(r).length?we(r,this.key):null}eachChild(){}outputDefined(){return !1}}const Tn={"==":_r,"!=":Sr,">":kr,"<":Ar,">=":Ir,"<=":Mr,array:Ye,at:rr,boolean:Ye,case:ar,coalesce:xr,collator:zr,format:Cr,image:Br,in:nr,"index-of":ir,interpolate:yr,"interpolate-hcl":yr,"interpolate-lab":yr,length:Er,let:tr,literal:Xe,match:sr,number:Ye,"number-format":Pr,object:Ye,slice:or,step:ur,string:Ye,"to-boolean":Ke,"to-color":Ke,"to-number":Ke,"to-string":Ke,var:er,within:Jr,distance:Bn,"global-state":En};class Vn{constructor(t,e,r,n){this.name=t,this.type=e,this._evaluate=r,this.args=n;}evaluate(t){return this._evaluate(t,this.args)}eachChild(t){this.args.forEach(t);}outputDefined(){return !1}static parse(t,e){const r=t[0],n=Vn.definitions[r];if(!n)return e.error(`Unknown expression "${r}". If you wanted a literal array, use ["literal", [...]].`,0);const i=Array.isArray(n)?n[0]:n.type,s=Array.isArray(n)?[[n[1],n[2]]]:n.overloads,a=s.filter((([e])=>!Array.isArray(e)||e.length===t.length-1));let o=null;for(const[n,s]of a){o=new Qe(e.registry,On,e.path,null,e.scope);const a=[];let l=!1;for(let e=1;e<t.length;e++){const r=t[e],i=Array.isArray(n)?n[e-1]:n.type,s=o.parse(r,1+a.length,i);if(!s){l=!0;break}a.push(s);}if(!l)if(Array.isArray(n)&&n.length!==a.length)o.error(`Expected ${n.length} arguments, but found ${a.length} instead.`);else {for(let t=0;t<a.length;t++){const e=Array.isArray(n)?n[t]:n.type,r=a[t];o.concat(t+1).checkSubtype(e,r.type);}if(0===o.errors.length)return new Vn(r,i,s,a)}}if(1===a.length)e.errors.push(...o.errors);else {const r=(a.length?a:s).map((([t])=>{return e=t,Array.isArray(e)?`(${e.map(Qt).join(", ")})`:`(${Qt(e.type)}...)`;var e;})).join(" | "),n=[];for(let r=1;r<t.length;r++){const i=e.parse(t[r],1+n.length);if(!i)return null;n.push(Qt(i.type));}e.error(`Expected arguments of type ${r}, but found (${n.join(", ")}) instead.`);}return null}static register(t,e){Vn.definitions=e;for(const r in e)t[r]=Vn;}}function Fn(t,[e,r,n,i]){e=e.evaluate(t),r=r.evaluate(t),n=n.evaluate(t);const s=i?i.evaluate(t):1,a=Ne(e,r,n,s);if(a)throw new $e(a);return new Pe(e/255,r/255,n/255,s,!1)}function Ln(t,e){return t in e}function $n(t,e){const r=e[t];return void 0===r?null:r}function Dn(t){return {type:t}}function On(t){if(t instanceof er)return On(t.boundExpression);if(t instanceof Vn&&"error"===t.name)return !1;if(t instanceof zr)return !1;if(t instanceof Jr)return !1;if(t instanceof Bn)return !1;if(t instanceof En)return !1;const e=t instanceof Ke||t instanceof Ye;let r=!0;return t.eachChild((t=>{r=e?r&&On(t):r&&t instanceof Xe;})),!!r&&Rn(t)&&Nn(t,["zoom","heatmap-density","elevation","line-progress","accumulated","is-supported-script"])}function Rn(t){if(t instanceof Vn){if("get"===t.name&&1===t.args.length)return !1;if("feature-state"===t.name)return !1;if("has"===t.name&&1===t.args.length)return !1;if("properties"===t.name||"geometry-type"===t.name||"id"===t.name)return !1;if(/^filter-/.test(t.name))return !1}if(t instanceof Jr)return !1;if(t instanceof Bn)return !1;let e=!0;return t.eachChild((t=>{e&&!Rn(t)&&(e=!1);})),e}function jn(t){if(t instanceof Vn&&"feature-state"===t.name)return !1;let e=!0;return t.eachChild((t=>{e&&!jn(t)&&(e=!1);})),e}function Nn(t,e){if(t instanceof Vn&&e.indexOf(t.name)>=0)return !1;let r=!0;return t.eachChild((t=>{r&&!Nn(t,e)&&(r=!1);})),r}function Un(t){return {result:"success",value:t}}function qn(t){return {result:"error",value:t}}function Gn(t){return "data-driven"===t["property-type"]||"cross-faded-data-driven"===t["property-type"]}function Xn(t){return !!t.expression&&t.expression.parameters.indexOf("zoom")>-1}function Zn(t){return !!t.expression&&t.expression.interpolated}function Yn(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":null===t?"null":typeof t}function Hn(t){return "object"==typeof t&&null!==t&&!Array.isArray(t)&&qe(t)===Ut}function Kn(t){return t}function Jn(t,e){const r=t.stops&&"object"==typeof t.stops[0][0],n=r||!(r||void 0!==t.property),i=t.type||(Zn(e)?"exponential":"interval"),s=function(t){switch(t.type){case "color":return Pe.parse;case "padding":return Ve.parse;case "numberArray":return Fe.parse;case "colorArray":return Le.parse;default:return null}}(e);if(s&&((t=Vt({},t)).stops&&(t.stops=t.stops.map((t=>[t[0],s(t[1])]))),t.default=s(t.default?t.default:e.default)),t.colorSpace&&"rgb"!==(a=t.colorSpace)&&"hcl"!==a&&"lab"!==a)throw new Error(`Unknown color space: "${t.colorSpace}"`);var a;const o=function(t){switch(t){case "exponential":return ei;case "interval":return ti;case "categorical":return Qn;case "identity":return ri;default:throw new Error(`Unknown function type "${t}"`)}}(i);let l,u;if("categorical"===i){l=Object.create(null);for(const e of t.stops)l[e[0]]=e[1];u=typeof t.stops[0][0];}if(r){const r={},n=[];for(let e=0;e<t.stops.length;e++){const i=t.stops[e],s=i[0].zoom;void 0===r[s]&&(r[s]={zoom:s,type:t.type,property:t.property,default:t.default,stops:[]},n.push(s)),r[s].stops.push([i[0].value,i[1]]);}const i=[];for(const t of n)i.push([r[t].zoom,Jn(r[t],e)]);const s={name:"linear"};return {kind:"composite",interpolationType:s,interpolationFactor:yr.interpolationFactor.bind(void 0,s),zoomStops:i.map((t=>t[0])),evaluate:({zoom:r},n)=>ei({stops:i,base:t.base},e,r).evaluate(r,n)}}if(n){const r="exponential"===i?{name:"exponential",base:void 0!==t.base?t.base:1}:null;return {kind:"camera",interpolationType:r,interpolationFactor:yr.interpolationFactor.bind(void 0,r),zoomStops:t.stops.map((t=>t[0])),evaluate:({zoom:r})=>o(t,e,r,l,u)}}return {kind:"source",evaluate(r,n){const i=n&&n.properties?n.properties[t.property]:void 0;return void 0===i?Wn(t.default,e.default):o(t,e,i,l,u)}}}function Wn(t,e,r){return void 0!==t?t:void 0!==e?e:void 0!==r?r:void 0}function Qn(t,e,r,n,i){return Wn(typeof r===i?n[r]:void 0,t.default,e.default)}function ti(t,e,r){if("number"!==Yn(r))return Wn(t.default,e.default);const n=t.stops.length;if(1===n)return t.stops[0][1];if(r<=t.stops[0][0])return t.stops[0][1];if(r>=t.stops[n-1][0])return t.stops[n-1][1];const i=lr(t.stops.map((t=>t[0])),r);return t.stops[i][1]}function ei(t,e,r){const n=void 0!==t.base?t.base:1;if("number"!==Yn(r))return Wn(t.default,e.default);const i=t.stops.length;if(1===i)return t.stops[0][1];if(r<=t.stops[0][0])return t.stops[0][1];if(r>=t.stops[i-1][0])return t.stops[i-1][1];const s=lr(t.stops.map((t=>t[0])),r),a=function(t,e,r,n){const i=n-r,s=t-r;return 0===i?0:1===e?s/i:(Math.pow(e,s)-1)/(Math.pow(e,i)-1)}(r,n,t.stops[s][0],t.stops[s+1][0]),o=t.stops[s][1],l=t.stops[s+1][1],u=gr[e.type]||Kn;return "function"==typeof o.evaluate?{evaluate(...e){const r=o.evaluate.apply(void 0,e),n=l.evaluate.apply(void 0,e);if(void 0!==r&&void 0!==n)return u(r,n,a,t.colorSpace)}}:u(o,l,a,t.colorSpace)}function ri(t,e,r){switch(e.type){case "color":r=Pe.parse(r);break;case "formatted":r=Te.fromString(r.toString());break;case "resolvedImage":r=Re.fromString(r.toString());break;case "padding":r=Ve.parse(r);break;case "colorArray":r=Le.parse(r);break;case "numberArray":r=Fe.parse(r);break;default:Yn(r)===e.type||"enum"===e.type&&e.values[r]||(r=void 0);}return Wn(r,t.default,e.default)}Vn.register(Tn,{error:[{kind:"error"},[Ot],(t,[e])=>{throw new $e(e.evaluate(t))}],typeof:[Ot,[qt],(t,[e])=>Qt(qe(e.evaluate(t)))],"to-rgba":[Wt(Dt,4),[jt],(t,[e])=>{const[r,n,i,s]=e.evaluate(t).rgb;return [255*r,255*n,255*i,s]}],rgb:[jt,[Dt,Dt,Dt],Fn],rgba:[jt,[Dt,Dt,Dt,Dt],Fn],has:{type:Rt,overloads:[[[Ot],(t,[e])=>Ln(e.evaluate(t),t.properties())],[[Ot,Ut],(t,[e,r])=>Ln(e.evaluate(t),r.evaluate(t))]]},get:{type:qt,overloads:[[[Ot],(t,[e])=>$n(e.evaluate(t),t.properties())],[[Ot,Ut],(t,[e,r])=>$n(e.evaluate(t),r.evaluate(t))]]},"feature-state":[qt,[Ot],(t,[e])=>$n(e.evaluate(t),t.featureState||{})],properties:[Ut,[],t=>t.properties()],"geometry-type":[Ot,[],t=>t.geometryType()],id:[qt,[],t=>t.id()],zoom:[Dt,[],t=>t.globals.zoom],"heatmap-density":[Dt,[],t=>t.globals.heatmapDensity||0],elevation:[Dt,[],t=>t.globals.elevation||0],"line-progress":[Dt,[],t=>t.globals.lineProgress||0],accumulated:[qt,[],t=>void 0===t.globals.accumulated?null:t.globals.accumulated],"+":[Dt,Dn(Dt),(t,e)=>{let r=0;for(const n of e)r+=n.evaluate(t);return r}],"*":[Dt,Dn(Dt),(t,e)=>{let r=1;for(const n of e)r*=n.evaluate(t);return r}],"-":{type:Dt,overloads:[[[Dt,Dt],(t,[e,r])=>e.evaluate(t)-r.evaluate(t)],[[Dt],(t,[e])=>-e.evaluate(t)]]},"/":[Dt,[Dt,Dt],(t,[e,r])=>e.evaluate(t)/r.evaluate(t)],"%":[Dt,[Dt,Dt],(t,[e,r])=>e.evaluate(t)%r.evaluate(t)],ln2:[Dt,[],()=>Math.LN2],pi:[Dt,[],()=>Math.PI],e:[Dt,[],()=>Math.E],"^":[Dt,[Dt,Dt],(t,[e,r])=>Math.pow(e.evaluate(t),r.evaluate(t))],sqrt:[Dt,[Dt],(t,[e])=>Math.sqrt(e.evaluate(t))],log10:[Dt,[Dt],(t,[e])=>Math.log(e.evaluate(t))/Math.LN10],ln:[Dt,[Dt],(t,[e])=>Math.log(e.evaluate(t))],log2:[Dt,[Dt],(t,[e])=>Math.log(e.evaluate(t))/Math.LN2],sin:[Dt,[Dt],(t,[e])=>Math.sin(e.evaluate(t))],cos:[Dt,[Dt],(t,[e])=>Math.cos(e.evaluate(t))],tan:[Dt,[Dt],(t,[e])=>Math.tan(e.evaluate(t))],asin:[Dt,[Dt],(t,[e])=>Math.asin(e.evaluate(t))],acos:[Dt,[Dt],(t,[e])=>Math.acos(e.evaluate(t))],atan:[Dt,[Dt],(t,[e])=>Math.atan(e.evaluate(t))],min:[Dt,Dn(Dt),(t,e)=>Math.min(...e.map((e=>e.evaluate(t))))],max:[Dt,Dn(Dt),(t,e)=>Math.max(...e.map((e=>e.evaluate(t))))],abs:[Dt,[Dt],(t,[e])=>Math.abs(e.evaluate(t))],round:[Dt,[Dt],(t,[e])=>{const r=e.evaluate(t);return r<0?-Math.round(-r):Math.round(r)}],floor:[Dt,[Dt],(t,[e])=>Math.floor(e.evaluate(t))],ceil:[Dt,[Dt],(t,[e])=>Math.ceil(e.evaluate(t))],"filter-==":[Rt,[Ot,qt],(t,[e,r])=>t.properties()[e.value]===r.value],"filter-id-==":[Rt,[qt],(t,[e])=>t.id()===e.value],"filter-type-==":[Rt,[Ot],(t,[e])=>t.geometryType()===e.value],"filter-<":[Rt,[Ot,qt],(t,[e,r])=>{const n=t.properties()[e.value],i=r.value;return typeof n==typeof i&&n<i}],"filter-id-<":[Rt,[qt],(t,[e])=>{const r=t.id(),n=e.value;return typeof r==typeof n&&r<n}],"filter->":[Rt,[Ot,qt],(t,[e,r])=>{const n=t.properties()[e.value],i=r.value;return typeof n==typeof i&&n>i}],"filter-id->":[Rt,[qt],(t,[e])=>{const r=t.id(),n=e.value;return typeof r==typeof n&&r>n}],"filter-<=":[Rt,[Ot,qt],(t,[e,r])=>{const n=t.properties()[e.value],i=r.value;return typeof n==typeof i&&n<=i}],"filter-id-<=":[Rt,[qt],(t,[e])=>{const r=t.id(),n=e.value;return typeof r==typeof n&&r<=n}],"filter->=":[Rt,[Ot,qt],(t,[e,r])=>{const n=t.properties()[e.value],i=r.value;return typeof n==typeof i&&n>=i}],"filter-id->=":[Rt,[qt],(t,[e])=>{const r=t.id(),n=e.value;return typeof r==typeof n&&r>=n}],"filter-has":[Rt,[qt],(t,[e])=>e.value in t.properties()],"filter-has-id":[Rt,[],t=>null!==t.id()&&void 0!==t.id()],"filter-type-in":[Rt,[Wt(Ot)],(t,[e])=>e.value.indexOf(t.geometryType())>=0],"filter-id-in":[Rt,[Wt(qt)],(t,[e])=>e.value.indexOf(t.id())>=0],"filter-in-small":[Rt,[Ot,Wt(qt)],(t,[e,r])=>r.value.indexOf(t.properties()[e.value])>=0],"filter-in-large":[Rt,[Ot,Wt(qt)],(t,[e,r])=>function(t,e,r,n){for(;r<=n;){const i=r+n>>1;if(e[i]===t)return !0;e[i]>t?n=i-1:r=i+1;}return !1}(t.properties()[e.value],r.value,0,r.value.length-1)],all:{type:Rt,overloads:[[[Rt,Rt],(t,[e,r])=>e.evaluate(t)&&r.evaluate(t)],[Dn(Rt),(t,e)=>{for(const r of e)if(!r.evaluate(t))return !1;return !0}]]},any:{type:Rt,overloads:[[[Rt,Rt],(t,[e,r])=>e.evaluate(t)||r.evaluate(t)],[Dn(Rt),(t,e)=>{for(const r of e)if(r.evaluate(t))return !0;return !1}]]},"!":[Rt,[Rt],(t,[e])=>!e.evaluate(t)],"is-supported-script":[Rt,[Ot],(t,[e])=>{const r=t.globals&&t.globals.isSupportedScript;return !r||r(e.evaluate(t))}],upcase:[Ot,[Ot],(t,[e])=>e.evaluate(t).toUpperCase()],downcase:[Ot,[Ot],(t,[e])=>e.evaluate(t).toLowerCase()],concat:[Ot,Dn(qt),(t,e)=>e.map((e=>Ge(e.evaluate(t)))).join("")],"resolved-locale":[Ot,[Gt],(t,[e])=>e.evaluate(t).resolvedLocale()]});class ni{constructor(t,e){this.expression=t,this._warningHistory={},this._evaluator=new We,this._defaultValue=e?function(t){if("color"===t.type&&Hn(t.default))return new Pe(0,0,0,0);switch(t.type){case "color":return Pe.parse(t.default)||null;case "padding":return Ve.parse(t.default)||null;case "numberArray":return Fe.parse(t.default)||null;case "colorArray":return Le.parse(t.default)||null;case "variableAnchorOffsetCollection":return Oe.parse(t.default)||null;case "projectionDefinition":return je.parse(t.default)||null;default:return void 0===t.default?null:t.default}}(e):null,this._enumValues=e&&"enum"===e.type?e.values:null;}evaluateWithoutErrorHandling(t,e,r,n,i,s){return this._evaluator.globals=t,this._evaluator.feature=e,this._evaluator.featureState=r,this._evaluator.canonical=n,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=s,this.expression.evaluate(this._evaluator)}evaluate(t,e,r,n,i,s){this._evaluator.globals=t,this._evaluator.feature=e||null,this._evaluator.featureState=r||null,this._evaluator.canonical=n,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=s||null;try{const t=this.expression.evaluate(this._evaluator);if(null==t||"number"==typeof t&&t!=t)return this._defaultValue;if(this._enumValues&&!(t in this._enumValues))throw new $e(`Expected value to be one of ${Object.keys(this._enumValues).map((t=>JSON.stringify(t))).join(", ")}, but found ${JSON.stringify(t)} instead.`);return t}catch(t){return this._warningHistory[t.message]||(this._warningHistory[t.message]=!0,"undefined"!=typeof console&&console.warn(t.message)),this._defaultValue}}}function ii(t){return Array.isArray(t)&&t.length>0&&"string"==typeof t[0]&&t[0]in Tn}function si(t,e){const r=new Qe(Tn,On,[],e?function(t){const e={color:jt,string:Ot,number:Dt,enum:Ot,boolean:Rt,formatted:Xt,padding:Zt,numberArray:Ht,colorArray:Yt,projectionDefinition:Nt,resolvedImage:Kt,variableAnchorOffsetCollection:Jt};return "array"===t.type?Wt(e[t.value]||qt,t.length):e[t.type]}(e):void 0),n=r.parse(t,void 0,void 0,void 0,e&&"string"===e.type?{typeAnnotation:"coerce"}:void 0);return n?Un(new ni(n,e)):qn(r.errors)}class ai{constructor(t,e){this.kind=t,this._styleExpression=e,this.isStateDependent="constant"!==t&&!jn(e.expression),this.globalStateRefs=hi(e.expression);}evaluateWithoutErrorHandling(t,e,r,n,i,s){return this._styleExpression.evaluateWithoutErrorHandling(t,e,r,n,i,s)}evaluate(t,e,r,n,i,s){return this._styleExpression.evaluate(t,e,r,n,i,s)}}class oi{constructor(t,e,r,n){this.kind=t,this.zoomStops=r,this._styleExpression=e,this.isStateDependent="camera"!==t&&!jn(e.expression),this.globalStateRefs=hi(e.expression),this.interpolationType=n;}evaluateWithoutErrorHandling(t,e,r,n,i,s){return this._styleExpression.evaluateWithoutErrorHandling(t,e,r,n,i,s)}evaluate(t,e,r,n,i,s){return this._styleExpression.evaluate(t,e,r,n,i,s)}interpolationFactor(t,e,r){return this.interpolationType?yr.interpolationFactor(this.interpolationType,t,e,r):0}}function li(t,e){const r=si(t,e);if("error"===r.result)return r;const n=r.value.expression,i=Rn(n);if(!i&&!Gn(e))return qn([new Ft("","data expressions not supported")]);const s=Nn(n,["zoom"]);if(!s&&!Xn(e))return qn([new Ft("","zoom expressions not supported")]);const a=ci(n);return a||s?a instanceof Ft?qn([a]):a instanceof yr&&!Zn(e)?qn([new Ft("",'"interpolate" expressions cannot be used with this property')]):Un(a?new oi(i?"camera":"composite",r.value,a.labels,a instanceof yr?a.interpolation:void 0):new ai(i?"constant":"source",r.value)):qn([new Ft("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class ui{constructor(t,e){this._parameters=t,this._specification=e,Vt(this,Jn(this._parameters,this._specification));}static deserialize(t){return new ui(t._parameters,t._specification)}static serialize(t){return {_parameters:t._parameters,_specification:t._specification}}}function ci(t){let e=null;if(t instanceof tr)e=ci(t.result);else if(t instanceof xr){for(const r of t.args)if(e=ci(r),e)break}else (t instanceof ur||t instanceof yr)&&t.input instanceof Vn&&"zoom"===t.input.name&&(e=t);return e instanceof Ft||t.eachChild((t=>{const r=ci(t);r instanceof Ft?e=r:!e&&r?e=new Ft("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):e&&r&&e!==r&&(e=new Ft("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'));})),e}function hi(t,e=new Set){return t instanceof En&&e.add(t.key),t.eachChild((t=>{hi(t,e);})),e}function pi(t){if(!0===t||!1===t)return !0;if(!Array.isArray(t)||0===t.length)return !1;switch(t[0]){case "has":return t.length>=2&&"$id"!==t[1]&&"$type"!==t[1];case "in":return t.length>=3&&("string"!=typeof t[1]||Array.isArray(t[2]));case "!in":case "!has":case "none":return !1;case "==":case "!=":case ">":case ">=":case "<":case "<=":return 3!==t.length||Array.isArray(t[1])||Array.isArray(t[2]);case "any":case "all":for(const e of t.slice(1))if(!pi(e)&&"boolean"!=typeof e)return !1;return !0;default:return !0}}const fi={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function di(t){if(null==t)return {filter:()=>!0,needGeometry:!1,getGlobalStateRefs:()=>new Set};pi(t)||(t=gi(t));const e=si(t,fi);if("error"===e.result)throw new Error(e.value.map((t=>`${t.key}: ${t.message}`)).join(", "));return {filter:(t,r,n)=>e.value.evaluate(t,r,{},n),needGeometry:mi(t),getGlobalStateRefs:()=>hi(e.value.expression)}}function yi(t,e){return t<e?-1:t>e?1:0}function mi(t){if(!Array.isArray(t))return !1;if("within"===t[0]||"distance"===t[0])return !0;for(let e=1;e<t.length;e++)if(mi(t[e]))return !0;return !1}function gi(t){if(!t)return !0;const e=t[0];return t.length<=1?"any"!==e:"=="===e?xi(t[1],t[2],"=="):"!="===e?wi(xi(t[1],t[2],"==")):"<"===e||">"===e||"<="===e||">="===e?xi(t[1],t[2],e):"any"===e?(r=t.slice(1),["any"].concat(r.map(gi))):"all"===e?["all"].concat(t.slice(1).map(gi)):"none"===e?["all"].concat(t.slice(1).map(gi).map(wi)):"in"===e?vi(t[1],t.slice(2)):"!in"===e?wi(vi(t[1],t.slice(2))):"has"===e?bi(t[1]):"!has"!==e||wi(bi(t[1]));var r;}function xi(t,e,r){switch(t){case "$type":return [`filter-type-${r}`,e];case "$id":return [`filter-id-${r}`,e];default:return [`filter-${r}`,t,e]}}function vi(t,e){if(0===e.length)return !1;switch(t){case "$type":return ["filter-type-in",["literal",e]];case "$id":return ["filter-id-in",["literal",e]];default:return e.length>200&&!e.some((t=>typeof t!=typeof e[0]))?["filter-in-large",t,["literal",e.sort(yi)]]:["filter-in-small",t,["literal",e]]}}function bi(t){switch(t){case "$type":return !0;case "$id":return ["filter-has-id"];default:return ["filter-has",t]}}function wi(t){return ["!",t]}function _i(t){const e=typeof t;if("number"===e||"boolean"===e||"string"===e||null==t)return JSON.stringify(t);if(Array.isArray(t)){let e="[";for(const r of t)e+=`${_i(r)},`;return `${e}]`}const r=Object.keys(t).sort();let n="{";for(let e=0;e<r.length;e++)n+=`${JSON.stringify(r[e])}:${_i(t[r[e]])},`;return `${n}}`}function Si(t){let e="";for(const r of _t)e+=`/${_i(t[r])}`;return e}function Ai(t){const e=t.value;return e?[new Tt(t.key,e,"constants have been deprecated as of v8")]:[]}function ki(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}function Mi(t){if(Array.isArray(t))return t.map(Mi);if(t instanceof Object&&!(t instanceof Number||t instanceof String||t instanceof Boolean)){const e={};for(const r in t)e[r]=Mi(t[r]);return e}return ki(t)}function Ii(t){const e=t.key,r=t.value,n=t.valueSpec||{},i=t.objectElementValidators||{},s=t.style,a=t.styleSpec,o=t.validateSpec;let l=[];const u=Yn(r);if("object"!==u)return [new Tt(e,r,`object expected, ${u} found`)];for(const t in r){const u=t.split(".")[0],c=we(n,u)||n["*"];let h;if(we(i,u))h=i[u];else if(we(n,u))h=o;else if(i["*"])h=i["*"];else {if(!n["*"]){l.push(new Tt(e,r[t],`unknown property "${t}"`));continue}h=o;}l=l.concat(h({key:(e?`${e}.`:e)+t,value:r[t],valueSpec:c,style:s,styleSpec:a,object:r,objectKey:t,validateSpec:o},r));}for(const t in n)i[t]||n[t].required&&void 0===n[t].default&&void 0===r[t]&&l.push(new Tt(e,r,`missing required property "${t}"`));return l}function zi(t){const e=t.value,r=t.valueSpec,n=t.style,i=t.styleSpec,s=t.key,a=t.arrayElementValidator||t.validateSpec;if("array"!==Yn(e))return [new Tt(s,e,`array expected, ${Yn(e)} found`)];if(r.length&&e.length!==r.length)return [new Tt(s,e,`array length ${r.length} expected, length ${e.length} found`)];if(r["min-length"]&&e.length<r["min-length"])return [new Tt(s,e,`array length at least ${r["min-length"]} expected, length ${e.length} found`)];let o={type:r.value,values:r.values};i.$version<7&&(o.function=r.function),"object"===Yn(r.value)&&(o=r.value);let l=[];for(let r=0;r<e.length;r++)l=l.concat(a({array:e,arrayIndex:r,value:e[r],valueSpec:o,validateSpec:t.validateSpec,style:n,styleSpec:i,key:`${s}[${r}]`}));return l}function Pi(t){const e=t.key,r=t.value,n=t.valueSpec;let i=Yn(r);return "number"===i&&r!=r&&(i="NaN"),"number"!==i?[new Tt(e,r,`number expected, ${i} found`)]:"minimum"in n&&r<n.minimum?[new Tt(e,r,`${r} is less than the minimum value ${n.minimum}`)]:"maximum"in n&&r>n.maximum?[new Tt(e,r,`${r} is greater than the maximum value ${n.maximum}`)]:[]}function Ci(t){const e=t.valueSpec,r=ki(t.value.type);let n,i,s,a={};const o="categorical"!==r&&void 0===t.value.property,l=!o,u="array"===Yn(t.value.stops)&&"array"===Yn(t.value.stops[0])&&"object"===Yn(t.value.stops[0][0]),c=Ii({key:t.key,value:t.value,valueSpec:t.styleSpec.function,validateSpec:t.validateSpec,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:function(t){if("identity"===r)return [new Tt(t.key,t.value,'identity function may not have a "stops" property')];let e=[];const n=t.value;return e=e.concat(zi({key:t.key,value:n,valueSpec:t.valueSpec,validateSpec:t.validateSpec,style:t.style,styleSpec:t.styleSpec,arrayElementValidator:h})),"array"===Yn(n)&&0===n.length&&e.push(new Tt(t.key,n,"array must have at least one stop")),e},default:function(t){return t.validateSpec({key:t.key,value:t.value,valueSpec:e,validateSpec:t.validateSpec,style:t.style,styleSpec:t.styleSpec})}}});return "identity"===r&&o&&c.push(new Tt(t.key,t.value,'missing required property "property"')),"identity"===r||t.value.stops||c.push(new Tt(t.key,t.value,'missing required property "stops"')),"exponential"===r&&t.valueSpec.expression&&!Zn(t.valueSpec)&&c.push(new Tt(t.key,t.value,"exponential functions not supported")),t.styleSpec.$version>=8&&(l&&!Gn(t.valueSpec)?c.push(new Tt(t.key,t.value,"property functions not supported")):o&&!Xn(t.valueSpec)&&c.push(new Tt(t.key,t.value,"zoom functions not supported"))),"categorical"!==r&&!u||void 0!==t.value.property||c.push(new Tt(t.key,t.value,'"property" property is required')),c;function h(t){let r=[];const n=t.value,o=t.key;if("array"!==Yn(n))return [new Tt(o,n,`array expected, ${Yn(n)} found`)];if(2!==n.length)return [new Tt(o,n,`array length 2 expected, length ${n.length} found`)];if(u){if("object"!==Yn(n[0]))return [new Tt(o,n,`object expected, ${Yn(n[0])} found`)];if(void 0===n[0].zoom)return [new Tt(o,n,"object stop key must have zoom")];if(void 0===n[0].value)return [new Tt(o,n,"object stop key must have value")];if(s&&s>ki(n[0].zoom))return [new Tt(o,n[0].zoom,"stop zoom values must appear in ascending order")];ki(n[0].zoom)!==s&&(s=ki(n[0].zoom),i=void 0,a={}),r=r.concat(Ii({key:`${o}[0]`,value:n[0],valueSpec:{zoom:{}},validateSpec:t.validateSpec,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{zoom:Pi,value:p}}));}else r=r.concat(p({key:`${o}[0]`,value:n[0],validateSpec:t.validateSpec,style:t.style,styleSpec:t.styleSpec},n));return ii(Mi(n[1]))?r.concat([new Tt(`${o}[1]`,n[1],"expressions are not allowed in function stops.")]):r.concat(t.validateSpec({key:`${o}[1]`,value:n[1],valueSpec:e,validateSpec:t.validateSpec,style:t.style,styleSpec:t.styleSpec}))}function p(t,s){const o=Yn(t.value),l=ki(t.value),u=null!==t.value?t.value:s;if(n){if(o!==n)return [new Tt(t.key,u,`${o} stop domain type must match previous stop domain type ${n}`)]}else n=o;if("number"!==o&&"string"!==o&&"boolean"!==o)return [new Tt(t.key,u,"stop domain value must be a number, string, or boolean")];if("number"!==o&&"categorical"!==r){let n=`number expected, ${o} found`;return Gn(e)&&void 0===r&&(n+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Tt(t.key,u,n)]}return "categorical"!==r||"number"!==o||isFinite(l)&&Math.floor(l)===l?"categorical"!==r&&"number"===o&&void 0!==i&&l<i?[new Tt(t.key,u,"stop domain values must appear in ascending order")]:(i=l,"categorical"===r&&l in a?[new Tt(t.key,u,"stop domain values must be unique")]:(a[l]=!0,[])):[new Tt(t.key,u,`integer expected, found ${l}`)]}}function Bi(t){const e=("property"===t.expressionContext?li:si)(Mi(t.value),t.valueSpec);if("error"===e.result)return e.value.map((e=>new Tt(`${t.key}${e.key}`,t.value,e.message)));const r=e.value.expression||e.value._styleExpression.expression;if("property"===t.expressionContext&&"text-font"===t.propertyKey&&!r.outputDefined())return [new Tt(t.key,t.value,`Invalid data expression for "${t.propertyKey}". Output values must be contained as literals within the expression.`)];if("property"===t.expressionContext&&"layout"===t.propertyType&&!jn(r))return [new Tt(t.key,t.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===t.expressionContext&&!jn(r))return [new Tt(t.key,t.value,'"feature-state" data expressions are not supported with filters.')];if(t.expressionContext&&0===t.expressionContext.indexOf("cluster")){if(!Nn(r,["zoom","feature-state"]))return [new Tt(t.key,t.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===t.expressionContext&&!Rn(r))return [new Tt(t.key,t.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return []}function Ei(t){const e=t.key,r=t.value,n=Yn(r);return "string"!==n?[new Tt(e,r,`color expected, ${n} found`)]:Pe.parse(String(r))?[]:[new Tt(e,r,`color expected, "${r}" found`)]}function Ti(t){const e=t.key,r=t.value,n=t.valueSpec,i=[];return Array.isArray(n.values)?-1===n.values.indexOf(ki(r))&&i.push(new Tt(e,r,`expected one of [${n.values.join(", ")}], ${JSON.stringify(r)} found`)):-1===Object.keys(n.values).indexOf(ki(r))&&i.push(new Tt(e,r,`expected one of [${Object.keys(n.values).join(", ")}], ${JSON.stringify(r)} found`)),i}function Vi(t){return pi(Mi(t.value))?Bi(Vt({},t,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Fi(t)}function Fi(t){const e=t.value,r=t.key;if("array"!==Yn(e))return [new Tt(r,e,`array expected, ${Yn(e)} found`)];const n=t.styleSpec;let i,s=[];if(e.length<1)return [new Tt(r,e,"filter array must have at least 1 element")];switch(s=s.concat(Ti({key:`${r}[0]`,value:e[0],valueSpec:n.filter_operator,style:t.style,styleSpec:t.styleSpec})),ki(e[0])){case "<":case "<=":case ">":case ">=":e.length>=2&&"$type"===ki(e[1])&&s.push(new Tt(r,e,`"$type" cannot be use with operator "${e[0]}"`));case "==":case "!=":3!==e.length&&s.push(new Tt(r,e,`filter array for operator "${e[0]}" must have 3 elements`));case "in":case "!in":e.length>=2&&(i=Yn(e[1]),"string"!==i&&s.push(new Tt(`${r}[1]`,e[1],`string expected, ${i} found`)));for(let a=2;a<e.length;a++)i=Yn(e[a]),"$type"===ki(e[1])?s=s.concat(Ti({key:`${r}[${a}]`,value:e[a],valueSpec:n.geometry_type,style:t.style,styleSpec:t.styleSpec})):"string"!==i&&"number"!==i&&"boolean"!==i&&s.push(new Tt(`${r}[${a}]`,e[a],`string, number, or boolean expected, ${i} found`));break;case "any":case "all":case "none":for(let n=1;n<e.length;n++)s=s.concat(Fi({key:`${r}[${n}]`,value:e[n],style:t.style,styleSpec:t.styleSpec}));break;case "has":case "!has":i=Yn(e[1]),2!==e.length?s.push(new Tt(r,e,`filter array for "${e[0]}" operator must have 2 elements`)):"string"!==i&&s.push(new Tt(`${r}[1]`,e[1],`string expected, ${i} found`));}return s}function Li(t,e){const r=t.key,n=t.validateSpec,i=t.style,s=t.styleSpec,a=t.value,o=t.objectKey,l=s[`${e}_${t.layerType}`];if(!l)return [];const u=o.match(/^(.*)-transition$/);if("paint"===e&&u&&l[u[1]]&&l[u[1]].transition)return n({key:r,value:a,valueSpec:s.transition,style:i,styleSpec:s});const c=t.valueSpec||l[o];if(!c)return [new Tt(r,a,`unknown property "${o}"`)];let h;if("string"===Yn(a)&&Gn(c)&&!c.tokens&&(h=/^{([^}]+)}$/.exec(a)))return [new Tt(r,a,`"${o}" does not support interpolation syntax\nUse an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(h[1])} }\`.`)];const p=[];return "symbol"===t.layerType&&("text-field"===o&&i&&!i.glyphs&&p.push(new Tt(r,a,'use of "text-field" requires a style "glyphs" property')),"text-font"===o&&Hn(Mi(a))&&"identity"===ki(a.type)&&p.push(new Tt(r,a,'"text-font" does not support identity functions'))),p.concat(n({key:t.key,value:a,valueSpec:c,style:i,styleSpec:s,expressionContext:"property",propertyType:e,propertyKey:o}))}function $i(t){return Li(t,"paint")}function Di(t){return Li(t,"layout")}function Oi(t){let e=[];const r=t.value,n=t.key,i=t.style,s=t.styleSpec;if("object"!==Yn(r))return [new Tt(n,r,`object expected, ${Yn(r)} found`)];r.type||r.ref||e.push(new Tt(n,r,'either "type" or "ref" is required'));let a=ki(r.type);const o=ki(r.ref);if(r.id){const s=ki(r.id);for(let a=0;a<t.arrayIndex;a++){const t=i.layers[a];ki(t.id)===s&&e.push(new Tt(n,r.id,`duplicate layer id "${r.id}", previously used at line ${t.id.__line__}`));}}if("ref"in r){let t;["type","source","source-layer","filter","layout"].forEach((t=>{t in r&&e.push(new Tt(n,r[t],`"${t}" is prohibited for ref layers`));})),i.layers.forEach((e=>{ki(e.id)===o&&(t=e);})),t?t.ref?e.push(new Tt(n,r.ref,"ref cannot reference another ref layer")):a=ki(t.type):e.push(new Tt(n,r.ref,`ref layer "${o}" not found`));}else if("background"!==a)if(r.source){const t=i.sources&&i.sources[r.source],s=t&&ki(t.type);t?"vector"===s&&"raster"===a?e.push(new Tt(n,r.source,`layer "${r.id}" requires a raster source`)):"raster-dem"!==s&&"hillshade"===a||"raster-dem"!==s&&"color-relief"===a?e.push(new Tt(n,r.source,`layer "${r.id}" requires a raster-dem source`)):"raster"===s&&"raster"!==a?e.push(new Tt(n,r.source,`layer "${r.id}" requires a vector source`)):"vector"!==s||r["source-layer"]?"raster-dem"===s&&"hillshade"!==a&&"color-relief"!==a?e.push(new Tt(n,r.source,"raster-dem source can only be used with layer type 'hillshade' or 'color-relief'.")):"line"!==a||!r.paint||!r.paint["line-gradient"]||"geojson"===s&&t.lineMetrics||e.push(new Tt(n,r,`layer "${r.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):e.push(new Tt(n,r,`layer "${r.id}" must specify a "source-layer"`)):e.push(new Tt(n,r.source,`source "${r.source}" not found`));}else e.push(new Tt(n,r,'missing required property "source"'));return e=e.concat(Ii({key:n,value:r,valueSpec:s.layer,style:t.style,styleSpec:t.styleSpec,validateSpec:t.validateSpec,objectElementValidators:{"*":()=>[],type:()=>t.validateSpec({key:`${n}.type`,value:r.type,valueSpec:s.layer.type,style:t.style,styleSpec:t.styleSpec,validateSpec:t.validateSpec,object:r,objectKey:"type"}),filter:Vi,layout:t=>Ii({layer:r,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,validateSpec:t.validateSpec,objectElementValidators:{"*":t=>Di(Vt({layerType:a},t))}}),paint:t=>Ii({layer:r,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,validateSpec:t.validateSpec,objectElementValidators:{"*":t=>$i(Vt({layerType:a},t))}})}})),e}function Ri(t){const e=t.value,r=t.key,n=Yn(e);return "string"!==n?[new Tt(r,e,`string expected, ${n} found`)]:[]}const ji={promoteId:function({key:t,value:e}){if("string"===Yn(e))return Ri({key:t,value:e});{const r=[];for(const n in e)r.push(...Ri({key:`${t}.${n}`,value:e[n]}));return r}}};function Ni(t){const e=t.value,r=t.key,n=t.styleSpec,i=t.style,s=t.validateSpec;if(!e.type)return [new Tt(r,e,'"type" is required')];const a=ki(e.type);let o;switch(a){case "vector":case "raster":return o=Ii({key:r,value:e,valueSpec:n[`source_${a.replace("-","_")}`],style:t.style,styleSpec:n,objectElementValidators:ji,validateSpec:s}),o;case "raster-dem":return o=function(t){var e;const r=null!==(e=t.sourceName)&&void 0!==e?e:"",n=t.value,i=t.styleSpec,s=i.source_raster_dem,a=t.style;let o=[];const l=Yn(n);if(void 0===n)return o;if("object"!==l)return o.push(new Tt("source_raster_dem",n,`object expected, ${l} found`)),o;const u="custom"===ki(n.encoding),c=["redFactor","greenFactor","blueFactor","baseShift"],h=t.value.encoding?`"${t.value.encoding}"`:"Default";for(const e in n)!u&&c.includes(e)?o.push(new Tt(e,n[e],`In "${r}": "${e}" is only valid when "encoding" is set to "custom". ${h} encoding found`)):s[e]?o=o.concat(t.validateSpec({key:e,value:n[e],valueSpec:s[e],validateSpec:t.validateSpec,style:a,styleSpec:i})):o.push(new Tt(e,n[e],`unknown property "${e}"`));return o}({sourceName:r,value:e,style:t.style,styleSpec:n,validateSpec:s}),o;case "geojson":if(o=Ii({key:r,value:e,valueSpec:n.source_geojson,style:i,styleSpec:n,validateSpec:s,objectElementValidators:ji}),e.cluster)for(const t in e.clusterProperties){const[n,i]=e.clusterProperties[t],s="string"==typeof n?[n,["accumulated"],["get",t]]:n;o.push(...Bi({key:`${r}.${t}.map`,value:i,expressionContext:"cluster-map"})),o.push(...Bi({key:`${r}.${t}.reduce`,value:s,expressionContext:"cluster-reduce"}));}return o;case "video":return Ii({key:r,value:e,valueSpec:n.source_video,style:i,validateSpec:s,styleSpec:n});case "image":return Ii({key:r,value:e,valueSpec:n.source_image,style:i,validateSpec:s,styleSpec:n});case "canvas":return [new Tt(r,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Ti({key:`${r}.type`,value:e.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]}})}}function Ui(t){const e=t.value,r=t.styleSpec,n=r.light,i=t.style;let s=[];const a=Yn(e);if(void 0===e)return s;if("object"!==a)return s=s.concat([new Tt("light",e,`object expected, ${a} found`)]),s;for(const a in e){const o=a.match(/^(.*)-transition$/);s=s.concat(o&&n[o[1]]&&n[o[1]].transition?t.validateSpec({key:a,value:e[a],valueSpec:r.transition,validateSpec:t.validateSpec,style:i,styleSpec:r}):n[a]?t.validateSpec({key:a,value:e[a],valueSpec:n[a],validateSpec:t.validateSpec,style:i,styleSpec:r}):[new Tt(a,e[a],`unknown property "${a}"`)]);}return s}function qi(t){const e=t.value,r=t.styleSpec,n=r.sky,i=t.style,s=Yn(e);if(void 0===e)return [];if("object"!==s)return [new Tt("sky",e,`object expected, ${s} found`)];let a=[];for(const s in e)a=a.concat(n[s]?t.validateSpec({key:s,value:e[s],valueSpec:n[s],style:i,styleSpec:r}):[new Tt(s,e[s],`unknown property "${s}"`)]);return a}function Gi(t){const e=t.value,r=t.styleSpec,n=r.terrain,i=t.style;let s=[];const a=Yn(e);if(void 0===e)return s;if("object"!==a)return s=s.concat([new Tt("terrain",e,`object expected, ${a} found`)]),s;for(const a in e)s=s.concat(n[a]?t.validateSpec({key:a,value:e[a],valueSpec:n[a],validateSpec:t.validateSpec,style:i,styleSpec:r}):[new Tt(a,e[a],`unknown property "${a}"`)]);return s}function Xi(t){let e=[];const r=t.value,n=t.key;if(Array.isArray(r)){const i=[],s=[];for(const a in r)r[a].id&&i.includes(r[a].id)&&e.push(new Tt(n,r,`all the sprites' ids must be unique, but ${r[a].id} is duplicated`)),i.push(r[a].id),r[a].url&&s.includes(r[a].url)&&e.push(new Tt(n,r,`all the sprites' URLs must be unique, but ${r[a].url} is duplicated`)),s.push(r[a].url),e=e.concat(Ii({key:`${n}[${a}]`,value:r[a],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:t.validateSpec}));return e}return Ri({key:n,value:r})}function Zi(t){return e=t.value,Boolean(e)&&e.constructor===Object?[]:[new Tt(t.key,t.value,`object expected, ${Yn(t.value)} found`)];var e;}const Yi={"*":()=>[],array:zi,boolean:function(t){const e=t.value,r=t.key,n=Yn(e);return "boolean"!==n?[new Tt(r,e,`boolean expected, ${n} found`)]:[]},number:Pi,color:Ei,constants:Ai,enum:Ti,filter:Vi,function:Ci,layer:Oi,object:Ii,source:Ni,light:Ui,sky:qi,terrain:Gi,projection:function(t){const e=t.value,r=t.styleSpec,n=r.projection,i=t.style,s=Yn(e);if(void 0===e)return [];if("object"!==s)return [new Tt("projection",e,`object expected, ${s} found`)];let a=[];for(const s in e)a=a.concat(n[s]?t.validateSpec({key:s,value:e[s],valueSpec:n[s],style:i,styleSpec:r}):[new Tt(s,e[s],`unknown property "${s}"`)]);return a},projectionDefinition:function(t){const e=t.key;let r=t.value;r=r instanceof String?r.valueOf():r;const n=Yn(r);return "array"!==n||function(t){return Array.isArray(t)&&3===t.length&&"string"==typeof t[0]&&"string"==typeof t[1]&&"number"==typeof t[2]}(r)||function(t){return !!["interpolate","step","literal"].includes(t[0])}(r)?["array","string"].includes(n)?[]:[new Tt(e,r,`projection expected, invalid type "${n}" found`)]:[new Tt(e,r,`projection expected, invalid array ${JSON.stringify(r)} found`)]},string:Ri,formatted:function(t){return 0===Ri(t).length?[]:Bi(t)},resolvedImage:function(t){return 0===Ri(t).length?[]:Bi(t)},padding:function(t){const e=t.key,r=t.value;if("array"===Yn(r)){if(r.length<1||r.length>4)return [new Tt(e,r,`padding requires 1 to 4 values; ${r.length} values found`)];const n={type:"number"};let i=[];for(let s=0;s<r.length;s++)i=i.concat(t.validateSpec({key:`${e}[${s}]`,value:r[s],validateSpec:t.validateSpec,valueSpec:n}));return i}return Pi({key:e,value:r,valueSpec:{}})},numberArray:function(t){const e=t.key,r=t.value;if("array"===Yn(r)){const n={type:"number"};if(r.length<1)return [new Tt(e,r,"array length at least 1 expected, length 0 found")];let i=[];for(let s=0;s<r.length;s++)i=i.concat(t.validateSpec({key:`${e}[${s}]`,value:r[s],validateSpec:t.validateSpec,valueSpec:n}));return i}return Pi({key:e,value:r,valueSpec:{}})},colorArray:function(t){const e=t.key,r=t.value;if("array"===Yn(r)){if(r.length<1)return [new Tt(e,r,"array length at least 1 expected, length 0 found")];let t=[];for(let n=0;n<r.length;n++)t=t.concat(Ei({key:`${e}[${n}]`,value:r[n]}));return t}return Ei({key:e,value:r})},variableAnchorOffsetCollection:function(t){const e=t.key,r=t.value,n=Yn(r),i=t.styleSpec;if("array"!==n||r.length<1||r.length%2!=0)return [new Tt(e,r,"variableAnchorOffsetCollection requires a non-empty array of even length")];let s=[];for(let n=0;n<r.length;n+=2)s=s.concat(Ti({key:`${e}[${n}]`,value:r[n],valueSpec:i.layout_symbol["text-anchor"]})),s=s.concat(zi({key:`${e}[${n+1}]`,value:r[n+1],valueSpec:{length:2,value:"number"},validateSpec:t.validateSpec,style:t.style,styleSpec:i}));return s},sprite:Xi,state:Zi};function Hi(t){const e=t.value,r=t.valueSpec,n=t.styleSpec;return t.validateSpec=Hi,r.expression&&Hn(ki(e))?Ci(t):r.expression&&ii(Mi(e))?Bi(t):r.type&&Yi[r.type]?Yi[r.type](t):Ii(Vt({},t,{valueSpec:r.type?n[r.type]:r}))}function Ki(t){const e=t.value,r=t.key,n=Ri(t);return n.length||(-1===e.indexOf("{fontstack}")&&n.push(new Tt(r,e,'"glyphs" url must include a "{fontstack}" token')),-1===e.indexOf("{range}")&&n.push(new Tt(r,e,'"glyphs" url must include a "{range}" token'))),n}function Ji(t,e=wt){let r=[];return r=r.concat(Hi({key:"",value:t,valueSpec:e.$root,styleSpec:e,style:t,validateSpec:Hi,objectElementValidators:{glyphs:Ki,"*":()=>[]}})),t.constants&&(r=r.concat(Ai({key:"constants",value:t.constants}))),Qi(r)}function Wi(t){return function(e){return t({...e,validateSpec:Hi})}}function Qi(t){return [].concat(t).sort(((t,e)=>t.line-e.line))}function ts(t){return function(...e){return Qi(t.apply(this,e))}}Ji.source=ts(Wi(Ni)),Ji.sprite=ts(Wi(Xi)),Ji.glyphs=ts(Wi(Ki)),Ji.light=ts(Wi(Ui)),Ji.sky=ts(Wi(qi)),Ji.terrain=ts(Wi(Gi)),Ji.state=ts(Wi(Zi)),Ji.layer=ts(Wi(Oi)),Ji.filter=ts(Wi(Vi)),Ji.paintProperty=ts(Wi($i)),Ji.layoutProperty=ts(Wi(Di));const es=Ji,rs=es.light,ns=es.sky,is=es.paintProperty,ss=es.layoutProperty;function as(t,e){let r=!1;if(e&&e.length)for(const n of e)t.fire(new vt(new Error(n.message))),r=!0;return r}class os{constructor(t,e,r){const n=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;const i=new Int32Array(this.arrayBuffer);t=i[0],this.d=(e=i[1])+2*(r=i[2]);for(let t=0;t<this.d*this.d;t++){const e=i[3+t],r=i[3+t+1];n.push(e===r?null:i.subarray(e,r));}const s=i[3+n.length+1];this.keys=i.subarray(i[3+n.length],s),this.bboxes=i.subarray(s),this.insert=this._insertReadonly;}else {this.d=e+2*r;for(let t=0;t<this.d*this.d;t++)n.push([]);this.keys=[],this.bboxes=[];}this.n=e,this.extent=t,this.padding=r,this.scale=e/t,this.uid=0;const i=r/e*t;this.min=-i,this.max=t+i;}insert(t,e,r,n,i){this._forEachCell(e,r,n,i,this._insertCell,this.uid++,void 0,void 0),this.keys.push(t),this.bboxes.push(e),this.bboxes.push(r),this.bboxes.push(n),this.bboxes.push(i);}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(t,e,r,n,i,s){this.cells[i].push(s);}query(t,e,r,n,i){const s=this.min,a=this.max;if(t<=s&&e<=s&&a<=r&&a<=n&&!i)return Array.prototype.slice.call(this.keys);{const s=[];return this._forEachCell(t,e,r,n,this._queryCell,s,{},i),s}}_queryCell(t,e,r,n,i,s,a,o){const l=this.cells[i];if(null!==l){const i=this.keys,u=this.bboxes;for(let c=0;c<l.length;c++){const h=l[c];if(void 0===a[h]){const l=4*h;(o?o(u[l+0],u[l+1],u[l+2],u[l+3]):t<=u[l+2]&&e<=u[l+3]&&r>=u[l+0]&&n>=u[l+1])?(a[h]=!0,s.push(i[h])):a[h]=!1;}}}}_forEachCell(t,e,r,n,i,s,a,o){const l=this._convertToCellCoord(t),u=this._convertToCellCoord(e),c=this._convertToCellCoord(r),h=this._convertToCellCoord(n);for(let p=l;p<=c;p++)for(let l=u;l<=h;l++){const u=this.d*l+p;if((!o||o(this._convertFromCellCoord(p),this._convertFromCellCoord(l),this._convertFromCellCoord(p+1),this._convertFromCellCoord(l+1)))&&i.call(this,t,e,r,n,u,s,a,o))return}}_convertFromCellCoord(t){return (t-this.padding)/this.scale}_convertToCellCoord(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const t=this.cells,e=3+this.cells.length+1+1;let r=0;for(let t=0;t<this.cells.length;t++)r+=this.cells[t].length;const n=new Int32Array(e+r+this.keys.length+this.bboxes.length);n[0]=this.extent,n[1]=this.n,n[2]=this.padding;let i=e;for(let e=0;e<t.length;e++){const r=t[e];n[3+e]=i,n.set(r,i),i+=r.length;}return n[3+t.length]=i,n.set(this.keys,i),i+=this.keys.length,n[3+t.length+1]=i,n.set(this.bboxes,i),i+=this.bboxes.length,n.buffer}static serialize(t,e){const r=t.toArrayBuffer();return e&&e.push(r),{buffer:r}}static deserialize(t){return new os(t.buffer)}}const ls={};function us(t,e,r={}){if(ls[t])throw new Error(`${t} is already registered.`);Object.defineProperty(e,"_classRegistryKey",{value:t,writeable:!1}),ls[t]={klass:e,omit:r.omit||[],shallow:r.shallow||[]};}us("Object",Object),us("Set",Set),us("TransferableGridIndex",os),us("Color",Pe),us("Error",Error),us("AJAXError",pt),us("ResolvedImage",Re),us("StylePropertyFunction",ui),us("StyleExpression",ni,{omit:["_evaluator"]}),us("ZoomDependentExpression",oi),us("ZoomConstantExpression",ai),us("CompoundExpression",Vn,{omit:["_evaluate"]});for(const t in Tn)Tn[t]._classRegistryKey||us(`Expression_${t}`,Tn[t]);function cs(t){return t&&"undefined"!=typeof ArrayBuffer&&(t instanceof ArrayBuffer||t.constructor&&"ArrayBuffer"===t.constructor.name)}function hs(t){return t.$name||t.constructor._classRegistryKey}function ps(t){return !function(t){if(null===t||"object"!=typeof t)return !1;const e=hs(t);return !(!e||"Object"===e)}(t)&&(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp||t instanceof Blob||t instanceof Error||cs(t)||J(t)||ArrayBuffer.isView(t)||t instanceof ImageData)}function fs(t,e){if(ps(t))return (cs(t)||J(t))&&e&&e.push(t),ArrayBuffer.isView(t)&&e&&e.push(t.buffer),t instanceof ImageData&&e&&e.push(t.data.buffer),t;if(Array.isArray(t)){const r=[];for(const n of t)r.push(fs(n,e));return r}if("object"!=typeof t)throw new Error("can't serialize object of type "+typeof t);const r=hs(t);if(!r)throw new Error(`can't serialize object of unregistered class ${t.constructor.name}`);if(!ls[r])throw new Error(`${r} is not registered.`);const{klass:n}=ls[r],i=n.serialize?n.serialize(t,e):{};if(n.serialize){if(e&&i===e[e.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else {for(const n in t){if(!t.hasOwnProperty(n))continue;if(ls[r].omit.indexOf(n)>=0)continue;const s=t[n];i[n]=ls[r].shallow.indexOf(n)>=0?s:fs(s,e);}t instanceof Error&&(i.message=t.message);}if(i.$name)throw new Error("$name property is reserved for worker serialization logic.");return "Object"!==r&&(i.$name=r),i}function ds(t){if(ps(t))return t;if(Array.isArray(t))return t.map(ds);if("object"!=typeof t)throw new Error("can't deserialize object of type "+typeof t);const e=hs(t)||"Object";if(!ls[e])throw new Error(`can't deserialize unregistered class ${e}`);const{klass:r}=ls[e];if(!r)throw new Error(`can't deserialize unregistered class ${e}`);if(r.deserialize)return r.deserialize(t);const n=Object.create(r.prototype);for(const r of Object.keys(t)){if("$name"===r)continue;const i=t[r];n[r]=ls[e].shallow.indexOf(r)>=0?i:ds(i);}return n}class ys{constructor(){this.first=!0;}update(t,e){const r=Math.floor(t);return this.first?(this.first=!1,this.lastIntegerZoom=r,this.lastIntegerZoomTime=0,this.lastZoom=t,this.lastFloorZoom=r,!0):(this.lastFloorZoom>r?(this.lastIntegerZoom=r+1,this.lastIntegerZoomTime=e):this.lastFloorZoom<r&&(this.lastIntegerZoom=r,this.lastIntegerZoomTime=e),t!==this.lastZoom&&(this.lastZoom=t,this.lastFloorZoom=r,!0))}}const ms={"Latin-1 Supplement":t=>t>=128&&t<=255,"Hangul Jamo":t=>t>=4352&&t<=4607,Khmer:t=>t>=6016&&t<=6143,"General Punctuation":t=>t>=8192&&t<=8303,"Letterlike Symbols":t=>t>=8448&&t<=8527,"Number Forms":t=>t>=8528&&t<=8591,"Miscellaneous Technical":t=>t>=8960&&t<=9215,"Control Pictures":t=>t>=9216&&t<=9279,"Optical Character Recognition":t=>t>=9280&&t<=9311,"Enclosed Alphanumerics":t=>t>=9312&&t<=9471,"Geometric Shapes":t=>t>=9632&&t<=9727,"Miscellaneous Symbols":t=>t>=9728&&t<=9983,"Miscellaneous Symbols and Arrows":t=>t>=11008&&t<=11263,"Ideographic Description Characters":t=>t>=12272&&t<=12287,"CJK Symbols and Punctuation":t=>t>=12288&&t<=12351,Hiragana:t=>t>=12352&&t<=12447,Katakana:t=>t>=12448&&t<=12543,Kanbun:t=>t>=12688&&t<=12703,"CJK Strokes":t=>t>=12736&&t<=12783,"Enclosed CJK Letters and Months":t=>t>=12800&&t<=13055,"CJK Compatibility":t=>t>=13056&&t<=13311,"Yijing Hexagram Symbols":t=>t>=19904&&t<=19967,"CJK Unified Ideographs":t=>t>=19968&&t<=40959,"Hangul Syllables":t=>t>=44032&&t<=55215,"Private Use Area":t=>t>=57344&&t<=63743,"Vertical Forms":t=>t>=65040&&t<=65055,"CJK Compatibility Forms":t=>t>=65072&&t<=65103,"Small Form Variants":t=>t>=65104&&t<=65135,"Halfwidth and Fullwidth Forms":t=>t>=65280&&t<=65519};function gs(t){for(const e of t)if(Ss(e.charCodeAt(0)))return !0;return !1}function xs(t){for(const e of t)if(!ws(e.charCodeAt(0)))return !1;return !0}function vs(t){const e=t.map((t=>{try{return new RegExp(`\\p{sc=${t}}`,"u").source}catch(t){return null}})).filter((t=>t));return new RegExp(e.join("|"),"u")}const bs=vs(["Arab","Dupl","Mong","Ougr","Syrc"]);function ws(t){return !bs.test(String.fromCodePoint(t))}const _s=vs(["Bopo","Hani","Hira","Kana","Kits","Nshu","Tang","Yiii"]);function Ss(t){return !(746!==t&&747!==t&&(t<4352||!(ms["CJK Compatibility Forms"](t)&&!(t>=65097&&t<=65103)||ms["CJK Compatibility"](t)||ms["CJK Strokes"](t)||!(!ms["CJK Symbols and Punctuation"](t)||t>=12296&&t<=12305||t>=12308&&t<=12319||12336===t)||ms["Enclosed CJK Letters and Months"](t)||ms["Ideographic Description Characters"](t)||ms.Kanbun(t)||ms.Katakana(t)&&12540!==t||!(!ms["Halfwidth and Fullwidth Forms"](t)||65288===t||65289===t||65293===t||t>=65306&&t<=65310||65339===t||65341===t||65343===t||t>=65371&&t<=65503||65507===t||t>=65512&&t<=65519)||!(!ms["Small Form Variants"](t)||t>=65112&&t<=65118||t>=65123&&t<=65126)||ms["Vertical Forms"](t)||ms["Yijing Hexagram Symbols"](t)||/\p{sc=Cans}/u.test(String.fromCodePoint(t))||/\p{sc=Hang}/u.test(String.fromCodePoint(t))||_s.test(String.fromCodePoint(t)))))}function As(t){return !(Ss(t)||function(t){return !!(ms["Latin-1 Supplement"](t)&&(167===t||169===t||174===t||177===t||188===t||189===t||190===t||215===t||247===t)||ms["General Punctuation"](t)&&(8214===t||8224===t||8225===t||8240===t||8241===t||8251===t||8252===t||8258===t||8263===t||8264===t||8265===t||8273===t)||ms["Letterlike Symbols"](t)||ms["Number Forms"](t)||ms["Miscellaneous Technical"](t)&&(t>=8960&&t<=8967||t>=8972&&t<=8991||t>=8996&&t<=9e3||9003===t||t>=9085&&t<=9114||t>=9150&&t<=9165||9167===t||t>=9169&&t<=9179||t>=9186&&t<=9215)||ms["Control Pictures"](t)&&9251!==t||ms["Optical Character Recognition"](t)||ms["Enclosed Alphanumerics"](t)||ms["Geometric Shapes"](t)||ms["Miscellaneous Symbols"](t)&&!(t>=9754&&t<=9759)||ms["Miscellaneous Symbols and Arrows"](t)&&(t>=11026&&t<=11055||t>=11088&&t<=11097||t>=11192&&t<=11243)||ms["CJK Symbols and Punctuation"](t)||ms.Katakana(t)||ms["Private Use Area"](t)||ms["CJK Compatibility Forms"](t)||ms["Small Form Variants"](t)||ms["Halfwidth and Fullwidth Forms"](t)||8734===t||8756===t||8757===t||t>=9984&&t<=10087||t>=10102&&t<=10131||65532===t||65533===t)}(t))}const ks=vs(["Adlm","Arab","Armi","Avst","Chrs","Cprt","Egyp","Elym","Gara","Hatr","Hebr","Hung","Khar","Lydi","Mand","Mani","Mend","Merc","Mero","Narb","Nbat","Nkoo","Orkh","Palm","Phli","Phlp","Phnx","Prti","Rohg","Samr","Sarb","Sogo","Syrc","Thaa","Todr","Yezi"]);function Ms(t){return ks.test(String.fromCodePoint(t))}function Is(t,e){return !(!e&&Ms(t)||t>=2304&&t<=3583||t>=3840&&t<=4255||ms.Khmer(t))}function zs(t){for(const e of t)if(Ms(e.charCodeAt(0)))return !0;return !1}const Ps=new class{constructor(){this.TIMEOUT=5e3,this.applyArabicShaping=null,this.processBidirectionalText=null,this.processStyledBidirectionalText=null,this.pluginStatus="unavailable",this.pluginURL=null,this.loadScriptResolve=()=>{};}setState(t){this.pluginStatus=t.pluginStatus,this.pluginURL=t.pluginURL;}getState(){return {pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}}setMethods(t){if(Ps.isParsed())throw new Error("RTL text plugin already registered.");this.applyArabicShaping=t.applyArabicShaping,this.processBidirectionalText=t.processBidirectionalText,this.processStyledBidirectionalText=t.processStyledBidirectionalText,this.loadScriptResolve();}isParsed(){return null!=this.applyArabicShaping&&null!=this.processBidirectionalText&&null!=this.processStyledBidirectionalText}getRTLTextPluginStatus(){return this.pluginStatus}syncState(t,r){return e(this,void 0,void 0,(function*(){if(this.isParsed())return this.getState();if("loading"!==t.pluginStatus)return this.setState(t),t;const e=t.pluginURL,n=new Promise((t=>{this.loadScriptResolve=t;}));r(e);const i=new Promise((t=>setTimeout((()=>t()),this.TIMEOUT)));if(yield Promise.race([n,i]),this.isParsed()){const t={pluginStatus:"loaded",pluginURL:e};return this.setState(t),t}throw this.setState({pluginStatus:"error",pluginURL:""}),new Error(`RTL Text Plugin failed to import scripts from ${e}`)}))}};class Cs{constructor(t,e){this.zoom=t,e?(this.now=e.now||0,this.fadeDuration=e.fadeDuration||0,this.zoomHistory=e.zoomHistory||new ys,this.transition=e.transition||{},this.globalState=e.globalState||{}):(this.now=0,this.fadeDuration=0,this.zoomHistory=new ys,this.transition={},this.globalState={});}isSupportedScript(t){return function(t,e){for(const r of t)if(!Is(r.charCodeAt(0),e))return !1;return !0}(t,"loaded"===Ps.getRTLTextPluginStatus())}crossFadingFactor(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const t=this.zoom,e=t-Math.floor(t),r=this.crossFadingFactor();return t>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:e+(1-e)*r}:{fromScale:.5,toScale:1,t:1-(1-r)*e}}}class Bs{constructor(t,e){this.property=t,this.value=e,this.expression=function(t,e){if(Hn(t))return new ui(t,e);if(ii(t)){const r=li(t,e);if("error"===r.result)throw new Error(r.value.map((t=>`${t.key}: ${t.message}`)).join(", "));return r.value}{let r=t;return "color"===e.type&&"string"==typeof t?r=Pe.parse(t):"padding"!==e.type||"number"!=typeof t&&!Array.isArray(t)?"numberArray"!==e.type||"number"!=typeof t&&!Array.isArray(t)?"colorArray"!==e.type||"string"!=typeof t&&!Array.isArray(t)?"variableAnchorOffsetCollection"===e.type&&Array.isArray(t)?r=Oe.parse(t):"projectionDefinition"===e.type&&"string"==typeof t&&(r=je.parse(t)):r=Le.parse(t):r=Fe.parse(t):r=Ve.parse(t),{globalStateRefs:new Set,kind:"constant",evaluate:()=>r}}}(void 0===e?t.specification.default:e,t.specification);}isDataDriven(){return "source"===this.expression.kind||"composite"===this.expression.kind}getGlobalStateRefs(){return this.expression.globalStateRefs||new Set}possiblyEvaluate(t,e,r){return this.property.possiblyEvaluate(this,t,e,r)}}class Es{constructor(t){this.property=t,this.value=new Bs(t,void 0);}transitioned(t,e){return new Vs(this.property,this.value,e,j({},t.transition,this.transition),t.now)}untransitioned(){return new Vs(this.property,this.value,null,{},0)}}class Ts{constructor(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues);}getValue(t){return G(this._values[t].value.value)}setValue(t,e){Object.prototype.hasOwnProperty.call(this._values,t)||(this._values[t]=new Es(this._values[t].property)),this._values[t].value=new Bs(this._values[t].property,null===e?void 0:G(e));}getTransition(t){return G(this._values[t].transition)}setTransition(t,e){Object.prototype.hasOwnProperty.call(this._values,t)||(this._values[t]=new Es(this._values[t].property)),this._values[t].transition=G(e)||void 0;}serialize(){const t={};for(const e of Object.keys(this._values)){const r=this.getValue(e);void 0!==r&&(t[e]=r);const n=this.getTransition(e);void 0!==n&&(t[`${e}-transition`]=n);}return t}transitioned(t,e){const r=new Fs(this._properties);for(const n of Object.keys(this._values))r._values[n]=this._values[n].transitioned(t,e._values[n]);return r}untransitioned(){const t=new Fs(this._properties);for(const e of Object.keys(this._values))t._values[e]=this._values[e].untransitioned();return t}}class Vs{constructor(t,e,r,n,i){this.property=t,this.value=e,this.begin=i+n.delay||0,this.end=this.begin+n.duration||0,t.specification.transition&&(n.delay||n.duration)&&(this.prior=r);}possiblyEvaluate(t,e,r){const n=t.now||0,i=this.value.possiblyEvaluate(t,e,r),s=this.prior;if(s){if(n>this.end)return this.prior=null,i;if(this.value.isDataDriven())return this.prior=null,i;if(n<this.begin)return s.possiblyEvaluate(t,e,r);{const a=(n-this.begin)/(this.end-this.begin);return this.property.interpolate(s.possiblyEvaluate(t,e,r),i,L(a))}}return i}}class Fs{constructor(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues);}possiblyEvaluate(t,e,r){const n=new Ds(this._properties);for(const i of Object.keys(this._values))n._values[i]=this._values[i].possiblyEvaluate(t,e,r);return n}hasTransition(){for(const t of Object.keys(this._values))if(this._values[t].prior)return !0;return !1}}class Ls{constructor(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues);}hasValue(t){return void 0!==this._values[t].value}getValue(t){return G(this._values[t].value)}setValue(t,e){this._values[t]=new Bs(this._values[t].property,null===e?void 0:G(e));}serialize(){const t={};for(const e of Object.keys(this._values)){const r=this.getValue(e);void 0!==r&&(t[e]=r);}return t}possiblyEvaluate(t,e,r){const n=new Ds(this._properties);for(const i of Object.keys(this._values))n._values[i]=this._values[i].possiblyEvaluate(t,e,r);return n}}class $s{constructor(t,e,r){this.property=t,this.value=e,this.parameters=r;}isConstant(){return "constant"===this.value.kind}constantOr(t){return "constant"===this.value.kind?this.value.value:t}evaluate(t,e,r,n){return this.property.evaluate(this.value,this.parameters,t,e,r,n)}}class Ds{constructor(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues);}get(t){return this._values[t]}}class Os{constructor(t){this.specification=t;}possiblyEvaluate(t,e){if(t.isDataDriven())throw new Error("Value should not be data driven");return t.expression.evaluate(e)}interpolate(t,e,r){const n=gr[this.specification.type];return n?n(t,e,r):t}}class Rs{constructor(t,e){this.specification=t,this.overrides=e;}possiblyEvaluate(t,e,r,n){return new $s(this,"constant"===t.expression.kind||"camera"===t.expression.kind?{kind:"constant",value:t.expression.evaluate(e,null,{},r,n)}:t.expression,e)}interpolate(t,e,r){if("constant"!==t.value.kind||"constant"!==e.value.kind)return t;if(void 0===t.value.value||void 0===e.value.value)return new $s(this,{kind:"constant",value:void 0},t.parameters);const n=gr[this.specification.type];if(n){const i=n(t.value.value,e.value.value,r);return new $s(this,{kind:"constant",value:i},t.parameters)}return t}evaluate(t,e,r,n,i,s){return "constant"===t.kind?t.value:t.evaluate(e,r,n,i,s)}}class js extends Rs{possiblyEvaluate(t,e,r,n){if(void 0===t.value)return new $s(this,{kind:"constant",value:void 0},e);if("constant"===t.expression.kind){const i=t.expression.evaluate(e,null,{},r,n),s="resolvedImage"===t.property.specification.type&&"string"!=typeof i?i.name:i,a=this._calculate(s,s,s,e);return new $s(this,{kind:"constant",value:a},e)}if("camera"===t.expression.kind){const r=this._calculate(t.expression.evaluate({zoom:e.zoom-1}),t.expression.evaluate({zoom:e.zoom}),t.expression.evaluate({zoom:e.zoom+1}),e);return new $s(this,{kind:"constant",value:r},e)}return new $s(this,t.expression,e)}evaluate(t,e,r,n,i,s){if("source"===t.kind){const a=t.evaluate(e,r,n,i,s);return this._calculate(a,a,a,e)}return "composite"===t.kind?this._calculate(t.evaluate({zoom:Math.floor(e.zoom)-1},r,n),t.evaluate({zoom:Math.floor(e.zoom)},r,n),t.evaluate({zoom:Math.floor(e.zoom)+1},r,n),e):t.value}_calculate(t,e,r,n){return n.zoom>n.zoomHistory.lastIntegerZoom?{from:t,to:e}:{from:r,to:e}}interpolate(t){return t}}class Ns{constructor(t){this.specification=t;}possiblyEvaluate(t,e,r,n){if(void 0!==t.value){if("constant"===t.expression.kind){const i=t.expression.evaluate(e,null,{},r,n);return this._calculate(i,i,i,e)}return this._calculate(t.expression.evaluate(new Cs(Math.floor(e.zoom-1),e)),t.expression.evaluate(new Cs(Math.floor(e.zoom),e)),t.expression.evaluate(new Cs(Math.floor(e.zoom+1),e)),e)}}_calculate(t,e,r,n){return n.zoom>n.zoomHistory.lastIntegerZoom?{from:t,to:e}:{from:r,to:e}}interpolate(t){return t}}class Us{constructor(t){this.specification=t;}possiblyEvaluate(t,e,r,n){return !!t.expression.evaluate(e,null,{},r,n)}interpolate(){return !1}}class qs{constructor(t){this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const e in t){const r=t[e];r.specification.overridable&&this.overridableProperties.push(e);const n=this.defaultPropertyValues[e]=new Bs(r,void 0),i=this.defaultTransitionablePropertyValues[e]=new Es(r);this.defaultTransitioningPropertyValues[e]=i.untransitioned(),this.defaultPossiblyEvaluatedValues[e]=n.possiblyEvaluate({});}}}us("DataDrivenProperty",Rs),us("DataConstantProperty",Os),us("CrossFadedDataDrivenProperty",js),us("CrossFadedProperty",Ns),us("ColorRampProperty",Us);const Gs="-transition";class Xs extends bt{constructor(t,e){if(super(),this.id=t.id,this.type=t.type,this._featureFilter={filter:()=>!0,needGeometry:!1,getGlobalStateRefs:()=>new Set},"custom"!==t.type&&(this.metadata=t.metadata,this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,"background"!==t.type&&(this.source=t.source,this.sourceLayer=t["source-layer"],this.filter=t.filter,this._featureFilter=di(t.filter)),e.layout&&(this._unevaluatedLayout=new Ls(e.layout)),e.paint)){this._transitionablePaint=new Ts(e.paint);for(const e in t.paint)this.setPaintProperty(e,t.paint[e],{validate:!1});for(const e in t.layout)this.setLayoutProperty(e,t.layout[e],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Ds(e.paint);}}setFilter(t){this.filter=t,this._featureFilter=di(t);}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(t){return "visibility"===t?this.visibility:this._unevaluatedLayout.getValue(t)}getLayoutAffectingGlobalStateRefs(){const t=new Set;if(this._unevaluatedLayout)for(const e in this._unevaluatedLayout._values){const r=this._unevaluatedLayout._values[e];for(const e of r.getGlobalStateRefs())t.add(e);}for(const e of this._featureFilter.getGlobalStateRefs())t.add(e);return t}setLayoutProperty(t,e,r={}){null!=e&&this._validate(ss,`layers.${this.id}.layout.${t}`,t,e,r)||("visibility"!==t?this._unevaluatedLayout.setValue(t,e):this.visibility=e);}getPaintProperty(t){return t.endsWith(Gs)?this._transitionablePaint.getTransition(t.slice(0,-11)):this._transitionablePaint.getValue(t)}setPaintProperty(t,e,r={}){if(null!=e&&this._validate(is,`layers.${this.id}.paint.${t}`,t,e,r))return !1;if(t.endsWith(Gs))return this._transitionablePaint.setTransition(t.slice(0,-11),e||void 0),!1;{const r=this._transitionablePaint._values[t],n="cross-faded-data-driven"===r.property.specification["property-type"],i=r.value.isDataDriven(),s=r.value;this._transitionablePaint.setValue(t,e),this._handleSpecialPaintPropertyUpdate(t);const a=this._transitionablePaint._values[t].value;return a.isDataDriven()||i||n||this._handleOverridablePaintPropertyUpdate(t,s,a)}}_handleSpecialPaintPropertyUpdate(t){}_handleOverridablePaintPropertyUpdate(t,e,r){return !1}isHidden(t){return !!(this.minzoom&&t<this.minzoom)||!!(this.maxzoom&&t>=this.maxzoom)||"none"===this.visibility}updateTransitions(t){this._transitioningPaint=this._transitionablePaint.transitioned(t,this._transitioningPaint);}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(t,e){t.getCrossfadeParameters&&(this._crossfadeParameters=t.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(t,void 0,e)),this.paint=this._transitioningPaint.possiblyEvaluate(t,void 0,e);}serialize(){const t={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(t.layout=t.layout||{},t.layout.visibility=this.visibility),q(t,((t,e)=>!(void 0===t||"layout"===e&&!Object.keys(t).length||"paint"===e&&!Object.keys(t).length)))}_validate(t,e,r,n,i={}){return (!i||!1!==i.validate)&&as(this,t.call(es,{key:e,layerType:this.type,objectKey:r,value:n,styleSpec:wt,style:{glyphs:!0,sprite:!0}}))}is3D(){return !1}isTileClipped(){return !1}hasOffscreenPass(){return !1}resize(){}isStateDependent(){for(const t in this.paint._values){const e=this.paint.get(t);if(e instanceof $s&&Gn(e.property.specification)&&("source"===e.value.kind||"composite"===e.value.kind)&&e.value.isStateDependent)return !0}return !1}}const Zs={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Ys{constructor(t,e){this._structArray=t,this._pos1=e*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8;}}class Hs{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0);}static serialize(t,e){return t._trim(),e&&(t.isTransferred=!0,e.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}}static deserialize(t){const e=Object.create(this.prototype);return e.arrayBuffer=t.arrayBuffer,e.length=t.length,e.capacity=t.arrayBuffer.byteLength/e.bytesPerElement,e._refreshViews(),e}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews());}clear(){this.length=0;}resize(t){this.reserve(t),this.length=t;}reserve(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const e=this.uint8;this._refreshViews(),e&&this.uint8.set(e);}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function Ks(t,e=1){let r=0,n=0;return {members:t.map((t=>{const i=Zs[t.type].BYTES_PER_ELEMENT,s=r=Js(r,Math.max(e,i)),a=t.components||1;return n=Math.max(n,i),r+=i*a,{name:t.name,type:t.type,components:a,offset:s}})),size:Js(r,Math.max(n,e)),alignment:e}}function Js(t,e){return Math.ceil(t/e)*e}class Ws extends Hs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer);}emplaceBack(t,e){const r=this.length;return this.resize(r+1),this.emplace(r,t,e)}emplace(t,e,r){const n=2*t;return this.int16[n+0]=e,this.int16[n+1]=r,t}}Ws.prototype.bytesPerElement=4,us("StructArrayLayout2i4",Ws);class Qs extends Hs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer);}emplaceBack(t,e,r){const n=this.length;return this.resize(n+1),this.emplace(n,t,e,r)}emplace(t,e,r,n){const i=3*t;return this.int16[i+0]=e,this.int16[i+1]=r,this.int16[i+2]=n,t}}Qs.prototype.bytesPerElement=6,us("StructArrayLayout3i6",Qs);class ta extends Hs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer);}emplaceBack(t,e,r,n){const i=this.length;return this.resize(i+1),this.emplace(i,t,e,r,n)}emplace(t,e,r,n,i){const s=4*t;return this.int16[s+0]=e,this.int16[s+1]=r,this.int16[s+2]=n,this.int16[s+3]=i,t}}ta.prototype.bytesPerElement=8,us("StructArrayLayout4i8",ta);class ea extends Hs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer);}emplaceBack(t,e,r,n,i,s){const a=this.length;return this.resize(a+1),this.emplace(a,t,e,r,n,i,s)}emplace(t,e,r,n,i,s,a){const o=6*t;return this.int16[o+0]=e,this.int16[o+1]=r,this.int16[o+2]=n,this.int16[o+3]=i,this.int16[o+4]=s,this.int16[o+5]=a,t}}ea.prototype.bytesPerElement=12,us("StructArrayLayout2i4i12",ea);class ra extends Hs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer);}emplaceBack(t,e,r,n,i,s){const a=this.length;return this.resize(a+1),this.emplace(a,t,e,r,n,i,s)}emplace(t,e,r,n,i,s,a){const o=4*t,l=8*t;return this.int16[o+0]=e,this.int16[o+1]=r,this.uint8[l+4]=n,this.uint8[l+5]=i,this.uint8[l+6]=s,this.uint8[l+7]=a,t}}ra.prototype.bytesPerElement=8,us("StructArrayLayout2i4ub8",ra);class na extends Hs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(t,e){const r=this.length;return this.resize(r+1),this.emplace(r,t,e)}emplace(t,e,r){const n=2*t;return this.float32[n+0]=e,this.float32[n+1]=r,t}}na.prototype.bytesPerElement=8,us("StructArrayLayout2f8",na);class ia extends Hs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer);}emplaceBack(t,e,r,n,i,s,a,o,l,u){const c=this.length;return this.resize(c+1),this.emplace(c,t,e,r,n,i,s,a,o,l,u)}emplace(t,e,r,n,i,s,a,o,l,u,c){const h=10*t;return this.uint16[h+0]=e,this.uint16[h+1]=r,this.uint16[h+2]=n,this.uint16[h+3]=i,this.uint16[h+4]=s,this.uint16[h+5]=a,this.uint16[h+6]=o,this.uint16[h+7]=l,this.uint16[h+8]=u,this.uint16[h+9]=c,t}}ia.prototype.bytesPerElement=20,us("StructArrayLayout10ui20",ia);class sa extends Hs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer);}emplaceBack(t,e,r,n,i,s,a,o,l,u,c,h){const p=this.length;return this.resize(p+1),this.emplace(p,t,e,r,n,i,s,a,o,l,u,c,h)}emplace(t,e,r,n,i,s,a,o,l,u,c,h,p){const f=12*t;return this.int16[f+0]=e,this.int16[f+1]=r,this.int16[f+2]=n,this.int16[f+3]=i,this.uint16[f+4]=s,this.uint16[f+5]=a,this.uint16[f+6]=o,this.uint16[f+7]=l,this.int16[f+8]=u,this.int16[f+9]=c,this.int16[f+10]=h,this.int16[f+11]=p,t}}sa.prototype.bytesPerElement=24,us("StructArrayLayout4i4ui4i24",sa);class aa extends Hs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(t,e,r){const n=this.length;return this.resize(n+1),this.emplace(n,t,e,r)}emplace(t,e,r,n){const i=3*t;return this.float32[i+0]=e,this.float32[i+1]=r,this.float32[i+2]=n,t}}aa.prototype.bytesPerElement=12,us("StructArrayLayout3f12",aa);class oa extends Hs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer);}emplaceBack(t){const e=this.length;return this.resize(e+1),this.emplace(e,t)}emplace(t,e){return this.uint32[1*t+0]=e,t}}oa.prototype.bytesPerElement=4,us("StructArrayLayout1ul4",oa);class la extends Hs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer);}emplaceBack(t,e,r,n,i,s,a,o,l){const u=this.length;return this.resize(u+1),this.emplace(u,t,e,r,n,i,s,a,o,l)}emplace(t,e,r,n,i,s,a,o,l,u){const c=10*t,h=5*t;return this.int16[c+0]=e,this.int16[c+1]=r,this.int16[c+2]=n,this.int16[c+3]=i,this.int16[c+4]=s,this.int16[c+5]=a,this.uint32[h+3]=o,this.uint16[c+8]=l,this.uint16[c+9]=u,t}}la.prototype.bytesPerElement=20,us("StructArrayLayout6i1ul2ui20",la);class ua extends Hs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer);}emplaceBack(t,e,r,n,i,s){const a=this.length;return this.resize(a+1),this.emplace(a,t,e,r,n,i,s)}emplace(t,e,r,n,i,s,a){const o=6*t;return this.int16[o+0]=e,this.int16[o+1]=r,this.int16[o+2]=n,this.int16[o+3]=i,this.int16[o+4]=s,this.int16[o+5]=a,t}}ua.prototype.bytesPerElement=12,us("StructArrayLayout2i2i2i12",ua);class ca extends Hs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer);}emplaceBack(t,e,r,n,i){const s=this.length;return this.resize(s+1),this.emplace(s,t,e,r,n,i)}emplace(t,e,r,n,i,s){const a=4*t,o=8*t;return this.float32[a+0]=e,this.float32[a+1]=r,this.float32[a+2]=n,this.int16[o+6]=i,this.int16[o+7]=s,t}}ca.prototype.bytesPerElement=16,us("StructArrayLayout2f1f2i16",ca);class ha extends Hs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer);}emplaceBack(t,e,r,n,i,s){const a=this.length;return this.resize(a+1),this.emplace(a,t,e,r,n,i,s)}emplace(t,e,r,n,i,s,a){const o=16*t,l=4*t,u=8*t;return this.uint8[o+0]=e,this.uint8[o+1]=r,this.float32[l+1]=n,this.float32[l+2]=i,this.int16[u+6]=s,this.int16[u+7]=a,t}}ha.prototype.bytesPerElement=16,us("StructArrayLayout2ub2f2i16",ha);class pa extends Hs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer);}emplaceBack(t,e,r){const n=this.length;return this.resize(n+1),this.emplace(n,t,e,r)}emplace(t,e,r,n){const i=3*t;return this.uint16[i+0]=e,this.uint16[i+1]=r,this.uint16[i+2]=n,t}}pa.prototype.bytesPerElement=6,us("StructArrayLayout3ui6",pa);class fa extends Hs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(t,e,r,n,i,s,a,o,l,u,c,h,p,f,d,y,m){const g=this.length;return this.resize(g+1),this.emplace(g,t,e,r,n,i,s,a,o,l,u,c,h,p,f,d,y,m)}emplace(t,e,r,n,i,s,a,o,l,u,c,h,p,f,d,y,m,g){const x=24*t,v=12*t,b=48*t;return this.int16[x+0]=e,this.int16[x+1]=r,this.uint16[x+2]=n,this.uint16[x+3]=i,this.uint32[v+2]=s,this.uint32[v+3]=a,this.uint32[v+4]=o,this.uint16[x+10]=l,this.uint16[x+11]=u,this.uint16[x+12]=c,this.float32[v+7]=h,this.float32[v+8]=p,this.uint8[b+36]=f,this.uint8[b+37]=d,this.uint8[b+38]=y,this.uint32[v+10]=m,this.int16[x+22]=g,t}}fa.prototype.bytesPerElement=48,us("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",fa);class da extends Hs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(t,e,r,n,i,s,a,o,l,u,c,h,p,f,d,y,m,g,x,v,b,w,_,S,A,k,M,I){const z=this.length;return this.resize(z+1),this.emplace(z,t,e,r,n,i,s,a,o,l,u,c,h,p,f,d,y,m,g,x,v,b,w,_,S,A,k,M,I)}emplace(t,e,r,n,i,s,a,o,l,u,c,h,p,f,d,y,m,g,x,v,b,w,_,S,A,k,M,I,z){const P=32*t,C=16*t;return this.int16[P+0]=e,this.int16[P+1]=r,this.int16[P+2]=n,this.int16[P+3]=i,this.int16[P+4]=s,this.int16[P+5]=a,this.int16[P+6]=o,this.int16[P+7]=l,this.uint16[P+8]=u,this.uint16[P+9]=c,this.uint16[P+10]=h,this.uint16[P+11]=p,this.uint16[P+12]=f,this.uint16[P+13]=d,this.uint16[P+14]=y,this.uint16[P+15]=m,this.uint16[P+16]=g,this.uint16[P+17]=x,this.uint16[P+18]=v,this.uint16[P+19]=b,this.uint16[P+20]=w,this.uint16[P+21]=_,this.uint16[P+22]=S,this.uint32[C+12]=A,this.float32[C+13]=k,this.float32[C+14]=M,this.uint16[P+30]=I,this.uint16[P+31]=z,t}}da.prototype.bytesPerElement=64,us("StructArrayLayout8i15ui1ul2f2ui64",da);class ya extends Hs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(t){const e=this.length;return this.resize(e+1),this.emplace(e,t)}emplace(t,e){return this.float32[1*t+0]=e,t}}ya.prototype.bytesPerElement=4,us("StructArrayLayout1f4",ya);class ma extends Hs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(t,e,r){const n=this.length;return this.resize(n+1),this.emplace(n,t,e,r)}emplace(t,e,r,n){const i=3*t;return this.uint16[6*t+0]=e,this.float32[i+1]=r,this.float32[i+2]=n,t}}ma.prototype.bytesPerElement=12,us("StructArrayLayout1ui2f12",ma);class ga extends Hs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer);}emplaceBack(t,e,r){const n=this.length;return this.resize(n+1),this.emplace(n,t,e,r)}emplace(t,e,r,n){const i=4*t;return this.uint32[2*t+0]=e,this.uint16[i+2]=r,this.uint16[i+3]=n,t}}ga.prototype.bytesPerElement=8,us("StructArrayLayout1ul2ui8",ga);class xa extends Hs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer);}emplaceBack(t,e){const r=this.length;return this.resize(r+1),this.emplace(r,t,e)}emplace(t,e,r){const n=2*t;return this.uint16[n+0]=e,this.uint16[n+1]=r,t}}xa.prototype.bytesPerElement=4,us("StructArrayLayout2ui4",xa);class va extends Hs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer);}emplaceBack(t){const e=this.length;return this.resize(e+1),this.emplace(e,t)}emplace(t,e){return this.uint16[1*t+0]=e,t}}va.prototype.bytesPerElement=2,us("StructArrayLayout1ui2",va);class ba extends Hs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(t,e,r,n){const i=this.length;return this.resize(i+1),this.emplace(i,t,e,r,n)}emplace(t,e,r,n,i){const s=4*t;return this.float32[s+0]=e,this.float32[s+1]=r,this.float32[s+2]=n,this.float32[s+3]=i,t}}ba.prototype.bytesPerElement=16,us("StructArrayLayout4f16",ba);class wa extends Ys{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new l(this.anchorPointX,this.anchorPointY)}}wa.prototype.size=20;class _a extends la{get(t){return new wa(this,t)}}us("CollisionBoxArray",_a);class Sa extends Ys{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(t){this._structArray.uint8[this._pos1+37]=t;}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(t){this._structArray.uint8[this._pos1+38]=t;}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(t){this._structArray.uint32[this._pos4+10]=t;}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}Sa.prototype.size=48;class Aa extends fa{get(t){return new Sa(this,t)}}us("PlacedSymbolArray",Aa);class ka extends Ys{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(t){this._structArray.uint32[this._pos4+12]=t;}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}ka.prototype.size=64;class Ma extends da{get(t){return new ka(this,t)}}us("SymbolInstanceArray",Ma);class Ia extends ya{getoffsetX(t){return this.float32[1*t+0]}}us("GlyphOffsetArray",Ia);class za extends Qs{getx(t){return this.int16[3*t+0]}gety(t){return this.int16[3*t+1]}gettileUnitDistanceFromAnchor(t){return this.int16[3*t+2]}}us("SymbolLineVertexArray",za);class Pa extends Ys{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}Pa.prototype.size=12;class Ca extends ma{get(t){return new Pa(this,t)}}us("TextAnchorOffsetArray",Ca);class Ba extends Ys{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}Ba.prototype.size=8;class Ea extends ga{get(t){return new Ba(this,t)}}us("FeatureIndexArray",Ea);class Ta extends Ws{}class Va extends Ws{}class Fa extends Ws{}class La extends ea{}class $a extends ra{}class Da extends na{}class Oa extends ia{}class Ra extends sa{}class ja extends aa{}class Na extends oa{}class Ua extends ua{}class qa extends ha{}class Ga extends pa{}class Xa extends xa{}const Za=Ks([{name:"a_pos",components:2,type:"Int16"}],4),{members:Ya}=Za;class Ha{constructor(t=[]){this._forceNewSegmentOnNextPrepare=!1,this.segments=t;}prepareSegment(t,e,r,n){const i=this.segments[this.segments.length-1];return t>Ha.MAX_VERTEX_ARRAY_LENGTH&&Z(`Max vertices per segment is ${Ha.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${t}. Consider using the \`fillLargeMeshArrays\` function if you require meshes with more than ${Ha.MAX_VERTEX_ARRAY_LENGTH} vertices.`),this._forceNewSegmentOnNextPrepare||!i||i.vertexLength+t>Ha.MAX_VERTEX_ARRAY_LENGTH||i.sortKey!==n?this.createNewSegment(e,r,n):i}createNewSegment(t,e,r){const n={vertexOffset:t.length,primitiveOffset:e.length,vertexLength:0,primitiveLength:0,vaos:{}};return void 0!==r&&(n.sortKey=r),this._forceNewSegmentOnNextPrepare=!1,this.segments.push(n),n}getOrCreateLatestSegment(t,e,r){return this.prepareSegment(0,t,e,r)}forceNewSegmentOnNextPrepare(){this._forceNewSegmentOnNextPrepare=!0;}get(){return this.segments}destroy(){for(const t of this.segments)for(const e in t.vaos)t.vaos[e].destroy();}static simpleSegment(t,e,r,n){return new Ha([{vertexOffset:t,primitiveOffset:e,vertexLength:r,primitiveLength:n,vaos:{},sortKey:0}])}}function Ka(t,e){return 256*(t=O(Math.floor(t),0,255))+O(Math.floor(e),0,255)}Ha.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,us("SegmentVector",Ha);const Ja=Ks([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var Wa,Qa,to,eo={exports:{}},ro={exports:{}},no={exports:{}},io=function(){if(to)return eo.exports;to=1;var t=(Wa||(Wa=1,ro.exports=function(t,e){var r,n,i,s,a,o,l,u;for(n=t.length-(r=3&t.length),i=e,a=3432918353,o=461845907,u=0;u<n;)l=255&t.charCodeAt(u)|(255&t.charCodeAt(++u))<<8|(255&t.charCodeAt(++u))<<16|(255&t.charCodeAt(++u))<<24,++u,i=27492+(65535&(s=5*(65535&(i=(i^=l=(65535&(l=(l=(65535&l)*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*o+(((l>>>16)*o&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(s>>>16)&65535)<<16);switch(l=0,r){case 3:l^=(255&t.charCodeAt(u+2))<<16;case 2:l^=(255&t.charCodeAt(u+1))<<8;case 1:i^=l=(65535&(l=(l=(65535&(l^=255&t.charCodeAt(u)))*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*o+(((l>>>16)*o&65535)<<16)&4294967295;}return i^=t.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0}),ro.exports),e=(Qa||(Qa=1,no.exports=function(t,e){for(var r,n=t.length,i=e^n,s=0;n>=4;)r=1540483477*(65535&(r=255&t.charCodeAt(s)|(255&t.charCodeAt(++s))<<8|(255&t.charCodeAt(++s))<<16|(255&t.charCodeAt(++s))<<24))+((1540483477*(r>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(r=1540483477*(65535&(r^=r>>>24))+((1540483477*(r>>>16)&65535)<<16)),n-=4,++s;switch(n){case 3:i^=(255&t.charCodeAt(s+2))<<16;case 2:i^=(255&t.charCodeAt(s+1))<<8;case 1:i=1540483477*(65535&(i^=255&t.charCodeAt(s)))+((1540483477*(i>>>16)&65535)<<16);}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0}),no.exports);return eo.exports=t,eo.exports.murmur3=t,eo.exports.murmur2=e,eo.exports}(),so=r(io);class ao{constructor(){this.ids=[],this.positions=[],this.indexed=!1;}add(t,e,r,n){this.ids.push(oo(t)),this.positions.push(e,r,n);}getPositions(t){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const e=oo(t);let r=0,n=this.ids.length-1;for(;r<n;){const t=r+n>>1;this.ids[t]>=e?n=t:r=t+1;}const i=[];for(;this.ids[r]===e;)i.push({index:this.positions[3*r],start:this.positions[3*r+1],end:this.positions[3*r+2]}),r++;return i}static serialize(t,e){const r=new Float64Array(t.ids),n=new Uint32Array(t.positions);return lo(r,n,0,r.length-1),e&&e.push(r.buffer,n.buffer),{ids:r,positions:n}}static deserialize(t){const e=new ao;return e.ids=t.ids,e.positions=t.positions,e.indexed=!0,e}}function oo(t){const e=+t;return !isNaN(e)&&e<=Number.MAX_SAFE_INTEGER?e:so(String(t))}function lo(t,e,r,n){for(;r<n;){const i=t[r+n>>1];let s=r-1,a=n+1;for(;;){do{s++;}while(t[s]<i);do{a--;}while(t[a]>i);if(s>=a)break;uo(t,s,a),uo(e,3*s,3*a),uo(e,3*s+1,3*a+1),uo(e,3*s+2,3*a+2);}a-r<n-a?(lo(t,e,r,a),r=a+1):(lo(t,e,a+1,n),n=a);}}function uo(t,e,r){const n=t[e];t[e]=t[r],t[r]=n;}us("FeaturePositionMap",ao);class co{constructor(t,e){this.gl=t.gl,this.location=e;}}class ho extends co{constructor(t,e){super(t,e),this.current=0;}set(t){this.current!==t&&(this.current=t,this.gl.uniform1f(this.location,t));}}class po extends co{constructor(t,e){super(t,e),this.current=[0,0,0,0];}set(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]&&t[3]===this.current[3]||(this.current=t,this.gl.uniform4f(this.location,t[0],t[1],t[2],t[3]));}}class fo extends co{constructor(t,e){super(t,e),this.current=Pe.transparent;}set(t){t.r===this.current.r&&t.g===this.current.g&&t.b===this.current.b&&t.a===this.current.a||(this.current=t,this.gl.uniform4f(this.location,t.r,t.g,t.b,t.a));}}const yo=new Float32Array(16);function mo(t){return [Ka(255*t.r,255*t.g),Ka(255*t.b,255*t.a)]}class go{constructor(t,e,r){this.value=t,this.uniformNames=e.map((t=>`u_${t}`)),this.type=r;}setUniform(t,e,r){t.set(r.constantOr(this.value));}getBinding(t,e,r){return "color"===this.type?new fo(t,e):new ho(t,e)}}class xo{constructor(t,e){this.uniformNames=e.map((t=>`u_${t}`)),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1;}setConstantPatternPositions(t,e){this.pixelRatioFrom=e.pixelRatio,this.pixelRatioTo=t.pixelRatio,this.patternFrom=e.tlbr,this.patternTo=t.tlbr;}setUniform(t,e,r,n){const i="u_pattern_to"===n?this.patternTo:"u_pattern_from"===n?this.patternFrom:"u_pixel_ratio_to"===n?this.pixelRatioTo:"u_pixel_ratio_from"===n?this.pixelRatioFrom:null;i&&t.set(i);}getBinding(t,e,r){return "u_pattern"===r.substr(0,9)?new po(t,e):new ho(t,e)}}class vo{constructor(t,e,r,n){this.expression=t,this.type=r,this.maxValue=0,this.paintVertexAttributes=e.map((t=>({name:`a_${t}`,type:"Float32",components:"color"===r?2:1,offset:0}))),this.paintVertexArray=new n;}populatePaintArray(t,e,r,n,i){const s=this.paintVertexArray.length,a=this.expression.evaluate(new Cs(0),e,{},n,[],i);this.paintVertexArray.resize(t),this._setPaintValue(s,t,a);}updatePaintArray(t,e,r,n){const i=this.expression.evaluate({zoom:0},r,n);this._setPaintValue(t,e,i);}_setPaintValue(t,e,r){if("color"===this.type){const n=mo(r);for(let r=t;r<e;r++)this.paintVertexArray.emplace(r,n[0],n[1]);}else {for(let n=t;n<e;n++)this.paintVertexArray.emplace(n,r);this.maxValue=Math.max(this.maxValue,Math.abs(r));}}upload(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent));}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy();}}class bo{constructor(t,e,r,n,i,s){this.expression=t,this.uniformNames=e.map((t=>`u_${t}_t`)),this.type=r,this.useIntegerZoom=n,this.zoom=i,this.maxValue=0,this.paintVertexAttributes=e.map((t=>({name:`a_${t}`,type:"Float32",components:"color"===r?4:2,offset:0}))),this.paintVertexArray=new s;}populatePaintArray(t,e,r,n,i){const s=this.expression.evaluate(new Cs(this.zoom),e,{},n,[],i),a=this.expression.evaluate(new Cs(this.zoom+1),e,{},n,[],i),o=this.paintVertexArray.length;this.paintVertexArray.resize(t),this._setPaintValue(o,t,s,a);}updatePaintArray(t,e,r,n){const i=this.expression.evaluate({zoom:this.zoom},r,n),s=this.expression.evaluate({zoom:this.zoom+1},r,n);this._setPaintValue(t,e,i,s);}_setPaintValue(t,e,r,n){if("color"===this.type){const i=mo(r),s=mo(n);for(let r=t;r<e;r++)this.paintVertexArray.emplace(r,i[0],i[1],s[0],s[1]);}else {for(let i=t;i<e;i++)this.paintVertexArray.emplace(i,r,n);this.maxValue=Math.max(this.maxValue,Math.abs(r),Math.abs(n));}}upload(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent));}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy();}setUniform(t,e){const r=this.useIntegerZoom?Math.floor(e.zoom):e.zoom,n=O(this.expression.interpolationFactor(r,this.zoom,this.zoom+1),0,1);t.set(n);}getBinding(t,e,r){return new ho(t,e)}}class wo{constructor(t,e,r,n,i,s){this.expression=t,this.type=e,this.useIntegerZoom=r,this.zoom=n,this.layerId=s,this.zoomInPaintVertexArray=new i,this.zoomOutPaintVertexArray=new i;}populatePaintArray(t,e,r){const n=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(t),this.zoomOutPaintVertexArray.resize(t),this._setPaintValues(n,t,e.patterns&&e.patterns[this.layerId],r);}updatePaintArray(t,e,r,n,i){this._setPaintValues(t,e,r.patterns&&r.patterns[this.layerId],i);}_setPaintValues(t,e,r,n){if(!n||!r)return;const{min:i,mid:s,max:a}=r,o=n[i],l=n[s],u=n[a];if(o&&l&&u)for(let r=t;r<e;r++)this.zoomInPaintVertexArray.emplace(r,l.tl[0],l.tl[1],l.br[0],l.br[1],o.tl[0],o.tl[1],o.br[0],o.br[1],l.pixelRatio,o.pixelRatio),this.zoomOutPaintVertexArray.emplace(r,l.tl[0],l.tl[1],l.br[0],l.br[1],u.tl[0],u.tl[1],u.br[0],u.br[1],l.pixelRatio,u.pixelRatio);}upload(t){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=t.createVertexBuffer(this.zoomInPaintVertexArray,Ja.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=t.createVertexBuffer(this.zoomOutPaintVertexArray,Ja.members,this.expression.isStateDependent));}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy();}}class _o{constructor(t,e,r){this.binders={},this._buffers=[];const n=[];for(const i in t.paint._values){if(!r(i))continue;const s=t.paint.get(i);if(!(s instanceof $s&&Gn(s.property.specification)))continue;const a=Ao(i,t.type),o=s.value,l=s.property.specification.type,u=s.property.useIntegerZoom,c=s.property.specification["property-type"],h="cross-faded"===c||"cross-faded-data-driven"===c;if("constant"===o.kind)this.binders[i]=h?new xo(o.value,a):new go(o.value,a,l),n.push(`/u_${i}`);else if("source"===o.kind||h){const r=ko(i,l,"source");this.binders[i]=h?new wo(o,l,u,e,r,t.id):new vo(o,a,l,r),n.push(`/a_${i}`);}else {const t=ko(i,l,"composite");this.binders[i]=new bo(o,a,l,u,e,t),n.push(`/z_${i}`);}}this.cacheKey=n.sort().join("");}getMaxValue(t){const e=this.binders[t];return e instanceof vo||e instanceof bo?e.maxValue:0}populatePaintArrays(t,e,r,n,i){for(const s in this.binders){const a=this.binders[s];(a instanceof vo||a instanceof bo||a instanceof wo)&&a.populatePaintArray(t,e,r,n,i);}}setConstantPatternPositions(t,e){for(const r in this.binders){const n=this.binders[r];n instanceof xo&&n.setConstantPatternPositions(t,e);}}updatePaintArrays(t,e,r,n,i){let s=!1;for(const a in t){const o=e.getPositions(a);for(const e of o){const o=r.feature(e.index);for(const r in this.binders){const l=this.binders[r];if((l instanceof vo||l instanceof bo||l instanceof wo)&&!0===l.expression.isStateDependent){const u=n.paint.get(r);l.expression=u.value,l.updatePaintArray(e.start,e.end,o,t[a],i),s=!0;}}}}return s}defines(){const t=[];for(const e in this.binders){const r=this.binders[e];(r instanceof go||r instanceof xo)&&t.push(...r.uniformNames.map((t=>`#define HAS_UNIFORM_${t}`)));}return t}getBinderAttributes(){const t=[];for(const e in this.binders){const r=this.binders[e];if(r instanceof vo||r instanceof bo)for(let e=0;e<r.paintVertexAttributes.length;e++)t.push(r.paintVertexAttributes[e].name);else if(r instanceof wo)for(let e=0;e<Ja.members.length;e++)t.push(Ja.members[e].name);}return t}getBinderUniforms(){const t=[];for(const e in this.binders){const r=this.binders[e];if(r instanceof go||r instanceof xo||r instanceof bo)for(const e of r.uniformNames)t.push(e);}return t}getPaintVertexBuffers(){return this._buffers}getUniforms(t,e){const r=[];for(const n in this.binders){const i=this.binders[n];if(i instanceof go||i instanceof xo||i instanceof bo)for(const s of i.uniformNames)if(e[s]){const a=i.getBinding(t,e[s],s);r.push({name:s,property:n,binding:a});}}return r}setUniforms(t,e,r,n){for(const{name:t,property:i,binding:s}of e)this.binders[i].setUniform(s,n,r.get(i),t);}updatePaintBuffers(t){this._buffers=[];for(const e in this.binders){const r=this.binders[e];if(t&&r instanceof wo){const e=2===t.fromScale?r.zoomInPaintVertexBuffer:r.zoomOutPaintVertexBuffer;e&&this._buffers.push(e);}else (r instanceof vo||r instanceof bo)&&r.paintVertexBuffer&&this._buffers.push(r.paintVertexBuffer);}}upload(t){for(const e in this.binders){const r=this.binders[e];(r instanceof vo||r instanceof bo||r instanceof wo)&&r.upload(t);}this.updatePaintBuffers();}destroy(){for(const t in this.binders){const e=this.binders[t];(e instanceof vo||e instanceof bo||e instanceof wo)&&e.destroy();}}}class So{constructor(t,e,r=()=>!0){this.programConfigurations={};for(const n of t)this.programConfigurations[n.id]=new _o(n,e,r);this.needsUpload=!1,this._featureMap=new ao,this._bufferOffset=0;}populatePaintArrays(t,e,r,n,i,s){for(const r in this.programConfigurations)this.programConfigurations[r].populatePaintArrays(t,e,n,i,s);void 0!==e.id&&this._featureMap.add(e.id,r,this._bufferOffset,t),this._bufferOffset=t,this.needsUpload=!0;}updatePaintArrays(t,e,r,n){for(const i of r)this.needsUpload=this.programConfigurations[i.id].updatePaintArrays(t,this._featureMap,e,i,n)||this.needsUpload;}get(t){return this.programConfigurations[t]}upload(t){if(this.needsUpload){for(const e in this.programConfigurations)this.programConfigurations[e].upload(t);this.needsUpload=!1;}}destroy(){for(const t in this.programConfigurations)this.programConfigurations[t].destroy();}}function Ao(t,e){return {"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[t]||[t.replace(`${e}-`,"").replace(/-/g,"_")]}function ko(t,e,r){const n={color:{source:na,composite:ba},number:{source:ya,composite:na}},i=function(t){return {"line-pattern":{source:Oa,composite:Oa},"fill-pattern":{source:Oa,composite:Oa},"fill-extrusion-pattern":{source:Oa,composite:Oa}}[t]}(t);return i&&i[r]||n[e][r]}us("ConstantBinder",go),us("CrossFadedConstantBinder",xo),us("SourceExpressionBinder",vo),us("CrossFadedCompositeBinder",wo),us("CompositeExpressionBinder",bo),us("ProgramConfiguration",_o,{omit:["_buffers"]}),us("ProgramConfigurationSet",So);const Mo=Math.pow(2,14)-1,Io=-Mo-1;function zo(t){const e=E/t.extent,r=t.loadGeometry();for(let t=0;t<r.length;t++){const n=r[t];for(let t=0;t<n.length;t++){const r=n[t],i=Math.round(r.x*e),s=Math.round(r.y*e);r.x=O(i,Io,Mo),r.y=O(s,Io,Mo),(i<r.x||i>r.x+1||s<r.y||s>r.y+1)&&Z("Geometry exceeds allowed extent, reduce your vector tile buffer size");}}return r}function Po(t,e){return {type:t.type,id:t.id,properties:t.properties,geometry:e?zo(t):[]}}const Co=-32768;function Bo(t,e,r,n,i){t.emplaceBack(Co+8*e+n,Co+8*r+i);}class Eo{constructor(t){this.zoom=t.zoom,this.globalState=t.globalState,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((t=>t.id)),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new Va,this.indexArray=new Ga,this.segments=new Ha,this.programConfigurations=new So(t.layers,t.zoom),this.stateDependentLayerIds=this.layers.filter((t=>t.isStateDependent())).map((t=>t.id));}populate(t,e,r){const n=this.layers[0],i=[];let s=null,a=!1,o="heatmap"===n.type;if("circle"===n.type){const t=n;s=t.layout.get("circle-sort-key"),a=!s.isConstant(),o=o||"map"===t.paint.get("circle-pitch-alignment");}const l=o?e.subdivisionGranularity.circle:1;for(const{feature:e,id:n,index:o,sourceLayerIndex:l}of t){const t=this.layers[0]._featureFilter.needGeometry,u=Po(e,t);if(!this.layers[0]._featureFilter.filter(new Cs(this.zoom,{globalState:this.globalState}),u,r))continue;const c=a?s.evaluate(u,{},r):void 0,h={id:n,properties:e.properties,type:e.type,sourceLayerIndex:l,index:o,geometry:t?u.geometry:zo(e),patterns:{},sortKey:c};i.push(h);}a&&i.sort(((t,e)=>t.sortKey-e.sortKey));for(const n of i){const{geometry:i,index:s,sourceLayerIndex:a}=n,o=t[s].feature;this.addFeature(n,i,s,r,l),e.featureIndex.insert(o,i,s,a,this.index);}}update(t,e,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,r);}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return !this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Ya),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0;}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy());}addFeature(t,e,r,n,i=1){let s;switch(i){case 1:s=[0,7];break;case 3:s=[0,2,5,7];break;case 5:s=[0,1,3,4,6,7];break;case 7:s=[0,1,2,3,4,5,6,7];break;default:throw new Error(`Invalid circle bucket granularity: ${i}; valid values are 1, 3, 5, 7.`)}const a=s.length;for(const r of e)for(const e of r){const r=e.x,n=e.y;if(r<0||r>=E||n<0||n>=E)continue;const i=this.segments.prepareSegment(a*a,this.layoutVertexArray,this.indexArray,t.sortKey),o=i.vertexLength;for(let t=0;t<a;t++)for(let e=0;e<a;e++)Bo(this.layoutVertexArray,r,n,s[e],s[t]);for(let t=0;t<a-1;t++)for(let e=0;e<a-1;e++){const r=o+t*a+e,n=o+(t+1)*a+e;this.indexArray.emplaceBack(r,n+1,r+1),this.indexArray.emplaceBack(r,n,n+1);}i.vertexLength+=a*a,i.primitiveLength+=(a-1)*(a-1)*2;}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,r,{},n);}}function To(t,e){for(let r=0;r<t.length;r++)if(No(e,t[r]))return !0;for(let r=0;r<e.length;r++)if(No(t,e[r]))return !0;return !!$o(t,e)}function Vo(t,e,r){return !!No(t,e)||!!Oo(e,t,r)}function Fo(t,e){if(1===t.length)return jo(e,t[0]);for(let r=0;r<e.length;r++){const n=e[r];for(let e=0;e<n.length;e++)if(No(t,n[e]))return !0}for(let r=0;r<t.length;r++)if(jo(e,t[r]))return !0;for(let r=0;r<e.length;r++)if($o(t,e[r]))return !0;return !1}function Lo(t,e,r){if(t.length>1){if($o(t,e))return !0;for(let n=0;n<e.length;n++)if(Oo(e[n],t,r))return !0}for(let n=0;n<t.length;n++)if(Oo(t[n],e,r))return !0;return !1}function $o(t,e){if(0===t.length||0===e.length)return !1;for(let r=0;r<t.length-1;r++){const n=t[r],i=t[r+1];for(let t=0;t<e.length-1;t++)if(Do(n,i,e[t],e[t+1]))return !0}return !1}function Do(t,e,r,n){return Y(t,r,n)!==Y(e,r,n)&&Y(t,e,r)!==Y(t,e,n)}function Oo(t,e,r){const n=r*r;if(1===e.length)return t.distSqr(e[0])<n;for(let r=1;r<e.length;r++)if(Ro(t,e[r-1],e[r])<n)return !0;return !1}function Ro(t,e,r){const n=e.distSqr(r);if(0===n)return t.distSqr(e);const i=((t.x-e.x)*(r.x-e.x)+(t.y-e.y)*(r.y-e.y))/n;return t.distSqr(i<0?e:i>1?r:r.sub(e)._mult(i)._add(e))}function jo(t,e){let r,n,i,s=!1;for(let a=0;a<t.length;a++){r=t[a];for(let t=0,a=r.length-1;t<r.length;a=t++)n=r[t],i=r[a],n.y>e.y!=i.y>e.y&&e.x<(i.x-n.x)*(e.y-n.y)/(i.y-n.y)+n.x&&(s=!s);}return s}function No(t,e){let r=!1;for(let n=0,i=t.length-1;n<t.length;i=n++){const s=t[n],a=t[i];s.y>e.y!=a.y>e.y&&e.x<(a.x-s.x)*(e.y-s.y)/(a.y-s.y)+s.x&&(r=!r);}return r}function Uo(t,e,r){const n=r[0],i=r[2];if(t.x<n.x&&e.x<n.x||t.x>i.x&&e.x>i.x||t.y<n.y&&e.y<n.y||t.y>i.y&&e.y>i.y)return !1;const s=Y(t,e,r[0]);return s!==Y(t,e,r[1])||s!==Y(t,e,r[2])||s!==Y(t,e,r[3])}function qo(t,e,r){const n=e.paint.get(t).value;return "constant"===n.kind?n.value:r.programConfigurations.get(e.id).getMaxValue(t)}function Go(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function Xo(t,e,r,n,i){if(!e[0]&&!e[1])return t;const s=l.convert(e)._mult(i);"viewport"===r&&s._rotate(-n);const a=[];for(let e=0;e<t.length;e++)a.push(t[e].sub(s));return a}let Zo,Yo;us("CircleBucket",Eo,{omit:["layers"]});var Ho={get paint(){return Yo=Yo||new qs({"circle-radius":new Rs(wt.paint_circle["circle-radius"]),"circle-color":new Rs(wt.paint_circle["circle-color"]),"circle-blur":new Rs(wt.paint_circle["circle-blur"]),"circle-opacity":new Rs(wt.paint_circle["circle-opacity"]),"circle-translate":new Os(wt.paint_circle["circle-translate"]),"circle-translate-anchor":new Os(wt.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Os(wt.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Os(wt.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Rs(wt.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Rs(wt.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Rs(wt.paint_circle["circle-stroke-opacity"])})},get layout(){return Zo=Zo||new qs({"circle-sort-key":new Rs(wt.layout_circle["circle-sort-key"])})}};class Ko extends Xs{constructor(t){super(t,Ho);}createBucket(t){return new Eo(t)}queryRadius(t){const e=t;return qo("circle-radius",this,e)+qo("circle-stroke-width",this,e)+Go(this.paint.get("circle-translate"))}queryIntersectsFeature({queryGeometry:t,feature:e,featureState:r,geometry:n,transform:i,pixelsToTileUnits:s,unwrappedTileID:a,getElevation:o}){const l=Xo(t,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),-i.bearingInRadians,s),u=this.paint.get("circle-radius").evaluate(e,r)+this.paint.get("circle-stroke-width").evaluate(e,r),c="map"===this.paint.get("circle-pitch-alignment"),h=c?l:function(t,e,r,n){return t.map((t=>Jo(t,e,r,n)))}(l,i,a,o),p=c?u*s:u;for(const t of n)for(const e of t){const t=c?e:Jo(e,i,a,o);let r=p;const n=i.projectTileCoordinates(e.x,e.y,a,o).signedDistanceFromCamera;if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?r*=n/i.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(r*=i.cameraToCenterDistance/n),Vo(h,t,r))return !0}return !1}}function Jo(t,e,r,n){const i=e.projectTileCoordinates(t.x,t.y,r,n).point;return new l((.5*i.x+.5)*e.width,(.5*-i.y+.5)*e.height)}class Wo extends Eo{}let Qo;us("HeatmapBucket",Wo,{omit:["layers"]});var tl={get paint(){return Qo=Qo||new qs({"heatmap-radius":new Rs(wt.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Rs(wt.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Os(wt.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Us(wt.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Os(wt.paint_heatmap["heatmap-opacity"])})}};function el(t,{width:e,height:r},n,i){if(i){if(i instanceof Uint8ClampedArray)i=new Uint8Array(i.buffer);else if(i.length!==e*r*n)throw new RangeError(`mismatched image size. expected: ${i.length} but got: ${e*r*n}`)}else i=new Uint8Array(e*r*n);return t.width=e,t.height=r,t.data=i,t}function rl(t,{width:e,height:r},n){if(e===t.width&&r===t.height)return;const i=el({},{width:e,height:r},n);nl(t,i,{x:0,y:0},{x:0,y:0},{width:Math.min(t.width,e),height:Math.min(t.height,r)},n),t.width=e,t.height=r,t.data=i.data;}function nl(t,e,r,n,i,s){if(0===i.width||0===i.height)return e;if(i.width>t.width||i.height>t.height||r.x>t.width-i.width||r.y>t.height-i.height)throw new RangeError("out of range source coordinates for image copy");if(i.width>e.width||i.height>e.height||n.x>e.width-i.width||n.y>e.height-i.height)throw new RangeError("out of range destination coordinates for image copy");const a=t.data,o=e.data;if(a===o)throw new Error("srcData equals dstData, so image is already copied");for(let l=0;l<i.height;l++){const u=((r.y+l)*t.width+r.x)*s,c=((n.y+l)*e.width+n.x)*s;for(let t=0;t<i.width*s;t++)o[c+t]=a[u+t];}return e}class il{constructor(t,e){el(this,t,1,e);}resize(t){rl(this,t,1);}clone(){return new il({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(t,e,r,n,i){nl(t,e,r,n,i,1);}}class sl{constructor(t,e){el(this,t,4,e);}resize(t){rl(this,t,4);}replace(t,e){e?this.data.set(t):this.data=t instanceof Uint8ClampedArray?new Uint8Array(t.buffer):t;}clone(){return new sl({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(t,e,r,n,i){nl(t,e,r,n,i,4);}setPixel(t,e,r){const n=4*(t*this.width+e);this.data[n+0]=Math.round(255*r.r/r.a),this.data[n+1]=Math.round(255*r.g/r.a),this.data[n+2]=Math.round(255*r.b/r.a),this.data[n+3]=Math.round(255*r.a);}}function al(t){const e={},r=t.resolution||256,n=t.clips?t.clips.length:1,i=t.image||new sl({width:r,height:n});if(Math.log(r)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${r}`);const s=(n,s,a)=>{e[t.evaluationKey]=a;const o=t.expression.evaluate(e);i.setPixel(n/4/r,s/4,o);};if(t.clips)for(let e=0,i=0;e<n;++e,i+=4*r)for(let n=0,a=0;n<r;n++,a+=4){const o=n/(r-1),{start:l,end:u}=t.clips[e];s(i,a,l*(1-o)+u*o);}else for(let t=0,e=0;t<r;t++,e+=4)s(0,e,t/(r-1));return i}us("AlphaImage",il),us("RGBAImage",sl);const ol="big-fb";class ll extends Xs{createBucket(t){return new Wo(t)}constructor(t){super(t,tl),this.heatmapFbos=new Map,this._updateColorRamp();}_handleSpecialPaintPropertyUpdate(t){"heatmap-color"===t&&this._updateColorRamp();}_updateColorRamp(){this.colorRamp=al({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null;}resize(){this.heatmapFbos.has(ol)&&this.heatmapFbos.delete(ol);}queryRadius(){return 0}queryIntersectsFeature(){return !1}hasOffscreenPass(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility}}let ul;var cl={get paint(){return ul=ul||new qs({"hillshade-illumination-direction":new Os(wt.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-altitude":new Os(wt.paint_hillshade["hillshade-illumination-altitude"]),"hillshade-illumination-anchor":new Os(wt.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Os(wt.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Os(wt.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Os(wt.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Os(wt.paint_hillshade["hillshade-accent-color"]),"hillshade-method":new Os(wt.paint_hillshade["hillshade-method"])})}};class hl extends Xs{constructor(t){super(t,cl),this.recalculate({zoom:0,zoomHistory:{}},void 0);}getIlluminationProperties(){let t=this.paint.get("hillshade-illumination-direction").values,e=this.paint.get("hillshade-illumination-altitude").values,r=this.paint.get("hillshade-highlight-color").values,n=this.paint.get("hillshade-shadow-color").values;const i=Math.max(t.length,e.length,r.length,n.length);t=t.concat(Array(i-t.length).fill(t.at(-1))),e=e.concat(Array(i-e.length).fill(e.at(-1))),r=r.concat(Array(i-r.length).fill(r.at(-1))),n=n.concat(Array(i-n.length).fill(n.at(-1)));const s=e.map(nt);return {directionRadians:t.map(nt),altitudeRadians:s,shadowColor:n,highlightColor:r}}hasOffscreenPass(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility}}let pl;var fl={get paint(){return pl=pl||new qs({"color-relief-opacity":new Os(wt["paint_color-relief"]["color-relief-opacity"]),"color-relief-color":new Us(wt["paint_color-relief"]["color-relief-color"])})}};class dl{constructor(t,e,r,n){this.context=t,this.format=r,this.texture=t.gl.createTexture(),this.update(e,n);}update(t,e,r){const{width:n,height:i}=t,s=!(this.size&&this.size[0]===n&&this.size[1]===i||r),{context:a}=this,{gl:o}=a;if(this.useMipmap=Boolean(e&&e.useMipmap),o.bindTexture(o.TEXTURE_2D,this.texture),a.pixelStoreUnpackFlipY.set(!1),a.pixelStoreUnpack.set(1),a.pixelStoreUnpackPremultiplyAlpha.set(this.format===o.RGBA&&(!e||!1!==e.premultiply)),s)this.size=[n,i],t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement||t instanceof ImageData||J(t)?o.texImage2D(o.TEXTURE_2D,0,this.format,this.format,o.UNSIGNED_BYTE,t):o.texImage2D(o.TEXTURE_2D,0,this.format,n,i,0,this.format,o.UNSIGNED_BYTE,t.data);else {const{x:e,y:s}=r||{x:0,y:0};t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement||t instanceof ImageData||J(t)?o.texSubImage2D(o.TEXTURE_2D,0,e,s,o.RGBA,o.UNSIGNED_BYTE,t):o.texSubImage2D(o.TEXTURE_2D,0,e,s,n,i,o.RGBA,o.UNSIGNED_BYTE,t.data);}this.useMipmap&&this.isSizePowerOfTwo()&&o.generateMipmap(o.TEXTURE_2D),a.pixelStoreUnpackFlipY.setDefault(),a.pixelStoreUnpack.setDefault(),a.pixelStoreUnpackPremultiplyAlpha.setDefault();}bind(t,e,r){const{context:n}=this,{gl:i}=n;i.bindTexture(i.TEXTURE_2D,this.texture),r!==i.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(r=i.LINEAR),t!==this.filter&&(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,t),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,r||t),this.filter=t),e!==this.wrap&&(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,e),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,e),this.wrap=e);}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:t}=this.context;t.deleteTexture(this.texture),this.texture=null;}}class yl{constructor(t,e,r,n=1,i=1,s=1,a=0){if(this.uid=t,e.height!==e.width)throw new RangeError("DEM tiles must be square");if(r&&!["mapbox","terrarium","custom"].includes(r))return void Z(`"${r}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=e.height;const o=this.dim=e.height-2;switch(this.data=new Uint32Array(e.data.buffer),r){case "terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case "custom":this.redFactor=n,this.greenFactor=i,this.blueFactor=s,this.baseShift=a;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4;}for(let t=0;t<o;t++)this.data[this._idx(-1,t)]=this.data[this._idx(0,t)],this.data[this._idx(o,t)]=this.data[this._idx(o-1,t)],this.data[this._idx(t,-1)]=this.data[this._idx(t,0)],this.data[this._idx(t,o)]=this.data[this._idx(t,o-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(o,-1)]=this.data[this._idx(o-1,0)],this.data[this._idx(-1,o)]=this.data[this._idx(0,o-1)],this.data[this._idx(o,o)]=this.data[this._idx(o-1,o-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let t=0;t<o;t++)for(let e=0;e<o;e++){const r=this.get(t,e);r>this.max&&(this.max=r),r<this.min&&(this.min=r);}}get(t,e){const r=new Uint8Array(this.data.buffer),n=4*this._idx(t,e);return this.unpack(r[n],r[n+1],r[n+2])}getUnpackVector(){return [this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(t,e){if(t<-1||t>=this.dim+1||e<-1||e>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return (e+1)*this.stride+(t+1)}unpack(t,e,r){return t*this.redFactor+e*this.greenFactor+r*this.blueFactor-this.baseShift}pack(t){return ml(t,this.getUnpackVector())}getPixels(){return new sl({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(t,e,r){if(this.dim!==t.dim)throw new Error("dem dimension mismatch");let n=e*this.dim,i=e*this.dim+this.dim,s=r*this.dim,a=r*this.dim+this.dim;switch(e){case -1:n=i-1;break;case 1:i=n+1;}switch(r){case -1:s=a-1;break;case 1:a=s+1;}const o=-e*this.dim,l=-r*this.dim;for(let e=s;e<a;e++)for(let r=n;r<i;r++)this.data[this._idx(r,e)]=t.data[this._idx(r+o,e+l)];}}function ml(t,e){const r=e[0],n=e[1],i=e[2],s=e[3],a=Math.min(r,n,i),o=Math.round((t+s)/a);return {r:Math.floor(o*a/r)%256,g:Math.floor(o*a/n)%256,b:Math.floor(o*a/i)%256}}us("DEMData",yl);class gl extends Xs{constructor(t){super(t,fl);}_createColorRamp(t){const e={elevationStops:[],colorStops:[]},r=this._transitionablePaint._values["color-relief-color"].value.expression;if(r instanceof ai&&r._styleExpression.expression instanceof yr){this.colorRampExpression=r;const t=r._styleExpression.expression;e.elevationStops=t.labels,e.colorStops=[];for(const r of e.elevationStops)e.colorStops.push(t.evaluate({globals:{elevation:r}}));}if(e.elevationStops.length<1&&(e.elevationStops=[0],e.colorStops=[Pe.transparent]),e.elevationStops.length<2&&(e.elevationStops.push(e.elevationStops[0]+1),e.colorStops.push(e.colorStops[0])),e.elevationStops.length<=t)return e;const n={elevationStops:[],colorStops:[]},i=(e.elevationStops.length-1)/(t-1);for(let t=0;t<e.elevationStops.length-.5;t+=i)n.elevationStops.push(e.elevationStops[Math.round(t)]),n.colorStops.push(e.colorStops[Math.round(t)]);return Z(`Too many colors in specification of ${this.id} color-relief layer, may not render properly.`),n}_colorRampChanged(){return this.colorRampExpression!=this._transitionablePaint._values["color-relief-color"].value.expression}getColorRampTextures(t,e,r){if(this.colorRampTextures&&!this._colorRampChanged())return this.colorRampTextures;const n=this._createColorRamp(e),i=new sl({width:n.colorStops.length,height:1}),s=new sl({width:n.colorStops.length,height:1});for(let t=0;t<n.elevationStops.length;t++){const e=ml(n.elevationStops[t],r);s.setPixel(0,t,new Pe(e.r/255,e.g/255,e.b/255,1)),i.setPixel(0,t,n.colorStops[t]);}return this.colorRampTextures={elevationTexture:new dl(t,s,t.gl.RGBA),colorTexture:new dl(t,i,t.gl.RGBA)},this.colorRampTextures}hasOffscreenPass(){return "none"!==this.visibility&&!!this.colorRampTextures}}const xl=Ks([{name:"a_pos",components:2,type:"Int16"}],4),{members:vl}=xl;function bl(t,e,r){const n=r.patternDependencies;let i=!1;for(const r of e){const e=r.paint.get(`${t}-pattern`);e.isConstant()||(i=!0);const s=e.constantOr(null);s&&(i=!0,n[s.to]=!0,n[s.from]=!0);}return i}function wl(t,e,r,n,i){const s=i.patternDependencies;for(const a of e){const e=a.paint.get(`${t}-pattern`).value;if("constant"!==e.kind){let t=e.evaluate({zoom:n-1},r,{},i.availableImages),o=e.evaluate({zoom:n},r,{},i.availableImages),l=e.evaluate({zoom:n+1},r,{},i.availableImages);t=t&&t.name?t.name:t,o=o&&o.name?o.name:o,l=l&&l.name?l.name:l,s[t]=!0,s[o]=!0,s[l]=!0,r.patterns[a.id]={min:t,mid:o,max:l};}}return r}function _l(t,e,r,n,i){let s;if(i===function(t,e,r,n){let i=0;for(let s=e,a=r-n;s<r;s+=n)i+=(t[a]-t[s])*(t[s+1]+t[a+1]),a=s;return i}(t,e,r,n)>0)for(let i=e;i<r;i+=n)s=ql(i/n|0,t[i],t[i+1],s);else for(let i=r-n;i>=e;i-=n)s=ql(i/n|0,t[i],t[i+1],s);return s&&Dl(s,s.next)&&(Gl(s),s=s.next),s}function Sl(t,e){if(!t)return t;e||(e=t);let r,n=t;do{if(r=!1,n.steiner||!Dl(n,n.next)&&0!==$l(n.prev,n,n.next))n=n.next;else {if(Gl(n),n=e=n.prev,n===n.next)break;r=!0;}}while(r||n!==e);return e}function Al(t,e,r,n,i,s,a){if(!t)return;!a&&s&&function(t,e,r,n){let i=t;do{0===i.z&&(i.z=El(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){let e,r=1;do{let n,i=t;t=null;let s=null;for(e=0;i;){e++;let a=i,o=0;for(let t=0;t<r&&(o++,a=a.nextZ,a);t++);let l=r;for(;o>0||l>0&&a;)0!==o&&(0===l||!a||i.z<=a.z)?(n=i,i=i.nextZ,o--):(n=a,a=a.nextZ,l--),s?s.nextZ=n:t=n,n.prevZ=s,s=n;i=a;}s.nextZ=null,r*=2;}while(e>1)}(i);}(t,n,i,s);let o=t;for(;t.prev!==t.next;){const l=t.prev,u=t.next;if(s?Ml(t,n,i,s):kl(t))e.push(l.i,t.i,u.i),Gl(t),t=u.next,o=u.next;else if((t=u)===o){a?1===a?Al(t=Il(Sl(t),e),e,r,n,i,s,2):2===a&&zl(t,e,r,n,i,s):Al(Sl(t),e,r,n,i,s,1);break}}}function kl(t){const e=t.prev,r=t,n=t.next;if($l(e,r,n)>=0)return !1;const i=e.x,s=r.x,a=n.x,o=e.y,l=r.y,u=n.y,c=Math.min(i,s,a),h=Math.min(o,l,u),p=Math.max(i,s,a),f=Math.max(o,l,u);let d=n.next;for(;d!==e;){if(d.x>=c&&d.x<=p&&d.y>=h&&d.y<=f&&Fl(i,o,s,l,a,u,d.x,d.y)&&$l(d.prev,d,d.next)>=0)return !1;d=d.next;}return !0}function Ml(t,e,r,n){const i=t.prev,s=t,a=t.next;if($l(i,s,a)>=0)return !1;const o=i.x,l=s.x,u=a.x,c=i.y,h=s.y,p=a.y,f=Math.min(o,l,u),d=Math.min(c,h,p),y=Math.max(o,l,u),m=Math.max(c,h,p),g=El(f,d,e,r,n),x=El(y,m,e,r,n);let v=t.prevZ,b=t.nextZ;for(;v&&v.z>=g&&b&&b.z<=x;){if(v.x>=f&&v.x<=y&&v.y>=d&&v.y<=m&&v!==i&&v!==a&&Fl(o,c,l,h,u,p,v.x,v.y)&&$l(v.prev,v,v.next)>=0)return !1;if(v=v.prevZ,b.x>=f&&b.x<=y&&b.y>=d&&b.y<=m&&b!==i&&b!==a&&Fl(o,c,l,h,u,p,b.x,b.y)&&$l(b.prev,b,b.next)>=0)return !1;b=b.nextZ;}for(;v&&v.z>=g;){if(v.x>=f&&v.x<=y&&v.y>=d&&v.y<=m&&v!==i&&v!==a&&Fl(o,c,l,h,u,p,v.x,v.y)&&$l(v.prev,v,v.next)>=0)return !1;v=v.prevZ;}for(;b&&b.z<=x;){if(b.x>=f&&b.x<=y&&b.y>=d&&b.y<=m&&b!==i&&b!==a&&Fl(o,c,l,h,u,p,b.x,b.y)&&$l(b.prev,b,b.next)>=0)return !1;b=b.nextZ;}return !0}function Il(t,e){let r=t;do{const n=r.prev,i=r.next.next;!Dl(n,i)&&Ol(n,r,r.next,i)&&Nl(n,i)&&Nl(i,n)&&(e.push(n.i,r.i,i.i),Gl(r),Gl(r.next),r=t=i),r=r.next;}while(r!==t);return Sl(r)}function zl(t,e,r,n,i,s){let a=t;do{let t=a.next.next;for(;t!==a.prev;){if(a.i!==t.i&&Ll(a,t)){let o=Ul(a,t);return a=Sl(a,a.next),o=Sl(o,o.next),Al(a,e,r,n,i,s,0),void Al(o,e,r,n,i,s,0)}t=t.next;}a=a.next;}while(a!==t)}function Pl(t,e){let r=t.x-e.x;return 0===r&&(r=t.y-e.y,0===r)&&(r=(t.next.y-t.y)/(t.next.x-t.x)-(e.next.y-e.y)/(e.next.x-e.x)),r}function Cl(t,e){const r=function(t,e){let r=e;const n=t.x,i=t.y;let s,a=-1/0;if(Dl(t,r))return r;do{if(Dl(t,r.next))return r.next;if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){const t=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(t<=n&&t>a&&(a=t,s=r.x<r.next.x?r:r.next,t===n))return s}r=r.next;}while(r!==e);if(!s)return null;const o=s,l=s.x,u=s.y;let c=1/0;r=s;do{if(n>=r.x&&r.x>=l&&n!==r.x&&Vl(i<u?n:a,i,l,u,i<u?a:n,i,r.x,r.y)){const e=Math.abs(i-r.y)/(n-r.x);Nl(r,t)&&(e<c||e===c&&(r.x>s.x||r.x===s.x&&Bl(s,r)))&&(s=r,c=e);}r=r.next;}while(r!==o);return s}(t,e);if(!r)return e;const n=Ul(r,t);return Sl(n,n.next),Sl(r,r.next)}function Bl(t,e){return $l(t.prev,t,e.prev)<0&&$l(e.next,t,t.next)<0}function El(t,e,r,n,i){return (t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Tl(t){let e=t,r=t;do{(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;}while(e!==t);return r}function Vl(t,e,r,n,i,s,a,o){return (i-a)*(e-o)>=(t-a)*(s-o)&&(t-a)*(n-o)>=(r-a)*(e-o)&&(r-a)*(s-o)>=(i-a)*(n-o)}function Fl(t,e,r,n,i,s,a,o){return !(t===a&&e===o)&&Vl(t,e,r,n,i,s,a,o)}function Ll(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){let r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&Ol(r,r.next,t,e))return !0;r=r.next;}while(r!==t);return !1}(t,e)&&(Nl(t,e)&&Nl(e,t)&&function(t,e){let r=t,n=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do{r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;}while(r!==t);return n}(t,e)&&($l(t.prev,t,e.prev)||$l(t,e.prev,e))||Dl(t,e)&&$l(t.prev,t,t.next)>0&&$l(e.prev,e,e.next)>0)}function $l(t,e,r){return (e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function Dl(t,e){return t.x===e.x&&t.y===e.y}function Ol(t,e,r,n){const i=jl($l(t,e,r)),s=jl($l(t,e,n)),a=jl($l(r,n,t)),o=jl($l(r,n,e));return i!==s&&a!==o||!(0!==i||!Rl(t,r,e))||!(0!==s||!Rl(t,n,e))||!(0!==a||!Rl(r,t,n))||!(0!==o||!Rl(r,e,n))}function Rl(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function jl(t){return t>0?1:t<0?-1:0}function Nl(t,e){return $l(t.prev,t,t.next)<0?$l(t,e,t.next)>=0&&$l(t,t.prev,e)>=0:$l(t,e,t.prev)<0||$l(t,t.next,e)<0}function Ul(t,e){const r=Xl(t.i,t.x,t.y),n=Xl(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function ql(t,e,r,n){const i=Xl(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function Gl(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ);}function Xl(t,e,r){return {i:t,x:e,y:r,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}class Zl{constructor(t,e){if(e>t)throw new Error("Min granularity must not be greater than base granularity.");this._baseZoomGranularity=t,this._minGranularity=e;}getGranularityForZoomLevel(t){return Math.max(Math.floor(this._baseZoomGranularity/(1<<t)),this._minGranularity,1)}}class Yl{constructor(t){this.fill=t.fill,this.line=t.line,this.tile=t.tile,this.stencil=t.stencil,this.circle=t.circle;}}Yl.noSubdivision=new Yl({fill:new Zl(0,0),line:new Zl(0,0),tile:new Zl(0,0),stencil:new Zl(0,0),circle:1}),us("SubdivisionGranularityExpression",Zl),us("SubdivisionGranularitySetting",Yl);const Hl=-32768,Kl=32767;class Jl{constructor(t,e){this._vertexBuffer=[],this._vertexDictionary=new Map,this._used=!1,this._granularity=t,this._granularityCellSize=E/t,this._canonical=e;}_getKey(t,e){return (t+=32768)<<16|e+32768}_vertexToIndex(t,e){if(t<-32768||e<-32768||t>32767||e>32767)throw new Error("Vertex coordinates are out of signed 16 bit integer range.");const r=0|Math.round(t),n=0|Math.round(e),i=this._getKey(r,n);if(this._vertexDictionary.has(i))return this._vertexDictionary.get(i);const s=this._vertexBuffer.length/2;return this._vertexDictionary.set(i,s),this._vertexBuffer.push(r,n),s}_subdivideTrianglesScanline(t){if(this._granularity<2)return function(t,e){const r=[];for(let n=0;n<e.length;n+=3){const i=e[n],s=e[n+1],a=e[n+2],o=t[2*i],l=t[2*i+1];(t[2*s]-o)*(t[2*a+1]-l)-(t[2*s+1]-l)*(t[2*a]-o)>0?(r.push(i),r.push(a),r.push(s)):(r.push(i),r.push(s),r.push(a));}return r}(this._vertexBuffer,t);const e=[],r=t.length;for(let n=0;n<r;n+=3){const r=[t[n+0],t[n+1],t[n+2]],i=[this._vertexBuffer[2*t[n+0]+0],this._vertexBuffer[2*t[n+0]+1],this._vertexBuffer[2*t[n+1]+0],this._vertexBuffer[2*t[n+1]+1],this._vertexBuffer[2*t[n+2]+0],this._vertexBuffer[2*t[n+2]+1]];let s=1/0,a=1/0,o=-1/0,l=-1/0;for(let t=0;t<3;t++){const e=i[2*t],r=i[2*t+1];s=Math.min(s,e),o=Math.max(o,e),a=Math.min(a,r),l=Math.max(l,r);}if(s===o||a===l)continue;const u=Math.floor(s/this._granularityCellSize),c=Math.ceil(o/this._granularityCellSize),h=Math.floor(a/this._granularityCellSize),p=Math.ceil(l/this._granularityCellSize);if(u!==c||h!==p)for(let t=h;t<p;t++){const n=this._scanlineGenerateVertexRingForCellRow(t,i,r);tu(this._vertexBuffer,n,e);}else e.push(...r);}return e}_scanlineGenerateVertexRingForCellRow(t,e,r){const n=t*this._granularityCellSize,i=n+this._granularityCellSize,s=[];for(let t=0;t<3;t++){const a=e[2*t],o=e[2*t+1],l=e[2*(t+1)%6],u=e[(2*(t+1)+1)%6],c=e[2*(t+2)%6],h=e[(2*(t+2)+1)%6],p=l-a,f=u-o,d=0===p,y=0===f,m=(n-o)/f,g=(i-o)/f,x=Math.min(m,g),v=Math.max(m,g);if(!y&&(x>=1||v<=0)||y&&(o<n||o>i)){u>=n&&u<=i&&s.push(r[(t+1)%3]);continue}!y&&x>0&&s.push(this._vertexToIndex(a+p*x,o+f*x));const b=a+p*Math.max(x,0),w=a+p*Math.min(v,1);d||this._generateIntraEdgeVertices(s,a,o,l,u,b,w),!y&&v<1&&s.push(this._vertexToIndex(a+p*v,o+f*v)),(y||u>=n&&u<=i)&&s.push(r[(t+1)%3]),!y&&(u<=n||u>=i)&&this._generateInterEdgeVertices(s,a,o,l,u,c,h,w,n,i);}return s}_generateIntraEdgeVertices(t,e,r,n,i,s,a){const o=n-e,l=i-r,u=0===l,c=u?Math.min(e,n):Math.min(s,a),h=u?Math.max(e,n):Math.max(s,a),p=Math.floor(c/this._granularityCellSize)+1,f=Math.ceil(h/this._granularityCellSize)-1;if(u?e<n:s<a)for(let n=p;n<=f;n++){const i=n*this._granularityCellSize;t.push(this._vertexToIndex(i,r+l*(i-e)/o));}else for(let n=f;n>=p;n--){const i=n*this._granularityCellSize;t.push(this._vertexToIndex(i,r+l*(i-e)/o));}}_generateInterEdgeVertices(t,e,r,n,i,s,a,o,l,u){const c=i-r,h=s-n,p=a-i,f=(l-i)/p,d=(u-i)/p,y=Math.min(f,d),m=Math.max(f,d),g=n+h*y;let x=Math.floor(Math.min(g,o)/this._granularityCellSize)+1,v=Math.ceil(Math.max(g,o)/this._granularityCellSize)-1,b=o<g;const w=0===p;if(w&&(a===l||a===u))return;if(w||y>=1||m<=0){const t=r-a,n=s+(e-s)*Math.min((l-a)/t,(u-a)/t);x=Math.floor(Math.min(n,o)/this._granularityCellSize)+1,v=Math.ceil(Math.max(n,o)/this._granularityCellSize)-1,b=o<n;}const _=c>0?u:l;if(b)for(let e=x;e<=v;e++)t.push(this._vertexToIndex(e*this._granularityCellSize,_));else for(let e=v;e>=x;e--)t.push(this._vertexToIndex(e*this._granularityCellSize,_));}_generateOutline(t){const e=[];for(const r of t){const t=Ql(r,this._granularity,!0),n=this._pointArrayToIndices(t),i=[];for(let t=1;t<n.length;t++)i.push(n[t-1]),i.push(n[t]);e.push(i);}return e}_handlePoles(t){let e=!1,r=!1;this._canonical&&(0===this._canonical.y&&(e=!0),this._canonical.y===(1<<this._canonical.z)-1&&(r=!0)),(e||r)&&this._fillPoles(t,e,r);}_ensureNoPoleVertices(){const t=this._vertexBuffer;for(let e=0;e<t.length;e+=2){const r=t[e+1];r===Hl&&(t[e+1]=-32767),r===Kl&&(t[e+1]=32766);}}_generatePoleQuad(t,e,r,n,i,s){n>i!=(s===Hl)?(t.push(e),t.push(r),t.push(this._vertexToIndex(n,s)),t.push(r),t.push(this._vertexToIndex(i,s)),t.push(this._vertexToIndex(n,s))):(t.push(r),t.push(e),t.push(this._vertexToIndex(n,s)),t.push(this._vertexToIndex(i,s)),t.push(r),t.push(this._vertexToIndex(n,s)));}_fillPoles(t,e,r){const n=this._vertexBuffer,i=E,s=t.length;for(let a=2;a<s;a+=3){const s=t[a-2],o=t[a-1],l=t[a],u=n[2*s],c=n[2*s+1],h=n[2*o],p=n[2*o+1],f=n[2*l],d=n[2*l+1];e&&(0===c&&0===p&&this._generatePoleQuad(t,s,o,u,h,Hl),0===p&&0===d&&this._generatePoleQuad(t,o,l,h,f,Hl),0===d&&0===c&&this._generatePoleQuad(t,l,s,f,u,Hl)),r&&(c===i&&p===i&&this._generatePoleQuad(t,s,o,u,h,Kl),p===i&&d===i&&this._generatePoleQuad(t,o,l,h,f,Kl),d===i&&c===i&&this._generatePoleQuad(t,l,s,f,u,Kl));}}_initializeVertices(t){for(let e=0;e<t.length;e+=2)this._vertexToIndex(t[e],t[e+1]);}subdividePolygonInternal(t,e){if(this._used)throw new Error("Subdivision: multiple use not allowed.");this._used=!0;const{flattened:r,holeIndices:n}=function(t){const e=[],r=[];for(const n of t)if(0!==n.length){n!==t[0]&&e.push(r.length/2);for(let t=0;t<n.length;t++)r.push(n[t].x),r.push(n[t].y);}return {flattened:r,holeIndices:e}}(t);let i;this._initializeVertices(r);try{const t=function(t,e,r=2){const n=e&&e.length,i=n?e[0]*r:t.length;let s=_l(t,0,i,r,!0);const a=[];if(!s||s.next===s.prev)return a;let o,l,u;if(n&&(s=function(t,e,r,n){const i=[];for(let r=0,s=e.length;r<s;r++){const a=_l(t,e[r]*n,r<s-1?e[r+1]*n:t.length,n,!1);a===a.next&&(a.steiner=!0),i.push(Tl(a));}i.sort(Pl);for(let t=0;t<i.length;t++)r=Cl(i[t],r);return r}(t,e,s,r)),t.length>80*r){o=1/0,l=1/0;let e=-1/0,n=-1/0;for(let s=r;s<i;s+=r){const r=t[s],i=t[s+1];r<o&&(o=r),i<l&&(l=i),r>e&&(e=r),i>n&&(n=i);}u=Math.max(e-o,n-l),u=0!==u?32767/u:0;}return Al(s,a,r,o,l,u,0),a}(r,n),e=this._convertIndices(r,t);i=this._subdivideTrianglesScanline(e);}catch(t){console.error(t);}let s=[];return e&&(s=this._generateOutline(t)),this._ensureNoPoleVertices(),this._handlePoles(i),{verticesFlattened:this._vertexBuffer,indicesTriangles:i,indicesLineList:s}}_convertIndices(t,e){const r=[];for(let n=0;n<e.length;n++)r.push(this._vertexToIndex(t[2*e[n]],t[2*e[n]+1]));return r}_pointArrayToIndices(t){const e=[];for(let r=0;r<t.length;r++){const n=t[r];e.push(this._vertexToIndex(n.x,n.y));}return e}}function Wl(t,e,r,n=!0){return new Jl(r,e).subdividePolygonInternal(t,n)}function Ql(t,e,r=!1){if(!t||t.length<1)return [];if(t.length<2)return [];const n=t[0],i=t[t.length-1],s=r&&(n.x!==i.x||n.y!==i.y);if(e<2)return s?[...t,t[0]]:[...t];const a=Math.floor(E/e),o=[];o.push(new l(t[0].x,t[0].y));const u=t.length,c=s?u:u-1;for(let e=0;e<c;e++){const r=t[e],n=e<u-1?t[e+1]:t[0],i=r.x,s=r.y,c=n.x,h=n.y,p=i!==c,f=s!==h;if(!p&&!f)continue;const d=c-i,y=h-s,m=Math.abs(d),g=Math.abs(y);let x=i,v=s;for(;;){const t=d>0?(Math.floor(x/a)+1)*a:(Math.ceil(x/a)-1)*a,e=y>0?(Math.floor(v/a)+1)*a:(Math.ceil(v/a)-1)*a,r=Math.abs(x-t),n=Math.abs(v-e),i=Math.abs(x-c),s=Math.abs(v-h),u=p?r/m:Number.POSITIVE_INFINITY,b=f?n/g:Number.POSITIVE_INFINITY;if((i<=r||!p)&&(s<=n||!f))break;if(u<b&&p||!f){x=t,v+=y*u;const e=new l(x,Math.round(v));o[o.length-1].x===e.x&&o[o.length-1].y===e.y||o.push(e);}else {x+=d*b,v=e;const t=new l(Math.round(x),v);o[o.length-1].x===t.x&&o[o.length-1].y===t.y||o.push(t);}}const b=new l(c,h);o[o.length-1].x===b.x&&o[o.length-1].y===b.y||o.push(b);}return o}function tu(t,e,r){if(0===e.length)throw new Error("Subdivision vertex ring is empty.");let n=0,i=t[2*e[0]];for(let r=1;r<e.length;r++){const s=t[2*e[r]];s<i&&(i=s,n=r);}const s=e.length;let a=n,o=(a+1)%s;for(;;){const n=a-1>=0?a-1:s-1,i=(o+1)%s,l=t[2*e[n]],u=t[2*e[i]],c=t[2*e[a]],h=t[2*e[a]+1],p=t[2*e[o]+1];let f=!1;if(l<u)f=!0;else if(l>u)f=!1;else {const r=p-h,s=-(t[2*e[o]]-c),a=h<p?1:-1;((l-c)*r+(t[2*e[n]+1]-h)*s)*a>((u-c)*r+(t[2*e[i]+1]-h)*s)*a&&(f=!0);}if(f){const t=e[n],i=e[a],l=e[o];t!==i&&t!==l&&i!==l&&r.push(l,i,t),a--,a<0&&(a=s-1);}else {const t=e[i],n=e[a],l=e[o];t!==n&&t!==l&&n!==l&&r.push(l,n,t),o++,o>=s&&(o=0);}if(n===i)break}}function eu(t,e,r,n,i,s,a,o,l){const u=i.length/2,c=a&&o&&l;if(u<Ha.MAX_VERTEX_ARRAY_LENGTH){const h=e.prepareSegment(u,r,n),p=h.vertexLength;for(let t=0;t<s.length;t+=3)n.emplaceBack(p+s[t],p+s[t+1],p+s[t+2]);let f,d;h.vertexLength+=u,h.primitiveLength+=s.length/3,c&&(d=a.prepareSegment(u,r,o),f=d.vertexLength,d.vertexLength+=u);for(let e=0;e<i.length;e+=2)t(i[e],i[e+1]);if(c)for(let t=0;t<l.length;t++){const e=l[t];for(let t=1;t<e.length;t+=2)o.emplaceBack(f+e[t-1],f+e[t]);d.primitiveLength+=e.length/2;}}else !function(t,e,r,n,i,s){const a=[];for(let t=0;t<n.length/2;t++)a.push(-1);const o={count:0};let l=0,u=t.getOrCreateLatestSegment(e,r),c=u.vertexLength;for(let h=2;h<i.length;h+=3){const p=i[h-2],f=i[h-1],d=i[h];let y=a[p]<l,m=a[f]<l,g=a[d]<l;u.vertexLength+((y?1:0)+(m?1:0)+(g?1:0))>Ha.MAX_VERTEX_ARRAY_LENGTH&&(u=t.createNewSegment(e,r),l=o.count,y=!0,m=!0,g=!0,c=0);const x=ru(a,n,s,o,p,y,u),v=ru(a,n,s,o,f,m,u),b=ru(a,n,s,o,d,g,u);r.emplaceBack(c+x-l,c+v-l,c+b-l),u.primitiveLength++;}}(e,r,n,i,s,t),c&&function(t,e,r,n,i,s){const a=[];for(let t=0;t<n.length/2;t++)a.push(-1);const o={count:0};let l=0,u=t.getOrCreateLatestSegment(e,r),c=u.vertexLength;for(let h=0;h<i.length;h++){const p=i[h];for(let f=1;f<i[h].length;f+=2){const i=p[f-1],h=p[f];let d=a[i]<l,y=a[h]<l;u.vertexLength+((d?1:0)+(y?1:0))>Ha.MAX_VERTEX_ARRAY_LENGTH&&(u=t.createNewSegment(e,r),l=o.count,d=!0,y=!0,c=0);const m=ru(a,n,s,o,i,d,u),g=ru(a,n,s,o,h,y,u);r.emplaceBack(c+m-l,c+g-l),u.primitiveLength++;}}}(a,r,o,i,l,t),e.forceNewSegmentOnNextPrepare(),null==a||a.forceNewSegmentOnNextPrepare();}function ru(t,e,r,n,i,s,a){if(s){const s=n.count;return r(e[2*i],e[2*i+1]),t[i]=n.count,n.count++,a.vertexLength++,s}return t[i]}class nu{constructor(t){this.zoom=t.zoom,this.globalState=t.globalState,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((t=>t.id)),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Fa,this.indexArray=new Ga,this.indexArray2=new Xa,this.programConfigurations=new So(t.layers,t.zoom),this.segments=new Ha,this.segments2=new Ha,this.stateDependentLayerIds=this.layers.filter((t=>t.isStateDependent())).map((t=>t.id));}populate(t,e,r){this.hasPattern=bl("fill",this.layers,e);const n=this.layers[0].layout.get("fill-sort-key"),i=!n.isConstant(),s=[];for(const{feature:a,id:o,index:l,sourceLayerIndex:u}of t){const t=this.layers[0]._featureFilter.needGeometry,c=Po(a,t);if(!this.layers[0]._featureFilter.filter(new Cs(this.zoom,{globalState:this.globalState}),c,r))continue;const h=i?n.evaluate(c,{},r,e.availableImages):void 0,p={id:o,properties:a.properties,type:a.type,sourceLayerIndex:u,index:l,geometry:t?c.geometry:zo(a),patterns:{},sortKey:h};s.push(p);}i&&s.sort(((t,e)=>t.sortKey-e.sortKey));for(const n of s){const{geometry:i,index:s,sourceLayerIndex:a}=n;if(this.hasPattern){const t=wl("fill",this.layers,n,this.zoom,e);this.patternFeatures.push(t);}else this.addFeature(n,i,s,r,{},e.subdivisionGranularity);e.featureIndex.insert(t[s].feature,i,s,a,this.index);}}update(t,e,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,r);}addFeatures(t,e,r){for(const n of this.patternFeatures)this.addFeature(n,n.geometry,n.index,e,r,t.subdivisionGranularity);}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return !this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,vl),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(t),this.uploaded=!0;}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy());}addFeature(t,e,r,n,i,s){for(const t of rn(e,500)){const e=Wl(t,n,s.fill.getGranularityForZoomLevel(n.z)),r=this.layoutVertexArray;eu(((t,e)=>{r.emplaceBack(t,e);}),this.segments,this.layoutVertexArray,this.indexArray,e.verticesFlattened,e.indicesTriangles,this.segments2,this.indexArray2,e.indicesLineList);}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,r,i,n);}}let iu,su;us("FillBucket",nu,{omit:["layers","patternFeatures"]});var au={get paint(){return su=su||new qs({"fill-antialias":new Os(wt.paint_fill["fill-antialias"]),"fill-opacity":new Rs(wt.paint_fill["fill-opacity"]),"fill-color":new Rs(wt.paint_fill["fill-color"]),"fill-outline-color":new Rs(wt.paint_fill["fill-outline-color"]),"fill-translate":new Os(wt.paint_fill["fill-translate"]),"fill-translate-anchor":new Os(wt.paint_fill["fill-translate-anchor"]),"fill-pattern":new js(wt.paint_fill["fill-pattern"])})},get layout(){return iu=iu||new qs({"fill-sort-key":new Rs(wt.layout_fill["fill-sort-key"])})}};class ou extends Xs{constructor(t){super(t,au);}recalculate(t,e){super.recalculate(t,e);const r=this.paint._values["fill-outline-color"];"constant"===r.value.kind&&void 0===r.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"]);}createBucket(t){return new nu(t)}queryRadius(){return Go(this.paint.get("fill-translate"))}queryIntersectsFeature({queryGeometry:t,geometry:e,transform:r,pixelsToTileUnits:n}){return Fo(Xo(t,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),-r.bearingInRadians,n),e)}isTileClipped(){return !0}}const lu=Ks([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),uu=Ks([{name:"a_centroid",components:2,type:"Int16"}],4),{members:cu}=lu;var hu,pu,fu,du,yu,mu,gu,xu={};function vu(){if(pu)return hu;pu=1;var t=s();function e(t,e,n,i,s){this.properties={},this.extent=n,this.type=0,this._pbf=t,this._geometry=-1,this._keys=i,this._values=s,t.readFields(r,this,e);}function r(t,e,r){1==t?e.id=r.readVarint():2==t?function(t,e){for(var r=t.readVarint()+t.pos;t.pos<r;){var n=e._keys[t.readVarint()],i=e._values[t.readVarint()];e.properties[n]=i;}}(r,e):3==t?e.type=r.readVarint():4==t&&(e._geometry=r.pos);}function n(t){for(var e,r,n=0,i=0,s=t.length,a=s-1;i<s;a=i++)n+=((r=t[a]).x-(e=t[i]).x)*(e.y+r.y);return n}return hu=e,e.types=["Unknown","Point","LineString","Polygon"],e.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var r,n=e.readVarint()+e.pos,i=1,s=0,a=0,o=0,l=[];e.pos<n;){if(s<=0){var u=e.readVarint();i=7&u,s=u>>3;}if(s--,1===i||2===i)a+=e.readSVarint(),o+=e.readSVarint(),1===i&&(r&&l.push(r),r=[]),r.push(new t(a,o));else {if(7!==i)throw new Error("unknown command "+i);r&&r.push(r[0].clone());}}return r&&l.push(r),l},e.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,r=1,n=0,i=0,s=0,a=1/0,o=-1/0,l=1/0,u=-1/0;t.pos<e;){if(n<=0){var c=t.readVarint();r=7&c,n=c>>3;}if(n--,1===r||2===r)(i+=t.readSVarint())<a&&(a=i),i>o&&(o=i),(s+=t.readSVarint())<l&&(l=s),s>u&&(u=s);else if(7!==r)throw new Error("unknown command "+r)}return [a,l,o,u]},e.prototype.toGeoJSON=function(t,r,i){var s,a,o=this.extent*Math.pow(2,i),l=this.extent*t,u=this.extent*r,c=this.loadGeometry(),h=e.types[this.type];function p(t){for(var e=0;e<t.length;e++){var r=t[e];t[e]=[360*(r.x+l)/o-180,360/Math.PI*Math.atan(Math.exp((180-360*(r.y+u)/o)*Math.PI/180))-90];}}switch(this.type){case 1:var f=[];for(s=0;s<c.length;s++)f[s]=c[s][0];p(c=f);break;case 2:for(s=0;s<c.length;s++)p(c[s]);break;case 3:for(c=function(t){var e=t.length;if(e<=1)return [t];for(var r,i,s=[],a=0;a<e;a++){var o=n(t[a]);0!==o&&(void 0===i&&(i=o<0),i===o<0?(r&&s.push(r),r=[t[a]]):r.push(t[a]));}return r&&s.push(r),s}(c),s=0;s<c.length;s++)for(a=0;a<c[s].length;a++)p(c[s][a]);}1===c.length?c=c[0]:h="Multi"+h;var d={type:"Feature",geometry:{type:h,coordinates:c},properties:this.properties};return "id"in this&&(d.id=this.id),d},hu}function bu(){if(du)return fu;du=1;var t=vu();function e(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(r,this,e),this.length=this._features.length;}function r(t,e,r){15===t?e.version=r.readVarint():1===t?e.name=r.readString():5===t?e.extent=r.readVarint():2===t?e._features.push(r.pos):3===t?e._keys.push(r.readString()):4===t&&e._values.push(function(t){for(var e=null,r=t.readVarint()+t.pos;t.pos<r;){var n=t.readVarint()>>3;e=1===n?t.readString():2===n?t.readFloat():3===n?t.readDouble():4===n?t.readVarint64():5===n?t.readVarint():6===n?t.readSVarint():7===n?t.readBoolean():null;}return e}(r));}return fu=e,e.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var r=this._pbf.readVarint()+this._pbf.pos;return new t(this._pbf,r,this.extent,this._keys,this._values)},fu}function wu(){return gu||(gu=1,xu.VectorTile=function(){if(mu)return yu;mu=1;var t=bu();function e(e,r,n){if(3===e){var i=new t(n,n.readVarint()+n.pos);i.length&&(r[i.name]=i);}}return yu=function(t,r){this.layers=t.readFields(e,{},r);},yu}(),xu.VectorTileFeature=vu(),xu.VectorTileLayer=bu()),xu}var _u=r(wu());const Su=_u.VectorTileFeature.types,Au=Math.pow(2,13);function ku(t,e,r,n,i,s,a,o){t.emplaceBack(e,r,2*Math.floor(n*Au)+a,i*Au*2,s*Au*2,Math.round(o));}class Mu{constructor(t){this.zoom=t.zoom,this.globalState=t.globalState,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((t=>t.id)),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new La,this.centroidVertexArray=new Ta,this.indexArray=new Ga,this.programConfigurations=new So(t.layers,t.zoom),this.segments=new Ha,this.stateDependentLayerIds=this.layers.filter((t=>t.isStateDependent())).map((t=>t.id));}populate(t,e,r){this.features=[],this.hasPattern=bl("fill-extrusion",this.layers,e);for(const{feature:n,id:i,index:s,sourceLayerIndex:a}of t){const t=this.layers[0]._featureFilter.needGeometry,o=Po(n,t);if(!this.layers[0]._featureFilter.filter(new Cs(this.zoom,{globalState:this.globalState}),o,r))continue;const l={id:i,sourceLayerIndex:a,index:s,geometry:t?o.geometry:zo(n),properties:n.properties,type:n.type,patterns:{}};this.hasPattern?this.features.push(wl("fill-extrusion",this.layers,l,this.zoom,e)):this.addFeature(l,l.geometry,s,r,{},e.subdivisionGranularity),e.featureIndex.insert(n,l.geometry,s,a,this.index,!0);}}addFeatures(t,e,r){for(const n of this.features){const{geometry:i}=n;this.addFeature(n,i,n.index,e,r,t.subdivisionGranularity);}}update(t,e,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,r);}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.centroidVertexArray.length}uploadPending(){return !this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,cu),this.centroidVertexBuffer=t.createVertexBuffer(this.centroidVertexArray,uu.members,!0),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0;}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy());}addFeature(t,e,r,n,i,s){for(const r of rn(e,500)){const e={x:0,y:0,sampleCount:0},i=this.layoutVertexArray.length;this.processPolygon(e,n,t,r,s);const a=this.layoutVertexArray.length-i,o=Math.floor(e.x/e.sampleCount),l=Math.floor(e.y/e.sampleCount);for(let t=0;t<a;t++)this.centroidVertexArray.emplaceBack(o,l);}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,r,i,n);}processPolygon(t,e,r,n,i){if(n.length<1)return;if(Pu(n[0]))return;for(const e of n)0!==e.length&&Iu(t,e);const s={segment:this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray)},a=i.fill.getGranularityForZoomLevel(e.z),o="Polygon"===Su[r.type];for(const t of n){if(0===t.length)continue;if(Pu(t))continue;const e=Ql(t,a,o);this._generateSideFaces(e,s);}if(!o)return;const l=Wl(n,e,a,!1),u=this.layoutVertexArray;eu(((t,e)=>{ku(u,t,e,0,0,1,1,0);}),this.segments,this.layoutVertexArray,this.indexArray,l.verticesFlattened,l.indicesTriangles);}_generateSideFaces(t,e){let r=0;for(let n=1;n<t.length;n++){const i=t[n],s=t[n-1];if(zu(i,s))continue;e.segment.vertexLength+4>Ha.MAX_VERTEX_ARRAY_LENGTH&&(e.segment=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const a=i.sub(s)._perp()._unit(),o=s.dist(i);r+o>32768&&(r=0),ku(this.layoutVertexArray,i.x,i.y,a.x,a.y,0,0,r),ku(this.layoutVertexArray,i.x,i.y,a.x,a.y,0,1,r),r+=o,ku(this.layoutVertexArray,s.x,s.y,a.x,a.y,0,0,r),ku(this.layoutVertexArray,s.x,s.y,a.x,a.y,0,1,r);const l=e.segment.vertexLength;this.indexArray.emplaceBack(l,l+2,l+1),this.indexArray.emplaceBack(l+1,l+2,l+3),e.segment.vertexLength+=4,e.segment.primitiveLength+=2;}}}function Iu(t,e){for(let r=0;r<e.length;r++){const n=e[r];r===e.length-1&&e[0].x===n.x&&e[0].y===n.y||(t.x+=n.x,t.y+=n.y,t.sampleCount++);}}function zu(t,e){return t.x===e.x&&(t.x<0||t.x>E)||t.y===e.y&&(t.y<0||t.y>E)}function Pu(t){return t.every((t=>t.x<0))||t.every((t=>t.x>E))||t.every((t=>t.y<0))||t.every((t=>t.y>E))}let Cu;us("FillExtrusionBucket",Mu,{omit:["layers","features"]});var Bu={get paint(){return Cu=Cu||new qs({"fill-extrusion-opacity":new Os(wt["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Rs(wt["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Os(wt["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Os(wt["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new js(wt["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Rs(wt["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Rs(wt["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Os(wt["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class Eu extends Xs{constructor(t){super(t,Bu);}createBucket(t){return new Mu(t)}queryRadius(){return Go(this.paint.get("fill-extrusion-translate"))}is3D(){return !0}queryIntersectsFeature({queryGeometry:t,feature:e,featureState:r,geometry:n,transform:i,pixelsToTileUnits:s,pixelPosMatrix:a}){const o=Xo(t,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),-i.bearingInRadians,s),u=this.paint.get("fill-extrusion-height").evaluate(e,r),c=this.paint.get("fill-extrusion-base").evaluate(e,r),h=function(t,e){const r=[];for(const n of t){const t=[n.x,n.y,0,1];I(t,t,e),r.push(new l(t[0]/t[3],t[1]/t[3]));}return r}(o,a),p=function(t,e,r,n){const i=[],s=[],a=n[8]*e,o=n[9]*e,u=n[10]*e,c=n[11]*e,h=n[8]*r,p=n[9]*r,f=n[10]*r,d=n[11]*r;for(const e of t){const t=[],r=[];for(const i of e){const e=i.x,s=i.y,y=n[0]*e+n[4]*s+n[12],m=n[1]*e+n[5]*s+n[13],g=n[2]*e+n[6]*s+n[14],x=n[3]*e+n[7]*s+n[15],v=g+u,b=x+c,w=y+h,_=m+p,S=g+f,A=x+d,k=new l((y+a)/b,(m+o)/b);k.z=v/b,t.push(k);const M=new l(w/A,_/A);M.z=S/A,r.push(M);}i.push(t),s.push(r);}return [i,s]}(n,c,u,a);return function(t,e,r){let n=1/0;Fo(r,e)&&(n=Vu(r,e[0]));for(let i=0;i<e.length;i++){const s=e[i],a=t[i];for(let t=0;t<s.length-1;t++){const e=s[t],i=[e,s[t+1],a[t+1],a[t],e];To(r,i)&&(n=Math.min(n,Vu(r,i)));}}return n!==1/0&&n}(p[0],p[1],h)}}function Tu(t,e){return t.x*e.x+t.y*e.y}function Vu(t,e){if(1===t.length){let r=0;const n=e[r++];let i;for(;!i||n.equals(i);)if(i=e[r++],!i)return 1/0;for(;r<e.length;r++){const s=e[r],a=t[0],o=i.sub(n),l=s.sub(n),u=a.sub(n),c=Tu(o,o),h=Tu(o,l),p=Tu(l,l),f=Tu(u,o),d=Tu(u,l),y=c*p-h*h,m=(p*f-h*d)/y,g=(c*d-h*f)/y,x=n.z*(1-m-g)+i.z*m+s.z*g;if(isFinite(x))return x}return 1/0}{let t=1/0;for(const r of e)t=Math.min(t,r.z);return t}}const Fu=Ks([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:Lu}=Fu,$u=Ks([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:Du}=$u,Ou=_u.VectorTileFeature.types,Ru=Math.cos(Math.PI/180*37.5),ju=Math.pow(2,14)/.5;class Nu{constructor(t){this.zoom=t.zoom,this.globalState=t.globalState,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((t=>t.id)),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((t=>{this.gradients[t.id]={};})),this.layoutVertexArray=new $a,this.layoutVertexArray2=new Da,this.indexArray=new Ga,this.programConfigurations=new So(t.layers,t.zoom),this.segments=new Ha,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((t=>t.isStateDependent())).map((t=>t.id));}populate(t,e,r){this.hasPattern=bl("line",this.layers,e);const n=this.layers[0].layout.get("line-sort-key"),i=!n.isConstant(),s=[];for(const{feature:e,id:a,index:o,sourceLayerIndex:l}of t){const t=this.layers[0]._featureFilter.needGeometry,u=Po(e,t);if(!this.layers[0]._featureFilter.filter(new Cs(this.zoom,{globalState:this.globalState}),u,r))continue;const c=i?n.evaluate(u,{},r):void 0,h={id:a,properties:e.properties,type:e.type,sourceLayerIndex:l,index:o,geometry:t?u.geometry:zo(e),patterns:{},sortKey:c};s.push(h);}i&&s.sort(((t,e)=>t.sortKey-e.sortKey));for(const n of s){const{geometry:i,index:s,sourceLayerIndex:a}=n;if(this.hasPattern){const t=wl("line",this.layers,n,this.zoom,e);this.patternFeatures.push(t);}else this.addFeature(n,i,s,r,{},e.subdivisionGranularity);e.featureIndex.insert(t[s].feature,i,s,a,this.index);}}update(t,e,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,r);}addFeatures(t,e,r){for(const n of this.patternFeatures)this.addFeature(n,n.geometry,n.index,e,r,t.subdivisionGranularity);}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return !this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=t.createVertexBuffer(this.layoutVertexArray2,Du)),this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Lu),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0;}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy());}lineFeatureClips(t){if(t.properties&&Object.prototype.hasOwnProperty.call(t.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(t.properties,"mapbox_clip_end"))return {start:+t.properties.mapbox_clip_start,end:+t.properties.mapbox_clip_end}}addFeature(t,e,r,n,i,s){const a=this.layers[0].layout,o=a.get("line-join").evaluate(t,{}),l=a.get("line-cap"),u=a.get("line-miter-limit"),c=a.get("line-round-limit");this.lineClips=this.lineFeatureClips(t);for(const r of e)this.addLine(r,t,o,l,u,c,n,s);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,r,i,n);}addLine(t,e,r,n,i,s,a,o){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,t=Ql(t,a?o.line.getGranularityForZoomLevel(a.z):1),this.lineClips){this.lineClipsArray.push(this.lineClips);for(let e=0;e<t.length-1;e++)this.totalDistance+=t[e].dist(t[e+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance);}const l="Polygon"===Ou[e.type];let u=t.length;for(;u>=2&&t[u-1].equals(t[u-2]);)u--;let c=0;for(;c<u-1&&t[c].equals(t[c+1]);)c++;if(u<(l?3:2))return;"bevel"===r&&(i=1.05);const h=this.overscaling<=16?122880/(512*this.overscaling):0,p=this.segments.prepareSegment(10*u,this.layoutVertexArray,this.indexArray);let f,d,y,m,g;this.e1=this.e2=-1,l&&(f=t[u-2],g=t[c].sub(f)._unit()._perp());for(let e=c;e<u;e++){if(y=e===u-1?l?t[c+1]:void 0:t[e+1],y&&t[e].equals(y))continue;g&&(m=g),f&&(d=f),f=t[e],g=y?y.sub(f)._unit()._perp():m,m=m||g;let a=m.add(g);0===a.x&&0===a.y||a._unit();const o=m.x*g.x+m.y*g.y,x=a.x*g.x+a.y*g.y,v=0!==x?1/x:1/0,b=2*Math.sqrt(2-2*x),w=x<Ru&&d&&y,_=m.x*g.y-m.y*g.x>0;if(w&&e>c){const t=f.dist(d);if(t>2*h){const e=f.sub(f.sub(d)._mult(h/t)._round());this.updateDistance(d,e),this.addCurrentVertex(e,m,0,0,p),d=e;}}const S=d&&y;let A=S?r:l?"butt":n;if(S&&"round"===A&&(v<s?A="miter":v<=2&&(A="fakeround")),"miter"===A&&v>i&&(A="bevel"),"bevel"===A&&(v>2&&(A="flipbevel"),v<i&&(A="miter")),d&&this.updateDistance(d,f),"miter"===A)a._mult(v),this.addCurrentVertex(f,a,0,0,p);else if("flipbevel"===A){if(v>100)a=g.mult(-1);else {const t=v*m.add(g).mag()/m.sub(g).mag();a._perp()._mult(t*(_?-1:1));}this.addCurrentVertex(f,a,0,0,p),this.addCurrentVertex(f,a.mult(-1),0,0,p);}else if("bevel"===A||"fakeround"===A){const t=-Math.sqrt(v*v-1),e=_?t:0,r=_?0:t;if(d&&this.addCurrentVertex(f,m,e,r,p),"fakeround"===A){const t=Math.round(180*b/Math.PI/20);for(let e=1;e<t;e++){let r=e/t;if(.5!==r){const t=r-.5;r+=r*t*(r-1)*((1.0904+o*(o*(3.55645-1.43519*o)-3.2452))*t*t+(.848013+o*(.215638*o-1.06021)));}const n=g.sub(m)._mult(r)._add(m)._unit()._mult(_?-1:1);this.addHalfVertex(f,n.x,n.y,!1,_,0,p);}}y&&this.addCurrentVertex(f,g,-e,-r,p);}else if("butt"===A)this.addCurrentVertex(f,a,0,0,p);else if("square"===A){const t=d?1:-1;this.addCurrentVertex(f,a,t,t,p);}else "round"===A&&(d&&(this.addCurrentVertex(f,m,0,0,p),this.addCurrentVertex(f,m,1,1,p,!0)),y&&(this.addCurrentVertex(f,g,-1,-1,p,!0),this.addCurrentVertex(f,g,0,0,p)));if(w&&e<u-1){const t=f.dist(y);if(t>2*h){const e=f.add(y.sub(f)._mult(h/t)._round());this.updateDistance(f,e),this.addCurrentVertex(e,g,0,0,p),f=e;}}}}addCurrentVertex(t,e,r,n,i,s=!1){const a=e.y*n-e.x,o=-e.y-e.x*n;this.addHalfVertex(t,e.x+e.y*r,e.y-e.x*r,s,!1,r,i),this.addHalfVertex(t,a,o,s,!0,-n,i),this.distance>ju/2&&0===this.totalDistance&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(t,e,r,n,i,s));}addHalfVertex({x:t,y:e},r,n,i,s,a,o){const l=.5*(this.lineClips?this.scaledDistance*(ju-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((t<<1)+(i?1:0),(e<<1)+(s?1:0),Math.round(63*r)+128,Math.round(63*n)+128,1+(0===a?0:a<0?-1:1)|(63&l)<<2,l>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const u=o.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,u,this.e2),o.primitiveLength++),s?this.e2=u:this.e1=u;}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance;}updateDistance(t,e){this.distance+=t.dist(e),this.updateScaledDistance();}}let Uu,qu;us("LineBucket",Nu,{omit:["layers","patternFeatures"]});var Gu={get paint(){return qu=qu||new qs({"line-opacity":new Rs(wt.paint_line["line-opacity"]),"line-color":new Rs(wt.paint_line["line-color"]),"line-translate":new Os(wt.paint_line["line-translate"]),"line-translate-anchor":new Os(wt.paint_line["line-translate-anchor"]),"line-width":new Rs(wt.paint_line["line-width"]),"line-gap-width":new Rs(wt.paint_line["line-gap-width"]),"line-offset":new Rs(wt.paint_line["line-offset"]),"line-blur":new Rs(wt.paint_line["line-blur"]),"line-dasharray":new Ns(wt.paint_line["line-dasharray"]),"line-pattern":new js(wt.paint_line["line-pattern"]),"line-gradient":new Us(wt.paint_line["line-gradient"])})},get layout(){return Uu=Uu||new qs({"line-cap":new Os(wt.layout_line["line-cap"]),"line-join":new Rs(wt.layout_line["line-join"]),"line-miter-limit":new Os(wt.layout_line["line-miter-limit"]),"line-round-limit":new Os(wt.layout_line["line-round-limit"]),"line-sort-key":new Rs(wt.layout_line["line-sort-key"])})}};class Xu extends Rs{possiblyEvaluate(t,e){return e=new Cs(Math.floor(e.zoom),{now:e.now,fadeDuration:e.fadeDuration,zoomHistory:e.zoomHistory,transition:e.transition}),super.possiblyEvaluate(t,e)}evaluate(t,e,r,n){return e=j({},e,{zoom:Math.floor(e.zoom)}),super.evaluate(t,e,r,n)}}let Zu;class Yu extends Xs{constructor(t){super(t,Gu),this.gradientVersion=0,Zu||(Zu=new Xu(Gu.paint.properties["line-width"].specification),Zu.useIntegerZoom=!0);}_handleSpecialPaintPropertyUpdate(t){if("line-gradient"===t){const t=this.gradientExpression();this.stepInterpolant=!!function(t){return void 0!==t._styleExpression}(t)&&t._styleExpression.expression instanceof ur,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER;}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(t,e){super.recalculate(t,e),this.paint._values["line-floorwidth"]=Zu.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,t);}createBucket(t){return new Nu(t)}queryRadius(t){const e=t,r=Hu(qo("line-width",this,e),qo("line-gap-width",this,e)),n=qo("line-offset",this,e);return r/2+Math.abs(n)+Go(this.paint.get("line-translate"))}queryIntersectsFeature({queryGeometry:t,feature:e,featureState:r,geometry:n,transform:i,pixelsToTileUnits:s}){const a=Xo(t,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),-i.bearingInRadians,s),o=s/2*Hu(this.paint.get("line-width").evaluate(e,r),this.paint.get("line-gap-width").evaluate(e,r)),u=this.paint.get("line-offset").evaluate(e,r);return u&&(n=function(t,e){const r=[];for(let n=0;n<t.length;n++){const i=t[n],s=[];for(let t=0;t<i.length;t++){const r=i[t-1],n=i[t],a=i[t+1],o=0===t?new l(0,0):n.sub(r)._unit()._perp(),u=t===i.length-1?new l(0,0):a.sub(n)._unit()._perp(),c=o._add(u)._unit(),h=c.x*u.x+c.y*u.y;0!==h&&c._mult(1/h),s.push(c._mult(e)._add(n));}r.push(s);}return r}(n,u*s)),function(t,e,r){for(let n=0;n<e.length;n++){const i=e[n];if(t.length>=3)for(let e=0;e<i.length;e++)if(No(t,i[e]))return !0;if(Lo(t,i,r))return !0}return !1}(a,n,o)}isTileClipped(){return !0}}function Hu(t,e){return e>0?e+2*t:t}const Ku=Ks([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Ju=Ks([{name:"a_projected_pos",components:3,type:"Float32"}],4);Ks([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const Wu=Ks([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"},{name:"a_box_real",components:2,type:"Int16"}]);Ks([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const Qu=Ks([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),tc=Ks([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function ec(t,e,r){return t.sections.forEach((t=>{t.text=function(t,e,r){const n=e.layout.get("text-transform").evaluate(r,{});return "uppercase"===n?t=t.toLocaleUpperCase():"lowercase"===n&&(t=t.toLocaleLowerCase()),Ps.applyArabicShaping&&(t=Ps.applyArabicShaping(t)),t}(t.text,e,r);})),t}Ks([{name:"triangle",components:3,type:"Uint16"}]),Ks([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Ks([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),Ks([{type:"Float32",name:"offsetX"}]),Ks([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),Ks([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const rc={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};var nc,ic,sc,ac=24,oc={};function lc(){return nc||(nc=1,oc.read=function(t,e,r,n,i){var s,a,o=8*i-n-1,l=(1<<o)-1,u=l>>1,c=-7,h=r?i-1:0,p=r?-1:1,f=t[e+h];for(h+=p,s=f&(1<<-c)-1,f>>=-c,c+=o;c>0;s=256*s+t[e+h],h+=p,c-=8);for(a=s&(1<<-c)-1,s>>=-c,c+=n;c>0;a=256*a+t[e+h],h+=p,c-=8);if(0===s)s=1-u;else {if(s===l)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,n),s-=u;}return (f?-1:1)*a*Math.pow(2,s-n)},oc.write=function(t,e,r,n,i,s){var a,o,l,u=8*s-i-1,c=(1<<u)-1,h=c>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:s-1,d=n?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),(e+=a+h>=1?p/l:p*Math.pow(2,1-h))*l>=2&&(a++,l/=2),a+h>=c?(o=0,a=c):a+h>=1?(o=(e*l-1)*Math.pow(2,i),a+=h):(o=e*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;t[r+f]=255&o,f+=d,o/=256,i-=8);for(a=a<<i|o,u+=i;u>0;t[r+f]=255&a,f+=d,a/=256,u-=8);t[r+f-d]|=128*y;}),oc}function uc(){if(sc)return ic;sc=1,ic=e;var t=lc();function e(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length;}e.Varint=0,e.Fixed64=1,e.Bytes=2,e.Fixed32=5;var r=4294967296,n=1/r,i="undefined"==typeof TextDecoder?null:new TextDecoder("utf-8");function s(t){return t.type===e.Bytes?t.readVarint()+t.pos:t.pos+1}function a(t,e,r){return r?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function o(t,e,r){var n=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));r.realloc(n);for(var i=r.pos-1;i>=t;i--)r.buf[i+n]=r.buf[i];}function l(t,e){for(var r=0;r<t.length;r++)e.writeVarint(t[r]);}function u(t,e){for(var r=0;r<t.length;r++)e.writeSVarint(t[r]);}function c(t,e){for(var r=0;r<t.length;r++)e.writeFloat(t[r]);}function h(t,e){for(var r=0;r<t.length;r++)e.writeDouble(t[r]);}function p(t,e){for(var r=0;r<t.length;r++)e.writeBoolean(t[r]);}function f(t,e){for(var r=0;r<t.length;r++)e.writeFixed32(t[r]);}function d(t,e){for(var r=0;r<t.length;r++)e.writeSFixed32(t[r]);}function y(t,e){for(var r=0;r<t.length;r++)e.writeFixed64(t[r]);}function m(t,e){for(var r=0;r<t.length;r++)e.writeSFixed64(t[r]);}function g(t,e){return (t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function x(t,e,r){t[r]=e,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24;}function v(t,e){return (t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}return e.prototype={destroy:function(){this.buf=null;},readFields:function(t,e,r){for(r=r||this.length;this.pos<r;){var n=this.readVarint(),i=n>>3,s=this.pos;this.type=7&n,t(i,e,this),this.pos===s&&this.skip(n);}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=g(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=v(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=g(this.buf,this.pos)+g(this.buf,this.pos+4)*r;return this.pos+=8,t},readSFixed64:function(){var t=g(this.buf,this.pos)+v(this.buf,this.pos+4)*r;return this.pos+=8,t},readFloat:function(){var e=t.read(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=t.read(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(t){var e,r,n=this.buf;return e=127&(r=n[this.pos++]),r<128?e:(e|=(127&(r=n[this.pos++]))<<7,r<128?e:(e|=(127&(r=n[this.pos++]))<<14,r<128?e:(e|=(127&(r=n[this.pos++]))<<21,r<128?e:function(t,e,r){var n,i,s=r.buf;if(n=(112&(i=s[r.pos++]))>>4,i<128)return a(t,n,e);if(n|=(127&(i=s[r.pos++]))<<3,i<128)return a(t,n,e);if(n|=(127&(i=s[r.pos++]))<<10,i<128)return a(t,n,e);if(n|=(127&(i=s[r.pos++]))<<17,i<128)return a(t,n,e);if(n|=(127&(i=s[r.pos++]))<<24,i<128)return a(t,n,e);if(n|=(1&(i=s[r.pos++]))<<31,i<128)return a(t,n,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(r=n[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=this.pos;return this.pos=t,t-e>=12&&i?function(t,e,r){return i.decode(t.subarray(e,r))}(this.buf,e,t):function(t,e,r){for(var n="",i=e;i<r;){var s,a,o,l=t[i],u=null,c=l>239?4:l>223?3:l>191?2:1;if(i+c>r)break;1===c?l<128&&(u=l):2===c?128==(192&(s=t[i+1]))&&(u=(31&l)<<6|63&s)<=127&&(u=null):3===c?(a=t[i+2],128==(192&(s=t[i+1]))&&128==(192&a)&&((u=(15&l)<<12|(63&s)<<6|63&a)<=2047||u>=55296&&u<=57343)&&(u=null)):4===c&&(a=t[i+2],o=t[i+3],128==(192&(s=t[i+1]))&&128==(192&a)&&128==(192&o)&&((u=(15&l)<<18|(63&s)<<12|(63&a)<<6|63&o)<=65535||u>=1114112)&&(u=null)),null===u?(u=65533,c=1):u>65535&&(u-=65536,n+=String.fromCharCode(u>>>10&1023|55296),u=56320|1023&u),n+=String.fromCharCode(u),i+=c;}return n}(this.buf,e,t)},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,r){if(this.type!==e.Bytes)return t.push(this.readVarint(r));var n=s(this);for(t=t||[];this.pos<n;)t.push(this.readVarint(r));return t},readPackedSVarint:function(t){if(this.type!==e.Bytes)return t.push(this.readSVarint());var r=s(this);for(t=t||[];this.pos<r;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==e.Bytes)return t.push(this.readBoolean());var r=s(this);for(t=t||[];this.pos<r;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==e.Bytes)return t.push(this.readFloat());var r=s(this);for(t=t||[];this.pos<r;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==e.Bytes)return t.push(this.readDouble());var r=s(this);for(t=t||[];this.pos<r;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==e.Bytes)return t.push(this.readFixed32());var r=s(this);for(t=t||[];this.pos<r;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==e.Bytes)return t.push(this.readSFixed32());var r=s(this);for(t=t||[];this.pos<r;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==e.Bytes)return t.push(this.readFixed64());var r=s(this);for(t=t||[];this.pos<r;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==e.Bytes)return t.push(this.readSFixed64());var r=s(this);for(t=t||[];this.pos<r;)t.push(this.readSFixed64());return t},skip:function(t){var r=7&t;if(r===e.Varint)for(;this.buf[this.pos++]>127;);else if(r===e.Bytes)this.pos=this.readVarint()+this.pos;else if(r===e.Fixed32)this.pos+=4;else {if(r!==e.Fixed64)throw new Error("Unimplemented type: "+r);this.pos+=8;}},writeTag:function(t,e){this.writeVarint(t<<3|e);},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var r=new Uint8Array(e);r.set(this.buf),this.buf=r,this.length=e;}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),x(this.buf,t,this.pos),this.pos+=4;},writeSFixed32:function(t){this.realloc(4),x(this.buf,t,this.pos),this.pos+=4;},writeFixed64:function(t){this.realloc(8),x(this.buf,-1&t,this.pos),x(this.buf,Math.floor(t*n),this.pos+4),this.pos+=8;},writeSFixed64:function(t){this.realloc(8),x(this.buf,-1&t,this.pos),x(this.buf,Math.floor(t*n),this.pos+4),this.pos+=8;},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(t,e){var r,n;if(t>=0?(r=t%4294967296|0,n=t/4294967296|0):(n=~(-t/4294967296),4294967295^(r=~(-t%4294967296))?r=r+1|0:(r=0,n=n+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),function(t,e,r){r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos++]=127&t|128,r.buf[r.pos]=127&(t>>>=7);}(r,0,e),function(t,e){var r=(7&t)<<4;e.buf[e.pos++]|=r|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t)))));}(n,e);}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))));},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t);},writeBoolean:function(t){this.writeVarint(Boolean(t));},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,r){for(var n,i,s=0;s<e.length;s++){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){n>56319||s+1===e.length?(t[r++]=239,t[r++]=191,t[r++]=189):i=n;continue}if(n<56320){t[r++]=239,t[r++]=191,t[r++]=189,i=n;continue}n=i-55296<<10|n-56320|65536,i=null;}else i&&(t[r++]=239,t[r++]=191,t[r++]=189,i=null);n<128?t[r++]=n:(n<2048?t[r++]=n>>6|192:(n<65536?t[r++]=n>>12|224:(t[r++]=n>>18|240,t[r++]=n>>12&63|128),t[r++]=n>>6&63|128),t[r++]=63&n|128);}return r}(this.buf,t,this.pos);var r=this.pos-e;r>=128&&o(e,r,this),this.pos=e-1,this.writeVarint(r),this.pos+=r;},writeFloat:function(e){this.realloc(4),t.write(this.buf,e,this.pos,!0,23,4),this.pos+=4;},writeDouble:function(e){this.realloc(8),t.write(this.buf,e,this.pos,!0,52,8),this.pos+=8;},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var r=0;r<e;r++)this.buf[this.pos++]=t[r];},writeRawMessage:function(t,e){this.pos++;var r=this.pos;t(e,this);var n=this.pos-r;n>=128&&o(r,n,this),this.pos=r-1,this.writeVarint(n),this.pos+=n;},writeMessage:function(t,r,n){this.writeTag(t,e.Bytes),this.writeRawMessage(r,n);},writePackedVarint:function(t,e){e.length&&this.writeMessage(t,l,e);},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,u,e);},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,p,e);},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,c,e);},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,h,e);},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,f,e);},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,d,e);},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,y,e);},writePackedSFixed64:function(t,e){e.length&&this.writeMessage(t,m,e);},writeBytesField:function(t,r){this.writeTag(t,e.Bytes),this.writeBytes(r);},writeFixed32Field:function(t,r){this.writeTag(t,e.Fixed32),this.writeFixed32(r);},writeSFixed32Field:function(t,r){this.writeTag(t,e.Fixed32),this.writeSFixed32(r);},writeFixed64Field:function(t,r){this.writeTag(t,e.Fixed64),this.writeFixed64(r);},writeSFixed64Field:function(t,r){this.writeTag(t,e.Fixed64),this.writeSFixed64(r);},writeVarintField:function(t,r){this.writeTag(t,e.Varint),this.writeVarint(r);},writeSVarintField:function(t,r){this.writeTag(t,e.Varint),this.writeSVarint(r);},writeStringField:function(t,r){this.writeTag(t,e.Bytes),this.writeString(r);},writeFloatField:function(t,r){this.writeTag(t,e.Fixed32),this.writeFloat(r);},writeDoubleField:function(t,r){this.writeTag(t,e.Fixed64),this.writeDouble(r);},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e));}},ic}var cc,hc=r(uc());function pc(t,e,r){1===t&&r.readMessage(fc,e);}function fc(t,e,r){if(3===t){const{id:t,bitmap:n,width:i,height:s,left:a,top:o,advance:l}=r.readMessage(dc,{});e.push({id:t,bitmap:new il({width:i+6,height:s+6},n),metrics:{width:i,height:s,left:a,top:o,advance:l}});}}function dc(t,e,r){1===t?e.id=r.readVarint():2===t?e.bitmap=r.readBytes():3===t?e.width=r.readVarint():4===t?e.height=r.readVarint():5===t?e.left=r.readSVarint():6===t?e.top=r.readSVarint():7===t&&(e.advance=r.readVarint());}function yc(t){let e=0,r=0;for(const n of t)e+=n.w*n.h,r=Math.max(r,n.w);t.sort(((t,e)=>e.h-t.h));const n=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(e/.95)),r),h:1/0}];let i=0,s=0;for(const e of t)for(let t=n.length-1;t>=0;t--){const r=n[t];if(!(e.w>r.w||e.h>r.h)){if(e.x=r.x,e.y=r.y,s=Math.max(s,e.y+e.h),i=Math.max(i,e.x+e.w),e.w===r.w&&e.h===r.h){const e=n.pop();t<n.length&&(n[t]=e);}else e.h===r.h?(r.x+=e.w,r.w-=e.w):e.w===r.w?(r.y+=e.h,r.h-=e.h):(n.push({x:r.x+e.w,y:r.y,w:r.w-e.w,h:e.h}),r.y+=e.h,r.h-=e.h);break}}return {w:i,h:s,fill:e/(i*s)||0}}class mc{constructor(t,{pixelRatio:e,version:r,stretchX:n,stretchY:i,content:s,textFitWidth:a,textFitHeight:o}){this.paddedRect=t,this.pixelRatio=e,this.stretchX=n,this.stretchY=i,this.content=s,this.version=r,this.textFitWidth=a,this.textFitHeight=o;}get tl(){return [this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return [this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return [(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class gc{constructor(t,e){const r={},n={};this.haveRenderCallbacks=[];const i=[];this.addImages(t,r,i),this.addImages(e,n,i);const{w:s,h:a}=yc(i),o=new sl({width:s||1,height:a||1});for(const e in t){const n=t[e],i=r[e].paddedRect;sl.copy(n.data,o,{x:0,y:0},{x:i.x+1,y:i.y+1},n.data);}for(const t in e){const r=e[t],i=n[t].paddedRect,s=i.x+1,a=i.y+1,l=r.data.width,u=r.data.height;sl.copy(r.data,o,{x:0,y:0},{x:s,y:a},r.data),sl.copy(r.data,o,{x:0,y:u-1},{x:s,y:a-1},{width:l,height:1}),sl.copy(r.data,o,{x:0,y:0},{x:s,y:a+u},{width:l,height:1}),sl.copy(r.data,o,{x:l-1,y:0},{x:s-1,y:a},{width:1,height:u}),sl.copy(r.data,o,{x:0,y:0},{x:s+l,y:a},{width:1,height:u});}this.image=o,this.iconPositions=r,this.patternPositions=n;}addImages(t,e,r){for(const n in t){const i=t[n],s={x:0,y:0,w:i.data.width+2,h:i.data.height+2};r.push(s),e[n]=new mc(s,i),i.hasRenderCallback&&this.haveRenderCallbacks.push(n);}}patchUpdatedImages(t,e){t.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const r in t.updatedImages)this.patchUpdatedImage(this.iconPositions[r],t.getImage(r),e),this.patchUpdatedImage(this.patternPositions[r],t.getImage(r),e);}patchUpdatedImage(t,e,r){if(!t||!e)return;if(t.version===e.version)return;t.version=e.version;const[n,i]=t.tl;r.update(e.data,void 0,{x:n,y:i});}}us("ImagePosition",mc),us("ImageAtlas",gc),t.an=void 0,(cc=t.an||(t.an={}))[cc.none=0]="none",cc[cc.horizontal=1]="horizontal",cc[cc.vertical=2]="vertical",cc[cc.horizontalOnly=3]="horizontalOnly";class xc{constructor(){this.scale=1,this.fontStack="",this.imageName=null,this.verticalAlign="bottom";}static forText(t,e,r){const n=new xc;return n.scale=t||1,n.fontStack=e,n.verticalAlign=r||"bottom",n}static forImage(t,e){const r=new xc;return r.imageName=t,r.verticalAlign=e||"bottom",r}}class vc{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null;}static fromFeature(t,e){const r=new vc;for(let n=0;n<t.sections.length;n++){const i=t.sections[n];i.image?r.addImageSection(i):r.addTextSection(i,e);}return r}length(){return this.text.length}getSection(t){return this.sections[this.sectionIndex[t]]}getSectionIndex(t){return this.sectionIndex[t]}getCharCode(t){return this.text.charCodeAt(t)}verticalizePunctuation(){this.text=function(t){let e="";for(let r=0;r<t.length;r++){const n=t.charCodeAt(r+1)||null,i=t.charCodeAt(r-1)||null;e+=n&&As(n)&&!rc[t[r+1]]||i&&As(i)&&!rc[t[r-1]]||!rc[t[r]]?t[r]:rc[t[r]];}return e}(this.text);}trim(){let t=0;for(let e=0;e<this.text.length&&wc[this.text.charCodeAt(e)];e++)t++;let e=this.text.length;for(let r=this.text.length-1;r>=0&&r>=t&&wc[this.text.charCodeAt(r)];r--)e--;this.text=this.text.substring(t,e),this.sectionIndex=this.sectionIndex.slice(t,e);}substring(t,e){const r=new vc;return r.text=this.text.substring(t,e),r.sectionIndex=this.sectionIndex.slice(t,e),r.sections=this.sections,r}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce(((t,e)=>Math.max(t,this.sections[e].scale)),0)}getMaxImageSize(t){let e=0,r=0;for(let n=0;n<this.length();n++){const i=this.getSection(n);if(i.imageName){const n=t[i.imageName];if(!n)continue;const s=n.displaySize;e=Math.max(e,s[0]),r=Math.max(r,s[1]);}}return {maxImageWidth:e,maxImageHeight:r}}addTextSection(t,e){this.text+=t.text,this.sections.push(xc.forText(t.scale,t.fontStack||e,t.verticalAlign));const r=this.sections.length-1;for(let e=0;e<t.text.length;++e)this.sectionIndex.push(r);}addImageSection(t){const e=t.image?t.image.name:"";if(0===e.length)return void Z("Can't add FormattedSection with an empty image.");const r=this.getNextImageSectionCharCode();r?(this.text+=String.fromCharCode(r),this.sections.push(xc.forImage(e,t.verticalAlign)),this.sectionIndex.push(this.sections.length-1)):Z("Reached maximum number of images 6401");}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function bc(e,r,n,i,s,a,o,l,u,c,h,p,f,d,y){const m=vc.fromFeature(e,s);let g;p===t.an.vertical&&m.verticalizePunctuation();const{processBidirectionalText:x,processStyledBidirectionalText:v}=Ps;if(x&&1===m.sections.length){g=[];const t=x(m.toString(),Pc(m,c,a,r,i,d));for(const e of t){const t=new vc;t.text=e,t.sections=m.sections;for(let r=0;r<e.length;r++)t.sectionIndex.push(0);g.push(t);}}else if(v){g=[];const t=v(m.text,m.sectionIndex,Pc(m,c,a,r,i,d));for(const e of t){const t=new vc;t.text=e[0],t.sectionIndex=e[1],t.sections=m.sections,g.push(t);}}else g=function(t,e){const r=[],n=t.text;let i=0;for(const n of e)r.push(t.substring(i,n)),i=n;return i<n.length&&r.push(t.substring(i,n.length)),r}(m,Pc(m,c,a,r,i,d));const b=[],w={positionedLines:b,text:m.toString(),top:h[1],bottom:h[1],left:h[0],right:h[0],writingMode:p,iconsInText:!1,verticalizable:!1};return function(t,e,r,n,i,s,a,o,l,u,c,h){let p=0,f=0,d=0,y=0;const m="right"===o?1:"left"===o?0:.5,g=ac/h;let x=0;for(const a of i){a.trim();const i=a.getMaxScale(),o={positionedGlyphs:[],lineOffset:0};t.positionedLines[x]=o;const h=o.positionedGlyphs;let v=0;if(!a.length()){f+=s,++x;continue}const b=Bc(n,a,g);for(let s=0;s<a.length();s++){const o=a.getSection(s),d=a.getSectionIndex(s),y=a.getCharCode(s),m=Tc(l,c,y);let x;if(o.imageName){if(t.iconsInText=!0,o.scale=o.scale*g,x=Fc(o,m,i,b,n),!x)continue;v=Math.max(v,x.imageOffset);}else if(x=Vc(o,y,m,b,e,r),!x)continue;const{rect:w,metrics:_,baselineOffset:S}=x;h.push({glyph:y,imageName:o.imageName,x:p,y:f+S+-17,vertical:m,scale:o.scale,fontStack:o.fontStack,sectionIndex:d,metrics:_,rect:w}),m?(t.verticalizable=!0,p+=(o.imageName?_.advance:ac)*o.scale+u):p+=_.advance*o.scale+u;}0!==h.length&&(d=Math.max(p-u,d),Lc(h,0,h.length-1,m)),p=0,o.lineOffset=Math.max(v,(i-1)*ac);const w=s*i+v;f+=w,y=Math.max(w,y),++x;}const{horizontalAlign:v,verticalAlign:b}=Cc(a);((function(t,e,r,n,i,s,a,o,l){const u=(e-r)*i;let c=0;c=s!==a?-o*n- -17:-n*l*a+.5*a;for(const e of t)for(const t of e.positionedGlyphs)t.x+=u,t.y+=c;}))(t.positionedLines,m,v,b,d,y,s,f,i.length),t.top+=-b*f,t.bottom=t.top+f,t.left+=-v*d,t.right=t.left+d;}(w,r,n,i,g,o,l,u,p,c,f,y),!function(t){for(const e of t)if(0!==e.positionedGlyphs.length)return !1;return !0}(b)&&w}const wc={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},_c={10:!0,32:!0,38:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0},Sc={40:!0};function Ac(t,e,r,n,i,s){if(e.imageName){const t=n[e.imageName];return t?t.displaySize[0]*e.scale*ac/s+i:0}{const n=r[e.fontStack],s=n&&n[t];return s?s.metrics.advance*e.scale+i:0}}function kc(t,e,r,n){const i=Math.pow(t-e,2);return n?t<e?i/2:2*i:i+Math.abs(r)*r}function Mc(t,e,r){let n=0;return 10===t&&(n-=1e4),r&&(n+=150),40!==t&&65288!==t||(n+=50),41!==e&&65289!==e||(n+=50),n}function Ic(t,e,r,n,i,s){let a=null,o=kc(e,r,i,s);for(const t of n){const n=kc(e-t.x,r,i,s)+t.badness;n<=o&&(a=t,o=n);}return {index:t,x:e,priorBreak:a,badness:o}}function zc(t){return t?zc(t.priorBreak).concat(t.index):[]}function Pc(t,e,r,n,i,s){if(!t)return [];const a=[],o=function(t,e,r,n,i,s){let a=0;for(let r=0;r<t.length();r++){const o=t.getSection(r);a+=Ac(t.getCharCode(r),o,n,i,e,s);}return a/Math.max(1,Math.ceil(a/r))}(t,e,r,n,i,s),l=t.text.indexOf("")>=0;let u=0;for(let r=0;r<t.length();r++){const h=t.getSection(r),p=t.getCharCode(r);if(wc[p]||(u+=Ac(p,h,n,i,e,s)),r<t.length()-1){const e=!((c=p)<11904)&&(!!ms["CJK Compatibility Forms"](c)||!!ms["CJK Compatibility"](c)||!!ms["CJK Strokes"](c)||!!ms["CJK Symbols and Punctuation"](c)||!!ms["Enclosed CJK Letters and Months"](c)||!!ms["Halfwidth and Fullwidth Forms"](c)||!!ms["Ideographic Description Characters"](c)||!!ms["Vertical Forms"](c)||_s.test(String.fromCodePoint(c)));(_c[p]||e||h.imageName||r!==t.length()-2&&Sc[t.getCharCode(r+1)])&&a.push(Ic(r+1,u,o,a,Mc(p,t.getCharCode(r+1),e&&l),!1));}}var c;return zc(Ic(t.length(),u,o,a,0,!0))}function Cc(t){let e=.5,r=.5;switch(t){case "right":case "top-right":case "bottom-right":e=1;break;case "left":case "top-left":case "bottom-left":e=0;}switch(t){case "bottom":case "bottom-right":case "bottom-left":r=1;break;case "top":case "top-right":case "top-left":r=0;}return {horizontalAlign:e,verticalAlign:r}}function Bc(t,e,r){const n=e.getMaxScale()*ac,{maxImageWidth:i,maxImageHeight:s}=e.getMaxImageSize(t),a=Math.max(n,s*r);return {verticalLineContentWidth:Math.max(n,i*r),horizontalLineContentHeight:a}}function Ec(t){switch(t){case "top":return 0;case "center":return .5;default:return 1}}function Tc(e,r,n){return !(e===t.an.horizontal||!r&&!Ss(n)||r&&(wc[n]||(i=n,/\p{sc=Arab}/u.test(String.fromCodePoint(i)))));var i;}function Vc(t,e,r,n,i,s){const a=s[t.fontStack],o=function(t,e,r,n){if(t&&t.rect)return t;const i=e[r.fontStack],s=i&&i[n];return s?{rect:null,metrics:s.metrics}:null}(a&&a[e],i,t,e);if(null===o)return null;let l;if(r)l=n.verticalLineContentWidth-t.scale*ac;else {const e=Ec(t.verticalAlign);l=(n.horizontalLineContentHeight-t.scale*ac)*e;}return {rect:o.rect,metrics:o.metrics,baselineOffset:l}}function Fc(t,e,r,n,i){const s=i[t.imageName];if(!s)return null;const a=s.paddedRect,o=s.displaySize,l={width:o[0],height:o[1],left:1,top:-3,advance:e?o[1]:o[0]};let u;if(e)u=n.verticalLineContentWidth-o[1]*t.scale;else {const e=Ec(t.verticalAlign);u=(n.horizontalLineContentHeight-o[1]*t.scale)*e;}return {rect:a,metrics:l,baselineOffset:u,imageOffset:(e?o[0]:o[1])*t.scale-ac*r}}function Lc(t,e,r,n){if(0===n)return;const i=t[r],s=(t[r].x+i.metrics.advance*i.scale)*n;for(let n=e;n<=r;n++)t[n].x-=s;}function $c(t,e,r){const{horizontalAlign:n,verticalAlign:i}=Cc(r),s=e[0]-t.displaySize[0]*n,a=e[1]-t.displaySize[1]*i;return {image:t,top:a,bottom:a+t.displaySize[1],left:s,right:s+t.displaySize[0]}}function Dc(t){var e,r;let n=t.left,i=t.top,s=t.right-n,a=t.bottom-i;const o=null!==(e=t.image.textFitWidth)&&void 0!==e?e:"stretchOrShrink",l=null!==(r=t.image.textFitHeight)&&void 0!==r?r:"stretchOrShrink",u=(t.image.content[2]-t.image.content[0])/(t.image.content[3]-t.image.content[1]);if("proportional"===l){if("stretchOnly"===o&&s/a<u||"proportional"===o){const t=Math.ceil(a*u);n*=t/s,s=t;}}else if("proportional"===o&&"stretchOnly"===l&&0!==u&&s/a>u){const t=Math.ceil(s/u);i*=t/a,a=t;}return {x1:n,y1:i,x2:n+s,y2:i+a}}function Oc(t,e,r,n,i,s){const a=t.image;let o;if(a.content){const t=a.content,e=a.pixelRatio||1;o=[t[0]/e,t[1]/e,a.displaySize[0]-t[2]/e,a.displaySize[1]-t[3]/e];}const l=e.left*s,u=e.right*s;let c,h,p,f;"width"===r||"both"===r?(f=i[0]+l-n[3],h=i[0]+u+n[1]):(f=i[0]+(l+u-a.displaySize[0])/2,h=f+a.displaySize[0]);const d=e.top*s,y=e.bottom*s;return "height"===r||"both"===r?(c=i[1]+d-n[0],p=i[1]+y+n[2]):(c=i[1]+(d+y-a.displaySize[1])/2,p=c+a.displaySize[1]),{image:a,top:c,right:h,bottom:p,left:f,collisionPadding:o}}const Rc=128,jc=32640;function Nc(t,e){const{expression:r}=e;if("constant"===r.kind)return {kind:"constant",layoutSize:r.evaluate(new Cs(t+1))};if("source"===r.kind)return {kind:"source"};{const{zoomStops:e,interpolationType:n}=r;let i=0;for(;i<e.length&&e[i]<=t;)i++;i=Math.max(0,i-1);let s=i;for(;s<e.length&&e[s]<t+1;)s++;s=Math.min(e.length-1,s);const a=e[i],o=e[s];return "composite"===r.kind?{kind:"composite",minZoom:a,maxZoom:o,interpolationType:n}:{kind:"camera",minZoom:a,maxZoom:o,minSize:r.evaluate(new Cs(a)),maxSize:r.evaluate(new Cs(o)),interpolationType:n}}}function Uc(t,e,r){let n="never";const i=t.get(e);return i?n=i:t.get(r)&&(n="always"),n}const qc=_u.VectorTileFeature.types,Gc=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Xc(t,e,r,n,i,s,a,o,l,u,c,h,p){const f=o?Math.min(jc,Math.round(o[0])):0,d=o?Math.min(jc,Math.round(o[1])):0;t.emplaceBack(e,r,Math.round(32*n),Math.round(32*i),s,a,(f<<1)+(l?1:0),d,16*u,16*c,256*h,256*p);}function Zc(t,e,r){t.emplaceBack(e.x,e.y,r),t.emplaceBack(e.x,e.y,r),t.emplaceBack(e.x,e.y,r),t.emplaceBack(e.x,e.y,r);}function Yc(t){for(const e of t.sections)if(zs(e.text))return !0;return !1}class Hc{constructor(t){this.layoutVertexArray=new Ra,this.indexArray=new Ga,this.programConfigurations=t,this.segments=new Ha,this.dynamicLayoutVertexArray=new ja,this.opacityVertexArray=new Na,this.hasVisibleVertices=!1,this.placedSymbolArray=new Aa;}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length}upload(t,e,r,n){this.isEmpty()||(r&&(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Ku.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,e),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,Ju.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,Gc,!0),this.opacityVertexBuffer.itemSize=1),(r||n)&&this.programConfigurations.upload(t));}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy());}}us("SymbolBuffers",Hc);class Kc{constructor(t,e,r){this.layoutVertexArray=new t,this.layoutAttributes=e,this.indexArray=new r,this.segments=new Ha,this.collisionVertexArray=new qa;}upload(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,Wu.members,!0);}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy());}}us("CollisionBuffers",Kc);class Jc{constructor(e){this.collisionBoxArray=e.collisionBoxArray,this.zoom=e.zoom,this.globalState=e.globalState,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((t=>t.id)),this.index=e.index,this.pixelRatio=e.pixelRatio,this.sourceLayerIndex=e.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[];const r=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Nc(this.zoom,r["text-size"]),this.iconSizeData=Nc(this.zoom,r["icon-size"]);const n=this.layers[0].layout,i=n.get("symbol-sort-key"),s=n.get("symbol-z-order");this.canOverlap="never"!==Uc(n,"text-overlap","text-allow-overlap")||"never"!==Uc(n,"icon-overlap","icon-allow-overlap")||n.get("text-ignore-placement")||n.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==s&&!i.isConstant(),this.sortFeaturesByY=("viewport-y"===s||"auto"===s&&!this.sortFeaturesByKey)&&this.canOverlap,"point"===n.get("symbol-placement")&&(this.writingModes=n.get("text-writing-mode").map((e=>t.an[e]))),this.stateDependentLayerIds=this.layers.filter((t=>t.isStateDependent())).map((t=>t.id)),this.sourceID=e.sourceID;}createArrays(){this.text=new Hc(new So(this.layers,this.zoom,(t=>/^text/.test(t)))),this.icon=new Hc(new So(this.layers,this.zoom,(t=>/^icon/.test(t)))),this.glyphOffsetArray=new Ia,this.lineVertexArray=new za,this.symbolInstances=new Ma,this.textAnchorOffsets=new Ca;}calculateGlyphDependencies(t,e,r,n,i){for(let s=0;s<t.length;s++)if(e[t.charCodeAt(s)]=!0,(r||n)&&i){const r=rc[t.charAt(s)];r&&(e[r.charCodeAt(0)]=!0);}}populate(e,r,n){const i=this.layers[0],s=i.layout,a=s.get("text-font"),o=s.get("text-field"),l=s.get("icon-image"),u=("constant"!==o.value.kind||o.value.value instanceof Te&&!o.value.value.isEmpty()||o.value.value.toString().length>0)&&("constant"!==a.value.kind||a.value.value.length>0),c="constant"!==l.value.kind||!!l.value.value||Object.keys(l.parameters).length>0,h=s.get("symbol-sort-key");if(this.features=[],!u&&!c)return;const p=r.iconDependencies,f=r.glyphDependencies,d=r.availableImages,y=new Cs(this.zoom,{globalState:this.globalState});for(const{feature:r,id:o,index:l,sourceLayerIndex:m}of e){const e=i._featureFilter.needGeometry,g=Po(r,e);if(!i._featureFilter.filter(y,g,n))continue;let x,v;if(e||(g.geometry=zo(r)),u){const t=i.getValueAndResolveTokens("text-field",g,n,d),e=Te.factory(t),r=this.hasRTLText=this.hasRTLText||Yc(e);(!r||"unavailable"===Ps.getRTLTextPluginStatus()||r&&Ps.isParsed())&&(x=ec(e,i,g));}if(c){const t=i.getValueAndResolveTokens("icon-image",g,n,d);v=t instanceof Re?t:Re.fromString(t);}if(!x&&!v)continue;const b=this.sortFeaturesByKey?h.evaluate(g,{},n):void 0;if(this.features.push({id:o,text:x,icon:v,index:l,sourceLayerIndex:m,geometry:g.geometry,properties:r.properties,type:qc[r.type],sortKey:b}),v&&(p[v.name]=!0),x){const e=a.evaluate(g,{},n).join(","),r="viewport"!==s.get("text-rotation-alignment")&&"point"!==s.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(t.an.vertical)>=0;for(const t of x.sections)if(t.image)p[t.image.name]=!0;else {const n=gs(x.toString()),i=t.fontStack||e,s=f[i]=f[i]||{};this.calculateGlyphDependencies(t.text,s,r,this.allowVerticalPlacement,n);}}}"line"===s.get("symbol-placement")&&(this.features=function(t){const e={},r={},n=[];let i=0;function s(e){n.push(t[e]),i++;}function a(t,e,i){const s=r[t];return delete r[t],r[e]=s,n[s].geometry[0].pop(),n[s].geometry[0]=n[s].geometry[0].concat(i[0]),s}function o(t,r,i){const s=e[r];return delete e[r],e[t]=s,n[s].geometry[0].shift(),n[s].geometry[0]=i[0].concat(n[s].geometry[0]),s}function l(t,e,r){const n=r?e[0][e[0].length-1]:e[0][0];return `${t}:${n.x}:${n.y}`}for(let u=0;u<t.length;u++){const c=t[u],h=c.geometry,p=c.text?c.text.toString():null;if(!p){s(u);continue}const f=l(p,h),d=l(p,h,!0);if(f in r&&d in e&&r[f]!==e[d]){const t=o(f,d,h),i=a(f,d,n[t].geometry);delete e[f],delete r[d],r[l(p,n[i].geometry,!0)]=i,n[t].geometry=null;}else f in r?a(f,d,h):d in e?o(f,d,h):(s(u),e[f]=i-1,r[d]=i-1);}return n.filter((t=>t.geometry))}(this.features)),this.sortFeaturesByKey&&this.features.sort(((t,e)=>t.sortKey-e.sortKey));}update(t,e,r){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(t,e,this.layers,r),this.icon.programConfigurations.updatePaintArrays(t,e,this.layers,r));}isEmpty(){return 0===this.symbolInstances.length&&!this.hasRTLText}uploadPending(){return !this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(t){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(t),this.iconCollisionBox.upload(t)),this.text.upload(t,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(t,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0;}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy();}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData();}addToLineVertexArray(t,e){const r=this.lineVertexArray.length;if(void 0!==t.segment){let r=t.dist(e[t.segment+1]),n=t.dist(e[t.segment]);const i={};for(let n=t.segment+1;n<e.length;n++)i[n]={x:e[n].x,y:e[n].y,tileUnitDistanceFromAnchor:r},n<e.length-1&&(r+=e[n+1].dist(e[n]));for(let r=t.segment||0;r>=0;r--)i[r]={x:e[r].x,y:e[r].y,tileUnitDistanceFromAnchor:n},r>0&&(n+=e[r-1].dist(e[r]));for(let t=0;t<e.length;t++){const e=i[t];this.lineVertexArray.emplaceBack(e.x,e.y,e.tileUnitDistanceFromAnchor);}}return {lineStartIndex:r,lineLength:this.lineVertexArray.length-r}}addSymbols(e,r,n,i,s,a,o,l,u,c,h,p){const f=e.indexArray,d=e.layoutVertexArray,y=e.segments.prepareSegment(4*r.length,d,f,this.canOverlap?a.sortKey:void 0),m=this.glyphOffsetArray.length,g=y.vertexLength,x=this.allowVerticalPlacement&&o===t.an.vertical?Math.PI/2:0,v=a.text&&a.text.sections;for(let t=0;t<r.length;t++){const{tl:i,tr:s,bl:o,br:u,tex:c,pixelOffsetTL:h,pixelOffsetBR:m,minFontScaleX:g,minFontScaleY:b,glyphOffset:w,isSDF:_,sectionIndex:S}=r[t],A=y.vertexLength,k=w[1];Xc(d,l.x,l.y,i.x,k+i.y,c.x,c.y,n,_,h.x,h.y,g,b),Xc(d,l.x,l.y,s.x,k+s.y,c.x+c.w,c.y,n,_,m.x,h.y,g,b),Xc(d,l.x,l.y,o.x,k+o.y,c.x,c.y+c.h,n,_,h.x,m.y,g,b),Xc(d,l.x,l.y,u.x,k+u.y,c.x+c.w,c.y+c.h,n,_,m.x,m.y,g,b),Zc(e.dynamicLayoutVertexArray,l,x),f.emplaceBack(A,A+2,A+1),f.emplaceBack(A+1,A+2,A+3),y.vertexLength+=4,y.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(w[0]),t!==r.length-1&&S===r[t+1].sectionIndex||e.programConfigurations.populatePaintArrays(d.length,a,a.index,{},p,v&&v[S]);}e.placedSymbolArray.emplaceBack(l.x,l.y,m,this.glyphOffsetArray.length-m,g,u,c,l.segment,n?n[0]:0,n?n[1]:0,i[0],i[1],o,0,!1,0,h);}_addCollisionDebugVertex(t,e,r,n,i,s){return e.emplaceBack(0,0),t.emplaceBack(r.x,r.y,n,i,Math.round(s.x),Math.round(s.y))}addCollisionDebugVertices(t,e,r,n,i,s,a){const o=i.segments.prepareSegment(4,i.layoutVertexArray,i.indexArray),u=o.vertexLength,c=i.layoutVertexArray,h=i.collisionVertexArray,p=a.anchorX,f=a.anchorY;this._addCollisionDebugVertex(c,h,s,p,f,new l(t,e)),this._addCollisionDebugVertex(c,h,s,p,f,new l(r,e)),this._addCollisionDebugVertex(c,h,s,p,f,new l(r,n)),this._addCollisionDebugVertex(c,h,s,p,f,new l(t,n)),o.vertexLength+=4;const d=i.indexArray;d.emplaceBack(u,u+1),d.emplaceBack(u+1,u+2),d.emplaceBack(u+2,u+3),d.emplaceBack(u+3,u),o.primitiveLength+=4;}addDebugCollisionBoxes(t,e,r,n){for(let i=t;i<e;i++){const t=this.collisionBoxArray.get(i);this.addCollisionDebugVertices(t.x1,t.y1,t.x2,t.y2,n?this.textCollisionBox:this.iconCollisionBox,t.anchorPoint,r);}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Kc(Ua,Qu.members,Xa),this.iconCollisionBox=new Kc(Ua,Qu.members,Xa);for(let t=0;t<this.symbolInstances.length;t++){const e=this.symbolInstances.get(t);this.addDebugCollisionBoxes(e.textBoxStartIndex,e.textBoxEndIndex,e,!0),this.addDebugCollisionBoxes(e.verticalTextBoxStartIndex,e.verticalTextBoxEndIndex,e,!0),this.addDebugCollisionBoxes(e.iconBoxStartIndex,e.iconBoxEndIndex,e,!1),this.addDebugCollisionBoxes(e.verticalIconBoxStartIndex,e.verticalIconBoxEndIndex,e,!1);}}_deserializeCollisionBoxesForSymbol(t,e,r,n,i,s,a,o,l){const u={};for(let n=e;n<r;n++){const e=t.get(n);u.textBox={x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,anchorPointX:e.anchorPointX,anchorPointY:e.anchorPointY},u.textFeatureIndex=e.featureIndex;break}for(let e=n;e<i;e++){const r=t.get(e);u.verticalTextBox={x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2,anchorPointX:r.anchorPointX,anchorPointY:r.anchorPointY},u.verticalTextFeatureIndex=r.featureIndex;break}for(let e=s;e<a;e++){const r=t.get(e);u.iconBox={x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2,anchorPointX:r.anchorPointX,anchorPointY:r.anchorPointY},u.iconFeatureIndex=r.featureIndex;break}for(let e=o;e<l;e++){const r=t.get(e);u.verticalIconBox={x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2,anchorPointX:r.anchorPointX,anchorPointY:r.anchorPointY},u.verticalIconFeatureIndex=r.featureIndex;break}return u}deserializeCollisionBoxes(t){this.collisionArrays=[];for(let e=0;e<this.symbolInstances.length;e++){const r=this.symbolInstances.get(e);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(t,r.textBoxStartIndex,r.textBoxEndIndex,r.verticalTextBoxStartIndex,r.verticalTextBoxEndIndex,r.iconBoxStartIndex,r.iconBoxEndIndex,r.verticalIconBoxStartIndex,r.verticalIconBoxEndIndex));}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(t,e){const r=t.placedSymbolArray.get(e),n=r.vertexStartIndex+4*r.numGlyphs;for(let e=r.vertexStartIndex;e<n;e+=4)t.indexArray.emplaceBack(e,e+2,e+1),t.indexArray.emplaceBack(e+1,e+2,e+3);}getSortedSymbolIndexes(t){if(this.sortedAngle===t&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;const e=Math.sin(t),r=Math.cos(t),n=[],i=[],s=[];for(let t=0;t<this.symbolInstances.length;++t){s.push(t);const a=this.symbolInstances.get(t);n.push(0|Math.round(e*a.anchorX+r*a.anchorY)),i.push(a.featureIndex);}return s.sort(((t,e)=>n[t]-n[e]||i[e]-i[t])),s}addToSortKeyRanges(t,e){const r=this.sortKeyRanges[this.sortKeyRanges.length-1];r&&r.sortKey===e?r.symbolInstanceEnd=t+1:this.sortKeyRanges.push({sortKey:e,symbolInstanceStart:t,symbolInstanceEnd:t+1});}sortFeatures(t){if(this.sortFeaturesByY&&this.sortedAngle!==t&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(t),this.sortedAngle=t,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const t of this.symbolInstanceIndexes){const e=this.symbolInstances.get(t);this.featureSortOrder.push(e.featureIndex),[e.rightJustifiedTextSymbolIndex,e.centerJustifiedTextSymbolIndex,e.leftJustifiedTextSymbolIndex].forEach(((t,e,r)=>{t>=0&&r.indexOf(t)===e&&this.addIndicesForPlacedSymbol(this.text,t);})),e.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,e.verticalPlacedTextSymbolIndex),e.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,e.placedIconSymbolIndex),e.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,e.verticalPlacedIconSymbolIndex);}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray);}}}let Wc,Qc;us("SymbolBucket",Jc,{omit:["layers","collisionBoxArray","features","compareText"]}),Jc.MAX_GLYPHS=65535,Jc.addDynamicAttributes=Zc;var th={get paint(){return Qc=Qc||new qs({"icon-opacity":new Rs(wt.paint_symbol["icon-opacity"]),"icon-color":new Rs(wt.paint_symbol["icon-color"]),"icon-halo-color":new Rs(wt.paint_symbol["icon-halo-color"]),"icon-halo-width":new Rs(wt.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Rs(wt.paint_symbol["icon-halo-blur"]),"icon-translate":new Os(wt.paint_symbol["icon-translate"]),"icon-translate-anchor":new Os(wt.paint_symbol["icon-translate-anchor"]),"text-opacity":new Rs(wt.paint_symbol["text-opacity"]),"text-color":new Rs(wt.paint_symbol["text-color"],{runtimeType:jt,getOverride:t=>t.textColor,hasOverride:t=>!!t.textColor}),"text-halo-color":new Rs(wt.paint_symbol["text-halo-color"]),"text-halo-width":new Rs(wt.paint_symbol["text-halo-width"]),"text-halo-blur":new Rs(wt.paint_symbol["text-halo-blur"]),"text-translate":new Os(wt.paint_symbol["text-translate"]),"text-translate-anchor":new Os(wt.paint_symbol["text-translate-anchor"])})},get layout(){return Wc=Wc||new qs({"symbol-placement":new Os(wt.layout_symbol["symbol-placement"]),"symbol-spacing":new Os(wt.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Os(wt.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Rs(wt.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Os(wt.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Os(wt.layout_symbol["icon-allow-overlap"]),"icon-overlap":new Os(wt.layout_symbol["icon-overlap"]),"icon-ignore-placement":new Os(wt.layout_symbol["icon-ignore-placement"]),"icon-optional":new Os(wt.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Os(wt.layout_symbol["icon-rotation-alignment"]),"icon-size":new Rs(wt.layout_symbol["icon-size"]),"icon-text-fit":new Os(wt.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Os(wt.layout_symbol["icon-text-fit-padding"]),"icon-image":new Rs(wt.layout_symbol["icon-image"]),"icon-rotate":new Rs(wt.layout_symbol["icon-rotate"]),"icon-padding":new Rs(wt.layout_symbol["icon-padding"]),"icon-keep-upright":new Os(wt.layout_symbol["icon-keep-upright"]),"icon-offset":new Rs(wt.layout_symbol["icon-offset"]),"icon-anchor":new Rs(wt.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Os(wt.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Os(wt.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Os(wt.layout_symbol["text-rotation-alignment"]),"text-field":new Rs(wt.layout_symbol["text-field"]),"text-font":new Rs(wt.layout_symbol["text-font"]),"text-size":new Rs(wt.layout_symbol["text-size"]),"text-max-width":new Rs(wt.layout_symbol["text-max-width"]),"text-line-height":new Os(wt.layout_symbol["text-line-height"]),"text-letter-spacing":new Rs(wt.layout_symbol["text-letter-spacing"]),"text-justify":new Rs(wt.layout_symbol["text-justify"]),"text-radial-offset":new Rs(wt.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Os(wt.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new Rs(wt.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new Rs(wt.layout_symbol["text-anchor"]),"text-max-angle":new Os(wt.layout_symbol["text-max-angle"]),"text-writing-mode":new Os(wt.layout_symbol["text-writing-mode"]),"text-rotate":new Rs(wt.layout_symbol["text-rotate"]),"text-padding":new Os(wt.layout_symbol["text-padding"]),"text-keep-upright":new Os(wt.layout_symbol["text-keep-upright"]),"text-transform":new Rs(wt.layout_symbol["text-transform"]),"text-offset":new Rs(wt.layout_symbol["text-offset"]),"text-allow-overlap":new Os(wt.layout_symbol["text-allow-overlap"]),"text-overlap":new Os(wt.layout_symbol["text-overlap"]),"text-ignore-placement":new Os(wt.layout_symbol["text-ignore-placement"]),"text-optional":new Os(wt.layout_symbol["text-optional"])})}};class eh{constructor(t){if(void 0===t.property.overrides)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=t.property.overrides?t.property.overrides.runtimeType:$t,this.defaultValue=t;}evaluate(t){if(t.formattedSection){const e=this.defaultValue.property.overrides;if(e&&e.hasOverride(t.formattedSection))return e.getOverride(t.formattedSection)}return t.feature&&t.featureState?this.defaultValue.evaluate(t.feature,t.featureState):this.defaultValue.property.specification.default}eachChild(t){this.defaultValue.isConstant()||t(this.defaultValue.value._styleExpression.expression);}outputDefined(){return !1}serialize(){return null}}us("FormatSectionOverride",eh,{omit:["defaultValue"]});class rh extends Xs{constructor(t){super(t,th);}recalculate(t,e){if(super.recalculate(t,e),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]="map"===this.layout.get("text-rotation-alignment")?"map":"viewport"),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){const t=this.layout.get("text-writing-mode");if(t){const e=[];for(const r of t)e.indexOf(r)<0&&e.push(r);this.layout._values["text-writing-mode"]=e;}else this.layout._values["text-writing-mode"]=["horizontal"];}this._setPaintOverrides();}getValueAndResolveTokens(t,e,r,n){const i=this.layout.get(t).evaluate(e,{},r,n),s=this._unevaluatedLayout._values[t];return s.isDataDriven()||ii(s.value)||!i?i:function(t,e){return e.replace(/{([^{}]+)}/g,((e,r)=>t&&r in t?String(t[r]):""))}(e.properties,i)}createBucket(t){return new Jc(t)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const t of th.paint.overridableProperties){if(!rh.hasPaintOverride(this.layout,t))continue;const e=this.paint.get(t),r=new eh(e),n=new ni(r,e.property.specification);let i=null;i="constant"===e.value.kind||"source"===e.value.kind?new ai("source",n):new oi("composite",n,e.value.zoomStops),this.paint._values[t]=new $s(e.property,i,e.parameters);}}_handleOverridablePaintPropertyUpdate(t,e,r){return !(!this.layout||e.isDataDriven()||r.isDataDriven())&&rh.hasPaintOverride(this.layout,t)}static hasPaintOverride(t,e){const r=t.get("text-field"),n=th.paint.properties[e];let i=!1;const s=t=>{for(const e of t)if(n.overrides&&n.overrides.hasOverride(e))return void(i=!0)};if("constant"===r.value.kind&&r.value.value instanceof Te)s(r.value.value.sections);else if("source"===r.value.kind){const t=e=>{i||(e instanceof Xe&&qe(e.value)===Xt?s(e.value.sections):e instanceof Cr?s(e.sections):e.eachChild(t));},e=r.value;e._styleExpression&&t(e._styleExpression.expression);}return i}}let nh;var ih={get paint(){return nh=nh||new qs({"background-color":new Os(wt.paint_background["background-color"]),"background-pattern":new Ns(wt.paint_background["background-pattern"]),"background-opacity":new Os(wt.paint_background["background-opacity"])})}};class sh extends Xs{constructor(t){super(t,ih);}}let ah;var oh={get paint(){return ah=ah||new qs({"raster-opacity":new Os(wt.paint_raster["raster-opacity"]),"raster-hue-rotate":new Os(wt.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Os(wt.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Os(wt.paint_raster["raster-brightness-max"]),"raster-saturation":new Os(wt.paint_raster["raster-saturation"]),"raster-contrast":new Os(wt.paint_raster["raster-contrast"]),"raster-resampling":new Os(wt.paint_raster["raster-resampling"]),"raster-fade-duration":new Os(wt.paint_raster["raster-fade-duration"])})}};class lh extends Xs{constructor(t){super(t,oh);}}class uh extends Xs{constructor(t){super(t,{}),this.onAdd=t=>{this.implementation.onAdd&&this.implementation.onAdd(t,t.painter.context.gl);},this.onRemove=t=>{this.implementation.onRemove&&this.implementation.onRemove(t,t.painter.context.gl);},this.implementation=t;}is3D(){return "3d"===this.implementation.renderingMode}hasOffscreenPass(){return void 0!==this.implementation.prerender}recalculate(){}updateTransitions(){}hasTransition(){return !1}serialize(){throw new Error("Custom layers cannot be serialized")}}class ch{constructor(t){this._methodToThrottle=t,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._methodToThrottle();});}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((()=>{this._triggered=!1,this._methodToThrottle();}),0));}remove(){delete this._channel,this._methodToThrottle=()=>{};}}const hh={once:!0},ph=6371008.8;class fh{constructor(t,e){if(isNaN(t)||isNaN(e))throw new Error(`Invalid LngLat object: (${t}, ${e})`);if(this.lng=+t,this.lat=+e,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new fh(R(this.lng,-180,180),this.lat)}toArray(){return [this.lng,this.lat]}toString(){return `LngLat(${this.lng}, ${this.lat})`}distanceTo(t){const e=Math.PI/180,r=this.lat*e,n=t.lat*e,i=Math.sin(r)*Math.sin(n)+Math.cos(r)*Math.cos(n)*Math.cos((t.lng-this.lng)*e);return ph*Math.acos(Math.min(i,1))}static convert(t){if(t instanceof fh)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new fh(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"==typeof t&&null!==t)return new fh(Number("lng"in t?t.lng:t.lon),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const dh=2*Math.PI*ph;function yh(t){return dh*Math.cos(t*Math.PI/180)}function mh(t){return (180+t)/360}function gh(t){return (180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))/360}function xh(t,e){return t/yh(e)}function vh(t){return 360/Math.PI*Math.atan(Math.exp((180-360*t)*Math.PI/180))-90}function bh(t,e){return t*yh(vh(e))}class wh{constructor(t,e,r=0){this.x=+t,this.y=+e,this.z=+r;}static fromLngLat(t,e=0){const r=fh.convert(t);return new wh(mh(r.lng),gh(r.lat),xh(e,r.lat))}toLngLat(){return new fh(360*this.x-180,vh(this.y))}toAltitude(){return bh(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/dh*(t=vh(this.y),1/Math.cos(t*Math.PI/180));var t;}}function _h(t,e,r){var n=2*Math.PI*6378137/256/Math.pow(2,r);return [t*n-2*Math.PI*6378137/2,e*n-2*Math.PI*6378137/2]}class Sh{constructor(t,e,r){if(!function(t,e,r){return !(t<0||t>25||r<0||r>=Math.pow(2,t)||e<0||e>=Math.pow(2,t))}(t,e,r))throw new Error(`x=${e}, y=${r}, z=${t} outside of bounds. 0<=x<${Math.pow(2,t)}, 0<=y<${Math.pow(2,t)} 0<=z<=25 `);this.z=t,this.x=e,this.y=r,this.key=Mh(0,t,t,e,r);}equals(t){return this.z===t.z&&this.x===t.x&&this.y===t.y}url(t,e,r){const n=(s=this.y,a=this.z,o=_h(256*(i=this.x),256*(s=Math.pow(2,a)-s-1),a),l=_h(256*(i+1),256*(s+1),a),o[0]+","+o[1]+","+l[0]+","+l[1]);var i,s,a,o,l;const u=function(t,e,r){let n,i="";for(let s=t;s>0;s--)n=1<<s-1,i+=(e&n?1:0)+(r&n?2:0);return i}(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String("tms"===r?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,e>1?"@2x":"").replace(/{quadkey}/g,u).replace(/{bbox-epsg-3857}/g,n)}isChildOf(t){const e=this.z-t.z;return e>0&&t.x===this.x>>e&&t.y===this.y>>e}getTilePoint(t){const e=Math.pow(2,this.z);return new l((t.x*e-this.x)*E,(t.y*e-this.y)*E)}toString(){return `${this.z}/${this.x}/${this.y}`}}class Ah{constructor(t,e){this.wrap=t,this.canonical=e,this.key=Mh(t,e.z,e.z,e.x,e.y);}}class kh{constructor(t,e,r,n,i){if(this.terrainRttPosMatrix32f=null,t<r)throw new Error(`overscaledZ should be >= z; overscaledZ = ${t}; z = ${r}`);this.overscaledZ=t,this.wrap=e,this.canonical=new Sh(r,+n,+i),this.key=Mh(e,t,r,n,i);}clone(){return new kh(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(t){return this.overscaledZ===t.overscaledZ&&this.wrap===t.wrap&&this.canonical.equals(t.canonical)}scaledTo(t){if(t>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${t}; overscaledZ = ${this.overscaledZ}`);const e=this.canonical.z-t;return t>this.canonical.z?new kh(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new kh(t,this.wrap,t,this.canonical.x>>e,this.canonical.y>>e)}calculateScaledKey(t,e){if(t>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${t}; overscaledZ = ${this.overscaledZ}`);const r=this.canonical.z-t;return t>this.canonical.z?Mh(this.wrap*+e,t,this.canonical.z,this.canonical.x,this.canonical.y):Mh(this.wrap*+e,t,t,this.canonical.x>>r,this.canonical.y>>r)}isChildOf(t){if(t.wrap!==this.wrap)return !1;const e=this.canonical.z-t.canonical.z;return 0===t.overscaledZ||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>e&&t.canonical.y===this.canonical.y>>e}children(t){if(this.overscaledZ>=t)return [new kh(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const e=this.canonical.z+1,r=2*this.canonical.x,n=2*this.canonical.y;return [new kh(e,this.wrap,e,r,n),new kh(e,this.wrap,e,r+1,n),new kh(e,this.wrap,e,r,n+1),new kh(e,this.wrap,e,r+1,n+1)]}isLessThan(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))}wrapped(){return new kh(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(t){return new kh(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new Ah(this.wrap,this.canonical)}toString(){return `${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(t){return this.canonical.getTilePoint(new wh(t.x-this.wrap,t.y))}}function Mh(t,e,r,n,i){(t*=2)<0&&(t=-1*t-1);const s=1<<r;return (s*s*t+s*i+n).toString(36)+r.toString(36)+e.toString(36)}us("CanonicalTileID",Sh),us("OverscaledTileID",kh,{omit:["terrainRttPosMatrix32f"]});class Ih{constructor(){this.minX=1/0,this.maxX=-1/0,this.minY=1/0,this.maxY=-1/0;}extend(t){return this.minX=Math.min(this.minX,t.x),this.minY=Math.min(this.minY,t.y),this.maxX=Math.max(this.maxX,t.x),this.maxY=Math.max(this.maxY,t.y),this}expandBy(t){return this.minX-=t,this.minY-=t,this.maxX+=t,this.maxY+=t,(this.minX>this.maxX||this.minY>this.maxY)&&(this.minX=1/0,this.maxX=-1/0,this.minY=1/0,this.maxY=-1/0),this}shrinkBy(t){return this.expandBy(-t)}map(t){const e=new Ih;return e.extend(t(new l(this.minX,this.minY))),e.extend(t(new l(this.maxX,this.minY))),e.extend(t(new l(this.minX,this.maxY))),e.extend(t(new l(this.maxX,this.maxY))),e}static fromPoints(t){const e=new Ih;for(const r of t)e.extend(r);return e}contains(t){return t.x>=this.minX&&t.x<=this.maxX&&t.y>=this.minY&&t.y<=this.maxY}empty(){return this.minX>this.maxX}width(){return this.maxX-this.minX}height(){return this.maxY-this.minY}covers(t){return !this.empty()&&!t.empty()&&t.minX>=this.minX&&t.maxX<=this.maxX&&t.minY>=this.minY&&t.maxY<=this.maxY}intersects(t){return !this.empty()&&!t.empty()&&t.minX<=this.maxX&&t.maxX>=this.minX&&t.minY<=this.maxY&&t.maxY>=this.minY}}class zh{constructor(t){this._stringToNumber={},this._numberToString=[];for(let e=0;e<t.length;e++){const r=t[e];this._stringToNumber[r]=e,this._numberToString[e]=r;}}encode(t){return this._stringToNumber[t]}decode(t){if(t>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${t} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[t]}}class Ph{constructor(t,e,r,n,i){this.type="Feature",this._vectorTileFeature=t,t._z=e,t._x=r,t._y=n,this.properties=t.properties,this.id=i;}get geometry(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(t){this._geometry=t;}toJSON(){const t={geometry:this.geometry};for(const e in this)"_geometry"!==e&&"_vectorTileFeature"!==e&&(t[e]=this[e]);return t}}class Ch{constructor(t,e){this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=new os(E,16,0),this.grid3D=new os(E,16,0),this.featureIndexArray=new Ea,this.promoteId=e;}insert(t,e,r,n,i,s){const a=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(r,n,i);const o=s?this.grid3D:this.grid;for(let t=0;t<e.length;t++){const r=e[t],n=[1/0,1/0,-1/0,-1/0];for(let t=0;t<r.length;t++){const e=r[t];n[0]=Math.min(n[0],e.x),n[1]=Math.min(n[1],e.y),n[2]=Math.max(n[2],e.x),n[3]=Math.max(n[3],e.y);}n[0]<E&&n[1]<E&&n[2]>=0&&n[3]>=0&&o.insert(a,n[0],n[1],n[2],n[3]);}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new _u.VectorTile(new hc(this.rawTileData)).layers,this.sourceLayerCoder=new zh(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(t,e,r,n){this.loadVTLayers();const i=t.params,s=E/t.tileSize/t.scale,a=di(i.filter),o=t.queryGeometry,u=t.queryPadding*s,c=Ih.fromPoints(o),h=this.grid.query(c.minX-u,c.minY-u,c.maxX+u,c.maxY+u),p=Ih.fromPoints(t.cameraQueryGeometry).expandBy(u),f=this.grid3D.query(p.minX,p.minY,p.maxX,p.maxY,((e,r,n,i)=>function(t,e,r,n,i){for(const s of t)if(e<=s.x&&r<=s.y&&n>=s.x&&i>=s.y)return !0;const s=[new l(e,r),new l(e,i),new l(n,i),new l(n,r)];if(t.length>2)for(const e of s)if(No(t,e))return !0;for(let e=0;e<t.length-1;e++)if(Uo(t[e],t[e+1],s))return !0;return !1}(t.cameraQueryGeometry,e-u,r-u,n+u,i+u)));for(const t of f)h.push(t);h.sort(Eh);const d={};let y;for(let l=0;l<h.length;l++){const u=h[l];if(u===y)continue;y=u;const c=this.featureIndexArray.get(u);let p=null;this.loadMatchingFeature(d,c.bucketIndex,c.sourceLayerIndex,c.featureIndex,a,i.layers,i.availableImages,e,r,n,((e,r,n)=>(p||(p=zo(e)),r.queryIntersectsFeature({queryGeometry:o,feature:e,featureState:n,geometry:p,zoom:this.z,transform:t.transform,pixelsToTileUnits:s,pixelPosMatrix:t.pixelPosMatrix,unwrappedTileID:this.tileID.toUnwrapped(),getElevation:t.getElevation}))));}return d}loadMatchingFeature(t,e,r,n,i,s,a,o,l,u,c){const h=this.bucketLayerIDs[e];if(s&&!h.some((t=>s.has(t))))return;const p=this.sourceLayerCoder.decode(r),f=this.vtLayers[p].feature(n);if(i.needGeometry){const t=Po(f,!0);if(!i.filter(new Cs(this.tileID.overscaledZ),t,this.tileID.canonical))return}else if(!i.filter(new Cs(this.tileID.overscaledZ),f))return;const d=this.getId(f,p);for(let e=0;e<h.length;e++){const r=h[e];if(s&&!s.has(r))continue;const i=o[r];if(!i)continue;let p={};d&&u&&(p=u.getState(i.sourceLayer||"_geojsonTileLayer",d));const y=j({},l[r]);y.paint=Bh(y.paint,i.paint,f,p,a),y.layout=Bh(y.layout,i.layout,f,p,a);const m=!c||c(f,i,p);if(!m)continue;const g=new Ph(f,this.z,this.x,this.y,d);g.layer=y;let x=t[r];void 0===x&&(x=t[r]=[]),x.push({featureIndex:n,feature:g,intersectionZ:m});}}lookupSymbolFeatures(t,e,r,n,i,s,a,o){const l={};this.loadVTLayers();const u=di(i);for(const i of t)this.loadMatchingFeature(l,r,n,i,u,s,a,o,e);return l}hasLayer(t){for(const e of this.bucketLayerIDs)for(const r of e)if(t===r)return !0;return !1}getId(t,e){var r;let n=t.id;return this.promoteId&&(n=t.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[e]],"boolean"==typeof n&&(n=Number(n)),void 0===n&&(null===(r=t.properties)||void 0===r?void 0:r.cluster)&&this.promoteId&&(n=Number(t.properties.cluster_id))),n}}function Bh(t,e,r,n,i){return U(t,((t,s)=>{const a=e instanceof Ds?e.get(s):null;return a&&a.evaluate?a.evaluate(r,n,i):a}))}function Eh(t,e){return e-t}function Th(t,e,r,n,i){const s=[];for(let a=0;a<t.length;a++){const o=t[a];let u;for(let t=0;t<o.length-1;t++){let a=o[t],c=o[t+1];a.x<e&&c.x<e||(a.x<e?a=new l(e,a.y+(e-a.x)/(c.x-a.x)*(c.y-a.y))._round():c.x<e&&(c=new l(e,a.y+(e-a.x)/(c.x-a.x)*(c.y-a.y))._round()),a.y<r&&c.y<r||(a.y<r?a=new l(a.x+(r-a.y)/(c.y-a.y)*(c.x-a.x),r)._round():c.y<r&&(c=new l(a.x+(r-a.y)/(c.y-a.y)*(c.x-a.x),r)._round()),a.x>=n&&c.x>=n||(a.x>=n?a=new l(n,a.y+(n-a.x)/(c.x-a.x)*(c.y-a.y))._round():c.x>=n&&(c=new l(n,a.y+(n-a.x)/(c.x-a.x)*(c.y-a.y))._round()),a.y>=i&&c.y>=i||(a.y>=i?a=new l(a.x+(i-a.y)/(c.y-a.y)*(c.x-a.x),i)._round():c.y>=i&&(c=new l(a.x+(i-a.y)/(c.y-a.y)*(c.x-a.x),i)._round()),u&&a.equals(u[u.length-1])||(u=[a],s.push(u)),u.push(c)))));}}return s}us("FeatureIndex",Ch,{omit:["rawTileData","sourceLayerCoder"]});class Vh extends l{constructor(t,e,r,n){super(t,e),this.angle=r,void 0!==n&&(this.segment=n);}clone(){return new Vh(this.x,this.y,this.angle,this.segment)}}function Fh(t,e,r,n,i){if(void 0===e.segment||0===r)return !0;let s=e,a=e.segment+1,o=0;for(;o>-r/2;){if(a--,a<0)return !1;o-=t[a].dist(s),s=t[a];}o+=t[a].dist(t[a+1]),a++;const l=[];let u=0;for(;o<r/2;){const e=t[a],r=t[a+1];if(!r)return !1;let s=t[a-1].angleTo(e)-e.angleTo(r);for(s=Math.abs((s+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:o,angleDelta:s}),u+=s;o-l[0].distance>n;)u-=l.shift().angleDelta;if(u>i)return !1;a++,o+=e.dist(r);}return !0}function Lh(t){let e=0;for(let r=0;r<t.length-1;r++)e+=t[r].dist(t[r+1]);return e}function $h(t,e,r){return t?.6*e*r:0}function Dh(t,e){return Math.max(t?t.right-t.left:0,e?e.right-e.left:0)}function Oh(t,e,r,n,i,s){const a=$h(r,i,s),o=Dh(r,n)*s;let l=0;const u=Lh(t)/2;for(let r=0;r<t.length-1;r++){const n=t[r],i=t[r+1],s=n.dist(i);if(l+s>u){const c=(u-l)/s,h=gr.number(n.x,i.x,c),p=gr.number(n.y,i.y,c),f=new Vh(h,p,i.angleTo(n),r);return f._round(),!a||Fh(t,f,o,a,e)?f:void 0}l+=s;}}function Rh(t,e,r,n,i,s,a,o,l){const u=$h(n,s,a),c=Dh(n,i),h=c*a,p=0===t[0].x||t[0].x===l||0===t[0].y||t[0].y===l;return e-h<e/4&&(e=h+e/4),jh(t,p?e/2*o%e:(c/2+2*s)*a*o%e,e,u,r,h,p,!1,l)}function jh(t,e,r,n,i,s,a,o,l){const u=s/2,c=Lh(t);let h=0,p=e-r,f=[];for(let e=0;e<t.length-1;e++){const a=t[e],o=t[e+1],d=a.dist(o),y=o.angleTo(a);for(;p+r<h+d;){p+=r;const m=(p-h)/d,g=gr.number(a.x,o.x,m),x=gr.number(a.y,o.y,m);if(g>=0&&g<l&&x>=0&&x<l&&p-u>=0&&p+u<=c){const r=new Vh(g,x,y,e);r._round(),n&&!Fh(t,r,s,n,i)||f.push(r);}}h+=d;}return o||f.length||a||(f=jh(t,h/2,r,n,i,s,a,!0,l)),f}function Nh(t,e,r,n){const i=[],s=t.image,a=s.pixelRatio,o=s.paddedRect.w-2,u=s.paddedRect.h-2;let c={x1:t.left,y1:t.top,x2:t.right,y2:t.bottom};const h=s.stretchX||[[0,o]],p=s.stretchY||[[0,u]],f=(t,e)=>t+e[1]-e[0],d=h.reduce(f,0),y=p.reduce(f,0),m=o-d,g=u-y;let x=0,v=d,b=0,w=y,_=0,S=m,A=0,k=g;if(s.content&&n){const e=s.content,r=e[2]-e[0],n=e[3]-e[1];(s.textFitWidth||s.textFitHeight)&&(c=Dc(t)),x=Uh(h,0,e[0]),b=Uh(p,0,e[1]),v=Uh(h,e[0],e[2]),w=Uh(p,e[1],e[3]),_=e[0]-x,A=e[1]-b,S=r-v,k=n-w;}const M=c.x1,I=c.y1,z=c.x2-M,P=c.y2-I,C=(t,n,i,o)=>{const u=Gh(t.stretch-x,v,z,M),c=Xh(t.fixed-_,S,t.stretch,d),h=Gh(n.stretch-b,w,P,I),p=Xh(n.fixed-A,k,n.stretch,y),f=Gh(i.stretch-x,v,z,M),m=Xh(i.fixed-_,S,i.stretch,d),g=Gh(o.stretch-b,w,P,I),C=Xh(o.fixed-A,k,o.stretch,y),B=new l(u,h),E=new l(f,h),T=new l(f,g),V=new l(u,g),F=new l(c/a,p/a),L=new l(m/a,C/a),$=e*Math.PI/180;if($){const t=Math.sin($),e=Math.cos($),r=[e,-t,t,e];B._matMult(r),E._matMult(r),V._matMult(r),T._matMult(r);}const D=t.stretch+t.fixed,O=n.stretch+n.fixed;return {tl:B,tr:E,bl:V,br:T,tex:{x:s.paddedRect.x+1+D,y:s.paddedRect.y+1+O,w:i.stretch+i.fixed-D,h:o.stretch+o.fixed-O},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:F,pixelOffsetBR:L,minFontScaleX:S/a/z,minFontScaleY:k/a/P,isSDF:r}};if(n&&(s.stretchX||s.stretchY)){const t=qh(h,m,d),e=qh(p,g,y);for(let r=0;r<t.length-1;r++){const n=t[r],s=t[r+1];for(let t=0;t<e.length-1;t++)i.push(C(n,e[t],s,e[t+1]));}}else i.push(C({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:o+1},{fixed:0,stretch:u+1}));return i}function Uh(t,e,r){let n=0;for(const i of t)n+=Math.max(e,Math.min(r,i[1]))-Math.max(e,Math.min(r,i[0]));return n}function qh(t,e,r){const n=[{fixed:-1,stretch:0}];for(const[e,r]of t){const t=n[n.length-1];n.push({fixed:e-t.stretch,stretch:t.stretch}),n.push({fixed:e-t.stretch,stretch:t.stretch+(r-e)});}return n.push({fixed:e+1,stretch:r}),n}function Gh(t,e,r,n){return t/e*r+n}function Xh(t,e,r,n){return t-e*r/n}us("Anchor",Vh);class Zh{constructor(t,e,r,n,i,s,a,o,u,c){var h;if(this.boxStartIndex=t.length,u){let t=s.top,e=s.bottom;const r=s.collisionPadding;r&&(t-=r[1],e+=r[3]);let n=e-t;n>0&&(n=Math.max(10,n),this.circleDiameter=n);}else {const u=(null===(h=s.image)||void 0===h?void 0:h.content)&&(s.image.textFitWidth||s.image.textFitHeight)?Dc(s):{x1:s.left,y1:s.top,x2:s.right,y2:s.bottom};u.y1=u.y1*a-o[0],u.y2=u.y2*a+o[2],u.x1=u.x1*a-o[3],u.x2=u.x2*a+o[1];const p=s.collisionPadding;if(p&&(u.x1-=p[0]*a,u.y1-=p[1]*a,u.x2+=p[2]*a,u.y2+=p[3]*a),c){const t=new l(u.x1,u.y1),e=new l(u.x2,u.y1),r=new l(u.x1,u.y2),n=new l(u.x2,u.y2),i=c*Math.PI/180;t._rotate(i),e._rotate(i),r._rotate(i),n._rotate(i),u.x1=Math.min(t.x,e.x,r.x,n.x),u.x2=Math.max(t.x,e.x,r.x,n.x),u.y1=Math.min(t.y,e.y,r.y,n.y),u.y2=Math.max(t.y,e.y,r.y,n.y);}t.emplaceBack(e.x,e.y,u.x1,u.y1,u.x2,u.y2,r,n,i);}this.boxEndIndex=t.length;}}class Yh{constructor(t=[],e=(t,e)=>t<e?-1:t>e?1:0){if(this.data=t,this.length=this.data.length,this.compare=e,this.length>0)for(let t=(this.length>>1)-1;t>=0;t--)this._down(t);}push(t){this.data.push(t),this._up(this.length++);}pop(){if(0===this.length)return;const t=this.data[0],e=this.data.pop();return --this.length>0&&(this.data[0]=e,this._down(0)),t}peek(){return this.data[0]}_up(t){const{data:e,compare:r}=this,n=e[t];for(;t>0;){const i=t-1>>1,s=e[i];if(r(n,s)>=0)break;e[t]=s,t=i;}e[t]=n;}_down(t){const{data:e,compare:r}=this,n=this.length>>1,i=e[t];for(;t<n;){let n=1+(t<<1);const s=n+1;if(s<this.length&&r(e[s],e[n])<0&&(n=s),r(e[n],i)>=0)break;e[t]=e[n],t=n;}e[t]=i;}}function Hh(t,e=1,r=!1){const n=Ih.fromPoints(t[0]),i=Math.min(n.width(),n.height());let s=i/2;const a=new Yh([],Kh),{minX:o,minY:u,maxX:c,maxY:h}=n;if(0===i)return new l(o,u);for(let e=o;e<c;e+=i)for(let r=u;r<h;r+=i)a.push(new Jh(e+s,r+s,s,t));let p=function(t){let e=0,r=0,n=0;const i=t[0];for(let t=0,s=i.length,a=s-1;t<s;a=t++){const s=i[t],o=i[a],l=s.x*o.y-o.x*s.y;r+=(s.x+o.x)*l,n+=(s.y+o.y)*l,e+=3*l;}return new Jh(r/e,n/e,0,t)}(t),f=a.length;for(;a.length;){const n=a.pop();(n.d>p.d||!p.d)&&(p=n,r&&console.log("found best %d after %d probes",Math.round(1e4*n.d)/1e4,f)),n.max-p.d<=e||(s=n.h/2,a.push(new Jh(n.p.x-s,n.p.y-s,s,t)),a.push(new Jh(n.p.x+s,n.p.y-s,s,t)),a.push(new Jh(n.p.x-s,n.p.y+s,s,t)),a.push(new Jh(n.p.x+s,n.p.y+s,s,t)),f+=4);}return r&&(console.log(`num probes: ${f}`),console.log(`best distance: ${p.d}`)),p.p}function Kh(t,e){return e.max-t.max}function Jh(t,e,r,n){this.p=new l(t,e),this.h=r,this.d=function(t,e){let r=!1,n=1/0;for(let i=0;i<e.length;i++){const s=e[i];for(let e=0,i=s.length,a=i-1;e<i;a=e++){const i=s[e],o=s[a];i.y>t.y!=o.y>t.y&&t.x<(o.x-i.x)*(t.y-i.y)/(o.y-i.y)+i.x&&(r=!r),n=Math.min(n,Ro(t,i,o));}}return (r?1:-1)*Math.sqrt(n)}(this.p,n),this.max=this.d+this.h*Math.SQRT2;}var Wh;t.aD=void 0,(Wh=t.aD||(t.aD={}))[Wh.center=1]="center",Wh[Wh.left=2]="left",Wh[Wh.right=3]="right",Wh[Wh.top=4]="top",Wh[Wh.bottom=5]="bottom",Wh[Wh["top-left"]=6]="top-left",Wh[Wh["top-right"]=7]="top-right",Wh[Wh["bottom-left"]=8]="bottom-left",Wh[Wh["bottom-right"]=9]="bottom-right";const Qh=Number.POSITIVE_INFINITY;function tp(t,e){return e[1]!==Qh?function(t,e,r){let n=0,i=0;switch(e=Math.abs(e),r=Math.abs(r),t){case "top-right":case "top-left":case "top":i=r-7;break;case "bottom-right":case "bottom-left":case "bottom":i=7-r;}switch(t){case "top-right":case "bottom-right":case "right":n=-e;break;case "top-left":case "bottom-left":case "left":n=e;}return [n,i]}(t,e[0],e[1]):function(t,e){let r=0,n=0;e<0&&(e=0);const i=e/Math.SQRT2;switch(t){case "top-right":case "top-left":n=i-7;break;case "bottom-right":case "bottom-left":n=7-i;break;case "bottom":n=7-e;break;case "top":n=e-7;}switch(t){case "top-right":case "bottom-right":r=-i;break;case "top-left":case "bottom-left":r=i;break;case "left":r=e;break;case "right":r=-e;}return [r,n]}(t,e[0])}function ep(t,e,r){var n;const i=t.layout,s=null===(n=i.get("text-variable-anchor-offset"))||void 0===n?void 0:n.evaluate(e,{},r);if(s){const t=s.values,e=[];for(let r=0;r<t.length;r+=2){const n=e[r]=t[r],i=t[r+1].map((t=>t*ac));n.startsWith("top")?i[1]-=7:n.startsWith("bottom")&&(i[1]+=7),e[r+1]=i;}return new Oe(e)}const a=i.get("text-variable-anchor");if(a){let n;n=void 0!==t._unevaluatedLayout.getValue("text-radial-offset")?[i.get("text-radial-offset").evaluate(e,{},r)*ac,Qh]:i.get("text-offset").evaluate(e,{},r).map((t=>t*ac));const s=[];for(const t of a)s.push(t,tp(t,n));return new Oe(s)}return null}function rp(t){switch(t){case "right":case "top-right":case "bottom-right":return "right";case "left":case "top-left":case "bottom-left":return "left"}return "center"}function np(e,r,n,i,s,a,o,l,u,c,h,p){let f=a.textMaxSize.evaluate(r,{});void 0===f&&(f=o);const d=e.layers[0].layout,y=d.get("icon-offset").evaluate(r,{},h),m=sp(n.horizontal),g=o/24,x=e.tilePixelRatio*g,v=e.tilePixelRatio*f/24,b=e.tilePixelRatio*l,w=e.tilePixelRatio*d.get("symbol-spacing"),_=d.get("text-padding")*e.tilePixelRatio,S=function(t,e,r,n=1){const i=t.get("icon-padding").evaluate(e,{},r),s=i&&i.values;return [s[0]*n,s[1]*n,s[2]*n,s[3]*n]}(d,r,h,e.tilePixelRatio),A=d.get("text-max-angle")/180*Math.PI,k="viewport"!==d.get("text-rotation-alignment")&&"point"!==d.get("symbol-placement"),M="map"===d.get("icon-rotation-alignment")&&"point"!==d.get("symbol-placement"),I=d.get("symbol-placement"),z=w/2,P=d.get("icon-text-fit");let C;i&&"none"!==P&&(e.allowVerticalPlacement&&n.vertical&&(C=Oc(i,n.vertical,P,d.get("icon-text-fit-padding"),y,g)),m&&(i=Oc(i,m,P,d.get("icon-text-fit-padding"),y,g)));const B=h?p.line.getGranularityForZoomLevel(h.z):1,T=(l,p)=>{p.x<0||p.x>=E||p.y<0||p.y>=E||function(e,r,n,i,s,a,o,l,u,c,h,p,f,d,y,m,g,x,v,b,w,_,S,A,k){const M=e.addToLineVertexArray(r,n);let I,z,P,C,B=0,E=0,T=0,V=0,F=-1,L=-1;const $={};let D=so("");if(e.allowVerticalPlacement&&i.vertical){const t=l.layout.get("text-rotate").evaluate(w,{},A)+90;P=new Zh(u,r,c,h,p,i.vertical,f,d,y,t),o&&(C=new Zh(u,r,c,h,p,o,g,x,y,t));}if(s){const n=l.layout.get("icon-rotate").evaluate(w,{}),i="none"!==l.layout.get("icon-text-fit"),a=Nh(s,n,S,i),f=o?Nh(o,n,S,i):void 0;z=new Zh(u,r,c,h,p,s,g,x,!1,n),B=4*a.length;const d=e.iconSizeData;let y=null;"source"===d.kind?(y=[Rc*l.layout.get("icon-size").evaluate(w,{})],y[0]>jc&&Z(`${e.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):"composite"===d.kind&&(y=[Rc*_.compositeIconSizes[0].evaluate(w,{},A),Rc*_.compositeIconSizes[1].evaluate(w,{},A)],(y[0]>jc||y[1]>jc)&&Z(`${e.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),e.addSymbols(e.icon,a,y,b,v,w,t.an.none,r,M.lineStartIndex,M.lineLength,-1,A),F=e.icon.placedSymbolArray.length-1,f&&(E=4*f.length,e.addSymbols(e.icon,f,y,b,v,w,t.an.vertical,r,M.lineStartIndex,M.lineLength,-1,A),L=e.icon.placedSymbolArray.length-1);}const O=Object.keys(i.horizontal);for(const n of O){const s=i.horizontal[n];if(!I){D=so(s.text);const t=l.layout.get("text-rotate").evaluate(w,{},A);I=new Zh(u,r,c,h,p,s,f,d,y,t);}const o=1===s.positionedLines.length;if(T+=ip(e,r,s,a,l,y,w,m,M,i.vertical?t.an.horizontal:t.an.horizontalOnly,o?O:[n],$,F,_,A),o)break}i.vertical&&(V+=ip(e,r,i.vertical,a,l,y,w,m,M,t.an.vertical,["vertical"],$,L,_,A));const R=I?I.boxStartIndex:e.collisionBoxArray.length,j=I?I.boxEndIndex:e.collisionBoxArray.length,N=P?P.boxStartIndex:e.collisionBoxArray.length,U=P?P.boxEndIndex:e.collisionBoxArray.length,q=z?z.boxStartIndex:e.collisionBoxArray.length,G=z?z.boxEndIndex:e.collisionBoxArray.length,X=C?C.boxStartIndex:e.collisionBoxArray.length,Y=C?C.boxEndIndex:e.collisionBoxArray.length;let H=-1;const K=(t,e)=>t&&t.circleDiameter?Math.max(t.circleDiameter,e):e;H=K(I,H),H=K(P,H),H=K(z,H),H=K(C,H);const J=H>-1?1:0;J&&(H*=k/ac),e.glyphOffsetArray.length>=Jc.MAX_GLYPHS&&Z("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==w.sortKey&&e.addToSortKeyRanges(e.symbolInstances.length,w.sortKey);const W=ep(l,w,A),[Q,tt]=function(e,r){const n=e.length,i=null==r?void 0:r.values;if((null==i?void 0:i.length)>0)for(let r=0;r<i.length;r+=2){const n=i[r+1];e.emplaceBack(t.aD[i[r]],n[0],n[1]);}return [n,e.length]}(e.textAnchorOffsets,W);e.symbolInstances.emplaceBack(r.x,r.y,$.right>=0?$.right:-1,$.center>=0?$.center:-1,$.left>=0?$.left:-1,$.vertical||-1,F,L,D,R,j,N,U,q,G,X,Y,c,T,V,B,E,J,0,f,H,Q,tt);}(e,p,l,n,i,s,C,e.layers[0],e.collisionBoxArray,r.index,r.sourceLayerIndex,e.index,x,[_,_,_,_],k,u,b,S,M,y,r,a,c,h,o);};if("line"===I)for(const t of Th(r.geometry,0,0,E,E)){const r=Ql(t,B),s=Rh(r,w,A,n.vertical||m,i,24,v,e.overscaling,E);for(const t of s)m&&ap(e,m.text,z,t)||T(r,t);}else if("line-center"===I){for(const t of r.geometry)if(t.length>1){const e=Ql(t,B),r=Oh(e,A,n.vertical||m,i,24,v);r&&T(e,r);}}else if("Polygon"===r.type)for(const t of rn(r.geometry,0)){const e=Hh(t,16);T(Ql(t[0],B,!0),new Vh(e.x,e.y,0));}else if("LineString"===r.type)for(const t of r.geometry){const e=Ql(t,B);T(e,new Vh(e[0].x,e[0].y,0));}else if("Point"===r.type)for(const t of r.geometry)for(const e of t)T([e],new Vh(e.x,e.y,0));}function ip(t,e,r,n,i,s,a,o,u,c,h,p,f,d,y){const m=function(t,e,r,n,i,s,a,o){const u=n.layout.get("text-rotate").evaluate(s,{})*Math.PI/180,c=[];for(const t of e.positionedLines)for(const n of t.positionedGlyphs){if(!n.rect)continue;const s=n.rect||{};let h=4,p=!0,f=1,d=0;const y=(i||o)&&n.vertical,m=n.metrics.advance*n.scale/2;if(o&&e.verticalizable&&(d=t.lineOffset/2-(n.imageName?-(ac-n.metrics.width*n.scale)/2:(n.scale-1)*ac)),n.imageName){const t=a[n.imageName];p=t.sdf,f=t.pixelRatio,h=1/f;}const g=i?[n.x+m,n.y]:[0,0];let x=i?[0,0]:[n.x+m+r[0],n.y+r[1]-d],v=[0,0];y&&(v=x,x=[0,0]);const b=n.metrics.isDoubleResolution?2:1,w=(n.metrics.left-h)*n.scale-m+x[0],_=(-n.metrics.top-h)*n.scale+x[1],S=w+s.w/b*n.scale/f,A=_+s.h/b*n.scale/f,k=new l(w,_),M=new l(S,_),I=new l(w,A),z=new l(S,A);if(y){const t=new l(-m,m- -17),e=-Math.PI/2,r=12-m,i=new l(22-r,-(n.imageName?r:0)),s=new l(...v);k._rotateAround(e,t)._add(i)._add(s),M._rotateAround(e,t)._add(i)._add(s),I._rotateAround(e,t)._add(i)._add(s),z._rotateAround(e,t)._add(i)._add(s);}if(u){const t=Math.sin(u),e=Math.cos(u),r=[e,-t,t,e];k._matMult(r),M._matMult(r),I._matMult(r),z._matMult(r);}const P=new l(0,0),C=new l(0,0);c.push({tl:k,tr:M,bl:I,br:z,tex:s,writingMode:e.writingMode,glyphOffset:g,sectionIndex:n.sectionIndex,isSDF:p,pixelOffsetTL:P,pixelOffsetBR:C,minFontScaleX:0,minFontScaleY:0});}return c}(0,r,o,i,s,a,n,t.allowVerticalPlacement),g=t.textSizeData;let x=null;"source"===g.kind?(x=[Rc*i.layout.get("text-size").evaluate(a,{})],x[0]>jc&&Z(`${t.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):"composite"===g.kind&&(x=[Rc*d.compositeTextSizes[0].evaluate(a,{},y),Rc*d.compositeTextSizes[1].evaluate(a,{},y)],(x[0]>jc||x[1]>jc)&&Z(`${t.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),t.addSymbols(t.text,m,x,o,s,a,c,e,u.lineStartIndex,u.lineLength,f,y);for(const e of h)p[e]=t.text.placedSymbolArray.length-1;return 4*m.length}function sp(t){for(const e in t)return t[e];return null}function ap(t,e,r,n){const i=t.compareText;if(e in i){const t=i[e];for(let e=t.length-1;e>=0;e--)if(n.dist(t[e])<r)return !0}else i[e]=[];return i[e].push(n),!1}const op=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class lp{static from(t){if(!(t instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[e,r]=new Uint8Array(t,0,2);if(219!==e)throw new Error("Data does not appear to be in a KDBush format.");const n=r>>4;if(1!==n)throw new Error(`Got v${n} data when expected v1.`);const i=op[15&r];if(!i)throw new Error("Unrecognized array type.");const[s]=new Uint16Array(t,2,1),[a]=new Uint32Array(t,4,1);return new lp(a,s,i,t)}constructor(t,e=64,r=Float64Array,n){if(isNaN(t)||t<0)throw new Error(`Unpexpected numItems value: ${t}.`);this.numItems=+t,this.nodeSize=Math.min(Math.max(+e,2),65535),this.ArrayType=r,this.IndexArrayType=t<65536?Uint16Array:Uint32Array;const i=op.indexOf(this.ArrayType),s=2*t*this.ArrayType.BYTES_PER_ELEMENT,a=t*this.IndexArrayType.BYTES_PER_ELEMENT,o=(8-a%8)%8;if(i<0)throw new Error(`Unexpected typed array class: ${r}.`);n&&n instanceof ArrayBuffer?(this.data=n,this.ids=new this.IndexArrayType(this.data,8,t),this.coords=new this.ArrayType(this.data,8+a+o,2*t),this._pos=2*t,this._finished=!0):(this.data=new ArrayBuffer(8+s+a+o),this.ids=new this.IndexArrayType(this.data,8,t),this.coords=new this.ArrayType(this.data,8+a+o,2*t),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+i]),new Uint16Array(this.data,2,1)[0]=e,new Uint32Array(this.data,4,1)[0]=t);}add(t,e){const r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=t,this.coords[this._pos++]=e,r}finish(){const t=this._pos>>1;if(t!==this.numItems)throw new Error(`Added ${t} items when expected ${this.numItems}.`);return up(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(t,e,r,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:i,coords:s,nodeSize:a}=this,o=[0,i.length-1,0],l=[];for(;o.length;){const u=o.pop()||0,c=o.pop()||0,h=o.pop()||0;if(c-h<=a){for(let a=h;a<=c;a++){const o=s[2*a],u=s[2*a+1];o>=t&&o<=r&&u>=e&&u<=n&&l.push(i[a]);}continue}const p=h+c>>1,f=s[2*p],d=s[2*p+1];f>=t&&f<=r&&d>=e&&d<=n&&l.push(i[p]),(0===u?t<=f:e<=d)&&(o.push(h),o.push(p-1),o.push(1-u)),(0===u?r>=f:n>=d)&&(o.push(p+1),o.push(c),o.push(1-u));}return l}within(t,e,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:n,coords:i,nodeSize:s}=this,a=[0,n.length-1,0],o=[],l=r*r;for(;a.length;){const u=a.pop()||0,c=a.pop()||0,h=a.pop()||0;if(c-h<=s){for(let r=h;r<=c;r++)fp(i[2*r],i[2*r+1],t,e)<=l&&o.push(n[r]);continue}const p=h+c>>1,f=i[2*p],d=i[2*p+1];fp(f,d,t,e)<=l&&o.push(n[p]),(0===u?t-r<=f:e-r<=d)&&(a.push(h),a.push(p-1),a.push(1-u)),(0===u?t+r>=f:e+r>=d)&&(a.push(p+1),a.push(c),a.push(1-u));}return o}}function up(t,e,r,n,i,s){if(i-n<=r)return;const a=n+i>>1;cp(t,e,a,n,i,s),up(t,e,r,n,a-1,1-s),up(t,e,r,a+1,i,1-s);}function cp(t,e,r,n,i,s){for(;i>n;){if(i-n>600){const a=i-n+1,o=r-n+1,l=Math.log(a),u=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*u*(a-u)/a)*(o-a/2<0?-1:1);cp(t,e,r,Math.max(n,Math.floor(r-o*u/a+c)),Math.min(i,Math.floor(r+(a-o)*u/a+c)),s);}const a=e[2*r+s];let o=n,l=i;for(hp(t,e,n,r),e[2*i+s]>a&&hp(t,e,n,i);o<l;){for(hp(t,e,o,l),o++,l--;e[2*o+s]<a;)o++;for(;e[2*l+s]>a;)l--;}e[2*n+s]===a?hp(t,e,n,l):(l++,hp(t,e,l,i)),l<=r&&(n=l+1),r<=l&&(i=l-1);}}function hp(t,e,r,n){pp(t,r,n),pp(e,2*r,2*n),pp(e,2*r+1,2*n+1);}function pp(t,e,r){const n=t[e];t[e]=t[r],t[r]=n;}function fp(t,e,r,n){const i=t-r,s=e-n;return i*i+s*s}var dp;t.cw=void 0,(dp=t.cw||(t.cw={})).create="create",dp.load="load",dp.fullLoad="fullLoad";let yp=null,mp=[];const gp=1e3/60,xp="loadTime",vp="fullLoadTime",bp={mark(t){performance.mark(t);},frame(t){const e=t;null!=yp&&mp.push(e-yp),yp=e;},clearMetrics(){yp=null,mp=[],performance.clearMeasures(xp),performance.clearMeasures(vp);for(const e in t.cw)performance.clearMarks(t.cw[e]);},getPerformanceMetrics(){performance.measure(xp,t.cw.create,t.cw.load),performance.measure(vp,t.cw.create,t.cw.fullLoad);const e=performance.getEntriesByName(xp)[0].duration,r=performance.getEntriesByName(vp)[0].duration,n=mp.length,i=1/(mp.reduce(((t,e)=>t+e),0)/n/1e3),s=mp.filter((t=>t>gp)).reduce(((t,e)=>t+(e-gp)/gp),0);return {loadTime:e,fullLoadTime:r,fps:i,percentDroppedFrames:s/(n+s)*100,totalFrames:n}}};t.$=E,t.A=m,t.B=function([t,e,r]){return e+=90,e*=Math.PI/180,r*=Math.PI/180,{x:t*Math.cos(e)*Math.sin(r),y:t*Math.sin(e)*Math.sin(r),z:t*Math.cos(r)}},t.C=gr,t.D=Os,t.E=bt,t.F=Cs,t.G=ns,t.H=function(t){if(null==K){const e=t.navigator?t.navigator.userAgent:null;K=!!t.safari||!(!e||!(/\b(iPad|iPhone|iPod)\b/.test(e)||e.match("Safari")&&!e.match("Chrome")));}return K},t.I=mc,t.J=class{constructor(t,e){this.target=t,this.mapId=e,this.resolveRejects={},this.tasks={},this.taskQueue=[],this.abortControllers={},this.messageHandlers={},this.invoker=new ch((()=>this.process())),this.subscription=rt(this.target,"message",(t=>this.receive(t)),!1),this.globalScope=H(self)?t:window;}registerMessageHandler(t,e){this.messageHandlers[t]=e;}sendAsync(t,e){return new Promise(((r,n)=>{const i=Math.round(1e18*Math.random()).toString(36).substring(0,10),s=e?rt(e.signal,"abort",(()=>{null==s||s.unsubscribe(),delete this.resolveRejects[i];const e={id:i,type:"<cancel>",origin:location.origin,targetMapId:t.targetMapId,sourceMapId:this.mapId};this.target.postMessage(e);}),hh):null;this.resolveRejects[i]={resolve:t=>{null==s||s.unsubscribe(),r(t);},reject:t=>{null==s||s.unsubscribe(),n(t);}};const a=[],o=Object.assign(Object.assign({},t),{id:i,sourceMapId:this.mapId,origin:location.origin,data:fs(t.data,a)});this.target.postMessage(o,{transfer:a});}))}receive(t){const e=t.data,r=e.id;if(!("file://"!==e.origin&&"file://"!==location.origin&&"resource://android"!==e.origin&&"resource://android"!==location.origin&&e.origin!==location.origin||e.targetMapId&&this.mapId!==e.targetMapId)){if("<cancel>"===e.type){delete this.tasks[r];const t=this.abortControllers[r];return delete this.abortControllers[r],void(t&&t.abort())}if(H(self)||e.mustQueue)return this.tasks[r]=e,this.taskQueue.push(r),void this.invoker.trigger();this.processTask(r,e);}}process(){if(0===this.taskQueue.length)return;const t=this.taskQueue.shift(),e=this.tasks[t];delete this.tasks[t],this.taskQueue.length>0&&this.invoker.trigger(),e&&this.processTask(t,e);}processTask(t,r){return e(this,void 0,void 0,(function*(){if("<response>"===r.type){const e=this.resolveRejects[t];if(delete this.resolveRejects[t],!e)return;return void(r.error?e.reject(ds(r.error)):e.resolve(ds(r.data)))}if(!this.messageHandlers[r.type])return void this.completeTask(t,new Error(`Could not find a registered handler for ${r.type}, map ID: ${this.mapId}, available handlers: ${Object.keys(this.messageHandlers).join(", ")}`));const e=ds(r.data),n=new AbortController;this.abortControllers[t]=n;try{const i=yield this.messageHandlers[r.type](r.sourceMapId,e,n);this.completeTask(t,null,i);}catch(e){this.completeTask(t,e);}}))}completeTask(t,e,r){const n=[];delete this.abortControllers[t];const i={id:t,type:"<response>",sourceMapId:this.mapId,origin:location.origin,error:e?fs(e):null,data:fs(r,n)};this.target.postMessage(i,{transfer:n});}remove(){this.invoker.remove(),this.subscription.unsubscribe();}},t.K=ht,t.L=function(){var t=new m(16);return m!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t},t.M=function(t,e,r){var n,i,s,a,o,l,u,c,h,p,f,d,y=r[0],m=r[1],g=r[2];return e===t?(t[12]=e[0]*y+e[4]*m+e[8]*g+e[12],t[13]=e[1]*y+e[5]*m+e[9]*g+e[13],t[14]=e[2]*y+e[6]*m+e[10]*g+e[14],t[15]=e[3]*y+e[7]*m+e[11]*g+e[15]):(i=e[1],s=e[2],a=e[3],o=e[4],l=e[5],u=e[6],c=e[7],h=e[8],p=e[9],f=e[10],d=e[11],t[0]=n=e[0],t[1]=i,t[2]=s,t[3]=a,t[4]=o,t[5]=l,t[6]=u,t[7]=c,t[8]=h,t[9]=p,t[10]=f,t[11]=d,t[12]=n*y+o*m+h*g+e[12],t[13]=i*y+l*m+p*g+e[13],t[14]=s*y+u*m+f*g+e[14],t[15]=a*y+c*m+d*g+e[15]),t},t.N=function(t,e,r){var n=r[0],i=r[1],s=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*s,t[9]=e[9]*s,t[10]=e[10]*s,t[11]=e[11]*s,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},t.O=function(t,e,r){var n=e[0],i=e[1],s=e[2],a=e[3],o=e[4],l=e[5],u=e[6],c=e[7],h=e[8],p=e[9],f=e[10],d=e[11],y=e[12],m=e[13],g=e[14],x=e[15],v=r[0],b=r[1],w=r[2],_=r[3];return t[0]=v*n+b*o+w*h+_*y,t[1]=v*i+b*l+w*p+_*m,t[2]=v*s+b*u+w*f+_*g,t[3]=v*a+b*c+w*d+_*x,t[4]=(v=r[4])*n+(b=r[5])*o+(w=r[6])*h+(_=r[7])*y,t[5]=v*i+b*l+w*p+_*m,t[6]=v*s+b*u+w*f+_*g,t[7]=v*a+b*c+w*d+_*x,t[8]=(v=r[8])*n+(b=r[9])*o+(w=r[10])*h+(_=r[11])*y,t[9]=v*i+b*l+w*p+_*m,t[10]=v*s+b*u+w*f+_*g,t[11]=v*a+b*c+w*d+_*x,t[12]=(v=r[12])*n+(b=r[13])*o+(w=r[14])*h+(_=r[15])*y,t[13]=v*i+b*l+w*p+_*m,t[14]=v*s+b*u+w*f+_*g,t[15]=v*a+b*c+w*d+_*x,t},t.P=l,t.Q=function(t,e){const r={};for(let n=0;n<e.length;n++){const i=e[n];i in t&&(r[i]=t[i]);}return r},t.R=sl,t.S=fh,t.T=dl,t.U=gh,t.V=mh,t.W=f,t.X=d,t.Y=Q,t.Z=kh,t._=e,t.a=ut,t.a$=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t},t.a0=wh,t.a1=Ih,t.a2=25,t.a3=Sh,t.a4=t=>{const e=window.document.createElement("video");return e.muted=!0,new Promise((r=>{e.onloadstart=()=>{r(e);};for(const r of t){const t=window.document.createElement("source");yt(r)||(e.crossOrigin="Anonymous"),t.src=r,e.appendChild(t);}}))},t.a5=Tt,t.a6=function(){return N++},t.a7=_a,t.a8=Jc,t.a9=di,t.aA=ac,t.aB=T,t.aC=function(t,e,r,n,i=!1){if(!r[0]&&!r[1])return [0,0];const s=i?"map"===n?-t.bearingInRadians:0:"viewport"===n?t.bearingInRadians:0;if(s){const t=Math.sin(s),e=Math.cos(s);r=[r[0]*e-r[1]*t,r[0]*t+r[1]*e];}return [i?r[0]:T(e,r[0],t.zoom),i?r[1]:T(e,r[1],t.zoom)]},t.aE=Uc,t.aF=rp,t.aG=Cc,t.aH=lp,t.aI=Ks,t.aJ=Yl,t.aK=Ta,t.aL=Ha,t.aM=Ga,t.aN=R,t.aO=it,t.aP=bh,t.aQ=S,t.aR=_,t.aS=function(t){var e=new m(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},t.aT=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t},t.aU=function(t,e){var r=e[0],n=e[1],i=e[2],s=r*r+n*n+i*i;return s>0&&(s=1/Math.sqrt(s)),t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t},t.aV=A,t.aW=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},t.aX=function(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t[3]=e[3]*r[3],t},t.aY=b,t.aZ=function(t,e,r){const n=e[0]*r[0]+e[1]*r[1]+e[2]*r[2];return 0===n?null:(-(t[0]*r[0]+t[1]*r[1]+t[2]*r[2])-r[3])/n},t.a_=M,t.aa=Po,t.ab=Ph,t.ac=function(t){const e={};if(t.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,((t,r,n,i)=>{const s=n||i;return e[r]=!s||s.toLowerCase(),""})),e["max-age"]){const t=parseInt(e["max-age"],10);isNaN(t)?delete e["max-age"]:e["max-age"]=t;}return e},t.ad=nt,t.ae=function(t){return Math.pow(2,t)},t.af=x,t.ag=O,t.ah=85.051129,t.ai=xh,t.aj=function(t){return Math.log(t)/Math.LN2},t.ak=function(t){var e=t[0],r=t[1];return e*e+r*r},t.al=function(t,e){const r=[];for(const n in t)n in e||r.push(n);return r},t.am=function(t,e){let r=0,n=0;if("constant"===t.kind)n=t.layoutSize;else if("source"!==t.kind){const{interpolationType:i,minZoom:s,maxZoom:a}=t,o=i?O(yr.interpolationFactor(i,e,s,a),0,1):0;"camera"===t.kind?n=gr.number(t.minSize,t.maxSize,o):r=o;}return {uSizeT:r,uSize:n}},t.ao=function(t,{uSize:e,uSizeT:r},{lowerSize:n,upperSize:i}){return "source"===t.kind?n/Rc:"composite"===t.kind?gr.number(n/Rc,i/Rc,r):e},t.ap=function(t,e){var r=e[0],n=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],u=e[7],c=e[8],h=e[9],p=e[10],f=e[11],d=e[12],y=e[13],m=e[14],g=e[15],x=r*o-n*a,v=r*l-i*a,b=r*u-s*a,w=n*l-i*o,_=n*u-s*o,S=i*u-s*l,A=c*y-h*d,k=c*m-p*d,M=c*g-f*d,I=h*m-p*y,z=h*g-f*y,P=p*g-f*m,C=x*P-v*z+b*I+w*M-_*k+S*A;return C?(t[0]=(o*P-l*z+u*I)*(C=1/C),t[1]=(i*z-n*P-s*I)*C,t[2]=(y*S-m*_+g*w)*C,t[3]=(p*_-h*S-f*w)*C,t[4]=(l*M-a*P-u*k)*C,t[5]=(r*P-i*M+s*k)*C,t[6]=(m*b-d*S-g*v)*C,t[7]=(c*S-p*b+f*v)*C,t[8]=(a*z-o*M+u*A)*C,t[9]=(n*M-r*z-s*A)*C,t[10]=(d*_-y*b+g*x)*C,t[11]=(h*b-c*_-f*x)*C,t[12]=(o*k-a*I-l*A)*C,t[13]=(r*I-n*k+i*A)*C,t[14]=(y*v-d*w-m*x)*C,t[15]=(c*w-h*v+p*x)*C,t):null},t.aq=C,t.ar=function(t){return Math.hypot(t[0],t[1])},t.as=function(t){return t[0]=0,t[1]=0,t},t.at=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t},t.au=Zc,t.av=I,t.aw=function(t,e,r,n){const i=e.y-t.y,s=e.x-t.x,a=n.y-r.y,o=n.x-r.x,u=a*s-o*i;if(0===u)return null;const c=(o*(t.y-r.y)-a*(t.x-r.x))/u;return new l(t.x+c*s,t.y+c*i)},t.ax=Th,t.ay=To,t.az=function(t){let e=1/0,r=1/0,n=-1/0,i=-1/0;for(const s of t)e=Math.min(e,s.x),r=Math.min(r,s.y),n=Math.max(n,s.x),i=Math.max(i,s.y);return [e,r,n,i]},t.b=J,t.b$=tc,t.b0=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]},t.b1=Ah,t.b2=Mh,t.b3=function(t,e,r,n,i){var s,a=1/Math.tan(e/2);return t[0]=a/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(t[10]=(i+n)*(s=1/(n-i)),t[14]=2*i*n*s):(t[10]=-1,t[14]=-2*n),t},t.b4=function(t){var e=new m(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},t.b5=function(t,e,r){var n=Math.sin(r),i=Math.cos(r),s=e[0],a=e[1],o=e[2],l=e[3],u=e[4],c=e[5],h=e[6],p=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=s*i+u*n,t[1]=a*i+c*n,t[2]=o*i+h*n,t[3]=l*i+p*n,t[4]=u*i-s*n,t[5]=c*i-a*n,t[6]=h*i-o*n,t[7]=p*i-l*n,t},t.b6=function(t,e,r){var n=Math.sin(r),i=Math.cos(r),s=e[4],a=e[5],o=e[6],l=e[7],u=e[8],c=e[9],h=e[10],p=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=s*i+u*n,t[5]=a*i+c*n,t[6]=o*i+h*n,t[7]=l*i+p*n,t[8]=u*i-s*n,t[9]=c*i-a*n,t[10]=h*i-o*n,t[11]=p*i-l*n,t},t.b7=function(){const t=new Float32Array(16);return x(t),t},t.b8=function(){const t=new Float64Array(16);return x(t),t},t.b9=function(){return new Float64Array(16)},t.bA=function(t){return t[0]=0,t[1]=0,t[2]=0,t},t.bB=function(t,e,r,n){const i=Math.sqrt(t*t+e*e),s=Math.sqrt(r*r+n*n);t/=i,e/=i,r/=s,n/=s;const a=Math.acos(t*r+e*n);return -e*r+t*n>0?a:-a},t.bC=function(t,e){const r=V(t,2*Math.PI),n=V(e,2*Math.PI);return Math.min(Math.abs(r-n),Math.abs(r-n+2*Math.PI),Math.abs(r-n-2*Math.PI))},t.bD=function(){const t={},e=wt.$version;for(const r in wt.$root){const n=wt.$root[r];if(n.required){let i=null;i="version"===r?e:"array"===n.type?[]:{},null!=i&&(t[r]=i);}}return t},t.bE=ys,t.bF=ft,t.bG=function t(e,r){if(Array.isArray(e)){if(!Array.isArray(r)||e.length!==r.length)return !1;for(let n=0;n<e.length;n++)if(!t(e[n],r[n]))return !1;return !0}if("object"==typeof e&&null!==e&&null!==r){if("object"!=typeof r)return !1;if(Object.keys(e).length!==Object.keys(r).length)return !1;for(const n in e)if(!t(e[n],r[n]))return !1;return !0}return e===r},t.bH=function(t){t=t.slice();const e=Object.create(null);for(let r=0;r<t.length;r++)e[t[r].id]=t[r];for(let r=0;r<t.length;r++)"ref"in t[r]&&(t[r]=St(t[r],e[t[r].ref]));return t},t.bI=function(t){if("custom"===t.type)return new uh(t);switch(t.type){case "background":return new sh(t);case "circle":return new Ko(t);case "color-relief":return new gl(t);case "fill":return new ou(t);case "fill-extrusion":return new Eu(t);case "heatmap":return new ll(t);case "hillshade":return new hl(t);case "line":return new Yu(t);case "raster":return new lh(t);case "symbol":return new rh(t)}},t.bJ=G,t.bK=function(t,e){if(!t)return [{command:"setStyle",args:[e]}];let r=[];try{if(!At(t.version,e.version))return [{command:"setStyle",args:[e]}];At(t.center,e.center)||r.push({command:"setCenter",args:[e.center]}),At(t.state,e.state)||r.push({command:"setGlobalState",args:[e.state]}),At(t.centerAltitude,e.centerAltitude)||r.push({command:"setCenterAltitude",args:[e.centerAltitude]}),At(t.zoom,e.zoom)||r.push({command:"setZoom",args:[e.zoom]}),At(t.bearing,e.bearing)||r.push({command:"setBearing",args:[e.bearing]}),At(t.pitch,e.pitch)||r.push({command:"setPitch",args:[e.pitch]}),At(t.roll,e.roll)||r.push({command:"setRoll",args:[e.roll]}),At(t.sprite,e.sprite)||r.push({command:"setSprite",args:[e.sprite]}),At(t.glyphs,e.glyphs)||r.push({command:"setGlyphs",args:[e.glyphs]}),At(t.transition,e.transition)||r.push({command:"setTransition",args:[e.transition]}),At(t.light,e.light)||r.push({command:"setLight",args:[e.light]}),At(t.terrain,e.terrain)||r.push({command:"setTerrain",args:[e.terrain]}),At(t.sky,e.sky)||r.push({command:"setSky",args:[e.sky]}),At(t.projection,e.projection)||r.push({command:"setProjection",args:[e.projection]});const n={},i=[];!function(t,e,r,n){let i;for(i in e=e||{},t=t||{})Object.prototype.hasOwnProperty.call(t,i)&&(Object.prototype.hasOwnProperty.call(e,i)||It(i,r,n));for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(Object.prototype.hasOwnProperty.call(t,i)?At(t[i],e[i])||("geojson"===t[i].type&&"geojson"===e[i].type&&Pt(t,e,i)?kt(r,{command:"setGeoJSONSourceData",args:[i,e[i].data]}):zt(i,e,r,n)):Mt(i,e,r));}(t.sources,e.sources,i,n);const s=[];t.layers&&t.layers.forEach((t=>{"source"in t&&n[t.source]?r.push({command:"removeLayer",args:[t.id]}):s.push(t);})),r=r.concat(i),function(t,e,r){e=e||[];const n=(t=t||[]).map(Bt),i=e.map(Bt),s=t.reduce(Et,{}),a=e.reduce(Et,{}),o=n.slice(),l=Object.create(null);let u,c,h,p,f;for(let t=0,e=0;t<n.length;t++)u=n[t],Object.prototype.hasOwnProperty.call(a,u)?e++:(kt(r,{command:"removeLayer",args:[u]}),o.splice(o.indexOf(u,e),1));for(let t=0,e=0;t<i.length;t++)u=i[i.length-1-t],o[o.length-1-t]!==u&&(Object.prototype.hasOwnProperty.call(s,u)?(kt(r,{command:"removeLayer",args:[u]}),o.splice(o.lastIndexOf(u,o.length-e),1)):e++,p=o[o.length-t],kt(r,{command:"addLayer",args:[a[u],p]}),o.splice(o.length-t,0,u),l[u]=!0);for(let t=0;t<i.length;t++)if(u=i[t],c=s[u],h=a[u],!l[u]&&!At(c,h))if(At(c.source,h.source)&&At(c["source-layer"],h["source-layer"])&&At(c.type,h.type)){for(f in Ct(c.layout,h.layout,r,u,null,"setLayoutProperty"),Ct(c.paint,h.paint,r,u,null,"setPaintProperty"),At(c.filter,h.filter)||kt(r,{command:"setFilter",args:[u,h.filter]}),At(c.minzoom,h.minzoom)&&At(c.maxzoom,h.maxzoom)||kt(r,{command:"setLayerZoomRange",args:[u,h.minzoom,h.maxzoom]}),c)Object.prototype.hasOwnProperty.call(c,f)&&"layout"!==f&&"paint"!==f&&"filter"!==f&&"metadata"!==f&&"minzoom"!==f&&"maxzoom"!==f&&(0===f.indexOf("paint.")?Ct(c[f],h[f],r,u,f.slice(6),"setPaintProperty"):At(c[f],h[f])||kt(r,{command:"setLayerProperty",args:[u,f,h[f]]}));for(f in h)Object.prototype.hasOwnProperty.call(h,f)&&!Object.prototype.hasOwnProperty.call(c,f)&&"layout"!==f&&"paint"!==f&&"filter"!==f&&"metadata"!==f&&"minzoom"!==f&&"maxzoom"!==f&&(0===f.indexOf("paint.")?Ct(c[f],h[f],r,u,f.slice(6),"setPaintProperty"):At(c[f],h[f])||kt(r,{command:"setLayerProperty",args:[u,f,h[f]]}));}else kt(r,{command:"removeLayer",args:[u]}),p=o[o.lastIndexOf(u)+1],kt(r,{command:"addLayer",args:[h,p]});}(s,e.layers,r);}catch(t){console.warn("Unable to compute style diff:",t),r=[{command:"setStyle",args:[e]}];}return r},t.bL=function(t){const e=[],r=t.id;return void 0===r&&e.push({message:`layers.${r}: missing required property "id"`}),void 0===t.render&&e.push({message:`layers.${r}: missing required method "render"`}),t.renderingMode&&"2d"!==t.renderingMode&&"3d"!==t.renderingMode&&e.push({message:`layers.${r}: property "renderingMode" must be either "2d" or "3d"`}),e},t.bM=U,t.bN=q,t.bO=class extends co{constructor(t,e){super(t,e),this.current=0;}set(t){this.current!==t&&(this.current=t,this.gl.uniform1i(this.location,t));}},t.bP=fo,t.bQ=class extends co{constructor(t,e){super(t,e),this.current=yo;}set(t){if(t[12]!==this.current[12]||t[0]!==this.current[0])return this.current=t,void this.gl.uniformMatrix4fv(this.location,!1,t);for(let e=1;e<16;e++)if(t[e]!==this.current[e]){this.current=t,this.gl.uniformMatrix4fv(this.location,!1,t);break}}},t.bR=po,t.bS=class extends co{constructor(t,e){super(t,e),this.current=[0,0,0];}set(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]||(this.current=t,this.gl.uniform3f(this.location,t[0],t[1],t[2]));}},t.bT=class extends co{constructor(t,e){super(t,e),this.current=[0,0];}set(t){t[0]===this.current[0]&&t[1]===this.current[1]||(this.current=t,this.gl.uniform2f(this.location,t[0],t[1]));}},t.bU=g,t.bV=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=-r,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},t.bW=function(t,e,r){var n=e[0],i=e[1],s=e[2];return t[0]=n*r[0]+i*r[3]+s*r[6],t[1]=n*r[1]+i*r[4]+s*r[7],t[2]=n*r[2]+i*r[5]+s*r[8],t},t.bX=function(t,e,r,n,i,s,a){var o=1/(e-r),l=1/(n-i),u=1/(s-a);return t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+r)*o,t[13]=(i+n)*l,t[14]=(a+s)*u,t[15]=1,t},t.bY=class extends co{constructor(t,e){super(t,e),this.current=new Array;}set(t){if(t!=this.current){this.current=t;const e=new Float32Array(4*t.length);for(let r=0;r<t.length;r++)e[4*r]=t[r].r,e[4*r+1]=t[r].g,e[4*r+2]=t[r].b,e[4*r+3]=t[r].a;this.gl.uniform4fv(this.location,e);}}},t.bZ=class extends co{constructor(t,e){super(t,e),this.current=new Array;}set(t){if(t!=this.current){this.current=t;const e=new Float32Array(t);this.gl.uniform1fv(this.location,e);}}},t.b_=class extends ca{},t.ba=function(t,e,r){const n=new Float64Array(4);return P(n,t,e-90,r),n},t.bb=function(t,e,r,n){var i,s,a,o,l,u=e[0],c=e[1],h=e[2],p=e[3],f=r[0],d=r[1],m=r[2],g=r[3];return (s=u*f+c*d+h*m+p*g)<0&&(s=-s,f=-f,d=-d,m=-m,g=-g),1-s>y?(i=Math.acos(s),a=Math.sin(i),o=Math.sin((1-n)*i)/a,l=Math.sin(n*i)/a):(o=1-n,l=n),t[0]=o*u+l*f,t[1]=o*c+l*d,t[2]=o*h+l*m,t[3]=o*p+l*g,t},t.bc=function(t){const e=new Float64Array(9);var r,n,i,s,a,o,l,u,c,h,p,f,d,y,m,g,x,v;h=(i=(n=t)[0])*(l=i+i),p=(s=n[1])*l,d=(a=n[2])*l,y=a*(u=s+s),g=(o=n[3])*l,x=o*u,v=o*(c=a+a),(r=e)[0]=1-(f=s*u)-(m=a*c),r[3]=p-v,r[6]=d+x,r[1]=p+v,r[4]=1-h-m,r[7]=y-g,r[2]=d-x,r[5]=y+g,r[8]=1-h-f;const b=it(-Math.asin(O(e[2],-1,1)));let w,_;return Math.hypot(e[5],e[8])<.001?(w=0,_=-it(Math.atan2(e[3],e[4]))):(w=it(0===e[5]&&0===e[8]?0:Math.atan2(e[5],e[8])),_=it(0===e[1]&&0===e[0]?0:Math.atan2(e[1],e[0]))),{roll:w,pitch:b+90,bearing:_}},t.bd=function(t,e){return t.roll==e.roll&&t.pitch==e.pitch&&t.bearing==e.bearing},t.be=Pe,t.bf=ho,t.bg=Hl,t.bh=Kl,t.bi=Zl,t.bj=F,t.bk=L,t.bl=je,t.bm=function(t,e,r,n,i){return F(n,i,O((t-e)/(r-e),0,1))},t.bn=V,t.bo=function(){return new Float64Array(3)},t.bp=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t},t.bq=P,t.br=function(t,e,r){var n=r[0],i=r[1],s=r[2],a=e[0],o=e[1],l=e[2],u=i*l-s*o,c=s*a-n*l,h=n*o-i*a,p=i*h-s*c,f=s*u-n*h,d=n*c-i*u,y=2*r[3];return c*=y,h*=y,f*=2,d*=2,t[0]=a+(u*=y)+(p*=2),t[1]=o+c+f,t[2]=l+h+d,t},t.bs=function(t,e,r){const n=(i=[t[0],t[1],t[2],e[0],e[1],e[2],r[0],r[1],r[2]])[0]*((c=i[8])*(a=i[4])-(o=i[5])*(u=i[7]))+i[1]*(-c*(s=i[3])+o*(l=i[6]))+i[2]*(u*s-a*l);var i,s,a,o,l,u,c;if(0===n)return null;const h=A([],[e[0],e[1],e[2]],[r[0],r[1],r[2]]),p=A([],[r[0],r[1],r[2]],[t[0],t[1],t[2]]),f=A([],[t[0],t[1],t[2]],[e[0],e[1],e[2]]),d=S([],h,-t[3]);return _(d,d,S([],p,-e[3])),_(d,d,S([],f,-r[3])),S(d,d,1/n),d},t.bt=ph,t.bu=function(){return new Float64Array(4)},t.bv=function(t,e,r,n){var i=[],s=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],s[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),s[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),s[2]=i[2],t[0]=s[0]+r[0],t[1]=s[1]+r[1],t[2]=s[2]+r[2],t},t.bw=function(t,e,r,n){var i=[],s=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],s[0]=i[0],s[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),s[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),t[0]=s[0]+r[0],t[1]=s[1]+r[1],t[2]=s[2]+r[2],t},t.bx=function(t,e,r,n){var i=[],s=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],s[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),s[1]=i[1],s[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),t[0]=s[0]+r[0],t[1]=s[1]+r[1],t[2]=s[2]+r[2],t},t.by=function(t,e,r){var n=Math.sin(r),i=Math.cos(r),s=e[0],a=e[1],o=e[2],l=e[3],u=e[8],c=e[9],h=e[10],p=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=s*i-u*n,t[1]=a*i-c*n,t[2]=o*i-h*n,t[3]=l*i-p*n,t[8]=s*n+u*i,t[9]=a*n+c*i,t[10]=o*n+h*i,t[11]=l*n+p*i,t},t.bz=function(t,e){const r=V(t,360),n=V(e,360),i=n-r,s=n>r?i-360:i+360;return Math.abs(i)<Math.abs(s)?i:s},t.c=lt,t.c0=class extends pa{},t.c1=ol,t.c2=function(t){return t<=1?1:Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},t.c3=al,t.c4=function(t,e,r){var n=e[0],i=e[1],s=e[2],a=r[3]*n+r[7]*i+r[11]*s+r[15];return t[0]=(r[0]*n+r[4]*i+r[8]*s+r[12])/(a=a||1),t[1]=(r[1]*n+r[5]*i+r[9]*s+r[13])/a,t[2]=(r[2]*n+r[6]*i+r[10]*s+r[14])/a,t},t.c5=class extends ta{},t.c6=class extends va{},t.c7=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]},t.c8=function(t,e){var r=t[0],n=t[1],i=t[2],s=t[3],a=t[4],o=t[5],l=t[6],u=t[7],c=t[8],h=t[9],p=t[10],f=t[11],d=t[12],m=t[13],g=t[14],x=t[15],v=e[0],b=e[1],w=e[2],_=e[3],S=e[4],A=e[5],k=e[6],M=e[7],I=e[8],z=e[9],P=e[10],C=e[11],B=e[12],E=e[13],T=e[14],V=e[15];return Math.abs(r-v)<=y*Math.max(1,Math.abs(r),Math.abs(v))&&Math.abs(n-b)<=y*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(i-w)<=y*Math.max(1,Math.abs(i),Math.abs(w))&&Math.abs(s-_)<=y*Math.max(1,Math.abs(s),Math.abs(_))&&Math.abs(a-S)<=y*Math.max(1,Math.abs(a),Math.abs(S))&&Math.abs(o-A)<=y*Math.max(1,Math.abs(o),Math.abs(A))&&Math.abs(l-k)<=y*Math.max(1,Math.abs(l),Math.abs(k))&&Math.abs(u-M)<=y*Math.max(1,Math.abs(u),Math.abs(M))&&Math.abs(c-I)<=y*Math.max(1,Math.abs(c),Math.abs(I))&&Math.abs(h-z)<=y*Math.max(1,Math.abs(h),Math.abs(z))&&Math.abs(p-P)<=y*Math.max(1,Math.abs(p),Math.abs(P))&&Math.abs(f-C)<=y*Math.max(1,Math.abs(f),Math.abs(C))&&Math.abs(d-B)<=y*Math.max(1,Math.abs(d),Math.abs(B))&&Math.abs(m-E)<=y*Math.max(1,Math.abs(m),Math.abs(E))&&Math.abs(g-T)<=y*Math.max(1,Math.abs(g),Math.abs(T))&&Math.abs(x-V)<=y*Math.max(1,Math.abs(x),Math.abs(V))},t.c9=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},t.cA=function(t){delete ut.REGISTERED_PROTOCOLS[t];},t.cB=function(t,e){const r={};for(let n=0;n<t.length;n++){const i=e&&e[t[n].id]||Si(t[n]);e&&(e[t[n].id]=i);let s=r[i];s||(s=r[i]=[]),s.push(t[n]);}const n=[];for(const t in r)n.push(r[t]);return n},t.cC=us,t.cD=zh,t.cE=Ch,t.cF=gc,t.cG=function(e){e.bucket.createArrays(),e.bucket.tilePixelRatio=E/(512*e.bucket.overscaling),e.bucket.compareText={},e.bucket.iconsNeedLinear=!1;const r=e.bucket.layers[0],n=r.layout,i=r._unevaluatedLayout._values,s={layoutIconSize:i["icon-size"].possiblyEvaluate(new Cs(e.bucket.zoom+1),e.canonical),layoutTextSize:i["text-size"].possiblyEvaluate(new Cs(e.bucket.zoom+1),e.canonical),textMaxSize:i["text-size"].possiblyEvaluate(new Cs(18))};if("composite"===e.bucket.textSizeData.kind){const{minZoom:t,maxZoom:r}=e.bucket.textSizeData;s.compositeTextSizes=[i["text-size"].possiblyEvaluate(new Cs(t),e.canonical),i["text-size"].possiblyEvaluate(new Cs(r),e.canonical)];}if("composite"===e.bucket.iconSizeData.kind){const{minZoom:t,maxZoom:r}=e.bucket.iconSizeData;s.compositeIconSizes=[i["icon-size"].possiblyEvaluate(new Cs(t),e.canonical),i["icon-size"].possiblyEvaluate(new Cs(r),e.canonical)];}const a=n.get("text-line-height")*ac,o="viewport"!==n.get("text-rotation-alignment")&&"point"!==n.get("symbol-placement"),l=n.get("text-keep-upright"),u=n.get("text-size");for(const i of e.bucket.features){const c=n.get("text-font").evaluate(i,{},e.canonical).join(","),h=u.evaluate(i,{},e.canonical),p=s.layoutTextSize.evaluate(i,{},e.canonical),f=s.layoutIconSize.evaluate(i,{},e.canonical),d={horizontal:{},vertical:void 0},y=i.text;let m,g=[0,0];if(y){const s=y.toString(),u=n.get("text-letter-spacing").evaluate(i,{},e.canonical)*ac,f=xs(s)?u:0,m=n.get("text-anchor").evaluate(i,{},e.canonical),x=ep(r,i,e.canonical);if(!x){const t=n.get("text-radial-offset").evaluate(i,{},e.canonical);g=t?tp(m,[t*ac,Qh]):n.get("text-offset").evaluate(i,{},e.canonical).map((t=>t*ac));}let v=o?"center":n.get("text-justify").evaluate(i,{},e.canonical);const b="point"===n.get("symbol-placement")?n.get("text-max-width").evaluate(i,{},e.canonical)*ac:1/0,w=()=>{e.bucket.allowVerticalPlacement&&gs(s)&&(d.vertical=bc(y,e.glyphMap,e.glyphPositions,e.imagePositions,c,b,a,m,"left",f,g,t.an.vertical,!0,p,h));};if(!o&&x){const r=new Set;if("auto"===v)for(let t=0;t<x.values.length;t+=2)r.add(rp(x.values[t]));else r.add(v);let n=!1;for(const i of r)if(!d.horizontal[i])if(n)d.horizontal[i]=d.horizontal[0];else {const r=bc(y,e.glyphMap,e.glyphPositions,e.imagePositions,c,b,a,"center",i,f,g,t.an.horizontal,!1,p,h);r&&(d.horizontal[i]=r,n=1===r.positionedLines.length);}w();}else {"auto"===v&&(v=rp(m));const r=bc(y,e.glyphMap,e.glyphPositions,e.imagePositions,c,b,a,m,v,f,g,t.an.horizontal,!1,p,h);r&&(d.horizontal[v]=r),w(),gs(s)&&o&&l&&(d.vertical=bc(y,e.glyphMap,e.glyphPositions,e.imagePositions,c,b,a,m,v,f,g,t.an.vertical,!1,p,h));}}let x=!1;if(i.icon&&i.icon.name){const t=e.imageMap[i.icon.name];t&&(m=$c(e.imagePositions[i.icon.name],n.get("icon-offset").evaluate(i,{},e.canonical),n.get("icon-anchor").evaluate(i,{},e.canonical)),x=!!t.sdf,void 0===e.bucket.sdfIcons?e.bucket.sdfIcons=x:e.bucket.sdfIcons!==x&&Z("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(t.pixelRatio!==e.bucket.pixelRatio||0!==n.get("icon-rotate").constantOr(1))&&(e.bucket.iconsNeedLinear=!0));}const v=sp(d.horizontal)||d.vertical;e.bucket.iconsInText=!!v&&v.iconsInText,(v||m)&&np(e.bucket,i,d,m,e.imageMap,s,p,f,g,x,e.canonical,e.subdivisionGranularity);}e.showCollisionBoxes&&e.bucket.generateCollisionDebugBuffers();},t.cH=Nu,t.cI=nu,t.cJ=Mu,t.cK=_u,t.cL=hc,t.cM=class{constructor(t){this._marks={start:[t.url,"start"].join("#"),end:[t.url,"end"].join("#"),measure:t.url.toString()},performance.mark(this._marks.start);}finish(){performance.mark(this._marks.end);let t=performance.getEntriesByName(this._marks.measure);return 0===t.length&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),t=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),t}},t.cN=function(t,r,n,i,s){return e(this,void 0,void 0,(function*(){if(d())try{return yield Q(t,r,n,i,s)}catch(t){}return function(t,e,r,n,i){const s=t.width,a=t.height;tt&&et||(tt=new OffscreenCanvas(s,a),et=tt.getContext("2d",{willReadFrequently:!0})),tt.width=s,tt.height=a,et.drawImage(t,0,0,s,a);const o=et.getImageData(e,r,n,i);return et.clearRect(0,0,s,a),o.data}(t,r,n,i,s)}))},t.cO=yl,t.cP=r,t.cQ=s,t.cR=wu,t.cS=uc,t.cT=si,t.cU=Ps,t.ca=t=>"symbol"===t.type,t.cb=t=>"circle"===t.type,t.cc=t=>"heatmap"===t.type,t.cd=t=>"line"===t.type,t.ce=t=>"fill"===t.type,t.cf=t=>"fill-extrusion"===t.type,t.cg=t=>"hillshade"===t.type,t.ch=t=>"color-relief"===t.type,t.ci=t=>"raster"===t.type,t.cj=t=>"background"===t.type,t.ck=t=>"custom"===t.type,t.cl=$,t.cm=function(t,e,r){const n=B(e.x-r.x,e.y-r.y),i=B(t.x-r.x,t.y-r.y);var s,a;return it(Math.atan2(n[0]*i[1]-n[1]*i[0],(s=n)[0]*(a=i)[0]+s[1]*a[1]))},t.cn=D,t.co=function(t,e){return at[e]&&(t instanceof MouseEvent||t instanceof WheelEvent)},t.cp=function(t,e){return st[e]&&"touches"in t},t.cq=function(t){return st[t]||at[t]},t.cr=function(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[4]*i+r[12],t[1]=r[1]*n+r[5]*i+r[13],t},t.cs=function(t,e){const{x:r,y:n}=wh.fromLngLat(e);return !(t<0||t>25||n<0||n>=1||r<0||r>=1)},t.ct=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},t.cu=class extends Qs{},t.cv=bp,t.cx=function(t){return t.message===ot},t.cy=pt,t.cz=function(t,e){ut.REGISTERED_PROTOCOLS[t]=e;},t.d=yt,t.e=j,t.f=t=>e(void 0,void 0,void 0,(function*(){if(0===t.byteLength)return createImageBitmap(new ImageData(1,1));const e=new Blob([new Uint8Array(t)],{type:"image/png"});try{return createImageBitmap(e)}catch(t){throw new Error(`Could not load image because of ${t.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`)}})),t.g=ct,t.h=t=>new Promise(((e,r)=>{const n=new Image;n.onload=()=>{e(n),URL.revokeObjectURL(n.src),n.onload=null,window.requestAnimationFrame((()=>{n.src=W;}));},n.onerror=()=>r(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const i=new Blob([new Uint8Array(t)],{type:"image/png"});n.src=t.byteLength?URL.createObjectURL(i):W;})),t.i=H,t.j=(t,e)=>dt(j(t,{type:"json"}),e),t.k=vt,t.l=xt,t.m=dt,t.n=(t,e)=>dt(j(t,{type:"arrayBuffer"}),e),t.o=function(t){return new hc(t).readFields(pc,[])},t.p=yc,t.q=il,t.r=qs,t.s=rt,t.t=Ts,t.u=ms,t.v=wt,t.w=Z,t.x=rs,t.y=as,t.z=es;}));

define("worker",["./shared"],(function(e){"use strict";class t{constructor(e){this.keyCache={},e&&this.replace(e);}replace(e){this._layerConfigs={},this._layers={},this.update(e,[]);}update(t,o){for(const o of t){this._layerConfigs[o.id]=o;const t=this._layers[o.id]=e.bI(o);t._featureFilter=e.a9(t.filter),this.keyCache[o.id]&&delete this.keyCache[o.id];}for(const e of o)delete this.keyCache[e],delete this._layerConfigs[e],delete this._layers[e];this.familiesBySource={};const i=e.cB(Object.values(this._layerConfigs),this.keyCache);for(const e of i){const t=e.map((e=>this._layers[e.id])),o=t[0];if("none"===o.visibility)continue;const i=o.source||"";let r=this.familiesBySource[i];r||(r=this.familiesBySource[i]={});const s=o.sourceLayer||"_geojsonTileLayer";let n=r[s];n||(n=r[s]=[]),n.push(t);}}}class o{constructor(t){const o={},i=[];for(const e in t){const r=t[e],s=o[e]={};for(const e in r){const t=r[+e];if(!t||0===t.bitmap.width||0===t.bitmap.height)continue;const o={x:0,y:0,w:t.bitmap.width+2,h:t.bitmap.height+2};i.push(o),s[e]={rect:o,metrics:t.metrics};}}const{w:r,h:s}=e.p(i),n=new e.q({width:r||1,height:s||1});for(const i in t){const r=t[i];for(const t in r){const s=r[+t];if(!s||0===s.bitmap.width||0===s.bitmap.height)continue;const a=o[i][t].rect;e.q.copy(s.bitmap,n,{x:0,y:0},{x:a.x+1,y:a.y+1},s.bitmap);}}this.image=n,this.positions=o;}}e.cC("GlyphAtlas",o);class i{constructor(t){this.tileID=new e.Z(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.uid=t.uid,this.zoom=t.zoom,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming,this.returnDependencies=!!t.returnDependencies,this.promoteId=t.promoteId,this.inFlightDependencies=[],this.globalState=t.globalState;}parse(t,i,s,n,a){return e._(this,void 0,void 0,(function*(){this.status="parsing",this.data=t,this.collisionBoxArray=new e.a7;const l=new e.cD(Object.keys(t.layers).sort()),c=new e.cE(this.tileID,this.promoteId);c.bucketLayerIDs=[];const u={},h={featureIndex:c,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:s,subdivisionGranularity:a},d=i.familiesBySource[this.source];for(const o in d){const i=t.layers[o];if(!i)continue;1===i.version&&e.w(`Vector tile source "${this.source}" layer "${o}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const n=l.encode(o),a=[];for(let e=0;e<i.length;e++){const t=i.feature(e),r=c.getId(t,o);a.push({feature:t,id:r,index:e,sourceLayerIndex:n});}for(const t of d[o]){const o=t[0];o.source!==this.source&&e.w(`layer.source = ${o.source} does not equal this.source = ${this.source}`),o.minzoom&&this.zoom<Math.floor(o.minzoom)||o.maxzoom&&this.zoom>=o.maxzoom||"none"!==o.visibility&&(r(t,this.zoom,s),(u[o.id]=o.createBucket({index:c.bucketLayerIDs.length,layers:t,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:n,sourceID:this.source,globalState:this.globalState})).populate(a,h,this.tileID.canonical),c.bucketLayerIDs.push(t.map((e=>e.id))));}}const f=e.bM(h.glyphDependencies,(e=>Object.keys(e).map(Number)));this.inFlightDependencies.forEach((e=>null==e?void 0:e.abort())),this.inFlightDependencies=[];let g=Promise.resolve({});if(Object.keys(f).length){const e=new AbortController;this.inFlightDependencies.push(e),g=n.sendAsync({type:"GG",data:{stacks:f,source:this.source,tileID:this.tileID,type:"glyphs"}},e);}const p=Object.keys(h.iconDependencies);let m=Promise.resolve({});if(p.length){const e=new AbortController;this.inFlightDependencies.push(e),m=n.sendAsync({type:"GI",data:{icons:p,source:this.source,tileID:this.tileID,type:"icons"}},e);}const y=Object.keys(h.patternDependencies);let v=Promise.resolve({});if(y.length){const e=new AbortController;this.inFlightDependencies.push(e),v=n.sendAsync({type:"GI",data:{icons:y,source:this.source,tileID:this.tileID,type:"patterns"}},e);}const[w,x,b]=yield Promise.all([g,m,v]),S=new o(w),_=new e.cF(x,b);for(const t in u){const o=u[t];o instanceof e.a8?(r(o.layers,this.zoom,s),e.cG({bucket:o,glyphMap:w,glyphPositions:S.positions,imageMap:x,imagePositions:_.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical,subdivisionGranularity:h.subdivisionGranularity})):o.hasPattern&&(o instanceof e.cH||o instanceof e.cI||o instanceof e.cJ)&&(r(o.layers,this.zoom,s),o.addFeatures(h,this.tileID.canonical,_.patternPositions));}return this.status="done",{buckets:Object.values(u).filter((e=>!e.isEmpty())),featureIndex:c,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:S.image,imageAtlas:_,glyphMap:this.returnDependencies?w:null,iconMap:this.returnDependencies?x:null,glyphPositions:this.returnDependencies?S.positions:null}}))}}function r(t,o,i){const r=new e.F(o);for(const e of t)e.recalculate(r,i);}class s{constructor(e,t,o){this.actor=e,this.layerIndex=t,this.availableImages=o,this.fetching={},this.loading={},this.loaded={};}loadVectorTile(t,o){return e._(this,void 0,void 0,(function*(){const i=yield e.n(t.request,o);try{return {vectorTile:new e.cK.VectorTile(new e.cL(i.data)),rawData:i.data,cacheControl:i.cacheControl,expires:i.expires}}catch(e){const o=new Uint8Array(i.data);let r=`Unable to parse the tile at ${t.request.url}, `;throw r+=31===o[0]&&139===o[1]?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${e.message}`,new Error(r)}}))}loadTile(t){return e._(this,void 0,void 0,(function*(){const o=t.uid,r=!!(t&&t.request&&t.request.collectResourceTiming)&&new e.cM(t.request),s=new i(t);this.loading[o]=s;const n=new AbortController;s.abort=n;try{const i=yield this.loadVectorTile(t,n);if(delete this.loading[o],!i)return null;const a=i.rawData,l={};i.expires&&(l.expires=i.expires),i.cacheControl&&(l.cacheControl=i.cacheControl);const c={};if(r){const e=r.finish();e&&(c.resourceTiming=JSON.parse(JSON.stringify(e)));}s.vectorTile=i.vectorTile;const u=s.parse(i.vectorTile,this.layerIndex,this.availableImages,this.actor,t.subdivisionGranularity);this.loaded[o]=s,this.fetching[o]={rawTileData:a,cacheControl:l,resourceTiming:c};try{const t=yield u;return e.e({rawTileData:a.slice(0)},t,l,c)}finally{delete this.fetching[o];}}catch(e){throw delete this.loading[o],s.status="done",this.loaded[o]=s,e}}))}reloadTile(t){return e._(this,void 0,void 0,(function*(){const o=t.uid;if(!this.loaded||!this.loaded[o])throw new Error("Should not be trying to reload a tile that was never loaded or has been removed");const i=this.loaded[o];if(i.showCollisionBoxes=t.showCollisionBoxes,i.globalState=t.globalState,"parsing"===i.status){const r=yield i.parse(i.vectorTile,this.layerIndex,this.availableImages,this.actor,t.subdivisionGranularity);let s;if(this.fetching[o]){const{rawTileData:t,cacheControl:i,resourceTiming:n}=this.fetching[o];delete this.fetching[o],s=e.e({rawTileData:t.slice(0)},r,i,n);}else s=r;return s}if("done"===i.status&&i.vectorTile)return i.parse(i.vectorTile,this.layerIndex,this.availableImages,this.actor,t.subdivisionGranularity)}))}abortTile(t){return e._(this,void 0,void 0,(function*(){const e=this.loading,o=t.uid;e&&e[o]&&e[o].abort&&(e[o].abort.abort(),delete e[o]);}))}removeTile(t){return e._(this,void 0,void 0,(function*(){this.loaded&&this.loaded[t.uid]&&delete this.loaded[t.uid];}))}}class n{constructor(){this.loaded={};}loadTile(t){return e._(this,void 0,void 0,(function*(){const{uid:o,encoding:i,rawImageData:r,redFactor:s,greenFactor:n,blueFactor:a,baseShift:l}=t,c=r.width+2,u=r.height+2,h=e.b(r)?new e.R({width:c,height:u},yield e.cN(r,-1,-1,c,u)):r,d=new e.cO(o,h,i,s,n,a,l);return this.loaded=this.loaded||{},this.loaded[o]=d,d}))}removeTile(e){const t=this.loaded,o=e.uid;t&&t[o]&&delete t[o];}}var a,l,c=function(){if(l)return a;function e(e,o){if(0!==e.length){t(e[0],o);for(var i=1;i<e.length;i++)t(e[i],!o);}}function t(e,t){for(var o=0,i=0,r=0,s=e.length,n=s-1;r<s;n=r++){var a=(e[r][0]-e[n][0])*(e[n][1]+e[r][1]),l=o+a;i+=Math.abs(o)>=Math.abs(a)?o-l+a:a-l+o,o=l;}o+i>=0!=!!t&&e.reverse();}return l=1,a=function t(o,i){var r,s=o&&o.type;if("FeatureCollection"===s)for(r=0;r<o.features.length;r++)t(o.features[r],i);else if("GeometryCollection"===s)for(r=0;r<o.geometries.length;r++)t(o.geometries[r],i);else if("Feature"===s)t(o.geometry,i);else if("Polygon"===s)e(o.coordinates,i);else if("MultiPolygon"===s)for(r=0;r<o.coordinates.length;r++)e(o.coordinates[r],i);return o}}(),u=e.cP(c);const h=e.cK.VectorTileFeature.prototype.toGeoJSON;class d{constructor(t){this._feature=t,this.extent=e.$,this.type=t.type,this.properties=t.tags,"id"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10));}loadGeometry(){if(1===this._feature.type){const t=[];for(const o of this._feature.geometry)t.push([new e.P(o[0],o[1])]);return t}{const t=[];for(const o of this._feature.geometry){const i=[];for(const t of o)i.push(new e.P(t[0],t[1]));t.push(i);}return t}}toGeoJSON(e,t,o){return h.call(this,e,t,o)}}class f{constructor(t){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=e.$,this.length=t.length,this._features=t;}feature(e){return new d(this._features[e])}}var g,p,m,y={exports:{}},v=function(){if(m)return y.exports;m=1;var t=e.cS(),o=function(){if(p)return g;p=1;var t=e.cQ(),o=e.cR().VectorTileFeature;function i(e,t){this.options=t||{},this.features=e,this.length=e.length;}function r(e,t){this.id="number"==typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=t||4096;}return g=i,i.prototype.feature=function(e){return new r(this.features[e],this.options.extent)},r.prototype.loadGeometry=function(){var e=this.rawGeometry;this.geometry=[];for(var o=0;o<e.length;o++){for(var i=e[o],r=[],s=0;s<i.length;s++)r.push(new t(i[s][0],i[s][1]));this.geometry.push(r);}return this.geometry},r.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,o=-1/0,i=1/0,r=-1/0,s=0;s<e.length;s++)for(var n=e[s],a=0;a<n.length;a++){var l=n[a];t=Math.min(t,l.x),o=Math.max(o,l.x),i=Math.min(i,l.y),r=Math.max(r,l.y);}return [t,i,o,r]},r.prototype.toGeoJSON=o.prototype.toGeoJSON,g}();function i(e){var o=new t;return function(e,t){for(var o in e.layers)t.writeMessage(3,r,e.layers[o]);}(e,o),o.finish()}function r(e,t){var o;t.writeVarintField(15,e.version||1),t.writeStringField(1,e.name||""),t.writeVarintField(5,e.extent||4096);var i={keys:[],values:[],keycache:{},valuecache:{}};for(o=0;o<e.length;o++)i.feature=e.feature(o),t.writeMessage(2,s,i);var r=i.keys;for(o=0;o<r.length;o++)t.writeStringField(3,r[o]);var n=i.values;for(o=0;o<n.length;o++)t.writeMessage(4,u,n[o]);}function s(e,t){var o=e.feature;void 0!==o.id&&t.writeVarintField(1,o.id),t.writeMessage(2,n,e),t.writeVarintField(3,o.type),t.writeMessage(4,c,o);}function n(e,t){var o=e.feature,i=e.keys,r=e.values,s=e.keycache,n=e.valuecache;for(var a in o.properties){var l=o.properties[a],c=s[a];if(null!==l){void 0===c&&(i.push(a),s[a]=c=i.length-1),t.writeVarint(c);var u=typeof l;"string"!==u&&"boolean"!==u&&"number"!==u&&(l=JSON.stringify(l));var h=u+":"+l,d=n[h];void 0===d&&(r.push(l),n[h]=d=r.length-1),t.writeVarint(d);}}}function a(e,t){return (t<<3)+(7&e)}function l(e){return e<<1^e>>31}function c(e,t){for(var o=e.loadGeometry(),i=e.type,r=0,s=0,n=o.length,c=0;c<n;c++){var u=o[c],h=1;1===i&&(h=u.length),t.writeVarint(a(1,h));for(var d=3===i?u.length-1:u.length,f=0;f<d;f++){1===f&&1!==i&&t.writeVarint(a(2,d-1));var g=u[f].x-r,p=u[f].y-s;t.writeVarint(l(g)),t.writeVarint(l(p)),r+=g,s+=p;}3===i&&t.writeVarint(a(7,1));}}function u(e,t){var o=typeof e;"string"===o?t.writeStringField(1,e):"boolean"===o?t.writeBooleanField(7,e):"number"===o&&(e%1!=0?t.writeDoubleField(3,e):e<0?t.writeSVarintField(6,e):t.writeVarintField(5,e));}return y.exports=i,y.exports.fromVectorTileJs=i,y.exports.fromGeojsonVt=function(e,t){t=t||{};var r={};for(var s in e)r[s]=new o(e[s].features,t),r[s].name=s,r[s].version=t.version,r[s].extent=t.extent;return i({layers:r})},y.exports.GeoJSONWrapper=o,y.exports}(),w=e.cP(v);const x={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},b=Math.fround||(S=new Float32Array(1),e=>(S[0]=+e,S[0]));var S;class _{constructor(e){this.options=Object.assign(Object.create(x),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[];}load(e){const{log:t,minZoom:o,maxZoom:i}=this.options;t&&console.time("total time");const r=`prepare ${e.length} points`;t&&console.time(r),this.points=e;const s=[];for(let t=0;t<e.length;t++){const o=e[t];if(!o.geometry)continue;const[i,r]=o.geometry.coordinates,n=b(P(i)),a=b(k(r));s.push(n,a,1/0,t,-1,1),this.options.reduce&&s.push(0);}let n=this.trees[i+1]=this._createTree(s);t&&console.timeEnd(r);for(let e=i;e>=o;e--){const o=+Date.now();n=this.trees[e]=this._createTree(this._cluster(n,e)),t&&console.log("z%d: %d clusters in %dms",e,n.numItems,+Date.now()-o);}return t&&console.timeEnd("total time"),this}getClusters(e,t){let o=((e[0]+180)%360+360)%360-180;const i=Math.max(-90,Math.min(90,e[1]));let r=180===e[2]?180:((e[2]+180)%360+360)%360-180;const s=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)o=-180,r=180;else if(o>r){const e=this.getClusters([o,i,180,s],t),n=this.getClusters([-180,i,r,s],t);return e.concat(n)}const n=this.trees[this._limitZoom(t)],a=n.range(P(o),k(s),P(r),k(i)),l=n.data,c=[];for(const e of a){const t=this.stride*e;c.push(l[t+5]>1?M(l,t,this.clusterProps):this.points[l[t+3]]);}return c}getChildren(e){const t=this._getOriginId(e),o=this._getOriginZoom(e),i="No cluster with the specified id.",r=this.trees[o];if(!r)throw new Error(i);const s=r.data;if(t*this.stride>=s.length)throw new Error(i);const n=this.options.radius/(this.options.extent*Math.pow(2,o-1)),a=r.within(s[t*this.stride],s[t*this.stride+1],n),l=[];for(const t of a){const o=t*this.stride;s[o+4]===e&&l.push(s[o+5]>1?M(s,o,this.clusterProps):this.points[s[o+3]]);}if(0===l.length)throw new Error(i);return l}getLeaves(e,t,o){const i=[];return this._appendLeaves(i,e,t=t||10,o=o||0,0),i}getTile(e,t,o){const i=this.trees[this._limitZoom(e)],r=Math.pow(2,e),{extent:s,radius:n}=this.options,a=n/s,l=(o-a)/r,c=(o+1+a)/r,u={features:[]};return this._addTileFeatures(i.range((t-a)/r,l,(t+1+a)/r,c),i.data,t,o,r,u),0===t&&this._addTileFeatures(i.range(1-a/r,l,1,c),i.data,r,o,r,u),t===r-1&&this._addTileFeatures(i.range(0,l,a/r,c),i.data,-1,o,r,u),u.features.length?u:null}getClusterExpansionZoom(e){let t=this._getOriginZoom(e)-1;for(;t<=this.options.maxZoom;){const o=this.getChildren(e);if(t++,1!==o.length)break;e=o[0].properties.cluster_id;}return t}_appendLeaves(e,t,o,i,r){const s=this.getChildren(t);for(const t of s){const s=t.properties;if(s&&s.cluster?r+s.point_count<=i?r+=s.point_count:r=this._appendLeaves(e,s.cluster_id,o,i,r):r<i?r++:e.push(t),e.length===o)break}return r}_createTree(t){const o=new e.aH(t.length/this.stride|0,this.options.nodeSize,Float32Array);for(let e=0;e<t.length;e+=this.stride)o.add(t[e],t[e+1]);return o.finish(),o.data=t,o}_addTileFeatures(e,t,o,i,r,s){for(const n of e){const e=n*this.stride,a=t[e+5]>1;let l,c,u;if(a)l=I(t,e,this.clusterProps),c=t[e],u=t[e+1];else {const o=this.points[t[e+3]];l=o.properties;const[i,r]=o.geometry.coordinates;c=P(i),u=k(r);}const h={type:1,geometry:[[Math.round(this.options.extent*(c*r-o)),Math.round(this.options.extent*(u*r-i))]],tags:l};let d;d=a||this.options.generateId?t[e+3]:this.points[t[e+3]].id,void 0!==d&&(h.id=d),s.features.push(h);}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){const{radius:o,extent:i,reduce:r,minPoints:s}=this.options,n=o/(i*Math.pow(2,t)),a=e.data,l=[],c=this.stride;for(let o=0;o<a.length;o+=c){if(a[o+2]<=t)continue;a[o+2]=t;const i=a[o],u=a[o+1],h=e.within(a[o],a[o+1],n),d=a[o+5];let f=d;for(const e of h){const o=e*c;a[o+2]>t&&(f+=a[o+5]);}if(f>d&&f>=s){let e,s=i*d,n=u*d,g=-1;const p=(o/c<<5)+(t+1)+this.points.length;for(const i of h){const l=i*c;if(a[l+2]<=t)continue;a[l+2]=t;const u=a[l+5];s+=a[l]*u,n+=a[l+1]*u,a[l+4]=p,r&&(e||(e=this._map(a,o,!0),g=this.clusterProps.length,this.clusterProps.push(e)),r(e,this._map(a,l)));}a[o+4]=p,l.push(s/f,n/f,1/0,p,-1,f),r&&l.push(g);}else {for(let e=0;e<c;e++)l.push(a[o+e]);if(f>1)for(const e of h){const o=e*c;if(!(a[o+2]<=t)){a[o+2]=t;for(let e=0;e<c;e++)l.push(a[o+e]);}}}}return l}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return (e-this.points.length)%32}_map(e,t,o){if(e[t+5]>1){const i=this.clusterProps[e[t+6]];return o?Object.assign({},i):i}const i=this.points[e[t+3]].properties,r=this.options.map(i);return o&&r===i?Object.assign({},r):r}}function M(e,t,o){return {type:"Feature",id:e[t+3],properties:I(e,t,o),geometry:{type:"Point",coordinates:[(i=e[t],360*(i-.5)),T(e[t+1])]}};var i;}function I(e,t,o){const i=e[t+5],r=i>=1e4?`${Math.round(i/1e3)}k`:i>=1e3?Math.round(i/100)/10+"k":i,s=e[t+6],n=-1===s?{}:Object.assign({},o[s]);return Object.assign(n,{cluster:!0,cluster_id:e[t+3],point_count:i,point_count_abbreviated:r})}function P(e){return e/360+.5}function k(e){const t=Math.sin(e*Math.PI/180),o=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return o<0?0:o>1?1:o}function T(e){const t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function D(e,t,o,i){let r=i;const s=t+(o-t>>1);let n,a=o-t;const l=e[t],c=e[t+1],u=e[o],h=e[o+1];for(let i=t+3;i<o;i+=3){const t=C(e[i],e[i+1],l,c,u,h);if(t>r)n=i,r=t;else if(t===r){const e=Math.abs(i-s);e<a&&(n=i,a=e);}}r>i&&(n-t>3&&D(e,t,n,i),e[n+2]=r,o-n>3&&D(e,n,o,i));}function C(e,t,o,i,r,s){let n=r-o,a=s-i;if(0!==n||0!==a){const l=((e-o)*n+(t-i)*a)/(n*n+a*a);l>1?(o=r,i=s):l>0&&(o+=n*l,i+=a*l);}return n=e-o,a=t-i,n*n+a*a}function O(e,t,o,i){const r={id:null==e?null:e,type:t,geometry:o,tags:i,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if("Point"===t||"MultiPoint"===t||"LineString"===t)L(r,o);else if("Polygon"===t)L(r,o[0]);else if("MultiLineString"===t)for(const e of o)L(r,e);else if("MultiPolygon"===t)for(const e of o)L(r,e[0]);return r}function L(e,t){for(let o=0;o<t.length;o+=3)e.minX=Math.min(e.minX,t[o]),e.minY=Math.min(e.minY,t[o+1]),e.maxX=Math.max(e.maxX,t[o]),e.maxY=Math.max(e.maxY,t[o+1]);}function F(e,t,o,i){if(!t.geometry)return;const r=t.geometry.coordinates;if(r&&0===r.length)return;const s=t.geometry.type,n=Math.pow(o.tolerance/((1<<o.maxZoom)*o.extent),2);let a=[],l=t.id;if(o.promoteId?l=t.properties[o.promoteId]:o.generateId&&(l=i||0),"Point"===s)G(r,a);else if("MultiPoint"===s)for(const e of r)G(e,a);else if("LineString"===s)z(r,a,n,!1);else if("MultiLineString"===s){if(o.lineMetrics){for(const o of r)a=[],z(o,a,n,!1),e.push(O(l,"LineString",a,t.properties));return}A(r,a,n,!1);}else if("Polygon"===s)A(r,a,n,!0);else {if("MultiPolygon"!==s){if("GeometryCollection"===s){for(const r of t.geometry.geometries)F(e,{id:l,geometry:r,properties:t.properties},o,i);return}throw new Error("Input data is not a valid GeoJSON object.")}for(const e of r){const t=[];A(e,t,n,!0),a.push(t);}}e.push(O(l,s,a,t.properties));}function G(e,t){t.push(j(e[0]),E(e[1]),0);}function z(e,t,o,i){let r,s,n=0;for(let o=0;o<e.length;o++){const a=j(e[o][0]),l=E(e[o][1]);t.push(a,l,0),o>0&&(n+=i?(r*l-a*s)/2:Math.sqrt(Math.pow(a-r,2)+Math.pow(l-s,2))),r=a,s=l;}const a=t.length-3;t[2]=1,D(t,0,a,o),t[a+2]=1,t.size=Math.abs(n),t.start=0,t.end=t.size;}function A(e,t,o,i){for(let r=0;r<e.length;r++){const s=[];z(e[r],s,o,i),t.push(s);}}function j(e){return e/360+.5}function E(e){const t=Math.sin(e*Math.PI/180),o=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return o<0?0:o>1?1:o}function Z(e,t,o,i,r,s,n,a){if(i/=t,s>=(o/=t)&&n<i)return e;if(n<o||s>=i)return null;const l=[];for(const t of e){const e=t.geometry;let s=t.type;const n=0===r?t.minX:t.minY,c=0===r?t.maxX:t.maxY;if(n>=o&&c<i){l.push(t);continue}if(c<o||n>=i)continue;let u=[];if("Point"===s||"MultiPoint"===s)N(e,u,o,i,r);else if("LineString"===s)J(e,u,o,i,r,!1,a.lineMetrics);else if("MultiLineString"===s)W(e,u,o,i,r,!1);else if("Polygon"===s)W(e,u,o,i,r,!0);else if("MultiPolygon"===s)for(const t of e){const e=[];W(t,e,o,i,r,!0),e.length&&u.push(e);}if(u.length){if(a.lineMetrics&&"LineString"===s){for(const e of u)l.push(O(t.id,s,e,t.tags));continue}"LineString"!==s&&"MultiLineString"!==s||(1===u.length?(s="LineString",u=u[0]):s="MultiLineString"),"Point"!==s&&"MultiPoint"!==s||(s=3===u.length?"Point":"MultiPoint"),l.push(O(t.id,s,u,t.tags));}}return l.length?l:null}function N(e,t,o,i,r){for(let s=0;s<e.length;s+=3){const n=e[s+r];n>=o&&n<=i&&Y(t,e[s],e[s+1],e[s+2]);}}function J(e,t,o,i,r,s,n){let a=R(e);const l=0===r?V:q;let c,u,h=e.start;for(let d=0;d<e.length-3;d+=3){const f=e[d],g=e[d+1],p=e[d+2],m=e[d+3],y=e[d+4],v=0===r?f:g,w=0===r?m:y;let x=!1;n&&(c=Math.sqrt(Math.pow(f-m,2)+Math.pow(g-y,2))),v<o?w>o&&(u=l(a,f,g,m,y,o),n&&(a.start=h+c*u)):v>i?w<i&&(u=l(a,f,g,m,y,i),n&&(a.start=h+c*u)):Y(a,f,g,p),w<o&&v>=o&&(u=l(a,f,g,m,y,o),x=!0),w>i&&v<=i&&(u=l(a,f,g,m,y,i),x=!0),!s&&x&&(n&&(a.end=h+c*u),t.push(a),a=R(e)),n&&(h+=c);}let d=e.length-3;const f=e[d],g=e[d+1],p=0===r?f:g;p>=o&&p<=i&&Y(a,f,g,e[d+2]),d=a.length-3,s&&d>=3&&(a[d]!==a[0]||a[d+1]!==a[1])&&Y(a,a[0],a[1],a[2]),a.length&&t.push(a);}function R(e){const t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function W(e,t,o,i,r,s){for(const n of e)J(n,t,o,i,r,s,!1);}function Y(e,t,o,i){e.push(t,o,i);}function V(e,t,o,i,r,s){const n=(s-t)/(i-t);return Y(e,s,o+(r-o)*n,1),n}function q(e,t,o,i,r,s){const n=(s-o)/(r-o);return Y(e,t+(i-t)*n,s,1),n}function H(e,t){const o=[];for(let i=0;i<e.length;i++){const r=e[i],s=r.type;let n;if("Point"===s||"MultiPoint"===s||"LineString"===s)n=X(r.geometry,t);else if("MultiLineString"===s||"Polygon"===s){n=[];for(const e of r.geometry)n.push(X(e,t));}else if("MultiPolygon"===s){n=[];for(const e of r.geometry){const o=[];for(const i of e)o.push(X(i,t));n.push(o);}}o.push(O(r.id,s,n,r.tags));}return o}function X(e,t){const o=[];o.size=e.size,void 0!==e.start&&(o.start=e.start,o.end=e.end);for(let i=0;i<e.length;i+=3)o.push(e[i]+t,e[i+1],e[i+2]);return o}function B(e,t){if(e.transformed)return e;const o=1<<e.z,i=e.x,r=e.y;for(const s of e.features){const e=s.geometry,n=s.type;if(s.geometry=[],1===n)for(let n=0;n<e.length;n+=2)s.geometry.push($(e[n],e[n+1],t,o,i,r));else for(let n=0;n<e.length;n++){const a=[];for(let s=0;s<e[n].length;s+=2)a.push($(e[n][s],e[n][s+1],t,o,i,r));s.geometry.push(a);}}return e.transformed=!0,e}function $(e,t,o,i,r,s){return [Math.round(o*(e*i-r)),Math.round(o*(t*i-s))]}function U(e,t,o,i,r){const s=t===r.maxZoom?0:r.tolerance/((1<<t)*r.extent),n={features:[],numPoints:0,numSimplified:0,numFeatures:e.length,source:null,x:o,y:i,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(const t of e)K(n,t,s,r);return n}function K(e,t,o,i){const r=t.geometry,s=t.type,n=[];if(e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),"Point"===s||"MultiPoint"===s)for(let t=0;t<r.length;t+=3)n.push(r[t],r[t+1]),e.numPoints++,e.numSimplified++;else if("LineString"===s)Q(n,r,e,o,!1,!1);else if("MultiLineString"===s||"Polygon"===s)for(let t=0;t<r.length;t++)Q(n,r[t],e,o,"Polygon"===s,0===t);else if("MultiPolygon"===s)for(let t=0;t<r.length;t++){const i=r[t];for(let t=0;t<i.length;t++)Q(n,i[t],e,o,!0,0===t);}if(n.length){let o=t.tags||null;if("LineString"===s&&i.lineMetrics){o={};for(const e in t.tags)o[e]=t.tags[e];o.mapbox_clip_start=r.start/r.size,o.mapbox_clip_end=r.end/r.size;}const a={geometry:n,type:"Polygon"===s||"MultiPolygon"===s?3:"LineString"===s||"MultiLineString"===s?2:1,tags:o};null!==t.id&&(a.id=t.id),e.features.push(a);}}function Q(e,t,o,i,r,s){const n=i*i;if(i>0&&t.size<(r?n:i))return void(o.numPoints+=t.length/3);const a=[];for(let e=0;e<t.length;e+=3)(0===i||t[e+2]>n)&&(o.numSimplified++,a.push(t[e],t[e+1])),o.numPoints++;r&&function(e,t){let o=0;for(let t=0,i=e.length,r=i-2;t<i;r=t,t+=2)o+=(e[t]-e[r])*(e[t+1]+e[r+1]);if(o>0===t)for(let t=0,o=e.length;t<o/2;t+=2){const i=e[t],r=e[t+1];e[t]=e[o-2-t],e[t+1]=e[o-1-t],e[o-2-t]=i,e[o-1-t]=r;}}(a,s),e.push(a);}const ee={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};class te{constructor(e,t){const o=(t=this.options=function(e,t){for(const o in t)e[o]=t[o];return e}(Object.create(ee),t)).debug;if(o&&console.time("preprocess data"),t.maxZoom<0||t.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(t.promoteId&&t.generateId)throw new Error("promoteId and generateId cannot be used together.");let i=function(e,t){const o=[];if("FeatureCollection"===e.type)for(let i=0;i<e.features.length;i++)F(o,e.features[i],t,i);else F(o,"Feature"===e.type?e:{geometry:e},t);return o}(e,t);this.tiles={},this.tileCoords=[],o&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),i=function(e,t){const o=t.buffer/t.extent;let i=e;const r=Z(e,1,-1-o,o,0,-1,2,t),s=Z(e,1,1-o,2+o,0,-1,2,t);return (r||s)&&(i=Z(e,1,-o,1+o,0,-1,2,t)||[],r&&(i=H(r,1).concat(i)),s&&(i=i.concat(H(s,-1)))),i}(i,t),i.length&&this.splitTile(i,0,0,0),o&&(i.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)));}splitTile(e,t,o,i,r,s,n){const a=[e,t,o,i],l=this.options,c=l.debug;for(;a.length;){i=a.pop(),o=a.pop(),t=a.pop(),e=a.pop();const u=1<<t,h=oe(t,o,i);let d=this.tiles[h];if(!d&&(c>1&&console.time("creation"),d=this.tiles[h]=U(e,t,o,i,l),this.tileCoords.push({z:t,x:o,y:i}),c)){c>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,o,i,d.numFeatures,d.numPoints,d.numSimplified),console.timeEnd("creation"));const e=`z${t}`;this.stats[e]=(this.stats[e]||0)+1,this.total++;}if(d.source=e,null==r){if(t===l.indexMaxZoom||d.numPoints<=l.indexMaxPoints)continue}else {if(t===l.maxZoom||t===r)continue;if(null!=r){const e=r-t;if(o!==s>>e||i!==n>>e)continue}}if(d.source=null,0===e.length)continue;c>1&&console.time("clipping");const f=.5*l.buffer/l.extent,g=.5-f,p=.5+f,m=1+f;let y=null,v=null,w=null,x=null,b=Z(e,u,o-f,o+p,0,d.minX,d.maxX,l),S=Z(e,u,o+g,o+m,0,d.minX,d.maxX,l);e=null,b&&(y=Z(b,u,i-f,i+p,1,d.minY,d.maxY,l),v=Z(b,u,i+g,i+m,1,d.minY,d.maxY,l),b=null),S&&(w=Z(S,u,i-f,i+p,1,d.minY,d.maxY,l),x=Z(S,u,i+g,i+m,1,d.minY,d.maxY,l),S=null),c>1&&console.timeEnd("clipping"),a.push(y||[],t+1,2*o,2*i),a.push(v||[],t+1,2*o,2*i+1),a.push(w||[],t+1,2*o+1,2*i),a.push(x||[],t+1,2*o+1,2*i+1);}}getTile(e,t,o){e=+e,t=+t,o=+o;const i=this.options,{extent:r,debug:s}=i;if(e<0||e>24)return null;const n=1<<e,a=oe(e,t=t+n&n-1,o);if(this.tiles[a])return B(this.tiles[a],r);s>1&&console.log("drilling down to z%d-%d-%d",e,t,o);let l,c=e,u=t,h=o;for(;!l&&c>0;)c--,u>>=1,h>>=1,l=this.tiles[oe(c,u,h)];return l&&l.source?(s>1&&(console.log("found parent tile z%d-%d-%d",c,u,h),console.time("drilling down")),this.splitTile(l.source,c,u,h,e,t,o),s>1&&console.timeEnd("drilling down"),this.tiles[a]?B(this.tiles[a],r):null):null}}function oe(e,t,o){return 32*((1<<e)*o+t)+e}function ie(e,t){return t?e.properties[t]:e.id}function re(e,t){if(null==e)return !0;if("Feature"===e.type)return null!=ie(e,t);if("FeatureCollection"===e.type){const o=new Set;for(const i of e.features){const e=ie(i,t);if(null==e)return !1;if(o.has(e))return !1;o.add(e);}return !0}return !1}function se(e,t){const o=new Map;if(null==e);else if("Feature"===e.type)o.set(ie(e,t),e);else for(const i of e.features)o.set(ie(i,t),i);return o}class ne extends s{constructor(){super(...arguments),this._dataUpdateable=new Map;}loadVectorTile(t,o){return e._(this,void 0,void 0,(function*(){const e=t.tileID.canonical;if(!this._geoJSONIndex)throw new Error("Unable to parse the data into a cluster or geojson");const o=this._geoJSONIndex.getTile(e.z,e.x,e.y);if(!o)return null;const i=new f(o.features);let r=w(i);return 0===r.byteOffset&&r.byteLength===r.buffer.byteLength||(r=new Uint8Array(r)),{vectorTile:i,rawData:r.buffer}}))}loadData(t){return e._(this,void 0,void 0,(function*(){var o;null===(o=this._pendingRequest)||void 0===o||o.abort();const i=!!(t&&t.request&&t.request.collectResourceTiming)&&new e.cM(t.request);this._pendingRequest=new AbortController;try{this._pendingData=this.loadAndProcessGeoJSON(t,this._pendingRequest),this._geoJSONIndex=t.cluster?new _(function({superclusterOptions:t,clusterProperties:o}){if(!o||!t)return t;const i={},r={},s={accumulated:null,zoom:0},n={properties:null},a=Object.keys(o);for(const t of a){const[s,n]=o[t],a=e.cT(n),l=e.cT("string"==typeof s?[s,["accumulated"],["get",t]]:s);i[t]=a.value,r[t]=l.value;}return t.map=e=>{n.properties=e;const t={};for(const e of a)t[e]=i[e].evaluate(s,n);return t},t.reduce=(e,t)=>{n.properties=t;for(const t of a)s.accumulated=e[t],e[t]=r[t].evaluate(s,n);},t}(t)).load((yield this._pendingData).features):(r=yield this._pendingData,new te(r,t.geojsonVtOptions)),this.loaded={};const o={};if(i){const e=i.finish();e&&(o.resourceTiming={},o.resourceTiming[t.source]=JSON.parse(JSON.stringify(e)));}return o}catch(t){if(delete this._pendingRequest,e.cx(t))return {abandoned:!0};throw t}var r;}))}getData(){return e._(this,void 0,void 0,(function*(){return this._pendingData}))}reloadTile(e){const t=this.loaded;return t&&t[e.uid]?super.reloadTile(e):this.loadTile(e)}loadAndProcessGeoJSON(t,o){return e._(this,void 0,void 0,(function*(){let i=yield this.loadGeoJSON(t,o);if(delete this._pendingRequest,"object"!=typeof i)throw new Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`);if(u(i,!0),t.filter){const o=e.cT(t.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===o.result)throw new Error(o.value.map((e=>`${e.key}: ${e.message}`)).join(", "));const r=i.features.filter((e=>o.value.evaluate({zoom:0},e)));i={type:"FeatureCollection",features:r};}return i}))}loadGeoJSON(t,o){return e._(this,void 0,void 0,(function*(){const{promoteId:i}=t;if(t.request){const r=yield e.j(t.request,o);return this._dataUpdateable=re(r.data,i)?se(r.data,i):void 0,r.data}if("string"==typeof t.data)try{const e=JSON.parse(t.data);return this._dataUpdateable=re(e,i)?se(e,i):void 0,e}catch(e){throw new Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`)}if(!t.dataDiff)throw new Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`);if(!this._dataUpdateable)throw new Error(`Cannot update existing geojson data in ${t.source}`);return function(e,t,o){var i,r,s,n;if(t.removeAll&&e.clear(),t.remove)for(const o of t.remove)e.delete(o);if(t.add)for(const i of t.add){const t=ie(i,o);null!=t&&e.set(t,i);}if(t.update)for(const o of t.update){let t=e.get(o.id);if(null==t)continue;const a=!o.removeAllProperties&&((null===(i=o.removeProperties)||void 0===i?void 0:i.length)>0||(null===(r=o.addOrUpdateProperties)||void 0===r?void 0:r.length)>0);if((o.newGeometry||o.removeAllProperties||a)&&(t=Object.assign({},t),e.set(o.id,t),a&&(t.properties=Object.assign({},t.properties))),o.newGeometry&&(t.geometry=o.newGeometry),o.removeAllProperties)t.properties={};else if((null===(s=o.removeProperties)||void 0===s?void 0:s.length)>0)for(const e of o.removeProperties)Object.prototype.hasOwnProperty.call(t.properties,e)&&delete t.properties[e];if((null===(n=o.addOrUpdateProperties)||void 0===n?void 0:n.length)>0)for(const{key:e,value:i}of o.addOrUpdateProperties)t.properties[e]=i;}}(this._dataUpdateable,t.dataDiff,i),{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())}}))}removeSource(t){return e._(this,void 0,void 0,(function*(){this._pendingRequest&&this._pendingRequest.abort();}))}getClusterExpansionZoom(e){return this._geoJSONIndex.getClusterExpansionZoom(e.clusterId)}getClusterChildren(e){return this._geoJSONIndex.getChildren(e.clusterId)}getClusterLeaves(e){return this._geoJSONIndex.getLeaves(e.clusterId,e.limit,e.offset)}}class ae{constructor(t){this.self=t,this.actor=new e.J(t),this.layerIndexes={},this.availableImages={},this.workerSources={},this.demWorkerSources={},this.externalWorkerSourceTypes={},this.self.registerWorkerSource=(e,t)=>{if(this.externalWorkerSourceTypes[e])throw new Error(`Worker source with name "${e}" already registered.`);this.externalWorkerSourceTypes[e]=t;},this.self.addProtocol=e.cz,this.self.removeProtocol=e.cA,this.self.registerRTLTextPlugin=t=>{e.cU.setMethods(t);},this.actor.registerMessageHandler("LDT",((e,t)=>this._getDEMWorkerSource(e,t.source).loadTile(t))),this.actor.registerMessageHandler("RDT",((t,o)=>e._(this,void 0,void 0,(function*(){this._getDEMWorkerSource(t,o.source).removeTile(o);})))),this.actor.registerMessageHandler("GCEZ",((t,o)=>e._(this,void 0,void 0,(function*(){return this._getWorkerSource(t,o.type,o.source).getClusterExpansionZoom(o)})))),this.actor.registerMessageHandler("GCC",((t,o)=>e._(this,void 0,void 0,(function*(){return this._getWorkerSource(t,o.type,o.source).getClusterChildren(o)})))),this.actor.registerMessageHandler("GCL",((t,o)=>e._(this,void 0,void 0,(function*(){return this._getWorkerSource(t,o.type,o.source).getClusterLeaves(o)})))),this.actor.registerMessageHandler("LD",((e,t)=>this._getWorkerSource(e,t.type,t.source).loadData(t))),this.actor.registerMessageHandler("GD",((e,t)=>this._getWorkerSource(e,t.type,t.source).getData())),this.actor.registerMessageHandler("LT",((e,t)=>this._getWorkerSource(e,t.type,t.source).loadTile(t))),this.actor.registerMessageHandler("RT",((e,t)=>this._getWorkerSource(e,t.type,t.source).reloadTile(t))),this.actor.registerMessageHandler("AT",((e,t)=>this._getWorkerSource(e,t.type,t.source).abortTile(t))),this.actor.registerMessageHandler("RMT",((e,t)=>this._getWorkerSource(e,t.type,t.source).removeTile(t))),this.actor.registerMessageHandler("RS",((t,o)=>e._(this,void 0,void 0,(function*(){if(!this.workerSources[t]||!this.workerSources[t][o.type]||!this.workerSources[t][o.type][o.source])return;const e=this.workerSources[t][o.type][o.source];delete this.workerSources[t][o.type][o.source],void 0!==e.removeSource&&e.removeSource(o);})))),this.actor.registerMessageHandler("RM",(t=>e._(this,void 0,void 0,(function*(){delete this.layerIndexes[t],delete this.availableImages[t],delete this.workerSources[t],delete this.demWorkerSources[t];})))),this.actor.registerMessageHandler("SR",((t,o)=>e._(this,void 0,void 0,(function*(){this.referrer=o;})))),this.actor.registerMessageHandler("SRPS",((e,t)=>this._syncRTLPluginState(e,t))),this.actor.registerMessageHandler("IS",((t,o)=>e._(this,void 0,void 0,(function*(){this.self.importScripts(o);})))),this.actor.registerMessageHandler("SI",((e,t)=>this._setImages(e,t))),this.actor.registerMessageHandler("UL",((t,o)=>e._(this,void 0,void 0,(function*(){this._getLayerIndex(t).update(o.layers,o.removedIds);})))),this.actor.registerMessageHandler("SL",((t,o)=>e._(this,void 0,void 0,(function*(){this._getLayerIndex(t).replace(o);}))));}_setImages(t,o){return e._(this,void 0,void 0,(function*(){this.availableImages[t]=o;for(const e in this.workerSources[t]){const i=this.workerSources[t][e];for(const e in i)i[e].availableImages=o;}}))}_syncRTLPluginState(t,o){return e._(this,void 0,void 0,(function*(){return yield e.cU.syncState(o,this.self.importScripts)}))}_getAvailableImages(e){let t=this.availableImages[e];return t||(t=[]),t}_getLayerIndex(e){let o=this.layerIndexes[e];return o||(o=this.layerIndexes[e]=new t),o}_getWorkerSource(e,t,o){if(this.workerSources[e]||(this.workerSources[e]={}),this.workerSources[e][t]||(this.workerSources[e][t]={}),!this.workerSources[e][t][o]){const i={sendAsync:(t,o)=>(t.targetMapId=e,this.actor.sendAsync(t,o))};switch(t){case "vector":this.workerSources[e][t][o]=new s(i,this._getLayerIndex(e),this._getAvailableImages(e));break;case "geojson":this.workerSources[e][t][o]=new ne(i,this._getLayerIndex(e),this._getAvailableImages(e));break;default:this.workerSources[e][t][o]=new this.externalWorkerSourceTypes[t](i,this._getLayerIndex(e),this._getAvailableImages(e));}}return this.workerSources[e][t][o]}_getDEMWorkerSource(e,t){return this.demWorkerSources[e]||(this.demWorkerSources[e]={}),this.demWorkerSources[e][t]||(this.demWorkerSources[e][t]=new n),this.demWorkerSources[e][t]}}return e.i(self)&&(self.worker=new ae(self)),ae}));

define("index",["exports","./shared"],(function(e,t){"use strict";var i="5.6.0";function o(){var e=new t.A(4);return t.A!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e}let r,a;const s={now:"undefined"!=typeof performance&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(e,i,o){const r=requestAnimationFrame((e=>{a(),i(e);})),{unsubscribe:a}=t.s(e.signal,"abort",(()=>{a(),cancelAnimationFrame(r),o(t.c());}),!1);},frameAsync(e){return new Promise(((t,i)=>{this.frame(e,t,i);}))},getImageData(e,t=0){return this.getImageCanvasContext(e).getImageData(-t,-t,e.width+2*t,e.height+2*t)},getImageCanvasContext(e){const t=window.document.createElement("canvas"),i=t.getContext("2d",{willReadFrequently:!0});if(!i)throw new Error("failed to create canvas 2d context");return t.width=e.width,t.height=e.height,i.drawImage(e,0,0,e.width,e.height),i},resolveURL:e=>(r||(r=document.createElement("a")),r.href=e,r.href),hardwareConcurrency:"undefined"!=typeof navigator&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return !!matchMedia&&(null==a&&(a=matchMedia("(prefers-reduced-motion: reduce)")),a.matches)}};class n{static testProp(e){if(!n.docStyle)return e[0];for(let t=0;t<e.length;t++)if(e[t]in n.docStyle)return e[t];return e[0]}static create(e,t,i){const o=window.document.createElement(e);return void 0!==t&&(o.className=t),i&&i.appendChild(o),o}static createNS(e,t){return window.document.createElementNS(e,t)}static disableDrag(){n.docStyle&&n.selectProp&&(n.userSelect=n.docStyle[n.selectProp],n.docStyle[n.selectProp]="none");}static enableDrag(){n.docStyle&&n.selectProp&&(n.docStyle[n.selectProp]=n.userSelect);}static setTransform(e,t){e.style[n.transformProp]=t;}static addEventListener(e,t,i,o={}){e.addEventListener(t,i,"passive"in o?o:o.capture);}static removeEventListener(e,t,i,o={}){e.removeEventListener(t,i,"passive"in o?o:o.capture);}static suppressClickInternal(e){e.preventDefault(),e.stopPropagation(),window.removeEventListener("click",n.suppressClickInternal,!0);}static suppressClick(){window.addEventListener("click",n.suppressClickInternal,!0),window.setTimeout((()=>{window.removeEventListener("click",n.suppressClickInternal,!0);}),0);}static getScale(e){const t=e.getBoundingClientRect();return {x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}static getPoint(e,i,o){const r=i.boundingClientRect;return new t.P((o.clientX-r.left)/i.x-e.clientLeft,(o.clientY-r.top)/i.y-e.clientTop)}static mousePos(e,t){const i=n.getScale(e);return n.getPoint(e,i,t)}static touchPos(e,t){const i=[],o=n.getScale(e);for(let r=0;r<t.length;r++)i.push(n.getPoint(e,o,t[r]));return i}static mouseButton(e){return e.button}static remove(e){e.parentNode&&e.parentNode.removeChild(e);}static sanitize(e){const t=(new DOMParser).parseFromString(e,"text/html").body||document.createElement("body"),i=t.querySelectorAll("script");for(const e of i)e.remove();return n.clean(t),t.innerHTML}static isPossiblyDangerous(e,t){const i=t.replace(/\s+/g,"").toLowerCase();return !(!["src","href","xlink:href"].includes(e)||!i.includes("javascript:")&&!i.includes("data:"))||!!e.startsWith("on")||void 0}static clean(e){const t=e.children;for(const e of t)n.removeAttributes(e),n.clean(e);}static removeAttributes(e){for(const{name:t,value:i}of e.attributes)n.isPossiblyDangerous(t,i)&&e.removeAttribute(t);}}n.docStyle="undefined"!=typeof window&&window.document&&window.document.documentElement.style,n.selectProp=n.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),n.transformProp=n.testProp(["transform","WebkitTransform"]);const l={supported:!1,testSupport:function(e){!u&&h&&(d?_(e):c=e);}};let c,h,u=!1,d=!1;function _(e){const t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);try{if(e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,h),e.isContextLost())return;l.supported=!0;}catch(e){}e.deleteTexture(t),u=!0;}var p;"undefined"!=typeof document&&(h=document.createElement("img"),h.onload=()=>{c&&_(c),c=null,d=!0;},h.onerror=()=>{u=!0,c=null;},h.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(e){let i,o,r,a;e.resetRequestQueue=()=>{i=[],o=0,r=0,a={};},e.addThrottleControl=e=>{const t=r++;return a[t]=e,t},e.removeThrottleControl=e=>{delete a[e],n();},e.getImage=(e,o,r=!0)=>new Promise(((a,s)=>{l.supported&&(e.headers||(e.headers={}),e.headers.accept="image/webp,*/*"),t.e(e,{type:"image"}),i.push({abortController:o,requestParameters:e,supportImageRefresh:r,state:"queued",onError:e=>{s(e);},onSuccess:e=>{a(e);}}),n();}));const s=e=>t._(this,void 0,void 0,(function*(){e.state="running";const{requestParameters:i,supportImageRefresh:r,onError:a,onSuccess:s,abortController:l}=e,h=!1===r&&!t.i(self)&&!t.g(i.url)&&(!i.headers||Object.keys(i.headers).reduce(((e,t)=>e&&"accept"===t),!0));o++;const u=h?c(i,l):t.m(i,l);try{const i=yield u;delete e.abortController,e.state="completed",i.data instanceof HTMLImageElement||t.b(i.data)?s(i):i.data&&s({data:yield(d=i.data,"function"==typeof createImageBitmap?t.f(d):t.h(d)),cacheControl:i.cacheControl,expires:i.expires});}catch(t){delete e.abortController,a(t);}finally{o--,n();}var d;})),n=()=>{const e=(()=>{for(const e of Object.keys(a))if(a[e]())return !0;return !1})()?t.a.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:t.a.MAX_PARALLEL_IMAGE_REQUESTS;for(let t=o;t<e&&i.length>0;t++){const e=i.shift();e.abortController.signal.aborted?t--:s(e);}},c=(e,i)=>new Promise(((o,r)=>{const a=new Image,s=e.url,n=e.credentials;n&&"include"===n?a.crossOrigin="use-credentials":(n&&"same-origin"===n||!t.d(s))&&(a.crossOrigin="anonymous"),i.signal.addEventListener("abort",(()=>{a.src="",r(t.c());})),a.fetchPriority="high",a.onload=()=>{a.onerror=a.onload=null,o({data:a});},a.onerror=()=>{a.onerror=a.onload=null,i.signal.aborted||r(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));},a.src=s;}));}(p||(p={})),p.resetRequestQueue();class m{constructor(e){this._transformRequestFn=e;}transformRequest(e,t){return this._transformRequestFn&&this._transformRequestFn(e,t)||{url:e}}setTransformRequest(e){this._transformRequestFn=e;}}function f(e){const t=[];if("string"==typeof e)t.push({id:"default",url:e});else if(e&&e.length>0){const i=[];for(const{id:o,url:r}of e){const e=`${o}${r}`;-1===i.indexOf(e)&&(i.push(e),t.push({id:o,url:r}));}}return t}function g(e,t,i){try{const o=new URL(e);return o.pathname+=`${t}${i}`,o.toString()}catch(t){throw new Error(`Invalid sprite URL "${e}", must be absolute. Modify style specification directly or use TransformStyleFunction to correct the issue dynamically`)}}function v(e){const{userImage:t}=e;return !!(t&&t.render&&t.render())&&(e.data.replace(new Uint8Array(t.data.buffer)),!0)}class b extends t.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new t.R({width:1,height:1}),this.dirty=!0;}isLoaded(){return this.loaded}setLoaded(e){if(this.loaded!==e&&(this.loaded=e,e)){for(const{ids:e,promiseResolve:t}of this.requestors)t(this._getImagesForIds(e));this.requestors=[];}}getImage(e){const i=this.images[e];if(i&&!i.data&&i.spriteData){const e=i.spriteData;i.data=new t.R({width:e.width,height:e.height},e.context.getImageData(e.x,e.y,e.width,e.height).data),i.spriteData=null;}return i}addImage(e,t){if(this.images[e])throw new Error(`Image id ${e} already exist, use updateImage instead`);this._validate(e,t)&&(this.images[e]=t);}_validate(e,i){let o=!0;const r=i.data||i.spriteData;return this._validateStretch(i.stretchX,r&&r.width)||(this.fire(new t.k(new Error(`Image "${e}" has invalid "stretchX" value`))),o=!1),this._validateStretch(i.stretchY,r&&r.height)||(this.fire(new t.k(new Error(`Image "${e}" has invalid "stretchY" value`))),o=!1),this._validateContent(i.content,i)||(this.fire(new t.k(new Error(`Image "${e}" has invalid "content" value`))),o=!1),o}_validateStretch(e,t){if(!e)return !0;let i=0;for(const o of e){if(o[0]<i||o[1]<o[0]||t<o[1])return !1;i=o[1];}return !0}_validateContent(e,t){if(!e)return !0;if(4!==e.length)return !1;const i=t.spriteData,o=i&&i.width||t.data.width,r=i&&i.height||t.data.height;return !(e[0]<0||o<e[0]||e[1]<0||r<e[1]||e[2]<0||o<e[2]||e[3]<0||r<e[3]||e[2]<e[0]||e[3]<e[1])}updateImage(e,t,i=!0){const o=this.getImage(e);if(i&&(o.data.width!==t.data.width||o.data.height!==t.data.height))throw new Error(`size mismatch between old image (${o.data.width}x${o.data.height}) and new image (${t.data.width}x${t.data.height}).`);t.version=o.version+1,this.images[e]=t,this.updatedImages[e]=!0;}removeImage(e){const t=this.images[e];delete this.images[e],delete this.patterns[e],t.userImage&&t.userImage.onRemove&&t.userImage.onRemove();}listImages(){return Object.keys(this.images)}getImages(e){return new Promise(((t,i)=>{let o=!0;if(!this.isLoaded())for(const t of e)this.images[t]||(o=!1);this.isLoaded()||o?t(this._getImagesForIds(e)):this.requestors.push({ids:e,promiseResolve:t});}))}_getImagesForIds(e){const i={};for(const o of e){let e=this.getImage(o);e||(this.fire(new t.l("styleimagemissing",{id:o})),e=this.getImage(o)),e?i[o]={data:e.data.clone(),pixelRatio:e.pixelRatio,sdf:e.sdf,version:e.version,stretchX:e.stretchX,stretchY:e.stretchY,content:e.content,textFitWidth:e.textFitWidth,textFitHeight:e.textFitHeight,hasRenderCallback:Boolean(e.userImage&&e.userImage.render)}:t.w(`Image "${o}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`);}return i}getPixelSize(){const{width:e,height:t}=this.atlasImage;return {width:e,height:t}}getPattern(e){const i=this.patterns[e],o=this.getImage(e);if(!o)return null;if(i&&i.position.version===o.version)return i.position;if(i)i.position.version=o.version;else {const i={w:o.data.width+2,h:o.data.height+2,x:0,y:0},r=new t.I(i,o);this.patterns[e]={bin:i,position:r};}return this._updatePatternAtlas(),this.patterns[e].position}bind(e){const i=e.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new t.T(e,this.atlasImage,i.RGBA),this.atlasTexture.bind(i.LINEAR,i.CLAMP_TO_EDGE);}_updatePatternAtlas(){const e=[];for(const t in this.patterns)e.push(this.patterns[t].bin);const{w:i,h:o}=t.p(e),r=this.atlasImage;r.resize({width:i||1,height:o||1});for(const e in this.patterns){const{bin:i}=this.patterns[e],o=i.x+1,a=i.y+1,s=this.getImage(e).data,n=s.width,l=s.height;t.R.copy(s,r,{x:0,y:0},{x:o,y:a},{width:n,height:l}),t.R.copy(s,r,{x:0,y:l-1},{x:o,y:a-1},{width:n,height:1}),t.R.copy(s,r,{x:0,y:0},{x:o,y:a+l},{width:n,height:1}),t.R.copy(s,r,{x:n-1,y:0},{x:o-1,y:a},{width:1,height:l}),t.R.copy(s,r,{x:0,y:0},{x:o+n,y:a},{width:1,height:l});}this.dirty=!0;}beginFrame(){this.callbackDispatchedThisFrame={};}dispatchRenderCallbacks(e){for(const i of e){if(this.callbackDispatchedThisFrame[i])continue;this.callbackDispatchedThisFrame[i]=!0;const e=this.getImage(i);e||t.w(`Image with ID: "${i}" was not found`),v(e)&&this.updateImage(i,e);}}}const x=1e20;function y(e,t,i,o,r,a,s,n,l){for(let c=t;c<t+o;c++)w(e,i*a+c,a,r,s,n,l);for(let c=i;c<i+r;c++)w(e,c*a+t,1,o,s,n,l);}function w(e,t,i,o,r,a,s){a[0]=0,s[0]=-1e20,s[1]=x,r[0]=e[t];for(let n=1,l=0,c=0;n<o;n++){r[n]=e[t+n*i];const o=n*n;do{const e=a[l];c=(r[n]-r[e]+o-e*e)/(n-e)/2;}while(c<=s[l]&&--l>-1);l++,a[l]=n,s[l]=c,s[l+1]=x;}for(let n=0,l=0;n<o;n++){for(;s[l+1]<n;)l++;const o=a[l],c=n-o;e[t+n*i]=r[o]+c*c;}}class T{constructor(e,t){this.requestManager=e,this.localIdeographFontFamily=t,this.entries={};}setURL(e){this.url=e;}getGlyphs(e){return t._(this,void 0,void 0,(function*(){const t=[];for(const i in e)for(const o of e[i])t.push(this._getAndCacheGlyphsPromise(i,o));const i=yield Promise.all(t),o={};for(const{stack:e,id:t,glyph:r}of i)o[e]||(o[e]={}),o[e][t]=r&&{id:r.id,bitmap:r.bitmap.clone(),metrics:r.metrics};return o}))}_getAndCacheGlyphsPromise(e,i){return t._(this,void 0,void 0,(function*(){let t=this.entries[e];t||(t=this.entries[e]={glyphs:{},requests:{},ranges:{}});let o=t.glyphs[i];if(void 0!==o)return {stack:e,id:i,glyph:o};if(o=this._tinySDF(t,e,i),o)return t.glyphs[i]=o,{stack:e,id:i,glyph:o};const r=Math.floor(i/256);if(256*r>65535)throw new Error("glyphs > 65535 not supported");if(t.ranges[r])return {stack:e,id:i,glyph:o};if(!this.url)throw new Error("glyphsUrl is not set");if(!t.requests[r]){const i=T.loadGlyphRange(e,r,this.url,this.requestManager);t.requests[r]=i;}const a=yield t.requests[r];for(const e in a)this._doesCharSupportLocalGlyph(+e)||(t.glyphs[+e]=a[+e]);return t.ranges[r]=!0,{stack:e,id:i,glyph:a[i]||null}}))}_doesCharSupportLocalGlyph(e){return !!this.localIdeographFontFamily&&(/\p{Ideo}|\p{sc=Hang}|\p{sc=Hira}|\p{sc=Kana}/u.test(String.fromCodePoint(e))||t.u["CJK Unified Ideographs"](e)||t.u["Hangul Syllables"](e)||t.u.Hiragana(e)||t.u.Katakana(e)||t.u["CJK Symbols and Punctuation"](e)||t.u["Halfwidth and Fullwidth Forms"](e))}_tinySDF(e,i,o){const r=this.localIdeographFontFamily;if(!r)return;if(!this._doesCharSupportLocalGlyph(o))return;let a=e.tinySDF;if(!a){let t="400";/bold/i.test(i)?t="900":/medium/i.test(i)?t="500":/light/i.test(i)&&(t="200"),a=e.tinySDF=new T.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:r,fontWeight:t});}const s=a.draw(String.fromCharCode(o));return {id:o,bitmap:new t.q({width:s.width||60,height:s.height||60},s.data),metrics:{width:s.glyphWidth/2||24,height:s.glyphHeight/2||24,left:s.glyphLeft/2+.5||0,top:s.glyphTop/2-27.5||-8,advance:s.glyphAdvance/2||24,isDoubleResolution:!0}}}}T.loadGlyphRange=function(e,i,o,r){return t._(this,void 0,void 0,(function*(){const a=256*i,s=a+255,n=r.transformRequest(o.replace("{fontstack}",e).replace("{range}",`${a}-${s}`),"Glyphs"),l=yield t.n(n,new AbortController);if(!l||!l.data)throw new Error(`Could not load glyph range. range: ${i}, ${a}-${s}`);const c={};for(const e of t.o(l.data))c[e.id]=e;return c}))},T.TinySDF=class{constructor({fontSize:e=24,buffer:t=3,radius:i=8,cutoff:o=.25,fontFamily:r="sans-serif",fontWeight:a="normal",fontStyle:s="normal"}={}){this.buffer=t,this.cutoff=o,this.radius=i;const n=this.size=e+4*t,l=this._createCanvas(n),c=this.ctx=l.getContext("2d",{willReadFrequently:!0});c.font=`${s} ${a} ${e}px ${r}`,c.textBaseline="alphabetic",c.textAlign="left",c.fillStyle="black",this.gridOuter=new Float64Array(n*n),this.gridInner=new Float64Array(n*n),this.f=new Float64Array(n),this.z=new Float64Array(n+1),this.v=new Uint16Array(n);}_createCanvas(e){const t=document.createElement("canvas");return t.width=t.height=e,t}draw(e){const{width:t,actualBoundingBoxAscent:i,actualBoundingBoxDescent:o,actualBoundingBoxLeft:r,actualBoundingBoxRight:a}=this.ctx.measureText(e),s=Math.ceil(i),n=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(a-r))),l=Math.min(this.size-this.buffer,s+Math.ceil(o)),c=n+2*this.buffer,h=l+2*this.buffer,u=Math.max(c*h,0),d=new Uint8ClampedArray(u),_={data:d,width:c,height:h,glyphWidth:n,glyphHeight:l,glyphTop:s,glyphLeft:0,glyphAdvance:t};if(0===n||0===l)return _;const{ctx:p,buffer:m,gridInner:f,gridOuter:g}=this;p.clearRect(m,m,n,l),p.fillText(e,m,m+s);const v=p.getImageData(m,m,n,l);g.fill(x,0,u),f.fill(0,0,u);for(let e=0;e<l;e++)for(let t=0;t<n;t++){const i=v.data[4*(e*n+t)+3]/255;if(0===i)continue;const o=(e+m)*c+t+m;if(1===i)g[o]=0,f[o]=x;else {const e=.5-i;g[o]=e>0?e*e:0,f[o]=e<0?e*e:0;}}y(g,0,0,c,h,c,this.f,this.v,this.z),y(f,m,m,n,l,c,this.f,this.v,this.z);for(let e=0;e<u;e++){const t=Math.sqrt(g[e])-Math.sqrt(f[e]);d[e]=Math.round(255-255*(t/this.radius+this.cutoff));}return _}};class P{constructor(){this.specification=t.v.light.position;}possiblyEvaluate(e,i){return t.B(e.expression.evaluate(i))}interpolate(e,i,o){return {x:t.C.number(e.x,i.x,o),y:t.C.number(e.y,i.y,o),z:t.C.number(e.z,i.z,o)}}}let C;class I extends t.E{constructor(e){super(),C=C||new t.r({anchor:new t.D(t.v.light.anchor),position:new P,color:new t.D(t.v.light.color),intensity:new t.D(t.v.light.intensity)}),this._transitionable=new t.t(C),this.setLight(e),this._transitioning=this._transitionable.untransitioned();}getLight(){return this._transitionable.serialize()}setLight(e,i={}){if(!this._validate(t.x,e,i))for(const t in e){const i=e[t];t.endsWith("-transition")?this._transitionable.setTransition(t.slice(0,-11),i):this._transitionable.setValue(t,i);}}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning);}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e);}_validate(e,i,o){return (!o||!1!==o.validate)&&t.y(this,e.call(t.z,{value:i,style:{glyphs:!0,sprite:!0},styleSpec:t.v}))}}const M=new t.r({"sky-color":new t.D(t.v.sky["sky-color"]),"horizon-color":new t.D(t.v.sky["horizon-color"]),"fog-color":new t.D(t.v.sky["fog-color"]),"fog-ground-blend":new t.D(t.v.sky["fog-ground-blend"]),"horizon-fog-blend":new t.D(t.v.sky["horizon-fog-blend"]),"sky-horizon-blend":new t.D(t.v.sky["sky-horizon-blend"]),"atmosphere-blend":new t.D(t.v.sky["atmosphere-blend"])});class S extends t.E{constructor(e){super(),this._transitionable=new t.t(M),this.setSky(e),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new t.F(0));}setSky(e,i={}){if(!this._validate(t.G,e,i)){e||(e={"sky-color":"transparent","horizon-color":"transparent","fog-color":"transparent","fog-ground-blend":1,"atmosphere-blend":0});for(const t in e){const i=e[t];t.endsWith("-transition")?this._transitionable.setTransition(t.slice(0,-11),i):this._transitionable.setValue(t,i);}}}getSky(){return this._transitionable.serialize()}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning);}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e);}_validate(e,i,o={}){return !1!==(null==o?void 0:o.validate)&&t.y(this,e.call(t.z,t.e({value:i,style:{glyphs:!0,sprite:!0},styleSpec:t.v})))}calculateFogBlendOpacity(e){return e<60?0:e<70?(e-60)/10:1}}class E{constructor(e,t){this.width=e,this.height=t,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={};}getDash(e,t){const i=e.join(",")+String(t);return this.dashEntry[i]||(this.dashEntry[i]=this.addDash(e,t)),this.dashEntry[i]}getDashRanges(e,t,i){const o=[];let r=e.length%2==1?-e[e.length-1]*i:0,a=e[0]*i,s=!0;o.push({left:r,right:a,isDash:s,zeroLength:0===e[0]});let n=e[0];for(let t=1;t<e.length;t++){s=!s;const l=e[t];r=n*i,n+=l,a=n*i,o.push({left:r,right:a,isDash:s,zeroLength:0===l});}return o}addRoundDash(e,t,i){const o=t/2;for(let t=-i;t<=i;t++){const r=this.width*(this.nextRow+i+t);let a=0,s=e[a];for(let n=0;n<this.width;n++){n/s.right>1&&(s=e[++a]);const l=Math.abs(n-s.left),c=Math.abs(n-s.right),h=Math.min(l,c);let u;const d=t/i*(o+1);if(s.isDash){const e=o-Math.abs(d);u=Math.sqrt(h*h+e*e);}else u=o-Math.sqrt(h*h+d*d);this.data[r+n]=Math.max(0,Math.min(255,u+128));}}}addRegularDash(e){for(let t=e.length-1;t>=0;--t){const i=e[t],o=e[t+1];i.zeroLength?e.splice(t,1):o&&o.isDash===i.isDash&&(o.left=i.left,e.splice(t,1));}const t=e[0],i=e[e.length-1];t.isDash===i.isDash&&(t.left=i.left-this.width,i.right=t.right+this.width);const o=this.width*this.nextRow;let r=0,a=e[r];for(let t=0;t<this.width;t++){t/a.right>1&&(a=e[++r]);const i=Math.abs(t-a.left),s=Math.abs(t-a.right),n=Math.min(i,s);this.data[o+t]=Math.max(0,Math.min(255,(a.isDash?n:-n)+128));}}addDash(e,i){const o=i?7:0,r=2*o+1;if(this.nextRow+r>this.height)return t.w("LineAtlas out of space"),null;let a=0;for(let t=0;t<e.length;t++)a+=e[t];if(0!==a){const t=this.width/a,r=this.getDashRanges(e,this.width,t);i?this.addRoundDash(r,t,o):this.addRegularDash(r);}const s={y:(this.nextRow+o+.5)/this.height,height:2*o/this.height,width:a};return this.nextRow+=r,this.dirty=!0,s}bind(e){const t=e.gl;this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.ALPHA,t.UNSIGNED_BYTE,this.data))):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,this.width,this.height,0,t.ALPHA,t.UNSIGNED_BYTE,this.data));}}const R="maplibre_preloaded_worker_pool";class z{constructor(){this.active={};}acquire(e){if(!this.workers)for(this.workers=[];this.workers.length<z.workerCount;)this.workers.push(new Worker(t.a.WORKER_URL));return this.active[e]=!0,this.workers.slice()}release(e){delete this.active[e],0===this.numActive()&&(this.workers.forEach((e=>{e.terminate();})),this.workers=null);}isPreloaded(){return !!this.active[R]}numActive(){return Object.keys(this.active).length}}const D=Math.floor(s.hardwareConcurrency/2);let A,L;function k(){return A||(A=new z),A}z.workerCount=t.H(globalThis)?Math.max(Math.min(D,3),1):1;class F{constructor(e,i){this.workerPool=e,this.actors=[],this.currentActor=0,this.id=i;const o=this.workerPool.acquire(i);for(let e=0;e<o.length;e++){const r=new t.J(o[e],i);r.name=`Worker ${e}`,this.actors.push(r);}if(!this.actors.length)throw new Error("No actors found")}broadcast(e,t){const i=[];for(const o of this.actors)i.push(o.sendAsync({type:e,data:t}));return Promise.all(i)}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(e=!0){this.actors.forEach((e=>{e.remove();})),this.actors=[],e&&this.workerPool.release(this.id);}registerMessageHandler(e,t){for(const i of this.actors)i.registerMessageHandler(e,t);}}function B(){return L||(L=new F(k(),t.K),L.registerMessageHandler("GR",((e,i,o)=>t.m(i,o)))),L}function O(e,i){const o=t.L();return t.M(o,o,[1,1,0]),t.N(o,o,[.5*e.width,.5*e.height,1]),e.calculatePosMatrix?t.O(o,o,e.calculatePosMatrix(i.toUnwrapped())):o}function j(e,t,i,o,r,a,s){var n;const l=function(e,t,i){if(e)for(const o of e){const e=t[o];if(e&&e.source===i&&"fill-extrusion"===e.type)return !0}else for(const e in t){const o=t[e];if(o.source===i&&"fill-extrusion"===o.type)return !0}return !1}(null!==(n=null==r?void 0:r.layers)&&void 0!==n?n:null,t,e.id),c=a.maxPitchScaleFactor(),h=e.tilesIn(o,c,l);h.sort(N);const u=[];for(const o of h)u.push({wrappedTileID:o.tileID.wrapped().key,queryResults:o.tile.queryRenderedFeatures(t,i,e._state,o.queryGeometry,o.cameraQueryGeometry,o.scale,r,a,c,O(e.transform,o.tileID),s?(e,t)=>s(o.tileID,e,t):void 0)});return function(e,t){for(const i in e)for(const o of e[i])Z(o,t);return e}(function(e){const t={},i={};for(const o of e){const e=o.queryResults,r=o.wrappedTileID,a=i[r]=i[r]||{};for(const i in e){const o=e[i],r=a[i]=a[i]||{},s=t[i]=t[i]||[];for(const e of o)r[e.featureIndex]||(r[e.featureIndex]=!0,s.push(e));}}return t}(u),e)}function N(e,t){const i=e.tileID,o=t.tileID;return i.overscaledZ-o.overscaledZ||i.canonical.y-o.canonical.y||i.wrap-o.wrap||i.canonical.x-o.canonical.x}function Z(e,t){const i=e.feature,o=t.getFeatureState(i.layer["source-layer"],i.id);i.source=i.layer.source,i.layer["source-layer"]&&(i.sourceLayer=i.layer["source-layer"]),i.state=o;}function U(e,i,o){return t._(this,void 0,void 0,(function*(){let r=e;if(e.url?r=(yield t.j(i.transformRequest(e.url,"Source"),o)).data:yield s.frameAsync(o),!r)return null;const a=t.Q(t.e(r,e),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);return "vector_layers"in r&&r.vector_layers&&(a.vectorLayerIds=r.vector_layers.map((e=>e.id))),a}))}class G{constructor(e,t){e&&(t?this.setSouthWest(e).setNorthEast(t):Array.isArray(e)&&(4===e.length?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1])));}setNorthEast(e){return this._ne=e instanceof t.S?new t.S(e.lng,e.lat):t.S.convert(e),this}setSouthWest(e){return this._sw=e instanceof t.S?new t.S(e.lng,e.lat):t.S.convert(e),this}extend(e){const i=this._sw,o=this._ne;let r,a;if(e instanceof t.S)r=e,a=e;else {if(!(e instanceof G))return Array.isArray(e)?4===e.length||e.every(Array.isArray)?this.extend(G.convert(e)):this.extend(t.S.convert(e)):e&&("lng"in e||"lon"in e)&&"lat"in e?this.extend(t.S.convert(e)):this;if(r=e._sw,a=e._ne,!r||!a)return this}return i||o?(i.lng=Math.min(r.lng,i.lng),i.lat=Math.min(r.lat,i.lat),o.lng=Math.max(a.lng,o.lng),o.lat=Math.max(a.lat,o.lat)):(this._sw=new t.S(r.lng,r.lat),this._ne=new t.S(a.lng,a.lat)),this}getCenter(){return new t.S((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new t.S(this.getWest(),this.getNorth())}getSouthEast(){return new t.S(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return [this._sw.toArray(),this._ne.toArray()]}toString(){return `LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return !(this._sw&&this._ne)}contains(e){const{lng:i,lat:o}=t.S.convert(e);let r=this._sw.lng<=i&&i<=this._ne.lng;return this._sw.lng>this._ne.lng&&(r=this._sw.lng>=i&&i>=this._ne.lng),this._sw.lat<=o&&o<=this._ne.lat&&r}static convert(e){return e instanceof G?e:e?new G(e):e}static fromLngLat(e,i=0){const o=360*i/40075017,r=o/Math.cos(Math.PI/180*e.lat);return new G(new t.S(e.lng-r,e.lat-o),new t.S(e.lng+r,e.lat+o))}adjustAntiMeridian(){const e=new t.S(this._sw.lng,this._sw.lat),i=new t.S(this._ne.lng,this._ne.lat);return new G(e,e.lng>i.lng?new t.S(i.lng+360,i.lat):i)}}class V{constructor(e,t,i){this.bounds=G.convert(this.validateBounds(e)),this.minzoom=t||0,this.maxzoom=i||24;}validateBounds(e){return Array.isArray(e)&&4===e.length?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]}contains(e){const i=Math.pow(2,e.z),o=Math.floor(t.V(this.bounds.getWest())*i),r=Math.floor(t.U(this.bounds.getNorth())*i),a=Math.ceil(t.V(this.bounds.getEast())*i),s=Math.ceil(t.U(this.bounds.getSouth())*i);return e.x>=o&&e.x<a&&e.y>=r&&e.y<s}}class $ extends t.E{constructor(e,i,o,r){if(super(),this.id=e,this.dispatcher=o,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,t.e(this,t.Q(i,["url","scheme","tileSize","promoteId"])),this._options=t.e({type:"vector"},i),this._collectResourceTiming=i.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(r);}load(){return t._(this,void 0,void 0,(function*(){this._loaded=!1,this.fire(new t.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const e=yield U(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),e&&(t.e(this,e),e.bounds&&(this.tileBounds=new V(e.bounds,this.minzoom,this.maxzoom)),this.fire(new t.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new t.l("data",{dataType:"source",sourceDataType:"content"})));}catch(e){this._tileJSONRequest=null,this.fire(new t.k(e));}}))}loaded(){return this._loaded}hasTile(e){return !this.tileBounds||this.tileBounds.contains(e.canonical)}onAdd(e){this.map=e,this.load();}setSourceProperty(e){this._tileJSONRequest&&this._tileJSONRequest.abort(),e(),this.load();}setTiles(e){return this.setSourceProperty((()=>{this._options.tiles=e;})),this}setUrl(e){return this.setSourceProperty((()=>{this.url=e,this._options.url=e;})),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null);}serialize(){return t.e({},this._options)}loadTile(e){return t._(this,void 0,void 0,(function*(){const t=e.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),i={request:this.map._requestManager.transformRequest(t,"Tile"),uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,tileSize:this.tileSize*e.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity,globalState:this.map.getGlobalState()};i.request.collectResourceTiming=this._collectResourceTiming;let o="RT";if(e.actor&&"expired"!==e.state){if("loading"===e.state)return new Promise(((t,i)=>{e.reloadPromise={resolve:t,reject:i};}))}else e.actor=this.dispatcher.getActor(),o="LT";e.abortController=new AbortController;try{const t=yield e.actor.sendAsync({type:o,data:i},e.abortController);if(delete e.abortController,e.aborted)return;this._afterTileLoadWorkerResponse(e,t);}catch(t){if(delete e.abortController,e.aborted)return;if(t&&404!==t.status)throw t;this._afterTileLoadWorkerResponse(e,null);}}))}_afterTileLoadWorkerResponse(e,t){if(t&&t.resourceTiming&&(e.resourceTiming=t.resourceTiming),t&&this.map._refreshExpiredTiles&&e.setExpiryData(t),e.loadVectorData(t,this.map.painter),e.reloadPromise){const t=e.reloadPromise;e.reloadPromise=null,this.loadTile(e).then(t.resolve).catch(t.reject);}}abortTile(e){return t._(this,void 0,void 0,(function*(){e.abortController&&(e.abortController.abort(),delete e.abortController),e.actor&&(yield e.actor.sendAsync({type:"AT",data:{uid:e.uid,type:this.type,source:this.id}}));}))}unloadTile(e){return t._(this,void 0,void 0,(function*(){e.unloadVectorData(),e.actor&&(yield e.actor.sendAsync({type:"RMT",data:{uid:e.uid,type:this.type,source:this.id}}));}))}hasTransition(){return !1}}class q extends t.E{constructor(e,i,o,r){super(),this.id=e,this.dispatcher=o,this.setEventedParent(r),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=t.e({type:"raster"},i),t.e(this,t.Q(i,["url","scheme","tileSize"]));}load(){return t._(this,arguments,void 0,(function*(e=!1){this._loaded=!1,this.fire(new t.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const i=yield U(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,i&&(t.e(this,i),i.bounds&&(this.tileBounds=new V(i.bounds,this.minzoom,this.maxzoom)),this.fire(new t.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new t.l("data",{dataType:"source",sourceDataType:"content",sourceDataChanged:e})));}catch(e){this._tileJSONRequest=null,this.fire(new t.k(e));}}))}loaded(){return this._loaded}onAdd(e){this.map=e,this.load();}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null);}setSourceProperty(e){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null),e(),this.load(!0);}setTiles(e){return this.setSourceProperty((()=>{this._options.tiles=e;})),this}setUrl(e){return this.setSourceProperty((()=>{this.url=e,this._options.url=e;})),this}serialize(){return t.e({},this._options)}hasTile(e){return !this.tileBounds||this.tileBounds.contains(e.canonical)}loadTile(e){return t._(this,void 0,void 0,(function*(){const i=e.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);e.abortController=new AbortController;try{const o=yield p.getImage(this.map._requestManager.transformRequest(i,"Tile"),e.abortController,this.map._refreshExpiredTiles);if(delete e.abortController,e.aborted)return void(e.state="unloaded");if(o&&o.data){this.map._refreshExpiredTiles&&(o.cacheControl||o.expires)&&e.setExpiryData({cacheControl:o.cacheControl,expires:o.expires});const i=this.map.painter.context,r=i.gl,a=o.data;e.texture=this.map.painter.getTileTexture(a.width),e.texture?e.texture.update(a,{useMipmap:!0}):(e.texture=new t.T(i,a,r.RGBA,{useMipmap:!0}),e.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE,r.LINEAR_MIPMAP_NEAREST)),e.state="loaded";}}catch(t){if(delete e.abortController,e.aborted)e.state="unloaded";else if(t)throw e.state="errored",t}}))}abortTile(e){return t._(this,void 0,void 0,(function*(){e.abortController&&(e.abortController.abort(),delete e.abortController);}))}unloadTile(e){return t._(this,void 0,void 0,(function*(){e.texture&&this.map.painter.saveTileTexture(e.texture);}))}hasTransition(){return !1}}class W extends q{constructor(e,i,o,r){super(e,i,o,r),this.type="raster-dem",this.maxzoom=22,this._options=t.e({type:"raster-dem"},i),this.encoding=i.encoding||"mapbox",this.redFactor=i.redFactor,this.greenFactor=i.greenFactor,this.blueFactor=i.blueFactor,this.baseShift=i.baseShift;}loadTile(e){return t._(this,void 0,void 0,(function*(){const i=e.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),o=this.map._requestManager.transformRequest(i,"Tile");e.neighboringTiles=this._getNeighboringTiles(e.tileID),e.abortController=new AbortController;try{const i=yield p.getImage(o,e.abortController,this.map._refreshExpiredTiles);if(delete e.abortController,e.aborted)return void(e.state="unloaded");if(i&&i.data){const o=i.data;this.map._refreshExpiredTiles&&(i.cacheControl||i.expires)&&e.setExpiryData({cacheControl:i.cacheControl,expires:i.expires});const r=t.b(o)&&t.W()?o:yield this.readImageNow(o),a={type:this.type,uid:e.uid,source:this.id,rawImageData:r,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};if(!e.actor||"expired"===e.state){e.actor=this.dispatcher.getActor();const t=yield e.actor.sendAsync({type:"LDT",data:a});e.dem=t,e.needsHillshadePrepare=!0,e.needsTerrainPrepare=!0,e.state="loaded";}}}catch(t){if(delete e.abortController,e.aborted)e.state="unloaded";else if(t)throw e.state="errored",t}}))}readImageNow(e){return t._(this,void 0,void 0,(function*(){if("undefined"!=typeof VideoFrame&&t.X()){const i=e.width+2,o=e.height+2;try{return new t.R({width:i,height:o},yield t.Y(e,-1,-1,i,o))}catch(e){}}return s.getImageData(e,1)}))}_getNeighboringTiles(e){const i=e.canonical,o=Math.pow(2,i.z),r=(i.x-1+o)%o,a=0===i.x?e.wrap-1:e.wrap,s=(i.x+1+o)%o,n=i.x+1===o?e.wrap+1:e.wrap,l={};return l[new t.Z(e.overscaledZ,a,i.z,r,i.y).key]={backfilled:!1},l[new t.Z(e.overscaledZ,n,i.z,s,i.y).key]={backfilled:!1},i.y>0&&(l[new t.Z(e.overscaledZ,a,i.z,r,i.y-1).key]={backfilled:!1},l[new t.Z(e.overscaledZ,e.wrap,i.z,i.x,i.y-1).key]={backfilled:!1},l[new t.Z(e.overscaledZ,n,i.z,s,i.y-1).key]={backfilled:!1}),i.y+1<o&&(l[new t.Z(e.overscaledZ,a,i.z,r,i.y+1).key]={backfilled:!1},l[new t.Z(e.overscaledZ,e.wrap,i.z,i.x,i.y+1).key]={backfilled:!1},l[new t.Z(e.overscaledZ,n,i.z,s,i.y+1).key]={backfilled:!1}),l}unloadTile(e){return t._(this,void 0,void 0,(function*(){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.state="unloaded",e.actor&&(yield e.actor.sendAsync({type:"RDT",data:{type:this.type,uid:e.uid,source:this.id}}));}))}}class H extends t.E{constructor(e,i,o,r){super(),this.id=e,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=o.getActor(),this.setEventedParent(r),this._data=i.data,this._options=t.e({},i),this._collectResourceTiming=i.collectResourceTiming,void 0!==i.maxzoom&&(this.maxzoom=i.maxzoom),i.type&&(this.type=i.type),i.attribution&&(this.attribution=i.attribution),this.promoteId=i.promoteId,void 0!==i.clusterMaxZoom&&this.maxzoom<=i.clusterMaxZoom&&t.w(`The maxzoom value "${this.maxzoom}" is expected to be greater than the clusterMaxZoom value "${i.clusterMaxZoom}".`),this.workerOptions=t.e({source:this.id,cluster:i.cluster||!1,geojsonVtOptions:{buffer:this._pixelsToTileUnits(void 0!==i.buffer?i.buffer:128),tolerance:this._pixelsToTileUnits(void 0!==i.tolerance?i.tolerance:.375),extent:t.$,maxZoom:this.maxzoom,lineMetrics:i.lineMetrics||!1,generateId:i.generateId||!1},superclusterOptions:{maxZoom:this._getClusterMaxZoom(i.clusterMaxZoom),minPoints:Math.max(2,i.clusterMinPoints||2),extent:t.$,radius:this._pixelsToTileUnits(i.clusterRadius||50),log:!1,generateId:i.generateId||!1},clusterProperties:i.clusterProperties,filter:i.filter},i.workerOptions),"string"==typeof this.promoteId&&(this.workerOptions.promoteId=this.promoteId);}_pixelsToTileUnits(e){return e*(t.$/this.tileSize)}_getClusterMaxZoom(e){const i=e?Math.round(e):this.maxzoom-1;return Number.isInteger(e)||void 0===e||t.w(`Integer expected for option 'clusterMaxZoom': provided value "${e}" rounded to "${i}"`),i}load(){return t._(this,void 0,void 0,(function*(){yield this._updateWorkerData();}))}onAdd(e){this.map=e,this.load();}setData(e){return this._data=e,this._updateWorkerData(),this}updateData(e){return this._updateWorkerData(e),this}getData(){return t._(this,void 0,void 0,(function*(){const e=t.e({type:this.type},this.workerOptions);return this.actor.sendAsync({type:"GD",data:e})}))}getCoordinatesFromGeometry(e){return "GeometryCollection"===e.type?e.geometries.map((e=>e.coordinates)).flat(1/0):e.coordinates.flat(1/0)}getBounds(){return t._(this,void 0,void 0,(function*(){const e=new G,t=yield this.getData();let i;switch(t.type){case "FeatureCollection":i=t.features.map((e=>this.getCoordinatesFromGeometry(e.geometry))).flat(1/0);break;case "Feature":i=this.getCoordinatesFromGeometry(t.geometry);break;default:i=this.getCoordinatesFromGeometry(t);}if(0==i.length)return e;for(let t=0;t<i.length-1;t+=2)e.extend([i[t],i[t+1]]);return e}))}setClusterOptions(e){return this.workerOptions.cluster=e.cluster,e&&(void 0!==e.clusterRadius&&(this.workerOptions.superclusterOptions.radius=this._pixelsToTileUnits(e.clusterRadius)),void 0!==e.clusterMaxZoom&&(this.workerOptions.superclusterOptions.maxZoom=this._getClusterMaxZoom(e.clusterMaxZoom))),this._updateWorkerData(),this}getClusterExpansionZoom(e){return this.actor.sendAsync({type:"GCEZ",data:{type:this.type,clusterId:e,source:this.id}})}getClusterChildren(e){return this.actor.sendAsync({type:"GCC",data:{type:this.type,clusterId:e,source:this.id}})}getClusterLeaves(e,t,i){return this.actor.sendAsync({type:"GCL",data:{type:this.type,source:this.id,clusterId:e,limit:t,offset:i}})}_updateWorkerData(e){return t._(this,void 0,void 0,(function*(){const i=t.e({type:this.type},this.workerOptions);e?i.dataDiff=e:"string"==typeof this._data?(i.request=this.map._requestManager.transformRequest(s.resolveURL(this._data),"Source"),i.request.collectResourceTiming=this._collectResourceTiming):i.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new t.l("dataloading",{dataType:"source"}));try{const e=yield this.actor.sendAsync({type:"LD",data:i});if(this._pendingLoads--,this._removed||e.abandoned)return void this.fire(new t.l("dataabort",{dataType:"source"}));let o=null;e.resourceTiming&&e.resourceTiming[this.id]&&(o=e.resourceTiming[this.id].slice(0));const r={dataType:"source"};this._collectResourceTiming&&o&&o.length>0&&t.e(r,{resourceTiming:o}),this.fire(new t.l("data",Object.assign(Object.assign({},r),{sourceDataType:"metadata"}))),this.fire(new t.l("data",Object.assign(Object.assign({},r),{sourceDataType:"content"})));}catch(e){if(this._pendingLoads--,this._removed)return void this.fire(new t.l("dataabort",{dataType:"source"}));this.fire(new t.k(e));}}))}loaded(){return 0===this._pendingLoads}loadTile(e){return t._(this,void 0,void 0,(function*(){const t=e.actor?"RT":"LT";e.actor=this.actor;const i={type:this.type,uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity,globalState:this.map.getGlobalState()};e.abortController=new AbortController;const o=yield this.actor.sendAsync({type:t,data:i},e.abortController);delete e.abortController,e.unloadVectorData(),e.aborted||e.loadVectorData(o,this.map.painter,"RT"===t);}))}abortTile(e){return t._(this,void 0,void 0,(function*(){e.abortController&&(e.abortController.abort(),delete e.abortController),e.aborted=!0;}))}unloadTile(e){return t._(this,void 0,void 0,(function*(){e.unloadVectorData(),yield this.actor.sendAsync({type:"RMT",data:{uid:e.uid,type:this.type,source:this.id}});}))}onRemove(){this._removed=!0,this.actor.sendAsync({type:"RS",data:{type:this.type,source:this.id}});}serialize(){return t.e({},this._options,{type:this.type,data:this._data})}hasTransition(){return !1}}class X extends t.E{constructor(e,t,i,o){super(),this.flippedWindingOrder=!1,this.id=e,this.dispatcher=i,this.coordinates=t.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(o),this.options=t;}load(e){return t._(this,void 0,void 0,(function*(){this._loaded=!1,this.fire(new t.l("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=new AbortController;try{const t=yield p.getImage(this.map._requestManager.transformRequest(this.url,"Image"),this._request);this._request=null,this._loaded=!0,t&&t.data&&(this.image=t.data,e&&(this.coordinates=e),this._finishLoading());}catch(e){this._request=null,this._loaded=!0,this.fire(new t.k(e));}}))}loaded(){return this._loaded}updateImage(e){return e.url?(this._request&&(this._request.abort(),this._request=null),this.options.url=e.url,this.load(e.coordinates).finally((()=>{this.texture=null;})),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new t.l("data",{dataType:"source",sourceDataType:"metadata"})));}onAdd(e){this.map=e,this.load();}onRemove(){this._request&&(this._request.abort(),this._request=null);}setCoordinates(e){this.coordinates=e;const i=e.map(t.a0.fromLngLat);var o;return this.tileID=function(e){const i=t.a1.fromPoints(e),o=i.width(),r=i.height(),a=Math.max(o,r),s=Math.max(0,Math.floor(-Math.log(a)/Math.LN2)),n=Math.pow(2,s);return new t.a3(s,Math.floor((i.minX+i.maxX)/2*n),Math.floor((i.minY+i.maxY)/2*n))}(i),this.terrainTileRanges=this._getOverlappingTileRanges(i),this.minzoom=this.maxzoom=this.tileID.z,this.tileCoords=i.map((e=>this.tileID.getTilePoint(e)._round())),this.flippedWindingOrder=((o=this.tileCoords)[1].x-o[0].x)*(o[2].y-o[0].y)-(o[1].y-o[0].y)*(o[2].x-o[0].x)<0,this.fire(new t.l("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(0===Object.keys(this.tiles).length||!this.image)return;const e=this.map.painter.context,i=e.gl;this.texture||(this.texture=new t.T(e,this.image,i.RGBA),this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE));let o=!1;for(const e in this.tiles){const t=this.tiles[e];"loaded"!==t.state&&(t.state="loaded",t.texture=this.texture,o=!0);}o&&this.fire(new t.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}));}loadTile(e){return t._(this,void 0,void 0,(function*(){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={}):e.state="errored";}))}serialize(){return {type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return !1}_getOverlappingTileRanges(e){const{minX:i,minY:o,maxX:r,maxY:a}=t.a1.fromPoints(e),s={};for(let e=0;e<=t.a2;e++){const t=Math.pow(2,e),n=Math.floor(i*t),l=Math.floor(o*t),c=Math.floor(r*t),h=Math.floor(a*t);s[e]={minTileX:n,minTileY:l,maxTileX:c,maxTileY:h};}return s}}class K extends X{constructor(e,t,i,o){super(e,t,i,o),this.roundZoom=!0,this.type="video",this.options=t;}load(){return t._(this,void 0,void 0,(function*(){this._loaded=!1;const e=this.options;this.urls=[];for(const t of e.urls)this.urls.push(this.map._requestManager.transformRequest(t,"Source").url);try{const e=yield t.a4(this.urls);if(this._loaded=!0,!e)return;this.video=e,this.video.loop=!0,this.video.addEventListener("playing",(()=>{this.map.triggerRepaint();})),this.map&&this.video.play(),this._finishLoading();}catch(e){this.fire(new t.k(e));}}))}pause(){this.video&&this.video.pause();}play(){this.video&&this.video.play();}seek(e){if(this.video){const i=this.video.seekable;e<i.start(0)||e>i.end(0)?this.fire(new t.k(new t.a5(`sources.${this.id}`,null,`Playback for this video can be set only between the ${i.start(0)} and ${i.end(0)}-second mark.`))):this.video.currentTime=e;}}getVideo(){return this.video}onAdd(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)));}prepare(){if(0===Object.keys(this.tiles).length||this.video.readyState<2)return;const e=this.map.painter.context,i=e.gl;this.texture?this.video.paused||(this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE),i.texSubImage2D(i.TEXTURE_2D,0,0,0,i.RGBA,i.UNSIGNED_BYTE,this.video)):(this.texture=new t.T(e,this.video,i.RGBA),this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE));let o=!1;for(const e in this.tiles){const t=this.tiles[e];"loaded"!==t.state&&(t.state="loaded",t.texture=this.texture,o=!0);}o&&this.fire(new t.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}));}serialize(){return {type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class Y extends X{constructor(e,i,o,r){super(e,i,o,r),i.coordinates?Array.isArray(i.coordinates)&&4===i.coordinates.length&&!i.coordinates.some((e=>!Array.isArray(e)||2!==e.length||e.some((e=>"number"!=typeof e))))||this.fire(new t.k(new t.a5(`sources.${e}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new t.k(new t.a5(`sources.${e}`,null,'missing required property "coordinates"'))),i.animate&&"boolean"!=typeof i.animate&&this.fire(new t.k(new t.a5(`sources.${e}`,null,'optional "animate" property must be a boolean value'))),i.canvas?"string"==typeof i.canvas||i.canvas instanceof HTMLCanvasElement||this.fire(new t.k(new t.a5(`sources.${e}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new t.k(new t.a5(`sources.${e}`,null,'missing required property "canvas"'))),this.options=i,this.animate=void 0===i.animate||i.animate;}load(){return t._(this,void 0,void 0,(function*(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new t.k(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint();},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1);},this._finishLoading());}))}getCanvas(){return this.canvas}onAdd(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play();}onRemove(){this.pause();}prepare(){let e=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,e=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,e=!0),this._hasInvalidDimensions())return;if(0===Object.keys(this.tiles).length)return;const i=this.map.painter.context,o=i.gl;this.texture?(e||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new t.T(i,this.canvas,o.RGBA,{premultiply:!0});let r=!1;for(const e in this.tiles){const t=this.tiles[e];"loaded"!==t.state&&(t.state="loaded",t.texture=this.texture,r=!0);}r&&this.fire(new t.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}));}serialize(){return {type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const e of [this.canvas.width,this.canvas.height])if(isNaN(e)||e<=0)return !0;return !1}}const Q={},J=e=>{switch(e){case "geojson":return H;case "image":return X;case "raster":return q;case "raster-dem":return W;case "vector":return $;case "video":return K;case "canvas":return Y}return Q[e]},ee="RTLPluginLoaded";class te extends t.E{constructor(){super(...arguments),this.status="unavailable",this.url=null,this.dispatcher=B();}_syncState(e){return this.status=e,this.dispatcher.broadcast("SRPS",{pluginStatus:e,pluginURL:this.url}).catch((e=>{throw this.status="error",e}))}getRTLTextPluginStatus(){return this.status}clearRTLTextPlugin(){this.status="unavailable",this.url=null;}setRTLTextPlugin(e){return t._(this,arguments,void 0,(function*(e,t=!1){if(this.url)throw new Error("setRTLTextPlugin cannot be called multiple times.");if(this.url=s.resolveURL(e),!this.url)throw new Error(`requested url ${e} is invalid`);if("unavailable"===this.status){if(!t)return this._requestImport();this.status="deferred",this._syncState(this.status);}else if("requested"===this.status)return this._requestImport()}))}_requestImport(){return t._(this,void 0,void 0,(function*(){yield this._syncState("loading"),this.status="loaded",this.fire(new t.l(ee));}))}lazyLoad(){"unavailable"===this.status?this.status="requested":"deferred"===this.status&&this._requestImport();}}let ie=null;function oe(){return ie||(ie=new te),ie}class re{constructor(e,i){this.timeAdded=0,this.fadeEndTime=0,this.tileID=e,this.uid=t.a6(),this.uses=0,this.tileSize=i,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading";}registerFadeDuration(e){const t=e+this.timeAdded;t<this.fadeEndTime||(this.fadeEndTime=t);}wasRequested(){return "errored"===this.state||"loaded"===this.state||"reloading"===this.state}clearTextures(e){this.demTexture&&e.saveTileTexture(this.demTexture),this.demTexture=null;}loadVectorData(e,i,o){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",e){e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=function(e,t){const i={};if(!t)return i;for(const o of e){const e=o.layerIds.map((e=>t.getLayer(e))).filter(Boolean);if(0!==e.length){o.layers=e,o.stateDependentLayerIds&&(o.stateDependentLayers=o.stateDependentLayerIds.map((t=>e.filter((e=>e.id===t))[0])));for(const t of e)i[t.id]=o;}}return i}(e.buckets,null==i?void 0:i.style),this.hasSymbolBuckets=!1;for(const e in this.buckets){const i=this.buckets[e];if(i instanceof t.a8){if(this.hasSymbolBuckets=!0,!o)break;i.justReloaded=!0;}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const e in this.buckets){const i=this.buckets[e];if(i instanceof t.a8&&i.hasRTLText){this.hasRTLText=!0,oe().lazyLoad();break}}this.queryPadding=0;for(const e in this.buckets){const t=this.buckets[e];this.queryPadding=Math.max(this.queryPadding,i.style.getLayer(e).queryRadius(t));}e.imageAtlas&&(this.imageAtlas=e.imageAtlas),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage);}else this.collisionBoxArray=new t.a7;}unloadVectorData(){for(const e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded";}getBucket(e){return this.buckets[e.id]}upload(e){for(const t in this.buckets){const i=this.buckets[t];i.uploadPending()&&i.upload(e);}const i=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new t.T(e,this.imageAtlas.image,i.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new t.T(e,this.glyphAtlasImage,i.ALPHA),this.glyphAtlasImage=null);}prepare(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture);}queryRenderedFeatures(e,t,i,o,r,a,s,n,l,c,h){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:o,cameraQueryGeometry:r,scale:a,tileSize:this.tileSize,pixelPosMatrix:c,transform:n,params:s,queryPadding:this.queryPadding*l,getElevation:h},e,t,i):{}}querySourceFeatures(e,i){const o=this.latestFeatureIndex;if(!o||!o.rawTileData)return;const r=o.loadVTLayers(),a=i&&i.sourceLayer?i.sourceLayer:"",s=r._geojsonTileLayer||r[a];if(!s)return;const n=t.a9(i&&i.filter),{z:l,x:c,y:h}=this.tileID.canonical,u={z:l,x:c,y:h};for(let i=0;i<s.length;i++){const r=s.feature(i);if(n.needGeometry){const e=t.aa(r,!0);if(!n.filter(new t.F(this.tileID.overscaledZ),e,this.tileID.canonical))continue}else if(!n.filter(new t.F(this.tileID.overscaledZ),r))continue;const d=o.getId(r,a),_=new t.ab(r,l,c,h,d);_.tile=u,e.push(_);}}hasData(){return "loaded"===this.state||"reloading"===this.state||"expired"===this.state}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(e){const i=this.expirationTime;if(e.cacheControl){const i=t.ac(e.cacheControl);i["max-age"]&&(this.expirationTime=Date.now()+1e3*i["max-age"]);}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){const e=Date.now();let t=!1;if(this.expirationTime>e)t=!1;else if(i)if(this.expirationTime<i)t=!0;else {const o=this.expirationTime-i;o?this.expirationTime=e+Math.max(o,3e4):t=!0;}else t=!0;t?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0;}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}setFeatureState(e,t){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||0===Object.keys(e).length)return;const i=this.latestFeatureIndex.loadVTLayers();for(const o in this.buckets){if(!t.style.hasLayer(o))continue;const r=this.buckets[o],a=r.layers[0].sourceLayer||"_geojsonTileLayer",s=i[a],n=e[a];if(!s||!n||0===Object.keys(n).length)continue;r.update(n,s,this.imageAtlas&&this.imageAtlas.patternPositions||{});const l=t&&t.style&&t.style.getLayer(o);l&&(this.queryPadding=Math.max(this.queryPadding,l.queryRadius(r)));}}holdingForFade(){return void 0!==this.symbolFadeHoldUntil}symbolFadeFinished(){return !this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<s.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0;}setHoldDuration(e){this.symbolFadeHoldUntil=s.now()+e;}setDependencies(e,t){const i={};for(const e of t)i[e]=!0;this.dependencies[e]=i;}hasDependency(e,t){for(const i of e){const e=this.dependencies[i];if(e)for(const i of t)if(e[i])return !0}return !1}}class ae{constructor(e,t){this.max=e,this.onRemove=t,this.reset();}reset(){for(const e in this.data)for(const t of this.data[e])t.timeout&&clearTimeout(t.timeout),this.onRemove(t.value);return this.data={},this.order=[],this}add(e,t,i){const o=e.wrapped().key;void 0===this.data[o]&&(this.data[o]=[]);const r={value:t,timeout:void 0};if(void 0!==i&&(r.timeout=setTimeout((()=>{this.remove(e,r);}),i)),this.data[o].push(r),this.order.push(o),this.order.length>this.max){const e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e);}return this}has(e){return e.wrapped().key in this.data}getAndRemove(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null}_getAndRemoveByKey(e){const t=this.data[e].shift();return t.timeout&&clearTimeout(t.timeout),0===this.data[e].length&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),t.value}getByKey(e){const t=this.data[e];return t?t[0].value:null}get(e){return this.has(e)?this.data[e.wrapped().key][0].value:null}remove(e,t){if(!this.has(e))return this;const i=e.wrapped().key,o=void 0===t?0:this.data[i].indexOf(t),r=this.data[i][o];return this.data[i].splice(o,1),r.timeout&&clearTimeout(r.timeout),0===this.data[i].length&&delete this.data[i],this.onRemove(r.value),this.order.splice(this.order.indexOf(i),1),this}setMaxSize(e){for(this.max=e;this.order.length>this.max;){const e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e);}return this}filter(e){const t=[];for(const i in this.data)for(const o of this.data[i])e(o.value)||t.push(o);for(const e of t)this.remove(e.value.tileID,e);}}class se{constructor(){this.state={},this.stateChanges={},this.deletedStates={};}updateState(e,i,o){const r=String(i);if(this.stateChanges[e]=this.stateChanges[e]||{},this.stateChanges[e][r]=this.stateChanges[e][r]||{},t.e(this.stateChanges[e][r],o),null===this.deletedStates[e]){this.deletedStates[e]={};for(const t in this.state[e])t!==r&&(this.deletedStates[e][t]=null);}else if(this.deletedStates[e]&&null===this.deletedStates[e][r]){this.deletedStates[e][r]={};for(const t in this.state[e][r])o[t]||(this.deletedStates[e][r][t]=null);}else for(const t in o)this.deletedStates[e]&&this.deletedStates[e][r]&&null===this.deletedStates[e][r][t]&&delete this.deletedStates[e][r][t];}removeFeatureState(e,t,i){if(null===this.deletedStates[e])return;const o=String(t);if(this.deletedStates[e]=this.deletedStates[e]||{},i&&void 0!==t)null!==this.deletedStates[e][o]&&(this.deletedStates[e][o]=this.deletedStates[e][o]||{},this.deletedStates[e][o][i]=null);else if(void 0!==t)if(this.stateChanges[e]&&this.stateChanges[e][o])for(i in this.deletedStates[e][o]={},this.stateChanges[e][o])this.deletedStates[e][o][i]=null;else this.deletedStates[e][o]=null;else this.deletedStates[e]=null;}getState(e,i){const o=String(i),r=t.e({},(this.state[e]||{})[o],(this.stateChanges[e]||{})[o]);if(null===this.deletedStates[e])return {};if(this.deletedStates[e]){const t=this.deletedStates[e][i];if(null===t)return {};for(const e in t)delete r[e];}return r}initializeTileState(e,t){e.setFeatureState(this.state,t);}coalesceChanges(e,i){const o={};for(const e in this.stateChanges){this.state[e]=this.state[e]||{};const i={};for(const o in this.stateChanges[e])this.state[e][o]||(this.state[e][o]={}),t.e(this.state[e][o],this.stateChanges[e][o]),i[o]=this.state[e][o];o[e]=i;}for(const e in this.deletedStates){this.state[e]=this.state[e]||{};const i={};if(null===this.deletedStates[e])for(const t in this.state[e])i[t]={},this.state[e][t]={};else for(const t in this.deletedStates[e]){if(null===this.deletedStates[e][t])this.state[e][t]={};else for(const i of Object.keys(this.deletedStates[e][t]))delete this.state[e][t][i];i[t]=this.state[e][t];}o[e]=o[e]||{},t.e(o[e],i);}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(o).length)for(const t in e)e[t].setFeatureState(o,i);}}const ne=89.25;function le(e,i){const o=t.ag(i.lat,-85.051129,t.ah);return new t.P(t.V(i.lng)*e,t.U(o)*e)}function ce(e,i){return new t.a0(i.x/e,i.y/e).toLngLat()}function he(e){return e.cameraToCenterDistance*Math.min(.85*Math.tan(t.ad(90-e.pitch)),Math.tan(t.ad(ne-e.pitch)))}function ue(e,i){const o=e.canonical,r=i/t.ae(o.z),a=o.x+Math.pow(2,o.z)*e.wrap,s=t.af(new Float64Array(16));return t.M(s,s,[a*r,o.y*r,0]),t.N(s,s,[r/t.$,r/t.$,1]),s}function de(e,i,o,r,a){const s=t.a0.fromLngLat(e,i),n=a*t.ai(1,e.lat),l=n*Math.cos(t.ad(o)),c=Math.sqrt(n*n-l*l),h=c*Math.sin(t.ad(-r)),u=c*Math.cos(t.ad(-r));return new t.a0(s.x+h,s.y+u,s.z+l)}function _e(e,t,i){const o=t.intersectsFrustum(e);if(!i||0===o)return o;const r=t.intersectsPlane(i);return 0===r?0:2===o&&2===r?2:1}function pe(e,t,i){let o=0;const r=(i-t)/10;for(let a=0;a<10;a++)o+=r*Math.pow(Math.cos(t+(a+.5)/10*(i-t)),e);return o}function me(e,i){return function(o,r,a,s,n){const l=2*((e-1)/t.aj(Math.cos(t.ad(ne-n))/Math.cos(t.ad(ne)))-1),c=Math.acos(a/s),h=2*pe(l-1,0,t.ad(n/2)),u=Math.min(t.ad(ne),c+t.ad(n/2)),d=pe(l-1,Math.min(u,c-t.ad(n/2)),u),_=Math.atan(r/a),p=Math.hypot(r,a);let m=o;return m+=t.aj(s/p/Math.max(.5,Math.cos(t.ad(n/2)))),m+=l*t.aj(Math.cos(_))/2,m-=t.aj(Math.max(1,d/h/i))/2,m}}const fe=me(9.314,3);function ge(e,i){const o=(i.roundZoom?Math.round:Math.floor)(e.zoom+t.aj(e.tileSize/i.tileSize));return Math.max(0,o)}function ve(e,i){const o=e.getCameraFrustum(),r=e.getClippingPlane(),a=e.screenPointToMercatorCoordinate(e.getCameraPoint()),s=t.a0.fromLngLat(e.center,e.elevation);a.z=s.z+Math.cos(e.pitchInRadians)*e.cameraToCenterDistance/e.worldSize;const n=e.getCoveringTilesDetailsProvider(),l=n.allowVariableZoom(e,i),c=ge(e,i),h=i.minzoom||0,u=void 0!==i.maxzoom?i.maxzoom:e.maxZoom,d=Math.min(Math.max(0,c),u),_=Math.pow(2,d),p=[_*a.x,_*a.y,0],m=[_*s.x,_*s.y,0],f=Math.hypot(s.x-a.x,s.y-a.y),g=Math.abs(s.z-a.z),v=Math.hypot(f,g),b=e=>({zoom:0,x:0,y:0,wrap:e,fullyVisible:!1}),x=[],y=[];if(e.renderWorldCopies&&n.allowWorldCopies())for(let e=1;e<=3;e++)x.push(b(-e)),x.push(b(e));for(x.push(b(0));x.length>0;){const _=x.pop(),f=_.x,b=_.y;let w=_.fullyVisible;const T={x:f,y:b,z:_.zoom},P=n.getTileBoundingVolume(T,_.wrap,e.elevation,i);if(!w){const e=_e(o,P,r);if(0===e)continue;w=2===e;}const C=n.distanceToTile2d(a.x,a.y,T,P);let I=c;l&&(I=(i.calculateTileZoom||fe)(e.zoom+t.aj(e.tileSize/i.tileSize),C,g,v,e.fov)),I=(i.roundZoom?Math.round:Math.floor)(I),I=Math.max(0,I);const M=Math.min(I,u);if(_.wrap=n.getWrap(s,T,_.wrap),_.zoom>=M){if(_.zoom<h)continue;const e=d-_.zoom,o=p[0]-.5-(f<<e),r=p[1]-.5-(b<<e),a=i.reparseOverscaled?Math.max(_.zoom,I):_.zoom;y.push({tileID:new t.Z(_.zoom===u?a:_.zoom,_.wrap,_.zoom,f,b),distanceSq:t.ak([m[0]-.5-f,m[1]-.5-b]),tileDistanceToCamera:Math.sqrt(o*o+r*r)});}else for(let e=0;e<4;e++)x.push({zoom:_.zoom+1,x:(f<<1)+e%2,y:(b<<1)+(e>>1),wrap:_.wrap,fullyVisible:w});}return y.sort(((e,t)=>e.distanceSq-t.distanceSq)).map((e=>e.tileID))}const be=t.a1.fromPoints([new t.P(0,0),new t.P(t.$,t.$)]);class xe extends t.E{constructor(e,t,i){super(),this.id=e,this.dispatcher=i,this.on("data",(e=>this._dataHandler(e))),this.on("dataloading",(()=>{this._sourceErrored=!1;})),this.on("error",(()=>{this._sourceErrored=this._source.loaded();})),this._source=((e,t,i,o)=>{const r=new(J(t.type))(e,t,i,o);if(r.id!==e)throw new Error(`Expected Source id to be ${e} instead of ${r.id}`);return r})(e,t,i,this),this._tiles={},this._cache=new ae(0,(e=>this._unloadTile(e))),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new se,this._didEmitContent=!1,this._updated=!1;}onAdd(e){this.map=e,this._maxTileCacheSize=e?e._maxTileCacheSize:null,this._maxTileCacheZoomLevels=e?e._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(e);}onRemove(e){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(e);}loaded(){if(this._sourceErrored)return !0;if(!this._sourceLoaded)return !1;if(!this._source.loaded())return !1;if(!(void 0===this.used&&void 0===this.usedForTerrain||this.used||this.usedForTerrain))return !0;if(!this._updated)return !1;for(const e in this._tiles){const t=this._tiles[e];if("loaded"!==t.state&&"errored"!==t.state)return !1}return !0}getSource(){return this._source}pause(){this._paused=!0;}resume(){if(!this._paused)return;const e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform,this.terrain);}_loadTile(e,i,o){return t._(this,void 0,void 0,(function*(){try{yield this._source.loadTile(e),this._tileLoaded(e,i,o);}catch(i){e.state="errored",404!==i.status?this._source.fire(new t.k(i,{tile:e})):this.update(this.transform,this.terrain);}}))}_unloadTile(e){this._source.unloadTile&&this._source.unloadTile(e);}_abortTile(e){this._source.abortTile&&this._source.abortTile(e),this._source.fire(new t.l("dataabort",{tile:e,coord:e.tileID,dataType:"source"}));}serialize(){return this._source.serialize()}prepare(e){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const t in this._tiles){const i=this._tiles[t];i.upload(e),i.prepare(this.map.style.imageManager);}}getIds(){return Object.values(this._tiles).map((e=>e.tileID)).sort(ye).map((e=>e.key))}getRenderableIds(e){const i=[];for(const t in this._tiles)this._isIdRenderable(t,e)&&i.push(this._tiles[t]);return e?i.sort(((e,i)=>{const o=e.tileID,r=i.tileID,a=new t.P(o.canonical.x,o.canonical.y)._rotate(-this.transform.bearingInRadians),s=new t.P(r.canonical.x,r.canonical.y)._rotate(-this.transform.bearingInRadians);return o.overscaledZ-r.overscaledZ||s.y-a.y||s.x-a.x})).map((e=>e.tileID.key)):i.map((e=>e.tileID)).sort(ye).map((e=>e.key))}hasRenderableParent(e){const t=this.findLoadedParent(e,0);return !!t&&this._isIdRenderable(t.tileID.key)}_isIdRenderable(e,t){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(t||!this._tiles[e].holdingForFade())}reload(e){if(this._paused)this._shouldReloadOnResume=!0;else {this._cache.reset();for(const t in this._tiles)e?this._reloadTile(t,"expired"):"errored"!==this._tiles[t].state&&this._reloadTile(t,"reloading");}}_reloadTile(e,i){return t._(this,void 0,void 0,(function*(){const t=this._tiles[e];t&&("loading"!==t.state&&(t.state=i),yield this._loadTile(t,e,i));}))}_tileLoaded(e,i,o){e.timeAdded=s.now(),"expired"===o&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(i,e),"raster-dem"===this.getSource().type&&e.dem&&this._backfillDEM(e),this._state.initializeTileState(e,this.map?this.map.painter:null),e.aborted||this._source.fire(new t.l("data",{dataType:"source",tile:e,coord:e.tileID}));}_backfillDEM(e){const t=this.getRenderableIds();for(let o=0;o<t.length;o++){const r=t[o];if(e.neighboringTiles&&e.neighboringTiles[r]){const t=this.getTileByID(r);i(e,t),i(t,e);}}function i(e,t){e.needsHillshadePrepare=!0,e.needsTerrainPrepare=!0;let i=t.tileID.canonical.x-e.tileID.canonical.x;const o=t.tileID.canonical.y-e.tileID.canonical.y,r=Math.pow(2,e.tileID.canonical.z),a=t.tileID.key;0===i&&0===o||Math.abs(o)>1||(Math.abs(i)>1&&(1===Math.abs(i+r)?i+=r:1===Math.abs(i-r)&&(i-=r)),t.dem&&e.dem&&(e.dem.backfillBorder(t.dem,i,o),e.neighboringTiles&&e.neighboringTiles[a]&&(e.neighboringTiles[a].backfilled=!0)));}}getTile(e){return this.getTileByID(e.key)}getTileByID(e){return this._tiles[e]}_retainLoadedChildren(e,t,i,o){for(const r in this._tiles){let a=this._tiles[r];if(o[r]||!a.hasData()||a.tileID.overscaledZ<=t||a.tileID.overscaledZ>i)continue;let s=a.tileID;for(;a&&a.tileID.overscaledZ>t+1;){const e=a.tileID.scaledTo(a.tileID.overscaledZ-1);a=this._tiles[e.key],a&&a.hasData()&&(s=e);}let n=s;for(;n.overscaledZ>t;)if(n=n.scaledTo(n.overscaledZ-1),e[n.key]||e[n.canonical.key]){o[s.key]=s;break}}}findLoadedParent(e,t){if(e.key in this._loadedParentTiles){const i=this._loadedParentTiles[e.key];return i&&i.tileID.overscaledZ>=t?i:null}for(let i=e.overscaledZ-1;i>=t;i--){const t=e.scaledTo(i),o=this._getLoadedTile(t);if(o)return o}}findLoadedSibling(e){return this._getLoadedTile(e)}_getLoadedTile(e){const t=this._tiles[e.key];return t&&t.hasData()?t:this._cache.getByKey(e.wrapped().key)}updateCacheSize(e){const i=Math.ceil(e.width/this._source.tileSize)+1,o=Math.ceil(e.height/this._source.tileSize)+1,r=Math.floor(i*o*(null===this._maxTileCacheZoomLevels?t.a.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),a="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,r):r;this._cache.setMaxSize(a);}handleWrapJump(e){const t=Math.round((e-(void 0===this._prevLng?e:this._prevLng))/360);if(this._prevLng=e,t){const e={};for(const i in this._tiles){const o=this._tiles[i];o.tileID=o.tileID.unwrapTo(o.tileID.wrap+t),e[o.tileID.key]=o;}this._tiles=e;for(const e in this._timers)clearTimeout(this._timers[e]),delete this._timers[e];for(const e in this._tiles)this._setTileReloadTimer(e,this._tiles[e]);}}_updateCoveredAndRetainedTiles(e,t,i,o,r,a){const n={},l={},c=Object.keys(e),h=s.now();for(const i of c){const o=e[i],r=this._tiles[i];if(!r||0!==r.fadeEndTime&&r.fadeEndTime<=h)continue;const a=this.findLoadedParent(o,t),s=this.findLoadedSibling(o),c=a||s||null;c&&(this._addTile(c.tileID),n[c.tileID.key]=c.tileID),l[i]=o;}this._retainLoadedChildren(l,o,i,e);for(const t in n)e[t]||(this._coveredTiles[t]=!0,e[t]=n[t]);if(a){const t={},i={};for(const e of r)this._tiles[e.key].hasData()?t[e.key]=e:i[e.key]=e;for(const o in i){const r=i[o].children(this._source.maxzoom);this._tiles[r[0].key]&&this._tiles[r[1].key]&&this._tiles[r[2].key]&&this._tiles[r[3].key]&&(t[r[0].key]=e[r[0].key]=r[0],t[r[1].key]=e[r[1].key]=r[1],t[r[2].key]=e[r[2].key]=r[2],t[r[3].key]=e[r[3].key]=r[3],delete i[o]);}for(const o in i){const r=i[o],a=this.findLoadedParent(r,this._source.minzoom),s=this.findLoadedSibling(r),n=a||s||null;if(n){t[n.tileID.key]=e[n.tileID.key]=n.tileID;for(const e in t)t[e].isChildOf(n.tileID)&&delete t[e];}}for(const e in this._tiles)t[e]||(this._coveredTiles[e]=!0);}}update(e,i){if(!this._sourceLoaded||this._paused)return;let o;this.transform=e,this.terrain=i,this.updateCacheSize(e),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?o=e.getVisibleUnwrappedCoordinates(this._source.tileID).map((e=>new t.Z(e.canonical.z,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y))):(o=ve(e,{tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:i,calculateTileZoom:this._source.calculateTileZoom}),this._source.hasTile&&(o=o.filter((e=>this._source.hasTile(e))))):o=[];const r=ge(e,this._source),a=Math.max(r-xe.maxOverzooming,this._source.minzoom),s=Math.max(r+xe.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const e={};for(const t of o)if(t.canonical.z>this._source.minzoom){const i=t.scaledTo(t.canonical.z-1);e[i.key]=i;const o=t.scaledTo(Math.max(this._source.minzoom,Math.min(t.canonical.z,5)));e[o.key]=o;}o=o.concat(Object.values(e));}const n=0===o.length&&!this._updated&&this._didEmitContent;this._updated=!0,n&&this.fire(new t.l("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const l=this._updateRetainedTiles(o,r);we(this._source.type)&&this._updateCoveredAndRetainedTiles(l,a,s,r,o,i);for(const e in l)this._tiles[e].clearFadeHold();const c=t.al(this._tiles,l);for(const e of c){const t=this._tiles[e];t.hasSymbolBuckets&&!t.holdingForFade()?t.setHoldDuration(this.map._fadeDuration):t.hasSymbolBuckets&&!t.symbolFadeFinished()||this._removeTile(e);}this._updateLoadedParentTileCache(),this._updateLoadedSiblingTileCache();}releaseSymbolFadeTiles(){for(const e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(e);}_updateRetainedTiles(e,t){var i;const o={},r={},a=Math.max(t-xe.maxOverzooming,this._source.minzoom),s=Math.max(t+xe.maxUnderzooming,this._source.minzoom),n={};for(const i of e){const e=this._addTile(i);o[i.key]=i,e.hasData()||t<this._source.maxzoom&&(n[i.key]=i);}this._retainLoadedChildren(n,t,s,o);for(const s of e){let e=this._tiles[s.key];if(e.hasData())continue;if(t+1>this._source.maxzoom){const e=s.children(this._source.maxzoom)[0],t=this.getTile(e);if(t&&t.hasData()){o[e.key]=e;continue}}else {const e=s.children(this._source.maxzoom);if(o[e[0].key]&&o[e[1].key]&&o[e[2].key]&&o[e[3].key])continue}let n=e.wasRequested();for(let t=s.overscaledZ-1;t>=a;--t){const a=s.scaledTo(t);if(r[a.key])break;if(r[a.key]=!0,e=this.getTile(a),!e&&n&&(e=this._addTile(a)),e){const t=e.hasData();if((t||!(null===(i=this.map)||void 0===i?void 0:i.cancelPendingTileRequestsWhileZooming)||n)&&(o[a.key]=a),n=e.wasRequested(),t)break}}}return o}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const e in this._tiles){const t=[];let i,o=this._tiles[e].tileID;for(;o.overscaledZ>0;){if(o.key in this._loadedParentTiles){i=this._loadedParentTiles[o.key];break}t.push(o.key);const e=o.scaledTo(o.overscaledZ-1);if(i=this._getLoadedTile(e),i)break;o=e;}for(const e of t)this._loadedParentTiles[e]=i;}}_updateLoadedSiblingTileCache(){this._loadedSiblingTiles={};for(const e in this._tiles){const t=this._tiles[e].tileID,i=this._getLoadedTile(t);this._loadedSiblingTiles[t.key]=i;}}_addTile(e){let i=this._tiles[e.key];if(i)return i;i=this._cache.getAndRemove(e),i&&(this._setTileReloadTimer(e.key,i),i.tileID=e,this._state.initializeTileState(i,this.map?this.map.painter:null),this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,i)));const o=i;return i||(i=new re(e,this._source.tileSize*e.overscaleFactor()),this._loadTile(i,e.key,i.state)),i.uses++,this._tiles[e.key]=i,o||this._source.fire(new t.l("dataloading",{tile:i,coord:i.tileID,dataType:"source"})),i}_setTileReloadTimer(e,t){e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);const i=t.getExpiryTimeout();i&&(this._timers[e]=setTimeout((()=>{this._reloadTile(e,"expired"),delete this._timers[e];}),i));}refreshTiles(e){for(const t in this._tiles)(this._isIdRenderable(t)||"errored"==this._tiles[t].state)&&e.some((e=>e.equals(this._tiles[t].tileID.canonical)))&&this._reloadTile(t,"expired");}_removeTile(e){const t=this._tiles[e];t&&(t.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),t.uses>0||(t.hasData()&&"reloading"!==t.state?this._cache.add(t.tileID,t,t.getExpiryTimeout()):(t.aborted=!0,this._abortTile(t),this._unloadTile(t))));}_dataHandler(e){const t=e.sourceDataType;"source"===e.dataType&&"metadata"===t&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&"source"===e.dataType&&"content"===t&&(this.reload(e.sourceDataChanged),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0);}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const e in this._tiles)this._removeTile(e);this._cache.reset();}tilesIn(e,i,o){const r=[],a=this.transform;if(!a)return r;const s=a.getCoveringTilesDetailsProvider().allowWorldCopies(),n=o?a.getCameraQueryGeometry(e):e,l=e=>a.screenPointToMercatorCoordinate(e,this.terrain),c=this.transformBbox(e,l,!s),h=this.transformBbox(n,l,!s),u=this.getIds(),d=t.a1.fromPoints(h);for(let e=0;e<u.length;e++){const o=this._tiles[u[e]];if(o.holdingForFade())continue;const n=s?[o.tileID]:[o.tileID.unwrapTo(-1),o.tileID.unwrapTo(0)],l=Math.pow(2,a.zoom-o.tileID.overscaledZ),_=i*o.queryPadding*t.$/o.tileSize/l;for(const e of n){const i=d.map((i=>e.getTilePoint(new t.a0(i.x,i.y))));if(i.expandBy(_),i.intersects(be)){const t=c.map((t=>e.getTilePoint(t))),i=h.map((t=>e.getTilePoint(t)));r.push({tile:o,tileID:s?e:e.unwrapTo(0),queryGeometry:t,cameraQueryGeometry:i,scale:l});}}}return r}transformBbox(e,i,o){let r=e.map(i);if(o){const o=t.a1.fromPoints(e);o.shrinkBy(.001*Math.min(o.width(),o.height()));const a=o.map(i);t.a1.fromPoints(r).covers(a)||(r=r.map((e=>e.x>.5?new t.a0(e.x-1,e.y,e.z):e)));}return r}getVisibleCoordinates(e){const t=this.getRenderableIds(e).map((e=>this._tiles[e].tileID));return this.transform&&this.transform.populateCache(t),t}hasTransition(){if(this._source.hasTransition())return !0;if(we(this._source.type)){const e=s.now();for(const t in this._tiles)if(this._tiles[t].fadeEndTime>=e)return !0}return !1}setFeatureState(e,t,i){this._state.updateState(e=e||"_geojsonTileLayer",t,i);}removeFeatureState(e,t,i){this._state.removeFeatureState(e=e||"_geojsonTileLayer",t,i);}getFeatureState(e,t){return this._state.getState(e=e||"_geojsonTileLayer",t)}setDependencies(e,t,i){const o=this._tiles[e];o&&o.setDependencies(t,i);}reloadTilesForDependencies(e,t){for(const i in this._tiles)this._tiles[i].hasDependency(e,t)&&this._reloadTile(i,"reloading");this._cache.filter((i=>!i.hasDependency(e,t)));}}function ye(e,t){const i=Math.abs(2*e.wrap)-+(e.wrap<0),o=Math.abs(2*t.wrap)-+(t.wrap<0);return e.overscaledZ-t.overscaledZ||o-i||t.canonical.y-e.canonical.y||t.canonical.x-e.canonical.x}function we(e){return "raster"===e||"image"===e||"video"===e}xe.maxOverzooming=10,xe.maxUnderzooming=3;class Te{constructor(e,t){this.reset(e,t);}reset(e,t){this.points=e||[],this._distances=[0];for(let e=1;e<this.points.length;e++)this._distances[e]=this._distances[e-1]+this.points[e].dist(this.points[e-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(t||0,.5*this.length),this.paddedLength=this.length-2*this.padding;}lerp(e){if(1===this.points.length)return this.points[0];e=t.ag(e,0,1);let i=1,o=this._distances[i];const r=e*this.paddedLength+this.padding;for(;o<r&&i<this._distances.length;)o=this._distances[++i];const a=i-1,s=this._distances[a],n=o-s,l=n>0?(r-s)/n:0;return this.points[a].mult(1-l).add(this.points[i].mult(l))}}function Pe(e,t){let i=!0;return "always"===e||"never"!==e&&"never"!==t||(i=!1),i}class Ce{constructor(e,t,i){const o=this.boxCells=[],r=this.circleCells=[];this.xCellCount=Math.ceil(e/i),this.yCellCount=Math.ceil(t/i);for(let e=0;e<this.xCellCount*this.yCellCount;e++)o.push([]),r.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=e,this.height=t,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/t,this.boxUid=0,this.circleUid=0;}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(e,t,i,o,r){this._forEachCell(t,i,o,r,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(i),this.bboxes.push(o),this.bboxes.push(r);}insertCircle(e,t,i,o){this._forEachCell(t-o,i-o,t+o,i+o,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(t),this.circles.push(i),this.circles.push(o);}_insertBoxCell(e,t,i,o,r,a){this.boxCells[r].push(a);}_insertCircleCell(e,t,i,o,r,a){this.circleCells[r].push(a);}_query(e,t,i,o,r,a,s){if(i<0||e>this.width||o<0||t>this.height)return [];const n=[];if(e<=0&&t<=0&&this.width<=i&&this.height<=o){if(r)return [{key:null,x1:e,y1:t,x2:i,y2:o}];for(let e=0;e<this.boxKeys.length;e++)n.push({key:this.boxKeys[e],x1:this.bboxes[4*e],y1:this.bboxes[4*e+1],x2:this.bboxes[4*e+2],y2:this.bboxes[4*e+3]});for(let e=0;e<this.circleKeys.length;e++){const t=this.circles[3*e],i=this.circles[3*e+1],o=this.circles[3*e+2];n.push({key:this.circleKeys[e],x1:t-o,y1:i-o,x2:t+o,y2:i+o});}}else this._forEachCell(e,t,i,o,this._queryCell,n,{hitTest:r,overlapMode:a,seenUids:{box:{},circle:{}}},s);return n}query(e,t,i,o){return this._query(e,t,i,o,!1,null)}hitTest(e,t,i,o,r,a){return this._query(e,t,i,o,!0,r,a).length>0}hitTestCircle(e,t,i,o,r){const a=e-i,s=e+i,n=t-i,l=t+i;if(s<0||a>this.width||l<0||n>this.height)return !1;const c=[];return this._forEachCell(a,n,s,l,this._queryCellCircle,c,{hitTest:!0,overlapMode:o,circle:{x:e,y:t,radius:i},seenUids:{box:{},circle:{}}},r),c.length>0}_queryCell(e,t,i,o,r,a,s,n){const{seenUids:l,hitTest:c,overlapMode:h}=s,u=this.boxCells[r];if(null!==u){const r=this.bboxes;for(const s of u)if(!l.box[s]){l.box[s]=!0;const u=4*s,d=this.boxKeys[s];if(e<=r[u+2]&&t<=r[u+3]&&i>=r[u+0]&&o>=r[u+1]&&(!n||n(d))&&(!c||!Pe(h,d.overlapMode))&&(a.push({key:d,x1:r[u],y1:r[u+1],x2:r[u+2],y2:r[u+3]}),c))return !0}}const d=this.circleCells[r];if(null!==d){const r=this.circles;for(const s of d)if(!l.circle[s]){l.circle[s]=!0;const u=3*s,d=this.circleKeys[s];if(this._circleAndRectCollide(r[u],r[u+1],r[u+2],e,t,i,o)&&(!n||n(d))&&(!c||!Pe(h,d.overlapMode))){const e=r[u],t=r[u+1],i=r[u+2];if(a.push({key:d,x1:e-i,y1:t-i,x2:e+i,y2:t+i}),c)return !0}}}return !1}_queryCellCircle(e,t,i,o,r,a,s,n){const{circle:l,seenUids:c,overlapMode:h}=s,u=this.boxCells[r];if(null!==u){const e=this.bboxes;for(const t of u)if(!c.box[t]){c.box[t]=!0;const i=4*t,o=this.boxKeys[t];if(this._circleAndRectCollide(l.x,l.y,l.radius,e[i+0],e[i+1],e[i+2],e[i+3])&&(!n||n(o))&&!Pe(h,o.overlapMode))return a.push(!0),!0}}const d=this.circleCells[r];if(null!==d){const e=this.circles;for(const t of d)if(!c.circle[t]){c.circle[t]=!0;const i=3*t,o=this.circleKeys[t];if(this._circlesCollide(e[i],e[i+1],e[i+2],l.x,l.y,l.radius)&&(!n||n(o))&&!Pe(h,o.overlapMode))return a.push(!0),!0}}}_forEachCell(e,t,i,o,r,a,s,n){const l=this._convertToXCellCoord(e),c=this._convertToYCellCoord(t),h=this._convertToXCellCoord(i),u=this._convertToYCellCoord(o);for(let d=l;d<=h;d++)for(let l=c;l<=u;l++)if(r.call(this,e,t,i,o,this.xCellCount*l+d,a,s,n))return}_convertToXCellCoord(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))}_convertToYCellCoord(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))}_circlesCollide(e,t,i,o,r,a){const s=o-e,n=r-t,l=i+a;return l*l>s*s+n*n}_circleAndRectCollide(e,t,i,o,r,a,s){const n=(a-o)/2,l=Math.abs(e-(o+n));if(l>n+i)return !1;const c=(s-r)/2,h=Math.abs(t-(r+c));if(h>c+i)return !1;if(l<=n||h<=c)return !0;const u=l-n,d=h-c;return u*u+d*d<=i*i}}function Ie(e,i,r){const a=t.L();if(!e){const{vecSouth:e,vecEast:t}=Se(i),r=o();r[0]=t[0],r[1]=t[1],r[2]=e[0],r[3]=e[1],s=r,(d=(l=(n=r)[0])*(u=n[3])-(h=n[2])*(c=n[1]))&&(s[0]=u*(d=1/d),s[1]=-c*d,s[2]=-h*d,s[3]=l*d),a[0]=r[0],a[1]=r[1],a[4]=r[2],a[5]=r[3];}var s,n,l,c,h,u,d;return t.N(a,a,[1/r,1/r,1]),a}function Me(e,i,o,r){if(e){const e=t.L();if(!i){const{vecSouth:t,vecEast:i}=Se(o);e[0]=i[0],e[1]=i[1],e[4]=t[0],e[5]=t[1];}return t.N(e,e,[r,r,1]),e}return o.pixelsToClipSpaceMatrix}function Se(e){const i=Math.cos(e.rollInRadians),o=Math.sin(e.rollInRadians),r=Math.cos(e.pitchInRadians),a=Math.cos(e.bearingInRadians),s=Math.sin(e.bearingInRadians),n=t.aq();n[0]=-a*r*o-s*i,n[1]=-s*r*o+a*i;const l=t.ar(n);l<1e-9?t.as(n):t.at(n,n,1/l);const c=t.aq();c[0]=a*r*i-s*o,c[1]=s*r*i+a*o;const h=t.ar(c);return h<1e-9?t.as(c):t.at(c,c,1/h),{vecEast:c,vecSouth:n}}function Ee(e,i,o,r){let a;r?(a=[e,i,r(e,i),1],t.av(a,a,o)):(a=[e,i,0,1],qe(a,a,o));const s=a[3];return {point:new t.P(a[0]/s,a[1]/s),signedDistanceFromCamera:s,isOccluded:!1}}function Re(e,t){return .5+e/t*.5}function ze(e,t){return e.x>=-t[0]&&e.x<=t[0]&&e.y>=-t[1]&&e.y<=t[1]}function De(e,i,o,r,a,s,n,l,c,h,u,d,_){const p=o?e.textSizeData:e.iconSizeData,m=t.am(p,i.transform.zoom),f=[256/i.width*2+1,256/i.height*2+1],g=o?e.text.dynamicLayoutVertexArray:e.icon.dynamicLayoutVertexArray;g.clear();const v=e.lineVertexArray,b=o?e.text.placedSymbolArray:e.icon.placedSymbolArray,x=i.transform.width/i.transform.height;let y=!1;for(let o=0;o<b.length;o++){const w=b.get(o);if(w.hidden||w.writingMode===t.an.vertical&&!y){$e(w.numGlyphs,g);continue}y=!1;const T=new t.P(w.anchorX,w.anchorY),P={getElevation:_,pitchedLabelPlaneMatrix:r,lineVertexArray:v,pitchWithMap:s,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:i.transform,tileAnchorPoint:T,unwrappedTileID:c,width:h,height:u,translation:d},C=Ne(w.anchorX,w.anchorY,P);if(!ze(C.point,f)){$e(w.numGlyphs,g);continue}const I=Re(i.transform.cameraToCenterDistance,C.signedDistanceFromCamera),M=t.ao(p,m,w),S=s?M*i.transform.getPitchedTextCorrection(w.anchorX,w.anchorY,c)/I:M*I,E=ke({projectionContext:P,pitchedLabelPlaneMatrixInverse:a,symbol:w,fontSize:S,flip:!1,keepUpright:n,glyphOffsetArray:e.glyphOffsetArray,dynamicLayoutVertexArray:g,aspectRatio:x,rotateToLine:l});y=E.useVertical,(E.notEnoughRoom||y||E.needsFlipping&&ke({projectionContext:P,pitchedLabelPlaneMatrixInverse:a,symbol:w,fontSize:S,flip:!0,keepUpright:n,glyphOffsetArray:e.glyphOffsetArray,dynamicLayoutVertexArray:g,aspectRatio:x,rotateToLine:l}).notEnoughRoom)&&$e(w.numGlyphs,g);}o?e.text.dynamicLayoutVertexBuffer.updateData(g):e.icon.dynamicLayoutVertexBuffer.updateData(g);}function Ae(e,t,i,o,r,a,s,n){const l=a.glyphStartIndex+a.numGlyphs,c=a.lineStartIndex,h=a.lineStartIndex+a.lineLength,u=t.getoffsetX(a.glyphStartIndex),d=t.getoffsetX(l-1),_=Ge(e*u,i,o,r,a.segment,c,h,n,s);if(!_)return null;const p=Ge(e*d,i,o,r,a.segment,c,h,n,s);return p?n.projectionCache.anyProjectionOccluded?null:{first:_,last:p}:null}function Le(e,i,o,r){return e===t.an.horizontal&&Math.abs(o.y-i.y)>Math.abs(o.x-i.x)*r?{useVertical:!0}:(e===t.an.vertical?i.y<o.y:i.x>o.x)?{needsFlipping:!0}:null}function ke(e){const{projectionContext:i,pitchedLabelPlaneMatrixInverse:o,symbol:r,fontSize:a,flip:s,keepUpright:n,glyphOffsetArray:l,dynamicLayoutVertexArray:c,aspectRatio:h,rotateToLine:u}=e,d=a/24,_=r.lineOffsetX*d,p=r.lineOffsetY*d;let m;if(r.numGlyphs>1){const e=r.glyphStartIndex+r.numGlyphs,t=r.lineStartIndex,a=r.lineStartIndex+r.lineLength,c=Ae(d,l,_,p,s,r,u,i);if(!c)return {notEnoughRoom:!0};const f=je(c.first.point.x,c.first.point.y,i,o),g=je(c.last.point.x,c.last.point.y,i,o);if(n&&!s){const e=Le(r.writingMode,f,g,h);if(e)return e}m=[c.first];for(let o=r.glyphStartIndex+1;o<e-1;o++){const e=Ge(d*l.getoffsetX(o),_,p,s,r.segment,t,a,i,u);if(!e)return {notEnoughRoom:!0};m.push(e);}m.push(c.last);}else {if(n&&!s){const e=Oe(i.tileAnchorPoint.x,i.tileAnchorPoint.y,i).point,a=r.lineStartIndex+r.segment+1,s=new t.P(i.lineVertexArray.getx(a),i.lineVertexArray.gety(a)),n=Oe(s.x,s.y,i),l=n.signedDistanceFromCamera>0?n.point:Fe(i.tileAnchorPoint,s,e,1,i),c=je(e.x,e.y,i,o),u=je(l.x,l.y,i,o),d=Le(r.writingMode,c,u,h);if(d)return d}const e=Ge(d*l.getoffsetX(r.glyphStartIndex),_,p,s,r.segment,r.lineStartIndex,r.lineStartIndex+r.lineLength,i,u);if(!e||i.projectionCache.anyProjectionOccluded)return {notEnoughRoom:!0};m=[e];}for(const e of m)t.au(c,e.point,e.angle);return {}}function Fe(e,t,i,o,r){const a=e.add(e.sub(t)._unit()),s=Oe(a.x,a.y,r).point,n=i.sub(s);return i.add(n._mult(o/n.mag()))}function Be(e,i,o){const r=i.projectionCache;if(r.projections[e])return r.projections[e];const a=new t.P(i.lineVertexArray.getx(e),i.lineVertexArray.gety(e)),s=Oe(a.x,a.y,i);if(s.signedDistanceFromCamera>0)return r.projections[e]=s.point,r.anyProjectionOccluded=r.anyProjectionOccluded||s.isOccluded,s.point;const n=e-o.direction;return Fe(0===o.distanceFromAnchor?i.tileAnchorPoint:new t.P(i.lineVertexArray.getx(n),i.lineVertexArray.gety(n)),a,o.previousVertex,o.absOffsetX-o.distanceFromAnchor+1,i)}function Oe(e,t,i){const o=e+i.translation[0],r=t+i.translation[1];let a;return i.pitchWithMap?(a=Ee(o,r,i.pitchedLabelPlaneMatrix,i.getElevation),a.isOccluded=!1):(a=i.transform.projectTileCoordinates(o,r,i.unwrappedTileID,i.getElevation),a.point.x=(.5*a.point.x+.5)*i.width,a.point.y=(.5*-a.point.y+.5)*i.height),a}function je(e,i,o,r){if(o.pitchWithMap){const a=[e,i,0,1];return t.av(a,a,r),o.transform.projectTileCoordinates(a[0]/a[3],a[1]/a[3],o.unwrappedTileID,o.getElevation).point}return {x:e/o.width*2-1,y:i/o.height*2-1}}function Ne(e,t,i){return i.transform.projectTileCoordinates(e,t,i.unwrappedTileID,i.getElevation)}function Ze(e,t,i){return e._unit()._perp()._mult(t*i)}function Ue(e,i,o,r,a,s,n,l,c){if(l.projectionCache.offsets[e])return l.projectionCache.offsets[e];const h=o.add(i);if(e+c.direction<r||e+c.direction>=a)return l.projectionCache.offsets[e]=h,h;const u=Be(e+c.direction,l,c),d=Ze(u.sub(o),n,c.direction),_=o.add(d),p=u.add(d);return l.projectionCache.offsets[e]=t.aw(s,h,_,p)||h,l.projectionCache.offsets[e]}function Ge(e,t,i,o,r,a,s,n,l){const c=o?e-t:e+t;let h=c>0?1:-1,u=0;o&&(h*=-1,u=Math.PI),h<0&&(u+=Math.PI);let d,_=h>0?a+r:a+r+1;n.projectionCache.cachedAnchorPoint?d=n.projectionCache.cachedAnchorPoint:(d=Oe(n.tileAnchorPoint.x,n.tileAnchorPoint.y,n).point,n.projectionCache.cachedAnchorPoint=d);let p,m,f=d,g=d,v=0,b=0;const x=Math.abs(c),y=[];let w;for(;v+b<=x;){if(_+=h,_<a||_>=s)return null;v+=b,g=f,m=p;const e={absOffsetX:x,direction:h,distanceFromAnchor:v,previousVertex:g};if(f=Be(_,n,e),0===i)y.push(g),w=f.sub(g);else {let t;const o=f.sub(g);t=0===o.mag()?Ze(Be(_+h,n,e).sub(f),i,h):Ze(o,i,h),m||(m=g.add(t)),p=Ue(_,t,f,a,s,m,i,n,e),y.push(m),w=p.sub(m);}b=w.mag();}const T=w._mult((x-v)/b)._add(m||g),P=u+Math.atan2(f.y-g.y,f.x-g.x);return y.push(T),{point:T,angle:l?P:0,path:y}}const Ve=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function $e(e,t){for(let i=0;i<e;i++){const e=t.length;t.resize(e+4),t.float32.set(Ve,3*e);}}function qe(e,t,i){const o=t[0],r=t[1];return e[0]=i[0]*o+i[4]*r+i[12],e[1]=i[1]*o+i[5]*r+i[13],e[3]=i[3]*o+i[7]*r+i[15],e}const We=100;class He{constructor(e,t=new Ce(e.width+200,e.height+200,25),i=new Ce(e.width+200,e.height+200,25)){this.transform=e,this.grid=t,this.ignoredGrid=i,this.pitchFactor=Math.cos(e.pitch*Math.PI/180)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+We,this.screenBottomBoundary=e.height+We,this.gridRightBoundary=e.width+200,this.gridBottomBoundary=e.height+200,this.perspectiveRatioCutoff=.6;}placeCollisionBox(e,t,i,o,r,a,s,n,l,c,h,u){const d=this.projectAndGetPerspectiveRatio(e.anchorPointX+n[0],e.anchorPointY+n[1],r,c,u),_=i*d.perspectiveRatio;let p;if(a||s)p=this._projectCollisionBox(e,_,o,r,a,s,n,d,c,h,u);else {const t=d.x+(h?h.x*_:0),i=d.y+(h?h.y*_:0);p={allPointsOccluded:!1,box:[t+e.x1*_,i+e.y1*_,t+e.x2*_,i+e.y2*_]};}const[m,f,g,v]=p.box,b=a?p.allPointsOccluded:d.isOccluded;let x=b;return x||(x=d.perspectiveRatio<this.perspectiveRatioCutoff),x||(x=!this.isInsideGrid(m,f,g,v)),x||"always"!==t&&this.grid.hitTest(m,f,g,v,t,l)?{box:[m,f,g,v],placeable:!1,offscreen:!1,occluded:b}:{box:[m,f,g,v],placeable:!0,offscreen:this.isOffscreen(m,f,g,v),occluded:b}}placeCollisionCircles(e,i,o,r,a,s,n,l,c,h,u,d,_,p){const m=[],f=new t.P(i.anchorX,i.anchorY),g=this.getPerspectiveRatio(f.x,f.y,s,p),v=(c?a*this.transform.getPitchedTextCorrection(i.anchorX,i.anchorY,s)/g:a*g)/t.aA,b={getElevation:p,pitchedLabelPlaneMatrix:n,lineVertexArray:o,pitchWithMap:c,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:this.transform,tileAnchorPoint:f,unwrappedTileID:s,width:this.transform.width,height:this.transform.height,translation:_},x=Ae(v,r,i.lineOffsetX*v,i.lineOffsetY*v,!1,i,!1,b);let y=!1,w=!1,T=!0;if(x){const i=.5*u*g+d,o=new t.P(-100,-100),r=new t.P(this.screenRightBoundary,this.screenBottomBoundary),a=new Te,s=x.first,n=x.last;let _=[];for(let e=s.path.length-1;e>=1;e--)_.push(s.path[e]);for(let e=1;e<n.path.length;e++)_.push(n.path[e]);const p=2.5*i;if(c){const e=this.projectPathToScreenSpace(_,b);_=e.some((e=>e.signedDistanceFromCamera<=0))?[]:e.map((e=>e.point));}let f=[];if(_.length>0){const e=_[0].clone(),i=_[0].clone();for(let t=1;t<_.length;t++)e.x=Math.min(e.x,_[t].x),e.y=Math.min(e.y,_[t].y),i.x=Math.max(i.x,_[t].x),i.y=Math.max(i.y,_[t].y);f=e.x>=o.x&&i.x<=r.x&&e.y>=o.y&&i.y<=r.y?[_]:i.x<o.x||e.x>r.x||i.y<o.y||e.y>r.y?[]:t.ax([_],o.x,o.y,r.x,r.y);}for(const t of f){a.reset(t,.25*i);let o=0;o=a.length<=.5*i?1:Math.ceil(a.paddedLength/p)+1;for(let t=0;t<o;t++){const r=t/Math.max(o-1,1),s=a.lerp(r),n=s.x+We,c=s.y+We;m.push(n,c,i,0);const u=n-i,d=c-i,_=n+i,p=c+i;if(T=T&&this.isOffscreen(u,d,_,p),w=w||this.isInsideGrid(u,d,_,p),"always"!==e&&this.grid.hitTestCircle(n,c,i,e,h)&&(y=!0,!l))return {circles:[],offscreen:!1,collisionDetected:y}}}}return {circles:!l&&y||!w||g<this.perspectiveRatioCutoff?[]:m,offscreen:T,collisionDetected:y}}projectPathToScreenSpace(e,i){const o=function(e,i){const o=t.L();return t.ap(o,i.pitchedLabelPlaneMatrix),e.map((e=>{const t=Ee(e.x,e.y,o,i.getElevation),r=i.transform.projectTileCoordinates(t.point.x,t.point.y,i.unwrappedTileID,i.getElevation);return r.point.x=(.5*r.point.x+.5)*i.width,r.point.y=(.5*-r.point.y+.5)*i.height,r}))}(e,i);return function(e){let t=0,i=0,o=0,r=0;for(let a=0;a<e.length;a++)e[a].isOccluded?(o=a+1,r=0):(r++,r>i&&(i=r,t=o));return e.slice(t,t+i)}(o)}queryRenderedSymbols(e){if(0===e.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return {};const i=[],o=new t.a1;for(const r of e){const e=new t.P(r.x+We,r.y+We);o.extend(e),i.push(e);}const{minX:r,minY:a,maxX:s,maxY:n}=o,l=this.grid.query(r,a,s,n).concat(this.ignoredGrid.query(r,a,s,n)),c={},h={};for(const e of l){const o=e.key;if(void 0===c[o.bucketInstanceId]&&(c[o.bucketInstanceId]={}),c[o.bucketInstanceId][o.featureIndex])continue;const r=[new t.P(e.x1,e.y1),new t.P(e.x2,e.y1),new t.P(e.x2,e.y2),new t.P(e.x1,e.y2)];t.ay(i,r)&&(c[o.bucketInstanceId][o.featureIndex]=!0,void 0===h[o.bucketInstanceId]&&(h[o.bucketInstanceId]=[]),h[o.bucketInstanceId].push(o.featureIndex));}return h}insertCollisionBox(e,t,i,o,r,a){(i?this.ignoredGrid:this.grid).insert({bucketInstanceId:o,featureIndex:r,collisionGroupID:a,overlapMode:t},e[0],e[1],e[2],e[3]);}insertCollisionCircles(e,t,i,o,r,a){const s=i?this.ignoredGrid:this.grid,n={bucketInstanceId:o,featureIndex:r,collisionGroupID:a,overlapMode:t};for(let t=0;t<e.length;t+=4)s.insertCircle(n,e[t],e[t+1],e[t+2]);}projectAndGetPerspectiveRatio(e,i,o,r,a){if(a){let o;r?(o=[e,i,r(e,i),1],t.av(o,o,a)):(o=[e,i,0,1],qe(o,o,a));const s=o[3];return {x:(o[0]/s+1)/2*this.transform.width+We,y:(-o[1]/s+1)/2*this.transform.height+We,perspectiveRatio:.5+this.transform.cameraToCenterDistance/s*.5,isOccluded:!1,signedDistanceFromCamera:s}}{const t=this.transform.projectTileCoordinates(e,i,o,r);return {x:(t.point.x+1)/2*this.transform.width+We,y:(1-t.point.y)/2*this.transform.height+We,perspectiveRatio:.5+this.transform.cameraToCenterDistance/t.signedDistanceFromCamera*.5,isOccluded:t.isOccluded,signedDistanceFromCamera:t.signedDistanceFromCamera}}}getPerspectiveRatio(e,t,i,o){const r=this.transform.projectTileCoordinates(e,t,i,o);return .5+this.transform.cameraToCenterDistance/r.signedDistanceFromCamera*.5}isOffscreen(e,t,i,o){return i<We||e>=this.screenRightBoundary||o<We||t>this.screenBottomBoundary}isInsideGrid(e,t,i,o){return i>=0&&e<this.gridRightBoundary&&o>=0&&t<this.gridBottomBoundary}getViewportMatrix(){const e=t.af([]);return t.M(e,e,[-100,-100,0]),e}_projectCollisionBox(e,i,o,r,a,s,n,l,c,h,u){let d=1,_=0,p=0,m=1;const f=e.anchorPointX+n[0],g=e.anchorPointY+n[1];if(s&&!a){const e=this.projectAndGetPerspectiveRatio(f+1,g,r,c,u),t=e.x-l.x,i=Math.atan((e.y-l.y)/t)+(t<0?Math.PI:0),o=Math.sin(i),a=Math.cos(i);d=a,_=o,p=-o,m=a;}else if(!s&&a){const e=Se(this.transform);d=e.vecEast[0],_=e.vecEast[1],p=e.vecSouth[0],m=e.vecSouth[1];}let v=l.x,b=l.y,x=i;a&&(v=f,b=g,x=Math.pow(2,-(this.transform.zoom-o.overscaledZ)),x*=this.transform.getPitchedTextCorrection(f,g,r),h||(x*=t.ag(.5+l.signedDistanceFromCamera/this.transform.cameraToCenterDistance*.5,0,4))),h&&(v+=d*h.x*x+p*h.y*x,b+=_*h.x*x+m*h.y*x);const y=e.x1*x,w=e.x2*x,T=(y+w)/2,P=e.y1*x,C=e.y2*x,I=(P+C)/2,M=[{offsetX:y,offsetY:P},{offsetX:T,offsetY:P},{offsetX:w,offsetY:P},{offsetX:w,offsetY:I},{offsetX:w,offsetY:C},{offsetX:T,offsetY:C},{offsetX:y,offsetY:C},{offsetX:y,offsetY:I}];let S=[];for(const{offsetX:e,offsetY:i}of M)S.push(new t.P(v+d*e+p*i,b+_*e+m*i));let E=!1;if(a){const e=S.map((e=>this.projectAndGetPerspectiveRatio(e.x,e.y,r,c,u)));E=e.some((e=>!e.isOccluded)),S=e.map((e=>new t.P(e.x,e.y)));}else E=!0;return {box:t.az(S),allPointsOccluded:!E}}}class Xe{constructor(e,t,i,o){this.opacity=e?Math.max(0,Math.min(1,e.opacity+(e.placed?t:-t))):o&&i?1:0,this.placed=i;}isHidden(){return 0===this.opacity&&!this.placed}}class Ke{constructor(e,t,i,o,r){this.text=new Xe(e?e.text:null,t,i,r),this.icon=new Xe(e?e.icon:null,t,o,r);}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Ye{constructor(e,t,i){this.text=e,this.icon=t,this.skipFade=i;}}class Qe{constructor(e,t,i,o,r){this.bucketInstanceId=e,this.featureIndex=t,this.sourceLayerIndex=i,this.bucketIndex=o,this.tileID=r;}}class Je{constructor(e){this.crossSourceCollisions=e,this.maxGroupID=0,this.collisionGroups={};}get(e){if(this.crossSourceCollisions)return {ID:0,predicate:null};if(!this.collisionGroups[e]){const t=++this.maxGroupID;this.collisionGroups[e]={ID:t,predicate:e=>e.collisionGroupID===t};}return this.collisionGroups[e]}}function et(e,i,o,r,a){const{horizontalAlign:s,verticalAlign:n}=t.aG(e);return new t.P(-(s-.5)*i+r[0]*a,-(n-.5)*o+r[1]*a)}class tt{constructor(e,t,i,o,r){this.transform=e.clone(),this.terrain=t,this.collisionIndex=new He(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=i,this.retainedQueryData={},this.collisionGroups=new Je(o),this.collisionCircleArrays={},this.collisionBoxArrays=new Map,this.prevPlacement=r,r&&(r.prevPlacement=void 0),this.placedOrientations={};}_getTerrainElevationFunc(e){const t=this.terrain;return t?(i,o)=>t.getElevation(e,i,o):null}getBucketParts(e,i,o,r){const a=o.getBucket(i),s=o.latestFeatureIndex;if(!a||!s||i.id!==a.layerIds[0])return;const n=o.collisionBoxArray,l=a.layers[0].layout,c=a.layers[0].paint,h=Math.pow(2,this.transform.zoom-o.tileID.overscaledZ),u=o.tileSize/t.$,d=o.tileID.toUnwrapped(),_="map"===l.get("text-rotation-alignment"),p=t.aB(o,1,this.transform.zoom),m=t.aC(this.collisionIndex.transform,o,c.get("text-translate"),c.get("text-translate-anchor")),f=t.aC(this.collisionIndex.transform,o,c.get("icon-translate"),c.get("icon-translate-anchor")),g=Ie(_,this.transform,p);this.retainedQueryData[a.bucketInstanceId]=new Qe(a.bucketInstanceId,s,a.sourceLayerIndex,a.index,o.tileID);const v={bucket:a,layout:l,translationText:m,translationIcon:f,unwrappedTileID:d,pitchedLabelPlaneMatrix:g,scale:h,textPixelRatio:u,holdingForFade:o.holdingForFade(),collisionBoxArray:n,partiallyEvaluatedTextSize:t.am(a.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(a.sourceID)};if(r)for(const t of a.sortKeyRanges){const{sortKey:i,symbolInstanceStart:o,symbolInstanceEnd:r}=t;e.push({sortKey:i,symbolInstanceStart:o,symbolInstanceEnd:r,parameters:v});}else e.push({symbolInstanceStart:0,symbolInstanceEnd:a.symbolInstances.length,parameters:v});}attemptAnchorPlacement(e,i,o,r,a,s,n,l,c,h,u,d,_,p,m,f,g,v,b,x){const y=t.aD[e.textAnchor],w=[e.textOffset0,e.textOffset1],T=et(y,o,r,w,a),P=this.collisionIndex.placeCollisionBox(i,d,l,c,h,n,s,f,u.predicate,b,T,x);if((!v||this.collisionIndex.placeCollisionBox(v,d,l,c,h,n,s,g,u.predicate,b,T,x).placeable)&&P.placeable){let e;if(this.prevPlacement&&this.prevPlacement.variableOffsets[_.crossTileID]&&this.prevPlacement.placements[_.crossTileID]&&this.prevPlacement.placements[_.crossTileID].text&&(e=this.prevPlacement.variableOffsets[_.crossTileID].anchor),0===_.crossTileID)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[_.crossTileID]={textOffset:w,width:o,height:r,anchor:y,textBoxScale:a,prevAnchor:e},this.markUsedJustification(p,y,_,m),p.allowVerticalPlacement&&(this.markUsedOrientation(p,m,_),this.placedOrientations[_.crossTileID]=m),{shift:T,placedGlyphBoxes:P}}}placeLayerBucketPart(e,i,o){const{bucket:r,layout:a,translationText:s,translationIcon:n,unwrappedTileID:l,pitchedLabelPlaneMatrix:c,textPixelRatio:h,holdingForFade:u,collisionBoxArray:d,partiallyEvaluatedTextSize:_,collisionGroup:p}=e.parameters,m=a.get("text-optional"),f=a.get("icon-optional"),g=t.aE(a,"text-overlap","text-allow-overlap"),v="always"===g,b=t.aE(a,"icon-overlap","icon-allow-overlap"),x="always"===b,y="map"===a.get("text-rotation-alignment"),w="map"===a.get("text-pitch-alignment"),T="none"!==a.get("icon-text-fit"),P="viewport-y"===a.get("symbol-z-order"),C=v&&(x||!r.hasIconData()||f),I=x&&(v||!r.hasTextData()||m);!r.collisionArrays&&d&&r.deserializeCollisionBoxes(d);const M=this.retainedQueryData[r.bucketInstanceId].tileID,S=this._getTerrainElevationFunc(M),E=this.transform.getFastPathSimpleProjectionMatrix(M),R=(e,d,x)=>{var P,R;if(i[e.crossTileID])return;if(u)return void(this.placements[e.crossTileID]=new Ye(!1,!1,!1));let z=!1,D=!1,A=!0,L=null,k={box:null,placeable:!1,offscreen:null,occluded:!1},F={placeable:!1},B=null,O=null,j=null,N=0,Z=0,U=0;d.textFeatureIndex?N=d.textFeatureIndex:e.useRuntimeCollisionCircles&&(N=e.featureIndex),d.verticalTextFeatureIndex&&(Z=d.verticalTextFeatureIndex);const G=d.textBox;if(G){const i=i=>{let o=t.an.horizontal;if(r.allowVerticalPlacement&&!i&&this.prevPlacement){const t=this.prevPlacement.placedOrientations[e.crossTileID];t&&(this.placedOrientations[e.crossTileID]=t,o=t,this.markUsedOrientation(r,o,e));}return o},a=(i,o)=>{if(r.allowVerticalPlacement&&e.numVerticalGlyphVertices>0&&d.verticalTextBox){for(const e of r.writingModes)if(e===t.an.vertical?(k=o(),F=k):k=i(),k&&k.placeable)break}else k=i();},c=e.textAnchorOffsetStartIndex,u=e.textAnchorOffsetEndIndex;if(u===c){const o=(t,i)=>{const o=this.collisionIndex.placeCollisionBox(t,g,h,M,l,w,y,s,p.predicate,S,void 0,E);return o&&o.placeable&&(this.markUsedOrientation(r,i,e),this.placedOrientations[e.crossTileID]=i),o};a((()=>o(G,t.an.horizontal)),(()=>{const i=d.verticalTextBox;return r.allowVerticalPlacement&&e.numVerticalGlyphVertices>0&&i?o(i,t.an.vertical):{box:null,offscreen:null}})),i(k&&k.placeable);}else {let _=t.aD[null===(R=null===(P=this.prevPlacement)||void 0===P?void 0:P.variableOffsets[e.crossTileID])||void 0===R?void 0:R.anchor];const m=(t,i,a)=>{const d=t.x2-t.x1,m=t.y2-t.y1,f=e.textBoxScale,v=T&&"never"===b?i:null;let x=null,P="never"===g?1:2,C="never";_&&P++;for(let i=0;i<P;i++){for(let i=c;i<u;i++){const o=r.textAnchorOffsets.get(i);if(_&&o.textAnchor!==_)continue;const c=this.attemptAnchorPlacement(o,t,d,m,f,y,w,h,M,l,p,C,e,r,a,s,n,v,S);if(c&&(x=c.placedGlyphBoxes,x&&x.placeable))return z=!0,L=c.shift,x}_?_=null:C=g;}return o&&!x&&(x={box:this.collisionIndex.placeCollisionBox(G,"always",h,M,l,w,y,s,p.predicate,S,void 0,E).box,offscreen:!1,placeable:!1,occluded:!1}),x};a((()=>m(G,d.iconBox,t.an.horizontal)),(()=>{const i=d.verticalTextBox;return r.allowVerticalPlacement&&(!k||!k.placeable)&&e.numVerticalGlyphVertices>0&&i?m(i,d.verticalIconBox,t.an.vertical):{box:null,occluded:!0,offscreen:null}})),k&&(z=k.placeable,A=k.offscreen);const f=i(k&&k.placeable);if(!z&&this.prevPlacement){const t=this.prevPlacement.variableOffsets[e.crossTileID];t&&(this.variableOffsets[e.crossTileID]=t,this.markUsedJustification(r,t.anchor,e,f));}}}if(B=k,z=B&&B.placeable,A=B&&B.offscreen,e.useRuntimeCollisionCircles){const i=r.text.placedSymbolArray.get(e.centerJustifiedTextSymbolIndex),n=t.ao(r.textSizeData,_,i),h=a.get("text-padding");O=this.collisionIndex.placeCollisionCircles(g,i,r.lineVertexArray,r.glyphOffsetArray,n,l,c,o,w,p.predicate,e.collisionCircleDiameter,h,s,S),O.circles.length&&O.collisionDetected&&!o&&t.w("Collisions detected, but collision boxes are not shown"),z=v||O.circles.length>0&&!O.collisionDetected,A=A&&O.offscreen;}if(d.iconFeatureIndex&&(U=d.iconFeatureIndex),d.iconBox){const e=e=>this.collisionIndex.placeCollisionBox(e,b,h,M,l,w,y,n,p.predicate,S,T&&L?L:void 0,E);F&&F.placeable&&d.verticalIconBox?(j=e(d.verticalIconBox),D=j.placeable):(j=e(d.iconBox),D=j.placeable),A=A&&j.offscreen;}const V=m||0===e.numHorizontalGlyphVertices&&0===e.numVerticalGlyphVertices,$=f||0===e.numIconVertices;V||$?$?V||(D=D&&z):z=D&&z:D=z=D&&z;const q=D&&j.placeable;if(z&&B.placeable&&this.collisionIndex.insertCollisionBox(B.box,g,a.get("text-ignore-placement"),r.bucketInstanceId,F&&F.placeable&&Z?Z:N,p.ID),q&&this.collisionIndex.insertCollisionBox(j.box,b,a.get("icon-ignore-placement"),r.bucketInstanceId,U,p.ID),O&&z&&this.collisionIndex.insertCollisionCircles(O.circles,g,a.get("text-ignore-placement"),r.bucketInstanceId,N,p.ID),o&&this.storeCollisionData(r.bucketInstanceId,x,d,B,j,O),0===e.crossTileID)throw new Error("symbolInstance.crossTileID can't be 0");if(0===r.bucketInstanceId)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[e.crossTileID]=new Ye((z||C)&&!(null==B?void 0:B.occluded),(D||I)&&!(null==j?void 0:j.occluded),A||r.justReloaded),i[e.crossTileID]=!0;};if(P){if(0!==e.symbolInstanceStart)throw new Error("bucket.bucketInstanceId should be 0");const t=r.getSortedSymbolIndexes(-this.transform.bearingInRadians);for(let e=t.length-1;e>=0;--e){const i=t[e];R(r.symbolInstances.get(i),r.collisionArrays[i],i);}}else for(let t=e.symbolInstanceStart;t<e.symbolInstanceEnd;t++)R(r.symbolInstances.get(t),r.collisionArrays[t],t);r.justReloaded=!1;}storeCollisionData(e,t,i,o,r,a){if(i.textBox||i.iconBox){let a,s;this.collisionBoxArrays.has(e)?a=this.collisionBoxArrays.get(e):(a=new Map,this.collisionBoxArrays.set(e,a)),a.has(t)?s=a.get(t):(s={text:null,icon:null},a.set(t,s)),i.textBox&&(s.text=o.box),i.iconBox&&(s.icon=r.box);}if(a){let t=this.collisionCircleArrays[e];void 0===t&&(t=this.collisionCircleArrays[e]=[]);for(let e=0;e<a.circles.length;e+=4)t.push(a.circles[e+0]-We),t.push(a.circles[e+1]-We),t.push(a.circles[e+2]),t.push(a.collisionDetected?1:0);}}markUsedJustification(e,i,o,r){let a;a=r===t.an.vertical?o.verticalPlacedTextSymbolIndex:{left:o.leftJustifiedTextSymbolIndex,center:o.centerJustifiedTextSymbolIndex,right:o.rightJustifiedTextSymbolIndex}[t.aF(i)];const s=[o.leftJustifiedTextSymbolIndex,o.centerJustifiedTextSymbolIndex,o.rightJustifiedTextSymbolIndex,o.verticalPlacedTextSymbolIndex];for(const t of s)t>=0&&(e.text.placedSymbolArray.get(t).crossTileID=a>=0&&t!==a?0:o.crossTileID);}markUsedOrientation(e,i,o){const r=i===t.an.horizontal||i===t.an.horizontalOnly?i:0,a=i===t.an.vertical?i:0,s=[o.leftJustifiedTextSymbolIndex,o.centerJustifiedTextSymbolIndex,o.rightJustifiedTextSymbolIndex];for(const t of s)e.text.placedSymbolArray.get(t).placedOrientation=r;o.verticalPlacedTextSymbolIndex&&(e.text.placedSymbolArray.get(o.verticalPlacedTextSymbolIndex).placedOrientation=a);}commit(e){this.commitTime=e,this.zoomAtLastRecencyCheck=this.transform.zoom;const t=this.prevPlacement;let i=!1;this.prevZoomAdjustment=t?t.zoomAdjustment(this.transform.zoom):0;const o=t?t.symbolFadeChange(e):1,r=t?t.opacities:{},a=t?t.variableOffsets:{},s=t?t.placedOrientations:{};for(const e in this.placements){const t=this.placements[e],a=r[e];a?(this.opacities[e]=new Ke(a,o,t.text,t.icon),i=i||t.text!==a.text.placed||t.icon!==a.icon.placed):(this.opacities[e]=new Ke(null,o,t.text,t.icon,t.skipFade),i=i||t.text||t.icon);}for(const e in r){const t=r[e];if(!this.opacities[e]){const r=new Ke(t,o,!1,!1);r.isHidden()||(this.opacities[e]=r,i=i||t.text.placed||t.icon.placed);}}for(const e in a)this.variableOffsets[e]||!this.opacities[e]||this.opacities[e].isHidden()||(this.variableOffsets[e]=a[e]);for(const e in s)this.placedOrientations[e]||!this.opacities[e]||this.opacities[e].isHidden()||(this.placedOrientations[e]=s[e]);if(t&&void 0===t.lastPlacementChangeTime)throw new Error("Last placement time for previous placement is not defined");i?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e);}updateLayerOpacities(e,t){const i={};for(const o of t){const t=o.getBucket(e);t&&o.latestFeatureIndex&&e.id===t.layerIds[0]&&this.updateBucketOpacities(t,o.tileID,i,o.collisionBoxArray);}}updateBucketOpacities(e,i,o,r){e.hasTextData()&&(e.text.opacityVertexArray.clear(),e.text.hasVisibleVertices=!1),e.hasIconData()&&(e.icon.opacityVertexArray.clear(),e.icon.hasVisibleVertices=!1),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexArray.clear(),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexArray.clear();const a=e.layers[0],s=a.layout,n=new Ke(null,0,!1,!1,!0),l=s.get("text-allow-overlap"),c=s.get("icon-allow-overlap"),h=a._unevaluatedLayout.hasValue("text-variable-anchor")||a._unevaluatedLayout.hasValue("text-variable-anchor-offset"),u="map"===s.get("text-rotation-alignment"),d="map"===s.get("text-pitch-alignment"),_="none"!==s.get("icon-text-fit"),p=new Ke(null,0,l&&(c||!e.hasIconData()||s.get("icon-optional")),c&&(l||!e.hasTextData()||s.get("text-optional")),!0);!e.collisionArrays&&r&&(e.hasIconCollisionBoxData()||e.hasTextCollisionBoxData())&&e.deserializeCollisionBoxes(r);const m=(e,t,i)=>{for(let o=0;o<t/4;o++)e.opacityVertexArray.emplaceBack(i);e.hasVisibleVertices=e.hasVisibleVertices||i!==ut;},f=this.collisionBoxArrays.get(e.bucketInstanceId);for(let i=0;i<e.symbolInstances.length;i++){const r=e.symbolInstances.get(i),{numHorizontalGlyphVertices:a,numVerticalGlyphVertices:s,crossTileID:l}=r;let c=this.opacities[l];o[l]?c=n:c||(c=p,this.opacities[l]=c),o[l]=!0;const g=r.numIconVertices>0,v=this.placedOrientations[r.crossTileID],b=v===t.an.vertical,x=v===t.an.horizontal||v===t.an.horizontalOnly;if(a>0||s>0){const t=ht(c.text);m(e.text,a,b?ut:t),m(e.text,s,x?ut:t);const i=c.text.isHidden();[r.rightJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.leftJustifiedTextSymbolIndex].forEach((t=>{t>=0&&(e.text.placedSymbolArray.get(t).hidden=i||b?1:0);})),r.verticalPlacedTextSymbolIndex>=0&&(e.text.placedSymbolArray.get(r.verticalPlacedTextSymbolIndex).hidden=i||x?1:0);const o=this.variableOffsets[r.crossTileID];o&&this.markUsedJustification(e,o.anchor,r,v);const n=this.placedOrientations[r.crossTileID];n&&(this.markUsedJustification(e,"left",r,n),this.markUsedOrientation(e,n,r));}if(g){const t=ht(c.icon),i=!(_&&r.verticalPlacedIconSymbolIndex&&b);r.placedIconSymbolIndex>=0&&(m(e.icon,r.numIconVertices,i?t:ut),e.icon.placedSymbolArray.get(r.placedIconSymbolIndex).hidden=c.icon.isHidden()),r.verticalPlacedIconSymbolIndex>=0&&(m(e.icon,r.numVerticalIconVertices,i?ut:t),e.icon.placedSymbolArray.get(r.verticalPlacedIconSymbolIndex).hidden=c.icon.isHidden());}const y=f&&f.has(i)?f.get(i):{text:null,icon:null};if(e.hasIconCollisionBoxData()||e.hasTextCollisionBoxData()){const o=e.collisionArrays[i];if(o){let i=new t.P(0,0);if(o.textBox||o.verticalTextBox){let t=!0;if(h){const e=this.variableOffsets[l];e?(i=et(e.anchor,e.width,e.height,e.textOffset,e.textBoxScale),u&&i._rotate(d?-this.transform.bearingInRadians:this.transform.bearingInRadians)):t=!1;}if(o.textBox||o.verticalTextBox){let r;o.textBox&&(r=b),o.verticalTextBox&&(r=x),it(e.textCollisionBox.collisionVertexArray,c.text.placed,!t||r,y.text,i.x,i.y);}}if(o.iconBox||o.verticalIconBox){const t=Boolean(!x&&o.verticalIconBox);let r;o.iconBox&&(r=t),o.verticalIconBox&&(r=!t),it(e.iconCollisionBox.collisionVertexArray,c.icon.placed,r,y.icon,_?i.x:0,_?i.y:0);}}}}if(e.sortFeatures(-this.transform.bearingInRadians),this.retainedQueryData[e.bucketInstanceId]&&(this.retainedQueryData[e.bucketInstanceId].featureSortOrder=e.featureSortOrder),e.hasTextData()&&e.text.opacityVertexBuffer&&e.text.opacityVertexBuffer.updateData(e.text.opacityVertexArray),e.hasIconData()&&e.icon.opacityVertexBuffer&&e.icon.opacityVertexBuffer.updateData(e.icon.opacityVertexArray),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexBuffer&&e.iconCollisionBox.collisionVertexBuffer.updateData(e.iconCollisionBox.collisionVertexArray),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexBuffer&&e.textCollisionBox.collisionVertexBuffer.updateData(e.textCollisionBox.collisionVertexArray),e.text.opacityVertexArray.length!==e.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${e.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${e.text.layoutVertexArray.length}) / 4`);if(e.icon.opacityVertexArray.length!==e.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${e.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${e.icon.layoutVertexArray.length}) / 4`);e.bucketInstanceId in this.collisionCircleArrays&&(e.collisionCircleArray=this.collisionCircleArrays[e.bucketInstanceId],delete this.collisionCircleArrays[e.bucketInstanceId]);}symbolFadeChange(e){return 0===this.fadeDuration?1:(e-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(e){return Math.max(0,(this.transform.zoom-e)/1.5)}hasTransitions(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(e,t){const i=this.zoomAtLastRecencyCheck===t?1-this.zoomAdjustment(t):1;return this.zoomAtLastRecencyCheck=t,this.commitTime+this.fadeDuration*i>e}setStale(){this.stale=!0;}}function it(e,t,i,o,r,a){o&&0!==o.length||(o=[0,0,0,0]);const s=o[0]-We,n=o[1]-We,l=o[2]-We,c=o[3]-We;e.emplaceBack(t?1:0,i?1:0,r||0,a||0,s,n),e.emplaceBack(t?1:0,i?1:0,r||0,a||0,l,n),e.emplaceBack(t?1:0,i?1:0,r||0,a||0,l,c),e.emplaceBack(t?1:0,i?1:0,r||0,a||0,s,c);}const ot=Math.pow(2,25),rt=Math.pow(2,24),at=Math.pow(2,17),st=Math.pow(2,16),nt=Math.pow(2,9),lt=Math.pow(2,8),ct=Math.pow(2,1);function ht(e){if(0===e.opacity&&!e.placed)return 0;if(1===e.opacity&&e.placed)return 4294967295;const t=e.placed?1:0,i=Math.floor(127*e.opacity);return i*ot+t*rt+i*at+t*st+i*nt+t*lt+i*ct+t}const ut=0;class dt{constructor(e){this._sortAcrossTiles="viewport-y"!==e.layout.get("symbol-z-order")&&!e.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[];}continuePlacement(e,t,i,o,r){const a=this._bucketParts;for(;this._currentTileIndex<e.length;)if(t.getBucketParts(a,o,e[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,r())return !0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,a.sort(((e,t)=>e.sortKey-t.sortKey)));this._currentPartIndex<a.length;)if(t.placeLayerBucketPart(a[this._currentPartIndex],this._seenCrossTileIDs,i),this._currentPartIndex++,r())return !0;return !1}}class _t{constructor(e,t,i,o,r,a,s,n){this.placement=new tt(e,t,a,s,n),this._currentPlacementIndex=i.length-1,this._forceFullPlacement=o,this._showCollisionBoxes=r,this._done=!1;}isDone(){return this._done}continuePlacement(e,t,i){const o=s.now(),r=()=>!this._forceFullPlacement&&s.now()-o>2;for(;this._currentPlacementIndex>=0;){const o=t[e[this._currentPlacementIndex]],a=this.placement.collisionIndex.transform.zoom;if("symbol"===o.type&&(!o.minzoom||o.minzoom<=a)&&(!o.maxzoom||o.maxzoom>a)){if(this._inProgressLayer||(this._inProgressLayer=new dt(o)),this._inProgressLayer.continuePlacement(i[o.source],this.placement,this._showCollisionBoxes,o,r))return;delete this._inProgressLayer;}this._currentPlacementIndex--;}this._done=!0;}commit(e){return this.placement.commit(e),this.placement}}const pt=512/t.$/2;class mt{constructor(e,i,o){this.tileID=e,this.bucketInstanceId=o,this._symbolsByKey={};const r=new Map;for(let e=0;e<i.length;e++){const t=i.get(e),o=t.key,a=r.get(o);a?a.push(t):r.set(o,[t]);}for(const[e,i]of r){const o={positions:i.map((e=>({x:Math.floor(e.anchorX*pt),y:Math.floor(e.anchorY*pt)}))),crossTileIDs:i.map((e=>e.crossTileID))};if(o.positions.length>128){const e=new t.aH(o.positions.length,16,Uint16Array);for(const{x:t,y:i}of o.positions)e.add(t,i);e.finish(),delete o.positions,o.index=e;}this._symbolsByKey[e]=o;}}getScaledCoordinates(e,i){const{x:o,y:r,z:a}=this.tileID.canonical,{x:s,y:n,z:l}=i.canonical,c=pt/Math.pow(2,l-a),h=(n*t.$+e.anchorY)*c,u=r*t.$*pt;return {x:Math.floor((s*t.$+e.anchorX)*c-o*t.$*pt),y:Math.floor(h-u)}}findMatches(e,t,i){const o=this.tileID.canonical.z<t.canonical.z?1:Math.pow(2,this.tileID.canonical.z-t.canonical.z);for(let r=0;r<e.length;r++){const a=e.get(r);if(a.crossTileID)continue;const s=this._symbolsByKey[a.key];if(!s)continue;const n=this.getScaledCoordinates(a,t);if(s.index){const e=s.index.range(n.x-o,n.y-o,n.x+o,n.y+o).sort();for(const t of e){const e=s.crossTileIDs[t];if(!i[e]){i[e]=!0,a.crossTileID=e;break}}}else if(s.positions)for(let e=0;e<s.positions.length;e++){const t=s.positions[e],r=s.crossTileIDs[e];if(Math.abs(t.x-n.x)<=o&&Math.abs(t.y-n.y)<=o&&!i[r]){i[r]=!0,a.crossTileID=r;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map((({crossTileIDs:e})=>e))}}class ft{constructor(){this.maxCrossTileID=0;}generate(){return ++this.maxCrossTileID}}class gt{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0;}handleWrapJump(e){const t=Math.round((e-this.lng)/360);if(0!==t)for(const e in this.indexes){const i=this.indexes[e],o={};for(const e in i){const r=i[e];r.tileID=r.tileID.unwrapTo(r.tileID.wrap+t),o[r.tileID.key]=r;}this.indexes[e]=o;}this.lng=e;}addBucket(e,t,i){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===t.bucketInstanceId)return !1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key]);}for(let e=0;e<t.symbolInstances.length;e++)t.symbolInstances.get(e).crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]={});const o=this.usedCrossTileIDs[e.overscaledZ];for(const i in this.indexes){const r=this.indexes[i];if(Number(i)>e.overscaledZ)for(const i in r){const a=r[i];a.tileID.isChildOf(e)&&a.findMatches(t.symbolInstances,e,o);}else {const a=r[e.scaledTo(Number(i)).key];a&&a.findMatches(t.symbolInstances,e,o);}}for(let e=0;e<t.symbolInstances.length;e++){const r=t.symbolInstances.get(e);r.crossTileID||(r.crossTileID=i.generate(),o[r.crossTileID]=!0);}return void 0===this.indexes[e.overscaledZ]&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new mt(e,t.symbolInstances,t.bucketInstanceId),!0}removeBucketCrossTileIDs(e,t){for(const i of t.getCrossTileIDsLists())for(const t of i)delete this.usedCrossTileIDs[e][t];}removeStaleBuckets(e){let t=!1;for(const i in this.indexes){const o=this.indexes[i];for(const r in o)e[o[r].bucketInstanceId]||(this.removeBucketCrossTileIDs(i,o[r]),delete o[r],t=!0);}return t}}class vt{constructor(){this.layerIndexes={},this.crossTileIDs=new ft,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={};}addLayer(e,t,i){let o=this.layerIndexes[e.id];void 0===o&&(o=this.layerIndexes[e.id]=new gt);let r=!1;const a={};o.handleWrapJump(i);for(const i of t){const t=i.getBucket(e);t&&e.id===t.layerIds[0]&&(t.bucketInstanceId||(t.bucketInstanceId=++this.maxBucketInstanceId),o.addBucket(i.tileID,t,this.crossTileIDs)&&(r=!0),a[t.bucketInstanceId]=!0);}return o.removeStaleBuckets(a)&&(r=!0),r}pruneUnusedLayers(e){const t={};e.forEach((e=>{t[e]=!0;}));for(const e in this.layerIndexes)t[e]||delete this.layerIndexes[e];}}var bt="void main() {fragColor=vec4(1.0);}";const xt={prelude:yt("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nout highp vec4 fragColor;","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}mat3 rotationMatrixFromAxisAngle(vec3 u,float angle) {float c=cos(angle);float s=sin(angle);float c2=1.0-c;return mat3(u.x*u.x*c2+      c,u.x*u.y*c2-u.z*s,u.x*u.z*c2+u.y*s,u.y*u.x*c2+u.z*s,u.y*u.y*c2+    c,u.y*u.z*c2-u.x*s,u.z*u.x*c2-u.y*s,u.z*u.y*c2+u.x*s,u.z*u.z*c2+    c\n);}\n#ifdef TERRAIN3D\nuniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;\n#endif\nconst highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {\n#ifdef TERRAIN3D\nhighp float d=unpack(texture(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));\n#else\nreturn 1.0;\n#endif\n}float calculate_visibility(vec4 pos) {\n#ifdef TERRAIN3D\nvec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;\n#else\nreturn 1.0;\n#endif\n}float ele(vec2 pos) {\n#ifdef TERRAIN3D\nvec4 rgb=(texture(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;\n#else\nreturn 0.0;\n#endif\n}float get_elevation(vec2 pos) {\n#ifdef TERRAIN3D\n#ifdef GLOBE\nif ((pos.y <-32767.5) || (pos.y > 32766.5)) {return 0.0;}\n#endif\nvec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;\n#else\nreturn 0.0;\n#endif\n}const float PI=3.141592653589793;uniform mat4 u_projection_matrix;"),projectionMercator:yt("","float projectLineThickness(float tileY) {return 1.0;}float projectCircleRadius(float tileY) {return 1.0;}vec4 projectTile(vec2 p) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);return result;}vec4 projectTile(vec2 p,vec2 rawPos) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);if (rawPos.y <-32767.5 || rawPos.y > 32766.5) {result.z=-10000000.0;}return result;}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_projection_matrix*vec4(posInTile,elevation,1.0);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {return projectTileWithElevation(posInTile,elevation);}"),projectionGlobe:yt("","#define GLOBE_RADIUS 6371008.8\nuniform highp vec4 u_projection_tile_mercator_coords;uniform highp vec4 u_projection_clipping_plane;uniform highp float u_projection_transition;uniform mat4 u_projection_fallback_matrix;vec3 globeRotateVector(vec3 vec,vec2 angles) {vec3 axisRight=vec3(vec.z,0.0,-vec.x);vec3 axisUp=cross(axisRight,vec);axisRight=normalize(axisRight);axisUp=normalize(axisUp);vec2 t=tan(angles);return normalize(vec+axisRight*t.x+axisUp*t.y);}mat3 globeGetRotationMatrix(vec3 spherePos) {vec3 axisRight=vec3(spherePos.z,0.0,-spherePos.x);vec3 axisDown=cross(axisRight,spherePos);axisRight=normalize(axisRight);axisDown=normalize(axisDown);return mat3(axisRight,axisDown,spherePos\n);}float circumferenceRatioAtTileY(float tileY) {float mercator_pos_y=u_projection_tile_mercator_coords.y+u_projection_tile_mercator_coords.w*tileY;float spherical_y=2.0*atan(exp(PI-(mercator_pos_y*PI*2.0)))-PI*0.5;return cos(spherical_y);}float projectLineThickness(float tileY) {float thickness=1.0/circumferenceRatioAtTileY(tileY); \nif (u_projection_transition < 0.999) {return mix(1.0,thickness,u_projection_transition);} else {return thickness;}}vec3 projectToSphere(vec2 translatedPos,vec2 rawPos) {vec2 mercator_pos=u_projection_tile_mercator_coords.xy+u_projection_tile_mercator_coords.zw*translatedPos;vec2 spherical;spherical.x=mercator_pos.x*PI*2.0+PI;spherical.y=2.0*atan(exp(PI-(mercator_pos.y*PI*2.0)))-PI*0.5;float len=cos(spherical.y);vec3 pos=vec3(sin(spherical.x)*len,sin(spherical.y),cos(spherical.x)*len\n);if (rawPos.y <-32767.5) {pos=vec3(0.0,1.0,0.0);}if (rawPos.y > 32766.5) {pos=vec3(0.0,-1.0,0.0);}return pos;}vec3 projectToSphere(vec2 posInTile) {return projectToSphere(posInTile,vec2(0.0,0.0));}float globeComputeClippingZ(vec3 spherePos) {return (1.0-(dot(spherePos,u_projection_clipping_plane.xyz)+u_projection_clipping_plane.w));}vec4 interpolateProjection(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);globePosition.z=globeComputeClippingZ(elevatedPos)*globePosition.w;if (u_projection_transition > 0.999) {return globePosition;}vec4 flatPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);const float z_globeness_threshold=0.2;vec4 result=globePosition;result.z=mix(0.0,globePosition.z,clamp((u_projection_transition-z_globeness_threshold)/(1.0-z_globeness_threshold),0.0,1.0));result.xyw=mix(flatPosition.xyw,globePosition.xyw,u_projection_transition);if ((posInTile.y <-32767.5) || (posInTile.y > 32766.5)) {result=globePosition;const float poles_hidden_anim_percentage=0.02;result.z=mix(globePosition.z,100.0,pow(max((1.0-u_projection_transition)/poles_hidden_anim_percentage,0.0),8.0));}return result;}vec4 interpolateProjectionFor3D(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);if (u_projection_transition > 0.999) {return globePosition;}vec4 fallbackPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);return mix(fallbackPosition,globePosition,u_projection_transition);}vec4 projectTile(vec2 posInTile) {return interpolateProjection(posInTile,projectToSphere(posInTile),0.0);}vec4 projectTile(vec2 posInTile,vec2 rawPos) {return interpolateProjection(posInTile,projectToSphere(posInTile,rawPos),0.0);}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return interpolateProjection(posInTile,projectToSphere(posInTile),elevation);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {vec3 spherePos=projectToSphere(posInTile,posInTile);return interpolateProjectionFor3D(posInTile,spherePos,elevation);}"),background:yt("uniform vec4 u_color;uniform float u_opacity;void main() {fragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),backgroundPattern:yt("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;void main() {gl_Position=projectTile(a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:yt("in vec3 v_data;in float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);float antialiased_blur=v_data.z;float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));fragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);const float epsilon=0.5/255.0;if (fragColor.r < epsilon && fragColor.g < epsilon && fragColor.b < epsilon && fragColor.a < epsilon) {discard;}\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform highp float u_globe_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;uniform vec2 u_translate;in vec2 a_pos;out vec3 v_data;out float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 pos_raw=a_pos+32768.0;vec2 extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);vec2 circle_center=floor(pos_raw/8.0)+u_translate;float ele=get_elevation(circle_center);v_visibility=calculate_visibility(projectTileWithElevation(circle_center,ele));if (u_pitch_with_map) {\n#ifdef GLOBE\nvec3 center_vector=projectToSphere(circle_center);\n#endif\nfloat angle_scale=u_globe_extrude_scale;vec2 corner_position=circle_center;if (u_scale_with_map) {angle_scale*=(radius+stroke_width);corner_position+=extrude*u_extrude_scale*(radius+stroke_width);} else {\n#ifdef GLOBE\nvec4 projected_center=interpolateProjection(circle_center,center_vector,ele);\n#else\nvec4 projected_center=projectTileWithElevation(circle_center,ele);\n#endif\ncorner_position+=extrude*u_extrude_scale*(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);angle_scale*=(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);}\n#ifdef GLOBE\nvec2 angles=extrude*angle_scale;vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(corner_position,corner_vector,ele);\n#else\ngl_Position=projectTileWithElevation(corner_position,ele);\n#endif\n} else {gl_Position=projectTileWithElevation(circle_center,ele);if (gl_Position.z/gl_Position.w > 1.0) {gl_Position.xy=vec2(10000.0);}if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}float antialiasblur=-max(1.0/u_device_pixel_ratio/(radius+stroke_width),blur);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),clippingMask:yt(bt,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),heatmap:yt("uniform highp float u_intensity;in vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);fragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;uniform highp float u_globe_extrude_scale;in vec2 a_pos;out vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 pos_raw=a_pos+32768.0;vec2 unscaled_extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 circle_center=floor(pos_raw/8.0);\n#ifdef GLOBE\nvec2 angles=v_extrude*radius*u_globe_extrude_scale;vec3 center_vector=projectToSphere(circle_center);vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(circle_center+extrude,corner_vector,0.0);\n#else\ngl_Position=projectTileFor3D(circle_center+extrude,get_elevation(circle_center));\n#endif\n}"),heatmapTexture:yt("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;in vec2 v_pos;void main() {float t=texture(u_image,v_pos).r;vec4 color=texture(u_color_ramp,vec2(t,0.5));fragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:yt("in float v_placed;in float v_notUsed;void main() {float alpha=0.5;fragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {fragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {fragColor*=.1;}}","in vec2 a_anchor_pos;in vec2 a_placed;in vec2 a_box_real;uniform vec2 u_pixel_extrude_scale;out float v_placed;out float v_notUsed;void main() {gl_Position=projectTileWithElevation(a_anchor_pos,get_elevation(a_anchor_pos));gl_Position.xy=((a_box_real+0.5)*u_pixel_extrude_scale*2.0-1.0)*vec2(1.0,-1.0)*gl_Position.w;if (gl_Position.z/gl_Position.w < 1.1) {gl_Position.z=0.5;}v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:yt("in float v_radius;in vec2 v_extrude;in float v_collision;void main() {float alpha=0.5;float stroke_radius=0.9;float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);fragColor=color*alpha*opacity_t;}","in vec2 a_pos;in float a_radius;in vec2 a_flags;uniform vec2 u_viewport_size;out float v_radius;out vec2 v_extrude;out float v_collision;void main() {float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_collision=collision;gl_Position=vec4((a_pos/u_viewport_size*2.0-1.0)*vec2(1.0,-1.0),0.0,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),colorRelief:yt("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;uniform vec4 u_unpack;uniform sampler2D u_elevation_stops;uniform sampler2D u_color_stops;uniform float u_opacity;in vec2 v_pos;float getElevation(vec2 coord) {vec4 data=texture(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack);}float getElevationStop(int stop) {float x=(float(stop)+0.5)/float(textureSize(u_elevation_stops,0)[0]);vec4 data=texture(u_elevation_stops,vec2(x,0))*255.0;data.a=-1.0;return dot(data,u_unpack);}void main() {float el=getElevation(v_pos);int num_elevation_stops=textureSize(u_elevation_stops,0)[0];int r=(num_elevation_stops-1);int l=0;float el_l=getElevationStop(l);float el_r=getElevationStop(r);while(r-l > 1){int m=(r+l)/2;float el_m=getElevationStop(m);if(el < el_m){r=m;el_r=el_m;}else\n{l=m;el_l=el_m;}}float x=(float(l)+(el-el_l)/(el_r-el_l)+0.5)/float(textureSize(u_color_stops,0)[0]);fragColor=u_opacity*texture(u_color_stops,vec2(x,0));\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","uniform vec2 u_dimension;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=projectTile(a_pos,a_pos);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_pos/8192.0)*scale+epsilon;if (a_pos.y <-32767.5) {v_pos.y=0.0;}if (a_pos.y > 32766.5) {v_pos.y=1.0;}}"),debug:yt("uniform highp vec4 u_color;uniform sampler2D u_overlay;in vec2 v_uv;void main() {vec4 overlay_color=texture(u_overlay,v_uv);fragColor=mix(u_color,overlay_color,overlay_color.a);}","in vec2 a_pos;out vec2 v_uv;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=projectTileWithElevation(a_pos*u_overlay_scale,get_elevation(a_pos));}"),depth:yt(bt,"in vec2 a_pos;void main() {\n#ifdef GLOBE\ngl_Position=projectTileFor3D(a_pos,0.0);\n#else\ngl_Position=u_projection_matrix*vec4(a_pos,0.0,1.0);\n#endif\n}"),fill:yt("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\nfragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","uniform vec2 u_fill_translate;in vec2 a_pos;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=projectTile(a_pos+u_fill_translate,a_pos);}"),fillOutline:yt("in vec2 v_pos;\n#ifdef GLOBE\nin float v_depth;\n#endif\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=outline_color*(alpha*opacity);\n#ifdef GLOBE\nif (v_depth > 1.0) {discard;}\n#endif\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","uniform vec2 u_world;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos;\n#ifdef GLOBE\nout float v_depth;\n#endif\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef GLOBE\nv_depth=gl_Position.z/gl_Position.w;\n#endif\n}"),fillOutlinePattern:yt("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;in vec2 v_pos_a;in vec2 v_pos_b;in vec2 v_pos;\n#ifdef GLOBE\nin float v_depth;\n#endif\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef GLOBE\nif (v_depth > 1.0) {discard;}\n#endif\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;out vec2 v_pos;\n#ifdef GLOBE\nout float v_depth;\n#endif\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef GLOBE\nv_depth=gl_Position.z/gl_Position.w;\n#endif\n}"),fillPattern:yt("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),fillExtrusion:yt("in vec4 v_color;void main() {fragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;in vec2 a_pos;in vec4 a_normal_ed;\n#ifdef TERRAIN3D\nin vec2 a_centroid;\n#endif\nout vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;\n#ifdef TERRAIN3D\nfloat height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);\n#else\nfloat height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;\n#endif\nbase=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;\n#ifdef GLOBE\nvec3 spherePos=projectToSphere(posInTile,a_pos);gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);\n#else\ngl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);\n#endif\nfloat colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;vec3 normalForLighting=normal/16384.0;float directional=clamp(dot(normalForLighting,u_lightpos),0.0,1.0);\n#ifdef GLOBE\nmat3 rotMatrix=globeGetRotationMatrix(spherePos);normalForLighting=rotMatrix*normalForLighting;directional=mix(directional,clamp(dot(normalForLighting,u_lightpos_globe),0.0,1.0),u_projection_transition);\n#endif\ndirectional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),fillExtrusionPattern:yt("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;in vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);fragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;in vec2 a_pos;in vec4 a_normal_ed;\n#ifdef TERRAIN3D\nin vec2 a_centroid;\n#endif\n#ifdef GLOBE\nout vec3 v_sphere_pos;\n#endif\nout vec2 v_pos_a;out vec2 v_pos_b;out vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;\n#ifdef TERRAIN3D\nfloat height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);\n#else\nfloat height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;\n#endif\nbase=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;\n#ifdef GLOBE\nvec3 spherePos=projectToSphere(posInTile,a_pos);vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);v_sphere_pos=elevatedPos;gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);\n#else\ngl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);\n#endif\nvec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,elevation*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),hillshadePrepare:yt("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack);}void main() {vec2 epsilon=1.0/u_dimension;float tileSize=u_dimension.x-2.0;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))*tileSize/pow(2.0,exaggeration+(28.2562-u_zoom));fragColor=clamp(vec4(deriv.x/8.0+0.5,deriv.y/8.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:yt("uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_latrange;uniform float u_exaggeration;uniform vec4 u_accent;uniform int u_method;uniform float u_altitudes[NUM_ILLUMINATION_SOURCES];uniform float u_azimuths[NUM_ILLUMINATION_SOURCES];uniform vec4 u_shadows[NUM_ILLUMINATION_SOURCES];uniform vec4 u_highlights[NUM_ILLUMINATION_SOURCES];\n#define PI 3.141592653589793\n#define STANDARD 0\n#define COMBINED 1\n#define IGOR 2\n#define MULTIDIRECTIONAL 3\n#define BASIC 4\nfloat get_aspect(vec2 deriv){return deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);}void igor_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float aspect=get_aspect(deriv);float azimuth=u_azimuths[0]+PI;float slope_stength=atan(length(deriv))*2.0/PI;float aspect_strength=1.0-abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);float shadow_strength=slope_stength*aspect_strength;float highlight_strength=slope_stength*(1.0-aspect_strength);fragColor=u_shadows[0]*shadow_strength+u_highlights[0]*highlight_strength;}void standard_hillshade(vec2 deriv){float azimuth=u_azimuths[0]+PI;float slope=atan(0.625*length(deriv));float aspect=get_aspect(deriv);float intensity=u_exaggeration;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadows[0],u_highlights[0],shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);fragColor=accent_color*(1.0-shade_color.a)+shade_color;}void basic_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float azimuth=u_azimuths[0]+PI;float cos_az=cos(azimuth);float sin_az=sin(azimuth);float cos_alt=cos(u_altitudes[0]);float sin_alt=sin(u_altitudes[0]);float cang=(sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv));float shade=clamp(cang,0.0,1.0);if(shade > 0.5){fragColor=u_highlights[0]*(2.0*shade-1.0);}else\n{fragColor=u_shadows[0]*(1.0-2.0*shade);}}void multidirectional_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;fragColor=vec4(0,0,0,0);for(int i=0; i < NUM_ILLUMINATION_SOURCES; i++){float cos_alt=cos(u_altitudes[i]);float sin_alt=sin(u_altitudes[i]);float cos_az=-cos(u_azimuths[i]);float sin_az=-sin(u_azimuths[i]);float cang=(sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv));float shade=clamp(cang,0.0,1.0);if(shade > 0.5){fragColor+=u_highlights[i]*(2.0*shade-1.0)/float(NUM_ILLUMINATION_SOURCES);}else\n{fragColor+=u_shadows[i]*(1.0-2.0*shade)/float(NUM_ILLUMINATION_SOURCES);}}}void combined_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float azimuth=u_azimuths[0]+PI;float cos_az=cos(azimuth);float sin_az=sin(azimuth);float cos_alt=cos(u_altitudes[0]);float sin_alt=sin(u_altitudes[0]);float cang=acos((sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv)));cang=clamp(cang,0.0,PI/2.0);float shade=cang*atan(length(deriv))*4.0/PI/PI;float highlight=(PI/2.0-cang)*atan(length(deriv))*4.0/PI/PI;fragColor=u_shadows[0]*shade+u_highlights[0]*highlight;}void main() {vec4 pixel=texture(u_image,v_pos);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));vec2 deriv=((pixel.rg*8.0)-4.0)/scaleFactor;switch(u_method){case BASIC:\nbasic_hillshade(deriv);break;case COMBINED:\ncombined_hillshade(deriv);break;case IGOR:\nigor_hillshade(deriv);break;case MULTIDIRECTIONAL:\nmultidirectional_hillshade(deriv);break;case STANDARD:\ndefault:\nstandard_hillshade(deriv);break;}\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=projectTile(a_pos,a_pos);v_pos=a_pos/8192.0;if (a_pos.y <-32767.5) {v_pos.y=0.0;}if (a_pos.y > 32766.5) {v_pos.y=1.0;}}"),line:yt("uniform lowp float u_device_pixel_ratio;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;\n#ifdef GLOBE\nin float v_depth;\n#endif\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);fragColor=color*(alpha*opacity);\n#ifdef GLOBE\nif (v_depth > 1.0) {discard;}\n#endif\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nin vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp float v_linesofar;\n#ifdef GLOBE\nout float v_depth;\n#endif\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;\n#ifdef GLOBE\nv_depth=gl_Position.z/gl_Position.w;\n#endif\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_width2=vec2(outset,inset);}"),lineGradient:yt("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;in highp vec2 v_uv;\n#ifdef GLOBE\nin float v_depth;\n#endif\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture(u_image,v_uv);fragColor=color*(alpha*opacity);\n#ifdef GLOBE\nif (v_depth > 1.0) {discard;}\n#endif\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nin vec2 a_pos_normal;in vec4 a_data;in float a_uv_x;in float a_split_index;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp vec2 v_uv;\n#ifdef GLOBE\nout float v_depth;\n#endif\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;\n#ifdef GLOBE\nv_depth=gl_Position.z/gl_Position.w;\n#endif\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_width2=vec2(outset,inset);}"),linePattern:yt("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;in vec2 v_normal;in vec2 v_width2;in float v_linesofar;in float v_gamma_scale;in float v_width;\n#ifdef GLOBE\nin float v_depth;\n#endif\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture(u_image,pos_a),texture(u_image,pos_b),u_fade);fragColor=color*alpha*opacity;\n#ifdef GLOBE\nif (v_depth > 1.0) {discard;}\n#endif\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nin vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_linesofar;out float v_gamma_scale;out float v_width;\n#ifdef GLOBE\nout float v_depth;\n#endif\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;\n#ifdef GLOBE\nv_depth=gl_Position.z/gl_Position.w;\n#endif\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),lineSDF:yt("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;in vec2 v_normal;in vec2 v_width2;in vec2 v_tex_a;in vec2 v_tex_b;in float v_gamma_scale;\n#ifdef GLOBE\nin float v_depth;\n#endif\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture(u_image,v_tex_a).a;float sdfdist_b=texture(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);fragColor=color*(alpha*opacity);\n#ifdef GLOBE\nif (v_depth > 1.0) {discard;}\n#endif\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nin vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;out vec2 v_normal;out vec2 v_width2;out vec2 v_tex_a;out vec2 v_tex_b;out float v_gamma_scale;\n#ifdef GLOBE\nout float v_depth;\n#endif\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;\n#ifdef GLOBE\nv_depth=gl_Position.z/gl_Position.w;\n#endif\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),raster:yt("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;in vec2 v_pos0;in vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture(u_image0,v_pos0);vec4 color1=texture(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);fragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;uniform vec4 u_coords_top;uniform vec4 u_coords_bottom;in vec2 a_pos;out vec2 v_pos0;out vec2 v_pos1;void main() {vec2 fractionalPos=a_pos/8192.0;vec2 position=mix(mix(u_coords_top.xy,u_coords_top.zw,fractionalPos.x),mix(u_coords_bottom.xy,u_coords_bottom.zw,fractionalPos.x),fractionalPos.y);gl_Position=projectTile(position,position);v_pos0=((fractionalPos-0.5)/u_buffer_scale)+0.5;\n#ifdef GLOBE\nif (a_pos.y <-32767.5) {v_pos0.y=0.0;}if (a_pos.y > 32766.5) {v_pos0.y=1.0;}\n#endif\nv_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:yt("uniform sampler2D u_texture;in vec2 v_tex;in float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;fragColor=texture(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_tex;out float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;\n#ifdef GLOBE\nif(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}\n#endif\nvec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}gl_Position=finalPos;v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}"),symbolSDF:yt("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;in vec2 v_data0;in vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}fragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_data0;out vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;\n#ifdef GLOBE\nif(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}\n#endif\nvec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),symbolTextAndIcon:yt("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;in vec4 v_data0;in vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;fragColor=texture(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);fragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","in vec4 a_pos_offset;in vec4 a_data;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec4 v_data0;out vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;\n#ifdef GLOBE\nif(u_pitch_with_map && !u_is_along_line) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}\n#endif\nvec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}"),terrain:yt("uniform sampler2D u_texture;uniform vec4 u_fog_color;uniform vec4 u_horizon_color;uniform float u_fog_ground_blend;uniform float u_fog_ground_blend_opacity;uniform float u_horizon_fog_blend;uniform bool u_is_globe_mode;in vec2 v_texture_pos;in float v_fog_depth;const float gamma=2.2;vec4 gammaToLinear(vec4 color) {return pow(color,vec4(gamma));}vec4 linearToGamma(vec4 color) {return pow(color,vec4(1.0/gamma));}void main() {vec4 surface_color=texture(u_texture,vec2(v_texture_pos.x,1.0-v_texture_pos.y));if (!u_is_globe_mode && v_fog_depth > u_fog_ground_blend) {vec4 surface_color_linear=gammaToLinear(surface_color);float blend_color=smoothstep(0.0,1.0,max((v_fog_depth-u_horizon_fog_blend)/(1.0-u_horizon_fog_blend),0.0));vec4 fog_horizon_color_linear=mix(gammaToLinear(u_fog_color),gammaToLinear(u_horizon_color),blend_color);float factor_fog=max(v_fog_depth-u_fog_ground_blend,0.0)/(1.0-u_fog_ground_blend);fragColor=linearToGamma(mix(surface_color_linear,fog_horizon_color_linear,pow(factor_fog,2.0)*u_fog_ground_blend_opacity));} else {fragColor=surface_color;}}","in vec3 a_pos3d;uniform mat4 u_fog_matrix;uniform float u_ele_delta;out vec2 v_texture_pos;out float v_fog_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta);vec4 pos=u_fog_matrix*vec4(a_pos3d.xy,ele,1.0);v_fog_depth=pos.z/pos.w*0.5+0.5;}"),terrainDepth:yt("in float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {fragColor=pack(v_depth);}","in vec3 a_pos3d;uniform float u_ele_delta;out float v_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);v_depth=gl_Position.z/gl_Position.w;}"),terrainCoords:yt("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;in vec2 v_texture_pos;void main() {vec4 rgba=texture(u_texture,v_texture_pos);fragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}","in vec3 a_pos3d;uniform float u_ele_delta;out vec2 v_texture_pos;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);}"),projectionErrorMeasurement:yt("in vec4 v_output_error_encoded;void main() {fragColor=v_output_error_encoded;}","in vec2 a_pos;uniform highp float u_input;uniform highp float u_output_expected;out vec4 v_output_error_encoded;void main() {float real_output=2.0*atan(exp(PI-(u_input*PI*2.0)))-PI*0.5;float error=real_output-u_output_expected;float abs_error=abs(error)*128.0;v_output_error_encoded.x=min(floor(abs_error*256.0),255.0)/255.0;abs_error-=v_output_error_encoded.x;v_output_error_encoded.y=min(floor(abs_error*65536.0),255.0)/255.0;abs_error-=v_output_error_encoded.x/255.0;v_output_error_encoded.z=min(floor(abs_error*16777216.0),255.0)/255.0;v_output_error_encoded.w=error >=0.0 ? 1.0 : 0.0;gl_Position=vec4(a_pos,0.0,1.0);}"),atmosphere:yt("in vec3 view_direction;uniform vec3 u_sun_pos;uniform vec3 u_globe_position;uniform float u_globe_radius;uniform float u_atmosphere_blend;/**Shader use from https:*Made some change to adapt to MapLibre Globe geometry*/const float PI=3.141592653589793;const int iSteps=5;const int jSteps=3;/*radius of the planet*/const float EARTH_RADIUS=6371e3;/*radius of the atmosphere*/const float ATMOS_RADIUS=6471e3;vec2 rsi(vec3 r0,vec3 rd,float sr) {float a=dot(rd,rd);float b=2.0*dot(rd,r0);float c=dot(r0,r0)-(sr*sr);float d=(b*b)-4.0*a*c;if (d < 0.0) return vec2(1e5,-1e5);return vec2((-b-sqrt(d))/(2.0*a),(-b+sqrt(d))/(2.0*a));}vec4 atmosphere(vec3 r,vec3 r0,vec3 pSun,float iSun,float rPlanet,float rAtmos,vec3 kRlh,float kMie,float shRlh,float shMie,float g) {pSun=normalize(pSun);r=normalize(r);vec2 p=rsi(r0,r,rAtmos);if (p.x > p.y) {return vec4(0.0,0.0,0.0,1.0);}if (p.x < 0.0) {p.x=0.0;}vec3 pos=r0+r*p.x;vec2 p2=rsi(r0,r,rPlanet);if (p2.x <=p2.y && p2.x > 0.0) {p.y=min(p.y,p2.x);}float iStepSize=(p.y-p.x)/float(iSteps);float iTime=p.x+iStepSize*0.5;vec3 totalRlh=vec3(0,0,0);vec3 totalMie=vec3(0,0,0);float iOdRlh=0.0;float iOdMie=0.0;float mu=dot(r,pSun);float mumu=mu*mu;float gg=g*g;float pRlh=3.0/(16.0*PI)*(1.0+mumu);float pMie=3.0/(8.0*PI)*((1.0-gg)*(mumu+1.0))/(pow(1.0+gg-2.0*mu*g,1.5)*(2.0+gg));for (int i=0; i < iSteps; i++) {vec3 iPos=r0+r*iTime;float iHeight=length(iPos)-rPlanet;float odStepRlh=exp(-iHeight/shRlh)*iStepSize;float odStepMie=exp(-iHeight/shMie)*iStepSize;iOdRlh+=odStepRlh;iOdMie+=odStepMie;float jStepSize=rsi(iPos,pSun,rAtmos).y/float(jSteps);float jTime=jStepSize*0.5;float jOdRlh=0.0;float jOdMie=0.0;for (int j=0; j < jSteps; j++) {vec3 jPos=iPos+pSun*jTime;float jHeight=length(jPos)-rPlanet;jOdRlh+=exp(-jHeight/shRlh)*jStepSize;jOdMie+=exp(-jHeight/shMie)*jStepSize;jTime+=jStepSize;}vec3 attn=exp(-(kMie*(iOdMie+jOdMie)+kRlh*(iOdRlh+jOdRlh)));totalRlh+=odStepRlh*attn;totalMie+=odStepMie*attn;iTime+=iStepSize;}float opacity=exp(-(length(kRlh)*length(totalRlh)+kMie*length(totalMie)));vec3 color=iSun*(pRlh*kRlh*totalRlh+pMie*kMie*totalMie);return vec4(color,opacity);}void main() {vec3 scale_camera_pos=-u_globe_position*EARTH_RADIUS/u_globe_radius;vec4 color=atmosphere(normalize(view_direction),scale_camera_pos,u_sun_pos,22.0,EARTH_RADIUS,ATMOS_RADIUS,vec3(5.5e-6,13.0e-6,22.4e-6),21e-6,8e3,1.2e3,0.758\n);color.rgb=1.0-exp(-1.0*color.rgb);color=pow(color,vec4(1.0/2.2));fragColor=vec4(color.rgb,1.0-color.a)*u_atmosphere_blend;}","in vec2 a_pos;uniform mat4 u_inv_proj_matrix;out vec3 view_direction;void main() {view_direction=(u_inv_proj_matrix*vec4(a_pos,0.0,1.0)).xyz;gl_Position=vec4(a_pos,0.0,1.0);}"),sky:yt("uniform vec4 u_sky_color;uniform vec4 u_horizon_color;uniform vec2 u_horizon;uniform vec2 u_horizon_normal;uniform float u_sky_horizon_blend;uniform float u_sky_blend;void main() {float x=gl_FragCoord.x;float y=gl_FragCoord.y;float blend=(y-u_horizon.y)*u_horizon_normal.y+(x-u_horizon.x)*u_horizon_normal.x;if (blend > 0.0) {if (blend < u_sky_horizon_blend) {fragColor=mix(u_sky_color,u_horizon_color,pow(1.0-blend/u_sky_horizon_blend,2.0));} else {fragColor=u_sky_color;}}fragColor=mix(fragColor,vec4(vec3(0.0),0.0),u_sky_blend);}","in vec2 a_pos;void main() {gl_Position=vec4(a_pos,1.0,1.0);}")};function yt(e,t){const i=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,o=t.match(/in ([\w]+) ([\w]+)/g),r=e.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),a=t.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),s=a?a.concat(r):r,n={};return {fragmentSource:e=e.replace(i,((e,t,i,o,r)=>(n[r]=!0,"define"===t?`\n#ifndef HAS_UNIFORM_u_${r}\nin ${i} ${o} ${r};\n#else\nuniform ${i} ${o} u_${r};\n#endif\n`:`\n#ifdef HAS_UNIFORM_u_${r}\n    ${i} ${o} ${r} = u_${r};\n#endif\n`))),vertexSource:t=t.replace(i,((e,t,i,o,r)=>{const a="float"===o?"vec2":"vec4",s=r.match(/color/)?"color":a;return n[r]?"define"===t?`\n#ifndef HAS_UNIFORM_u_${r}\nuniform lowp float u_${r}_t;\nin ${i} ${a} a_${r};\nout ${i} ${o} ${r};\n#else\nuniform ${i} ${o} u_${r};\n#endif\n`:"vec4"===s?`\n#ifndef HAS_UNIFORM_u_${r}\n    ${r} = a_${r};\n#else\n    ${i} ${o} ${r} = u_${r};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${r}\n    ${r} = unpack_mix_${s}(a_${r}, u_${r}_t);\n#else\n    ${i} ${o} ${r} = u_${r};\n#endif\n`:"define"===t?`\n#ifndef HAS_UNIFORM_u_${r}\nuniform lowp float u_${r}_t;\nin ${i} ${a} a_${r};\n#else\nuniform ${i} ${o} u_${r};\n#endif\n`:"vec4"===s?`\n#ifndef HAS_UNIFORM_u_${r}\n    ${i} ${o} ${r} = a_${r};\n#else\n    ${i} ${o} ${r} = u_${r};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${r}\n    ${i} ${o} ${r} = unpack_mix_${s}(a_${r}, u_${r}_t);\n#else\n    ${i} ${o} ${r} = u_${r};\n#endif\n`})),staticAttributes:o,staticUniforms:s}}class wt{constructor(e,t,i){this.vertexBuffer=e,this.indexBuffer=t,this.segments=i;}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.vertexBuffer=null,this.indexBuffer=null,this.segments=null;}}var Tt=t.aI([{name:"a_pos",type:"Int16",components:2}]);const Pt="#define PROJECTION_MERCATOR",Ct="mercator";class It{constructor(){this._cachedMesh=null;}get name(){return "mercator"}get useSubdivision(){return !1}get shaderVariantName(){return Ct}get shaderDefine(){return Pt}get shaderPreludeCode(){return xt.projectionMercator}get vertexShaderPreludeCode(){return xt.projectionMercator.vertexSource}get subdivisionGranularity(){return t.aJ.noSubdivision}get useGlobeControls(){return !1}get transitionState(){return 0}get latitudeErrorCorrectionRadians(){return 0}destroy(){}updateGPUdependent(e){}getMeshFromTileID(e,i,o,r,a){if(this._cachedMesh)return this._cachedMesh;const s=new t.aK;s.emplaceBack(0,0),s.emplaceBack(t.$,0),s.emplaceBack(0,t.$),s.emplaceBack(t.$,t.$);const n=e.createVertexBuffer(s,Tt.members),l=t.aL.simpleSegment(0,0,4,2),c=new t.aM;c.emplaceBack(1,0,2),c.emplaceBack(1,2,3);const h=e.createIndexBuffer(c);return this._cachedMesh=new wt(n,h,l),this._cachedMesh}recalculate(){}hasTransition(){return !1}setErrorQueryLatitudeDegrees(e){}}class Mt{constructor(e=0,t=0,i=0,o=0){if(isNaN(e)||e<0||isNaN(t)||t<0||isNaN(i)||i<0||isNaN(o)||o<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=e,this.bottom=t,this.left=i,this.right=o;}interpolate(e,i,o){return null!=i.top&&null!=e.top&&(this.top=t.C.number(e.top,i.top,o)),null!=i.bottom&&null!=e.bottom&&(this.bottom=t.C.number(e.bottom,i.bottom,o)),null!=i.left&&null!=e.left&&(this.left=t.C.number(e.left,i.left,o)),null!=i.right&&null!=e.right&&(this.right=t.C.number(e.right,i.right,o)),this}getCenter(e,i){const o=t.ag((this.left+e-this.right)/2,0,e),r=t.ag((this.top+i-this.bottom)/2,0,i);return new t.P(o,r)}equals(e){return this.top===e.top&&this.bottom===e.bottom&&this.left===e.left&&this.right===e.right}clone(){return new Mt(this.top,this.bottom,this.left,this.right)}toJSON(){return {top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function St(e,t){if(!e.renderWorldCopies||e.lngRange)return;const i=t.lng-e.center.lng;t.lng+=i>180?-360:i<-180?360:0;}function Et(e){return Math.max(0,Math.floor(e))}class Rt{constructor(e,i,o,r,a,s){this._callbacks=e,this._tileSize=512,this._renderWorldCopies=void 0===s||!!s,this._minZoom=i||0,this._maxZoom=o||22,this._minPitch=null==r?0:r,this._maxPitch=null==a?60:a,this.setMaxBounds(),this._width=0,this._height=0,this._center=new t.S(0,0),this._elevation=0,this._zoom=0,this._tileZoom=Et(this._zoom),this._scale=t.ae(this._zoom),this._bearingInRadians=0,this._fovInRadians=.6435011087932844,this._pitchInRadians=0,this._rollInRadians=0,this._unmodified=!0,this._edgeInsets=new Mt,this._minElevationForCurrentTile=0,this._autoCalculateNearFarZ=!0;}apply(e,i,o){this._latRange=e.latRange,this._lngRange=e.lngRange,this._width=e.width,this._height=e.height,this._center=e.center,this._elevation=e.elevation,this._minElevationForCurrentTile=e.minElevationForCurrentTile,this._zoom=e.zoom,this._tileZoom=Et(this._zoom),this._scale=t.ae(this._zoom),this._bearingInRadians=e.bearingInRadians,this._fovInRadians=e.fovInRadians,this._pitchInRadians=e.pitchInRadians,this._rollInRadians=e.rollInRadians,this._unmodified=e.unmodified,this._edgeInsets=new Mt(e.padding.top,e.padding.bottom,e.padding.left,e.padding.right),this._minZoom=e.minZoom,this._maxZoom=e.maxZoom,this._minPitch=e.minPitch,this._maxPitch=e.maxPitch,this._renderWorldCopies=e.renderWorldCopies,this._cameraToCenterDistance=e.cameraToCenterDistance,this._nearZ=e.nearZ,this._farZ=e.farZ,this._autoCalculateNearFarZ=!o&&e.autoCalculateNearFarZ,i&&this._constrain(),this._calcMatrices();}get pixelsToClipSpaceMatrix(){return this._pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._clipSpaceToPixelsMatrix}get minElevationForCurrentTile(){return this._minElevationForCurrentTile}setMinElevationForCurrentTile(e){this._minElevationForCurrentTile=e;}get tileSize(){return this._tileSize}get tileZoom(){return this._tileZoom}get scale(){return this._scale}get width(){return this._width}get height(){return this._height}get bearingInRadians(){return this._bearingInRadians}get lngRange(){return this._lngRange}get latRange(){return this._latRange}get pixelsToGLUnits(){return this._pixelsToGLUnits}get minZoom(){return this._minZoom}setMinZoom(e){this._minZoom!==e&&(this._minZoom=e,this.setZoom(this.getConstrained(this._center,this.zoom).zoom));}get maxZoom(){return this._maxZoom}setMaxZoom(e){this._maxZoom!==e&&(this._maxZoom=e,this.setZoom(this.getConstrained(this._center,this.zoom).zoom));}get minPitch(){return this._minPitch}setMinPitch(e){this._minPitch!==e&&(this._minPitch=e,this.setPitch(Math.max(this.pitch,e)));}get maxPitch(){return this._maxPitch}setMaxPitch(e){this._maxPitch!==e&&(this._maxPitch=e,this.setPitch(Math.min(this.pitch,e)));}get renderWorldCopies(){return this._renderWorldCopies}setRenderWorldCopies(e){void 0===e?e=!0:null===e&&(e=!1),this._renderWorldCopies=e;}get worldSize(){return this._tileSize*this._scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new t.P(this._width,this._height)}get bearing(){return this._bearingInRadians/Math.PI*180}setBearing(e){const i=t.aN(e,-180,180)*Math.PI/180;var r,a,s,n,l,c,h,u,d;this._bearingInRadians!==i&&(this._unmodified=!1,this._bearingInRadians=i,this._calcMatrices(),this._rotationMatrix=o(),r=this._rotationMatrix,s=-this._bearingInRadians,n=(a=this._rotationMatrix)[0],l=a[1],c=a[2],h=a[3],u=Math.sin(s),d=Math.cos(s),r[0]=n*d+c*u,r[1]=l*d+h*u,r[2]=n*-u+c*d,r[3]=l*-u+h*d);}get rotationMatrix(){return this._rotationMatrix}get pitchInRadians(){return this._pitchInRadians}get pitch(){return this._pitchInRadians/Math.PI*180}setPitch(e){const i=t.ag(e,this.minPitch,this.maxPitch)/180*Math.PI;this._pitchInRadians!==i&&(this._unmodified=!1,this._pitchInRadians=i,this._calcMatrices());}get rollInRadians(){return this._rollInRadians}get roll(){return this._rollInRadians/Math.PI*180}setRoll(e){const t=e/180*Math.PI;this._rollInRadians!==t&&(this._unmodified=!1,this._rollInRadians=t,this._calcMatrices());}get fovInRadians(){return this._fovInRadians}get fov(){return t.aO(this._fovInRadians)}setFov(e){e=t.ag(e,.1,150),this.fov!==e&&(this._unmodified=!1,this._fovInRadians=t.ad(e),this._calcMatrices());}get zoom(){return this._zoom}setZoom(e){const i=this.getConstrained(this._center,e).zoom;this._zoom!==i&&(this._unmodified=!1,this._zoom=i,this._tileZoom=Math.max(0,Math.floor(i)),this._scale=t.ae(i),this._constrain(),this._calcMatrices());}get center(){return this._center}setCenter(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._constrain(),this._calcMatrices());}get elevation(){return this._elevation}setElevation(e){e!==this._elevation&&(this._elevation=e,this._constrain(),this._calcMatrices());}get padding(){return this._edgeInsets.toJSON()}setPadding(e){this._edgeInsets.equals(e)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,e,1),this._calcMatrices());}get centerPoint(){return this._edgeInsets.getCenter(this._width,this._height)}get pixelsPerMeter(){return this._pixelPerMeter}get unmodified(){return this._unmodified}get cameraToCenterDistance(){return this._cameraToCenterDistance}get nearZ(){return this._nearZ}get farZ(){return this._farZ}get autoCalculateNearFarZ(){return this._autoCalculateNearFarZ}overrideNearFarZ(e,t){this._autoCalculateNearFarZ=!1,this._nearZ=e,this._farZ=t,this._calcMatrices();}clearNearFarZOverride(){this._autoCalculateNearFarZ=!0,this._calcMatrices();}isPaddingEqual(e){return this._edgeInsets.equals(e)}interpolatePadding(e,t,i){this._unmodified=!1,this._edgeInsets.interpolate(e,t,i),this._constrain(),this._calcMatrices();}resize(e,t,i=!0){this._width=e,this._height=t,i&&this._constrain(),this._calcMatrices();}getMaxBounds(){return this._latRange&&2===this._latRange.length&&this._lngRange&&2===this._lngRange.length?new G([this._lngRange[0],this._latRange[0]],[this._lngRange[1],this._latRange[1]]):null}setMaxBounds(e){e?(this._lngRange=[e.getWest(),e.getEast()],this._latRange=[e.getSouth(),e.getNorth()],this._constrain()):(this._lngRange=null,this._latRange=[-85.051129,t.ah]);}getConstrained(e,t){return this._callbacks.getConstrained(e,t)}getCameraQueryGeometry(e,i){if(1===i.length)return [i[0],e];{const{minX:o,minY:r,maxX:a,maxY:s}=t.a1.fromPoints(i).extend(e);return [new t.P(o,r),new t.P(a,r),new t.P(a,s),new t.P(o,s),new t.P(o,r)]}}_constrain(){if(!this.center||!this._width||!this._height||this._constraining)return;this._constraining=!0;const e=this._unmodified,{center:t,zoom:i}=this.getConstrained(this.center,this.zoom);this.setCenter(t),this.setZoom(i),this._unmodified=e,this._constraining=!1;}_calcMatrices(){if(this._width&&this._height){this._pixelsToGLUnits=[2/this._width,-2/this._height];let e=t.af(new Float64Array(16));t.N(e,e,[this._width/2,-this._height/2,1]),t.M(e,e,[1,-1,0]),this._clipSpaceToPixelsMatrix=e,e=t.af(new Float64Array(16)),t.N(e,e,[1,-1,1]),t.M(e,e,[-1,-1,0]),t.N(e,e,[2/this._width,2/this._height,1]),this._pixelsToClipSpaceMatrix=e,this._cameraToCenterDistance=.5/Math.tan(this.fovInRadians/2)*this._height;}this._callbacks.calcMatrices();}calculateCenterFromCameraLngLatAlt(e,i,o,r){const a=void 0!==o?o:this.bearing,s=r=void 0!==r?r:this.pitch,n=t.a0.fromLngLat(e,i),l=-Math.cos(t.ad(s)),c=Math.sin(t.ad(s)),h=c*Math.sin(t.ad(a)),u=-c*Math.cos(t.ad(a));let d=this.elevation;const _=i-d;let p;l*_>=0||Math.abs(l)<.1?(p=1e4,d=i+p*l):p=-_/l;let m,f,g=t.aP(1,n.y),v=0;do{if(v+=1,v>10)break;f=p/g,m=new t.a0(n.x+h*f,n.y+u*f),g=1/m.meterInMercatorCoordinateUnits();}while(Math.abs(p-f*g)>1e-12);return {center:m.toLngLat(),elevation:d,zoom:t.aj(this.height/2/Math.tan(this.fovInRadians/2)/f/this.tileSize)}}recalculateZoomAndCenter(e){if(this.elevation-e==0)return;const i=t.ai(1,this.center.lat)*this.worldSize,o=this.cameraToCenterDistance/i,r=t.a0.fromLngLat(this.center,this.elevation),a=de(this.center,this.elevation,this.pitch,this.bearing,o);this._elevation=e;const s=this.calculateCenterFromCameraLngLatAlt(a.toLngLat(),t.aP(a.z,r.y),this.bearing,this.pitch);this._elevation=s.elevation,this._center=s.center,this.setZoom(s.zoom);}getCameraPoint(){const e=Math.tan(this.pitchInRadians)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new t.P(e*Math.sin(this.rollInRadians),e*Math.cos(this.rollInRadians)))}getCameraAltitude(){return Math.cos(this.pitchInRadians)*this._cameraToCenterDistance/this._pixelPerMeter+this.elevation}getCameraLngLat(){const e=t.ai(1,this.center.lat)*this.worldSize;return de(this.center,this.elevation,this.pitch,this.bearing,this.cameraToCenterDistance/e).toLngLat()}getMercatorTileCoordinates(e){if(!e)return [0,0,1,1];const i=e.canonical.z>=0?1<<e.canonical.z:Math.pow(2,e.canonical.z);return [e.canonical.x/i,e.canonical.y/i,1/i/t.$,1/i/t.$]}}class zt{constructor(e,i){this.min=e,this.max=i,this.center=t.aQ([],t.aR([],this.min,this.max),.5);}quadrant(e){const i=[e%2==0,e<2],o=t.aS(this.min),r=t.aS(this.max);for(let e=0;e<i.length;e++)o[e]=i[e]?this.min[e]:this.center[e],r[e]=i[e]?this.center[e]:this.max[e];return r[2]=this.max[2],new zt(o,r)}distanceX(e){return Math.max(Math.min(this.max[0],e[0]),this.min[0])-e[0]}distanceY(e){return Math.max(Math.min(this.max[1],e[1]),this.min[1])-e[1]}intersectsFrustum(e){let t=!0;for(let i=0;i<e.planes.length;i++){const o=this.intersectsPlane(e.planes[i]);if(0===o)return 0;1===o&&(t=!1);}return t?2:e.aabb.min[0]>this.max[0]||e.aabb.min[1]>this.max[1]||e.aabb.min[2]>this.max[2]||e.aabb.max[0]<this.min[0]||e.aabb.max[1]<this.min[1]||e.aabb.max[2]<this.min[2]?0:1}intersectsPlane(e){let t=e[3],i=e[3];for(let o=0;o<3;o++)e[o]>0?(t+=e[o]*this.min[o],i+=e[o]*this.max[o]):(i+=e[o]*this.min[o],t+=e[o]*this.max[o]);return t>=0?2:i<0?0:1}}class Dt{distanceToTile2d(e,t,i,o){const r=o.distanceX([e,t]),a=o.distanceY([e,t]);return Math.hypot(r,a)}getWrap(e,t,i){return i}getTileBoundingVolume(e,i,o,r){var a,s;let n=o,l=o;if(null==r?void 0:r.terrain){const c=new t.Z(e.z,i,e.z,e.x,e.y),h=r.terrain.getMinMaxElevation(c);n=null!==(a=h.minElevation)&&void 0!==a?a:o,l=null!==(s=h.maxElevation)&&void 0!==s?s:o;}const c=1<<e.z;return new zt([i+e.x/c,e.y/c,n],[i+(e.x+1)/c,(e.y+1)/c,l])}allowVariableZoom(e,i){const o=e.fov*(Math.abs(Math.cos(e.rollInRadians))*e.height+Math.abs(Math.sin(e.rollInRadians))*e.width)/e.height,r=t.ag(78.5-o/2,0,60);return !!i.terrain||e.pitch>r}allowWorldCopies(){return !0}prepareNextFrame(){}}class At{constructor(e,t,i){this.points=e,this.planes=t,this.aabb=i;}static fromInvProjectionMatrix(e,i=1,o=0,r,a){const s=a?[[6,5,4],[0,1,2],[0,3,7],[2,1,5],[3,2,6],[0,4,5]]:[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]],n=Math.pow(2,o),l=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((o=>function(e,i,o,r){const a=t.av([],e,i),s=1/a[3]/o*r;return t.aX(a,a,[s,s,1/a[3],s])}(o,e,i,n)));r&&function(e,i,o,r){const a=r?4:0,s=r?0:4;let n=0;const l=[],c=[];for(let i=0;i<4;i++){const o=t.aT([],e[i+s],e[i+a]),r=t.aY(o);t.aQ(o,o,1/r),l.push(r),c.push(o);}for(let i=0;i<4;i++){const r=t.aZ(e[i+a],c[i],o);n=null!==r&&r>=0?Math.max(n,r):Math.max(n,l[i]);}const h=function(e,i){const o=t.aT([],e[i[0]],e[i[1]]),r=t.aT([],e[i[2]],e[i[1]]),a=[0,0,0,0];return t.aU(a,t.aV([],o,r)),a[3]=-t.aW(a,e[i[0]]),a}(e,i),u=function(e,i){const o=t.a_(e),r=t.a$([],e,1/o),a=t.aT([],i,t.aQ([],r,t.aW(i,r))),s=t.a_(a);if(s>0){const e=Math.sqrt(1-r[3]*r[3]),o=t.aQ([],r,-r[3]),n=t.aR([],o,t.aQ([],a,e/s));return t.b0(i,n)}return null}(o,h);if(null!==u){const e=u/t.aW(c[0],h);n=Math.min(n,e);}for(let t=0;t<4;t++){const i=Math.min(n,l[t]);e[t+s]=[e[t+a][0]+c[t][0]*i,e[t+a][1]+c[t][1]*i,e[t+a][2]+c[t][2]*i,1];}}(l,s[0],r,a);const c=s.map((e=>{const i=t.aT([],l[e[0]],l[e[1]]),o=t.aT([],l[e[2]],l[e[1]]),r=t.aU([],t.aV([],i,o)),a=-t.aW(r,l[e[1]]);return r.concat(a)})),h=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY],u=[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];for(const e of l)for(let t=0;t<3;t++)h[t]=Math.min(h[t],e[t]),u[t]=Math.max(u[t],e[t]);return new At(l,c,new zt(h,u))}}class Lt{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(e){this._helper.setMinZoom(e);}setMaxZoom(e){this._helper.setMaxZoom(e);}setMinPitch(e){this._helper.setMinPitch(e);}setMaxPitch(e){this._helper.setMaxPitch(e);}setRenderWorldCopies(e){this._helper.setRenderWorldCopies(e);}setBearing(e){this._helper.setBearing(e);}setPitch(e){this._helper.setPitch(e);}setRoll(e){this._helper.setRoll(e);}setFov(e){this._helper.setFov(e);}setZoom(e){this._helper.setZoom(e);}setCenter(e){this._helper.setCenter(e);}setElevation(e){this._helper.setElevation(e);}setMinElevationForCurrentTile(e){this._helper.setMinElevationForCurrentTile(e);}setPadding(e){this._helper.setPadding(e);}interpolatePadding(e,t,i){return this._helper.interpolatePadding(e,t,i)}isPaddingEqual(e){return this._helper.isPaddingEqual(e)}resize(e,t,i=!0){this._helper.resize(e,t,i);}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(e){this._helper.setMaxBounds(e);}overrideNearFarZ(e,t){this._helper.overrideNearFarZ(e,t);}clearNearFarZOverride(){this._helper.clearNearFarZOverride();}getCameraQueryGeometry(e){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),e)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(e,t){}constructor(e,t,i,o,r){this._posMatrixCache=new Map,this._alignedPosMatrixCache=new Map,this._fogMatrixCacheF32=new Map,this._helper=new Rt({calcMatrices:()=>{this._calcMatrices();},getConstrained:(e,t)=>this.getConstrained(e,t)},e,t,i,o,r),this._coveringTilesDetailsProvider=new Dt;}clone(){const e=new Lt;return e.apply(this),e}apply(e,t,i){this._helper.apply(e,t,i);}get cameraPosition(){return this._cameraPosition}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._viewProjMatrix}get inverseProjectionMatrix(){return this._invProjMatrix}get mercatorMatrix(){return this._mercatorMatrix}getVisibleUnwrappedCoordinates(e){const i=[new t.b1(0,e)];if(this._helper._renderWorldCopies){const o=this.screenPointToMercatorCoordinate(new t.P(0,0)),r=this.screenPointToMercatorCoordinate(new t.P(this._helper._width,0)),a=this.screenPointToMercatorCoordinate(new t.P(this._helper._width,this._helper._height)),s=this.screenPointToMercatorCoordinate(new t.P(0,this._helper._height)),n=Math.floor(Math.min(o.x,r.x,a.x,s.x)),l=Math.floor(Math.max(o.x,r.x,a.x,s.x)),c=1;for(let o=n-c;o<=l+c;o++)0!==o&&i.push(new t.b1(o,e));}return i}getCameraFrustum(){return At.fromInvProjectionMatrix(this._invViewProjMatrix,this.worldSize)}getClippingPlane(){return null}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(e){const t=this.screenPointToLocation(this.centerPoint,e),i=e?e.getElevationForLngLatZoom(t,this._helper._tileZoom):0;this._helper.recalculateZoomAndCenter(i);}setLocationAtPoint(e,i){const o=t.ai(this.elevation,this.center.lat),r=this.screenPointToMercatorCoordinateAtZ(i,o),a=this.screenPointToMercatorCoordinateAtZ(this.centerPoint,o),s=t.a0.fromLngLat(e),n=new t.a0(s.x-(r.x-a.x),s.y-(r.y-a.y));this.setCenter(null==n?void 0:n.toLngLat()),this._helper._renderWorldCopies&&this.setCenter(this.center.wrap());}locationToScreenPoint(e,i){return i?this.coordinatePoint(t.a0.fromLngLat(e),i.getElevationForLngLatZoom(e,this._helper._tileZoom),this._pixelMatrix3D):this.coordinatePoint(t.a0.fromLngLat(e))}screenPointToLocation(e,t){var i;return null===(i=this.screenPointToMercatorCoordinate(e,t))||void 0===i?void 0:i.toLngLat()}screenPointToMercatorCoordinate(e,t){if(t){const i=t.pointCoordinate(e);if(null!=i)return i}return this.screenPointToMercatorCoordinateAtZ(e)}screenPointToMercatorCoordinateAtZ(e,i){const o=i||0,r=[e.x,e.y,0,1],a=[e.x,e.y,1,1];t.av(r,r,this._pixelMatrixInverse),t.av(a,a,this._pixelMatrixInverse);const s=r[3],n=a[3],l=r[1]/s,c=a[1]/n,h=r[2]/s,u=a[2]/n,d=h===u?0:(o-h)/(u-h);return new t.a0(t.C.number(r[0]/s,a[0]/n,d)/this.worldSize,t.C.number(l,c,d)/this.worldSize,o)}coordinatePoint(e,i=0,o=this._pixelMatrix){const r=[e.x*this.worldSize,e.y*this.worldSize,i,1];return t.av(r,r,o),new t.P(r[0]/r[3],r[1]/r[3])}getBounds(){const e=Math.max(0,this._helper._height/2-he(this));return (new G).extend(this.screenPointToLocation(new t.P(0,e))).extend(this.screenPointToLocation(new t.P(this._helper._width,e))).extend(this.screenPointToLocation(new t.P(this._helper._width,this._helper._height))).extend(this.screenPointToLocation(new t.P(0,this._helper._height)))}isPointOnMapSurface(e,t){return t?null!=t.pointCoordinate(e):e.y>this.height/2-he(this)}calculatePosMatrix(e,i=!1,o){var r;const a=null!==(r=e.key)&&void 0!==r?r:t.b2(e.wrap,e.canonical.z,e.canonical.z,e.canonical.x,e.canonical.y),s=i?this._alignedPosMatrixCache:this._posMatrixCache;if(s.has(a)){const e=s.get(a);return o?e.f32:e.f64}const n=ue(e,this.worldSize);t.O(n,i?this._alignedProjMatrix:this._viewProjMatrix,n);const l={f64:n,f32:new Float32Array(n)};return s.set(a,l),o?l.f32:l.f64}calculateFogMatrix(e){const i=e.key,o=this._fogMatrixCacheF32;if(o.has(i))return o.get(i);const r=ue(e,this.worldSize);return t.O(r,this._fogMatrix,r),o.set(i,new Float32Array(r)),o.get(i)}getConstrained(e,i){i=t.ag(+i,this.minZoom,this.maxZoom);const o={center:new t.S(e.lng,e.lat),zoom:i};let r=this._helper._lngRange;this._helper._renderWorldCopies||null!==r||(r=[-179.9999999999,180-1e-10]);const a=this.tileSize*t.ae(o.zoom);let s=0,n=a,l=0,c=a,h=0,u=0;const{x:d,y:_}=this.size;if(this._helper._latRange){const e=this._helper._latRange;s=t.U(e[1])*a,n=t.U(e[0])*a,n-s<_&&(h=_/(n-s));}r&&(l=t.aN(t.V(r[0])*a,0,a),c=t.aN(t.V(r[1])*a,0,a),c<l&&(c+=a),c-l<d&&(u=d/(c-l)));const{x:p,y:m}=le(a,e);let f,g;const v=Math.max(u||0,h||0);if(v){const e=new t.P(u?(c+l)/2:p,h?(n+s)/2:m);return o.center=ce(a,e).wrap(),o.zoom+=t.aj(v),o}if(this._helper._latRange){const e=_/2;m-e<s&&(g=s+e),m+e>n&&(g=n-e);}if(r){const e=(l+c)/2;let i=p;this._helper._renderWorldCopies&&(i=t.aN(p,e-a/2,e+a/2));const o=d/2;i-o<l&&(f=l+o),i+o>c&&(f=c-o);}if(void 0!==f||void 0!==g){const e=new t.P(null!=f?f:p,null!=g?g:m);o.center=ce(a,e).wrap();}return o}calculateCenterFromCameraLngLatAlt(e,t,i,o){return this._helper.calculateCenterFromCameraLngLatAlt(e,t,i,o)}_calculateNearFarZIfNeeded(e,i,o){if(!this._helper.autoCalculateNearFarZ)return;const r=Math.min(this.elevation,this.minElevationForCurrentTile,this.getCameraAltitude()-100),a=e-r*this._helper._pixelPerMeter/Math.cos(i),s=r<0?a:e,n=Math.PI/2+this.pitchInRadians,l=t.ad(this.fov)*(Math.abs(Math.cos(t.ad(this.roll)))*this.height+Math.abs(Math.sin(t.ad(this.roll)))*this.width)/this.height*(.5+o.y/this.height),c=Math.sin(l)*s/Math.sin(t.ag(Math.PI-n-l,.01,Math.PI-.01)),h=he(this),u=Math.atan(h/this._helper.cameraToCenterDistance),d=t.ad(.75),_=u>d?2*u*(.5+o.y/(2*h)):d,p=Math.sin(_)*s/Math.sin(t.ag(Math.PI-n-_,.01,Math.PI-.01)),m=Math.min(c,p);this._helper._farZ=1.01*(Math.cos(Math.PI/2-i)*m+s),this._helper._nearZ=this._helper._height/50;}_calcMatrices(){if(!this._helper._height)return;const e=this.centerOffset,i=le(this.worldSize,this.center),o=i.x,r=i.y;this._helper._pixelPerMeter=t.ai(1,this.center.lat)*this.worldSize;const a=t.ad(Math.min(this.pitch,ne)),s=Math.max(this._helper.cameraToCenterDistance/2,this._helper.cameraToCenterDistance+this._helper._elevation*this._helper._pixelPerMeter/Math.cos(a));let n;this._calculateNearFarZIfNeeded(s,a,e),n=new Float64Array(16),t.b3(n,this.fovInRadians,this._helper._width/this._helper._height,this._helper._nearZ,this._helper._farZ),this._invProjMatrix=new Float64Array(16),t.ap(this._invProjMatrix,n),n[8]=2*-e.x/this._helper._width,n[9]=2*e.y/this._helper._height,this._projectionMatrix=t.b4(n),t.N(n,n,[1,-1,1]),t.M(n,n,[0,0,-this._helper.cameraToCenterDistance]),t.b5(n,n,-this.rollInRadians),t.b6(n,n,this.pitchInRadians),t.b5(n,n,-this.bearingInRadians),t.M(n,n,[-o,-r,0]),this._mercatorMatrix=t.N([],n,[this.worldSize,this.worldSize,this.worldSize]),t.N(n,n,[1,1,this._helper._pixelPerMeter]),this._pixelMatrix=t.O(new Float64Array(16),this.clipSpaceToPixelsMatrix,n),t.M(n,n,[0,0,-this.elevation]),this._viewProjMatrix=n,this._invViewProjMatrix=t.ap([],n);const l=[0,0,-1,1];t.av(l,l,this._invViewProjMatrix),this._cameraPosition=[l[0]/l[3],l[1]/l[3],l[2]/l[3]],this._fogMatrix=new Float64Array(16),t.b3(this._fogMatrix,this.fovInRadians,this.width/this.height,s,this._helper._farZ),this._fogMatrix[8]=2*-e.x/this.width,this._fogMatrix[9]=2*e.y/this.height,t.N(this._fogMatrix,this._fogMatrix,[1,-1,1]),t.M(this._fogMatrix,this._fogMatrix,[0,0,-this.cameraToCenterDistance]),t.b5(this._fogMatrix,this._fogMatrix,-this.rollInRadians),t.b6(this._fogMatrix,this._fogMatrix,this.pitchInRadians),t.b5(this._fogMatrix,this._fogMatrix,-this.bearingInRadians),t.M(this._fogMatrix,this._fogMatrix,[-o,-r,0]),t.N(this._fogMatrix,this._fogMatrix,[1,1,this._helper._pixelPerMeter]),t.M(this._fogMatrix,this._fogMatrix,[0,0,-this.elevation]),this._pixelMatrix3D=t.O(new Float64Array(16),this.clipSpaceToPixelsMatrix,n);const c=this._helper._width%2/2,h=this._helper._height%2/2,u=Math.cos(this.bearingInRadians),d=Math.sin(-this.bearingInRadians),_=o-Math.round(o)+u*c+d*h,p=r-Math.round(r)+u*h+d*c,m=new Float64Array(n);if(t.M(m,m,[_>.5?_-1:_,p>.5?p-1:p,0]),this._alignedProjMatrix=m,n=t.ap(new Float64Array(16),this._pixelMatrix),!n)throw new Error("failed to invert matrix");this._pixelMatrixInverse=n,this._clearMatrixCaches();}_clearMatrixCaches(){this._posMatrixCache.clear(),this._alignedPosMatrixCache.clear(),this._fogMatrixCacheF32.clear();}maxPitchScaleFactor(){if(!this._pixelMatrixInverse)return 1;const e=this.screenPointToMercatorCoordinate(new t.P(0,0)),i=[e.x*this.worldSize,e.y*this.worldSize,0,1];return t.av(i,i,this._pixelMatrix)[3]/this._helper.cameraToCenterDistance}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){const e=t.ai(1,this.center.lat)*this.worldSize;return de(this.center,this.elevation,this.pitch,this.bearing,this._helper.cameraToCenterDistance/e).toLngLat()}lngLatToCameraDepth(e,i){const o=t.a0.fromLngLat(e),r=[o.x*this.worldSize,o.y*this.worldSize,i,1];return t.av(r,r,this._viewProjMatrix),r[2]/r[3]}getProjectionData(e){const{overscaledTileID:i,aligned:o,applyTerrainMatrix:r}=e,a=this._helper.getMercatorTileCoordinates(i),s=i?this.calculatePosMatrix(i,o,!0):null;let n;return n=i&&i.terrainRttPosMatrix32f&&r?i.terrainRttPosMatrix32f:s||t.b7(),{mainMatrix:n,tileMercatorCoords:a,clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:n}}isLocationOccluded(e){return !1}getPixelScale(){return 1}getCircleRadiusCorrection(){return 1}getPitchedTextCorrection(e,t,i){return 1}transformLightDirection(e){return t.aS(e)}getRayDirectionFromPixel(e){throw new Error("Not implemented.")}projectTileCoordinates(e,i,o,r){const a=this.calculatePosMatrix(o);let s;r?(s=[e,i,r(e,i),1],t.av(s,s,a)):(s=[e,i,0,1],qe(s,s,a));const n=s[3];return {point:new t.P(s[0]/n,s[1]/n),signedDistanceFromCamera:n,isOccluded:!1}}populateCache(e){for(const t of e)this.calculatePosMatrix(t);}getMatrixForModel(e,i){const o=t.a0.fromLngLat(e,i),r=o.meterInMercatorCoordinateUnits(),a=t.b8();return t.M(a,a,[o.x,o.y,o.z]),t.b5(a,a,Math.PI),t.b6(a,a,Math.PI/2),t.N(a,a,[-r,r,r]),a}getProjectionDataForCustomLayer(e=!0){const i=new t.Z(0,0,0,0,0),o=this.getProjectionData({overscaledTileID:i,applyGlobeMatrix:e}),r=ue(i,this.worldSize);t.O(r,this._viewProjMatrix,r),o.tileMercatorCoords=[0,0,1,1];const a=[t.$,t.$,this.worldSize/this._helper.pixelsPerMeter],s=t.b9();return t.N(s,r,a),o.fallbackMatrix=s,o.mainMatrix=s,o}getFastPathSimpleProjectionMatrix(e){return this.calculatePosMatrix(e)}}function kt(){t.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");}function Ft(e){if(e.useSlerp)if(e.k<1){const i=t.ba(e.startEulerAngles.roll,e.startEulerAngles.pitch,e.startEulerAngles.bearing),o=t.ba(e.endEulerAngles.roll,e.endEulerAngles.pitch,e.endEulerAngles.bearing),r=new Float64Array(4);t.bb(r,i,o,e.k);const a=t.bc(r);e.tr.setRoll(a.roll),e.tr.setPitch(a.pitch),e.tr.setBearing(a.bearing);}else e.tr.setRoll(e.endEulerAngles.roll),e.tr.setPitch(e.endEulerAngles.pitch),e.tr.setBearing(e.endEulerAngles.bearing);else e.tr.setRoll(t.C.number(e.startEulerAngles.roll,e.endEulerAngles.roll,e.k)),e.tr.setPitch(t.C.number(e.startEulerAngles.pitch,e.endEulerAngles.pitch,e.k)),e.tr.setBearing(t.C.number(e.startEulerAngles.bearing,e.endEulerAngles.bearing,e.k));}function Bt(e,i,o,r,a){const s=a.padding,n=le(a.worldSize,o.getNorthWest()),l=le(a.worldSize,o.getNorthEast()),c=le(a.worldSize,o.getSouthEast()),h=le(a.worldSize,o.getSouthWest()),u=t.ad(-r),d=n.rotate(u),_=l.rotate(u),p=c.rotate(u),m=h.rotate(u),f=new t.P(Math.max(d.x,_.x,m.x,p.x),Math.max(d.y,_.y,m.y,p.y)),g=new t.P(Math.min(d.x,_.x,m.x,p.x),Math.min(d.y,_.y,m.y,p.y)),v=f.sub(g),b=(a.width-(s.left+s.right+i.left+i.right))/v.x,x=(a.height-(s.top+s.bottom+i.top+i.bottom))/v.y;if(x<0||b<0)return void kt();const y=Math.min(t.aj(a.scale*Math.min(b,x)),e.maxZoom),w=t.P.convert(e.offset),T=new t.P((i.left-i.right)/2,(i.top-i.bottom)/2).rotate(t.ad(r)),P=w.add(T).mult(a.scale/t.ae(y));return {center:ce(a.worldSize,n.add(c).div(2).sub(P)),zoom:y,bearing:r}}class Ot{get useGlobeControls(){return !1}handlePanInertia(e,t){return {easingOffset:e,easingCenter:t.center}}handleMapControlsRollPitchBearingZoom(e,t){e.bearingDelta&&t.setBearing(t.bearing+e.bearingDelta),e.pitchDelta&&t.setPitch(t.pitch+e.pitchDelta),e.rollDelta&&t.setRoll(t.roll+e.rollDelta),e.zoomDelta&&t.setZoom(t.zoom+e.zoomDelta);}handleMapControlsPan(e,t,i){e.around.distSqr(t.centerPoint)<.01||t.setLocationAtPoint(i,e.around);}cameraForBoxAndBearing(e,t,i,o,r){return Bt(e,t,i,o,r)}handleJumpToCenterZoom(e,i){e.zoom!==(void 0!==i.zoom?+i.zoom:e.zoom)&&e.setZoom(+i.zoom),void 0!==i.center&&e.setCenter(t.S.convert(i.center));}handleEaseTo(e,i){const o=e.zoom,r=e.padding,a={roll:e.roll,pitch:e.pitch,bearing:e.bearing},s={roll:void 0===i.roll?e.roll:i.roll,pitch:void 0===i.pitch?e.pitch:i.pitch,bearing:void 0===i.bearing?e.bearing:i.bearing},n=void 0!==i.zoom,l=!e.isPaddingEqual(i.padding);let c=!1;const h=n?+i.zoom:e.zoom;let u=e.centerPoint.add(i.offsetAsPoint);const d=e.screenPointToLocation(u),{center:_,zoom:p}=e.getConstrained(t.S.convert(i.center||d),null!=h?h:o);St(e,_);const m=le(e.worldSize,d),f=le(e.worldSize,_).sub(m),g=t.ae(p-o);return c=p!==o,{easeFunc:n=>{if(c&&e.setZoom(t.C.number(o,p,n)),t.bd(a,s)||Ft({startEulerAngles:a,endEulerAngles:s,tr:e,k:n,useSlerp:a.roll!=s.roll}),l&&(e.interpolatePadding(r,i.padding,n),u=e.centerPoint.add(i.offsetAsPoint)),i.around)e.setLocationAtPoint(i.around,i.aroundPoint);else {const i=t.ae(e.zoom-o),r=p>o?Math.min(2,g):Math.max(.5,g),a=Math.pow(r,1-n),s=ce(e.worldSize,m.add(f.mult(n*a)).mult(i));e.setLocationAtPoint(e.renderWorldCopies?s.wrap():s,u);}},isZooming:c,elevationCenter:_}}handleFlyTo(e,i){const o=void 0!==i.zoom,r=e.zoom,a=e.getConstrained(t.S.convert(i.center||i.locationAtOffset),o?+i.zoom:r),s=a.center,n=a.zoom;St(e,s);const l=le(e.worldSize,i.locationAtOffset),c=le(e.worldSize,s).sub(l),h=c.mag(),u=t.ae(n-r);let d;if(void 0!==i.minZoom){const o=Math.min(+i.minZoom,r,n),a=e.getConstrained(s,o).zoom;d=t.ae(a-r);}return {easeFunc:(i,o,a,h)=>{e.setZoom(1===i?n:r+t.aj(o));const u=1===i?s:ce(e.worldSize,l.add(c.mult(a)).mult(o));e.setLocationAtPoint(e.renderWorldCopies?u.wrap():u,h);},scaleOfZoom:u,targetCenter:s,scaleOfMinZoom:d,pixelPathLength:h}}}class jt{constructor(e,t,i){this.blendFunction=e,this.blendColor=t,this.mask=i;}}jt.Replace=[1,0],jt.disabled=new jt(jt.Replace,t.be.transparent,[!1,!1,!1,!1]),jt.unblended=new jt(jt.Replace,t.be.transparent,[!0,!0,!0,!0]),jt.alphaBlended=new jt([1,771],t.be.transparent,[!0,!0,!0,!0]);const Nt=2305;class Zt{constructor(e,t,i){this.enable=e,this.mode=t,this.frontFace=i;}}Zt.disabled=new Zt(!1,1029,Nt),Zt.backCCW=new Zt(!0,1029,Nt),Zt.frontCCW=new Zt(!0,1028,Nt);class Ut{constructor(e,t,i){this.func=e,this.mask=t,this.range=i;}}Ut.ReadOnly=!1,Ut.ReadWrite=!0,Ut.disabled=new Ut(519,Ut.ReadOnly,[0,1]);const Gt=7680;class Vt{constructor(e,t,i,o,r,a){this.test=e,this.ref=t,this.mask=i,this.fail=o,this.depthFail=r,this.pass=a;}}Vt.disabled=new Vt({func:519,mask:0},0,0,Gt,Gt,Gt);const $t=new WeakMap;function qt(e){var t;if($t.has(e))return $t.get(e);{const i=null===(t=e.getParameter(e.VERSION))||void 0===t?void 0:t.startsWith("WebGL 2.0");return $t.set(e,i),i}}class Wt{get awaitingQuery(){return !!this._readbackQueue}constructor(e){this._readbackWaitFrames=4,this._measureWaitFrames=6,this._texWidth=1,this._texHeight=1,this._measuredError=0,this._updateCount=0,this._lastReadbackFrame=-1e3,this._readbackQueue=null,this._cachedRenderContext=e;const i=e.context,o=i.gl;this._texFormat=o.RGBA,this._texType=o.UNSIGNED_BYTE;const r=new t.aK;r.emplaceBack(-1,-1),r.emplaceBack(2,-1),r.emplaceBack(-1,2);const a=new t.aM;a.emplaceBack(0,1,2),this._fullscreenTriangle=new wt(i.createVertexBuffer(r,Tt.members),i.createIndexBuffer(a),t.aL.simpleSegment(0,0,r.length,a.length)),this._resultBuffer=new Uint8Array(4),i.activeTexture.set(o.TEXTURE1);const s=o.createTexture();o.bindTexture(o.TEXTURE_2D,s),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.NEAREST),o.texImage2D(o.TEXTURE_2D,0,this._texFormat,this._texWidth,this._texHeight,0,this._texFormat,this._texType,null),this._fbo=i.createFramebuffer(this._texWidth,this._texHeight,!1,!1),this._fbo.colorAttachment.set(s),qt(o)&&(this._pbo=o.createBuffer(),o.bindBuffer(o.PIXEL_PACK_BUFFER,this._pbo),o.bufferData(o.PIXEL_PACK_BUFFER,4,o.STREAM_READ),o.bindBuffer(o.PIXEL_PACK_BUFFER,null));}destroy(){const e=this._cachedRenderContext.context.gl;this._fullscreenTriangle.destroy(),this._fbo.destroy(),e.deleteBuffer(this._pbo),this._fullscreenTriangle=null,this._fbo=null,this._pbo=null,this._resultBuffer=null;}updateErrorLoop(e,t){const i=this._updateCount;return this._readbackQueue?i>=this._readbackQueue.frameNumberIssued+this._readbackWaitFrames&&this._tryReadback():i>=this._lastReadbackFrame+this._measureWaitFrames&&this._renderErrorTexture(e,t),this._updateCount++,this._measuredError}_bindFramebuffer(){const e=this._cachedRenderContext.context,t=e.gl;e.activeTexture.set(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,this._fbo.colorAttachment.get()),e.bindFramebuffer.set(this._fbo.framebuffer);}_renderErrorTexture(e,i){const o=this._cachedRenderContext.context,r=o.gl;if(this._bindFramebuffer(),o.viewport.set([0,0,this._texWidth,this._texHeight]),o.clear({color:t.be.transparent}),this._cachedRenderContext.useProgram("projectionErrorMeasurement").draw(o,r.TRIANGLES,Ut.disabled,Vt.disabled,jt.unblended,Zt.disabled,((e,t)=>({u_input:e,u_output_expected:t}))(e,i),null,null,"$clipping",this._fullscreenTriangle.vertexBuffer,this._fullscreenTriangle.indexBuffer,this._fullscreenTriangle.segments),this._pbo&&qt(r)){r.bindBuffer(r.PIXEL_PACK_BUFFER,this._pbo),r.readBuffer(r.COLOR_ATTACHMENT0),r.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,0),r.bindBuffer(r.PIXEL_PACK_BUFFER,null);const e=r.fenceSync(r.SYNC_GPU_COMMANDS_COMPLETE,0);r.flush(),this._readbackQueue={frameNumberIssued:this._updateCount,sync:e};}else this._readbackQueue={frameNumberIssued:this._updateCount,sync:null};}_tryReadback(){const e=this._cachedRenderContext.context.gl;if(this._pbo&&this._readbackQueue&&qt(e)){const i=e.clientWaitSync(this._readbackQueue.sync,0,0);if(i===e.WAIT_FAILED)return t.w("WebGL2 clientWaitSync failed."),this._readbackQueue=null,void(this._lastReadbackFrame=this._updateCount);if(i===e.TIMEOUT_EXPIRED)return;e.bindBuffer(e.PIXEL_PACK_BUFFER,this._pbo),e.getBufferSubData(e.PIXEL_PACK_BUFFER,0,this._resultBuffer,0,4),e.bindBuffer(e.PIXEL_PACK_BUFFER,null);}else this._bindFramebuffer(),e.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,this._resultBuffer);this._readbackQueue=null,this._measuredError=Wt._parseRGBA8float(this._resultBuffer),this._lastReadbackFrame=this._updateCount;}static _parseRGBA8float(e){let t=0;return t+=e[0]/256,t+=e[1]/65536,t+=e[2]/16777216,e[3]<127&&(t=-t),t/128}}const Ht=t.$/128;function Xt(e,i){const o=void 0!==e.granularity?Math.max(e.granularity,1):1,r=o+(e.generateBorders?2:0),a=o+(e.extendToNorthPole||e.generateBorders?1:0)+(e.extendToSouthPole||e.generateBorders?1:0),s=r+1,n=a+1,l=e.generateBorders?-1:0,c=e.generateBorders||e.extendToNorthPole?-1:0,h=o+(e.generateBorders?1:0),u=o+(e.generateBorders||e.extendToSouthPole?1:0),d=s*n,_=r*a*6,p=s*n>65536;if(p&&"16bit"===i)throw new Error("Granularity is too large and meshes would not fit inside 16 bit vertex indices.");const m=p||"32bit"===i,f=new Int16Array(2*d);let g=0;for(let i=c;i<=u;i++)for(let r=l;r<=h;r++){let a=r/o*t.$;-1===r&&(a=-64),r===o+1&&(a=t.$+Ht);let s=i/o*t.$;-1===i&&(s=e.extendToNorthPole?t.bg:-64),i===o+1&&(s=e.extendToSouthPole?t.bh:t.$+Ht),f[g++]=a,f[g++]=s;}const v=m?new Uint32Array(_):new Uint16Array(_);let b=0;for(let e=0;e<a;e++)for(let t=0;t<r;t++){const i=t+1+e*s,o=t+(e+1)*s,r=t+1+(e+1)*s;v[b++]=t+e*s,v[b++]=o,v[b++]=i,v[b++]=i,v[b++]=o,v[b++]=r;}return {vertices:f.buffer.slice(0),indices:v.buffer.slice(0),uses32bitIndices:m}}const Kt=new t.aJ({fill:new t.bi(128,2),line:new t.bi(512,0),tile:new t.bi(128,32),stencil:new t.bi(128,1),circle:3});class Yt{constructor(){this._tileMeshCache={},this._errorCorrectionUsable=0,this._errorMeasurementLastValue=0,this._errorCorrectionPreviousValue=0,this._errorMeasurementLastChangeTime=-1e3;}get name(){return "vertical-perspective"}get transitionState(){return 1}get useSubdivision(){return !0}get shaderVariantName(){return "globe"}get shaderDefine(){return "#define GLOBE"}get shaderPreludeCode(){return xt.projectionGlobe}get vertexShaderPreludeCode(){return xt.projectionMercator.vertexSource}get subdivisionGranularity(){return Kt}get useGlobeControls(){return !0}get latitudeErrorCorrectionRadians(){return this._errorCorrectionUsable}destroy(){this._errorMeasurement&&this._errorMeasurement.destroy();}updateGPUdependent(e){this._errorMeasurement||(this._errorMeasurement=new Wt(e));const i=t.U(this._errorQueryLatitudeDegrees),o=2*Math.atan(Math.exp(Math.PI-i*Math.PI*2))-.5*Math.PI,r=this._errorMeasurement.updateErrorLoop(i,o),a=s.now();r!==this._errorMeasurementLastValue&&(this._errorCorrectionPreviousValue=this._errorCorrectionUsable,this._errorMeasurementLastValue=r,this._errorMeasurementLastChangeTime=a);const n=Math.min(Math.max((a-this._errorMeasurementLastChangeTime)/1e3/.5,0),1);this._errorCorrectionUsable=t.bj(this._errorCorrectionPreviousValue,-this._errorMeasurementLastValue,t.bk(n));}_getMeshKey(e){return `${e.granularity.toString(36)}_${e.generateBorders?"b":""}${e.extendToNorthPole?"n":""}${e.extendToSouthPole?"s":""}`}getMeshFromTileID(e,t,i,o,r){const a=("stencil"===r?Kt.stencil:Kt.tile).getGranularityForZoomLevel(t.z);return this._getMesh(e,{granularity:a,generateBorders:i,extendToNorthPole:0===t.y&&o,extendToSouthPole:t.y===(1<<t.z)-1&&o})}_getMesh(e,i){const o=this._getMeshKey(i);if(o in this._tileMeshCache)return this._tileMeshCache[o];const r=function(e,i){const o=Xt(i,"16bit"),r=t.aK.deserialize({arrayBuffer:o.vertices,length:o.vertices.byteLength/2/2}),a=t.aM.deserialize({arrayBuffer:o.indices,length:o.indices.byteLength/2/3});return new wt(e.createVertexBuffer(r,Tt.members),e.createIndexBuffer(a),t.aL.simpleSegment(0,0,r.length,a.length))}(e,i);return this._tileMeshCache[o]=r,r}recalculate(e){}hasTransition(){const e=s.now();let t=!1;return t=t||(e-this._errorMeasurementLastChangeTime)/1e3<.7,t=t||this._errorMeasurement&&this._errorMeasurement.awaitingQuery,t}setErrorQueryLatitudeDegrees(e){this._errorQueryLatitudeDegrees=e;}}const Qt=new t.r({type:new t.D(t.v.projection.type)});class Jt extends t.E{constructor(e){super(),this._transitionable=new t.t(Qt),this.setProjection(e),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new t.F(0)),this._mercatorProjection=new It,this._verticalPerspectiveProjection=new Yt;}get transitionState(){const e=this.properties.get("type");if("string"==typeof e&&"mercator"===e)return 0;if("string"==typeof e&&"vertical-perspective"===e)return 1;if(e instanceof t.bl){if("vertical-perspective"===e.from&&"mercator"===e.to)return 1-e.transition;if("mercator"===e.from&&"vertical-perspective"===e.to)return e.transition}return 1}get useGlobeRendering(){return this.transitionState>0}get latitudeErrorCorrectionRadians(){return this._verticalPerspectiveProjection.latitudeErrorCorrectionRadians}get currentProjection(){return this.useGlobeRendering?this._verticalPerspectiveProjection:this._mercatorProjection}get name(){return "globe"}get useSubdivision(){return this.currentProjection.useSubdivision}get shaderVariantName(){return this.currentProjection.shaderVariantName}get shaderDefine(){return this.currentProjection.shaderDefine}get shaderPreludeCode(){return this.currentProjection.shaderPreludeCode}get vertexShaderPreludeCode(){return this.currentProjection.vertexShaderPreludeCode}get subdivisionGranularity(){return this.currentProjection.subdivisionGranularity}get useGlobeControls(){return this.transitionState>0}destroy(){this._mercatorProjection.destroy(),this._verticalPerspectiveProjection.destroy();}updateGPUdependent(e){this._mercatorProjection.updateGPUdependent(e),this._verticalPerspectiveProjection.updateGPUdependent(e);}getMeshFromTileID(e,t,i,o,r){return this.currentProjection.getMeshFromTileID(e,t,i,o,r)}setProjection(e){this._transitionable.setValue("type",(null==e?void 0:e.type)||"mercator");}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning);}hasTransition(){return this._transitioning.hasTransition()||this.currentProjection.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e);}setErrorQueryLatitudeDegrees(e){this._verticalPerspectiveProjection.setErrorQueryLatitudeDegrees(e),this._mercatorProjection.setErrorQueryLatitudeDegrees(e);}}function ei(e){const t=oi(e.worldSize,e.center.lat);return 2*Math.PI*t}function ti(e,i,o,r,a){const s=1/(1<<a),n=i/t.$*s+r*s,l=t.bn((e/t.$*s+o*s)*Math.PI*2+Math.PI,2*Math.PI),c=2*Math.atan(Math.exp(Math.PI-n*Math.PI*2))-.5*Math.PI,h=Math.cos(c),u=new Float64Array(3);return u[0]=Math.sin(l)*h,u[1]=Math.sin(c),u[2]=Math.cos(l)*h,u}function ii(e){return function(e,t){const i=Math.cos(t),o=new Float64Array(3);return o[0]=Math.sin(e)*i,o[1]=Math.sin(t),o[2]=Math.cos(e)*i,o}(e.lng*Math.PI/180,e.lat*Math.PI/180)}function oi(e,t){return e/(2*Math.PI)/Math.cos(t*Math.PI/180)}function ri(e){const i=Math.asin(e[1])/Math.PI*180,o=Math.sqrt(e[0]*e[0]+e[2]*e[2]);if(o>1e-6){const r=e[0]/o,a=Math.acos(e[2]/o),s=(r>0?a:-a)/Math.PI*180;return new t.S(t.aN(s,-180,180),i)}return new t.S(0,i)}function ai(e){return Math.cos(e*Math.PI/180)}function si(e,i){const o=ai(e),r=ai(i);return t.aj(r/o)}function ni(e,i){const o=e.rotate(i.bearingInRadians),r=i.zoom+si(i.center.lat,0),a=t.bj(1/ai(i.center.lat),1/ai(Math.min(Math.abs(i.center.lat),60)),t.bm(r,7,3,0,1)),s=360/ei({worldSize:i.worldSize,center:{lat:i.center.lat}});return new t.S(i.center.lng-o.x*s*a,t.ag(i.center.lat+o.y*s,-85.051129,t.ah))}function li(e){const t=.5*e,i=Math.sin(t),o=Math.cos(t);return Math.log(i+o)-Math.log(o-i)}function ci(e,i,o,r){const a=e.lat+o*r;if(Math.abs(o)>1){const s=(Math.sign(e.lat+o)!==Math.sign(e.lat)?-Math.abs(e.lat):Math.abs(e.lat))*Math.PI/180,n=Math.abs(e.lat+o)*Math.PI/180,l=li(s+r*(n-s)),c=li(s),h=li(n);return new t.S(e.lng+i*((l-c)/(h-c)),a)}return new t.S(e.lng+i*r,a)}class hi{constructor(e){this._cachePrevious=new Map,this._cache=new Map,this._hadAnyChanges=!1,this._boundingVolumeFactory=e;}swapBuffers(){if(!this._hadAnyChanges)return;const e=this._cachePrevious;this._cachePrevious=this._cache,this._cache=e,this._cache.clear(),this._hadAnyChanges=!1;}getTileBoundingVolume(e,t,i,o){const r=`${e.z}_${e.x}_${e.y}_${(null==o?void 0:o.terrain)?"t":""}`,a=this._cache.get(r);if(a)return a;const s=this._cachePrevious.get(r);if(s)return this._cache.set(r,s),s;const n=this._boundingVolumeFactory(e,t,i,o);return this._cache.set(r,n),this._hadAnyChanges=!0,n}}class ui{constructor(e,t,i,o){this.min=i,this.max=o,this.points=e,this.planes=t;}static fromAabb(e,t){const i=[];for(let o=0;o<8;o++)i.push([1&~o?e[0]:t[0],1==(o>>1&1)?t[1]:e[1],1==(o>>2&1)?t[2]:e[2]]);return new ui(i,[[-1,0,0,t[0]],[1,0,0,-e[0]],[0,-1,0,t[1]],[0,1,0,-e[1]],[0,0,-1,t[2]],[0,0,1,-e[2]]],e,t)}static fromCenterSizeAngles(e,i,o){const r=t.bq([],o[0],o[1],o[2]),a=t.br([],[i[0],0,0],r),s=t.br([],[0,i[1],0],r),n=t.br([],[0,0,i[2]],r),l=[...e],c=[...e];for(let t=0;t<8;t++)for(let i=0;i<3;i++){const o=e[i]+a[i]*(1&~t?-1:1)+s[i]*(1==(t>>1&1)?1:-1)+n[i]*(1==(t>>2&1)?1:-1);l[i]=Math.min(l[i],o),c[i]=Math.max(c[i],o);}const h=[];for(let i=0;i<8;i++){const o=[...e];t.aR(o,o,t.aQ([],a,1&~i?-1:1)),t.aR(o,o,t.aQ([],s,1==(i>>1&1)?1:-1)),t.aR(o,o,t.aQ([],n,1==(i>>2&1)?1:-1)),h.push(o);}return new ui(h,[[...a,-t.aW(a,h[0])],[...s,-t.aW(s,h[0])],[...n,-t.aW(n,h[0])],[-a[0],-a[1],-a[2],-t.aW(a,h[7])],[-s[0],-s[1],-s[2],-t.aW(s,h[7])],[-n[0],-n[1],-n[2],-t.aW(n,h[7])]],l,c)}intersectsFrustum(e){let t=!0;const i=this.points.length,o=this.planes.length,r=e.planes.length,a=e.points.length;for(let o=0;o<r;o++){const r=e.planes[o];let a=0;for(let e=0;e<i;e++){const t=this.points[e];r[0]*t[0]+r[1]*t[1]+r[2]*t[2]+r[3]>=0&&a++;}if(0===a)return 0;a<i&&(t=!1);}if(t)return 2;for(let t=0;t<o;t++){const i=this.planes[t];let o=0;for(let t=0;t<a;t++){const r=e.points[t];i[0]*r[0]+i[1]*r[1]+i[2]*r[2]+i[3]>=0&&o++;}if(0===o)return 0}return 1}intersectsPlane(e){const t=this.points.length;let i=0;for(let o=0;o<t;o++){const t=this.points[o];e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]>=0&&i++;}return i===t?2:0===i?0:1}}function di(e,t,i){const o=e-t;return o<0?-o:Math.max(0,o-i)}function _i(e,t,i,o,r){const a=e-i;let s;return s=a<0?Math.min(-a,1+a-r):a>1?Math.min(Math.max(a-r,0),1-a):0,Math.max(s,di(t,o,r))}class pi{constructor(){this._boundingVolumeCache=new hi(this._computeTileBoundingVolume);}prepareNextFrame(){this._boundingVolumeCache.swapBuffers();}distanceToTile2d(e,t,i,o){const r=1<<i.z,a=1/r,s=i.x/r,n=i.y/r;let l=2;return l=Math.min(l,_i(e,t,s,n,a)),l=Math.min(l,_i(e,t,s+.5,-n-a,a)),l=Math.min(l,_i(e,t,s+.5,2-n-a,a)),l}getWrap(e,t,i){const o=1<<t.z,r=1/o,a=t.x/o,s=di(e.x,a,r),n=di(e.x,a-1,r),l=di(e.x,a+1,r),c=Math.min(s,n,l);return c===l?1:c===n?-1:0}allowVariableZoom(e,t){return ge(e,t)>4}allowWorldCopies(){return !1}getTileBoundingVolume(e,t,i,o){return this._boundingVolumeCache.getTileBoundingVolume(e,t,i,o)}_computeTileBoundingVolume(e,i,o,r){var a,s;let n=o,l=o;if(null==r?void 0:r.terrain){const c=new t.Z(e.z,i,e.z,e.x,e.y),h=r.terrain.getMinMaxElevation(c);n=null!==(a=h.minElevation)&&void 0!==a?a:o,l=null!==(s=h.maxElevation)&&void 0!==s?s:o;}if(n/=t.bt,l/=t.bt,n+=1,l+=1,e.z<=0)return ui.fromAabb([-l,-l,-l],[l,l,l]);if(1===e.z)return ui.fromAabb([0===e.x?-l:0,0===e.y?0:-l,-l],[0===e.x?0:l,0===e.y?l:0,l]);{const i=[ti(0,0,e.x,e.y,e.z),ti(t.$,0,e.x,e.y,e.z),ti(t.$,t.$,e.x,e.y,e.z),ti(0,t.$,e.x,e.y,e.z)],o=[];for(const e of i)o.push(t.aQ([],e,l));if(l!==n)for(const e of i)o.push(t.aQ([],e,n));0===e.y&&o.push([0,1,0]),e.y===(1<<e.z)-1&&o.push([0,-1,0]);const r=[1,1,1],a=[-1,-1,-1];for(const e of o)for(let t=0;t<3;t++)r[t]=Math.min(r[t],e[t]),a[t]=Math.max(a[t],e[t]);const s=ti(t.$/2,t.$/2,e.x,e.y,e.z),c=t.aV([],[0,1,0],s);t.aU(c,c);const h=t.aV([],s,c);t.aU(h,h);const u=t.aV([],i[2],i[1]);t.aU(u,u);const d=t.aV([],i[0],i[3]);t.aU(d,d),o.push(t.aQ([],s,l)),e.y>=(1<<e.z)/2&&o.push(t.aQ([],ti(t.$/2,0,e.x,e.y,e.z),l)),e.y<(1<<e.z)/2&&o.push(t.aQ([],ti(t.$/2,t.$,e.x,e.y,e.z),l));const _=mi(s,o),p=mi(h,o),m=[-s[0],-s[1],-s[2],_.max],f=[s[0],s[1],s[2],-_.min],g=[-h[0],-h[1],-h[2],p.max],v=[h[0],h[1],h[2],-p.min],b=[...u,0],x=[...d,0],y=[];return 0===e.y?y.push(t.bs(x,b,m),t.bs(x,b,f)):y.push(t.bs(g,b,m),t.bs(g,b,f),t.bs(g,x,m),t.bs(g,x,f)),e.y===(1<<e.z)-1?y.push(t.bs(x,b,m),t.bs(x,b,f)):y.push(t.bs(v,b,m),t.bs(v,b,f),t.bs(v,x,m),t.bs(v,x,f)),new ui(y,[m,f,g,v,b,x],r,a)}}}function mi(e,i){let o=1/0,r=-1/0;for(const a of i){const i=t.aW(e,a);o=Math.min(o,i),r=Math.max(r,i);}return {min:o,max:r}}class fi{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(e){this._helper.setMinZoom(e);}setMaxZoom(e){this._helper.setMaxZoom(e);}setMinPitch(e){this._helper.setMinPitch(e);}setMaxPitch(e){this._helper.setMaxPitch(e);}setRenderWorldCopies(e){this._helper.setRenderWorldCopies(e);}setBearing(e){this._helper.setBearing(e);}setPitch(e){this._helper.setPitch(e);}setRoll(e){this._helper.setRoll(e);}setFov(e){this._helper.setFov(e);}setZoom(e){this._helper.setZoom(e);}setCenter(e){this._helper.setCenter(e);}setElevation(e){this._helper.setElevation(e);}setMinElevationForCurrentTile(e){this._helper.setMinElevationForCurrentTile(e);}setPadding(e){this._helper.setPadding(e);}interpolatePadding(e,t,i){return this._helper.interpolatePadding(e,t,i)}isPaddingEqual(e){return this._helper.isPaddingEqual(e)}resize(e,t){this._helper.resize(e,t);}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(e){this._helper.setMaxBounds(e);}overrideNearFarZ(e,t){this._helper.overrideNearFarZ(e,t);}clearNearFarZOverride(){this._helper.clearNearFarZOverride();}getCameraQueryGeometry(e){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),e)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(e){}constructor(){this._cachedClippingPlane=t.bu(),this._projectionMatrix=t.b8(),this._globeViewProjMatrix32f=t.b7(),this._globeViewProjMatrixNoCorrection=t.b8(),this._globeViewProjMatrixNoCorrectionInverted=t.b8(),this._globeProjMatrixInverted=t.b8(),this._cameraPosition=t.bo(),this._globeLatitudeErrorCorrectionRadians=0,this._helper=new Rt({calcMatrices:()=>{this._calcMatrices();},getConstrained:(e,t)=>this.getConstrained(e,t)}),this._coveringTilesDetailsProvider=new pi;}clone(){const e=new fi;return e.apply(this),e}apply(e,t){this._globeLatitudeErrorCorrectionRadians=t||0,this._helper.apply(e);}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._globeViewProjMatrixNoCorrection}get inverseProjectionMatrix(){return this._globeProjMatrixInverted}get cameraPosition(){const e=t.bo();return e[0]=this._cameraPosition[0],e[1]=this._cameraPosition[1],e[2]=this._cameraPosition[2],e}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}getProjectionData(e){const{overscaledTileID:t,applyGlobeMatrix:i}=e,o=this._helper.getMercatorTileCoordinates(t);return {mainMatrix:this._globeViewProjMatrix32f,tileMercatorCoords:o,clippingPlane:this._cachedClippingPlane,projectionTransition:i?1:0,fallbackMatrix:this._globeViewProjMatrix32f}}_computeClippingPlane(e){const i=this.pitchInRadians,o=this.cameraToCenterDistance/e,r=Math.sin(i)*o,a=Math.cos(i)*o+1,s=1/Math.sqrt(r*r+a*a)*1;let n=-r,l=a;const c=Math.sqrt(n*n+l*l);n/=c,l/=c;const h=[0,n,l];t.bv(h,h,[0,0,0],-this.bearingInRadians),t.bw(h,h,[0,0,0],-1*this.center.lat*Math.PI/180),t.bx(h,h,[0,0,0],this.center.lng*Math.PI/180);const u=1/t.aY(h);return t.aQ(h,h,u),[...h,-s*u]}isLocationOccluded(e){return !this.isSurfacePointVisible(ii(e))}transformLightDirection(e){const i=this._helper._center.lng*Math.PI/180,o=this._helper._center.lat*Math.PI/180,r=Math.cos(o),a=[Math.sin(i)*r,Math.sin(o),Math.cos(i)*r],s=[a[2],0,-a[0]],n=[0,0,0];t.aV(n,s,a),t.aU(s,s),t.aU(n,n);const l=[0,0,0];return t.aU(l,[s[0]*e[0]+n[0]*e[1]+a[0]*e[2],s[1]*e[0]+n[1]*e[1]+a[1]*e[2],s[2]*e[0]+n[2]*e[1]+a[2]*e[2]]),l}getPixelScale(){return 1/Math.cos(this._helper._center.lat*Math.PI/180)}getCircleRadiusCorrection(){return Math.cos(this._helper._center.lat*Math.PI/180)}getPitchedTextCorrection(e,i,o){const r=function(e,i,o){const r=1/(1<<o.z);return new t.a0(e/t.$*r+o.x*r,i/t.$*r+o.y*r)}(e,i,o.canonical),a=(s=r.y,[t.bn(r.x*Math.PI*2+Math.PI,2*Math.PI),2*Math.atan(Math.exp(Math.PI-s*Math.PI*2))-.5*Math.PI]);var s;return this.getCircleRadiusCorrection()/Math.cos(a[1])}projectTileCoordinates(e,i,o,r){const a=o.canonical,s=ti(e,i,a.x,a.y,a.z),n=1+(r?r(e,i):0)/t.bt,l=[s[0]*n,s[1]*n,s[2]*n,1];t.av(l,l,this._globeViewProjMatrixNoCorrection);const c=this._cachedClippingPlane,h=c[0]*s[0]+c[1]*s[1]+c[2]*s[2]+c[3]<0;return {point:new t.P(l[0]/l[3],l[1]/l[3]),signedDistanceFromCamera:l[3],isOccluded:h}}_calcMatrices(){if(!this._helper._width||!this._helper._height)return;const e=oi(this.worldSize,this.center.lat),i=t.b9(),o=t.b9();this._helper.autoCalculateNearFarZ&&(this._helper._nearZ=.5,this._helper._farZ=this.cameraToCenterDistance+2*e),t.b3(i,this.fovInRadians,this.width/this.height,this._helper._nearZ,this._helper._farZ);const r=this.centerOffset;i[8]=2*-r.x/this._helper._width,i[9]=2*r.y/this._helper._height,this._projectionMatrix=t.b4(i),this._globeProjMatrixInverted=t.b9(),t.ap(this._globeProjMatrixInverted,i),t.M(i,i,[0,0,-this.cameraToCenterDistance]),t.b5(i,i,this.rollInRadians),t.b6(i,i,-this.pitchInRadians),t.b5(i,i,this.bearingInRadians),t.M(i,i,[0,0,-e]);const a=t.bo();a[0]=e,a[1]=e,a[2]=e,t.b6(o,i,this.center.lat*Math.PI/180),t.by(o,o,-this.center.lng*Math.PI/180),t.N(o,o,a),this._globeViewProjMatrixNoCorrection=o,t.b6(i,i,this.center.lat*Math.PI/180-this._globeLatitudeErrorCorrectionRadians),t.by(i,i,-this.center.lng*Math.PI/180),t.N(i,i,a),this._globeViewProjMatrix32f=new Float32Array(i),this._globeViewProjMatrixNoCorrectionInverted=t.b9(),t.ap(this._globeViewProjMatrixNoCorrectionInverted,o);const s=t.bo();this._cameraPosition=t.bo(),this._cameraPosition[2]=this.cameraToCenterDistance/e,t.bv(this._cameraPosition,this._cameraPosition,s,-this.rollInRadians),t.bw(this._cameraPosition,this._cameraPosition,s,this.pitchInRadians),t.bv(this._cameraPosition,this._cameraPosition,s,-this.bearingInRadians),t.aR(this._cameraPosition,this._cameraPosition,[0,0,1]),t.bw(this._cameraPosition,this._cameraPosition,s,-this.center.lat*Math.PI/180),t.bx(this._cameraPosition,this._cameraPosition,s,this.center.lng*Math.PI/180),this._cachedClippingPlane=this._computeClippingPlane(e);const n=t.b4(this._globeViewProjMatrixNoCorrectionInverted);t.N(n,n,[1,1,-1]),this._cachedFrustum=At.fromInvProjectionMatrix(n,1,0,this._cachedClippingPlane,!0);}calculateFogMatrix(e){t.w("calculateFogMatrix is not supported on globe projection.");const i=t.b9();return t.af(i),i}getVisibleUnwrappedCoordinates(e){return [new t.b1(0,e)]}getCameraFrustum(){return this._cachedFrustum}getClippingPlane(){return this._cachedClippingPlane}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(e){e&&t.w("terrain is not fully supported on vertical perspective projection."),this._helper.recalculateZoomAndCenter(0);}maxPitchScaleFactor(){return 1}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(e,i){if(!this._globeViewProjMatrixNoCorrection)return 1;const o=ii(e);t.aQ(o,o,1+i/t.bt);const r=t.bu();return t.av(r,[o[0],o[1],o[2],1],this._globeViewProjMatrixNoCorrection),r[2]/r[3]}populateCache(e){}getBounds(){const e=.5*this.width,i=.5*this.height,o=[new t.P(0,0),new t.P(e,0),new t.P(this.width,0),new t.P(this.width,i),new t.P(this.width,this.height),new t.P(e,this.height),new t.P(0,this.height),new t.P(0,i)],r=[];for(const e of o)r.push(this.unprojectScreenPoint(e));let a=0,s=0,n=0,l=0;const c=this.center;for(const e of r){const i=t.bz(c.lng,e.lng),o=t.bz(c.lat,e.lat);i<s&&(s=i),i>a&&(a=i),o<l&&(l=o),o>n&&(n=o);}const h=[c.lng+s,c.lat+l,c.lng+a,c.lat+n];return this.isSurfacePointOnScreen([0,1,0])&&(h[3]=90,h[0]=-180,h[2]=180),this.isSurfacePointOnScreen([0,-1,0])&&(h[1]=-90,h[0]=-180,h[2]=180),new G(h)}getConstrained(e,i){const o=t.ag(e.lat,-85.051129,t.ah),r=t.ag(+i,this.minZoom+si(0,o),this.maxZoom);return {center:new t.S(e.lng,o),zoom:r}}calculateCenterFromCameraLngLatAlt(e,t,i,o){return this._helper.calculateCenterFromCameraLngLatAlt(e,t,i,o)}setLocationAtPoint(e,i){const o=ii(this.unprojectScreenPoint(i)),r=ii(e),a=t.bo();t.bA(a);const s=t.bo();t.bx(s,o,a,-this.center.lng*Math.PI/180),t.bw(s,s,a,this.center.lat*Math.PI/180);const n=r[0]*r[0]+r[2]*r[2],l=s[0]*s[0];if(n<l)return;const c=Math.sqrt(n-l),h=-c,u=t.bB(r[0],r[2],s[0],c),d=t.bB(r[0],r[2],s[0],h),_=t.bo();t.bx(_,r,a,-u);const p=t.bB(_[1],_[2],s[1],s[2]),m=t.bo();t.bx(m,r,a,-d);const f=t.bB(m[1],m[2],s[1],s[2]),g=.5*Math.PI,v=p>=-g&&p<=g,b=f>=-g&&f<=g;let x,y;if(v&&b){const e=this.center.lng*Math.PI/180,i=this.center.lat*Math.PI/180;t.bC(u,e)+t.bC(p,i)<t.bC(d,e)+t.bC(f,i)?(x=u,y=p):(x=d,y=f);}else if(v)x=u,y=p;else {if(!b)return;x=d,y=f;}const w=x/Math.PI*180,T=y/Math.PI*180,P=this.center.lat;this.setCenter(new t.S(w,t.ag(T,-90,90))),this.setZoom(this.zoom+si(P,this.center.lat));}locationToScreenPoint(e,i){const o=ii(e);if(i){const r=i.getElevationForLngLatZoom(e,this._helper._tileZoom);t.aQ(o,o,1+r/t.bt);}return this._projectSurfacePointToScreen(o)}_projectSurfacePointToScreen(e){const i=t.bu();return t.av(i,[...e,1],this._globeViewProjMatrixNoCorrection),i[0]/=i[3],i[1]/=i[3],new t.P((.5*i[0]+.5)*this.width,(.5*-i[1]+.5)*this.height)}screenPointToMercatorCoordinate(e,i){if(i){const t=i.pointCoordinate(e);if(t)return t}return t.a0.fromLngLat(this.unprojectScreenPoint(e))}screenPointToLocation(e,t){var i;return null===(i=this.screenPointToMercatorCoordinate(e,t))||void 0===i?void 0:i.toLngLat()}isPointOnMapSurface(e,t){const i=this._cameraPosition,o=this.getRayDirectionFromPixel(e);return !!this.rayPlanetIntersection(i,o)}getRayDirectionFromPixel(e){const i=t.bu();i[0]=e.x/this.width*2-1,i[1]=-1*(e.y/this.height*2-1),i[2]=1,i[3]=1,t.av(i,i,this._globeViewProjMatrixNoCorrectionInverted),i[0]/=i[3],i[1]/=i[3],i[2]/=i[3];const o=t.bo();o[0]=i[0]-this._cameraPosition[0],o[1]=i[1]-this._cameraPosition[1],o[2]=i[2]-this._cameraPosition[2];const r=t.bo();return t.aU(r,o),r}isSurfacePointVisible(e){const t=this._cachedClippingPlane;return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]>=0}isSurfacePointOnScreen(e){if(!this.isSurfacePointVisible(e))return !1;const i=t.bu();return t.av(i,[...e,1],this._globeViewProjMatrixNoCorrection),i[0]/=i[3],i[1]/=i[3],i[2]/=i[3],i[0]>-1&&i[0]<1&&i[1]>-1&&i[1]<1&&i[2]>-1&&i[2]<1}rayPlanetIntersection(e,i){const o=t.aW(e,i),r=t.bo(),a=t.bo();t.aQ(a,i,o),t.aT(r,e,a);const s=1-t.aW(r,r);if(s<0)return null;const n=t.aW(e,e)-1,l=-o+(o<0?1:-1)*Math.sqrt(s),c=n/l,h=l;return {tMin:Math.min(c,h),tMax:Math.max(c,h)}}unprojectScreenPoint(e){const i=this._cameraPosition,o=this.getRayDirectionFromPixel(e),r=this.rayPlanetIntersection(i,o);if(r){const e=t.bo();t.aR(e,i,[o[0]*r.tMin,o[1]*r.tMin,o[2]*r.tMin]);const a=t.bo();return t.aU(a,e),ri(a)}const a=this._cachedClippingPlane,s=a[0]*o[0]+a[1]*o[1]+a[2]*o[2],n=-t.b0(a,i)/s,l=t.bo();if(n>0)t.aR(l,i,[o[0]*n,o[1]*n,o[2]*n]);else {const e=t.bo();t.aR(e,i,[2*o[0],2*o[1],2*o[2]]);const r=t.b0(this._cachedClippingPlane,e);t.aT(l,e,[this._cachedClippingPlane[0]*r,this._cachedClippingPlane[1]*r,this._cachedClippingPlane[2]*r]);}const c=function(e){const i=t.bo();return i[0]=e[0]*-e[3],i[1]=e[1]*-e[3],i[2]=e[2]*-e[3],{center:i,radius:Math.sqrt(1-e[3]*e[3])}}(a);return ri(function(e,i,o){const r=t.bo();t.aT(r,o,e);const a=t.bo();return t.bp(a,e,r,i/t.a_(r)),a}(c.center,c.radius,l))}getMatrixForModel(e,i){const o=t.S.convert(e),r=1/t.bt,a=t.b8();return t.by(a,a,o.lng/180*Math.PI),t.b6(a,a,-o.lat/180*Math.PI),t.M(a,a,[0,0,1+i/t.bt]),t.b6(a,a,.5*Math.PI),t.N(a,a,[r,r,r]),a}getProjectionDataForCustomLayer(e=!0){const i=this.getProjectionData({overscaledTileID:new t.Z(0,0,0,0,0),applyGlobeMatrix:e});return i.tileMercatorCoords=[0,0,1,1],i}getFastPathSimpleProjectionMatrix(e){}}class gi{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(e){this._helper.setMinZoom(e);}setMaxZoom(e){this._helper.setMaxZoom(e);}setMinPitch(e){this._helper.setMinPitch(e);}setMaxPitch(e){this._helper.setMaxPitch(e);}setRenderWorldCopies(e){this._helper.setRenderWorldCopies(e);}setBearing(e){this._helper.setBearing(e);}setPitch(e){this._helper.setPitch(e);}setRoll(e){this._helper.setRoll(e);}setFov(e){this._helper.setFov(e);}setZoom(e){this._helper.setZoom(e);}setCenter(e){this._helper.setCenter(e);}setElevation(e){this._helper.setElevation(e);}setMinElevationForCurrentTile(e){this._helper.setMinElevationForCurrentTile(e);}setPadding(e){this._helper.setPadding(e);}interpolatePadding(e,t,i){return this._helper.interpolatePadding(e,t,i)}isPaddingEqual(e){return this._helper.isPaddingEqual(e)}resize(e,t,i=!0){this._helper.resize(e,t,i);}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(e){this._helper.setMaxBounds(e);}overrideNearFarZ(e,t){this._helper.overrideNearFarZ(e,t);}clearNearFarZOverride(){this._helper.clearNearFarZOverride();}getCameraQueryGeometry(e){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),e)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}get isGlobeRendering(){return this._globeness>0}setTransitionState(e,t){this._globeness=e,this._globeLatitudeErrorCorrectionRadians=t,this._calcMatrices(),this._verticalPerspectiveTransform.getCoveringTilesDetailsProvider().prepareNextFrame(),this._mercatorTransform.getCoveringTilesDetailsProvider().prepareNextFrame();}get currentTransform(){return this.isGlobeRendering?this._verticalPerspectiveTransform:this._mercatorTransform}constructor(){this._globeLatitudeErrorCorrectionRadians=0,this._globeness=1,this._helper=new Rt({calcMatrices:()=>{this._calcMatrices();},getConstrained:(e,t)=>this.getConstrained(e,t)}),this._globeness=1,this._mercatorTransform=new Lt,this._verticalPerspectiveTransform=new fi;}clone(){const e=new gi;return e._globeness=this._globeness,e._globeLatitudeErrorCorrectionRadians=this._globeLatitudeErrorCorrectionRadians,e.apply(this),e}apply(e){this._helper.apply(e),this._mercatorTransform.apply(this),this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians);}get projectionMatrix(){return this.currentTransform.projectionMatrix}get modelViewProjectionMatrix(){return this.currentTransform.modelViewProjectionMatrix}get inverseProjectionMatrix(){return this.currentTransform.inverseProjectionMatrix}get cameraPosition(){return this.currentTransform.cameraPosition}getProjectionData(e){const t=this._mercatorTransform.getProjectionData(e),i=this._verticalPerspectiveTransform.getProjectionData(e);return {mainMatrix:this.isGlobeRendering?i.mainMatrix:t.mainMatrix,clippingPlane:i.clippingPlane,tileMercatorCoords:i.tileMercatorCoords,projectionTransition:e.applyGlobeMatrix?this._globeness:0,fallbackMatrix:t.fallbackMatrix}}isLocationOccluded(e){return this.currentTransform.isLocationOccluded(e)}transformLightDirection(e){return this.currentTransform.transformLightDirection(e)}getPixelScale(){return t.bj(this._mercatorTransform.getPixelScale(),this._verticalPerspectiveTransform.getPixelScale(),this._globeness)}getCircleRadiusCorrection(){return t.bj(this._mercatorTransform.getCircleRadiusCorrection(),this._verticalPerspectiveTransform.getCircleRadiusCorrection(),this._globeness)}getPitchedTextCorrection(e,i,o){const r=this._mercatorTransform.getPitchedTextCorrection(e,i,o),a=this._verticalPerspectiveTransform.getPitchedTextCorrection(e,i,o);return t.bj(r,a,this._globeness)}projectTileCoordinates(e,t,i,o){return this.currentTransform.projectTileCoordinates(e,t,i,o)}_calcMatrices(){this._helper._width&&this._helper._height&&(this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians),this._helper._nearZ=this._verticalPerspectiveTransform.nearZ,this._helper._farZ=this._verticalPerspectiveTransform.farZ,this._mercatorTransform.apply(this,!0,this.isGlobeRendering),this._helper._nearZ=this._mercatorTransform.nearZ,this._helper._farZ=this._mercatorTransform.farZ);}calculateFogMatrix(e){return this.currentTransform.calculateFogMatrix(e)}getVisibleUnwrappedCoordinates(e){return this.currentTransform.getVisibleUnwrappedCoordinates(e)}getCameraFrustum(){return this.currentTransform.getCameraFrustum()}getClippingPlane(){return this.currentTransform.getClippingPlane()}getCoveringTilesDetailsProvider(){return this.currentTransform.getCoveringTilesDetailsProvider()}recalculateZoomAndCenter(e){this._mercatorTransform.recalculateZoomAndCenter(e),this._verticalPerspectiveTransform.recalculateZoomAndCenter(e);}maxPitchScaleFactor(){return this._mercatorTransform.maxPitchScaleFactor()}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(e,t){return this.currentTransform.lngLatToCameraDepth(e,t)}populateCache(e){this._mercatorTransform.populateCache(e),this._verticalPerspectiveTransform.populateCache(e);}getBounds(){return this.currentTransform.getBounds()}getConstrained(e,t){return this.currentTransform.getConstrained(e,t)}calculateCenterFromCameraLngLatAlt(e,t,i,o){return this._helper.calculateCenterFromCameraLngLatAlt(e,t,i,o)}setLocationAtPoint(e,t){if(!this.isGlobeRendering)return this._mercatorTransform.setLocationAtPoint(e,t),void this.apply(this._mercatorTransform);this._verticalPerspectiveTransform.setLocationAtPoint(e,t),this.apply(this._verticalPerspectiveTransform);}locationToScreenPoint(e,t){return this.currentTransform.locationToScreenPoint(e,t)}screenPointToMercatorCoordinate(e,t){return this.currentTransform.screenPointToMercatorCoordinate(e,t)}screenPointToLocation(e,t){return this.currentTransform.screenPointToLocation(e,t)}isPointOnMapSurface(e,t){return this.currentTransform.isPointOnMapSurface(e,t)}getRayDirectionFromPixel(e){return this._verticalPerspectiveTransform.getRayDirectionFromPixel(e)}getMatrixForModel(e,t){return this.currentTransform.getMatrixForModel(e,t)}getProjectionDataForCustomLayer(e=!0){const t=this._mercatorTransform.getProjectionDataForCustomLayer(e);if(!this.isGlobeRendering)return t;const i=this._verticalPerspectiveTransform.getProjectionDataForCustomLayer(e);return i.fallbackMatrix=t.mainMatrix,i}getFastPathSimpleProjectionMatrix(e){return this.currentTransform.getFastPathSimpleProjectionMatrix(e)}}class vi{get useGlobeControls(){return !0}handlePanInertia(e,i){const o=ni(e,i);return Math.abs(o.lng-i.center.lng)>180&&(o.lng=i.center.lng+179.5*Math.sign(o.lng-i.center.lng)),{easingCenter:o,easingOffset:new t.P(0,0)}}handleMapControlsRollPitchBearingZoom(e,i){const o=e.around,r=i.screenPointToLocation(o);e.bearingDelta&&i.setBearing(i.bearing+e.bearingDelta),e.pitchDelta&&i.setPitch(i.pitch+e.pitchDelta),e.rollDelta&&i.setRoll(i.roll+e.rollDelta);const a=i.zoom;e.zoomDelta&&i.setZoom(i.zoom+e.zoomDelta);const s=i.zoom-a;if(0===s)return;const n=t.bz(i.center.lng,r.lng),l=n/(Math.abs(n/180)+1),c=t.bz(i.center.lat,r.lat),h=i.getRayDirectionFromPixel(o),u=i.cameraPosition,d=-1*t.aW(u,h),_=t.bo();t.aR(_,u,[h[0]*d,h[1]*d,h[2]*d]);const p=t.aY(_)-1,m=Math.exp(.5*-Math.max(p-.3,0)),f=oi(i.worldSize,i.center.lat)/Math.min(i.width,i.height),g=t.bm(f,.9,.5,1,.25),v=(1-t.ae(-s))*Math.min(m,g),b=i.center.lat,x=i.zoom,y=new t.S(i.center.lng+l*v,t.ag(i.center.lat+c*v,-85.051129,t.ah));i.setLocationAtPoint(r,o);const w=i.center,T=t.bm(Math.abs(n),45,85,0,1),P=t.bm(f,.75,.35,0,1),C=Math.pow(Math.max(T,P),.25),I=t.bz(w.lng,y.lng),M=t.bz(w.lat,y.lat);i.setCenter(new t.S(w.lng+I*C,w.lat+M*C).wrap()),i.setZoom(x+si(b,i.center.lat));}handleMapControlsPan(e,t,i){if(!e.panDelta)return;const o=t.center.lat,r=t.zoom;t.setCenter(ni(e.panDelta,t).wrap()),t.setZoom(r+si(o,t.center.lat));}cameraForBoxAndBearing(e,i,o,r,a){const s=Bt(e,i,o,r,a),n=i.left/a.width*2-1,l=(a.width-i.right)/a.width*2-1,c=i.top/a.height*-2+1,h=(a.height-i.bottom)/a.height*-2+1,u=t.bz(o.getWest(),o.getEast())<0,d=u?o.getEast():o.getWest(),_=u?o.getWest():o.getEast(),p=Math.max(o.getNorth(),o.getSouth()),m=Math.min(o.getNorth(),o.getSouth()),f=d+.5*t.bz(d,_),g=p+.5*t.bz(p,m),v=a.clone();v.setCenter(s.center),v.setBearing(s.bearing),v.setPitch(0),v.setRoll(0),v.setZoom(s.zoom);const b=v.modelViewProjectionMatrix,x=[ii(o.getNorthWest()),ii(o.getNorthEast()),ii(o.getSouthWest()),ii(o.getSouthEast()),ii(new t.S(_,g)),ii(new t.S(d,g)),ii(new t.S(f,p)),ii(new t.S(f,m))],y=ii(s.center);let w=Number.POSITIVE_INFINITY;for(const e of x)n<0&&(w=vi.getLesserNonNegativeNonNull(w,vi.solveVectorScale(e,y,b,"x",n))),l>0&&(w=vi.getLesserNonNegativeNonNull(w,vi.solveVectorScale(e,y,b,"x",l))),c>0&&(w=vi.getLesserNonNegativeNonNull(w,vi.solveVectorScale(e,y,b,"y",c))),h<0&&(w=vi.getLesserNonNegativeNonNull(w,vi.solveVectorScale(e,y,b,"y",h)));if(Number.isFinite(w)&&0!==w)return s.zoom=v.zoom+t.aj(w),s;kt();}handleJumpToCenterZoom(e,i){const o=e.center.lat,r=e.getConstrained(i.center?t.S.convert(i.center):e.center,e.zoom).center;e.setCenter(r.wrap());const a=void 0!==i.zoom?+i.zoom:e.zoom+si(o,r.lat);e.zoom!==a&&e.setZoom(a);}handleEaseTo(e,i){const o=e.zoom,r=e.center,a=e.padding,s={roll:e.roll,pitch:e.pitch,bearing:e.bearing},n={roll:void 0===i.roll?e.roll:i.roll,pitch:void 0===i.pitch?e.pitch:i.pitch,bearing:void 0===i.bearing?e.bearing:i.bearing},l=void 0!==i.zoom,c=!e.isPaddingEqual(i.padding);let h=!1;const u=i.center?t.S.convert(i.center):r,d=e.getConstrained(u,o).center;St(e,d);const _=e.clone();_.setCenter(d),_.setZoom(l?+i.zoom:o+si(r.lat,u.lat)),_.setBearing(i.bearing);const p=new t.P(t.ag(e.centerPoint.x+i.offsetAsPoint.x,0,e.width),t.ag(e.centerPoint.y+i.offsetAsPoint.y,0,e.height));_.setLocationAtPoint(d,p);const m=(i.offset&&i.offsetAsPoint.mag())>0?_.center:d,f=l?+i.zoom:o+si(r.lat,m.lat),g=o+si(r.lat,0),v=f+si(m.lat,0),b=t.bz(r.lng,m.lng),x=t.bz(r.lat,m.lat),y=t.ae(v-g);return h=f!==o,{easeFunc:o=>{if(t.bd(s,n)||Ft({startEulerAngles:s,endEulerAngles:n,tr:e,k:o,useSlerp:s.roll!=n.roll}),c&&e.interpolatePadding(a,i.padding,o),i.around)t.w("Easing around a point is not supported under globe projection."),e.setLocationAtPoint(i.around,i.aroundPoint);else {const t=v>g?Math.min(2,y):Math.max(.5,y),i=Math.pow(t,1-o),a=ci(r,b,x,o*i);e.setCenter(a.wrap());}if(h){const i=t.C.number(g,v,o)+si(0,e.center.lat);e.setZoom(i);}},isZooming:h,elevationCenter:m}}handleFlyTo(e,i){const o=void 0!==i.zoom,r=e.center,a=e.zoom,s=e.padding,n=!e.isPaddingEqual(i.padding),l=e.getConstrained(t.S.convert(i.center||i.locationAtOffset),a).center,c=o?+i.zoom:e.zoom+si(e.center.lat,l.lat),h=e.clone();h.setCenter(l),h.setZoom(c),h.setBearing(i.bearing);const u=new t.P(t.ag(e.centerPoint.x+i.offsetAsPoint.x,0,e.width),t.ag(e.centerPoint.y+i.offsetAsPoint.y,0,e.height));h.setLocationAtPoint(l,u);const d=h.center;St(e,d);const _=function(e,i,o){const r=ii(i),a=ii(o),s=t.aW(r,a),n=Math.acos(s),l=ei(e);return n/(2*Math.PI)*l}(e,r,d),p=a+si(r.lat,0),m=c+si(d.lat,0),f=t.ae(m-p);let g;if("number"==typeof i.minZoom){const o=+i.minZoom+si(d.lat,0),r=Math.min(o,p,m)+si(0,d.lat),a=e.getConstrained(d,r).zoom+si(d.lat,0);g=t.ae(a-p);}const v=t.bz(r.lng,d.lng),b=t.bz(r.lat,d.lat);return {easeFunc:(o,a,l,h)=>{const u=ci(r,v,b,l);n&&e.interpolatePadding(s,i.padding,o);const _=1===o?d:u;e.setCenter(_.wrap());const m=p+t.aj(a);e.setZoom(1===o?c:m+si(0,_.lat));},scaleOfZoom:f,targetCenter:d,scaleOfMinZoom:g,pixelPathLength:_}}static solveVectorScale(e,t,i,o,r){const a="x"===o?[i[0],i[4],i[8],i[12]]:[i[1],i[5],i[9],i[13]],s=[i[3],i[7],i[11],i[15]],n=e[0]*a[0]+e[1]*a[1]+e[2]*a[2],l=e[0]*s[0]+e[1]*s[1]+e[2]*s[2],c=t[0]*a[0]+t[1]*a[1]+t[2]*a[2],h=t[0]*s[0]+t[1]*s[1]+t[2]*s[2];return c+r*l===n+r*h||s[3]*(n-c)+a[3]*(h-l)+n*h==c*l?null:(c+a[3]-r*h-r*s[3])/(c-n-r*h+r*l)}static getLesserNonNegativeNonNull(e,t){return null!==t&&t>=0&&t<e?t:e}}class bi{constructor(e){this._globe=e,this._mercatorCameraHelper=new Ot,this._verticalPerspectiveCameraHelper=new vi;}get useGlobeControls(){return this._globe.useGlobeRendering}get currentHelper(){return this.useGlobeControls?this._verticalPerspectiveCameraHelper:this._mercatorCameraHelper}handlePanInertia(e,t){return this.currentHelper.handlePanInertia(e,t)}handleMapControlsRollPitchBearingZoom(e,t){return this.currentHelper.handleMapControlsRollPitchBearingZoom(e,t)}handleMapControlsPan(e,t,i){this.currentHelper.handleMapControlsPan(e,t,i);}cameraForBoxAndBearing(e,t,i,o,r){return this.currentHelper.cameraForBoxAndBearing(e,t,i,o,r)}handleJumpToCenterZoom(e,t){this.currentHelper.handleJumpToCenterZoom(e,t);}handleEaseTo(e,t){return this.currentHelper.handleEaseTo(e,t)}handleFlyTo(e,t){return this.currentHelper.handleFlyTo(e,t)}}const xi=(e,i)=>t.y(e,i&&i.filter((e=>"source.canvas"!==e.identifier))),yi=t.bD();class wi extends t.E{constructor(e,i={}){super(),this._rtlPluginLoaded=()=>{for(const e in this.sourceCaches){const t=this.sourceCaches[e].getSource().type;"vector"!==t&&"geojson"!==t||this.sourceCaches[e].reload();}},this.map=e,this.dispatcher=new F(k(),e._getMapId()),this.dispatcher.registerMessageHandler("GG",((e,t)=>this.getGlyphs(e,t))),this.dispatcher.registerMessageHandler("GI",((e,t)=>this.getImages(e,t))),this.imageManager=new b,this.imageManager.setEventedParent(this),this.glyphManager=new T(e._requestManager,i.localIdeographFontFamily),this.lineAtlas=new E(256,512),this.crossTileSymbolIndex=new vt,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new t.bE,this._loaded=!1,this._availableImages=[],this._globalState={},this._resetUpdates(),this.dispatcher.broadcast("SR",t.bF()),oe().on(ee,this._rtlPluginLoaded),this.on("data",(e=>{if("source"!==e.dataType||"metadata"!==e.sourceDataType)return;const t=this.sourceCaches[e.sourceId];if(!t)return;const i=t.getSource();if(i&&i.vectorLayerIds)for(const e in this._layers){const t=this._layers[e];t.source===i.id&&this._validateLayer(t);}}));}setGlobalStateProperty(e,i){var o,r,a;this._checkLoaded();const s=null===i?null!==(a=null===(r=null===(o=this.stylesheet.state)||void 0===o?void 0:o[e])||void 0===r?void 0:r.default)&&void 0!==a?a:null:i;if(t.bG(s,this._globalState[e]))return this;this._globalState[e]=s;const n=this._findGlobalStateAffectedSources([e]);for(const e in this.sourceCaches)n.has(e)&&(this._reloadSource(e),this._changed=!0);}getGlobalState(){return this._globalState}setGlobalState(e){this._checkLoaded();const i=[];for(const o in e)!t.bG(this._globalState[o],e[o].default)&&(i.push(o),this._globalState[o]=e[o].default);const o=this._findGlobalStateAffectedSources(i);for(const e in this.sourceCaches)o.has(e)&&(this._reloadSource(e),this._changed=!0);}_findGlobalStateAffectedSources(e){if(0===e.length)return new Set;const t=new Set;for(const i in this._layers){const o=this._layers[i],r=o.getLayoutAffectingGlobalStateRefs();for(const i of e)r.has(i)&&t.add(o.source);}return t}loadURL(e,i={},o){this.fire(new t.l("dataloading",{dataType:"style"})),i.validate="boolean"!=typeof i.validate||i.validate;const r=this.map._requestManager.transformRequest(e,"Style");this._loadStyleRequest=new AbortController;const a=this._loadStyleRequest;t.j(r,this._loadStyleRequest).then((e=>{this._loadStyleRequest=null,this._load(e.data,i,o);})).catch((e=>{this._loadStyleRequest=null,e&&!a.signal.aborted&&this.fire(new t.k(e));}));}loadJSON(e,i={},o){this.fire(new t.l("dataloading",{dataType:"style"})),this._frameRequest=new AbortController,s.frameAsync(this._frameRequest).then((()=>{this._frameRequest=null,i.validate=!1!==i.validate,this._load(e,i,o);})).catch((()=>{}));}loadEmpty(){this.fire(new t.l("dataloading",{dataType:"style"})),this._load(yi,{validate:!1});}_load(e,i,o){var r,a,s;const n=i.transformStyle?i.transformStyle(o,e):e;if(!i.validate||!xi(this,t.z(n))){this._loaded=!0,this.stylesheet=n;for(const e in n.sources)this.addSource(e,n.sources[e],{validate:!1});n.sprite?this._loadSprite(n.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(n.glyphs),this._createLayers(),this.light=new I(this.stylesheet.light),this._setProjectionInternal((null===(r=this.stylesheet.projection)||void 0===r?void 0:r.type)||"mercator"),this.sky=new S(this.stylesheet.sky),this.map.setTerrain(null!==(a=this.stylesheet.terrain)&&void 0!==a?a:null),this.setGlobalState(null!==(s=this.stylesheet.state)&&void 0!==s?s:null),this.fire(new t.l("data",{dataType:"style"})),this.fire(new t.l("style.load"));}}_createLayers(){const e=t.bH(this.stylesheet.layers);this.dispatcher.broadcast("SL",e),this._order=e.map((e=>e.id)),this._layers={},this._serializedLayers=null;for(const i of e){const e=t.bI(i);e.setEventedParent(this,{layer:{id:i.id}}),this._layers[i.id]=e;}}_loadSprite(e,i=!1,o=void 0){let r;this.imageManager.setLoaded(!1),this._spriteRequest=new AbortController,function(e,i,o,r){return t._(this,void 0,void 0,(function*(){const a=f(e),n=o>1?"@2x":"",l={},c={};for(const{id:e,url:o}of a){const a=i.transformRequest(g(o,n,".json"),"SpriteJSON");l[e]=t.j(a,r);const s=i.transformRequest(g(o,n,".png"),"SpriteImage");c[e]=p.getImage(s,r);}return yield Promise.all([...Object.values(l),...Object.values(c)]),function(e,i){return t._(this,void 0,void 0,(function*(){const t={};for(const o in e){t[o]={};const r=s.getImageCanvasContext((yield i[o]).data),a=(yield e[o]).data;for(const e in a){const{width:i,height:s,x:n,y:l,sdf:c,pixelRatio:h,stretchX:u,stretchY:d,content:_,textFitWidth:p,textFitHeight:m}=a[e];t[o][e]={data:null,pixelRatio:h,sdf:c,stretchX:u,stretchY:d,content:_,textFitWidth:p,textFitHeight:m,spriteData:{width:i,height:s,x:n,y:l,context:r}};}}return t}))}(l,c)}))}(e,this.map._requestManager,this.map.getPixelRatio(),this._spriteRequest).then((e=>{if(this._spriteRequest=null,e)for(const t in e){this._spritesImagesIds[t]=[];const o=this._spritesImagesIds[t]?this._spritesImagesIds[t].filter((t=>!(t in e))):[];for(const e of o)this.imageManager.removeImage(e),this._changedImages[e]=!0;for(const o in e[t]){const r="default"===t?o:`${t}:${o}`;this._spritesImagesIds[t].push(r),r in this.imageManager.images?this.imageManager.updateImage(r,e[t][o],!1):this.imageManager.addImage(r,e[t][o]),i&&(this._changedImages[r]=!0);}}})).catch((e=>{this._spriteRequest=null,r=e,this.fire(new t.k(r));})).finally((()=>{this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),i&&(this._changed=!0),this.dispatcher.broadcast("SI",this._availableImages),this.fire(new t.l("data",{dataType:"style"})),o&&o(r);}));}_unloadSprite(){for(const e of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(e),this._changedImages[e]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new t.l("data",{dataType:"style"}));}_validateLayer(e){const i=this.sourceCaches[e.source];if(!i)return;const o=e.sourceLayer;if(!o)return;const r=i.getSource();("geojson"===r.type||r.vectorLayerIds&&-1===r.vectorLayerIds.indexOf(o))&&this.fire(new t.k(new Error(`Source layer "${o}" does not exist on source "${r.id}" as specified by style layer "${e.id}".`)));}loaded(){if(!this._loaded)return !1;if(Object.keys(this._updatedSources).length)return !1;for(const e in this.sourceCaches)if(!this.sourceCaches[e].loaded())return !1;return !!this.imageManager.isLoaded()}_serializeByIds(e,i=!1){const o=this._serializedAllLayers();if(!e||0===e.length)return Object.values(i?t.bJ(o):o);const r=[];for(const a of e)if(o[a]){const e=i?t.bJ(o[a]):o[a];r.push(e);}return r}_serializedAllLayers(){let e=this._serializedLayers;if(e)return e;e=this._serializedLayers={};const t=Object.keys(this._layers);for(const i of t){const t=this._layers[i];"custom"!==t.type&&(e[i]=t.serialize());}return e}hasTransitions(){var e,t,i;if(null===(e=this.light)||void 0===e?void 0:e.hasTransition())return !0;if(null===(t=this.sky)||void 0===t?void 0:t.hasTransition())return !0;if(null===(i=this.projection)||void 0===i?void 0:i.hasTransition())return !0;for(const e in this.sourceCaches)if(this.sourceCaches[e].hasTransition())return !0;for(const e in this._layers)if(this._layers[e].hasTransition())return !0;return !1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(e){if(!this._loaded)return;const i=this._changed;if(i){const t=Object.keys(this._updatedLayers),i=Object.keys(this._removedLayers);(t.length||i.length)&&this._updateWorkerLayers(t,i);for(const e in this._updatedSources){const t=this._updatedSources[e];if("reload"===t)this._reloadSource(e);else {if("clear"!==t)throw new Error(`Invalid action ${t}`);this._clearSource(e);}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const t in this._updatedPaintProps)this._layers[t].updateTransitions(e);this.light.updateTransitions(e),this.sky.updateTransitions(e),this._resetUpdates();}const o={};for(const e in this.sourceCaches){const t=this.sourceCaches[e];o[e]=t.used,t.used=!1;}for(const t of this._order){const i=this._layers[t];i.recalculate(e,this._availableImages),!i.isHidden(e.zoom)&&i.source&&(this.sourceCaches[i.source].used=!0);}for(const e in o){const i=this.sourceCaches[e];!!o[e]!=!!i.used&&i.fire(new t.l("data",{sourceDataType:"visibility",dataType:"source",sourceId:e}));}this.light.recalculate(e),this.sky.recalculate(e),this.projection.recalculate(e),this.z=e.zoom,i&&this.fire(new t.l("data",{dataType:"style"}));}_updateTilesForChangedImages(){const e=Object.keys(this._changedImages);if(e.length){for(const t in this.sourceCaches)this.sourceCaches[t].reloadTilesForDependencies(["icons","patterns"],e);this._changedImages={};}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const e in this.sourceCaches)this.sourceCaches[e].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1;}}_updateWorkerLayers(e,t){this.dispatcher.broadcast("UL",{layers:this._serializeByIds(e,!1),removedIds:t});}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1;}setState(e,i={}){var o;this._checkLoaded();const r=this.serialize();if(e=i.transformStyle?i.transformStyle(r,e):e,(null===(o=i.validate)||void 0===o||o)&&xi(this,t.z(e)))return !1;(e=t.bJ(e)).layers=t.bH(e.layers);const a=t.bK(r,e),s=this._getOperationsToPerform(a);if(s.unimplemented.length>0)throw new Error(`Unimplemented: ${s.unimplemented.join(", ")}.`);if(0===s.operations.length)return !1;for(const e of s.operations)e();return this.stylesheet=e,this._serializedLayers=null,!0}_getOperationsToPerform(e){const t=[],i=[];for(const o of e)switch(o.command){case "setCenter":case "setZoom":case "setBearing":case "setPitch":case "setRoll":continue;case "addLayer":t.push((()=>this.addLayer.apply(this,o.args)));break;case "removeLayer":t.push((()=>this.removeLayer.apply(this,o.args)));break;case "setPaintProperty":t.push((()=>this.setPaintProperty.apply(this,o.args)));break;case "setLayoutProperty":t.push((()=>this.setLayoutProperty.apply(this,o.args)));break;case "setFilter":t.push((()=>this.setFilter.apply(this,o.args)));break;case "addSource":t.push((()=>this.addSource.apply(this,o.args)));break;case "removeSource":t.push((()=>this.removeSource.apply(this,o.args)));break;case "setLayerZoomRange":t.push((()=>this.setLayerZoomRange.apply(this,o.args)));break;case "setLight":t.push((()=>this.setLight.apply(this,o.args)));break;case "setGeoJSONSourceData":t.push((()=>this.setGeoJSONSourceData.apply(this,o.args)));break;case "setGlyphs":t.push((()=>this.setGlyphs.apply(this,o.args)));break;case "setSprite":t.push((()=>this.setSprite.apply(this,o.args)));break;case "setTerrain":t.push((()=>this.map.setTerrain.apply(this,o.args)));break;case "setSky":t.push((()=>this.setSky.apply(this,o.args)));break;case "setProjection":this.setProjection.apply(this,o.args);break;case "setGlobalState":t.push((()=>this.setGlobalState.apply(this,o.args)));break;case "setTransition":t.push((()=>{}));break;default:i.push(o.command);}return {operations:t,unimplemented:i}}addImage(e,i){if(this.getImage(e))return this.fire(new t.k(new Error(`An image named "${e}" already exists.`)));this.imageManager.addImage(e,i),this._afterImageUpdated(e);}updateImage(e,t){this.imageManager.updateImage(e,t);}getImage(e){return this.imageManager.getImage(e)}removeImage(e){if(!this.getImage(e))return this.fire(new t.k(new Error(`An image named "${e}" does not exist.`)));this.imageManager.removeImage(e),this._afterImageUpdated(e);}_afterImageUpdated(e){this._availableImages=this.imageManager.listImages(),this._changedImages[e]=!0,this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new t.l("data",{dataType:"style"}));}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(e,i,o={}){if(this._checkLoaded(),void 0!==this.sourceCaches[e])throw new Error(`Source "${e}" already exists.`);if(!i.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(i).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(i.type)>=0&&this._validate(t.z.source,`sources.${e}`,i,null,o))return;this.map&&this.map._collectResourceTiming&&(i.collectResourceTiming=!0);const r=this.sourceCaches[e]=new xe(e,i,this.dispatcher);r.style=this,r.setEventedParent(this,(()=>({isSourceLoaded:r.loaded(),source:r.serialize(),sourceId:e}))),r.onAdd(this.map),this._changed=!0;}removeSource(e){if(this._checkLoaded(),void 0===this.sourceCaches[e])throw new Error("There is no source with this ID");for(const i in this._layers)if(this._layers[i].source===e)return this.fire(new t.k(new Error(`Source "${e}" cannot be removed while layer "${i}" is using it.`)));const i=this.sourceCaches[e];delete this.sourceCaches[e],delete this._updatedSources[e],i.fire(new t.l("data",{sourceDataType:"metadata",dataType:"source",sourceId:e})),i.setEventedParent(null),i.onRemove(this.map),this._changed=!0;}setGeoJSONSourceData(e,t){if(this._checkLoaded(),void 0===this.sourceCaches[e])throw new Error(`There is no source with this ID=${e}`);const i=this.sourceCaches[e].getSource();if("geojson"!==i.type)throw new Error(`geojsonSource.type is ${i.type}, which is !== 'geojson`);i.setData(t),this._changed=!0;}getSource(e){return this.sourceCaches[e]&&this.sourceCaches[e].getSource()}addLayer(e,i,o={}){this._checkLoaded();const r=e.id;if(this.getLayer(r))return void this.fire(new t.k(new Error(`Layer "${r}" already exists on this map.`)));let a;if("custom"===e.type){if(xi(this,t.bL(e)))return;a=t.bI(e);}else {if("source"in e&&"object"==typeof e.source&&(this.addSource(r,e.source),e=t.bJ(e),e=t.e(e,{source:r})),this._validate(t.z.layer,`layers.${r}`,e,{arrayIndex:-1},o))return;a=t.bI(e),this._validateLayer(a),a.setEventedParent(this,{layer:{id:r}});}const s=i?this._order.indexOf(i):this._order.length;if(i&&-1===s)this.fire(new t.k(new Error(`Cannot add layer "${r}" before non-existing layer "${i}".`)));else {if(this._order.splice(s,0,r),this._layerOrderChanged=!0,this._layers[r]=a,this._removedLayers[r]&&a.source&&"custom"!==a.type){const e=this._removedLayers[r];delete this._removedLayers[r],e.type!==a.type?this._updatedSources[a.source]="clear":(this._updatedSources[a.source]="reload",this.sourceCaches[a.source].pause());}this._updateLayer(a),a.onAdd&&a.onAdd(this.map);}}moveLayer(e,i){if(this._checkLoaded(),this._changed=!0,!this._layers[e])return void this.fire(new t.k(new Error(`The layer '${e}' does not exist in the map's style and cannot be moved.`)));if(e===i)return;const o=this._order.indexOf(e);this._order.splice(o,1);const r=i?this._order.indexOf(i):this._order.length;i&&-1===r?this.fire(new t.k(new Error(`Cannot move layer "${e}" before non-existing layer "${i}".`))):(this._order.splice(r,0,e),this._layerOrderChanged=!0);}removeLayer(e){this._checkLoaded();const i=this._layers[e];if(!i)return void this.fire(new t.k(new Error(`Cannot remove non-existing layer "${e}".`)));i.setEventedParent(null);const o=this._order.indexOf(e);this._order.splice(o,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[e]=i,delete this._layers[e],this._serializedLayers&&delete this._serializedLayers[e],delete this._updatedLayers[e],delete this._updatedPaintProps[e],i.onRemove&&i.onRemove(this.map);}getLayer(e){return this._layers[e]}getLayersOrder(){return [...this._order]}hasLayer(e){return e in this._layers}setLayerZoomRange(e,i,o){this._checkLoaded();const r=this.getLayer(e);r?r.minzoom===i&&r.maxzoom===o||(null!=i&&(r.minzoom=i),null!=o&&(r.maxzoom=o),this._updateLayer(r)):this.fire(new t.k(new Error(`Cannot set the zoom range of non-existing layer "${e}".`)));}setFilter(e,i,o={}){this._checkLoaded();const r=this.getLayer(e);if(r){if(!t.bG(r.filter,i))return null==i?(r.setFilter(void 0),void this._updateLayer(r)):void(this._validate(t.z.filter,`layers.${r.id}.filter`,i,null,o)||(r.setFilter(t.bJ(i)),this._updateLayer(r)))}else this.fire(new t.k(new Error(`Cannot filter non-existing layer "${e}".`)));}getFilter(e){return t.bJ(this.getLayer(e).filter)}setLayoutProperty(e,i,o,r={}){this._checkLoaded();const a=this.getLayer(e);a?t.bG(a.getLayoutProperty(i),o)||(a.setLayoutProperty(i,o,r),this._updateLayer(a)):this.fire(new t.k(new Error(`Cannot style non-existing layer "${e}".`)));}getLayoutProperty(e,i){const o=this.getLayer(e);if(o)return o.getLayoutProperty(i);this.fire(new t.k(new Error(`Cannot get style of non-existing layer "${e}".`)));}setPaintProperty(e,i,o,r={}){this._checkLoaded();const a=this.getLayer(e);a?t.bG(a.getPaintProperty(i),o)||(a.setPaintProperty(i,o,r)&&this._updateLayer(a),this._changed=!0,this._updatedPaintProps[e]=!0,this._serializedLayers=null):this.fire(new t.k(new Error(`Cannot style non-existing layer "${e}".`)));}getPaintProperty(e,t){return this.getLayer(e).getPaintProperty(t)}setFeatureState(e,i){this._checkLoaded();const o=e.source,r=e.sourceLayer,a=this.sourceCaches[o];if(void 0===a)return void this.fire(new t.k(new Error(`The source '${o}' does not exist in the map's style.`)));const s=a.getSource().type;"geojson"===s&&r?this.fire(new t.k(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==s||r?(void 0===e.id&&this.fire(new t.k(new Error("The feature id parameter must be provided."))),a.setFeatureState(r,e.id,i)):this.fire(new t.k(new Error("The sourceLayer parameter must be provided for vector source types.")));}removeFeatureState(e,i){this._checkLoaded();const o=e.source,r=this.sourceCaches[o];if(void 0===r)return void this.fire(new t.k(new Error(`The source '${o}' does not exist in the map's style.`)));const a=r.getSource().type,s="vector"===a?e.sourceLayer:void 0;"vector"!==a||s?i&&"string"!=typeof e.id&&"number"!=typeof e.id?this.fire(new t.k(new Error("A feature id is required to remove its specific state property."))):r.removeFeatureState(s,e.id,i):this.fire(new t.k(new Error("The sourceLayer parameter must be provided for vector source types.")));}getFeatureState(e){this._checkLoaded();const i=e.source,o=e.sourceLayer,r=this.sourceCaches[i];if(void 0!==r)return "vector"!==r.getSource().type||o?(void 0===e.id&&this.fire(new t.k(new Error("The feature id parameter must be provided."))),r.getFeatureState(o,e.id)):void this.fire(new t.k(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new t.k(new Error(`The source '${i}' does not exist in the map's style.`)));}getTransition(){return t.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const e=t.bM(this.sourceCaches,(e=>e.serialize())),i=this._serializeByIds(this._order,!0),o=this.map.getTerrain()||void 0,r=this.stylesheet;return t.bN({version:r.version,name:r.name,metadata:r.metadata,light:r.light,sky:r.sky,center:r.center,zoom:r.zoom,bearing:r.bearing,pitch:r.pitch,sprite:r.sprite,glyphs:r.glyphs,transition:r.transition,projection:r.projection,sources:e,layers:i,terrain:o},(e=>void 0!==e))}_updateLayer(e){this._updatedLayers[e.id]=!0,e.source&&!this._updatedSources[e.source]&&"raster"!==this.sourceCaches[e.source].getSource().type&&(this._updatedSources[e.source]="reload",this.sourceCaches[e.source].pause()),this._serializedLayers=null,this._changed=!0;}_flattenAndSortRenderedFeatures(e){const t=e=>"fill-extrusion"===this._layers[e].type,i={},o=[];for(let r=this._order.length-1;r>=0;r--){const a=this._order[r];if(t(a)){i[a]=r;for(const t of e){const e=t[a];if(e)for(const t of e)o.push(t);}}}o.sort(((e,t)=>t.intersectionZ-e.intersectionZ));const r=[];for(let a=this._order.length-1;a>=0;a--){const s=this._order[a];if(t(s))for(let e=o.length-1;e>=0;e--){const t=o[e].feature;if(i[t.layer.id]<a)break;r.push(t),o.pop();}else for(const t of e){const e=t[s];if(e)for(const t of e)r.push(t.feature);}}return r}queryRenderedFeatures(e,i,o){i&&i.filter&&this._validate(t.z.filter,"queryRenderedFeatures.filter",i.filter,null,i);const r={};if(i&&i.layers){if(!(Array.isArray(i.layers)||i.layers instanceof Set))return this.fire(new t.k(new Error("parameters.layers must be an Array or a Set of strings"))),[];for(const e of i.layers){const i=this._layers[e];if(!i)return this.fire(new t.k(new Error(`The layer '${e}' does not exist in the map's style and cannot be queried for features.`))),[];r[i.source]=!0;}}const a=[];i.availableImages=this._availableImages;const s=this._serializedAllLayers(),n=i.layers instanceof Set?i.layers:Array.isArray(i.layers)?new Set(i.layers):null,l=Object.assign(Object.assign({},i),{layers:n});for(const t in this.sourceCaches)i.layers&&!r[t]||a.push(j(this.sourceCaches[t],this._layers,s,e,l,o,this.map.terrain?(e,t,i)=>this.map.terrain.getElevation(e,t,i):void 0));return this.placement&&a.push(function(e,t,i,o,r,a,s){const n={},l=a.queryRenderedSymbols(o),c=[];for(const e of Object.keys(l).map(Number))c.push(s[e]);c.sort(N);for(const i of c){const o=i.featureIndex.lookupSymbolFeatures(l[i.bucketInstanceId],t,i.bucketIndex,i.sourceLayerIndex,r.filter,r.layers,r.availableImages,e);for(const e in o){const t=n[e]=n[e]||[],r=o[e];r.sort(((e,t)=>{const o=i.featureSortOrder;if(o){const i=o.indexOf(e.featureIndex);return o.indexOf(t.featureIndex)-i}return t.featureIndex-e.featureIndex}));for(const e of r)t.push(e);}}return function(e,t,i){for(const o in e)for(const r of e[o])Z(r,i[t[o].source]);return e}(n,e,i)}(this._layers,s,this.sourceCaches,e,l,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(a)}querySourceFeatures(e,i){i&&i.filter&&this._validate(t.z.filter,"querySourceFeatures.filter",i.filter,null,i);const o=this.sourceCaches[e];return o?function(e,t){const i=e.getRenderableIds().map((t=>e.getTileByID(t))),o=[],r={};for(let e=0;e<i.length;e++){const a=i[e],s=a.tileID.canonical.key;r[s]||(r[s]=!0,a.querySourceFeatures(o,t));}return o}(o,i):[]}getLight(){return this.light.getLight()}setLight(e,i={}){this._checkLoaded();const o=this.light.getLight();let r=!1;for(const i in e)if(!t.bG(e[i],o[i])){r=!0;break}if(!r)return;const a={now:s.now(),transition:t.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(e,i),this.light.updateTransitions(a);}getProjection(){var e;return null===(e=this.stylesheet)||void 0===e?void 0:e.projection}setProjection(e){if(this._checkLoaded(),this.projection){if(this.projection.name===e.type)return;this.projection.destroy(),delete this.projection;}this.stylesheet.projection=e,this._setProjectionInternal(e.type);}getSky(){var e;return null===(e=this.stylesheet)||void 0===e?void 0:e.sky}setSky(e,i={}){this._checkLoaded();const o=this.getSky();let r=!1;if(!e&&!o)return;if(e&&!o)r=!0;else if(!e&&o)r=!0;else for(const i in e)if(!t.bG(e[i],o[i])){r=!0;break}if(!r)return;const a={now:s.now(),transition:t.e({duration:300,delay:0},this.stylesheet.transition)};this.stylesheet.sky=e,this.sky.setSky(e,i),this.sky.updateTransitions(a);}_setProjectionInternal(e){const i=function(e){if(Array.isArray(e)){const t=new Jt({type:e});return {projection:t,transform:new gi,cameraHelper:new bi(t)}}switch(e){case "mercator":return {projection:new It,transform:new Lt,cameraHelper:new Ot};case "globe":{const e=new Jt({type:["interpolate",["linear"],["zoom"],11,"vertical-perspective",12,"mercator"]});return {projection:e,transform:new gi,cameraHelper:new bi(e)}}case "vertical-perspective":return {projection:new Yt,transform:new fi,cameraHelper:new vi};default:return t.w(`Unknown projection name: ${e}. Falling back to mercator projection.`),{projection:new It,transform:new Lt,cameraHelper:new Ot}}}(e);this.projection=i.projection,this.map.migrateProjection(i.transform,i.cameraHelper);for(const e in this.sourceCaches)this.sourceCaches[e].reload();}_validate(e,i,o,r,a={}){return (!a||!1!==a.validate)&&xi(this,e.call(t.z,t.e({key:i,style:this.serialize(),value:o,styleSpec:t.v},r)))}_remove(e=!0){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null),oe().off(ee,this._rtlPluginLoaded);for(const e in this._layers)this._layers[e].setEventedParent(null);for(const e in this.sourceCaches){const t=this.sourceCaches[e];t.setEventedParent(null),t.onRemove(this.map);}this.imageManager.setEventedParent(null),this.setEventedParent(null),e&&this.dispatcher.broadcast("RM",void 0),this.dispatcher.remove(e);}_clearSource(e){this.sourceCaches[e].clearTiles();}_reloadSource(e){this.sourceCaches[e].resume(),this.sourceCaches[e].reload();}_updateSources(e){for(const t in this.sourceCaches)this.sourceCaches[t].update(e,this.map.terrain);}_generateCollisionBoxes(){for(const e in this.sourceCaches)this._reloadSource(e);}_updatePlacement(e,t,i,o,r=!1){let a=!1,n=!1;const l={};for(const t of this._order){const i=this._layers[t];if("symbol"!==i.type)continue;if(!l[i.source]){const e=this.sourceCaches[i.source];l[i.source]=e.getRenderableIds(!0).map((t=>e.getTileByID(t))).sort(((e,t)=>t.tileID.overscaledZ-e.tileID.overscaledZ||(e.tileID.isLessThan(t.tileID)?-1:1)));}const o=this.crossTileSymbolIndex.addLayer(i,l[i.source],e.center.lng);a=a||o;}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((r=r||this._layerOrderChanged||0===i)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(s.now(),e.zoom))&&(this.pauseablePlacement=new _t(e,this.map.terrain,this._order,r,t,i,o,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,l),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(s.now()),n=!0),a&&this.pauseablePlacement.placement.setStale()),n||a)for(const e of this._order){const t=this._layers[e];"symbol"===t.type&&this.placement.updateLayerOpacities(t,l[t.source]);}return !this.pauseablePlacement.isDone()||this.placement.hasTransitions(s.now())}_releaseSymbolFadeTiles(){for(const e in this.sourceCaches)this.sourceCaches[e].releaseSymbolFadeTiles();}getImages(e,i){return t._(this,void 0,void 0,(function*(){const e=yield this.imageManager.getImages(i.icons);this._updateTilesForChangedImages();const t=this.sourceCaches[i.source];return t&&t.setDependencies(i.tileID.key,i.type,i.icons),e}))}getGlyphs(e,i){return t._(this,void 0,void 0,(function*(){const e=yield this.glyphManager.getGlyphs(i.stacks),t=this.sourceCaches[i.source];return t&&t.setDependencies(i.tileID.key,i.type,[""]),e}))}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(e,i={}){this._checkLoaded(),e&&this._validate(t.z.glyphs,"glyphs",e,null,i)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=e,this.glyphManager.entries={},this.glyphManager.setURL(e));}addSprite(e,i,o={},r){this._checkLoaded();const a=[{id:e,url:i}],s=[...f(this.stylesheet.sprite),...a];this._validate(t.z.sprite,"sprite",s,null,o)||(this.stylesheet.sprite=s,this._loadSprite(a,!0,r));}removeSprite(e){this._checkLoaded();const i=f(this.stylesheet.sprite);if(i.find((t=>t.id===e))){if(this._spritesImagesIds[e])for(const t of this._spritesImagesIds[e])this.imageManager.removeImage(t),this._changedImages[t]=!0;i.splice(i.findIndex((t=>t.id===e)),1),this.stylesheet.sprite=i.length>0?i:void 0,delete this._spritesImagesIds[e],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new t.l("data",{dataType:"style"}));}else this.fire(new t.k(new Error(`Sprite "${e}" doesn't exists on this map.`)));}getSprite(){return f(this.stylesheet.sprite)}setSprite(e,i={},o){this._checkLoaded(),e&&this._validate(t.z.sprite,"sprite",e,null,i)||(this.stylesheet.sprite=e,e?this._loadSprite(e,!0,o):(this._unloadSprite(),o&&o(null)));}}var Ti=t.aI([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class Pi{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null;}bind(e,t,i,o,r,a,s,n,l){this.context=e;let c=this.boundPaintVertexBuffers.length!==o.length;for(let e=0;!c&&e<o.length;e++)this.boundPaintVertexBuffers[e]!==o[e]&&(c=!0);!this.vao||this.boundProgram!==t||this.boundLayoutVertexBuffer!==i||c||this.boundIndexBuffer!==r||this.boundVertexOffset!==a||this.boundDynamicVertexBuffer!==s||this.boundDynamicVertexBuffer2!==n||this.boundDynamicVertexBuffer3!==l?this.freshBind(t,i,o,r,a,s,n,l):(e.bindVertexArray.set(this.vao),s&&s.bind(),r&&r.dynamicDraw&&r.bind(),n&&n.bind(),l&&l.bind());}freshBind(e,t,i,o,r,a,s,n){const l=e.numAttributes,c=this.context,h=c.gl;this.vao&&this.destroy(),this.vao=c.createVertexArray(),c.bindVertexArray.set(this.vao),this.boundProgram=e,this.boundLayoutVertexBuffer=t,this.boundPaintVertexBuffers=i,this.boundIndexBuffer=o,this.boundVertexOffset=r,this.boundDynamicVertexBuffer=a,this.boundDynamicVertexBuffer2=s,this.boundDynamicVertexBuffer3=n,t.enableAttributes(h,e);for(const t of i)t.enableAttributes(h,e);a&&a.enableAttributes(h,e),s&&s.enableAttributes(h,e),n&&n.enableAttributes(h,e),t.bind(),t.setVertexAttribPointers(h,e,r);for(const t of i)t.bind(),t.setVertexAttribPointers(h,e,r);a&&(a.bind(),a.setVertexAttribPointers(h,e,r)),o&&o.bind(),s&&(s.bind(),s.setVertexAttribPointers(h,e,r)),n&&(n.bind(),n.setVertexAttribPointers(h,e,r)),c.currentNumAttributes=l;}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null);}}const Ci=(e,i,o,r,a)=>({u_texture:0,u_ele_delta:e,u_fog_matrix:i,u_fog_color:o?o.properties.get("fog-color"):t.be.white,u_fog_ground_blend:o?o.properties.get("fog-ground-blend"):1,u_fog_ground_blend_opacity:a?0:o?o.calculateFogBlendOpacity(r):0,u_horizon_color:o?o.properties.get("horizon-color"):t.be.white,u_horizon_fog_blend:o?o.properties.get("horizon-fog-blend"):1,u_is_globe_mode:a?1:0}),Ii={mainMatrix:"u_projection_matrix",tileMercatorCoords:"u_projection_tile_mercator_coords",clippingPlane:"u_projection_clipping_plane",projectionTransition:"u_projection_transition",fallbackMatrix:"u_projection_fallback_matrix"};function Mi(e){const t=[];for(let i=0;i<e.length;i++){if(null===e[i])continue;const o=e[i].split(" ");t.push(o.pop());}return t}class Si{constructor(e,i,o,r,a,s,n,l,c=[]){const h=e.gl;this.program=h.createProgram();const u=Mi(i.staticAttributes),d=o?o.getBinderAttributes():[],_=u.concat(d),p=xt.prelude.staticUniforms?Mi(xt.prelude.staticUniforms):[],m=n.staticUniforms?Mi(n.staticUniforms):[],f=i.staticUniforms?Mi(i.staticUniforms):[],g=o?o.getBinderUniforms():[],v=p.concat(m).concat(f).concat(g),b=[];for(const e of v)b.indexOf(e)<0&&b.push(e);const x=o?o.defines():[];qt(h)&&x.unshift("#version 300 es"),a&&x.push("#define OVERDRAW_INSPECTOR;"),s&&x.push("#define TERRAIN3D;"),l&&x.push(l),c&&x.push(...c);let y=x.concat(xt.prelude.fragmentSource,n.fragmentSource,i.fragmentSource).join("\n"),w=x.concat(xt.prelude.vertexSource,n.vertexSource,i.vertexSource).join("\n");qt(h)||(y=function(e){return e.replace(/\bin\s/g,"varying ").replace("out highp vec4 fragColor;","").replace(/fragColor/g,"gl_FragColor").replace(/texture\(/g,"texture2D(")}(y),w=function(e){return e.replace(/\bin\s/g,"attribute ").replace(/\bout\s/g,"varying ").replace(/texture\(/g,"texture2D(")}(w));const T=h.createShader(h.FRAGMENT_SHADER);if(h.isContextLost())return void(this.failedToCreate=!0);if(h.shaderSource(T,y),h.compileShader(T),!h.getShaderParameter(T,h.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${h.getShaderInfoLog(T)}`);h.attachShader(this.program,T);const P=h.createShader(h.VERTEX_SHADER);if(h.isContextLost())return void(this.failedToCreate=!0);if(h.shaderSource(P,w),h.compileShader(P),!h.getShaderParameter(P,h.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${h.getShaderInfoLog(P)}`);h.attachShader(this.program,P),this.attributes={};const C={};this.numAttributes=_.length;for(let e=0;e<this.numAttributes;e++)_[e]&&(h.bindAttribLocation(this.program,e,_[e]),this.attributes[_[e]]=e);if(h.linkProgram(this.program),!h.getProgramParameter(this.program,h.LINK_STATUS))throw new Error(`Program failed to link: ${h.getProgramInfoLog(this.program)}`);h.deleteShader(P),h.deleteShader(T);for(let e=0;e<b.length;e++){const t=b[e];if(t&&!C[t]){const e=h.getUniformLocation(this.program,t);e&&(C[t]=e);}}this.fixedUniforms=r(e,C),this.terrainUniforms=((e,i)=>({u_depth:new t.bO(e,i.u_depth),u_terrain:new t.bO(e,i.u_terrain),u_terrain_dim:new t.bf(e,i.u_terrain_dim),u_terrain_matrix:new t.bQ(e,i.u_terrain_matrix),u_terrain_unpack:new t.bR(e,i.u_terrain_unpack),u_terrain_exaggeration:new t.bf(e,i.u_terrain_exaggeration)}))(e,C),this.projectionUniforms=((e,i)=>({u_projection_matrix:new t.bQ(e,i.u_projection_matrix),u_projection_tile_mercator_coords:new t.bR(e,i.u_projection_tile_mercator_coords),u_projection_clipping_plane:new t.bR(e,i.u_projection_clipping_plane),u_projection_transition:new t.bf(e,i.u_projection_transition),u_projection_fallback_matrix:new t.bQ(e,i.u_projection_fallback_matrix)}))(e,C),this.binderUniforms=o?o.getUniforms(e,C):[];}draw(e,t,i,o,r,a,s,n,l,c,h,u,d,_,p,m,f,g,v){const b=e.gl;if(this.failedToCreate)return;if(e.program.set(this.program),e.setDepthMode(i),e.setStencilMode(o),e.setColorMode(r),e.setCullFace(a),n){e.activeTexture.set(b.TEXTURE2),b.bindTexture(b.TEXTURE_2D,n.depthTexture),e.activeTexture.set(b.TEXTURE3),b.bindTexture(b.TEXTURE_2D,n.texture);for(const e in this.terrainUniforms)this.terrainUniforms[e].set(n[e]);}if(l)for(const e in l)this.projectionUniforms[Ii[e]].set(l[e]);if(s)for(const e in this.fixedUniforms)this.fixedUniforms[e].set(s[e]);m&&m.setUniforms(e,this.binderUniforms,_,{zoom:p});let x=0;switch(t){case b.LINES:x=2;break;case b.TRIANGLES:x=3;break;case b.LINE_STRIP:x=1;}for(const i of d.get()){const o=i.vaos||(i.vaos={});(o[c]||(o[c]=new Pi)).bind(e,this,h,m?m.getPaintVertexBuffers():[],u,i.vertexOffset,f,g,v),b.drawElements(t,i.primitiveLength*x,b.UNSIGNED_SHORT,i.primitiveOffset*x*2);}}}function Ei(e,i,o){const r=1/t.aB(o,1,i.transform.tileZoom),a=Math.pow(2,o.tileID.overscaledZ),s=o.tileSize*Math.pow(2,i.transform.tileZoom)/a,n=s*(o.tileID.canonical.x+o.tileID.wrap*a),l=s*o.tileID.canonical.y;return {u_image:0,u_texsize:o.imageAtlasTexture.size,u_scale:[r,e.fromScale,e.toScale],u_fade:e.t,u_pixel_coord_upper:[n>>16,l>>16],u_pixel_coord_lower:[65535&n,65535&l]}}const Ri=(e,i,o,r)=>{const a=e.style.light,s=a.properties.get("position"),n=[s.x,s.y,s.z],l=t.bU();"viewport"===a.properties.get("anchor")&&t.bV(l,e.transform.bearingInRadians),t.bW(n,n,l);const c=e.transform.transformLightDirection(n),h=a.properties.get("color");return {u_lightpos:n,u_lightpos_globe:c,u_lightintensity:a.properties.get("intensity"),u_lightcolor:[h.r,h.g,h.b],u_vertical_gradient:+i,u_opacity:o,u_fill_translate:r}},zi=(e,i,o,r,a,s,n)=>t.e(Ri(e,i,o,r),Ei(s,e,n),{u_height_factor:-Math.pow(2,a.overscaledZ)/n.tileSize/8}),Di=(e,i,o,r)=>t.e(Ei(i,e,o),{u_fill_translate:r}),Ai=(e,t)=>({u_world:e,u_fill_translate:t}),Li=(e,i,o,r,a)=>t.e(Di(e,i,o,a),{u_world:r}),ki=(e,i,o,r,a)=>{const s=e.transform;let n,l,c=0;if("map"===o.paint.get("circle-pitch-alignment")){const e=t.aB(i,1,s.zoom);n=!0,l=[e,e],c=e/(t.$*Math.pow(2,i.tileID.overscaledZ))*2*Math.PI*a;}else n=!1,l=s.pixelsToGLUnits;return {u_camera_to_center_distance:s.cameraToCenterDistance,u_scale_with_map:+("map"===o.paint.get("circle-pitch-scale")),u_pitch_with_map:+n,u_device_pixel_ratio:e.pixelRatio,u_extrude_scale:l,u_globe_extrude_scale:c,u_translate:r}},Fi=e=>({u_pixel_extrude_scale:[1/e.width,1/e.height]}),Bi=e=>({u_viewport_size:[e.width,e.height]}),Oi=(e,t=1)=>({u_color:e,u_overlay:0,u_overlay_scale:t}),ji=(e,i,o,r)=>{const a=t.aB(e,1,i)/(t.$*Math.pow(2,e.tileID.overscaledZ))*2*Math.PI*r;return {u_extrude_scale:t.aB(e,1,i),u_intensity:o,u_globe_extrude_scale:a}},Ni=(e,i,o,r)=>{const a=t.L();t.bX(a,0,e.width,e.height,0,0,1);const s=e.context.gl;return {u_matrix:a,u_world:[s.drawingBufferWidth,s.drawingBufferHeight],u_image:o,u_color_ramp:r,u_opacity:i.paint.get("heatmap-opacity")}},Zi=(e,t,i)=>{const o=i.paint.get("hillshade-accent-color");let r;switch(i.paint.get("hillshade-method")){case "basic":r=4;break;case "combined":r=1;break;case "igor":r=2;break;case "multidirectional":r=3;break;default:r=0;}const a=i.getIlluminationProperties();for(let t=0;t<a.directionRadians.length;t++)"viewport"===i.paint.get("hillshade-illumination-anchor")&&(a.directionRadians[t]+=e.transform.bearingInRadians);return {u_image:0,u_latrange:Gi(0,t.tileID),u_exaggeration:i.paint.get("hillshade-exaggeration"),u_altitudes:a.altitudeRadians,u_azimuths:a.directionRadians,u_accent:o,u_method:r,u_highlights:a.highlightColor,u_shadows:a.shadowColor}},Ui=(e,i)=>{const o=i.stride,r=t.L();return t.bX(r,0,t.$,-8192,0,0,1),t.M(r,r,[0,-8192,0]),{u_matrix:r,u_image:1,u_dimension:[o,o],u_zoom:e.overscaledZ,u_unpack:i.getUnpackVector()}};function Gi(e,i){const o=Math.pow(2,i.canonical.z),r=i.canonical.y;return [new t.a0(0,r/o).toLngLat().lat,new t.a0(0,(r+1)/o).toLngLat().lat]}const Vi=(e,t)=>({u_image:0,u_unpack:t.getUnpackVector(),u_dimension:[t.stride,t.stride],u_elevation_stops:1,u_color_stops:4,u_opacity:e.paint.get("color-relief-opacity")}),$i=(e,i,o,r)=>{const a=e.transform;return {u_translation:Ki(e,i,o),u_ratio:r/t.aB(i,1,a.zoom),u_device_pixel_ratio:e.pixelRatio,u_units_to_pixels:[1/a.pixelsToGLUnits[0],1/a.pixelsToGLUnits[1]]}},qi=(e,i,o,r,a)=>t.e($i(e,i,o,r),{u_image:0,u_image_height:a}),Wi=(e,i,o,r,a)=>{const s=e.transform,n=Xi(i,s);return {u_translation:Ki(e,i,o),u_texsize:i.imageAtlasTexture.size,u_ratio:r/t.aB(i,1,s.zoom),u_device_pixel_ratio:e.pixelRatio,u_image:0,u_scale:[n,a.fromScale,a.toScale],u_fade:a.t,u_units_to_pixels:[1/s.pixelsToGLUnits[0],1/s.pixelsToGLUnits[1]]}},Hi=(e,i,o,r,a,s)=>{const n=e.lineAtlas,l=Xi(i,e.transform),c="round"===o.layout.get("line-cap"),h=n.getDash(a.from,c),u=n.getDash(a.to,c),d=h.width*s.fromScale,_=u.width*s.toScale;return t.e($i(e,i,o,r),{u_patternscale_a:[l/d,-h.height/2],u_patternscale_b:[l/_,-u.height/2],u_sdfgamma:n.width/(256*Math.min(d,_)*e.pixelRatio)/2,u_image:0,u_tex_y_a:h.y,u_tex_y_b:u.y,u_mix:s.t})};function Xi(e,i){return 1/t.aB(e,1,i.tileZoom)}function Ki(e,i,o){return t.aC(e.transform,i,o.paint.get("line-translate"),o.paint.get("line-translate-anchor"))}const Yi=(e,t,i,o,r)=>{return {u_tl_parent:e,u_scale_parent:t,u_buffer_scale:1,u_fade_t:i.mix,u_opacity:i.opacity*o.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:o.paint.get("raster-brightness-min"),u_brightness_high:o.paint.get("raster-brightness-max"),u_saturation_factor:(s=o.paint.get("raster-saturation"),s>0?1-1/(1.001-s):-s),u_contrast_factor:(a=o.paint.get("raster-contrast"),a>0?1/(1-a):1+a),u_spin_weights:Qi(o.paint.get("raster-hue-rotate")),u_coords_top:[r[0].x,r[0].y,r[1].x,r[1].y],u_coords_bottom:[r[3].x,r[3].y,r[2].x,r[2].y]};var a,s;};function Qi(e){e*=Math.PI/180;const t=Math.sin(e),i=Math.cos(e);return [(2*i+1)/3,(-Math.sqrt(3)*t-i+1)/3,(Math.sqrt(3)*t-i+1)/3]}const Ji=(e,t,i,o,r,a,s,n,l,c,h,u,d)=>{const _=s.transform;return {u_is_size_zoom_constant:+("constant"===e||"source"===e),u_is_size_feature_constant:+("constant"===e||"camera"===e),u_size_t:t?t.uSizeT:0,u_size:t?t.uSize:0,u_camera_to_center_distance:_.cameraToCenterDistance,u_pitch:_.pitch/360*2*Math.PI,u_rotate_symbol:+i,u_aspect_ratio:_.width/_.height,u_fade_change:s.options.fadeDuration?s.symbolFadeChange:1,u_label_plane_matrix:n,u_coord_matrix:l,u_is_text:+h,u_pitch_with_map:+o,u_is_along_line:r,u_is_variable_anchor:a,u_texsize:u,u_texture:0,u_translation:c,u_pitched_scale:d}},eo=(e,i,o,r,a,s,n,l,c,h,u,d,_,p)=>{const m=n.transform;return t.e(Ji(e,i,o,r,a,s,n,l,c,h,u,d,p),{u_gamma_scale:r?Math.cos(m.pitch*Math.PI/180)*m.cameraToCenterDistance:1,u_device_pixel_ratio:n.pixelRatio,u_is_halo:1})},to=(e,i,o,r,a,s,n,l,c,h,u,d,_)=>t.e(eo(e,i,o,r,a,s,n,l,c,h,!0,u,0,_),{u_texsize_icon:d,u_texture_icon:1}),io=(e,t)=>({u_opacity:e,u_color:t}),oo=(e,i,o,r,a)=>t.e(function(e,i,o,r){const a=o.imageManager.getPattern(e.from.toString()),s=o.imageManager.getPattern(e.to.toString()),{width:n,height:l}=o.imageManager.getPixelSize(),c=Math.pow(2,r.tileID.overscaledZ),h=r.tileSize*Math.pow(2,o.transform.tileZoom)/c,u=h*(r.tileID.canonical.x+r.tileID.wrap*c),d=h*r.tileID.canonical.y;return {u_image:0,u_pattern_tl_a:a.tl,u_pattern_br_a:a.br,u_pattern_tl_b:s.tl,u_pattern_br_b:s.br,u_texsize:[n,l],u_mix:i.t,u_pattern_size_a:a.displaySize,u_pattern_size_b:s.displaySize,u_scale_a:i.fromScale,u_scale_b:i.toScale,u_tile_units_to_pixels:1/t.aB(r,1,o.transform.tileZoom),u_pixel_coord_upper:[u>>16,d>>16],u_pixel_coord_lower:[65535&u,65535&d]}}(o,a,i,r),{u_opacity:e}),ro=(e,t)=>{},ao={fillExtrusion:(e,i)=>({u_lightpos:new t.bS(e,i.u_lightpos),u_lightpos_globe:new t.bS(e,i.u_lightpos_globe),u_lightintensity:new t.bf(e,i.u_lightintensity),u_lightcolor:new t.bS(e,i.u_lightcolor),u_vertical_gradient:new t.bf(e,i.u_vertical_gradient),u_opacity:new t.bf(e,i.u_opacity),u_fill_translate:new t.bT(e,i.u_fill_translate)}),fillExtrusionPattern:(e,i)=>({u_lightpos:new t.bS(e,i.u_lightpos),u_lightpos_globe:new t.bS(e,i.u_lightpos_globe),u_lightintensity:new t.bf(e,i.u_lightintensity),u_lightcolor:new t.bS(e,i.u_lightcolor),u_vertical_gradient:new t.bf(e,i.u_vertical_gradient),u_height_factor:new t.bf(e,i.u_height_factor),u_opacity:new t.bf(e,i.u_opacity),u_fill_translate:new t.bT(e,i.u_fill_translate),u_image:new t.bO(e,i.u_image),u_texsize:new t.bT(e,i.u_texsize),u_pixel_coord_upper:new t.bT(e,i.u_pixel_coord_upper),u_pixel_coord_lower:new t.bT(e,i.u_pixel_coord_lower),u_scale:new t.bS(e,i.u_scale),u_fade:new t.bf(e,i.u_fade)}),fill:(e,i)=>({u_fill_translate:new t.bT(e,i.u_fill_translate)}),fillPattern:(e,i)=>({u_image:new t.bO(e,i.u_image),u_texsize:new t.bT(e,i.u_texsize),u_pixel_coord_upper:new t.bT(e,i.u_pixel_coord_upper),u_pixel_coord_lower:new t.bT(e,i.u_pixel_coord_lower),u_scale:new t.bS(e,i.u_scale),u_fade:new t.bf(e,i.u_fade),u_fill_translate:new t.bT(e,i.u_fill_translate)}),fillOutline:(e,i)=>({u_world:new t.bT(e,i.u_world),u_fill_translate:new t.bT(e,i.u_fill_translate)}),fillOutlinePattern:(e,i)=>({u_world:new t.bT(e,i.u_world),u_image:new t.bO(e,i.u_image),u_texsize:new t.bT(e,i.u_texsize),u_pixel_coord_upper:new t.bT(e,i.u_pixel_coord_upper),u_pixel_coord_lower:new t.bT(e,i.u_pixel_coord_lower),u_scale:new t.bS(e,i.u_scale),u_fade:new t.bf(e,i.u_fade),u_fill_translate:new t.bT(e,i.u_fill_translate)}),circle:(e,i)=>({u_camera_to_center_distance:new t.bf(e,i.u_camera_to_center_distance),u_scale_with_map:new t.bO(e,i.u_scale_with_map),u_pitch_with_map:new t.bO(e,i.u_pitch_with_map),u_extrude_scale:new t.bT(e,i.u_extrude_scale),u_device_pixel_ratio:new t.bf(e,i.u_device_pixel_ratio),u_globe_extrude_scale:new t.bf(e,i.u_globe_extrude_scale),u_translate:new t.bT(e,i.u_translate)}),collisionBox:(e,i)=>({u_pixel_extrude_scale:new t.bT(e,i.u_pixel_extrude_scale)}),collisionCircle:(e,i)=>({u_viewport_size:new t.bT(e,i.u_viewport_size)}),debug:(e,i)=>({u_color:new t.bP(e,i.u_color),u_overlay:new t.bO(e,i.u_overlay),u_overlay_scale:new t.bf(e,i.u_overlay_scale)}),depth:ro,clippingMask:ro,heatmap:(e,i)=>({u_extrude_scale:new t.bf(e,i.u_extrude_scale),u_intensity:new t.bf(e,i.u_intensity),u_globe_extrude_scale:new t.bf(e,i.u_globe_extrude_scale)}),heatmapTexture:(e,i)=>({u_matrix:new t.bQ(e,i.u_matrix),u_world:new t.bT(e,i.u_world),u_image:new t.bO(e,i.u_image),u_color_ramp:new t.bO(e,i.u_color_ramp),u_opacity:new t.bf(e,i.u_opacity)}),hillshade:(e,i)=>({u_image:new t.bO(e,i.u_image),u_latrange:new t.bT(e,i.u_latrange),u_exaggeration:new t.bf(e,i.u_exaggeration),u_altitudes:new t.bZ(e,i.u_altitudes),u_azimuths:new t.bZ(e,i.u_azimuths),u_accent:new t.bP(e,i.u_accent),u_method:new t.bO(e,i.u_method),u_shadows:new t.bY(e,i.u_shadows),u_highlights:new t.bY(e,i.u_highlights)}),hillshadePrepare:(e,i)=>({u_matrix:new t.bQ(e,i.u_matrix),u_image:new t.bO(e,i.u_image),u_dimension:new t.bT(e,i.u_dimension),u_zoom:new t.bf(e,i.u_zoom),u_unpack:new t.bR(e,i.u_unpack)}),colorRelief:(e,i)=>({u_image:new t.bO(e,i.u_image),u_unpack:new t.bR(e,i.u_unpack),u_dimension:new t.bT(e,i.u_dimension),u_elevation_stops:new t.bO(e,i.u_elevation_stops),u_color_stops:new t.bO(e,i.u_color_stops),u_opacity:new t.bf(e,i.u_opacity)}),line:(e,i)=>({u_translation:new t.bT(e,i.u_translation),u_ratio:new t.bf(e,i.u_ratio),u_device_pixel_ratio:new t.bf(e,i.u_device_pixel_ratio),u_units_to_pixels:new t.bT(e,i.u_units_to_pixels)}),lineGradient:(e,i)=>({u_translation:new t.bT(e,i.u_translation),u_ratio:new t.bf(e,i.u_ratio),u_device_pixel_ratio:new t.bf(e,i.u_device_pixel_ratio),u_units_to_pixels:new t.bT(e,i.u_units_to_pixels),u_image:new t.bO(e,i.u_image),u_image_height:new t.bf(e,i.u_image_height)}),linePattern:(e,i)=>({u_translation:new t.bT(e,i.u_translation),u_texsize:new t.bT(e,i.u_texsize),u_ratio:new t.bf(e,i.u_ratio),u_device_pixel_ratio:new t.bf(e,i.u_device_pixel_ratio),u_image:new t.bO(e,i.u_image),u_units_to_pixels:new t.bT(e,i.u_units_to_pixels),u_scale:new t.bS(e,i.u_scale),u_fade:new t.bf(e,i.u_fade)}),lineSDF:(e,i)=>({u_translation:new t.bT(e,i.u_translation),u_ratio:new t.bf(e,i.u_ratio),u_device_pixel_ratio:new t.bf(e,i.u_device_pixel_ratio),u_units_to_pixels:new t.bT(e,i.u_units_to_pixels),u_patternscale_a:new t.bT(e,i.u_patternscale_a),u_patternscale_b:new t.bT(e,i.u_patternscale_b),u_sdfgamma:new t.bf(e,i.u_sdfgamma),u_image:new t.bO(e,i.u_image),u_tex_y_a:new t.bf(e,i.u_tex_y_a),u_tex_y_b:new t.bf(e,i.u_tex_y_b),u_mix:new t.bf(e,i.u_mix)}),raster:(e,i)=>({u_tl_parent:new t.bT(e,i.u_tl_parent),u_scale_parent:new t.bf(e,i.u_scale_parent),u_buffer_scale:new t.bf(e,i.u_buffer_scale),u_fade_t:new t.bf(e,i.u_fade_t),u_opacity:new t.bf(e,i.u_opacity),u_image0:new t.bO(e,i.u_image0),u_image1:new t.bO(e,i.u_image1),u_brightness_low:new t.bf(e,i.u_brightness_low),u_brightness_high:new t.bf(e,i.u_brightness_high),u_saturation_factor:new t.bf(e,i.u_saturation_factor),u_contrast_factor:new t.bf(e,i.u_contrast_factor),u_spin_weights:new t.bS(e,i.u_spin_weights),u_coords_top:new t.bR(e,i.u_coords_top),u_coords_bottom:new t.bR(e,i.u_coords_bottom)}),symbolIcon:(e,i)=>({u_is_size_zoom_constant:new t.bO(e,i.u_is_size_zoom_constant),u_is_size_feature_constant:new t.bO(e,i.u_is_size_feature_constant),u_size_t:new t.bf(e,i.u_size_t),u_size:new t.bf(e,i.u_size),u_camera_to_center_distance:new t.bf(e,i.u_camera_to_center_distance),u_pitch:new t.bf(e,i.u_pitch),u_rotate_symbol:new t.bO(e,i.u_rotate_symbol),u_aspect_ratio:new t.bf(e,i.u_aspect_ratio),u_fade_change:new t.bf(e,i.u_fade_change),u_label_plane_matrix:new t.bQ(e,i.u_label_plane_matrix),u_coord_matrix:new t.bQ(e,i.u_coord_matrix),u_is_text:new t.bO(e,i.u_is_text),u_pitch_with_map:new t.bO(e,i.u_pitch_with_map),u_is_along_line:new t.bO(e,i.u_is_along_line),u_is_variable_anchor:new t.bO(e,i.u_is_variable_anchor),u_texsize:new t.bT(e,i.u_texsize),u_texture:new t.bO(e,i.u_texture),u_translation:new t.bT(e,i.u_translation),u_pitched_scale:new t.bf(e,i.u_pitched_scale)}),symbolSDF:(e,i)=>({u_is_size_zoom_constant:new t.bO(e,i.u_is_size_zoom_constant),u_is_size_feature_constant:new t.bO(e,i.u_is_size_feature_constant),u_size_t:new t.bf(e,i.u_size_t),u_size:new t.bf(e,i.u_size),u_camera_to_center_distance:new t.bf(e,i.u_camera_to_center_distance),u_pitch:new t.bf(e,i.u_pitch),u_rotate_symbol:new t.bO(e,i.u_rotate_symbol),u_aspect_ratio:new t.bf(e,i.u_aspect_ratio),u_fade_change:new t.bf(e,i.u_fade_change),u_label_plane_matrix:new t.bQ(e,i.u_label_plane_matrix),u_coord_matrix:new t.bQ(e,i.u_coord_matrix),u_is_text:new t.bO(e,i.u_is_text),u_pitch_with_map:new t.bO(e,i.u_pitch_with_map),u_is_along_line:new t.bO(e,i.u_is_along_line),u_is_variable_anchor:new t.bO(e,i.u_is_variable_anchor),u_texsize:new t.bT(e,i.u_texsize),u_texture:new t.bO(e,i.u_texture),u_gamma_scale:new t.bf(e,i.u_gamma_scale),u_device_pixel_ratio:new t.bf(e,i.u_device_pixel_ratio),u_is_halo:new t.bO(e,i.u_is_halo),u_translation:new t.bT(e,i.u_translation),u_pitched_scale:new t.bf(e,i.u_pitched_scale)}),symbolTextAndIcon:(e,i)=>({u_is_size_zoom_constant:new t.bO(e,i.u_is_size_zoom_constant),u_is_size_feature_constant:new t.bO(e,i.u_is_size_feature_constant),u_size_t:new t.bf(e,i.u_size_t),u_size:new t.bf(e,i.u_size),u_camera_to_center_distance:new t.bf(e,i.u_camera_to_center_distance),u_pitch:new t.bf(e,i.u_pitch),u_rotate_symbol:new t.bO(e,i.u_rotate_symbol),u_aspect_ratio:new t.bf(e,i.u_aspect_ratio),u_fade_change:new t.bf(e,i.u_fade_change),u_label_plane_matrix:new t.bQ(e,i.u_label_plane_matrix),u_coord_matrix:new t.bQ(e,i.u_coord_matrix),u_is_text:new t.bO(e,i.u_is_text),u_pitch_with_map:new t.bO(e,i.u_pitch_with_map),u_is_along_line:new t.bO(e,i.u_is_along_line),u_is_variable_anchor:new t.bO(e,i.u_is_variable_anchor),u_texsize:new t.bT(e,i.u_texsize),u_texsize_icon:new t.bT(e,i.u_texsize_icon),u_texture:new t.bO(e,i.u_texture),u_texture_icon:new t.bO(e,i.u_texture_icon),u_gamma_scale:new t.bf(e,i.u_gamma_scale),u_device_pixel_ratio:new t.bf(e,i.u_device_pixel_ratio),u_is_halo:new t.bO(e,i.u_is_halo),u_translation:new t.bT(e,i.u_translation),u_pitched_scale:new t.bf(e,i.u_pitched_scale)}),background:(e,i)=>({u_opacity:new t.bf(e,i.u_opacity),u_color:new t.bP(e,i.u_color)}),backgroundPattern:(e,i)=>({u_opacity:new t.bf(e,i.u_opacity),u_image:new t.bO(e,i.u_image),u_pattern_tl_a:new t.bT(e,i.u_pattern_tl_a),u_pattern_br_a:new t.bT(e,i.u_pattern_br_a),u_pattern_tl_b:new t.bT(e,i.u_pattern_tl_b),u_pattern_br_b:new t.bT(e,i.u_pattern_br_b),u_texsize:new t.bT(e,i.u_texsize),u_mix:new t.bf(e,i.u_mix),u_pattern_size_a:new t.bT(e,i.u_pattern_size_a),u_pattern_size_b:new t.bT(e,i.u_pattern_size_b),u_scale_a:new t.bf(e,i.u_scale_a),u_scale_b:new t.bf(e,i.u_scale_b),u_pixel_coord_upper:new t.bT(e,i.u_pixel_coord_upper),u_pixel_coord_lower:new t.bT(e,i.u_pixel_coord_lower),u_tile_units_to_pixels:new t.bf(e,i.u_tile_units_to_pixels)}),terrain:(e,i)=>({u_texture:new t.bO(e,i.u_texture),u_ele_delta:new t.bf(e,i.u_ele_delta),u_fog_matrix:new t.bQ(e,i.u_fog_matrix),u_fog_color:new t.bP(e,i.u_fog_color),u_fog_ground_blend:new t.bf(e,i.u_fog_ground_blend),u_fog_ground_blend_opacity:new t.bf(e,i.u_fog_ground_blend_opacity),u_horizon_color:new t.bP(e,i.u_horizon_color),u_horizon_fog_blend:new t.bf(e,i.u_horizon_fog_blend),u_is_globe_mode:new t.bf(e,i.u_is_globe_mode)}),terrainDepth:(e,i)=>({u_ele_delta:new t.bf(e,i.u_ele_delta)}),terrainCoords:(e,i)=>({u_texture:new t.bO(e,i.u_texture),u_terrain_coords_id:new t.bf(e,i.u_terrain_coords_id),u_ele_delta:new t.bf(e,i.u_ele_delta)}),projectionErrorMeasurement:(e,i)=>({u_input:new t.bf(e,i.u_input),u_output_expected:new t.bf(e,i.u_output_expected)}),atmosphere:(e,i)=>({u_sun_pos:new t.bS(e,i.u_sun_pos),u_atmosphere_blend:new t.bf(e,i.u_atmosphere_blend),u_globe_position:new t.bS(e,i.u_globe_position),u_globe_radius:new t.bf(e,i.u_globe_radius),u_inv_proj_matrix:new t.bQ(e,i.u_inv_proj_matrix)}),sky:(e,i)=>({u_sky_color:new t.bP(e,i.u_sky_color),u_horizon_color:new t.bP(e,i.u_horizon_color),u_horizon:new t.bT(e,i.u_horizon),u_horizon_normal:new t.bT(e,i.u_horizon_normal),u_sky_horizon_blend:new t.bf(e,i.u_sky_horizon_blend),u_sky_blend:new t.bf(e,i.u_sky_blend)})};class so{constructor(e,t,i){this.context=e;const o=e.gl;this.buffer=o.createBuffer(),this.dynamicDraw=Boolean(i),this.context.unbindVAO(),e.bindElementBuffer.set(this.buffer),o.bufferData(o.ELEMENT_ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?o.DYNAMIC_DRAW:o.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer;}bind(){this.context.bindElementBuffer.set(this.buffer);}updateData(e){const t=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer);}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer);}}const no={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class lo{constructor(e,t,i,o){this.length=t.length,this.attributes=i,this.itemSize=t.bytesPerElement,this.dynamicDraw=o,this.context=e;const r=e.gl;this.buffer=r.createBuffer(),e.bindVertexBuffer.set(this.buffer),r.bufferData(r.ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer;}bind(){this.context.bindVertexBuffer.set(this.buffer);}updateData(e){if(e.length!==this.length)throw new Error(`Length of new data is ${e.length}, which doesn't match current length of ${this.length}`);const t=this.context.gl;this.bind(),t.bufferSubData(t.ARRAY_BUFFER,0,e.arrayBuffer);}enableAttributes(e,t){for(let i=0;i<this.attributes.length;i++){const o=t.attributes[this.attributes[i].name];void 0!==o&&e.enableVertexAttribArray(o);}}setVertexAttribPointers(e,t,i){for(let o=0;o<this.attributes.length;o++){const r=this.attributes[o],a=t.attributes[r.name];void 0!==a&&e.vertexAttribPointer(a,r.components,e[no[r.type]],!1,this.itemSize,r.offset+this.itemSize*(i||0));}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer);}}class co{constructor(e){this.gl=e.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1;}get(){return this.current}set(e){}getDefault(){return this.default}setDefault(){this.set(this.default);}}class ho extends co{getDefault(){return t.be.transparent}set(e){const t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1);}}class uo extends co{getDefault(){return 1}set(e){(e!==this.current||this.dirty)&&(this.gl.clearDepth(e),this.current=e,this.dirty=!1);}}class _o extends co{getDefault(){return 0}set(e){(e!==this.current||this.dirty)&&(this.gl.clearStencil(e),this.current=e,this.dirty=!1);}}class po extends co{getDefault(){return [!0,!0,!0,!0]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1);}}class mo extends co{getDefault(){return !0}set(e){(e!==this.current||this.dirty)&&(this.gl.depthMask(e),this.current=e,this.dirty=!1);}}class fo extends co{getDefault(){return 255}set(e){(e!==this.current||this.dirty)&&(this.gl.stencilMask(e),this.current=e,this.dirty=!1);}}class go extends co{getDefault(){return {func:this.gl.ALWAYS,ref:0,mask:255}}set(e){const t=this.current;(e.func!==t.func||e.ref!==t.ref||e.mask!==t.mask||this.dirty)&&(this.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e,this.dirty=!1);}}class vo extends co{getDefault(){const e=this.gl;return [e.KEEP,e.KEEP,e.KEEP]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||this.dirty)&&(this.gl.stencilOp(e[0],e[1],e[2]),this.current=e,this.dirty=!1);}}class bo extends co{getDefault(){return !1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.current=e,this.dirty=!1;}}class xo extends co{getDefault(){return [0,1]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.depthRange(e[0],e[1]),this.current=e,this.dirty=!1);}}class yo extends co{getDefault(){return !1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this.current=e,this.dirty=!1;}}class wo extends co{getDefault(){return this.gl.LESS}set(e){(e!==this.current||this.dirty)&&(this.gl.depthFunc(e),this.current=e,this.dirty=!1);}}class To extends co{getDefault(){return !1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.BLEND):t.disable(t.BLEND),this.current=e,this.dirty=!1;}}class Po extends co{getDefault(){const e=this.gl;return [e.ONE,e.ZERO]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.blendFunc(e[0],e[1]),this.current=e,this.dirty=!1);}}class Co extends co{getDefault(){return t.be.transparent}set(e){const t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1);}}class Io extends co{getDefault(){return this.gl.FUNC_ADD}set(e){(e!==this.current||this.dirty)&&(this.gl.blendEquation(e),this.current=e,this.dirty=!1);}}class Mo extends co{getDefault(){return !1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE),this.current=e,this.dirty=!1;}}class So extends co{getDefault(){return this.gl.BACK}set(e){(e!==this.current||this.dirty)&&(this.gl.cullFace(e),this.current=e,this.dirty=!1);}}class Eo extends co{getDefault(){return this.gl.CCW}set(e){(e!==this.current||this.dirty)&&(this.gl.frontFace(e),this.current=e,this.dirty=!1);}}class Ro extends co{getDefault(){return null}set(e){(e!==this.current||this.dirty)&&(this.gl.useProgram(e),this.current=e,this.dirty=!1);}}class zo extends co{getDefault(){return this.gl.TEXTURE0}set(e){(e!==this.current||this.dirty)&&(this.gl.activeTexture(e),this.current=e,this.dirty=!1);}}class Do extends co{getDefault(){const e=this.gl;return [0,0,e.drawingBufferWidth,e.drawingBufferHeight]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1);}}class Ao extends co{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,e),this.current=e,this.dirty=!1;}}class Lo extends co{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindRenderbuffer(t.RENDERBUFFER,e),this.current=e,this.dirty=!1;}}class ko extends co{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindTexture(t.TEXTURE_2D,e),this.current=e,this.dirty=!1;}}class Fo extends co{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,e),this.current=e,this.dirty=!1;}}class Bo extends co{getDefault(){return null}set(e){const t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.current=e,this.dirty=!1;}}class Oo extends co{getDefault(){return null}set(e){var t;if(e===this.current&&!this.dirty)return;const i=this.gl;qt(i)?i.bindVertexArray(e):null===(t=i.getExtension("OES_vertex_array_object"))||void 0===t||t.bindVertexArrayOES(e),this.current=e,this.dirty=!1;}}class jo extends co{getDefault(){return 4}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_ALIGNMENT,e),this.current=e,this.dirty=!1;}}class No extends co{getDefault(){return !1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e,this.dirty=!1;}}class Zo extends co{getDefault(){return !1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e),this.current=e,this.dirty=!1;}}class Uo extends co{constructor(e,t){super(e),this.context=e,this.parent=t;}getDefault(){return null}}class Go extends Uo{setDirty(){this.dirty=!0;}set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t=this.gl;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1;}}class Vo extends Uo{set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e),this.current=e,this.dirty=!1;}}class $o extends Uo{set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,e),this.current=e,this.dirty=!1;}}const qo="Framebuffer is not complete";class Wo{constructor(e,t,i,o,r){this.context=e,this.width=t,this.height=i;const a=e.gl,s=this.framebuffer=a.createFramebuffer();if(this.colorAttachment=new Go(e,s),o)this.depthAttachment=r?new $o(e,s):new Vo(e,s);else if(r)throw new Error("Stencil cannot be set without depth");if(a.checkFramebufferStatus(a.FRAMEBUFFER)!==a.FRAMEBUFFER_COMPLETE)throw new Error(qo)}destroy(){const e=this.context.gl,t=this.colorAttachment.get();if(t&&e.deleteTexture(t),this.depthAttachment){const t=this.depthAttachment.get();t&&e.deleteRenderbuffer(t);}e.deleteFramebuffer(this.framebuffer);}}class Ho{constructor(e){var t,i;if(this.gl=e,this.clearColor=new ho(this),this.clearDepth=new uo(this),this.clearStencil=new _o(this),this.colorMask=new po(this),this.depthMask=new mo(this),this.stencilMask=new fo(this),this.stencilFunc=new go(this),this.stencilOp=new vo(this),this.stencilTest=new bo(this),this.depthRange=new xo(this),this.depthTest=new yo(this),this.depthFunc=new wo(this),this.blend=new To(this),this.blendFunc=new Po(this),this.blendColor=new Co(this),this.blendEquation=new Io(this),this.cullFace=new Mo(this),this.cullFaceSide=new So(this),this.frontFace=new Eo(this),this.program=new Ro(this),this.activeTexture=new zo(this),this.viewport=new Do(this),this.bindFramebuffer=new Ao(this),this.bindRenderbuffer=new Lo(this),this.bindTexture=new ko(this),this.bindVertexBuffer=new Fo(this),this.bindElementBuffer=new Bo(this),this.bindVertexArray=new Oo(this),this.pixelStoreUnpack=new jo(this),this.pixelStoreUnpackPremultiplyAlpha=new No(this),this.pixelStoreUnpackFlipY=new Zo(this),this.extTextureFilterAnisotropic=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE),qt(e)){this.HALF_FLOAT=e.HALF_FLOAT;const o=e.getExtension("EXT_color_buffer_half_float");this.RGBA16F=null!==(t=e.RGBA16F)&&void 0!==t?t:null==o?void 0:o.RGBA16F_EXT,this.RGB16F=null!==(i=e.RGB16F)&&void 0!==i?i:null==o?void 0:o.RGB16F_EXT,e.getExtension("EXT_color_buffer_float");}else {e.getExtension("EXT_color_buffer_half_float"),e.getExtension("OES_texture_half_float_linear");const t=e.getExtension("OES_texture_half_float");this.HALF_FLOAT=null==t?void 0:t.HALF_FLOAT_OES;}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault();}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0;}createIndexBuffer(e,t){return new so(this,e,t)}createVertexBuffer(e,t,i){return new lo(this,e,t,i)}createRenderbuffer(e,t,i){const o=this.gl,r=o.createRenderbuffer();return this.bindRenderbuffer.set(r),o.renderbufferStorage(o.RENDERBUFFER,e,t,i),this.bindRenderbuffer.set(null),r}createFramebuffer(e,t,i,o){return new Wo(this,e,t,i,o)}clear({color:e,depth:t,stencil:i}){const o=this.gl;let r=0;e&&(r|=o.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set([!0,!0,!0,!0])),void 0!==t&&(r|=o.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(t),this.depthMask.set(!0)),void 0!==i&&(r|=o.STENCIL_BUFFER_BIT,this.clearStencil.set(i),this.stencilMask.set(255)),o.clear(r);}setCullFace(e){!1===e.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e.mode),this.frontFace.set(e.frontFace));}setDepthMode(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1);}setStencilMode(e){e.test.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1);}setColorMode(e){t.bG(e.blendFunction,jt.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(e.blendFunction),this.blendColor.set(e.blendColor)),this.colorMask.set(e.mask);}createVertexArray(){var e;return qt(this.gl)?this.gl.createVertexArray():null===(e=this.gl.getExtension("OES_vertex_array_object"))||void 0===e?void 0:e.createVertexArrayOES()}deleteVertexArray(e){var t;return qt(this.gl)?this.gl.deleteVertexArray(e):null===(t=this.gl.getExtension("OES_vertex_array_object"))||void 0===t?void 0:t.deleteVertexArrayOES(e)}unbindVAO(){this.bindVertexArray.set(null);}}let Xo;function Ko(e,i,o,r,a){const s=e.context,n=e.transform,l=s.gl,c=e.useProgram("collisionBox"),h=[];let u=0,d=0;for(let t=0;t<r.length;t++){const _=r[t],p=i.getTile(_).getBucket(o);if(!p)continue;const m=a?p.textCollisionBox:p.iconCollisionBox,f=p.collisionCircleArray;f.length>0&&(h.push({circleArray:f,circleOffset:d,coord:_}),u+=f.length/4,d=u),m&&c.draw(s,l.LINES,Ut.disabled,Vt.disabled,e.colorModeForRenderPass(),Zt.disabled,Fi(e.transform),e.style.map.terrain&&e.style.map.terrain.getTerrainData(_),n.getProjectionData({overscaledTileID:_,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),o.id,m.layoutVertexBuffer,m.indexBuffer,m.segments,null,e.transform.zoom,null,null,m.collisionVertexBuffer);}if(!a||!h.length)return;const _=e.useProgram("collisionCircle"),p=new t.b_;p.resize(4*u),p._trim();let m=0;for(const e of h)for(let t=0;t<e.circleArray.length/4;t++){const i=4*t,o=e.circleArray[i+0],r=e.circleArray[i+1],a=e.circleArray[i+2],s=e.circleArray[i+3];p.emplace(m++,o,r,a,s,0),p.emplace(m++,o,r,a,s,1),p.emplace(m++,o,r,a,s,2),p.emplace(m++,o,r,a,s,3);}(!Xo||Xo.length<2*u)&&(Xo=function(e){const i=2*e,o=new t.c0;o.resize(i),o._trim();for(let e=0;e<i;e++){const t=6*e;o.uint16[t+0]=4*e+0,o.uint16[t+1]=4*e+1,o.uint16[t+2]=4*e+2,o.uint16[t+3]=4*e+2,o.uint16[t+4]=4*e+3,o.uint16[t+5]=4*e+0;}return o}(u));const f=s.createIndexBuffer(Xo,!0),g=s.createVertexBuffer(p,t.b$.members,!0);for(const i of h){const r=Bi(e.transform);_.draw(s,l.TRIANGLES,Ut.disabled,Vt.disabled,e.colorModeForRenderPass(),Zt.disabled,r,e.style.map.terrain&&e.style.map.terrain.getTerrainData(i.coord),null,o.id,g,f,t.aL.simpleSegment(0,2*i.circleOffset,i.circleArray.length,i.circleArray.length/2),null,e.transform.zoom,null,null,null);}g.destroy(),f.destroy();}const Yo=t.af(new Float32Array(16));function Qo(e,i,o,r,a,s){const{horizontalAlign:n,verticalAlign:l}=t.aG(e);return new t.P((-(n-.5)*i/a+r[0])*s,(-(l-.5)*o/a+r[1])*s)}function Jo(e,i,o,r,a,s){const n=i.tileAnchorPoint.add(new t.P(i.translation[0],i.translation[1]));if(i.pitchWithMap){let e=r.mult(s);o||(e=e.rotate(-a));const t=n.add(e);return Ee(t.x,t.y,i.pitchedLabelPlaneMatrix,i.getElevation).point}if(o){const t=Oe(i.tileAnchorPoint.x+1,i.tileAnchorPoint.y,i).point.sub(e),o=Math.atan(t.y/t.x)+(t.x<0?Math.PI:0);return e.add(r.rotate(o))}return e.add(r)}function er(e,i,o,r,a,s,n,l,c,h,u,d){const _=e.text.placedSymbolArray,p=e.text.dynamicLayoutVertexArray,m=e.icon.dynamicLayoutVertexArray,f={};p.clear();for(let m=0;m<_.length;m++){const g=_.get(m),v=g.hidden||!g.crossTileID||e.allowVerticalPlacement&&!g.placedOrientation?null:r[g.crossTileID];if(v){const r=new t.P(g.anchorX,g.anchorY),_={getElevation:d,width:a.width,height:a.height,pitchedLabelPlaneMatrix:s,pitchWithMap:o,transform:a,tileAnchorPoint:r,translation:h,unwrappedTileID:u},m=o?Ne(r.x,r.y,_):Oe(r.x,r.y,_),b=Re(a.cameraToCenterDistance,m.signedDistanceFromCamera);let x=t.ao(e.textSizeData,l,g)*b/t.aA;o&&(x*=e.tilePixelRatio/n);const{width:y,height:w,anchor:T,textOffset:P,textBoxScale:C}=v,I=Qo(T,y,w,P,C,x),M=a.getPitchedTextCorrection(r.x+h[0],r.y+h[1],u),S=Jo(m.point,_,i,I,-a.bearingInRadians,M),E=e.allowVerticalPlacement&&g.placedOrientation===t.an.vertical?Math.PI/2:0;for(let e=0;e<g.numGlyphs;e++)t.au(p,S,E);c&&g.associatedIconIndex>=0&&(f[g.associatedIconIndex]={shiftedAnchor:S,angle:E});}else $e(g.numGlyphs,p);}if(c){m.clear();const i=e.icon.placedSymbolArray;for(let e=0;e<i.length;e++){const o=i.get(e);if(o.hidden)$e(o.numGlyphs,m);else {const i=f[e];if(i)for(let e=0;e<o.numGlyphs;e++)t.au(m,i.shiftedAnchor,i.angle);else $e(o.numGlyphs,m);}}e.icon.dynamicLayoutVertexBuffer.updateData(m);}e.text.dynamicLayoutVertexBuffer.updateData(p);}function tr(e,t,i){return i.iconsInText&&t?"symbolTextAndIcon":e?"symbolSDF":"symbolIcon"}function ir(e,i,o,r,a,s,n,l,c,h,u,d,_){const p=e.context,m=p.gl,f=e.transform,g="map"===l,v="map"===c,b="viewport"!==l&&"point"!==o.layout.get("symbol-placement"),x=g&&!v&&!b,y=!o.layout.get("symbol-sort-key").isConstant();let w=!1;const T=e.getDepthModeForSublayer(0,Ut.ReadOnly),P=o._unevaluatedLayout.hasValue("text-variable-anchor")||o._unevaluatedLayout.hasValue("text-variable-anchor-offset"),C=[],I=f.getCircleRadiusCorrection();for(const l of r){const r=i.getTile(l),c=r.getBucket(o);if(!c)continue;const u=a?c.text:c.icon;if(!u||!u.segments.get().length||!u.hasVisibleVertices)continue;const d=u.programConfigurations.get(o.id),p=a||c.sdfIcons,T=a?c.textSizeData:c.iconSizeData,M=v||0!==f.pitch,S=e.useProgram(tr(p,a,c),d),E=t.am(T,f.zoom),R=e.style.map.terrain&&e.style.map.terrain.getTerrainData(l);let z,D,A,L,k=[0,0],F=null;if(a)D=r.glyphAtlasTexture,A=m.LINEAR,z=r.glyphAtlasTexture.size,c.iconsInText&&(k=r.imageAtlasTexture.size,F=r.imageAtlasTexture,L=M||e.options.rotating||e.options.zooming||"composite"===T.kind||"camera"===T.kind?m.LINEAR:m.NEAREST);else {const t=1!==o.layout.get("icon-size").constantOr(0)||c.iconsNeedLinear;D=r.imageAtlasTexture,A=p||e.options.rotating||e.options.zooming||t||M?m.LINEAR:m.NEAREST,z=r.imageAtlasTexture.size;}const B=t.aB(r,1,e.transform.zoom),O=Ie(g,e.transform,B),j=t.L();t.ap(j,O);const N=Me(v,g,e.transform,B),Z=t.aC(f,r,s,n),U=f.getProjectionData({overscaledTileID:l,applyGlobeMatrix:!_,applyTerrainMatrix:!0}),G=P&&c.hasTextData(),V="none"!==o.layout.get("icon-text-fit")&&G&&c.hasIconData();if(b){const t=e.style.map.terrain?(t,i)=>e.style.map.terrain.getElevation(l,t,i):null,i="map"===o.layout.get("text-rotation-alignment");De(c,e,a,O,j,v,h,i,l.toUnwrapped(),f.width,f.height,Z,t);}const $=a&&P||V,q=b||$?Yo:v?O:e.transform.clipSpaceToPixelsMatrix,W=p&&0!==o.paint.get(a?"text-halo-width":"icon-halo-width").constantOr(1);let H;H=p?c.iconsInText?to(T.kind,E,x,v,b,$,e,q,N,Z,z,k,I):eo(T.kind,E,x,v,b,$,e,q,N,Z,a,z,0,I):Ji(T.kind,E,x,v,b,$,e,q,N,Z,a,z,I);const X={program:S,buffers:u,uniformValues:H,projectionData:U,atlasTexture:D,atlasTextureIcon:F,atlasInterpolation:A,atlasInterpolationIcon:L,isSDF:p,hasHalo:W};if(y&&c.canOverlap){w=!0;const e=u.segments.get();for(const i of e)C.push({segments:new t.aL([i]),sortKey:i.sortKey,state:X,terrainData:R});}else C.push({segments:u.segments,sortKey:0,state:X,terrainData:R});}w&&C.sort(((e,t)=>e.sortKey-t.sortKey));for(const t of C){const i=t.state;if(p.activeTexture.set(m.TEXTURE0),i.atlasTexture.bind(i.atlasInterpolation,m.CLAMP_TO_EDGE),i.atlasTextureIcon&&(p.activeTexture.set(m.TEXTURE1),i.atlasTextureIcon&&i.atlasTextureIcon.bind(i.atlasInterpolationIcon,m.CLAMP_TO_EDGE)),i.isSDF){const r=i.uniformValues;i.hasHalo&&(r.u_is_halo=1,or(i.buffers,t.segments,o,e,i.program,T,u,d,r,i.projectionData,t.terrainData)),r.u_is_halo=0;}or(i.buffers,t.segments,o,e,i.program,T,u,d,i.uniformValues,i.projectionData,t.terrainData);}}function or(e,t,i,o,r,a,s,n,l,c,h){const u=o.context;r.draw(u,u.gl.TRIANGLES,a,s,n,Zt.backCCW,l,h,c,i.id,e.layoutVertexBuffer,e.indexBuffer,t,i.paint,o.transform.zoom,e.programConfigurations.get(i.id),e.dynamicLayoutVertexBuffer,e.opacityVertexBuffer);}function rr(e,i,o,r,a){const s=e.context,n=s.gl,l=Vt.disabled,c=new jt([n.ONE,n.ONE],t.be.transparent,[!0,!0,!0,!0]),h=i.getBucket(o);if(!h)return;const u=r.key;let d=o.heatmapFbos.get(u);d||(d=sr(s,i.tileSize,i.tileSize),o.heatmapFbos.set(u,d)),s.bindFramebuffer.set(d.framebuffer),s.viewport.set([0,0,i.tileSize,i.tileSize]),s.clear({color:t.be.transparent});const _=h.programConfigurations.get(o.id),p=e.useProgram("heatmap",_,!a),m=e.transform.getProjectionData({overscaledTileID:i.tileID,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),f=e.style.map.terrain.getTerrainData(r);p.draw(s,n.TRIANGLES,Ut.disabled,l,c,Zt.disabled,ji(i,e.transform.zoom,o.paint.get("heatmap-intensity"),1),f,m,o.id,h.layoutVertexBuffer,h.indexBuffer,h.segments,o.paint,e.transform.zoom,_);}function ar(e,t,i,o,r){const a=e.context,s=a.gl,n=e.transform;a.setColorMode(e.colorModeForRenderPass());const l=nr(a,t),c=i.key,h=t.heatmapFbos.get(c);if(!h)return;a.activeTexture.set(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,h.colorAttachment.get()),a.activeTexture.set(s.TEXTURE1),l.bind(s.LINEAR,s.CLAMP_TO_EDGE);const u=n.getProjectionData({overscaledTileID:i,applyTerrainMatrix:r,applyGlobeMatrix:!o});e.useProgram("heatmapTexture").draw(a,s.TRIANGLES,Ut.disabled,Vt.disabled,e.colorModeForRenderPass(),Zt.disabled,Ni(e,t,0,1),null,u,t.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments,t.paint,n.zoom),h.destroy(),t.heatmapFbos.delete(c);}function sr(e,t,i){var o,r;const a=e.gl,s=a.createTexture();a.bindTexture(a.TEXTURE_2D,s),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR);const n=null!==(o=e.HALF_FLOAT)&&void 0!==o?o:a.UNSIGNED_BYTE,l=null!==(r=e.RGBA16F)&&void 0!==r?r:a.RGBA;a.texImage2D(a.TEXTURE_2D,0,l,t,i,0,a.RGBA,n,null);const c=e.createFramebuffer(t,i,!1,!1);return c.colorAttachment.set(s),c}function nr(e,i){return i.colorRampTexture||(i.colorRampTexture=new t.T(e,i.colorRamp,e.gl.RGBA)),i.colorRampTexture}function lr(e,t,i,o,r){if(!i||!o||!o.imageAtlas)return;const a=o.imageAtlas.patternPositions;let s=a[i.to.toString()],n=a[i.from.toString()];if(!s&&n&&(s=n),!n&&s&&(n=s),!s||!n){const e=r.getPaintProperty(t);s=a[e],n=a[e];}s&&n&&e.setConstantPatternPositions(s,n);}function cr(e,i,o,r,a,s,n,l){const c=e.context.gl,h="fill-pattern",u=o.paint.get(h),d=u&&u.constantOr(1),_=o.getCrossfadeParameters();let p,m,f,g,v;const b=e.transform,x=o.paint.get("fill-translate"),y=o.paint.get("fill-translate-anchor");n?(m=d&&!o.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",p=c.LINES):(m=d?"fillPattern":"fill",p=c.TRIANGLES);const w=u.constantOr(null);for(const u of r){const r=i.getTile(u);if(d&&!r.patternsLoaded())continue;const T=r.getBucket(o);if(!T)continue;const P=T.programConfigurations.get(o.id),C=e.useProgram(m,P),I=e.style.map.terrain&&e.style.map.terrain.getTerrainData(u);d&&(e.context.activeTexture.set(c.TEXTURE0),r.imageAtlasTexture.bind(c.LINEAR,c.CLAMP_TO_EDGE),P.updatePaintBuffers(_)),lr(P,h,w,r,o);const M=b.getProjectionData({overscaledTileID:u,applyGlobeMatrix:!l,applyTerrainMatrix:!0}),S=t.aC(b,r,x,y);if(n){g=T.indexBuffer2,v=T.segments2;const t=[c.drawingBufferWidth,c.drawingBufferHeight];f="fillOutlinePattern"===m&&d?Li(e,_,r,t,S):Ai(t,S);}else g=T.indexBuffer,v=T.segments,f=d?Di(e,_,r,S):{u_fill_translate:S};const E=e.stencilModeForClipping(u);C.draw(e.context,p,a,E,s,Zt.backCCW,f,I,M,o.id,T.layoutVertexBuffer,g,v,o.paint,e.transform.zoom,P);}}function hr(e,i,o,r,a,s,n,l){const c=e.context,h=c.gl,u="fill-extrusion-pattern",d=o.paint.get(u),_=d.constantOr(1),p=o.getCrossfadeParameters(),m=o.paint.get("fill-extrusion-opacity"),f=d.constantOr(null),g=e.transform;for(const d of r){const r=i.getTile(d),v=r.getBucket(o);if(!v)continue;const b=e.style.map.terrain&&e.style.map.terrain.getTerrainData(d),x=v.programConfigurations.get(o.id),y=e.useProgram(_?"fillExtrusionPattern":"fillExtrusion",x);_&&(e.context.activeTexture.set(h.TEXTURE0),r.imageAtlasTexture.bind(h.LINEAR,h.CLAMP_TO_EDGE),x.updatePaintBuffers(p));const w=g.getProjectionData({overscaledTileID:d,applyGlobeMatrix:!l,applyTerrainMatrix:!0});lr(x,u,f,r,o);const T=t.aC(g,r,o.paint.get("fill-extrusion-translate"),o.paint.get("fill-extrusion-translate-anchor")),P=o.paint.get("fill-extrusion-vertical-gradient"),C=_?zi(e,P,m,T,d,p,r):Ri(e,P,m,T);y.draw(c,c.gl.TRIANGLES,a,s,n,Zt.backCCW,C,b,w,o.id,v.layoutVertexBuffer,v.indexBuffer,v.segments,o.paint,e.transform.zoom,x,e.style.map.terrain&&v.centroidVertexBuffer);}}function ur(e,t,i,o,r,a,s,n,l){var c;const h=e.style.projection,u=e.context,d=e.transform,_=u.gl,p=[`#define NUM_ILLUMINATION_SOURCES ${i.paint.get("hillshade-highlight-color").values.length}`],m=e.useProgram("hillshade",null,!1,p),f=!e.options.moving;for(const p of o){const o=t.getTile(p),g=o.fbo;if(!g)continue;const v=h.getMeshFromTileID(u,p.canonical,n,!0,"raster"),b=null===(c=e.style.map.terrain)||void 0===c?void 0:c.getTerrainData(p);u.activeTexture.set(_.TEXTURE0),_.bindTexture(_.TEXTURE_2D,g.colorAttachment.get());const x=d.getProjectionData({overscaledTileID:p,aligned:f,applyGlobeMatrix:!l,applyTerrainMatrix:!0});m.draw(u,_.TRIANGLES,a,r[p.overscaledZ],s,Zt.backCCW,Zi(e,o,i),b,x,i.id,v.vertexBuffer,v.indexBuffer,v.segments);}}function dr(e,i,o,r,a,s,n,l,c){var h;const u=e.style.projection,d=e.context,_=e.transform,p=d.gl,m=e.useProgram("colorRelief"),f=!e.options.moving;let g=!0;for(const v of r){const r=i.getTile(v),b=r.dem;if(g){const e=p.getParameter(p.MAX_TEXTURE_SIZE),{elevationTexture:t,colorTexture:i}=o.getColorRampTextures(d,e,b.getUnpackVector());d.activeTexture.set(p.TEXTURE1),t.bind(p.NEAREST,p.CLAMP_TO_EDGE),d.activeTexture.set(p.TEXTURE4),i.bind(p.LINEAR,p.CLAMP_TO_EDGE),g=!1;}if(!b||!b.data)continue;const x=b.stride,y=b.getPixels();if(d.activeTexture.set(p.TEXTURE0),d.pixelStoreUnpackPremultiplyAlpha.set(!1),r.demTexture=r.demTexture||e.getTileTexture(x),r.demTexture){const e=r.demTexture;e.update(y,{premultiply:!1}),e.bind(p.LINEAR,p.CLAMP_TO_EDGE);}else r.demTexture=new t.T(d,y,p.RGBA,{premultiply:!1}),r.demTexture.bind(p.LINEAR,p.CLAMP_TO_EDGE);const w=u.getMeshFromTileID(d,v.canonical,l,!0,"raster"),T=null===(h=e.style.map.terrain)||void 0===h?void 0:h.getTerrainData(v),P=_.getProjectionData({overscaledTileID:v,aligned:f,applyGlobeMatrix:!c,applyTerrainMatrix:!0});m.draw(d,p.TRIANGLES,s,a[v.overscaledZ],n,Zt.backCCW,Vi(o,r.dem),T,P,o.id,w.vertexBuffer,w.indexBuffer,w.segments);}}const _r=[new t.P(0,0),new t.P(t.$,0),new t.P(t.$,t.$),new t.P(0,t.$)];function pr(e,t,i,o,r,a,s,n,l=!1,c=!1){const h=o[o.length-1].overscaledZ,u=e.context,d=u.gl,_=e.useProgram("raster"),p=e.transform,m=e.style.projection,f=e.colorModeForRenderPass(),g=!e.options.moving;for(const v of o){const o=e.getDepthModeForSublayer(v.overscaledZ-h,1===i.paint.get("raster-opacity")?Ut.ReadWrite:Ut.ReadOnly,d.LESS),b=t.getTile(v);b.registerFadeDuration(i.paint.get("raster-fade-duration"));const x=t.findLoadedParent(v,0),y=t.findLoadedSibling(v),w=mr(b,x||y||null,t,i,e.transform,e.style.map.terrain);let T,P;const C="nearest"===i.paint.get("raster-resampling")?d.NEAREST:d.LINEAR;u.activeTexture.set(d.TEXTURE0),b.texture.bind(C,d.CLAMP_TO_EDGE,d.LINEAR_MIPMAP_NEAREST),u.activeTexture.set(d.TEXTURE1),x?(x.texture.bind(C,d.CLAMP_TO_EDGE,d.LINEAR_MIPMAP_NEAREST),T=Math.pow(2,x.tileID.overscaledZ-b.tileID.overscaledZ),P=[b.tileID.canonical.x*T%1,b.tileID.canonical.y*T%1]):b.texture.bind(C,d.CLAMP_TO_EDGE,d.LINEAR_MIPMAP_NEAREST),b.texture.useMipmap&&u.extTextureFilterAnisotropic&&e.transform.pitch>20&&d.texParameterf(d.TEXTURE_2D,u.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,u.extTextureFilterAnisotropicMax);const I=e.style.map.terrain&&e.style.map.terrain.getTerrainData(v),M=p.getProjectionData({overscaledTileID:v,aligned:g,applyGlobeMatrix:!c,applyTerrainMatrix:!0}),S=Yi(P||[0,0],T||1,w,i,n),E=m.getMeshFromTileID(u,v.canonical,a,s,"raster");_.draw(u,d.TRIANGLES,o,r?r[v.overscaledZ]:Vt.disabled,f,l?Zt.frontCCW:Zt.backCCW,S,I,M,i.id,E.vertexBuffer,E.indexBuffer,E.segments);}}function mr(e,i,o,r,a,n){const l=r.paint.get("raster-fade-duration");if(!n&&l>0){const r=s.now(),n=(r-e.timeAdded)/l,c=i?(r-i.timeAdded)/l:-1,h=o.getSource(),u=ge(a,{tileSize:h.tileSize,roundZoom:h.roundZoom}),d=!i||Math.abs(i.tileID.overscaledZ-u)>Math.abs(e.tileID.overscaledZ-u),_=d&&e.refreshedUponExpiration?1:t.ag(d?n:1-c,0,1);return e.refreshedUponExpiration&&n>=1&&(e.refreshedUponExpiration=!1),i?{opacity:1,mix:1-_}:{opacity:_,mix:0}}return {opacity:1,mix:0}}const fr=new t.be(1,0,0,1),gr=new t.be(0,1,0,1),vr=new t.be(0,0,1,1),br=new t.be(1,0,1,1),xr=new t.be(0,1,1,1);function yr(e,t,i,o){Tr(e,0,t+i/2,e.transform.width,i,o);}function wr(e,t,i,o){Tr(e,t-i/2,0,i,e.transform.height,o);}function Tr(e,t,i,o,r,a){const s=e.context,n=s.gl;n.enable(n.SCISSOR_TEST),n.scissor(t*e.pixelRatio,i*e.pixelRatio,o*e.pixelRatio,r*e.pixelRatio),s.clear({color:a}),n.disable(n.SCISSOR_TEST);}function Pr(e,i,o){const r=e.context,a=r.gl,s=e.useProgram("debug"),n=Ut.disabled,l=Vt.disabled,c=e.colorModeForRenderPass(),h="$debug",u=e.style.map.terrain&&e.style.map.terrain.getTerrainData(o);r.activeTexture.set(a.TEXTURE0);const d=i.getTileByID(o.key).latestRawTileData,_=Math.floor((d&&d.byteLength||0)/1024),p=i.getTile(o).tileSize,m=512/Math.min(p,512)*(o.overscaledZ/e.transform.zoom)*.5;let f=o.canonical.toString();o.overscaledZ!==o.canonical.z&&(f+=` => ${o.overscaledZ}`),function(e,t){e.initDebugOverlayCanvas();const i=e.debugOverlayCanvas,o=e.context.gl,r=e.debugOverlayCanvas.getContext("2d");r.clearRect(0,0,i.width,i.height),r.shadowColor="white",r.shadowBlur=2,r.lineWidth=1.5,r.strokeStyle="white",r.textBaseline="top",r.font="bold 36px Open Sans, sans-serif",r.fillText(t,5,5),r.strokeText(t,5,5),e.debugOverlayTexture.update(i),e.debugOverlayTexture.bind(o.LINEAR,o.CLAMP_TO_EDGE);}(e,`${f} ${_}kB`);const g=e.transform.getProjectionData({overscaledTileID:o,applyGlobeMatrix:!0,applyTerrainMatrix:!0});s.draw(r,a.TRIANGLES,n,l,jt.alphaBlended,Zt.disabled,Oi(t.be.transparent,m),null,g,h,e.debugBuffer,e.quadTriangleIndexBuffer,e.debugSegments),s.draw(r,a.LINE_STRIP,n,l,c,Zt.disabled,Oi(t.be.red),u,g,h,e.debugBuffer,e.tileBorderIndexBuffer,e.debugSegments);}function Cr(e,t,i,o){const{isRenderingGlobe:r}=o,a=e.context,s=a.gl,n=e.transform,l=e.colorModeForRenderPass(),c=e.getDepthModeFor3D(),h=e.useProgram("terrain");a.bindFramebuffer.set(null),a.viewport.set([0,0,e.width,e.height]);for(const o of i){const i=t.getTerrainMesh(o.tileID),u=e.renderToTexture.getTexture(o),d=t.getTerrainData(o.tileID);a.activeTexture.set(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,u.texture);const _=t.getMeshFrameDelta(n.zoom),p=n.calculateFogMatrix(o.tileID.toUnwrapped()),m=Ci(_,p,e.style.sky,n.pitch,r),f=n.getProjectionData({overscaledTileID:o.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});h.draw(a,s.TRIANGLES,c,Vt.disabled,l,Zt.backCCW,m,d,f,"terrain",i.vertexBuffer,i.indexBuffer,i.segments);}}function Ir(e,i){if(!i.mesh){const o=new t.aK;o.emplaceBack(-1,-1),o.emplaceBack(1,-1),o.emplaceBack(1,1),o.emplaceBack(-1,1);const r=new t.aM;r.emplaceBack(0,1,2),r.emplaceBack(0,2,3),i.mesh=new wt(e.createVertexBuffer(o,Tt.members),e.createIndexBuffer(r),t.aL.simpleSegment(0,0,o.length,r.length));}return i.mesh}class Mr{constructor(e,i){this.context=new Ho(e),this.transform=i,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:t.af(new Float64Array(16)),renderTime:0},this.setup(),this.numSublayers=xe.maxUnderzooming+xe.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new vt;}resize(e,t,i){if(this.width=Math.floor(e*i),this.height=Math.floor(t*i),this.pixelRatio=i,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const e of this.style._order)this.style._layers[e].resize();}setup(){const e=this.context,i=new t.aK;i.emplaceBack(0,0),i.emplaceBack(t.$,0),i.emplaceBack(0,t.$),i.emplaceBack(t.$,t.$),this.tileExtentBuffer=e.createVertexBuffer(i,Tt.members),this.tileExtentSegments=t.aL.simpleSegment(0,0,4,2);const o=new t.aK;o.emplaceBack(0,0),o.emplaceBack(t.$,0),o.emplaceBack(0,t.$),o.emplaceBack(t.$,t.$),this.debugBuffer=e.createVertexBuffer(o,Tt.members),this.debugSegments=t.aL.simpleSegment(0,0,4,5);const r=new t.c5;r.emplaceBack(0,0,0,0),r.emplaceBack(t.$,0,t.$,0),r.emplaceBack(0,t.$,0,t.$),r.emplaceBack(t.$,t.$,t.$,t.$),this.rasterBoundsBuffer=e.createVertexBuffer(r,Ti.members),this.rasterBoundsSegments=t.aL.simpleSegment(0,0,4,2);const a=new t.aK;a.emplaceBack(0,0),a.emplaceBack(t.$,0),a.emplaceBack(0,t.$),a.emplaceBack(t.$,t.$),this.rasterBoundsBufferPosOnly=e.createVertexBuffer(a,Tt.members),this.rasterBoundsSegmentsPosOnly=t.aL.simpleSegment(0,0,4,5);const s=new t.aK;s.emplaceBack(0,0),s.emplaceBack(1,0),s.emplaceBack(0,1),s.emplaceBack(1,1),this.viewportBuffer=e.createVertexBuffer(s,Tt.members),this.viewportSegments=t.aL.simpleSegment(0,0,4,2);const n=new t.c6;n.emplaceBack(0),n.emplaceBack(1),n.emplaceBack(3),n.emplaceBack(2),n.emplaceBack(0),this.tileBorderIndexBuffer=e.createIndexBuffer(n);const l=new t.aM;l.emplaceBack(1,0,2),l.emplaceBack(1,2,3),this.quadTriangleIndexBuffer=e.createIndexBuffer(l);const c=this.context.gl;this.stencilClearMode=new Vt({func:c.ALWAYS,mask:0},0,255,c.ZERO,c.ZERO,c.ZERO),this.tileExtentMesh=new wt(this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments);}clearStencil(){const e=this.context,i=e.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const o=t.L();t.bX(o,0,this.width,this.height,0,0,1),t.N(o,o,[i.drawingBufferWidth,i.drawingBufferHeight,0]);const r={mainMatrix:o,tileMercatorCoords:[0,0,1,1],clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:o};this.useProgram("clippingMask",null,!0).draw(e,i.TRIANGLES,Ut.disabled,this.stencilClearMode,jt.disabled,Zt.disabled,null,null,r,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments);}_renderTileClippingMasks(e,t,i){if(this.currentStencilSource===e.source||!e.isTileClipped()||!t||!t.length)return;this.currentStencilSource=e.source,this.nextStencilID+t.length>256&&this.clearStencil();const o=this.context;o.setColorMode(jt.disabled),o.setDepthMode(Ut.disabled);const r={};for(const e of t)r[e.key]=this.nextStencilID++;this._renderTileMasks(r,t,i,!0),this._renderTileMasks(r,t,i,!1),this._tileClippingMaskIDs=r;}_renderTileMasks(e,t,i,o){const r=this.context,a=r.gl,s=this.style.projection,n=this.transform,l=this.useProgram("clippingMask");for(const c of t){const t=e[c.key],h=this.style.map.terrain&&this.style.map.terrain.getTerrainData(c),u=s.getMeshFromTileID(this.context,c.canonical,o,!0,"stencil"),d=n.getProjectionData({overscaledTileID:c,applyGlobeMatrix:!i,applyTerrainMatrix:!0});l.draw(r,a.TRIANGLES,Ut.disabled,new Vt({func:a.ALWAYS,mask:0},t,255,a.KEEP,a.KEEP,a.REPLACE),jt.disabled,i?Zt.disabled:Zt.backCCW,null,h,d,"$clipping",u.vertexBuffer,u.indexBuffer,u.segments);}}_renderTilesDepthBuffer(){const e=this.context,t=e.gl,i=this.style.projection,o=this.transform,r=this.useProgram("depth"),a=this.getDepthModeFor3D(),s=ve(o,{tileSize:o.tileSize});for(const n of s){const s=this.style.map.terrain&&this.style.map.terrain.getTerrainData(n),l=i.getMeshFromTileID(this.context,n.canonical,!0,!0,"raster"),c=o.getProjectionData({overscaledTileID:n,applyGlobeMatrix:!0,applyTerrainMatrix:!0});r.draw(e,t.TRIANGLES,a,Vt.disabled,jt.disabled,Zt.backCCW,null,s,c,"$clipping",l.vertexBuffer,l.indexBuffer,l.segments);}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const e=this.nextStencilID++,t=this.context.gl;return new Vt({func:t.NOTEQUAL,mask:255},e,255,t.KEEP,t.KEEP,t.REPLACE)}stencilModeForClipping(e){const t=this.context.gl;return new Vt({func:t.EQUAL,mask:255},this._tileClippingMaskIDs[e.key],0,t.KEEP,t.KEEP,t.REPLACE)}getStencilConfigForOverlapAndUpdateStencilID(e){const t=this.context.gl,i=e.sort(((e,t)=>t.overscaledZ-e.overscaledZ)),o=i[i.length-1].overscaledZ,r=i[0].overscaledZ-o+1;if(r>1){this.currentStencilSource=void 0,this.nextStencilID+r>256&&this.clearStencil();const e={};for(let i=0;i<r;i++)e[i+o]=new Vt({func:t.GEQUAL,mask:255},i+this.nextStencilID,255,t.KEEP,t.KEEP,t.REPLACE);return this.nextStencilID+=r,[e,i]}return [{[o]:Vt.disabled},i]}stencilConfigForOverlapTwoPass(e){const t=this.context.gl,i=e.sort(((e,t)=>t.overscaledZ-e.overscaledZ)),o=i[i.length-1].overscaledZ,r=i[0].overscaledZ-o+1;if(this.clearStencil(),r>1){const e={},a={};for(let i=0;i<r;i++)e[i+o]=new Vt({func:t.GREATER,mask:255},r+1+i,255,t.KEEP,t.KEEP,t.REPLACE),a[i+o]=new Vt({func:t.GREATER,mask:255},1+i,255,t.KEEP,t.KEEP,t.REPLACE);return this.nextStencilID=2*r+1,[e,a,i]}return this.nextStencilID=3,[{[o]:new Vt({func:t.GREATER,mask:255},2,255,t.KEEP,t.KEEP,t.REPLACE)},{[o]:new Vt({func:t.GREATER,mask:255},1,255,t.KEEP,t.KEEP,t.REPLACE)},i]}colorModeForRenderPass(){const e=this.context.gl;if(this._showOverdrawInspector){const i=1/8;return new jt([e.CONSTANT_COLOR,e.ONE],new t.be(i,i,i,0),[!0,!0,!0,!0])}return "opaque"===this.renderPass?jt.unblended:jt.alphaBlended}getDepthModeForSublayer(e,t,i){if(!this.opaquePassEnabledForLayer())return Ut.disabled;const o=1-((1+this.currentLayer)*this.numSublayers+e)*this.depthEpsilon;return new Ut(i||this.context.gl.LEQUAL,t,[o,o])}getDepthModeFor3D(){return new Ut(this.context.gl.LEQUAL,Ut.ReadWrite,this.depthRangeFor3D)}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(e,i){var o,r;this.style=e,this.options=i,this.lineAtlas=e.lineAtlas,this.imageManager=e.imageManager,this.glyphManager=e.glyphManager,this.symbolFadeChange=e.placement.symbolFadeChange(s.now()),this.imageManager.beginFrame();const a=this.style._order,n=this.style.sourceCaches,l={},c={},h={},u={isRenderingToTexture:!1,isRenderingGlobe:(null===(o=e.projection)||void 0===o?void 0:o.transitionState)>0};for(const e in n){const t=n[e];t.used&&t.prepare(this.context),l[e]=t.getVisibleCoordinates(!1),c[e]=l[e].slice().reverse(),h[e]=t.getVisibleCoordinates(!0).reverse();}this.opaquePassCutoff=1/0;for(let e=0;e<a.length;e++)if(this.style._layers[a[e]].is3D()){this.opaquePassCutoff=e;break}this.maybeDrawDepthAndCoords(!1),this.renderToTexture&&(this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0),this.renderPass="offscreen";for(const e of a){const t=this.style._layers[e];if(!t.hasOffscreenPass()||t.isHidden(this.transform.zoom))continue;const i=c[t.source];("custom"===t.type||i.length)&&this.renderLayer(this,n[t.source],t,i,u);}if(null===(r=this.style.projection)||void 0===r||r.updateGPUdependent({context:this.context,useProgram:e=>this.useProgram(e)}),this.context.viewport.set([0,0,this.width,this.height]),this.context.bindFramebuffer.set(null),this.context.clear({color:i.showOverdrawInspector?t.be.black:t.be.transparent,depth:1}),this.clearStencil(),this.style.sky&&function(e,t){const i=e.context,o=i.gl,r=((e,t,i)=>{const o=Math.cos(t.rollInRadians),r=Math.sin(t.rollInRadians),a=he(t),s=t.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}).projectionTransition;return {u_sky_color:e.properties.get("sky-color"),u_horizon_color:e.properties.get("horizon-color"),u_horizon:[(t.width/2-a*r)*i,(t.height/2+a*o)*i],u_horizon_normal:[-r,o],u_sky_horizon_blend:e.properties.get("sky-horizon-blend")*t.height/2*i,u_sky_blend:s}})(t,e.style.map.transform,e.pixelRatio),a=new Ut(o.LEQUAL,Ut.ReadWrite,[0,1]),s=Vt.disabled,n=e.colorModeForRenderPass(),l=e.useProgram("sky"),c=Ir(i,t);l.draw(i,o.TRIANGLES,a,s,n,Zt.disabled,r,null,void 0,"sky",c.vertexBuffer,c.indexBuffer,c.segments);}(this,this.style.sky),this._showOverdrawInspector=i.showOverdrawInspector,this.depthRangeFor3D=[0,1-(e._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=a.length-1;this.currentLayer>=0;this.currentLayer--){const e=this.style._layers[a[this.currentLayer]],t=n[e.source],i=l[e.source];this._renderTileClippingMasks(e,i,!1),this.renderLayer(this,t,e,i,u);}this.renderPass="translucent";let d=!1;for(this.currentLayer=0;this.currentLayer<a.length;this.currentLayer++){const e=this.style._layers[a[this.currentLayer]],t=n[e.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(e,u))continue;this.opaquePassEnabledForLayer()||d||(d=!0,u.isRenderingGlobe&&!this.style.map.terrain&&this._renderTilesDepthBuffer());const i=("symbol"===e.type?h:c)[e.source];this._renderTileClippingMasks(e,l[e.source],!!this.renderToTexture),this.renderLayer(this,t,e,i,u);}if(u.isRenderingGlobe&&function(e,i,o){const r=e.context,a=r.gl,s=e.useProgram("atmosphere"),n=new Ut(a.LEQUAL,Ut.ReadOnly,[0,1]),l=e.transform,c=function(e,i){const o=e.properties.get("position"),r=[-o.x,-o.y,-o.z],a=t.af(new Float64Array(16));return "map"===e.properties.get("anchor")&&(t.b5(a,a,i.rollInRadians),t.b6(a,a,-i.pitchInRadians),t.b5(a,a,i.bearingInRadians),t.b6(a,a,i.center.lat*Math.PI/180),t.by(a,a,-i.center.lng*Math.PI/180)),t.c4(r,r,a),r}(o,e.transform),h=l.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),u=i.properties.get("atmosphere-blend")*h.projectionTransition;if(0===u)return;const d=oi(l.worldSize,l.center.lat),_=l.inverseProjectionMatrix,p=new Float64Array(4);p[3]=1,t.av(p,p,l.modelViewProjectionMatrix),p[0]/=p[3],p[1]/=p[3],p[2]/=p[3],p[3]=1,t.av(p,p,_),p[0]/=p[3],p[1]/=p[3],p[2]/=p[3],p[3]=1;const m=((e,t,i,o,r)=>({u_sun_pos:e,u_atmosphere_blend:t,u_globe_position:i,u_globe_radius:o,u_inv_proj_matrix:r}))(c,u,[p[0],p[1],p[2]],d,_),f=Ir(r,i);s.draw(r,a.TRIANGLES,n,Vt.disabled,jt.alphaBlended,Zt.disabled,m,null,null,"atmosphere",f.vertexBuffer,f.indexBuffer,f.segments);}(this,this.style.sky,this.style.light),this.options.showTileBoundaries){const e=function(e,t){let i=null;const o=Object.values(e._layers).flatMap((i=>i.source&&!i.isHidden(t)?[e.sourceCaches[i.source]]:[])),r=o.filter((e=>"vector"===e.getSource().type)),a=o.filter((e=>"vector"!==e.getSource().type)),s=e=>{(!i||i.getSource().maxzoom<e.getSource().maxzoom)&&(i=e);};return r.forEach((e=>s(e))),i||a.forEach((e=>s(e))),i}(this.style,this.transform.zoom);e&&function(e,t,i){for(let o=0;o<i.length;o++)Pr(e,t,i[o]);}(this,e,e.getVisibleCoordinates());}this.options.showPadding&&function(e){const t=e.transform.padding;yr(e,e.transform.height-(t.top||0),3,fr),yr(e,t.bottom||0,3,gr),wr(e,t.left||0,3,vr),wr(e,e.transform.width-(t.right||0),3,br);const i=e.transform.centerPoint;!function(e,t,i,o){Tr(e,t-1,i-10,2,20,o),Tr(e,t-10,i-1,20,2,o);}(e,i.x,e.transform.height-i.y,xr);}(this),this.context.setDefault();}maybeDrawDepthAndCoords(e){if(!this.style||!this.style.map||!this.style.map.terrain)return;const i=this.terrainFacilitator.matrix,o=this.transform.modelViewProjectionMatrix;let r=this.terrainFacilitator.dirty;r||(r=e?!t.c7(i,o):!t.c8(i,o)),r||(r=this.style.map.terrain.sourceCache.anyTilesAfterTime(this.terrainFacilitator.renderTime)),r&&(t.c9(i,o),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(e,i){const o=e.context,r=o.gl,a=e.transform,s=jt.unblended,n=new Ut(r.LEQUAL,Ut.ReadWrite,[0,1]),l=i.sourceCache.getRenderableTiles(),c=e.useProgram("terrainDepth");o.bindFramebuffer.set(i.getFramebuffer("depth").framebuffer),o.viewport.set([0,0,e.width/devicePixelRatio,e.height/devicePixelRatio]),o.clear({color:t.be.transparent,depth:1});for(const e of l){const t=i.getTerrainMesh(e.tileID),l=i.getTerrainData(e.tileID),h=a.getProjectionData({overscaledTileID:e.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0}),u={u_ele_delta:i.getMeshFrameDelta(a.zoom)};c.draw(o,r.TRIANGLES,n,Vt.disabled,s,Zt.backCCW,u,l,h,"terrain",t.vertexBuffer,t.indexBuffer,t.segments);}o.bindFramebuffer.set(null),o.viewport.set([0,0,e.width,e.height]);}(this,this.style.map.terrain),function(e,i){const o=e.context,r=o.gl,a=e.transform,s=jt.unblended,n=new Ut(r.LEQUAL,Ut.ReadWrite,[0,1]),l=i.getCoordsTexture(),c=i.sourceCache.getRenderableTiles(),h=e.useProgram("terrainCoords");o.bindFramebuffer.set(i.getFramebuffer("coords").framebuffer),o.viewport.set([0,0,e.width/devicePixelRatio,e.height/devicePixelRatio]),o.clear({color:t.be.transparent,depth:1}),i.coordsIndex=[];for(const e of c){const t=i.getTerrainMesh(e.tileID),c=i.getTerrainData(e.tileID);o.activeTexture.set(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,l.texture);const u={u_terrain_coords_id:(255-i.coordsIndex.length)/255,u_texture:0,u_ele_delta:i.getMeshFrameDelta(a.zoom)},d=a.getProjectionData({overscaledTileID:e.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});h.draw(o,r.TRIANGLES,n,Vt.disabled,s,Zt.backCCW,u,c,d,"terrain",t.vertexBuffer,t.indexBuffer,t.segments),i.coordsIndex.push(e.tileID.key);}o.bindFramebuffer.set(null),o.viewport.set([0,0,e.width,e.height]);}(this,this.style.map.terrain));}renderLayer(e,i,o,r,a){o.isHidden(this.transform.zoom)||("background"===o.type||"custom"===o.type||(r||[]).length)&&(this.id=o.id,t.ca(o)?function(e,i,o,r,a,s){if("translucent"!==e.renderPass)return;const{isRenderingToTexture:n}=s,l=Vt.disabled,c=e.colorModeForRenderPass();(o._unevaluatedLayout.hasValue("text-variable-anchor")||o._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(e,i,o,r,a,s,n,l,c){const h=i.transform,u=i.style.map.terrain,d="map"===a,_="map"===s;for(const a of e){const e=r.getTile(a),s=e.getBucket(o);if(!s||!s.text||!s.text.segments.get().length)continue;const p=t.am(s.textSizeData,h.zoom),m=t.aB(e,1,i.transform.zoom),f=Ie(d,i.transform,m),g="none"!==o.layout.get("icon-text-fit")&&s.hasIconData();if(p){const i=Math.pow(2,h.zoom-e.tileID.overscaledZ),o=u?(e,t)=>u.getElevation(a,e,t):null;er(s,d,_,c,h,f,i,p,g,t.aC(h,e,n,l),a.toUnwrapped(),o);}}}(r,e,o,i,o.layout.get("text-rotation-alignment"),o.layout.get("text-pitch-alignment"),o.paint.get("text-translate"),o.paint.get("text-translate-anchor"),a),0!==o.paint.get("icon-opacity").constantOr(1)&&ir(e,i,o,r,!1,o.paint.get("icon-translate"),o.paint.get("icon-translate-anchor"),o.layout.get("icon-rotation-alignment"),o.layout.get("icon-pitch-alignment"),o.layout.get("icon-keep-upright"),l,c,n),0!==o.paint.get("text-opacity").constantOr(1)&&ir(e,i,o,r,!0,o.paint.get("text-translate"),o.paint.get("text-translate-anchor"),o.layout.get("text-rotation-alignment"),o.layout.get("text-pitch-alignment"),o.layout.get("text-keep-upright"),l,c,n),i.map.showCollisionBoxes&&(Ko(e,i,o,r,!0),Ko(e,i,o,r,!1));}(e,i,o,r,this.style.placement.variableOffsets,a):t.cb(o)?function(e,i,o,r,a){if("translucent"!==e.renderPass)return;const{isRenderingToTexture:s}=a,n=o.paint.get("circle-opacity"),l=o.paint.get("circle-stroke-width"),c=o.paint.get("circle-stroke-opacity"),h=!o.layout.get("circle-sort-key").isConstant();if(0===n.constantOr(1)&&(0===l.constantOr(1)||0===c.constantOr(1)))return;const u=e.context,d=u.gl,_=e.transform,p=e.getDepthModeForSublayer(0,Ut.ReadOnly),m=Vt.disabled,f=e.colorModeForRenderPass(),g=[],v=_.getCircleRadiusCorrection();for(let a=0;a<r.length;a++){const n=r[a],l=i.getTile(n),c=l.getBucket(o);if(!c)continue;const u=o.paint.get("circle-translate"),d=o.paint.get("circle-translate-anchor"),p=t.aC(_,l,u,d),m=c.programConfigurations.get(o.id),f=e.useProgram("circle",m),b=c.layoutVertexBuffer,x=c.indexBuffer,y=e.style.map.terrain&&e.style.map.terrain.getTerrainData(n),w={programConfiguration:m,program:f,layoutVertexBuffer:b,indexBuffer:x,uniformValues:ki(e,l,o,p,v),terrainData:y,projectionData:_.getProjectionData({overscaledTileID:n,applyGlobeMatrix:!s,applyTerrainMatrix:!0})};if(h){const e=c.segments.get();for(const i of e)g.push({segments:new t.aL([i]),sortKey:i.sortKey,state:w});}else g.push({segments:c.segments,sortKey:0,state:w});}h&&g.sort(((e,t)=>e.sortKey-t.sortKey));for(const t of g){const{programConfiguration:i,program:r,layoutVertexBuffer:a,indexBuffer:s,uniformValues:n,terrainData:l,projectionData:c}=t.state;r.draw(u,d.TRIANGLES,p,m,f,Zt.backCCW,n,l,c,o.id,a,s,t.segments,o.paint,e.transform.zoom,i);}}(e,i,o,r,a):t.cc(o)?function(e,i,o,r,a){if(0===o.paint.get("heatmap-opacity"))return;const s=e.context,{isRenderingToTexture:n,isRenderingGlobe:l}=a;if(e.style.map.terrain){for(const t of r){const r=i.getTile(t);i.hasRenderableParent(t)||("offscreen"===e.renderPass?rr(e,r,o,t,l):"translucent"===e.renderPass&&ar(e,o,t,n,l));}s.viewport.set([0,0,e.width,e.height]);}else "offscreen"===e.renderPass?function(e,i,o,r){const a=e.context,s=a.gl,n=e.transform,l=Vt.disabled,c=new jt([s.ONE,s.ONE],t.be.transparent,[!0,!0,!0,!0]);((function(e,i,o){const r=e.gl;e.activeTexture.set(r.TEXTURE1),e.viewport.set([0,0,i.width/4,i.height/4]);let a=o.heatmapFbos.get(t.c1);a?(r.bindTexture(r.TEXTURE_2D,a.colorAttachment.get()),e.bindFramebuffer.set(a.framebuffer)):(a=sr(e,i.width/4,i.height/4),o.heatmapFbos.set(t.c1,a));}))(a,e,o),a.clear({color:t.be.transparent});for(let t=0;t<r.length;t++){const h=r[t];if(i.hasRenderableParent(h))continue;const u=i.getTile(h),d=u.getBucket(o);if(!d)continue;const _=d.programConfigurations.get(o.id),p=e.useProgram("heatmap",_),m=n.getProjectionData({overscaledTileID:h,applyGlobeMatrix:!0,applyTerrainMatrix:!1}),f=n.getCircleRadiusCorrection();p.draw(a,s.TRIANGLES,Ut.disabled,l,c,Zt.backCCW,ji(u,n.zoom,o.paint.get("heatmap-intensity"),f),null,m,o.id,d.layoutVertexBuffer,d.indexBuffer,d.segments,o.paint,n.zoom,_);}a.viewport.set([0,0,e.width,e.height]);}(e,i,o,r):"translucent"===e.renderPass&&function(e,i){const o=e.context,r=o.gl;o.setColorMode(e.colorModeForRenderPass());const a=i.heatmapFbos.get(t.c1);a&&(o.activeTexture.set(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,a.colorAttachment.get()),o.activeTexture.set(r.TEXTURE1),nr(o,i).bind(r.LINEAR,r.CLAMP_TO_EDGE),e.useProgram("heatmapTexture").draw(o,r.TRIANGLES,Ut.disabled,Vt.disabled,e.colorModeForRenderPass(),Zt.disabled,Ni(e,i,0,1),null,null,i.id,e.viewportBuffer,e.quadTriangleIndexBuffer,e.viewportSegments,i.paint,e.transform.zoom));}(e,o);}(e,i,o,r,a):t.cd(o)?function(e,i,o,r,a){if("translucent"!==e.renderPass)return;const{isRenderingToTexture:s}=a,n=o.paint.get("line-opacity"),l=o.paint.get("line-width");if(0===n.constantOr(1)||0===l.constantOr(1))return;const c=e.getDepthModeForSublayer(0,Ut.ReadOnly),h=e.colorModeForRenderPass(),u=o.paint.get("line-dasharray"),d=o.paint.get("line-pattern"),_=d.constantOr(1),p=o.paint.get("line-gradient"),m=o.getCrossfadeParameters(),f=_?"linePattern":u?"lineSDF":p?"lineGradient":"line",g=e.context,v=g.gl,b=e.transform;let x=!0;for(const a of r){const r=i.getTile(a);if(_&&!r.patternsLoaded())continue;const n=r.getBucket(o);if(!n)continue;const l=n.programConfigurations.get(o.id),y=e.context.program.get(),w=e.useProgram(f,l),T=x||w.program!==y,P=e.style.map.terrain&&e.style.map.terrain.getTerrainData(a),C=d.constantOr(null);if(C&&r.imageAtlas){const e=r.imageAtlas,t=e.patternPositions[C.to.toString()],i=e.patternPositions[C.from.toString()];t&&i&&l.setConstantPatternPositions(t,i);}const I=b.getProjectionData({overscaledTileID:a,applyGlobeMatrix:!s,applyTerrainMatrix:!0}),M=b.getPixelScale(),S=_?Wi(e,r,o,M,m):u?Hi(e,r,o,M,u,m):p?qi(e,r,o,M,n.lineClipsArray.length):$i(e,r,o,M);if(_)g.activeTexture.set(v.TEXTURE0),r.imageAtlasTexture.bind(v.LINEAR,v.CLAMP_TO_EDGE),l.updatePaintBuffers(m);else if(u&&(T||e.lineAtlas.dirty))g.activeTexture.set(v.TEXTURE0),e.lineAtlas.bind(g);else if(p){const r=n.gradients[o.id];let s=r.texture;if(o.gradientVersion!==r.version){let l=256;if(o.stepInterpolant){const o=i.getSource().maxzoom,r=a.canonical.z===o?Math.ceil(1<<e.transform.maxZoom-a.canonical.z):1;l=t.ag(t.c2(n.maxLineLength/t.$*1024*r),256,g.maxTextureSize);}r.gradient=t.c3({expression:o.gradientExpression(),evaluationKey:"lineProgress",resolution:l,image:r.gradient||void 0,clips:n.lineClipsArray}),r.texture?r.texture.update(r.gradient):r.texture=new t.T(g,r.gradient,v.RGBA),r.version=o.gradientVersion,s=r.texture;}g.activeTexture.set(v.TEXTURE0),s.bind(o.stepInterpolant?v.NEAREST:v.LINEAR,v.CLAMP_TO_EDGE);}const E=e.stencilModeForClipping(a);w.draw(g,v.TRIANGLES,c,E,h,Zt.disabled,S,P,I,o.id,n.layoutVertexBuffer,n.indexBuffer,n.segments,o.paint,e.transform.zoom,l,n.layoutVertexBuffer2),x=!1;}}(e,i,o,r,a):t.ce(o)?function(e,i,o,r,a){const s=o.paint.get("fill-color"),n=o.paint.get("fill-opacity");if(0===n.constantOr(1))return;const{isRenderingToTexture:l}=a,c=e.colorModeForRenderPass(),h=o.paint.get("fill-pattern"),u=e.opaquePassEnabledForLayer()&&!h.constantOr(1)&&1===s.constantOr(t.be.transparent).a&&1===n.constantOr(0)?"opaque":"translucent";if(e.renderPass===u){const t=e.getDepthModeForSublayer(1,"opaque"===e.renderPass?Ut.ReadWrite:Ut.ReadOnly);cr(e,i,o,r,t,c,!1,l);}if("translucent"===e.renderPass&&o.paint.get("fill-antialias")){const t=e.getDepthModeForSublayer(o.getPaintProperty("fill-outline-color")?2:0,Ut.ReadOnly);cr(e,i,o,r,t,c,!0,l);}}(e,i,o,r,a):t.cf(o)?function(e,t,i,o,r){const a=i.paint.get("fill-extrusion-opacity");if(0===a)return;const{isRenderingToTexture:s}=r;if("translucent"===e.renderPass){const r=new Ut(e.context.gl.LEQUAL,Ut.ReadWrite,e.depthRangeFor3D);if(1!==a||i.paint.get("fill-extrusion-pattern").constantOr(1))hr(e,t,i,o,r,Vt.disabled,jt.disabled,s),hr(e,t,i,o,r,e.stencilModeFor3D(),e.colorModeForRenderPass(),s);else {const a=e.colorModeForRenderPass();hr(e,t,i,o,r,Vt.disabled,a,s);}}}(e,i,o,r,a):t.cg(o)?function(e,i,o,r,a){if("offscreen"!==e.renderPass&&"translucent"!==e.renderPass)return;const{isRenderingToTexture:s}=a,n=e.context,l=e.style.projection.useSubdivision,c=e.getDepthModeForSublayer(0,Ut.ReadOnly),h=e.colorModeForRenderPass();if("offscreen"===e.renderPass)!function(e,i,o,r,a,s,n){const l=e.context,c=l.gl;for(const h of o){const o=i.getTile(h),u=o.dem;if(!u||!u.data)continue;if(!o.needsHillshadePrepare)continue;const d=u.dim,_=u.stride,p=u.getPixels();if(l.activeTexture.set(c.TEXTURE1),l.pixelStoreUnpackPremultiplyAlpha.set(!1),o.demTexture=o.demTexture||e.getTileTexture(_),o.demTexture){const e=o.demTexture;e.update(p,{premultiply:!1}),e.bind(c.NEAREST,c.CLAMP_TO_EDGE);}else o.demTexture=new t.T(l,p,c.RGBA,{premultiply:!1}),o.demTexture.bind(c.NEAREST,c.CLAMP_TO_EDGE);l.activeTexture.set(c.TEXTURE0);let m=o.fbo;if(!m){const e=new t.T(l,{width:d,height:d,data:null},c.RGBA);e.bind(c.LINEAR,c.CLAMP_TO_EDGE),m=o.fbo=l.createFramebuffer(d,d,!0,!1),m.colorAttachment.set(e.texture);}l.bindFramebuffer.set(m.framebuffer),l.viewport.set([0,0,d,d]),e.useProgram("hillshadePrepare").draw(l,c.TRIANGLES,a,s,n,Zt.disabled,Ui(o.tileID,u),null,null,r.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments),o.needsHillshadePrepare=!1;}}(e,i,r,o,c,Vt.disabled,h),n.viewport.set([0,0,e.width,e.height]);else if("translucent"===e.renderPass)if(l){const[t,a,n]=e.stencilConfigForOverlapTwoPass(r);ur(e,i,o,n,t,c,h,!1,s),ur(e,i,o,n,a,c,h,!0,s);}else {const[t,a]=e.getStencilConfigForOverlapAndUpdateStencilID(r);ur(e,i,o,a,t,c,h,!1,s);}}(e,i,o,r,a):t.ch(o)?function(e,t,i,o,r){if("translucent"!==e.renderPass)return;if(!o.length)return;const{isRenderingToTexture:a}=r,s=e.style.projection.useSubdivision,n=e.getDepthModeForSublayer(0,Ut.ReadOnly),l=e.colorModeForRenderPass();if(s){const[r,s,c]=e.stencilConfigForOverlapTwoPass(o);dr(e,t,i,c,r,n,l,!1,a),dr(e,t,i,c,s,n,l,!0,a);}else {const[r,s]=e.getStencilConfigForOverlapAndUpdateStencilID(o);dr(e,t,i,s,r,n,l,!1,a);}}(e,i,o,r,a):t.ci(o)?function(e,t,i,o,r){if("translucent"!==e.renderPass)return;if(0===i.paint.get("raster-opacity"))return;if(!o.length)return;const{isRenderingToTexture:a}=r,s=t.getSource(),n=e.style.projection.useSubdivision;if(s instanceof X)pr(e,t,i,o,null,!1,!1,s.tileCoords,s.flippedWindingOrder,a);else if(n){const[r,s,n]=e.stencilConfigForOverlapTwoPass(o);pr(e,t,i,n,r,!1,!0,_r,!1,a),pr(e,t,i,n,s,!0,!0,_r,!1,a);}else {const[r,s]=e.getStencilConfigForOverlapAndUpdateStencilID(o);pr(e,t,i,s,r,!1,!0,_r,!1,a);}}(e,i,o,r,a):t.cj(o)?function(e,t,i,o,r){const a=i.paint.get("background-color"),s=i.paint.get("background-opacity");if(0===s)return;const{isRenderingToTexture:n}=r,l=e.context,c=l.gl,h=e.style.projection,u=e.transform,d=u.tileSize,_=i.paint.get("background-pattern");if(e.isPatternMissing(_))return;const p=!_&&1===a.a&&1===s&&e.opaquePassEnabledForLayer()?"opaque":"translucent";if(e.renderPass!==p)return;const m=Vt.disabled,f=e.getDepthModeForSublayer(0,"opaque"===p?Ut.ReadWrite:Ut.ReadOnly),g=e.colorModeForRenderPass(),v=e.useProgram(_?"backgroundPattern":"background"),b=o||ve(u,{tileSize:d,terrain:e.style.map.terrain});_&&(l.activeTexture.set(c.TEXTURE0),e.imageManager.bind(e.context));const x=i.getCrossfadeParameters();for(const t of b){const o=u.getProjectionData({overscaledTileID:t,applyGlobeMatrix:!n,applyTerrainMatrix:!0}),r=_?oo(s,e,_,{tileID:t,tileSize:d},x):io(s,a),p=e.style.map.terrain&&e.style.map.terrain.getTerrainData(t),b=h.getMeshFromTileID(l,t.canonical,!1,!0,"raster");v.draw(l,c.TRIANGLES,f,m,g,Zt.backCCW,r,p,o,i.id,b.vertexBuffer,b.indexBuffer,b.segments);}}(e,0,o,r,a):t.ck(o)&&function(e,t,i,o){const{isRenderingGlobe:r}=o,a=e.context,s=i.implementation,n=e.style.projection,l=e.transform,c=l.getProjectionDataForCustomLayer(r),h={farZ:l.farZ,nearZ:l.nearZ,fov:l.fov*Math.PI/180,modelViewProjectionMatrix:l.modelViewProjectionMatrix,projectionMatrix:l.projectionMatrix,shaderData:{variantName:n.shaderVariantName,vertexShaderPrelude:`const float PI = 3.141592653589793;\nuniform mat4 u_projection_matrix;\n${n.shaderPreludeCode.vertexSource}`,define:n.shaderDefine},defaultProjectionData:c},u=s.renderingMode?s.renderingMode:"2d";if("offscreen"===e.renderPass){const t=s.prerender;t&&(e.setCustomLayerDefaults(),a.setColorMode(e.colorModeForRenderPass()),t.call(s,a.gl,h),a.setDirty(),e.setBaseState());}else if("translucent"===e.renderPass){e.setCustomLayerDefaults(),a.setColorMode(e.colorModeForRenderPass()),a.setStencilMode(Vt.disabled);const t="3d"===u?e.getDepthModeFor3D():e.getDepthModeForSublayer(0,Ut.ReadOnly);a.setDepthMode(t),s.render(a.gl,h),a.setDirty(),e.setBaseState(),a.bindFramebuffer.set(null);}}(e,0,o,a));}saveTileTexture(e){const t=this._tileTextures[e.size[0]];t?t.push(e):this._tileTextures[e.size[0]]=[e];}getTileTexture(e){const t=this._tileTextures[e];return t&&t.length>0?t.pop():null}isPatternMissing(e){if(!e)return !1;if(!e.from||!e.to)return !0;const t=this.imageManager.getPattern(e.from.toString()),i=this.imageManager.getPattern(e.to.toString());return !t||!i}useProgram(e,t,i=!1,o=[]){this.cache=this.cache||{};const r=!!this.style.map.terrain,a=this.style.projection,s=i?xt.projectionMercator:a.shaderPreludeCode,n=i?Pt:a.shaderDefine,l=e+(t?t.cacheKey:"")+`/${i?Ct:a.shaderVariantName}`+(this._showOverdrawInspector?"/overdraw":"")+(r?"/terrain":"")+(o?`/${o.join("/")}`:"");return this.cache[l]||(this.cache[l]=new Si(this.context,xt[e],t,ao[e],this._showOverdrawInspector,r,s,n,o)),this.cache[l]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault();}setBaseState(){const e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e.FUNC_ADD);}initDebugOverlayCanvas(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new t.T(this.context,this.debugOverlayCanvas,this.context.gl.RGBA));}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy();}overLimit(){const{drawingBufferWidth:e,drawingBufferHeight:t}=this.context.gl;return this.width!==e||this.height!==t}}function Sr(e,t){let i,o=!1,r=null,a=null;const s=()=>{r=null,o&&(e.apply(a,i),r=setTimeout(s,t),o=!1);};return (...e)=>(o=!0,a=this,i=e,r||s(),r)}class Er{constructor(e){this._getCurrentHash=()=>{const e=window.location.hash.replace("#","");if(this._hashName){let t;return e.split("&").map((e=>e.split("="))).forEach((e=>{e[0]===this._hashName&&(t=e);})),(t&&t[1]||"").split("/")}return e.split("/")},this._onHashChange=()=>{const e=this._getCurrentHash();if(!this._isValidHash(e))return !1;const t=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(e[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+e[2],+e[1]],zoom:+e[0],bearing:t,pitch:+(e[4]||0)}),!0},this._updateHashUnthrottled=()=>{const e=window.location.href.replace(/(#.*)?$/,this.getHashString());window.history.replaceState(window.history.state,null,e);},this._removeHash=()=>{const e=this._getCurrentHash();if(0===e.length)return;const t=e.join("/");let i=t;i.split("&").length>0&&(i=i.split("&")[0]),this._hashName&&(i=`${this._hashName}=${t}`);let o=window.location.hash.replace(i,"");o.startsWith("#&")?o=o.slice(0,1)+o.slice(2):"#"===o&&(o="");let r=window.location.href.replace(/(#.+)?$/,o);r=r.replace("&&","&"),window.history.replaceState(window.history.state,null,r);},this._updateHash=Sr(this._updateHashUnthrottled,300),this._hashName=e&&encodeURIComponent(e);}addTo(e){return this._map=e,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),this._removeHash(),delete this._map,this}getHashString(e){const t=this._map.getCenter(),i=Math.round(100*this._map.getZoom())/100,o=Math.ceil((i*Math.LN2+Math.log(512/360/.5))/Math.LN10),r=Math.pow(10,o),a=Math.round(t.lng*r)/r,s=Math.round(t.lat*r)/r,n=this._map.getBearing(),l=this._map.getPitch();let c="";if(c+=e?`/${a}/${s}/${i}`:`${i}/${s}/${a}`,(n||l)&&(c+="/"+Math.round(10*n)/10),l&&(c+=`/${Math.round(l)}`),this._hashName){const e=this._hashName;let t=!1;const i=window.location.hash.slice(1).split("&").map((i=>{const o=i.split("=")[0];return o===e?(t=!0,`${o}=${c}`):i})).filter((e=>e));return t||i.push(`${e}=${c}`),`#${i.join("&")}`}return `#${c}`}_isValidHash(e){if(e.length<3||e.some(isNaN))return !1;try{new t.S(+e[2],+e[1]);}catch(e){return !1}const i=+e[0],o=+(e[3]||0),r=+(e[4]||0);return i>=this._map.getMinZoom()&&i<=this._map.getMaxZoom()&&o>=-180&&o<=180&&r>=this._map.getMinPitch()&&r<=this._map.getMaxPitch()}}const Rr={linearity:.3,easing:t.cl(0,0,.3,1)},zr=t.e({deceleration:2500,maxSpeed:1400},Rr),Dr=t.e({deceleration:20,maxSpeed:1400},Rr),Ar=t.e({deceleration:1e3,maxSpeed:360},Rr),Lr=t.e({deceleration:1e3,maxSpeed:90},Rr),kr=t.e({deceleration:1e3,maxSpeed:360},Rr);class Fr{constructor(e){this._map=e,this.clear();}clear(){this._inertiaBuffer=[];}record(e){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:s.now(),settings:e});}_drainInertiaBuffer(){const e=this._inertiaBuffer,t=s.now();for(;e.length>0&&t-e[0].time>160;)e.shift();}_onMoveEnd(e){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const i={zoom:0,bearing:0,pitch:0,roll:0,pan:new t.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:e}of this._inertiaBuffer)i.zoom+=e.zoomDelta||0,i.bearing+=e.bearingDelta||0,i.pitch+=e.pitchDelta||0,i.roll+=e.rollDelta||0,e.panDelta&&i.pan._add(e.panDelta),e.around&&(i.around=e.around),e.pinchAround&&(i.pinchAround=e.pinchAround);const o=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,r={};if(i.pan.mag()){const a=Or(i.pan.mag(),o,t.e({},zr,e||{})),s=i.pan.mult(a.amount/i.pan.mag()),n=this._map.cameraHelper.handlePanInertia(s,this._map.transform);r.center=n.easingCenter,r.offset=n.easingOffset,Br(r,a);}if(i.zoom){const e=Or(i.zoom,o,Dr);r.zoom=this._map.transform.zoom+e.amount,Br(r,e);}if(i.bearing){const e=Or(i.bearing,o,Ar);r.bearing=this._map.transform.bearing+t.ag(e.amount,-179,179),Br(r,e);}if(i.pitch){const e=Or(i.pitch,o,Lr);r.pitch=this._map.transform.pitch+e.amount,Br(r,e);}if(i.roll){const e=Or(i.roll,o,kr);r.roll=this._map.transform.roll+t.ag(e.amount,-179,179),Br(r,e);}if(r.zoom||r.bearing){const e=void 0===i.pinchAround?i.around:i.pinchAround;r.around=e?this._map.unproject(e):this._map.getCenter();}return this.clear(),t.e(r,{noMoveStart:!0})}}function Br(e,t){(!e.duration||e.duration<t.duration)&&(e.duration=t.duration,e.easing=t.easing);}function Or(e,i,o){const{maxSpeed:r,linearity:a,deceleration:s}=o,n=t.ag(e*a/(i/1e3),-r,r),l=Math.abs(n)/(s*a);return {easing:o.easing,duration:1e3*l,amount:n*(l/2)}}class jr extends t.l{preventDefault(){this._defaultPrevented=!0;}get defaultPrevented(){return this._defaultPrevented}constructor(e,i,o,r={}){o=o instanceof MouseEvent?o:new MouseEvent(e,o);const a=n.mousePos(i.getCanvas(),o),s=i.unproject(a);super(e,t.e({point:a,lngLat:s,originalEvent:o},r)),this._defaultPrevented=!1,this.target=i;}}class Nr extends t.l{preventDefault(){this._defaultPrevented=!0;}get defaultPrevented(){return this._defaultPrevented}constructor(e,i,o){const r="touchend"===e?o.changedTouches:o.touches,a=n.touchPos(i.getCanvasContainer(),r),s=a.map((e=>i.unproject(e))),l=a.reduce(((e,t,i,o)=>e.add(t.div(o.length))),new t.P(0,0));super(e,{points:a,point:l,lngLats:s,lngLat:i.unproject(l),originalEvent:o}),this._defaultPrevented=!1;}}class Zr extends t.l{preventDefault(){this._defaultPrevented=!0;}get defaultPrevented(){return this._defaultPrevented}constructor(e,t,i){super(e,{originalEvent:i}),this._defaultPrevented=!1;}}class Ur{constructor(e,t){this._map=e,this._clickTolerance=t.clickTolerance;}reset(){delete this._mousedownPos;}wheel(e){return this._firePreventable(new Zr(e.type,this._map,e))}mousedown(e,t){return this._mousedownPos=t,this._firePreventable(new jr(e.type,this._map,e))}mouseup(e){this._map.fire(new jr(e.type,this._map,e));}click(e,t){this._mousedownPos&&this._mousedownPos.dist(t)>=this._clickTolerance||this._map.fire(new jr(e.type,this._map,e));}dblclick(e){return this._firePreventable(new jr(e.type,this._map,e))}mouseover(e){this._map.fire(new jr(e.type,this._map,e));}mouseout(e){this._map.fire(new jr(e.type,this._map,e));}touchstart(e){return this._firePreventable(new Nr(e.type,this._map,e))}touchmove(e){this._map.fire(new Nr(e.type,this._map,e));}touchend(e){this._map.fire(new Nr(e.type,this._map,e));}touchcancel(e){this._map.fire(new Nr(e.type,this._map,e));}_firePreventable(e){if(this._map.fire(e),e.defaultPrevented)return {}}isEnabled(){return !0}isActive(){return !1}enable(){}disable(){}}class Gr{constructor(e){this._map=e;}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent;}mousemove(e){this._map.fire(new jr(e.type,this._map,e));}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1;}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new jr("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent);}contextmenu(e){this._delayContextMenu?this._contextMenuEvent=e:this._ignoreContextMenu||this._map.fire(new jr(e.type,this._map,e)),this._map.listens("contextmenu")&&e.preventDefault();}isEnabled(){return !0}isActive(){return !1}enable(){}disable(){}}class Vr{constructor(e){this._map=e;}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return {lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(e){return this.transform.screenPointToLocation(t.P.convert(e),this._map.terrain)}}class $r{constructor(e,t){this._map=e,this._tr=new Vr(e),this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=t.clickTolerance||1;}isEnabled(){return !!this._enabled}isActive(){return !!this._active}enable(){this.isEnabled()||(this._enabled=!0);}disable(){this.isEnabled()&&(this._enabled=!1);}mousedown(e,t){this.isEnabled()&&e.shiftKey&&0===e.button&&(n.disableDrag(),this._startPos=this._lastPos=t,this._active=!0);}mousemoveWindow(e,t){if(!this._active)return;const i=t;if(this._lastPos.equals(i)||!this._box&&i.dist(this._startPos)<this._clickTolerance)return;const o=this._startPos;this._lastPos=i,this._box||(this._box=n.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",e));const r=Math.min(o.x,i.x),a=Math.max(o.x,i.x),s=Math.min(o.y,i.y),l=Math.max(o.y,i.y);n.setTransform(this._box,`translate(${r}px,${s}px)`),this._box.style.width=a-r+"px",this._box.style.height=l-s+"px";}mouseupWindow(e,i){if(!this._active)return;if(0!==e.button)return;const o=this._startPos,r=i;if(this.reset(),n.suppressClick(),o.x!==r.x||o.y!==r.y)return this._map.fire(new t.l("boxzoomend",{originalEvent:e})),{cameraAnimation:e=>e.fitScreenCoordinates(o,r,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",e);}keydown(e){this._active&&27===e.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",e));}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(n.remove(this._box),this._box=null),n.enableDrag(),delete this._startPos,delete this._lastPos;}_fireEvent(e,i){return this._map.fire(new t.l(e,{originalEvent:i}))}}function qr(e,t){if(e.length!==t.length)throw new Error(`The number of touches and points are not equal - touches ${e.length}, points ${t.length}`);const i={};for(let o=0;o<e.length;o++)i[e[o].identifier]=t[o];return i}class Wr{constructor(e){this.reset(),this.numTouches=e.numTouches;}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1;}touchstart(e,i,o){(this.centroid||o.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=e.timeStamp),o.length===this.numTouches&&(this.centroid=function(e){const i=new t.P(0,0);for(const t of e)i._add(t);return i.div(e.length)}(i),this.touches=qr(o,i)));}touchmove(e,t,i){if(this.aborted||!this.centroid)return;const o=qr(i,t);for(const e in this.touches){const t=o[e];(!t||t.dist(this.touches[e])>30)&&(this.aborted=!0);}}touchend(e,t,i){if((!this.centroid||e.timeStamp-this.startTime>500)&&(this.aborted=!0),0===i.length){const e=!this.aborted&&this.centroid;if(this.reset(),e)return e}}}class Hr{constructor(e){this.singleTap=new Wr(e),this.numTaps=e.numTaps,this.reset();}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset();}touchstart(e,t,i){this.singleTap.touchstart(e,t,i);}touchmove(e,t,i){this.singleTap.touchmove(e,t,i);}touchend(e,t,i){const o=this.singleTap.touchend(e,t,i);if(o){const t=e.timeStamp-this.lastTime<500,i=!this.lastTap||this.lastTap.dist(o)<30;if(t&&i||this.reset(),this.count++,this.lastTime=e.timeStamp,this.lastTap=o,this.count===this.numTaps)return this.reset(),o}}}class Xr{constructor(e){this._tr=new Vr(e),this._zoomIn=new Hr({numTouches:1,numTaps:2}),this._zoomOut=new Hr({numTouches:2,numTaps:1}),this.reset();}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset();}touchstart(e,t,i){this._zoomIn.touchstart(e,t,i),this._zoomOut.touchstart(e,t,i);}touchmove(e,t,i){this._zoomIn.touchmove(e,t,i),this._zoomOut.touchmove(e,t,i);}touchend(e,t,i){const o=this._zoomIn.touchend(e,t,i),r=this._zoomOut.touchend(e,t,i),a=this._tr;return o?(this._active=!0,e.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:t=>t.easeTo({duration:300,zoom:a.zoom+1,around:a.unproject(o)},{originalEvent:e})}):r?(this._active=!0,e.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:t=>t.easeTo({duration:300,zoom:a.zoom-1,around:a.unproject(r)},{originalEvent:e})}):void 0}touchcancel(){this.reset();}enable(){this._enabled=!0;}disable(){this._enabled=!1,this.reset();}isEnabled(){return this._enabled}isActive(){return this._active}}class Kr{constructor(e){this._enabled=!!e.enable,this._moveStateManager=e.moveStateManager,this._clickTolerance=e.clickTolerance||1,this._moveFunction=e.move,this._activateOnStart=!!e.activateOnStart,e.assignEvents(this),this.reset();}reset(e){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(e);}_move(...e){const t=this._moveFunction(...e);if(t.bearingDelta||t.pitchDelta||t.rollDelta||t.around||t.panDelta)return this._active=!0,t}dragStart(e,t){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(e)&&(this._moveStateManager.startMove(e),this._lastPoint=Array.isArray(t)?t[0]:t,this._activateOnStart&&this._lastPoint&&(this._active=!0));}dragMove(e,t){if(!this.isEnabled())return;const i=this._lastPoint;if(!i)return;if(e.preventDefault(),!this._moveStateManager.isValidMoveEvent(e))return void this.reset(e);const o=Array.isArray(t)?t[0]:t;return !this._moved&&o.dist(i)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=o,this._move(i,o))}dragEnd(e){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(e)&&(this._moved&&n.suppressClick(),this.reset(e));}enable(){this._enabled=!0;}disable(){this._enabled=!1,this.reset();}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const Yr=0,Qr=2,Jr={[Yr]:1,[Qr]:2};class ea{constructor(e){this._correctEvent=e.checkCorrectEvent;}startMove(e){const t=n.mouseButton(e);this._eventButton=t;}endMove(e){delete this._eventButton;}isValidStartEvent(e){return this._correctEvent(e)}isValidMoveEvent(e){return !function(e,t){const i=Jr[t];return void 0===e.buttons||(e.buttons&i)!==i}(e,this._eventButton)}isValidEndEvent(e){return n.mouseButton(e)===this._eventButton}}class ta{constructor(){this._firstTouch=void 0;}_isOneFingerTouch(e){return 1===e.targetTouches.length}_isSameTouchEvent(e){return e.targetTouches[0].identifier===this._firstTouch}startMove(e){this._firstTouch=e.targetTouches[0].identifier;}endMove(e){delete this._firstTouch;}isValidStartEvent(e){return this._isOneFingerTouch(e)}isValidMoveEvent(e){return this._isOneFingerTouch(e)&&this._isSameTouchEvent(e)}isValidEndEvent(e){return this._isOneFingerTouch(e)&&this._isSameTouchEvent(e)}}class ia{constructor(e=new ea({checkCorrectEvent:()=>!0}),t=new ta){this.mouseMoveStateManager=e,this.oneFingerTouchMoveStateManager=t;}_executeRelevantHandler(e,t,i){return e instanceof MouseEvent?t(e):"undefined"!=typeof TouchEvent&&e instanceof TouchEvent?i(e):void 0}startMove(e){this._executeRelevantHandler(e,(e=>this.mouseMoveStateManager.startMove(e)),(e=>this.oneFingerTouchMoveStateManager.startMove(e)));}endMove(e){this._executeRelevantHandler(e,(e=>this.mouseMoveStateManager.endMove(e)),(e=>this.oneFingerTouchMoveStateManager.endMove(e)));}isValidStartEvent(e){return this._executeRelevantHandler(e,(e=>this.mouseMoveStateManager.isValidStartEvent(e)),(e=>this.oneFingerTouchMoveStateManager.isValidStartEvent(e)))}isValidMoveEvent(e){return this._executeRelevantHandler(e,(e=>this.mouseMoveStateManager.isValidMoveEvent(e)),(e=>this.oneFingerTouchMoveStateManager.isValidMoveEvent(e)))}isValidEndEvent(e){return this._executeRelevantHandler(e,(e=>this.mouseMoveStateManager.isValidEndEvent(e)),(e=>this.oneFingerTouchMoveStateManager.isValidEndEvent(e)))}}const oa=e=>{e.mousedown=e.dragStart,e.mousemoveWindow=e.dragMove,e.mouseup=e.dragEnd,e.contextmenu=e=>{e.preventDefault();};};class ra{constructor(e,t){this._clickTolerance=e.clickTolerance||1,this._map=t,this.reset();}reset(){this._active=!1,this._touches={},this._sum=new t.P(0,0);}_shouldBePrevented(e){return e<(this._map.cooperativeGestures.isEnabled()?2:1)}touchstart(e,t,i){return this._calculateTransform(e,t,i)}touchmove(e,t,i){if(this._active){if(!this._shouldBePrevented(i.length))return e.preventDefault(),this._calculateTransform(e,t,i);this._map.cooperativeGestures.notifyGestureBlocked("touch_pan",e);}}touchend(e,t,i){this._calculateTransform(e,t,i),this._active&&this._shouldBePrevented(i.length)&&this.reset();}touchcancel(){this.reset();}_calculateTransform(e,i,o){o.length>0&&(this._active=!0);const r=qr(o,i),a=new t.P(0,0),s=new t.P(0,0);let n=0;for(const e in r){const t=r[e],i=this._touches[e];i&&(a._add(t),s._add(t.sub(i)),n++,r[e]=t);}if(this._touches=r,this._shouldBePrevented(n)||!s.mag())return;const l=s.div(n);return this._sum._add(l),this._sum.mag()<this._clickTolerance?void 0:{around:a.div(n),panDelta:l}}enable(){this._enabled=!0;}disable(){this._enabled=!1,this.reset();}isEnabled(){return this._enabled}isActive(){return this._active}}class aa{constructor(){this.reset();}reset(){this._active=!1,delete this._firstTwoTouches;}touchstart(e,t,i){this._firstTwoTouches||i.length<2||(this._firstTwoTouches=[i[0].identifier,i[1].identifier],this._start([t[0],t[1]]));}touchmove(e,t,i){if(!this._firstTwoTouches)return;e.preventDefault();const[o,r]=this._firstTwoTouches,a=sa(i,t,o),s=sa(i,t,r);if(!a||!s)return;const n=this._aroundCenter?null:a.add(s).div(2);return this._move([a,s],n,e)}touchend(e,t,i){if(!this._firstTwoTouches)return;const[o,r]=this._firstTwoTouches,a=sa(i,t,o),s=sa(i,t,r);a&&s||(this._active&&n.suppressClick(),this.reset());}touchcancel(){this.reset();}enable(e){this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around;}disable(){this._enabled=!1,this.reset();}isEnabled(){return !!this._enabled}isActive(){return !!this._active}}function sa(e,t,i){for(let o=0;o<e.length;o++)if(e[o].identifier===i)return t[o]}function na(e,t){return Math.log(e/t)/Math.LN2}class la extends aa{reset(){super.reset(),delete this._distance,delete this._startDistance;}_start(e){this._startDistance=this._distance=e[0].dist(e[1]);}_move(e,t){const i=this._distance;if(this._distance=e[0].dist(e[1]),this._active||!(Math.abs(na(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:na(this._distance,i),pinchAround:t}}}function ca(e,t){return 180*e.angleWith(t)/Math.PI}class ha extends aa{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector;}_start(e){this._startVector=this._vector=e[0].sub(e[1]),this._minDiameter=e[0].dist(e[1]);}_move(e,t,i){const o=this._vector;if(this._vector=e[0].sub(e[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:ca(this._vector,o),pinchAround:t}}_isBelowThreshold(e){this._minDiameter=Math.min(this._minDiameter,e.mag());const t=25/(Math.PI*this._minDiameter)*360,i=ca(e,this._startVector);return Math.abs(i)<t}}function ua(e){return Math.abs(e.y)>Math.abs(e.x)}class da extends aa{constructor(e){super(),this._currentTouchCount=0,this._map=e;}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints;}touchstart(e,t,i){super.touchstart(e,t,i),this._currentTouchCount=i.length;}_start(e){this._lastPoints=e,ua(e[0].sub(e[1]))&&(this._valid=!1);}_move(e,t,i){if(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)return;const o=e[0].sub(this._lastPoints[0]),r=e[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(o,r,i.timeStamp),this._valid?(this._lastPoints=e,this._active=!0,{pitchDelta:(o.y+r.y)/2*-.5}):void 0}gestureBeginsVertically(e,t,i){if(void 0!==this._valid)return this._valid;const o=e.mag()>=2,r=t.mag()>=2;if(!o&&!r)return;if(!o||!r)return void 0===this._firstMove&&(this._firstMove=i),i-this._firstMove<100&&void 0;const a=e.y>0==t.y>0;return ua(e)&&ua(t)&&a}}const _a={panStep:100,bearingStep:15,pitchStep:10};class pa{constructor(e){this._tr=new Vr(e);const t=_a;this._panStep=t.panStep,this._bearingStep=t.bearingStep,this._pitchStep=t.pitchStep,this._rotationDisabled=!1;}reset(){this._active=!1;}keydown(e){if(e.altKey||e.ctrlKey||e.metaKey)return;let t=0,i=0,o=0,r=0,a=0;switch(e.keyCode){case 61:case 107:case 171:case 187:t=1;break;case 189:case 109:case 173:t=-1;break;case 37:e.shiftKey?i=-1:(e.preventDefault(),r=-1);break;case 39:e.shiftKey?i=1:(e.preventDefault(),r=1);break;case 38:e.shiftKey?o=1:(e.preventDefault(),a=-1);break;case 40:e.shiftKey?o=-1:(e.preventDefault(),a=1);break;default:return}return this._rotationDisabled&&(i=0,o=0),{cameraAnimation:s=>{const n=this._tr;s.easeTo({duration:300,easeId:"keyboardHandler",easing:ma,zoom:t?Math.round(n.zoom)+t*(e.shiftKey?2:1):n.zoom,bearing:n.bearing+i*this._bearingStep,pitch:n.pitch+o*this._pitchStep,offset:[-r*this._panStep,-a*this._panStep],center:n.center},{originalEvent:e});}}}enable(){this._enabled=!0;}disable(){this._enabled=!1,this.reset();}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0;}enableRotation(){this._rotationDisabled=!1;}}function ma(e){return e*(2-e)}const fa=4.000244140625,ga=1/450;class va{constructor(e,t){this._onTimeout=e=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(e);},this._map=e,this._tr=new Vr(e),this._triggerRenderFrame=t,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=ga;}setZoomRate(e){this._defaultZoomRate=e;}setWheelZoomRate(e){this._wheelZoomRate=e;}isEnabled(){return !!this._enabled}isActive(){return !!this._active||void 0!==this._finishTimeout}isZooming(){return !!this._zooming}enable(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around);}disable(){this.isEnabled()&&(this._enabled=!1);}_shouldBePrevented(e){return !!this._map.cooperativeGestures.isEnabled()&&!(e.ctrlKey||this._map.cooperativeGestures.isBypassed(e))}wheel(e){if(!this.isEnabled())return;if(this._shouldBePrevented(e))return void this._map.cooperativeGestures.notifyGestureBlocked("wheel_zoom",e);let t=e.deltaMode===WheelEvent.DOM_DELTA_LINE?40*e.deltaY:e.deltaY;const i=s.now(),o=i-(this._lastWheelEventTime||0);this._lastWheelEventTime=i,0!==t&&t%fa==0?this._type="wheel":0!==t&&Math.abs(t)<4?this._type="trackpad":o>400?(this._type=null,this._lastValue=t,this._timeout=setTimeout(this._onTimeout,40,e)):this._type||(this._type=Math.abs(o*t)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,t+=this._lastValue)),e.shiftKey&&t&&(t/=4),this._type&&(this._lastWheelEvent=e,this._delta-=t,this._active||this._start(e)),e.preventDefault();}_start(e){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const i=n.mousePos(this._map.getCanvas(),e),o=this._tr;this._aroundPoint=this._aroundCenter?o.transform.locationToScreenPoint(t.S.convert(o.center)):i,this._frameId||(this._frameId=!0,this._triggerRenderFrame());}renderFrame(){if(!this._frameId)return;if(this._frameId=null,!this.isActive())return;const e=this._tr.transform;if("number"==typeof this._lastExpectedZoom){const t=e.zoom-this._lastExpectedZoom;"number"==typeof this._startZoom&&(this._startZoom+=t),"number"==typeof this._targetZoom&&(this._targetZoom+=t);}if(0!==this._delta){const i="wheel"===this._type&&Math.abs(this._delta)>fa?this._wheelZoomRate:this._defaultZoomRate;let o=2/(1+Math.exp(-Math.abs(this._delta*i)));this._delta<0&&0!==o&&(o=1/o);const r="number"!=typeof this._targetZoom?e.scale:t.ae(this._targetZoom);this._targetZoom=e.getConstrained(e.getCameraLngLat(),t.aj(r*o)).zoom,"wheel"===this._type&&(this._startZoom=e.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0;}const i="number"!=typeof this._targetZoom?e.zoom:this._targetZoom,o=this._startZoom,r=this._easing;let a,n=!1;if("wheel"===this._type&&o&&r){const e=s.now()-this._lastWheelEventTime,l=Math.min((e+5)/200,1),c=r(l);a=t.C.number(o,i,c),l<1?this._frameId||(this._frameId=!0):n=!0;}else a=i,n=!0;return this._active=!0,n&&(this._active=!1,this._finishTimeout=setTimeout((()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._lastExpectedZoom,delete this._finishTimeout;}),200)),this._lastExpectedZoom=a,{noInertia:!0,needsRenderFrame:!n,zoomDelta:a-e.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(e){let i=t.cn;if(this._prevEase){const e=this._prevEase,o=(s.now()-e.start)/e.duration,r=e.easing(o+.01)-e.easing(o),a=.27/Math.sqrt(r*r+1e-4)*.01,n=Math.sqrt(.0729-a*a);i=t.cl(a,n,.25,1);}return this._prevEase={start:s.now(),duration:e,easing:i},i}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,delete this._lastExpectedZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);}}class ba{constructor(e,t){this._clickZoom=e,this._tapZoom=t;}enable(){this._clickZoom.enable(),this._tapZoom.enable();}disable(){this._clickZoom.disable(),this._tapZoom.disable();}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class xa{constructor(e){this._tr=new Vr(e),this.reset();}reset(){this._active=!1;}dblclick(e,t){return e.preventDefault(),{cameraAnimation:i=>{i.easeTo({duration:300,zoom:this._tr.zoom+(e.shiftKey?-1:1),around:this._tr.unproject(t)},{originalEvent:e});}}}enable(){this._enabled=!0;}disable(){this._enabled=!1,this.reset();}isEnabled(){return this._enabled}isActive(){return this._active}}class ya{constructor(){this._tap=new Hr({numTouches:1,numTaps:1}),this.reset();}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset();}touchstart(e,t,i){if(!this._swipePoint)if(this._tapTime){const o=t[0],r=e.timeStamp-this._tapTime<500,a=this._tapPoint.dist(o)<30;r&&a?i.length>0&&(this._swipePoint=o,this._swipeTouch=i[0].identifier):this.reset();}else this._tap.touchstart(e,t,i);}touchmove(e,t,i){if(this._tapTime){if(this._swipePoint){if(i[0].identifier!==this._swipeTouch)return;const o=t[0],r=o.y-this._swipePoint.y;return this._swipePoint=o,e.preventDefault(),this._active=!0,{zoomDelta:r/128}}}else this._tap.touchmove(e,t,i);}touchend(e,t,i){if(this._tapTime)this._swipePoint&&0===i.length&&this.reset();else {const o=this._tap.touchend(e,t,i);o&&(this._tapTime=e.timeStamp,this._tapPoint=o);}}touchcancel(){this.reset();}enable(){this._enabled=!0;}disable(){this._enabled=!1,this.reset();}isEnabled(){return this._enabled}isActive(){return this._active}}class wa{constructor(e,t,i){this._el=e,this._mousePan=t,this._touchPan=i;}enable(e){this._inertiaOptions=e||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan");}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan");}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Ta{constructor(e,t,i,o){this._pitchWithRotate=e.pitchWithRotate,this._rollEnabled=e.rollEnabled,this._mouseRotate=t,this._mousePitch=i,this._mouseRoll=o;}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable(),this._rollEnabled&&this._mouseRoll.enable();}disable(){this._mouseRotate.disable(),this._mousePitch.disable(),this._mouseRoll.disable();}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())&&(!this._rollEnabled||this._mouseRoll.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()||this._mouseRoll.isActive()}}class Pa{constructor(e,t,i,o){this._el=e,this._touchZoom=t,this._touchRotate=i,this._tapDragZoom=o,this._rotationDisabled=!1,this._enabled=!0;}enable(e){this._touchZoom.enable(e),this._rotationDisabled||this._touchRotate.enable(e),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate");}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate");}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable();}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable();}}class Ca{constructor(e,t){this._bypassKey=-1!==navigator.userAgent.indexOf("Mac")?"metaKey":"ctrlKey",this._map=e,this._options=t,this._enabled=!1;}isActive(){return !1}reset(){}_setupUI(){if(this._container)return;const e=this._map.getCanvasContainer();e.classList.add("maplibregl-cooperative-gestures"),this._container=n.create("div","maplibregl-cooperative-gesture-screen",e);let t=this._map._getUIString("CooperativeGesturesHandler.WindowsHelpText");"metaKey"===this._bypassKey&&(t=this._map._getUIString("CooperativeGesturesHandler.MacHelpText"));const i=this._map._getUIString("CooperativeGesturesHandler.MobileHelpText"),o=document.createElement("div");o.className="maplibregl-desktop-message",o.textContent=t,this._container.appendChild(o);const r=document.createElement("div");r.className="maplibregl-mobile-message",r.textContent=i,this._container.appendChild(r),this._container.setAttribute("aria-hidden","true");}_destroyUI(){this._container&&(n.remove(this._container),this._map.getCanvasContainer().classList.remove("maplibregl-cooperative-gestures")),delete this._container;}enable(){this._setupUI(),this._enabled=!0;}disable(){this._enabled=!1,this._destroyUI();}isEnabled(){return this._enabled}isBypassed(e){return e[this._bypassKey]}notifyGestureBlocked(e,i){this._enabled&&(this._map.fire(new t.l("cooperativegestureprevented",{gestureType:e,originalEvent:i})),this._container.classList.add("maplibregl-show"),setTimeout((()=>{this._container.classList.remove("maplibregl-show");}),100));}}const Ia=e=>e.zoom||e.drag||e.roll||e.pitch||e.rotate;class Ma extends t.l{}function Sa(e){return e.panDelta&&e.panDelta.mag()||e.zoomDelta||e.bearingDelta||e.pitchDelta||e.rollDelta}class Ea{constructor(e,i){this.handleWindowEvent=e=>{this.handleEvent(e,`${e.type}Window`);},this.handleEvent=(e,i)=>{if("blur"===e.type)return void this.stop(!0);this._updatingCamera=!0;const o="renderFrame"===e.type?void 0:e,r={needsRenderFrame:!1},a={},s={};for(const{handlerName:l,handler:c,allowed:h}of this._handlers){if(!c.isEnabled())continue;let u;if(this._blockedByActive(s,h,l))c.reset();else if(c[i||e.type]){if(t.co(e,i||e.type)){const t=n.mousePos(this._map.getCanvas(),e);u=c[i||e.type](e,t);}else if(t.cp(e,i||e.type)){const t=this._getMapTouches(e.touches),o=n.touchPos(this._map.getCanvas(),t);u=c[i||e.type](e,o,t);}else t.cq(i||e.type)||(u=c[i||e.type](e));this.mergeHandlerResult(r,a,u,l,o),u&&u.needsRenderFrame&&this._triggerRenderFrame();}(u||c.isActive())&&(s[l]=c);}const l={};for(const e in this._previousActiveHandlers)s[e]||(l[e]=o);this._previousActiveHandlers=s,(Object.keys(l).length||Sa(r))&&(this._changes.push([r,a,l]),this._triggerRenderFrame()),(Object.keys(s).length||Sa(r))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:c}=r;c&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],c(this._map));},this._map=e,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Fr(e),this._bearingSnap=i.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(i);const o=this._el;this._listeners=[[o,"touchstart",{passive:!0}],[o,"touchmove",{passive:!1}],[o,"touchend",void 0],[o,"touchcancel",void 0],[o,"mousedown",void 0],[o,"mousemove",void 0],[o,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[o,"mouseover",void 0],[o,"mouseout",void 0],[o,"dblclick",void 0],[o,"click",void 0],[o,"keydown",{capture:!1}],[o,"keyup",void 0],[o,"wheel",{passive:!1}],[o,"contextmenu",void 0],[window,"blur",void 0]];for(const[e,t,i]of this._listeners)n.addEventListener(e,t,e===document?this.handleWindowEvent:this.handleEvent,i);}destroy(){for(const[e,t,i]of this._listeners)n.removeEventListener(e,t,e===document?this.handleWindowEvent:this.handleEvent,i);}_addDefaultHandlers(e){const i=this._map,o=i.getCanvasContainer();this._add("mapEvent",new Ur(i,e));const r=i.boxZoom=new $r(i,e);this._add("boxZoom",r),e.interactive&&e.boxZoom&&r.enable();const a=i.cooperativeGestures=new Ca(i,e.cooperativeGestures);this._add("cooperativeGestures",a),e.cooperativeGestures&&a.enable();const s=new Xr(i),l=new xa(i);i.doubleClickZoom=new ba(l,s),this._add("tapZoom",s),this._add("clickZoom",l),e.interactive&&e.doubleClickZoom&&i.doubleClickZoom.enable();const c=new ya;this._add("tapDragZoom",c);const h=i.touchPitch=new da(i);this._add("touchPitch",h),e.interactive&&e.touchPitch&&i.touchPitch.enable(e.touchPitch);const u=()=>i.project(i.getCenter()),d=function({enable:e,clickTolerance:i,aroundCenter:o=!0,minPixelCenterThreshold:r=100,rotateDegreesPerPixelMoved:a=.8},s){const l=new ea({checkCorrectEvent:e=>0===n.mouseButton(e)&&e.ctrlKey||2===n.mouseButton(e)&&!e.ctrlKey});return new Kr({clickTolerance:i,move:(e,i)=>{const n=s();if(o&&Math.abs(n.y-e.y)>r)return {bearingDelta:t.cm(new t.P(e.x,i.y),i,n)};let l=(i.x-e.x)*a;return o&&i.y<n.y&&(l=-l),{bearingDelta:l}},moveStateManager:l,enable:e,assignEvents:oa})}(e,u),_=function({enable:e,clickTolerance:t,pitchDegreesPerPixelMoved:i=-.5}){const o=new ea({checkCorrectEvent:e=>0===n.mouseButton(e)&&e.ctrlKey||2===n.mouseButton(e)});return new Kr({clickTolerance:t,move:(e,t)=>({pitchDelta:(t.y-e.y)*i}),moveStateManager:o,enable:e,assignEvents:oa})}(e),p=function({enable:e,clickTolerance:t,rollDegreesPerPixelMoved:i=.3},o){const r=new ea({checkCorrectEvent:e=>2===n.mouseButton(e)&&e.ctrlKey});return new Kr({clickTolerance:t,move:(e,t)=>{const r=o();let a=(t.x-e.x)*i;return t.y<r.y&&(a=-a),{rollDelta:a}},moveStateManager:r,enable:e,assignEvents:oa})}(e,u);i.dragRotate=new Ta(e,d,_,p),this._add("mouseRotate",d,["mousePitch"]),this._add("mousePitch",_,["mouseRotate","mouseRoll"]),this._add("mouseRoll",p,["mousePitch"]),e.interactive&&e.dragRotate&&i.dragRotate.enable();const m=function({enable:e,clickTolerance:t}){const i=new ea({checkCorrectEvent:e=>0===n.mouseButton(e)&&!e.ctrlKey});return new Kr({clickTolerance:t,move:(e,t)=>({around:t,panDelta:t.sub(e)}),activateOnStart:!0,moveStateManager:i,enable:e,assignEvents:oa})}(e),f=new ra(e,i);i.dragPan=new wa(o,m,f),this._add("mousePan",m),this._add("touchPan",f,["touchZoom","touchRotate"]),e.interactive&&e.dragPan&&i.dragPan.enable(e.dragPan);const g=new ha,v=new la;i.touchZoomRotate=new Pa(o,v,g,c),this._add("touchRotate",g,["touchPan","touchZoom"]),this._add("touchZoom",v,["touchPan","touchRotate"]),e.interactive&&e.touchZoomRotate&&i.touchZoomRotate.enable(e.touchZoomRotate);const b=i.scrollZoom=new va(i,(()=>this._triggerRenderFrame()));this._add("scrollZoom",b,["mousePan"]),e.interactive&&e.scrollZoom&&i.scrollZoom.enable(e.scrollZoom);const x=i.keyboard=new pa(i);this._add("keyboard",x),e.interactive&&e.keyboard&&i.keyboard.enable(),this._add("blockableMapEvent",new Gr(i));}_add(e,t,i){this._handlers.push({handlerName:e,handler:t,allowed:i}),this._handlersById[e]=t;}stop(e){if(!this._updatingCamera){for(const{handler:e}of this._handlers)e.reset();this._inertia.clear(),this._fireEvents({},{},e),this._changes=[];}}isActive(){for(const{handler:e}of this._handlers)if(e.isActive())return !0;return !1}isZooming(){return !!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return !!this._eventsInProgress.rotate}isMoving(){return Boolean(Ia(this._eventsInProgress))||this.isZooming()}_blockedByActive(e,t,i){for(const o in e)if(o!==i&&(!t||t.indexOf(o)<0))return !0;return !1}_getMapTouches(e){const t=[];for(const i of e)this._el.contains(i.target)&&t.push(i);return t}mergeHandlerResult(e,i,o,r,a){if(!o)return;t.e(e,o);const s={handlerName:r,originalEvent:o.originalEvent||a};void 0!==o.zoomDelta&&(i.zoom=s),void 0!==o.panDelta&&(i.drag=s),void 0!==o.rollDelta&&(i.roll=s),void 0!==o.pitchDelta&&(i.pitch=s),void 0!==o.bearingDelta&&(i.rotate=s);}_applyChanges(){const e={},i={},o={};for(const[r,a,s]of this._changes)r.panDelta&&(e.panDelta=(e.panDelta||new t.P(0,0))._add(r.panDelta)),r.zoomDelta&&(e.zoomDelta=(e.zoomDelta||0)+r.zoomDelta),r.bearingDelta&&(e.bearingDelta=(e.bearingDelta||0)+r.bearingDelta),r.pitchDelta&&(e.pitchDelta=(e.pitchDelta||0)+r.pitchDelta),r.rollDelta&&(e.rollDelta=(e.rollDelta||0)+r.rollDelta),void 0!==r.around&&(e.around=r.around),void 0!==r.pinchAround&&(e.pinchAround=r.pinchAround),r.noInertia&&(e.noInertia=r.noInertia),t.e(i,a),t.e(o,s);this._updateMapTransform(e,i,o),this._changes=[];}_updateMapTransform(e,t,i){const o=this._map,r=o._getTransformForUpdate(),a=o.terrain;if(!(Sa(e)||a&&this._terrainMovement))return this._fireEvents(t,i,!0);o._stop(!0);let{panDelta:s,zoomDelta:n,bearingDelta:l,pitchDelta:c,rollDelta:h,around:u,pinchAround:d}=e;void 0!==d&&(u=d),u=u||o.transform.centerPoint,a&&!r.isPointOnMapSurface(u)&&(u=r.centerPoint);const _={panDelta:s,zoomDelta:n,rollDelta:h,pitchDelta:c,bearingDelta:l,around:u};this._map.cameraHelper.useGlobeControls&&!r.isPointOnMapSurface(u)&&(u=r.centerPoint);const p=u.distSqr(r.centerPoint)<.01?r.center:r.screenPointToLocation(s?u.sub(s):u);a?(this._map.cameraHelper.handleMapControlsRollPitchBearingZoom(_,r),this._terrainMovement||!t.drag&&!t.zoom?t.drag&&this._terrainMovement?r.setCenter(r.screenPointToLocation(r.centerPoint.sub(s))):this._map.cameraHelper.handleMapControlsPan(_,r,p):(this._terrainMovement=!0,this._map._elevationFreeze=!0,this._map.cameraHelper.handleMapControlsPan(_,r,p))):(this._map.cameraHelper.handleMapControlsRollPitchBearingZoom(_,r),this._map.cameraHelper.handleMapControlsPan(_,r,p)),o._applyUpdatedTransform(r),this._map._update(),e.noInertia||this._inertia.record(e),this._fireEvents(t,i,!0);}_fireEvents(e,i,o){const r=Ia(this._eventsInProgress),a=Ia(e),n={};for(const t in e){const{originalEvent:i}=e[t];this._eventsInProgress[t]||(n[`${t}start`]=i),this._eventsInProgress[t]=e[t];}!r&&a&&this._fireEvent("movestart",a.originalEvent);for(const e in n)this._fireEvent(e,n[e]);a&&this._fireEvent("move",a.originalEvent);for(const t in e){const{originalEvent:i}=e[t];this._fireEvent(t,i);}const l={};let c;for(const e in this._eventsInProgress){const{handlerName:t,originalEvent:o}=this._eventsInProgress[e];this._handlersById[t].isActive()||(delete this._eventsInProgress[e],c=i[t]||o,l[`${e}end`]=c);}for(const e in l)this._fireEvent(e,l[e]);const h=Ia(this._eventsInProgress),u=(r||a)&&!h;if(u&&this._terrainMovement){this._map._elevationFreeze=!1,this._terrainMovement=!1;const e=this._map._getTransformForUpdate();this._map.getCenterClampedToGround()&&e.recalculateZoomAndCenter(this._map.terrain),this._map._applyUpdatedTransform(e);}if(o&&u){this._updatingCamera=!0;const e=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),i=e=>0!==e&&-this._bearingSnap<e&&e<this._bearingSnap;!e||!e.essential&&s.prefersReducedMotion?(this._map.fire(new t.l("moveend",{originalEvent:c})),i(this._map.getBearing())&&this._map.resetNorth()):(i(e.bearing||this._map.getBearing())&&(e.bearing=0),e.freezeElevation=!0,this._map.easeTo(e,{originalEvent:c})),this._updatingCamera=!1;}}_fireEvent(e,i){this._map.fire(new t.l(e,i?{originalEvent:i}:{}));}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add((e=>{delete this._frameId,this.handleEvent(new Ma("renderFrame",{timeStamp:e})),this._applyChanges();}))}_triggerRenderFrame(){void 0===this._frameId&&(this._frameId=this._requestFrame());}}class Ra extends t.E{constructor(e,t,i){super(),this._renderFrameCallback=()=>{const e=Math.min((s.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(e)),e<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop();},this._moving=!1,this._zooming=!1,this.transform=e,this._bearingSnap=i.bearingSnap,this.cameraHelper=t,this.on("moveend",(()=>{delete this._requestedCameraState;}));}migrateProjection(e,t){e.apply(this.transform),this.transform=e,this.cameraHelper=t;}getCenter(){return new t.S(this.transform.center.lng,this.transform.center.lat)}setCenter(e,t){return this.jumpTo({center:e},t)}getCenterElevation(){return this.transform.elevation}setCenterElevation(e,t){return this.jumpTo({elevation:e},t),this}getCenterClampedToGround(){return this._centerClampedToGround}setCenterClampedToGround(e){this._centerClampedToGround=e;}panBy(e,i,o){return e=t.P.convert(e).mult(-1),this.panTo(this.transform.center,t.e({offset:e},i),o)}panTo(e,i,o){return this.easeTo(t.e({center:e},i),o)}getZoom(){return this.transform.zoom}setZoom(e,t){return this.jumpTo({zoom:e},t),this}zoomTo(e,i,o){return this.easeTo(t.e({zoom:e},i),o)}zoomIn(e,t){return this.zoomTo(this.getZoom()+1,e,t),this}zoomOut(e,t){return this.zoomTo(this.getZoom()-1,e,t),this}getVerticalFieldOfView(){return this.transform.fov}setVerticalFieldOfView(e,i){return e!=this.transform.fov&&(this.transform.setFov(e),this.fire(new t.l("movestart",i)).fire(new t.l("move",i)).fire(new t.l("moveend",i))),this}getBearing(){return this.transform.bearing}setBearing(e,t){return this.jumpTo({bearing:e},t),this}getPadding(){return this.transform.padding}setPadding(e,t){return this.jumpTo({padding:e},t),this}rotateTo(e,i,o){return this.easeTo(t.e({bearing:e},i),o)}resetNorth(e,i){return this.rotateTo(0,t.e({duration:1e3},e),i),this}resetNorthPitch(e,i){return this.easeTo(t.e({bearing:0,pitch:0,roll:0,duration:1e3},e),i),this}snapToNorth(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this}getPitch(){return this.transform.pitch}setPitch(e,t){return this.jumpTo({pitch:e},t),this}getRoll(){return this.transform.roll}setRoll(e,t){return this.jumpTo({roll:e},t),this}cameraForBounds(e,t){e=G.convert(e).adjustAntiMeridian();const i=t&&t.bearing||0;return this._cameraForBoxAndBearing(e.getNorthWest(),e.getSouthEast(),i,t)}_cameraForBoxAndBearing(e,i,o,r){const a={top:0,bottom:0,right:0,left:0};if("number"==typeof(r=t.e({padding:a,offset:[0,0],maxZoom:this.transform.maxZoom},r)).padding){const e=r.padding;r.padding={top:e,bottom:e,right:e,left:e};}const s=t.e(a,r.padding);r.padding=s;const n=this.transform,l=new G(e,i);return this.cameraHelper.cameraForBoxAndBearing(r,s,l,o,n)}fitBounds(e,t,i){return this._fitInternal(this.cameraForBounds(e,t),t,i)}fitScreenCoordinates(e,i,o,r,a){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.screenPointToLocation(t.P.convert(e)),this.transform.screenPointToLocation(t.P.convert(i)),o,r),r,a)}_fitInternal(e,i,o){return e?(delete(i=t.e(e,i)).padding,i.linear?this.easeTo(i,o):this.flyTo(i,o)):this}jumpTo(e,i){this.stop();const o=this._getTransformForUpdate();let r=!1,a=!1,s=!1;const n=o.zoom;this.cameraHelper.handleJumpToCenterZoom(o,e);const l=o.zoom!==n;return "elevation"in e&&o.elevation!==+e.elevation&&o.setElevation(+e.elevation),"bearing"in e&&o.bearing!==+e.bearing&&(r=!0,o.setBearing(+e.bearing)),"pitch"in e&&o.pitch!==+e.pitch&&(a=!0,o.setPitch(+e.pitch)),"roll"in e&&o.roll!==+e.roll&&(s=!0,o.setRoll(+e.roll)),null==e.padding||o.isPaddingEqual(e.padding)||o.setPadding(e.padding),this._applyUpdatedTransform(o),this.fire(new t.l("movestart",i)).fire(new t.l("move",i)),l&&this.fire(new t.l("zoomstart",i)).fire(new t.l("zoom",i)).fire(new t.l("zoomend",i)),r&&this.fire(new t.l("rotatestart",i)).fire(new t.l("rotate",i)).fire(new t.l("rotateend",i)),a&&this.fire(new t.l("pitchstart",i)).fire(new t.l("pitch",i)).fire(new t.l("pitchend",i)),s&&this.fire(new t.l("rollstart",i)).fire(new t.l("roll",i)).fire(new t.l("rollend",i)),this.fire(new t.l("moveend",i))}calculateCameraOptionsFromTo(e,i,o,r=0){const a=t.a0.fromLngLat(e,i),s=t.a0.fromLngLat(o,r),n=s.x-a.x,l=s.y-a.y,c=s.z-a.z,h=Math.hypot(n,l,c);if(0===h)throw new Error("Can't calculate camera options with same From and To");const u=Math.hypot(n,l),d=t.aj(this.transform.cameraToCenterDistance/h/this.transform.tileSize),_=180*Math.atan2(n,-l)/Math.PI;let p=180*Math.acos(u/h)/Math.PI;return p=c<0?90-p:90+p,{center:s.toLngLat(),elevation:r,zoom:d,pitch:p,bearing:_}}calculateCameraOptionsFromCameraLngLatAltRotation(e,t,i,o,r){const a=this.transform.calculateCenterFromCameraLngLatAlt(e,t,i,o);return {center:a.center,elevation:a.elevation,zoom:a.zoom,bearing:i,pitch:o,roll:r}}easeTo(e,i){this._stop(!1,e.easeId),(!1===(e=t.e({offset:[0,0],duration:500,easing:t.cn},e)).animate||!e.essential&&s.prefersReducedMotion)&&(e.duration=0);const o=this._getTransformForUpdate(),r=this.getBearing(),a=o.pitch,n=o.roll,l="bearing"in e?this._normalizeBearing(e.bearing,r):r,c="pitch"in e?+e.pitch:a,h="roll"in e?this._normalizeBearing(e.roll,n):n,u="padding"in e?e.padding:o.padding,d=t.P.convert(e.offset);let _,p;e.around&&(_=t.S.convert(e.around),p=o.locationToScreenPoint(_));const m={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching,rolling:this._rolling},f=this.cameraHelper.handleEaseTo(o,{bearing:l,pitch:c,roll:h,padding:u,around:_,aroundPoint:p,offsetAsPoint:d,offset:e.offset,zoom:e.zoom,center:e.center});return this._rotating=this._rotating||r!==l,this._pitching=this._pitching||c!==a,this._rolling=this._rolling||h!==n,this._padding=!o.isPaddingEqual(u),this._zooming=this._zooming||f.isZooming,this._easeId=e.easeId,this._prepareEase(i,e.noMoveStart,m),this.terrain&&this._prepareElevation(f.elevationCenter),this._ease((t=>{f.easeFunc(t),this.terrain&&!e.freezeElevation&&this._updateElevation(t),this._applyUpdatedTransform(o),this._fireMoveEvents(i);}),(t=>{this.terrain&&e.freezeElevation&&this._finalizeElevation(),this._afterEase(i,t);}),e),this}_prepareEase(e,i,o={}){this._moving=!0,i||o.moving||this.fire(new t.l("movestart",e)),this._zooming&&!o.zooming&&this.fire(new t.l("zoomstart",e)),this._rotating&&!o.rotating&&this.fire(new t.l("rotatestart",e)),this._pitching&&!o.pitching&&this.fire(new t.l("pitchstart",e)),this._rolling&&!o.rolling&&this.fire(new t.l("rollstart",e));}_prepareElevation(e){this._elevationCenter=e,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(e,this.transform.tileZoom),this._elevationFreeze=!0;}_updateElevation(e){this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom));const i=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(e<1&&i!==this._elevationTarget){const t=this._elevationTarget-this._elevationStart;this._elevationStart+=e*(t-(i-(t*e+this._elevationStart))/(1-e)),this._elevationTarget=i;}this.transform.setElevation(t.C.number(this._elevationStart,this._elevationTarget,e));}_finalizeElevation(){this._elevationFreeze=!1,this.getCenterClampedToGround()&&this.transform.recalculateZoomAndCenter(this.terrain);}_getTransformForUpdate(){return this.transformCameraUpdate||this.terrain?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_elevateCameraIfInsideTerrain(e){if(!this.terrain&&e.elevation>=0&&e.pitch<=90)return {};const t=e.getCameraLngLat(),i=e.getCameraAltitude(),o=this.terrain?this.terrain.getElevationForLngLatZoom(t,e.zoom):0;if(i<o){const i=this.calculateCameraOptionsFromTo(t,o,e.center,e.elevation);return {pitch:i.pitch,zoom:i.zoom}}return {}}_applyUpdatedTransform(e){const t=[];if(t.push((e=>this._elevateCameraIfInsideTerrain(e))),this.transformCameraUpdate&&t.push((e=>this.transformCameraUpdate(e))),!t.length)return;const i=e.clone();for(const e of t){const t=i.clone(),{center:o,zoom:r,roll:a,pitch:s,bearing:n,elevation:l}=e(t);o&&t.setCenter(o),void 0!==l&&t.setElevation(l),void 0!==r&&t.setZoom(r),void 0!==a&&t.setRoll(a),void 0!==s&&t.setPitch(s),void 0!==n&&t.setBearing(n),i.apply(t);}this.transform.apply(i);}_fireMoveEvents(e){this.fire(new t.l("move",e)),this._zooming&&this.fire(new t.l("zoom",e)),this._rotating&&this.fire(new t.l("rotate",e)),this._pitching&&this.fire(new t.l("pitch",e)),this._rolling&&this.fire(new t.l("roll",e));}_afterEase(e,i){if(this._easeId&&i&&this._easeId===i)return;delete this._easeId;const o=this._zooming,r=this._rotating,a=this._pitching,s=this._rolling;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._rolling=!1,this._padding=!1,o&&this.fire(new t.l("zoomend",e)),r&&this.fire(new t.l("rotateend",e)),a&&this.fire(new t.l("pitchend",e)),s&&this.fire(new t.l("rollend",e)),this.fire(new t.l("moveend",e));}flyTo(e,i){if(!e.essential&&s.prefersReducedMotion){const o=t.Q(e,["center","zoom","bearing","pitch","roll","elevation"]);return this.jumpTo(o,i)}this.stop(),e=t.e({offset:[0,0],speed:1.2,curve:1.42,easing:t.cn},e);const o=this._getTransformForUpdate(),r=o.bearing,a=o.pitch,n=o.roll,l=o.padding,c="bearing"in e?this._normalizeBearing(e.bearing,r):r,h="pitch"in e?+e.pitch:a,u="roll"in e?this._normalizeBearing(e.roll,n):n,d="padding"in e?e.padding:o.padding,_=t.P.convert(e.offset);let p=o.centerPoint.add(_);const m=o.screenPointToLocation(p),f=this.cameraHelper.handleFlyTo(o,{bearing:c,pitch:h,roll:u,padding:d,locationAtOffset:m,offsetAsPoint:_,center:e.center,minZoom:e.minZoom,zoom:e.zoom});let g=e.curve;const v=Math.max(o.width,o.height),b=v/f.scaleOfZoom,x=f.pixelPathLength;"number"==typeof f.scaleOfMinZoom&&(g=Math.sqrt(v/f.scaleOfMinZoom/x*2));const y=g*g;function w(e){const t=(b*b-v*v+(e?-1:1)*y*y*x*x)/(2*(e?b:v)*y*x);return Math.log(Math.sqrt(t*t+1)-t)}function T(e){return (Math.exp(e)-Math.exp(-e))/2}function P(e){return (Math.exp(e)+Math.exp(-e))/2}const C=w(!1);let I=function(e){return P(C)/P(C+g*e)},M=function(e){return v*((P(C)*(T(t=C+g*e)/P(t))-T(C))/y)/x;var t;},S=(w(!0)-C)/g;if(Math.abs(x)<2e-6||!isFinite(S)){if(Math.abs(v-b)<1e-6)return this.easeTo(e,i);const t=b<v?-1:1;S=Math.abs(Math.log(b/v))/g,M=()=>0,I=e=>Math.exp(t*g*e);}return e.duration="duration"in e?+e.duration:1e3*S/("screenSpeed"in e?+e.screenSpeed/g:+e.speed),e.maxDuration&&e.duration>e.maxDuration&&(e.duration=0),this._zooming=!0,this._rotating=r!==c,this._pitching=h!==a,this._rolling=u!==n,this._padding=!o.isPaddingEqual(d),this._prepareEase(i,!1),this.terrain&&this._prepareElevation(f.targetCenter),this._ease((s=>{const m=s*S,g=1/I(m),v=M(m);this._rotating&&o.setBearing(t.C.number(r,c,s)),this._pitching&&o.setPitch(t.C.number(a,h,s)),this._rolling&&o.setRoll(t.C.number(n,u,s)),this._padding&&(o.interpolatePadding(l,d,s),p=o.centerPoint.add(_)),f.easeFunc(s,g,v,p),this.terrain&&!e.freezeElevation&&this._updateElevation(s),this._applyUpdatedTransform(o),this._fireMoveEvents(i);}),(()=>{this.terrain&&e.freezeElevation&&this._finalizeElevation(),this._afterEase(i);}),e),this}isEasing(){return !!this._easeFrameId}stop(){return this._stop()}_stop(e,t){var i;if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const e=this._onEaseEnd;delete this._onEaseEnd,e.call(this,t);}return e||null===(i=this.handlers)||void 0===i||i.stop(!1),this}_ease(e,t,i){!1===i.animate||0===i.duration?(e(1),t()):(this._easeStart=s.now(),this._easeOptions=i,this._onEaseFrame=e,this._onEaseEnd=t,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback));}_normalizeBearing(e,i){e=t.aN(e,-180,180);const o=Math.abs(e-i);return Math.abs(e-360-i)<o&&(e-=360),Math.abs(e+360-i)<o&&(e+=360),e}queryTerrainElevation(e){return this.terrain?this.terrain.getElevationForLngLatZoom(t.S.convert(e),this.transform.tileZoom):null}}const za={compact:!0,customAttribution:'<a href="https://maplibre.org/" target="_blank">MapLibre</a>'};class Da{constructor(e=za){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")));},this._updateData=e=>{!e||"metadata"!==e.sourceDataType&&"visibility"!==e.sourceDataType&&"style"!==e.dataType&&"terrain"!==e.type||this._updateAttributions();},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?!1===this._compact?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"));},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show");},this.options=e;}getDefaultPosition(){return "bottom-right"}onAdd(e){return this._map=e,this._compact=this.options.compact,this._container=n.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=n.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=n.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){n.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0;}_setElementTitle(e,t){const i=this._map._getUIString(`AttributionControl.${t}`);e.title=i,e.setAttribute("aria-label",i);}_updateAttributions(){if(!this._map.style)return;let e=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e=e.concat(this.options.customAttribution.map((e=>"string"!=typeof e?"":e))):"string"==typeof this.options.customAttribution&&e.push(this.options.customAttribution)),this._map.style.stylesheet){const e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id;}const t=this._map.style.sourceCaches;for(const i in t){const o=t[i];if(o.used||o.usedForTerrain){const t=o.getSource();t.attribution&&e.indexOf(t.attribution)<0&&e.push(t.attribution);}}e=e.filter((e=>String(e).trim())),e.sort(((e,t)=>e.length-t.length)),e=e.filter(((t,i)=>{for(let o=i+1;o<e.length;o++)if(e[o].indexOf(t)>=0)return !1;return !0}));const i=e.join(" | ");i!==this._attribHTML&&(this._attribHTML=i,e.length?(this._innerContainer.innerHTML=n.sanitize(i),this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null);}}class Aa{constructor(e={}){this._updateCompact=()=>{const e=this._container.children;if(e.length){const t=e[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?!1!==this._compact&&t.classList.add("maplibregl-compact"):t.classList.remove("maplibregl-compact");}},this.options=e;}getDefaultPosition(){return "bottom-left"}onAdd(e){this._map=e,this._compact=this.options&&this.options.compact,this._container=n.create("div","maplibregl-ctrl");const t=n.create("a","maplibregl-ctrl-logo");return t.target="_blank",t.rel="noopener nofollow",t.href="https://maplibre.org/",t.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),t.setAttribute("rel","noopener nofollow"),this._container.appendChild(t),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){n.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0;}}class La{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1;}add(e){const t=++this._id;return this._queue.push({callback:e,id:t,cancelled:!1}),t}remove(e){const t=this._currentlyRunning,i=t?this._queue.concat(t):this._queue;for(const t of i)if(t.id===e)return void(t.cancelled=!0)}run(e=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const t=this._currentlyRunning=this._queue;this._queue=[];for(const i of t)if(!i.cancelled&&(i.callback(e),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1;}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[];}}var ka=t.aI([{name:"a_pos3d",type:"Int16",components:3}]);class Fa extends t.E{constructor(e){super(),this._lastTilesetChange=s.now(),this.sourceCache=e,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.deltaZoom=1,this.tileSize=e._source.tileSize*2**this.deltaZoom,e.usedForTerrain=!0,e.tileSize=this.tileSize;}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null;}update(e,i){this.sourceCache.update(e,i),this._renderableTilesKeys=[];const o={};for(const r of ve(e,{tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:i,calculateTileZoom:this.sourceCache._source.calculateTileZoom}))o[r.key]=!0,this._renderableTilesKeys.push(r.key),this._tiles[r.key]||(r.terrainRttPosMatrix32f=new Float64Array(16),t.bX(r.terrainRttPosMatrix32f,0,t.$,t.$,0,0,1),this._tiles[r.key]=new re(r,this.tileSize),this._lastTilesetChange=s.now());for(const e in this._tiles)o[e]||delete this._tiles[e];}freeRtt(e){for(const t in this._tiles){const i=this._tiles[t];(!e||i.tileID.equals(e)||i.tileID.isChildOf(e)||e.isChildOf(i.tileID))&&(i.rtt=[]);}}getRenderableTiles(){return this._renderableTilesKeys.map((e=>this.getTileByID(e)))}getTileByID(e){return this._tiles[e]}getTerrainCoords(e,t){return t?this._getTerrainCoordsForTileRanges(e,t):this._getTerrainCoordsForRegularTile(e)}_getTerrainCoordsForRegularTile(e){const i={};for(const o of this._renderableTilesKeys){const r=this._tiles[o].tileID,a=e.clone(),s=t.b9();if(r.canonical.equals(e.canonical))t.bX(s,0,t.$,t.$,0,0,1);else if(r.canonical.isChildOf(e.canonical)){const i=r.canonical.z-e.canonical.z,o=r.canonical.x-(r.canonical.x>>i<<i),a=r.canonical.y-(r.canonical.y>>i<<i),n=t.$>>i;t.bX(s,0,n,n,0,0,1),t.M(s,s,[-o*n,-a*n,0]);}else {if(!e.canonical.isChildOf(r.canonical))continue;{const i=e.canonical.z-r.canonical.z,o=e.canonical.x-(e.canonical.x>>i<<i),a=e.canonical.y-(e.canonical.y>>i<<i),n=t.$>>i;t.bX(s,0,t.$,t.$,0,0,1),t.M(s,s,[o*n,a*n,0]),t.N(s,s,[1/2**i,1/2**i,0]);}}a.terrainRttPosMatrix32f=new Float32Array(s),i[o]=a;}return i}_getTerrainCoordsForTileRanges(e,i){const o={};for(const r of this._renderableTilesKeys){const a=this._tiles[r].tileID;if(!this._isWithinTileRanges(a,i))continue;const s=e.clone(),n=t.b9();if(a.canonical.z===e.canonical.z){const i=e.canonical.x-a.canonical.x,o=e.canonical.y-a.canonical.y;t.bX(n,0,t.$,t.$,0,0,1),t.M(n,n,[i*t.$,o*t.$,0]);}else if(a.canonical.z>e.canonical.z){const i=a.canonical.z-e.canonical.z,o=a.canonical.x-(a.canonical.x>>i<<i),r=a.canonical.y-(a.canonical.y>>i<<i),s=e.canonical.x-(a.canonical.x>>i),l=e.canonical.y-(a.canonical.y>>i),c=t.$>>i;t.bX(n,0,c,c,0,0,1),t.M(n,n,[-o*c+s*t.$,-r*c+l*t.$,0]);}else {const i=e.canonical.z-a.canonical.z,o=e.canonical.x-(e.canonical.x>>i<<i),r=e.canonical.y-(e.canonical.y>>i<<i),s=(e.canonical.x>>i)-a.canonical.x,l=(e.canonical.y>>i)-a.canonical.y,c=t.$<<i;t.bX(n,0,c,c,0,0,1),t.M(n,n,[o*t.$+s*c,r*t.$+l*c,0]);}s.terrainRttPosMatrix32f=new Float32Array(n),o[r]=s;}return o}getSourceTile(e,t){const i=this.sourceCache._source;let o=e.overscaledZ-this.deltaZoom;if(o>i.maxzoom&&(o=i.maxzoom),o<i.minzoom)return null;this._sourceTileCache[e.key]||(this._sourceTileCache[e.key]=e.scaledTo(o).key);let r=this.sourceCache.getTileByID(this._sourceTileCache[e.key]);if((!r||!r.dem)&&t)for(;o>=i.minzoom&&(!r||!r.dem);)r=this.sourceCache.getTileByID(e.scaledTo(o--).key);return r}anyTilesAfterTime(e=Date.now()){return this._lastTilesetChange>=e}_isWithinTileRanges(e,t){return t[e.canonical.z]&&e.canonical.x>=t[e.canonical.z].minTileX&&e.canonical.x<=t[e.canonical.z].maxTileX&&e.canonical.y>=t[e.canonical.z].minTileY&&e.canonical.y<=t[e.canonical.z].maxTileY}}class Ba{constructor(e,t,i){this._meshCache={},this.painter=e,this.sourceCache=new Fa(t),this.options=i,this.exaggeration="number"==typeof i.exaggeration?i.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024;}getDEMElevation(e,i,o,r=t.$){var a;if(!(i>=0&&i<r&&o>=0&&o<r))return 0;const s=this.getTerrainData(e),n=null===(a=s.tile)||void 0===a?void 0:a.dem;if(!n)return 0;const l=t.cr([],[i/r*t.$,o/r*t.$],s.u_terrain_matrix),c=[l[0]*n.dim,l[1]*n.dim],h=Math.floor(c[0]),u=Math.floor(c[1]),d=c[0]-h,_=c[1]-u;return n.get(h,u)*(1-d)*(1-_)+n.get(h+1,u)*d*(1-_)+n.get(h,u+1)*(1-d)*_+n.get(h+1,u+1)*d*_}getElevationForLngLatZoom(e,i){if(!t.cs(i,e.wrap()))return 0;const{tileID:o,mercatorX:r,mercatorY:a}=this._getOverscaledTileIDFromLngLatZoom(e,i);return this.getElevation(o,r%t.$,a%t.$,t.$)}getElevation(e,i,o,r=t.$){return this.getDEMElevation(e,i,o,r)*this.exaggeration}getTerrainData(e){if(!this._emptyDemTexture){const e=this.painter.context,i=new t.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new t.T(e,i,e.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new t.T(e,new t.R({width:1,height:1}),e.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(e.gl.NEAREST,e.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=t.af([]);}const i=this.sourceCache.getSourceTile(e,!0);if(i&&i.dem&&(!i.demTexture||i.needsTerrainPrepare)){const e=this.painter.context;i.demTexture=this.painter.getTileTexture(i.dem.stride),i.demTexture?i.demTexture.update(i.dem.getPixels(),{premultiply:!1}):i.demTexture=new t.T(e,i.dem.getPixels(),e.gl.RGBA,{premultiply:!1}),i.demTexture.bind(e.gl.NEAREST,e.gl.CLAMP_TO_EDGE),i.needsTerrainPrepare=!1;}const o=i&&i+i.tileID.key+e.key;if(o&&!this._demMatrixCache[o]){const o=this.sourceCache.sourceCache._source.maxzoom;let r=e.canonical.z-i.tileID.canonical.z;e.overscaledZ>e.canonical.z&&(e.canonical.z>=o?r=e.canonical.z-o:t.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const a=e.canonical.x-(e.canonical.x>>r<<r),s=e.canonical.y-(e.canonical.y>>r<<r),n=t.ct(new Float64Array(16),[1/(t.$<<r),1/(t.$<<r),0]);t.M(n,n,[a*t.$,s*t.$,0]),this._demMatrixCache[e.key]={matrix:n,coord:e};}return {u_depth:2,u_terrain:3,u_terrain_dim:i&&i.dem&&i.dem.dim||1,u_terrain_matrix:o?this._demMatrixCache[e.key].matrix:this._emptyDemMatrix,u_terrain_unpack:i&&i.dem&&i.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(i&&i.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:i}}getFramebuffer(e){const i=this.painter,o=i.width/devicePixelRatio,r=i.height/devicePixelRatio;return !this._fbo||this._fbo.width===o&&this._fbo.height===r||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new t.T(i.context,{width:o,height:r,data:null},i.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(i.context.gl.NEAREST,i.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new t.T(i.context,{width:o,height:r,data:null},i.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(i.context.gl.NEAREST,i.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=i.context.createFramebuffer(o,r,!0,!1),this._fbo.depthAttachment.set(i.context.createRenderbuffer(i.context.gl.DEPTH_COMPONENT16,o,r))),this._fbo.colorAttachment.set("coords"===e?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const e=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const i=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let e=0,t=0;e<this._coordsTextureSize;e++)for(let o=0;o<this._coordsTextureSize;o++,t+=4)i[t+0]=255&o,i[t+1]=255&e,i[t+2]=o>>8<<4|e>>8,i[t+3]=0;const o=new t.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(i.buffer)),r=new t.T(e,o,e.gl.RGBA,{premultiply:!1});return r.bind(e.gl.NEAREST,e.gl.CLAMP_TO_EDGE),this._coordsTexture=r,r}pointCoordinate(e){this.painter.maybeDrawDepthAndCoords(!0);const i=new Uint8Array(4),o=this.painter.context,r=o.gl,a=Math.round(e.x*this.painter.pixelRatio/devicePixelRatio),s=Math.round(e.y*this.painter.pixelRatio/devicePixelRatio),n=Math.round(this.painter.height/devicePixelRatio);o.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),r.readPixels(a,n-s-1,1,1,r.RGBA,r.UNSIGNED_BYTE,i),o.bindFramebuffer.set(null);const l=i[0]+(i[2]>>4<<8),c=i[1]+((15&i[2])<<8),h=this.coordsIndex[255-i[3]],u=h&&this.sourceCache.getTileByID(h);if(!u)return null;const d=this._coordsTextureSize,_=(1<<u.tileID.canonical.z)*d;return new t.a0((u.tileID.canonical.x*d+l)/_+u.tileID.wrap,(u.tileID.canonical.y*d+c)/_,this.getElevation(u.tileID,l,c,d))}depthAtPoint(e){const t=new Uint8Array(4),i=this.painter.context,o=i.gl;return i.bindFramebuffer.set(this.getFramebuffer("depth").framebuffer),o.readPixels(e.x,this.painter.height/devicePixelRatio-e.y-1,1,1,o.RGBA,o.UNSIGNED_BYTE,t),i.bindFramebuffer.set(null),(t[0]/16777216+t[1]/65536+t[2]/256+t[3])/256}getTerrainMesh(e){var i;const o=(null===(i=this.painter.style.projection)||void 0===i?void 0:i.transitionState)>0,r=o&&0===e.canonical.y,a=o&&e.canonical.y===(1<<e.canonical.z)-1,s=`m_${r?"n":""}_${a?"s":""}`;if(this._meshCache[s])return this._meshCache[s];const n=this.painter.context,l=new t.cu,c=new t.aM,h=this.meshSize,u=t.$/h,d=h*h;for(let e=0;e<=h;e++)for(let t=0;t<=h;t++)l.emplaceBack(t*u,e*u,0);for(let e=0;e<d;e+=h+1)for(let t=0;t<h;t++)c.emplaceBack(t+e,h+t+e+1,h+t+e+2),c.emplaceBack(t+e,h+t+e+2,t+e+1);const _=l.length,p=_+(h+1),m=(h+1)*h,f=r?t.bg:0,g=r?0:1,v=a?t.bh:t.$,b=a?0:1;for(let e=0;e<=h;e++)l.emplaceBack(e*u,f,g);for(let e=0;e<=h;e++)l.emplaceBack(e*u,v,b);for(let e=0;e<h;e++)c.emplaceBack(m+e,p+e,p+e+1),c.emplaceBack(m+e,p+e+1,m+e+1),c.emplaceBack(0+e,_+e+1,_+e),c.emplaceBack(0+e,0+e+1,_+e+1);const x=l.length,y=x+2*(h+1);for(const e of [0,1])for(let i=0;i<=h;i++)for(const o of [0,1])l.emplaceBack(e*t.$,i*u,o);for(let e=0;e<2*h;e+=2)c.emplaceBack(x+e,x+e+1,x+e+3),c.emplaceBack(x+e,x+e+3,x+e+2),c.emplaceBack(y+e,y+e+3,y+e+1),c.emplaceBack(y+e,y+e+2,y+e+3);const w=new wt(n.createVertexBuffer(l,ka.members),n.createIndexBuffer(c),t.aL.simpleSegment(0,0,l.length,c.length));return this._meshCache[s]=w,w}getMeshFrameDelta(e){return 2*Math.PI*t.bt/Math.pow(2,Math.max(e,0))/5}getMinTileElevationForLngLatZoom(e,t){var i;const{tileID:o}=this._getOverscaledTileIDFromLngLatZoom(e,t);return null!==(i=this.getMinMaxElevation(o).minElevation)&&void 0!==i?i:0}getMinMaxElevation(e){const t=this.getTerrainData(e).tile,i={minElevation:null,maxElevation:null};return t&&t.dem&&(i.minElevation=t.dem.min*this.exaggeration,i.maxElevation=t.dem.max*this.exaggeration),i}_getOverscaledTileIDFromLngLatZoom(e,i){const o=t.a0.fromLngLat(e.wrap()),r=(1<<i)*t.$,a=o.x*r,s=o.y*r,n=Math.floor(a/t.$),l=Math.floor(s/t.$);return {tileID:new t.Z(i,0,i,n,l),mercatorX:a,mercatorY:s}}}class Oa{constructor(e,t,i){this._context=e,this._size=t,this._tileSize=i,this._objects=[],this._recentlyUsed=[],this._stamp=0;}destruct(){for(const e of this._objects)e.texture.destroy(),e.fbo.destroy();}_createObject(e){const i=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),o=new t.T(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return o.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),this._context.extTextureFilterAnisotropic&&this._context.gl.texParameterf(this._context.gl.TEXTURE_2D,this._context.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,this._context.extTextureFilterAnisotropicMax),i.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),i.colorAttachment.set(o.texture),{id:e,fbo:i,texture:o,stamp:-1,inUse:!1}}getObjectForId(e){return this._objects[e]}useObject(e){e.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter((t=>e.id!==t)),this._recentlyUsed.push(e.id);}stampObject(e){e.stamp=++this._stamp;}getOrCreateFreeObject(){for(const e of this._recentlyUsed)if(!this._objects[e].inUse)return this._objects[e];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const e=this._createObject(this._objects.length);return this._objects.push(e),e}freeObject(e){e.inUse=!1;}freeAllObjects(){for(const e of this._objects)this.freeObject(e);}isFull(){return !(this._objects.length<this._size)&&!1===this._objects.some((e=>!e.inUse))}}const ja={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0,"color-relief":!0};class Na{constructor(e,t){this.painter=e,this.terrain=t,this.pool=new Oa(e.context,30,t.sourceCache.tileSize*t.qualityFactor);}destruct(){this.pool.destruct();}getTexture(e){return this.pool.getObjectForId(e.rtt[this._stacks.length-1].id).texture}prepareForRender(e,t){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=e._order.filter((i=>!e._layers[i].isHidden(t))),this._coordsAscending={};for(const t in e.sourceCaches){this._coordsAscending[t]={};const i=e.sourceCaches[t].getVisibleCoordinates(),o=e.sourceCaches[t].getSource(),r=o instanceof X?o.terrainTileRanges:null;for(const e of i){const i=this.terrain.sourceCache.getTerrainCoords(e,r);for(const e in i)this._coordsAscending[t][e]||(this._coordsAscending[t][e]=[]),this._coordsAscending[t][e].push(i[e]);}}this._coordsAscendingStr={};for(const t of e._order){const i=e._layers[t],o=i.source;if(ja[i.type]&&!this._coordsAscendingStr[o]){this._coordsAscendingStr[o]={};for(const e in this._coordsAscending[o])this._coordsAscendingStr[o][e]=this._coordsAscending[o][e].map((e=>e.key)).sort().join();}}for(const e of this._renderableTiles)for(const t in this._coordsAscendingStr){const i=this._coordsAscendingStr[t][e.tileID.key];i&&i!==e.rttCoords[t]&&(e.rtt=[]);}}renderLayer(e,i){if(e.isHidden(this.painter.transform.zoom))return !1;const o=Object.assign(Object.assign({},i),{isRenderingToTexture:!0}),r=e.type,a=this.painter,s=this._renderableLayerIds[this._renderableLayerIds.length-1]===e.id;if(ja[r]&&(this._prevType&&ja[this._prevType]||this._stacks.push([]),this._prevType=r,this._stacks[this._stacks.length-1].push(e.id),!s))return !0;if(ja[this._prevType]||ja[r]&&s){this._prevType=r;const e=this._stacks.length-1,i=this._stacks[e]||[];for(const r of this._renderableTiles){if(this.pool.isFull()&&(Cr(this.painter,this.terrain,this._rttTiles,o),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(r),r.rtt[e]){const t=this.pool.getObjectForId(r.rtt[e].id);if(t.stamp===r.rtt[e].stamp){this.pool.useObject(t);continue}}const s=this.pool.getOrCreateFreeObject();this.pool.useObject(s),this.pool.stampObject(s),r.rtt[e]={id:s.id,stamp:s.stamp},a.context.bindFramebuffer.set(s.fbo.framebuffer),a.context.clear({color:t.be.transparent,stencil:0}),a.currentStencilSource=void 0;for(let e=0;e<i.length;e++){const t=a.style._layers[i[e]],n=t.source?this._coordsAscending[t.source][r.tileID.key]:[r.tileID];a.context.viewport.set([0,0,s.fbo.width,s.fbo.height]),a._renderTileClippingMasks(t,n,!0),a.renderLayer(a,a.style.sourceCaches[t.source],t,n,o),t.source&&(r.rttCoords[t.source]=this._coordsAscendingStr[t.source][r.tileID.key]);}}return Cr(this.painter,this.terrain,this._rttTiles,o),this._rttTiles=[],this.pool.freeAllObjects(),ja[r]}return !1}}const Za={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"MapLibre logo","Map.Title":"Map","Marker.Title":"Map marker","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","Popup.Close":"Close popup","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","GlobeControl.Enable":"Enable globe","GlobeControl.Disable":"Disable globe","TerrainControl.Enable":"Enable terrain","TerrainControl.Disable":"Disable terrain","CooperativeGesturesHandler.WindowsHelpText":"Use Ctrl + scroll to zoom the map","CooperativeGesturesHandler.MacHelpText":"Use  + scroll to zoom the map","CooperativeGesturesHandler.MobileHelpText":"Use two fingers to move the map"},Ua=i,Ga={hash:!1,interactive:!0,bearingSnap:7,attributionControl:za,maplibreLogo:!1,refreshExpiredTiles:!0,canvasContextAttributes:{antialias:!1,preserveDrawingBuffer:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!1,desynchronized:!1,contextType:void 0},scrollZoom:!0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,trackResize:!0,center:[0,0],elevation:0,zoom:0,bearing:0,pitch:0,roll:0,renderWorldCopies:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:t.a.MAX_TILE_CACHE_ZOOM_LEVELS,transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,clickTolerance:3,localIdeographFontFamily:"sans-serif",pitchWithRotate:!0,rollEnabled:!1,validateStyle:!0,maxCanvasSize:[4096,4096],cancelPendingTileRequestsWhileZooming:!0,centerClampedToGround:!0},Va={showCompass:!0,showZoom:!0,visualizePitch:!1,visualizeRoll:!0};class $a{constructor(e,i,o=!1){this.mousedown=e=>{this.startMove(e,n.mousePos(this.element,e)),n.addEventListener(window,"mousemove",this.mousemove),n.addEventListener(window,"mouseup",this.mouseup);},this.mousemove=e=>{this.move(e,n.mousePos(this.element,e));},this.mouseup=e=>{this._rotatePitchHanlder.dragEnd(e),this.offTemp();},this.touchstart=e=>{1!==e.targetTouches.length?this.reset():(this._startPos=this._lastPos=n.touchPos(this.element,e.targetTouches)[0],this.startMove(e,this._startPos),n.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),n.addEventListener(window,"touchend",this.touchend));},this.touchmove=e=>{1!==e.targetTouches.length?this.reset():(this._lastPos=n.touchPos(this.element,e.targetTouches)[0],this.move(e,this._lastPos));},this.touchend=e=>{0===e.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp();},this.reset=()=>{this._rotatePitchHanlder.reset(),delete this._startPos,delete this._lastPos,this.offTemp();},this._clickTolerance=10,this.element=i;const r=new ia;this._rotatePitchHanlder=new Kr({clickTolerance:3,move:(e,r)=>{const a=i.getBoundingClientRect(),s=new t.P((a.bottom-a.top)/2,(a.right-a.left)/2);return {bearingDelta:t.cm(new t.P(e.x,r.y),r,s),pitchDelta:o?-.5*(r.y-e.y):void 0}},moveStateManager:r,enable:!0,assignEvents:()=>{}}),this.map=e,n.addEventListener(i,"mousedown",this.mousedown),n.addEventListener(i,"touchstart",this.touchstart,{passive:!1}),n.addEventListener(i,"touchcancel",this.reset);}startMove(e,t){this._rotatePitchHanlder.dragStart(e,t),n.disableDrag();}move(e,t){const i=this.map,{bearingDelta:o,pitchDelta:r}=this._rotatePitchHanlder.dragMove(e,t)||{};o&&i.setBearing(i.getBearing()+o),r&&i.setPitch(i.getPitch()+r);}off(){const e=this.element;n.removeEventListener(e,"mousedown",this.mousedown),n.removeEventListener(e,"touchstart",this.touchstart,{passive:!1}),n.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),n.removeEventListener(window,"touchend",this.touchend),n.removeEventListener(e,"touchcancel",this.reset),this.offTemp();}offTemp(){n.enableDrag(),n.removeEventListener(window,"mousemove",this.mousemove),n.removeEventListener(window,"mouseup",this.mouseup),n.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),n.removeEventListener(window,"touchend",this.touchend);}}let qa;function Wa(e,i,o,r=!1){if(r||!o.getCoveringTilesDetailsProvider().allowWorldCopies())return null==e?void 0:e.wrap();const a=new t.S(e.lng,e.lat);if(e=new t.S(e.lng,e.lat),i){const r=new t.S(e.lng-360,e.lat),a=new t.S(e.lng+360,e.lat),s=o.locationToScreenPoint(e).distSqr(i);o.locationToScreenPoint(r).distSqr(i)<s?e=r:o.locationToScreenPoint(a).distSqr(i)<s&&(e=a);}for(;Math.abs(e.lng-o.center.lng)>180;){const t=o.locationToScreenPoint(e);if(t.x>=0&&t.y>=0&&t.x<=o.width&&t.y<=o.height)break;e.lng>o.center.lng?e.lng-=360:e.lng+=360;}return e.lng!==a.lng&&o.isPointOnMapSurface(o.locationToScreenPoint(e))?e:a}const Ha={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Xa(e,t,i){const o=e.classList;for(const e in Ha)o.remove(`maplibregl-${i}-anchor-${e}`);o.add(`maplibregl-${i}-anchor-${t}`);}class Ka extends t.E{constructor(e){if(super(),this._onKeyPress=e=>{const t=e.code,i=e.charCode||e.keyCode;"Space"!==t&&"Enter"!==t&&32!==i&&13!==i||this.togglePopup();},this._onMapClick=e=>{const t=e.originalEvent.target,i=this._element;this._popup&&(t===i||i.contains(t))&&this.togglePopup();},this._update=e=>{if(!this._map)return;const t=this._map.loaded()&&!this._map.isMoving();("terrain"===(null==e?void 0:e.type)||"render"===(null==e?void 0:e.type)&&!t)&&this._map.once("render",this._update),this._lngLat=Wa(this._lngLat,this._flatPos,this._map.transform),this._flatPos=this._pos=this._map.project(this._lngLat)._add(this._offset),this._map.terrain&&(this._flatPos=this._map.transform.locationToScreenPoint(this._lngLat)._add(this._offset));let i="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?i=`rotateZ(${this._rotation}deg)`:"map"===this._rotationAlignment&&(i=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let o="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?o="rotateX(0deg)":"map"===this._pitchAlignment&&(o=`rotateX(${this._map.getPitch()}deg)`),this._subpixelPositioning||e&&"moveend"!==e.type||(this._pos=this._pos.round()),n.setTransform(this._element,`${Ha[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${o} ${i}`),s.frameAsync(new AbortController).then((()=>{this._updateOpacity(e&&"moveend"===e.type);})).catch((()=>{}));},this._onMove=e=>{if(!this._isDragging){const t=this._clickTolerance||this._map._clickTolerance;this._isDragging=e.point.dist(this._pointerdownPos)>=t;}this._isDragging&&(this._pos=e.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new t.l("dragstart"))),this.fire(new t.l("drag")));},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new t.l("dragend")),this._state="inactive";},this._addDragHandler=e=>{this._element.contains(e.originalEvent.target)&&(e.preventDefault(),this._positionDelta=e.point.sub(this._pos).add(this._offset),this._pointerdownPos=e.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp));},this._anchor=e&&e.anchor||"center",this._color=e&&e.color||"#3FB1CE",this._scale=e&&e.scale||1,this._draggable=e&&e.draggable||!1,this._clickTolerance=e&&e.clickTolerance||0,this._subpixelPositioning=e&&e.subpixelPositioning||!1,this._isDragging=!1,this._state="inactive",this._rotation=e&&e.rotation||0,this._rotationAlignment=e&&e.rotationAlignment||"auto",this._pitchAlignment=e&&e.pitchAlignment&&"auto"!==e.pitchAlignment?e.pitchAlignment:this._rotationAlignment,this.setOpacity(null==e?void 0:e.opacity,null==e?void 0:e.opacityWhenCovered),e&&e.element)this._element=e.element,this._offset=t.P.convert(e&&e.offset||[0,0]);else {this._defaultMarker=!0,this._element=n.create("div");const i=n.createNS("http://www.w3.org/2000/svg","svg"),o=41,r=27;i.setAttributeNS(null,"display","block"),i.setAttributeNS(null,"height",`${o}px`),i.setAttributeNS(null,"width",`${r}px`),i.setAttributeNS(null,"viewBox",`0 0 ${r} ${o}`);const a=n.createNS("http://www.w3.org/2000/svg","g");a.setAttributeNS(null,"stroke","none"),a.setAttributeNS(null,"stroke-width","1"),a.setAttributeNS(null,"fill","none"),a.setAttributeNS(null,"fill-rule","evenodd");const s=n.createNS("http://www.w3.org/2000/svg","g");s.setAttributeNS(null,"fill-rule","nonzero");const l=n.createNS("http://www.w3.org/2000/svg","g");l.setAttributeNS(null,"transform","translate(3.0, 29.0)"),l.setAttributeNS(null,"fill","#000000");const c=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const e of c){const t=n.createNS("http://www.w3.org/2000/svg","ellipse");t.setAttributeNS(null,"opacity","0.04"),t.setAttributeNS(null,"cx","10.5"),t.setAttributeNS(null,"cy","5.80029008"),t.setAttributeNS(null,"rx",e.rx),t.setAttributeNS(null,"ry",e.ry),l.appendChild(t);}const h=n.createNS("http://www.w3.org/2000/svg","g");h.setAttributeNS(null,"fill",this._color);const u=n.createNS("http://www.w3.org/2000/svg","path");u.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),h.appendChild(u);const d=n.createNS("http://www.w3.org/2000/svg","g");d.setAttributeNS(null,"opacity","0.25"),d.setAttributeNS(null,"fill","#000000");const _=n.createNS("http://www.w3.org/2000/svg","path");_.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),d.appendChild(_);const p=n.createNS("http://www.w3.org/2000/svg","g");p.setAttributeNS(null,"transform","translate(6.0, 7.0)"),p.setAttributeNS(null,"fill","#FFFFFF");const m=n.createNS("http://www.w3.org/2000/svg","g");m.setAttributeNS(null,"transform","translate(8.0, 8.0)");const f=n.createNS("http://www.w3.org/2000/svg","circle");f.setAttributeNS(null,"fill","#000000"),f.setAttributeNS(null,"opacity","0.25"),f.setAttributeNS(null,"cx","5.5"),f.setAttributeNS(null,"cy","5.5"),f.setAttributeNS(null,"r","5.4999962");const g=n.createNS("http://www.w3.org/2000/svg","circle");g.setAttributeNS(null,"fill","#FFFFFF"),g.setAttributeNS(null,"cx","5.5"),g.setAttributeNS(null,"cy","5.5"),g.setAttributeNS(null,"r","5.4999962"),m.appendChild(f),m.appendChild(g),s.appendChild(l),s.appendChild(h),s.appendChild(d),s.appendChild(p),s.appendChild(m),i.appendChild(s),i.setAttributeNS(null,"height",o*this._scale+"px"),i.setAttributeNS(null,"width",r*this._scale+"px"),this._element.appendChild(i),this._offset=t.P.convert(e&&e.offset||[0,-14]);}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",(e=>{e.preventDefault();})),this._element.addEventListener("mousedown",(e=>{e.preventDefault();})),Xa(this._element,this._anchor,"marker"),e&&e.className)for(const t of e.className.split(" "))this._element.classList.add(t);this._popup=null;}addTo(e){return this.remove(),this._map=e,this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label",e._getUIString("Marker.Title")),e.getCanvasContainer().appendChild(this._element),e.on("move",this._update),e.on("moveend",this._update),e.on("terrain",this._update),e.on("projectiontransition",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("terrain",this._update),this._map.off("projectiontransition",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),n.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(e){return this._lngLat=t.S.convert(e),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(e){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),e){if(!("offset"in e.options)){const t=38.1,i=13.5,o=Math.abs(i)/Math.SQRT2;e.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[o,-1*(t-i+o)],"bottom-right":[-o,-1*(t-i+o)],left:[i,-1*(t-i)],right:[-13.5,-1*(t-i)]}:this._offset;}this._popup=e,this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress);}return this}setSubpixelPositioning(e){return this._subpixelPositioning=e,this}getPopup(){return this._popup}togglePopup(){const e=this._popup;return this._element.style.opacity===this._opacityWhenCovered?this:e?(e.isOpen()?e.remove():(e.setLngLat(this._lngLat),e.addTo(this._map)),this):this}_updateOpacity(e=!1){var i,o;const r=null===(i=this._map)||void 0===i?void 0:i.terrain,a=this._map.transform.isLocationOccluded(this._lngLat);if(!r||a){const e=a?this._opacityWhenCovered:this._opacity;return void(this._element.style.opacity!==e&&(this._element.style.opacity=e))}if(e)this._opacityTimeout=null;else {if(this._opacityTimeout)return;this._opacityTimeout=setTimeout((()=>{this._opacityTimeout=null;}),100);}const s=this._map,n=s.terrain.depthAtPoint(this._pos),l=s.terrain.getElevationForLngLatZoom(this._lngLat,s.transform.tileZoom);if(s.transform.lngLatToCameraDepth(this._lngLat,l)-n<.006)return void(this._element.style.opacity=this._opacity);const c=-this._offset.y/s.transform.pixelsPerMeter,h=Math.sin(s.getPitch()*Math.PI/180)*c,u=s.terrain.depthAtPoint(new t.P(this._pos.x,this._pos.y-this._offset.y)),d=s.transform.lngLatToCameraDepth(this._lngLat,l+h)-u>.006;(null===(o=this._popup)||void 0===o?void 0:o.isOpen())&&d&&this._popup.remove(),this._element.style.opacity=d?this._opacityWhenCovered:this._opacity;}getOffset(){return this._offset}setOffset(e){return this._offset=t.P.convert(e),this._update(),this}addClassName(e){this._element.classList.add(e);}removeClassName(e){this._element.classList.remove(e);}toggleClassName(e){return this._element.classList.toggle(e)}setDraggable(e){return this._draggable=!!e,this._map&&(e?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(e){return this._rotation=e||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(e){return this._rotationAlignment=e||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(e){return this._pitchAlignment=e&&"auto"!==e?e:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}setOpacity(e,t){return (void 0===this._opacity||void 0===e&&void 0===t)&&(this._opacity="1",this._opacityWhenCovered="0.2"),void 0!==e&&(this._opacity=e),void 0!==t&&(this._opacityWhenCovered=t),this._map&&this._updateOpacity(!0),this}}const Ya={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let Qa=0,Ja=!1;const es={maxWidth:100,unit:"metric"};function ts(e,t,i){const o=i&&i.maxWidth||100,r=e._container.clientHeight/2,a=e._container.clientWidth/2,s=e.unproject([a-o/2,r]),n=e.unproject([a+o/2,r]),l=Math.round(e.project(n).x-e.project(s).x),c=Math.min(o,l,e._container.clientWidth),h=s.distanceTo(n);if(i&&"imperial"===i.unit){const i=3.2808*h;i>5280?is(t,c,i/5280,e._getUIString("ScaleControl.Miles")):is(t,c,i,e._getUIString("ScaleControl.Feet"));}else i&&"nautical"===i.unit?is(t,c,h/1852,e._getUIString("ScaleControl.NauticalMiles")):h>=1e3?is(t,c,h/1e3,e._getUIString("ScaleControl.Kilometers")):is(t,c,h,e._getUIString("ScaleControl.Meters"));}function is(e,t,i,o){const r=function(e){const t=Math.pow(10,`${Math.floor(e)}`.length-1);let i=e/t;return i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:i>=1?1:function(e){const t=Math.pow(10,Math.ceil(-Math.log(e)/Math.LN10));return Math.round(e*t)/t}(i),t*i}(i);e.style.width=t*(r/i)+"px",e.innerHTML=`${r}&nbsp;${o}`;}const os={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px",subpixelPositioning:!1,locationOccludedOpacity:void 0},rs=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function as(e){if(e){if("number"==typeof e){const i=Math.round(Math.abs(e)/Math.SQRT2);return {center:new t.P(0,0),top:new t.P(0,e),"top-left":new t.P(i,i),"top-right":new t.P(-i,i),bottom:new t.P(0,-e),"bottom-left":new t.P(i,-i),"bottom-right":new t.P(-i,-i),left:new t.P(e,0),right:new t.P(-e,0)}}if(e instanceof t.P||Array.isArray(e)){const i=t.P.convert(e);return {center:i,top:i,"top-left":i,"top-right":i,bottom:i,"bottom-left":i,"bottom-right":i,left:i,right:i}}return {center:t.P.convert(e.center||[0,0]),top:t.P.convert(e.top||[0,0]),"top-left":t.P.convert(e["top-left"]||[0,0]),"top-right":t.P.convert(e["top-right"]||[0,0]),bottom:t.P.convert(e.bottom||[0,0]),"bottom-left":t.P.convert(e["bottom-left"]||[0,0]),"bottom-right":t.P.convert(e["bottom-right"]||[0,0]),left:t.P.convert(e.left||[0,0]),right:t.P.convert(e.right||[0,0])}}return as(new t.P(0,0))}const ss=i;e.AJAXError=t.cy,e.Event=t.l,e.Evented=t.E,e.LngLat=t.S,e.MercatorCoordinate=t.a0,e.Point=t.P,e.addProtocol=t.cz,e.config=t.a,e.removeProtocol=t.cA,e.AttributionControl=Da,e.BoxZoomHandler=$r,e.CanvasSource=Y,e.CooperativeGesturesHandler=Ca,e.DoubleClickZoomHandler=ba,e.DragPanHandler=wa,e.DragRotateHandler=Ta,e.EdgeInsets=Mt,e.FullscreenControl=class extends t.E{constructor(e={}){super(),this._onFullscreenChange=()=>{var e;let t=window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement;for(;null===(e=null==t?void 0:t.shadowRoot)||void 0===e?void 0:e.fullscreenElement;)t=t.shadowRoot.fullscreenElement;t===this._container!==this._fullscreen&&this._handleFullscreenChange();},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen();},this._fullscreen=!1,e&&e.container&&(e.container instanceof HTMLElement?this._container=e.container:t.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange");}onAdd(e){return this._map=e,this._container||(this._container=this._map.getContainer()),this._controlContainer=n.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){n.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange);}_setupUI(){const e=this._fullscreenButton=n.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);n.create("span","maplibregl-ctrl-icon",e).setAttribute("aria-hidden","true"),e.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange);}_updateTitle(){const e=this._getTitle();this._fullscreenButton.setAttribute("aria-label",e),this._fullscreenButton.title=e;}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new t.l("fullscreenstart")),this._prevCooperativeGesturesEnabled=this._map.cooperativeGestures.isEnabled(),this._map.cooperativeGestures.disable()):(this.fire(new t.l("fullscreenend")),this._prevCooperativeGesturesEnabled&&this._map.cooperativeGestures.enable());}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen();}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen();}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize();}},e.GeoJSONSource=H,e.GeolocateControl=class extends t.E{constructor(e){super(),this._onSuccess=e=>{if(this._map){if(this._isOutOfMapMaxBounds(e))return this._setErrorState(),this.fire(new t.l("outofmaxbounds",e)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=e,this._watchState){case "WAITING_ACTIVE":case "ACTIVE_LOCK":case "ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case "BACKGROUND":case "BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(e),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(e),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new t.l("geolocate",e)),this._finish();}},this._updateCamera=e=>{const i=new t.S(e.coords.longitude,e.coords.latitude),o=e.coords.accuracy,r=this._map.getBearing(),a=t.e({bearing:r},this.options.fitBoundsOptions),s=G.fromLngLat(i,o);this._map.fitBounds(s,a,{geolocateSource:!0});},this._updateMarker=e=>{if(e){const i=new t.S(e.coords.longitude,e.coords.latitude);this._accuracyCircleMarker.setLngLat(i).addTo(this._map),this._userLocationDotMarker.setLngLat(i).addTo(this._map),this._accuracy=e.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius();}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove();},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius();},this._onError=e=>{if(this._map){if(1===e.code){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const e=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=e,this._geolocateButton.setAttribute("aria-label",e),void 0!==this._geolocationWatchID&&this._clearWatch();}else {if(3===e.code&&Ja)return;this.options.trackUserLocation&&this._setErrorState();}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new t.l("error",e)),this._finish();}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0;},this._setupUI=()=>{this._map&&(this._container.addEventListener("contextmenu",(e=>e.preventDefault())),this._geolocateButton=n.create("button","maplibregl-ctrl-geolocate",this._container),n.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",this._geolocateButton.disabled=!0);},this._finishSetupUI=e=>{if(this._map){if(!1===e){t.w("Geolocation support is not available so the GeolocateControl will be disabled.");const e=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=e,this._geolocateButton.setAttribute("aria-label",e);}else {const e=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.disabled=!1,this._geolocateButton.title=e,this._geolocateButton.setAttribute("aria-label",e);}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=n.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new Ka({element:this._dotElement}),this._circleElement=n.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Ka({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",(()=>this.trigger())),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(e=>{e.geolocateSource||"ACTIVE_LOCK"!==this._watchState||e.originalEvent&&"resize"===e.originalEvent.type||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new t.l("trackuserlocationend")),this.fire(new t.l("userlocationlostfocus")));}));}},this.options=t.e({},Ya,e);}onAdd(e){return this._map=e,this._container=n.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),function(){return t._(this,arguments,void 0,(function*(e=!1){if(void 0!==qa&&!e)return qa;if(void 0===window.navigator.permissions)return qa=!!window.navigator.geolocation,qa;try{const e=yield window.navigator.permissions.query({name:"geolocation"});qa="denied"!==e.state;}catch(e){qa=!!window.navigator.geolocation;}return qa}))}().then((e=>this._finishSetupUI(e))),this._container}onRemove(){void 0!==this._geolocationWatchID&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),n.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Qa=0,Ja=!1;}_isOutOfMapMaxBounds(e){const t=this._map.getMaxBounds(),i=e.coords;return t&&(i.longitude<t.getWest()||i.longitude>t.getEast()||i.latitude<t.getSouth()||i.latitude>t.getNorth())}_setErrorState(){switch(this._watchState){case "WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case "ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case "BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case "ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){const e=this._map.getBounds(),t=e.getSouthEast(),i=e.getNorthEast(),o=t.distanceTo(i),r=Math.ceil(this._accuracy/(o/this._map._container.clientHeight)*2);this._circleElement.style.width=`${r}px`,this._circleElement.style.height=`${r}px`;}trigger(){if(!this._setup)return t.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case "OFF":this._watchState="WAITING_ACTIVE",this.fire(new t.l("trackuserlocationstart"));break;case "WAITING_ACTIVE":case "ACTIVE_LOCK":case "ACTIVE_ERROR":case "BACKGROUND_ERROR":Qa--,Ja=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new t.l("trackuserlocationend"));break;case "BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new t.l("trackuserlocationstart")),this.fire(new t.l("userlocationfocus"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case "WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case "ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case "OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){let e;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Qa++,Qa>1?(e={maximumAge:6e5,timeout:0},Ja=!0):(e=this.options.positionOptions,Ja=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,e);}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return !0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null);}},e.GlobeControl=class{constructor(){this._toggleProjection=()=>{var e;const t=null===(e=this._map.getProjection())||void 0===e?void 0:e.type;this._map.setProjection("mercator"!==t&&t?{type:"mercator"}:{type:"globe"}),this._updateGlobeIcon();},this._updateGlobeIcon=()=>{var e;this._globeButton.classList.remove("maplibregl-ctrl-globe"),this._globeButton.classList.remove("maplibregl-ctrl-globe-enabled"),"globe"===(null===(e=this._map.getProjection())||void 0===e?void 0:e.type)?(this._globeButton.classList.add("maplibregl-ctrl-globe-enabled"),this._globeButton.title=this._map._getUIString("GlobeControl.Disable")):(this._globeButton.classList.add("maplibregl-ctrl-globe"),this._globeButton.title=this._map._getUIString("GlobeControl.Enable"));};}onAdd(e){return this._map=e,this._container=n.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._globeButton=n.create("button","maplibregl-ctrl-globe",this._container),n.create("span","maplibregl-ctrl-icon",this._globeButton).setAttribute("aria-hidden","true"),this._globeButton.type="button",this._globeButton.addEventListener("click",this._toggleProjection),this._updateGlobeIcon(),this._map.on("styledata",this._updateGlobeIcon),this._container}onRemove(){n.remove(this._container),this._map.off("styledata",this._updateGlobeIcon),this._globeButton.removeEventListener("click",this._toggleProjection),this._map=void 0;}},e.Hash=Er,e.ImageSource=X,e.KeyboardHandler=pa,e.LngLatBounds=G,e.LogoControl=Aa,e.Map=class extends Ra{constructor(e){var i,o;t.cv.mark(t.cw.create);const r=Object.assign(Object.assign(Object.assign({},Ga),e),{canvasContextAttributes:Object.assign(Object.assign({},Ga.canvasContextAttributes),e.canvasContextAttributes)});if(null!=r.minZoom&&null!=r.maxZoom&&r.minZoom>r.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=r.minPitch&&null!=r.maxPitch&&r.minPitch>r.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=r.minPitch&&r.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=r.maxPitch&&r.maxPitch>180)throw new Error("maxPitch must be less than or equal to 180");const a=new Lt,s=new Ot;if(void 0!==r.minZoom&&a.setMinZoom(r.minZoom),void 0!==r.maxZoom&&a.setMaxZoom(r.maxZoom),void 0!==r.minPitch&&a.setMinPitch(r.minPitch),void 0!==r.maxPitch&&a.setMaxPitch(r.maxPitch),void 0!==r.renderWorldCopies&&a.setRenderWorldCopies(r.renderWorldCopies),super(a,s,{bearingSnap:r.bearingSnap}),this._idleTriggered=!1,this._crossFadingFactor=1,this._renderTaskQueue=new La,this._controls=[],this._mapId=t.a6(),this._contextLost=e=>{e.preventDefault(),this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this.fire(new t.l("webglcontextlost",{originalEvent:e}));},this._contextRestored=e=>{this._setupPainter(),this.resize(),this._update(),this.fire(new t.l("webglcontextrestored",{originalEvent:e}));},this._onMapScroll=e=>{if(e.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update();},this._interactive=r.interactive,this._maxTileCacheSize=r.maxTileCacheSize,this._maxTileCacheZoomLevels=r.maxTileCacheZoomLevels,this._canvasContextAttributes=Object.assign({},r.canvasContextAttributes),this._trackResize=!0===r.trackResize,this._bearingSnap=r.bearingSnap,this._centerClampedToGround=r.centerClampedToGround,this._refreshExpiredTiles=!0===r.refreshExpiredTiles,this._fadeDuration=r.fadeDuration,this._crossSourceCollisions=!0===r.crossSourceCollisions,this._collectResourceTiming=!0===r.collectResourceTiming,this._locale=Object.assign(Object.assign({},Za),r.locale),this._clickTolerance=r.clickTolerance,this._overridePixelRatio=r.pixelRatio,this._maxCanvasSize=r.maxCanvasSize,this.transformCameraUpdate=r.transformCameraUpdate,this.cancelPendingTileRequestsWhileZooming=!0===r.cancelPendingTileRequestsWhileZooming,this._imageQueueHandle=p.addThrottleControl((()=>this.isMoving())),this._requestManager=new m(r.transformRequest),"string"==typeof r.container){if(this._container=document.getElementById(r.container),!this._container)throw new Error(`Container '${r.container}' not found.`)}else {if(!(r.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=r.container;}if(r.maxBounds&&this.setMaxBounds(r.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",(()=>this._update(!1))),this.on("moveend",(()=>this._update(!1))),this.on("zoom",(()=>this._update(!0))),this.on("terrain",(()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0);})),this.once("idle",(()=>{this._idleTriggered=!0;})),"undefined"!=typeof window){addEventListener("online",this._onWindowOnline,!1);let e=!1;const t=Sr((e=>{this._trackResize&&!this._removed&&(this.resize(e),this.redraw());}),50);this._resizeObserver=new ResizeObserver((i=>{e?t(i):e=!0;})),this._resizeObserver.observe(this._container);}this.handlers=new Ea(this,r),this._hash=r.hash&&new Er("string"==typeof r.hash&&r.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:r.center,elevation:r.elevation,zoom:r.zoom,bearing:r.bearing,pitch:r.pitch,roll:r.roll}),r.bounds&&(this.resize(),this.fitBounds(r.bounds,t.e({},r.fitBoundsOptions,{duration:0}))));const n="string"==typeof r.style||!("globe"===(null===(o=null===(i=r.style)||void 0===i?void 0:i.projection)||void 0===o?void 0:o.type));this.resize(null,n),this._localIdeographFontFamily=r.localIdeographFontFamily,this._validateStyle=r.validateStyle,r.style&&this.setStyle(r.style,{localIdeographFontFamily:r.localIdeographFontFamily}),r.attributionControl&&this.addControl(new Da("boolean"==typeof r.attributionControl?void 0:r.attributionControl)),r.maplibreLogo&&this.addControl(new Aa,r.logoPosition),this.on("style.load",(()=>{if(n||this._resizeTransform(),this.transform.unmodified){const e=t.Q(this.style.stylesheet,["center","zoom","bearing","pitch","roll"]);this.jumpTo(e);}})),this.on("data",(e=>{this._update("style"===e.dataType),this.fire(new t.l(`${e.dataType}data`,e));})),this.on("dataloading",(e=>{this.fire(new t.l(`${e.dataType}dataloading`,e));})),this.on("dataabort",(e=>{this.fire(new t.l("sourcedataabort",e));}));}_getMapId(){return this._mapId}setGlobalStateProperty(e,t){return this.style.setGlobalStateProperty(e,t),this._update(!0)}getGlobalState(){return this.style.getGlobalState()}addControl(e,i){if(void 0===i&&(i=e.getDefaultPosition?e.getDefaultPosition():"top-right"),!e||!e.onAdd)return this.fire(new t.k(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const o=e.onAdd(this);this._controls.push(e);const r=this._controlPositions[i];return -1!==i.indexOf("bottom")?r.insertBefore(o,r.firstChild):r.appendChild(o),this}removeControl(e){if(!e||!e.onRemove)return this.fire(new t.k(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const i=this._controls.indexOf(e);return i>-1&&this._controls.splice(i,1),e.onRemove(this),this}hasControl(e){return this._controls.indexOf(e)>-1}calculateCameraOptionsFromTo(e,t,i,o){return null==o&&this.terrain&&(o=this.terrain.getElevationForLngLatZoom(i,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(e,t,i,o)}resize(e,i=!0){const[o,r]=this._containerDimensions(),a=this._getClampedPixelRatio(o,r);if(this._resizeCanvas(o,r,a),this.painter.resize(o,r,a),this.painter.overLimit()){const e=this.painter.context.gl;this._maxCanvasSize=[e.drawingBufferWidth,e.drawingBufferHeight];const t=this._getClampedPixelRatio(o,r);this._resizeCanvas(o,r,t),this.painter.resize(o,r,t);}this._resizeTransform(i);const s=!this._moving;return s&&(this.stop(),this.fire(new t.l("movestart",e)).fire(new t.l("move",e))),this.fire(new t.l("resize",e)),s&&this.fire(new t.l("moveend",e)),this}_resizeTransform(e=!0){var t;const[i,o]=this._containerDimensions();this.transform.resize(i,o,e),null===(t=this._requestedCameraState)||void 0===t||t.resize(i,o,e);}_getClampedPixelRatio(e,t){const{0:i,1:o}=this._maxCanvasSize,r=this.getPixelRatio(),a=e*r,s=t*r;return Math.min(a>i?i/a:1,s>o?o/s:1)*r}getPixelRatio(){var e;return null!==(e=this._overridePixelRatio)&&void 0!==e?e:devicePixelRatio}setPixelRatio(e){this._overridePixelRatio=e,this.resize();}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(e){return this.transform.setMaxBounds(G.convert(e)),this._update()}setMinZoom(e){if((e=null==e?-2:e)>=-2&&e<=this.transform.maxZoom)return this.transform.setMinZoom(e),this._update(),this.getZoom()<e&&this.setZoom(e),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(e){if((e=null==e?22:e)>=this.transform.minZoom)return this.transform.setMaxZoom(e),this._update(),this.getZoom()>e&&this.setZoom(e),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(e){if((e=null==e?0:e)<0)throw new Error("minPitch must be greater than or equal to 0");if(e>=0&&e<=this.transform.maxPitch)return this.transform.setMinPitch(e),this._update(),this.getPitch()<e&&this.setPitch(e),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(e){if((e=null==e?60:e)>180)throw new Error("maxPitch must be less than or equal to 180");if(e>=this.transform.minPitch)return this.transform.setMaxPitch(e),this._update(),this.getPitch()>e&&this.setPitch(e),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(e){return this.transform.setRenderWorldCopies(e),this._update()}project(e){return this.transform.locationToScreenPoint(t.S.convert(e),this.style&&this.terrain)}unproject(e){return this.transform.screenPointToLocation(t.P.convert(e),this.terrain)}isMoving(){var e;return this._moving||(null===(e=this.handlers)||void 0===e?void 0:e.isMoving())}isZooming(){var e;return this._zooming||(null===(e=this.handlers)||void 0===e?void 0:e.isZooming())}isRotating(){var e;return this._rotating||(null===(e=this.handlers)||void 0===e?void 0:e.isRotating())}_createDelegatedListener(e,t,i){if("mouseenter"===e||"mouseover"===e){let o=!1;const r=r=>{const a=t.filter((e=>this.getLayer(e))),s=0!==a.length?this.queryRenderedFeatures(r.point,{layers:a}):[];s.length?o||(o=!0,i.call(this,new jr(e,this,r.originalEvent,{features:s}))):o=!1;};return {layers:t,listener:i,delegates:{mousemove:r,mouseout:()=>{o=!1;}}}}if("mouseleave"===e||"mouseout"===e){let o=!1;const r=r=>{const a=t.filter((e=>this.getLayer(e)));(0!==a.length?this.queryRenderedFeatures(r.point,{layers:a}):[]).length?o=!0:o&&(o=!1,i.call(this,new jr(e,this,r.originalEvent)));},a=t=>{o&&(o=!1,i.call(this,new jr(e,this,t.originalEvent)));};return {layers:t,listener:i,delegates:{mousemove:r,mouseout:a}}}{const o=e=>{const o=t.filter((e=>this.getLayer(e))),r=0!==o.length?this.queryRenderedFeatures(e.point,{layers:o}):[];r.length&&(e.features=r,i.call(this,e),delete e.features);};return {layers:t,listener:i,delegates:{[e]:o}}}}_saveDelegatedListener(e,t){this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(t);}_removeDelegatedListener(e,t,i){if(!this._delegatedListeners||!this._delegatedListeners[e])return;const o=this._delegatedListeners[e];for(let e=0;e<o.length;e++){const r=o[e];if(r.listener===i&&r.layers.length===t.length&&r.layers.every((e=>t.includes(e)))){for(const e in r.delegates)this.off(e,r.delegates[e]);return void o.splice(e,1)}}}on(e,t,i){if(void 0===i)return super.on(e,t);const o="string"==typeof t?[t]:t,r=this._createDelegatedListener(e,o,i);this._saveDelegatedListener(e,r);for(const e in r.delegates)this.on(e,r.delegates[e]);return {unsubscribe:()=>{this._removeDelegatedListener(e,o,i);}}}once(e,t,i){if(void 0===i)return super.once(e,t);const o="string"==typeof t?[t]:t,r=this._createDelegatedListener(e,o,i);for(const t in r.delegates){const a=r.delegates[t];r.delegates[t]=(...t)=>{this._removeDelegatedListener(e,o,i),a(...t);};}this._saveDelegatedListener(e,r);for(const e in r.delegates)this.once(e,r.delegates[e]);return this}off(e,t,i){return void 0===i?super.off(e,t):(this._removeDelegatedListener(e,"string"==typeof t?[t]:t,i),this)}queryRenderedFeatures(e,i){if(!this.style)return [];let o;const r=e instanceof t.P||Array.isArray(e),a=r?e:[[0,0],[this.transform.width,this.transform.height]];if(i=i||(r?{}:e)||{},a instanceof t.P||"number"==typeof a[0])o=[t.P.convert(a)];else {const e=t.P.convert(a[0]),i=t.P.convert(a[1]);o=[e,new t.P(i.x,e.y),i,new t.P(e.x,i.y),e];}return this.style.queryRenderedFeatures(o,i,this.transform)}querySourceFeatures(e,t){return this.style.querySourceFeatures(e,t)}setStyle(e,i){return !1!==(i=t.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},i)).diff&&i.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&e?(this._diffStyle(e,i),this):(this._localIdeographFontFamily=i.localIdeographFontFamily,this._updateStyle(e,i))}setTransformRequest(e){return this._requestManager.setTransformRequest(e),this}_getUIString(e){const t=this._locale[e];if(null==t)throw new Error(`Missing UI string '${e}'`);return t}_updateStyle(e,t){var i,o;if(t.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",(()=>this._updateStyle(e,t)));const r=this.style&&t.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!e)),e?(this.style=new wi(this,t||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof e?this.style.loadURL(e,t,r):this.style.loadJSON(e,t,r),this):(null===(o=null===(i=this.style)||void 0===i?void 0:i.projection)||void 0===o||o.destroy(),delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new wi(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty());}_diffStyle(e,i){if("string"==typeof e){const o=this._requestManager.transformRequest(e,"Style");t.j(o,new AbortController).then((e=>{this._updateDiff(e.data,i);})).catch((e=>{e&&this.fire(new t.k(e));}));}else "object"==typeof e&&this._updateDiff(e,i);}_updateDiff(e,i){try{this.style.setState(e,i)&&this._update(!0);}catch(o){t.w(`Unable to perform style diff: ${o.message||o.error||o}.  Rebuilding the style from scratch.`),this._updateStyle(e,i);}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():t.w("There is no style added to the map.")}addSource(e,t){return this._lazyInitEmptyStyle(),this.style.addSource(e,t),this._update(!0)}isSourceLoaded(e){const i=this.style&&this.style.sourceCaches[e];if(void 0!==i)return i.loaded();this.fire(new t.k(new Error(`There is no source with ID '${e}'`)));}setTerrain(e){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),e){const i=this.style.sourceCaches[e.source];if(!i)throw new Error(`cannot load terrain, because there exists no source with ID: ${e.source}`);null===this.terrain&&i.reload();for(const i in this.style._layers){const o=this.style._layers[i];"hillshade"===o.type&&o.source===e.source&&t.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality."),"color-relief"===o.type&&o.source===e.source&&t.w("You are using the same source for a color-relief layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.");}this.terrain=new Ba(this.painter,i,e),this.painter.renderToTexture=new Na(this.painter,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._terrainDataCallback=t=>{var i;"style"===t.dataType?this.terrain.sourceCache.freeRtt():"source"===t.dataType&&t.tile&&(t.sourceId!==e.source||this._elevationFreeze||(this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))),"image"===(null===(i=t.source)||void 0===i?void 0:i.type)?this.terrain.sourceCache.freeRtt():this.terrain.sourceCache.freeRtt(t.tile.tileID));},this.style.on("data",this._terrainDataCallback);}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0);return this.fire(new t.l("terrain",{terrain:e})),this}getTerrain(){var e,t;return null!==(t=null===(e=this.terrain)||void 0===e?void 0:e.options)&&void 0!==t?t:null}areTilesLoaded(){const e=this.style&&this.style.sourceCaches;for(const t in e){const i=e[t]._tiles;for(const e in i){const t=i[e];if("loaded"!==t.state&&"errored"!==t.state)return !1}}return !0}removeSource(e){return this.style.removeSource(e),this._update(!0)}getSource(e){return this.style.getSource(e)}setSourceTileLodParams(e,t,i){if(i){const o=this.getSource(i);if(!o)throw new Error(`There is no source with ID "${i}", cannot set LOD parameters`);o.calculateTileZoom=me(Math.max(1,e),Math.max(1,t));}else for(const i in this.style.sourceCaches)this.style.sourceCaches[i].getSource().calculateTileZoom=me(Math.max(1,e),Math.max(1,t));return this._update(!0),this}refreshTiles(e,i){const o=this.style.sourceCaches[e];if(!o)throw new Error(`There is no source cache with ID "${e}", cannot refresh tile`);void 0===i?o.reload(!0):o.refreshTiles(i.map((e=>new t.a3(e.z,e.x,e.y))));}addImage(e,i,o={}){const{pixelRatio:r=1,sdf:a=!1,stretchX:n,stretchY:l,content:c,textFitWidth:h,textFitHeight:u}=o;if(this._lazyInitEmptyStyle(),!(i instanceof HTMLImageElement||t.b(i))){if(void 0===i.width||void 0===i.height)return this.fire(new t.k(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:o,height:s,data:d}=i,_=i;return this.style.addImage(e,{data:new t.R({width:o,height:s},new Uint8Array(d)),pixelRatio:r,stretchX:n,stretchY:l,content:c,textFitWidth:h,textFitHeight:u,sdf:a,version:0,userImage:_}),_.onAdd&&_.onAdd(this,e),this}}{const{width:o,height:d,data:_}=s.getImageData(i);this.style.addImage(e,{data:new t.R({width:o,height:d},_),pixelRatio:r,stretchX:n,stretchY:l,content:c,textFitWidth:h,textFitHeight:u,sdf:a,version:0});}}updateImage(e,i){const o=this.style.getImage(e);if(!o)return this.fire(new t.k(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const r=i instanceof HTMLImageElement||t.b(i)?s.getImageData(i):i,{width:a,height:n,data:l}=r;if(void 0===a||void 0===n)return this.fire(new t.k(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(a!==o.data.width||n!==o.data.height)return this.fire(new t.k(new Error("The width and height of the updated image must be that same as the previous version of the image")));const c=!(i instanceof HTMLImageElement||t.b(i));return o.data.replace(l,c),this.style.updateImage(e,o),this}getImage(e){return this.style.getImage(e)}hasImage(e){return e?!!this.style.getImage(e):(this.fire(new t.k(new Error("Missing required image id"))),!1)}removeImage(e){this.style.removeImage(e);}loadImage(e){return p.getImage(this._requestManager.transformRequest(e,"Image"),new AbortController)}listImages(){return this.style.listImages()}addLayer(e,t){return this._lazyInitEmptyStyle(),this.style.addLayer(e,t),this._update(!0)}moveLayer(e,t){return this.style.moveLayer(e,t),this._update(!0)}removeLayer(e){return this.style.removeLayer(e),this._update(!0)}getLayer(e){return this.style.getLayer(e)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(e,t,i){return this.style.setLayerZoomRange(e,t,i),this._update(!0)}setFilter(e,t,i={}){return this.style.setFilter(e,t,i),this._update(!0)}getFilter(e){return this.style.getFilter(e)}setPaintProperty(e,t,i,o={}){return this.style.setPaintProperty(e,t,i,o),this._update(!0)}getPaintProperty(e,t){return this.style.getPaintProperty(e,t)}setLayoutProperty(e,t,i,o={}){return this.style.setLayoutProperty(e,t,i,o),this._update(!0)}getLayoutProperty(e,t){return this.style.getLayoutProperty(e,t)}setGlyphs(e,t={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(e,t),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(e,t,i={}){return this._lazyInitEmptyStyle(),this.style.addSprite(e,t,i,(e=>{e||this._update(!0);})),this}removeSprite(e){return this._lazyInitEmptyStyle(),this.style.removeSprite(e),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(e,t={}){return this._lazyInitEmptyStyle(),this.style.setSprite(e,t,(e=>{e||this._update(!0);})),this}setLight(e,t={}){return this._lazyInitEmptyStyle(),this.style.setLight(e,t),this._update(!0)}getLight(){return this.style.getLight()}setSky(e,t={}){return this._lazyInitEmptyStyle(),this.style.setSky(e,t),this._update(!0)}getSky(){return this.style.getSky()}setFeatureState(e,t){return this.style.setFeatureState(e,t),this._update()}removeFeatureState(e,t){return this.style.removeFeatureState(e,t),this._update()}getFeatureState(e){return this.style.getFeatureState(e)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let e=0,t=0;return this._container&&(e=this._container.clientWidth||400,t=this._container.clientHeight||300),[e,t]}_setupContainer(){const e=this._container;e.classList.add("maplibregl-map");const t=this._canvasContainer=n.create("div","maplibregl-canvas-container",e);this._interactive&&t.classList.add("maplibregl-interactive"),this._canvas=n.create("canvas","maplibregl-canvas",t),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex",this._interactive?"0":"-1"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region");const i=this._containerDimensions(),o=this._getClampedPixelRatio(i[0],i[1]);this._resizeCanvas(i[0],i[1],o);const r=this._controlContainer=n.create("div","maplibregl-control-container",e),a=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((e=>{a[e]=n.create("div",`maplibregl-ctrl-${e} `,r);})),this._container.addEventListener("scroll",this._onMapScroll,!1);}_resizeCanvas(e,t,i){this._canvas.width=Math.floor(i*e),this._canvas.height=Math.floor(i*t),this._canvas.style.width=`${e}px`,this._canvas.style.height=`${t}px`;}_setupPainter(){const e=Object.assign(Object.assign({},this._canvasContextAttributes),{alpha:!0,depth:!0,stencil:!0,premultipliedAlpha:!0});let t=null;this._canvas.addEventListener("webglcontextcreationerror",(i=>{t={requestedAttributes:e},i&&(t.statusMessage=i.statusMessage,t.type=i.type);}),{once:!0});let i=null;if(i=this._canvasContextAttributes.contextType?this._canvas.getContext(this._canvasContextAttributes.contextType,e):this._canvas.getContext("webgl2",e)||this._canvas.getContext("webgl",e),!i){const e="Failed to initialize WebGL";throw t?(t.message=e,new Error(JSON.stringify(t))):new Error(e)}this.painter=new Mr(i,this.transform),l.testSupport(i);}migrateProjection(e,i){super.migrateProjection(e,i),this.painter.transform=e,this.fire(new t.l("projectiontransition",{newProjection:this.style.projection.name}));}loaded(){return !this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(e){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(e){return this._update(),this._renderTaskQueue.add(e)}_cancelRenderFrame(e){this._renderTaskQueue.remove(e);}_render(e){var i,o,r,a,n;const l=this._idleTriggered?this._fadeDuration:0,c=(null===(i=this.style.projection)||void 0===i?void 0:i.transitionState)>0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(e),this._removed)return;let h=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const e=this.transform.zoom,i=s.now();this.style.zoomHistory.update(e,i);const o=new t.F(e,{now:i,fadeDuration:l,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition(),globalState:this.style.getGlobalState()}),r=o.crossFadingFactor();1===r&&r===this._crossFadingFactor||(h=!0,this._crossFadingFactor=r),this.style.update(o);}const u=(null===(o=this.style.projection)||void 0===o?void 0:o.transitionState)>0!==c;null===(r=this.style.projection)||void 0===r||r.setErrorQueryLatitudeDegrees(this.transform.center.lat),this.transform.setTransitionState(null===(a=this.style.projection)||void 0===a?void 0:a.transitionState,null===(n=this.style.projection)||void 0===n?void 0:n.latitudeErrorCorrectionRadians),this.style&&(this._sourcesDirty||u)&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),!this._elevationFreeze&&this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0)),this._placementDirty=this.style&&this.style._updatePlacement(this.transform,this.showCollisionBoxes,l,this._crossSourceCollisions,u),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:l,showPadding:this.showPadding}),this.fire(new t.l("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,t.cv.mark(t.cw.load),this.fire(new t.l("load"))),this.style&&(this.style.hasTransitions()||h)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const d=this._sourcesDirty||this._styleDirty||this._placementDirty;return d||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new t.l("idle")),!this._loaded||this._fullyLoaded||d||(this._fullyLoaded=!0,t.cv.mark(t.cw.fullLoad)),this}redraw(){return this.style&&(this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._render(0)),this}remove(){var e;this._hash&&this._hash.remove();for(const e of this._controls)e.onRemove(this);this._controls=[],this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),"undefined"!=typeof window&&removeEventListener("online",this._onWindowOnline,!1),p.removeThrottleControl(this._imageQueueHandle),null===(e=this._resizeObserver)||void 0===e||e.disconnect();const i=this.painter.context.gl.getExtension("WEBGL_lose_context");(null==i?void 0:i.loseContext)&&i.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),n.remove(this._canvasContainer),n.remove(this._controlContainer),this._container.removeEventListener("scroll",this._onMapScroll,!1),this._container.classList.remove("maplibregl-map"),t.cv.clearMetrics(),this._removed=!0,this.fire(new t.l("remove"));}triggerRepaint(){this.style&&!this._frameRequest&&(this._frameRequest=new AbortController,s.frame(this._frameRequest,(e=>{t.cv.frame(e),this._frameRequest=null;try{this._render(e);}catch(e){if(!t.cx(e)&&!function(e){return e.message===qo}(e))throw e}}),(()=>{})));}get showTileBoundaries(){return !!this._showTileBoundaries}set showTileBoundaries(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update());}get showPadding(){return !!this._showPadding}set showPadding(e){this._showPadding!==e&&(this._showPadding=e,this._update());}get showCollisionBoxes(){return !!this._showCollisionBoxes}set showCollisionBoxes(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,e?this.style._generateCollisionBoxes():this._update());}get showOverdrawInspector(){return !!this._showOverdrawInspector}set showOverdrawInspector(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update());}get repaint(){return !!this._repaint}set repaint(e){this._repaint!==e&&(this._repaint=e,this.triggerRepaint());}get vertices(){return !!this._vertices}set vertices(e){this._vertices=e,this._update();}get version(){return Ua}getCameraTargetElevation(){return this.transform.elevation}getProjection(){return this.style.getProjection()}setProjection(e){return this._lazyInitEmptyStyle(),this.style.setProjection(e),this._update(!0)}},e.MapMouseEvent=jr,e.MapTouchEvent=Nr,e.MapWheelEvent=Zr,e.Marker=Ka,e.NavigationControl=class{constructor(e){this._updateZoomButtons=()=>{const e=this._map.getZoom(),t=e===this._map.getMaxZoom(),i=e===this._map.getMinZoom();this._zoomInButton.disabled=t,this._zoomOutButton.disabled=i,this._zoomInButton.setAttribute("aria-disabled",t.toString()),this._zoomOutButton.setAttribute("aria-disabled",i.toString());},this._rotateCompassArrow=()=>{this._compassIcon.style.transform=this.options.visualizePitch&&this.options.visualizeRoll?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateZ(${-this._map.transform.roll}deg) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizeRoll?`rotate(${-this._map.transform.bearing-this._map.transform.roll}deg)`:`rotate(${-this._map.transform.bearing}deg)`;},this._setButtonTitle=(e,t)=>{const i=this._map._getUIString(`NavigationControl.${t}`);e.title=i,e.setAttribute("aria-label",i);},this.options=t.e({},Va,e),this._container=n.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",(e=>e.preventDefault())),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",(e=>this._map.zoomIn({},{originalEvent:e}))),n.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",(e=>this._map.zoomOut({},{originalEvent:e}))),n.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",(e=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:e}):this._map.resetNorth({},{originalEvent:e});})),this._compassIcon=n.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"));}onAdd(e){return this._map=e,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.on("roll",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new $a(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){n.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.off("roll",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map;}_createButton(e,t){const i=n.create("button",e,this._container);return i.type="button",i.addEventListener("click",t),i}},e.Popup=class extends t.E{constructor(e){super(),this._updateOpacity=()=>{void 0!==this.options.locationOccludedOpacity&&(this._container.style.opacity=this._map.transform.isLocationOccluded(this.getLngLat())?`${this.options.locationOccludedOpacity}`:void 0);},this.remove=()=>(this._content&&n.remove(this._content),this._container&&(n.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),this._map._canvasContainer.classList.remove("maplibregl-track-pointer"),delete this._map,this.fire(new t.l("close"))),this),this._onMouseUp=e=>{this._update(e.point);},this._onMouseMove=e=>{this._update(e.point);},this._onDrag=e=>{this._update(e.point);},this._update=e=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=n.create("div","maplibregl-popup",this._map.getContainer()),this._tip=n.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const e of this.options.className.split(" "))this._container.classList.add(e);this._closeButton&&this._closeButton.setAttribute("aria-label",this._map._getUIString("Popup.Close")),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer");}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._lngLat=Wa(this._lngLat,this._flatPos,this._map.transform,this._trackPointer),this._trackPointer&&!e)return;const t=this._flatPos=this._pos=this._trackPointer&&e?e:this._map.project(this._lngLat);this._map.terrain&&(this._flatPos=this._trackPointer&&e?e:this._map.transform.locationToScreenPoint(this._lngLat));let i=this.options.anchor;const o=as(this.options.offset);if(!i){const e=this._container.offsetWidth,r=this._container.offsetHeight;let a;a=t.y+o.bottom.y<r?["top"]:t.y>this._map.transform.height-r?["bottom"]:[],t.x<e/2?a.push("left"):t.x>this._map.transform.width-e/2&&a.push("right"),i=0===a.length?"bottom":a.join("-");}let r=t.add(o[i]);this.options.subpixelPositioning||(r=r.round()),n.setTransform(this._container,`${Ha[i]} translate(${r.x}px,${r.y}px)`),Xa(this._container,i,"popup"),this._updateOpacity();},this._onClose=()=>{this.remove();},this.options=t.e(Object.create(os),e);}addTo(e){return this._map&&this.remove(),this._map=e,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new t.l("open")),this}isOpen(){return !!this._map}getLngLat(){return this._lngLat}setLngLat(e){return this._lngLat=t.S.convert(e),this._pos=null,this._flatPos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._flatPos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(e){return this.setDOMContent(document.createTextNode(e))}setHTML(e){const t=document.createDocumentFragment(),i=document.createElement("body");let o;for(i.innerHTML=e;o=i.firstChild,o;)t.appendChild(o);return this.setDOMContent(t)}getMaxWidth(){var e;return null===(e=this._container)||void 0===e?void 0:e.style.maxWidth}setMaxWidth(e){return this.options.maxWidth=e,this._update(),this}setDOMContent(e){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=n.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(e),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(e){return this._container&&this._container.classList.add(e),this}removeClassName(e){return this._container&&this._container.classList.remove(e),this}setOffset(e){return this.options.offset=e,this._update(),this}toggleClassName(e){if(this._container)return this._container.classList.toggle(e)}setSubpixelPositioning(e){this.options.subpixelPositioning=e;}_createCloseButton(){this.options.closeButton&&(this._closeButton=n.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose));}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const e=this._container.querySelector(rs);e&&e.focus();}},e.RasterDEMTileSource=W,e.RasterTileSource=q,e.ScaleControl=class{constructor(e){this._onMove=()=>{ts(this._map,this._container,this.options);},this.setUnit=e=>{this.options.unit=e,ts(this._map,this._container,this.options);},this.options=Object.assign(Object.assign({},es),e);}getDefaultPosition(){return "bottom-left"}onAdd(e){return this._map=e,this._container=n.create("div","maplibregl-ctrl maplibregl-ctrl-scale",e.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){n.remove(this._container),this._map.off("move",this._onMove),this._map=void 0;}},e.ScrollZoomHandler=va,e.Style=wi,e.TerrainControl=class{constructor(e){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon();},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"));},this.options=e;}onAdd(e){return this._map=e,this._container=n.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=n.create("button","maplibregl-ctrl-terrain",this._container),n.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){n.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0;}},e.TwoFingersTouchPitchHandler=da,e.TwoFingersTouchRotateHandler=ha,e.TwoFingersTouchZoomHandler=la,e.TwoFingersTouchZoomRotateHandler=Pa,e.VectorTileSource=$,e.VideoSource=K,e.addSourceType=(e,i)=>t._(void 0,void 0,void 0,(function*(){if(J(e))throw new Error(`A source type called "${e}" already exists.`);((e,t)=>{Q[e]=t;})(e,i);})),e.clearPrewarmedResources=function(){const e=A;e&&(e.isPreloaded()&&1===e.numActive()?(e.release(R),A=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"));},e.createTileMesh=Xt,e.getMaxParallelImageRequests=function(){return t.a.MAX_PARALLEL_IMAGE_REQUESTS},e.getRTLTextPluginStatus=function(){return oe().getRTLTextPluginStatus()},e.getVersion=function(){return ss},e.getWorkerCount=function(){return z.workerCount},e.getWorkerUrl=function(){return t.a.WORKER_URL},e.importScriptInWorkers=function(e){return B().broadcast("IS",e)},e.prewarm=function(){k().acquire(R);},e.setMaxParallelImageRequests=function(e){t.a.MAX_PARALLEL_IMAGE_REQUESTS=e;},e.setRTLTextPlugin=function(e,t){return oe().setRTLTextPlugin(e,t)},e.setWorkerCount=function(e){z.workerCount=e;},e.setWorkerUrl=function(e){t.a.WORKER_URL=e;};}));

//
// Our custom intro provides a specialized "define()" function, called by the
// AMD modules below, that sets up the worker blob URL and then executes the
// main module, storing its exported value as 'maplibregl'


var maplibregl$1 = maplibregl;

return maplibregl$1;

}));
//# sourceMappingURL=maplibre-gl.js.map
</script>
<style type="text/css">

.mapbox-gl-draw_ctrl-bottom-left,
.mapbox-gl-draw_ctrl-top-left {
margin-left:0;
border-radius:0 4px 4px 0;
}
.mapbox-gl-draw_ctrl-top-right,
.mapbox-gl-draw_ctrl-bottom-right {
margin-right:0;
border-radius:4px 0 0 4px;
}
.mapbox-gl-draw_ctrl-draw-btn {
border-color:rgba(0,0,0,0.9);
color:rgba(255,255,255,0.5);
width:30px;
height:30px;
}
.mapbox-gl-draw_ctrl-draw-btn.active,
.mapbox-gl-draw_ctrl-draw-btn.active:hover {
background-color:rgb(0 0 0/5%);
}
.mapbox-gl-draw_ctrl-draw-btn {
background-repeat: no-repeat;
background-position: center;
}
.mapbox-gl-draw_point {
background-image: url('data:image/svg+xml;utf8,%3Csvg xmlns="http://www.w3.org/2000/svg" width="20" height="20">%3Cpath d="m10 2c-3.3 0-6 2.7-6 6s6 9 6 9 6-5.7 6-9-2.7-6-6-6zm0 2c2.1 0 3.8 1.7 3.8 3.8 0 1.5-1.8 3.9-2.9 5.2h-1.7c-1.1-1.4-2.9-3.8-2.9-5.2-.1-2.1 1.6-3.8 3.7-3.8z"/>%3C/svg>');
}
.mapbox-gl-draw_polygon {
background-image: url('data:image/svg+xml;utf8,%3Csvg xmlns="http://www.w3.org/2000/svg" width="20" height="20">%3Cpath d="m15 12.3v-4.6c.6-.3 1-1 1-1.7 0-1.1-.9-2-2-2-.7 0-1.4.4-1.7 1h-4.6c-.3-.6-1-1-1.7-1-1.1 0-2 .9-2 2 0 .7.4 1.4 1 1.7v4.6c-.6.3-1 1-1 1.7 0 1.1.9 2 2 2 .7 0 1.4-.4 1.7-1h4.6c.3.6 1 1 1.7 1 1.1 0 2-.9 2-2 0-.7-.4-1.4-1-1.7zm-8-.3v-4l1-1h4l1 1v4l-1 1h-4z"/>%3C/svg>');
}
.mapbox-gl-draw_line {
background-image: url('data:image/svg+xml;utf8,%3Csvg xmlns="http://www.w3.org/2000/svg" width="20" height="20">%3Cpath d="m13.5 3.5c-1.4 0-2.5 1.1-2.5 2.5 0 .3 0 .6.2.9l-3.8 3.8c-.3-.1-.6-.2-.9-.2-1.4 0-2.5 1.1-2.5 2.5s1.1 2.5 2.5 2.5 2.5-1.1 2.5-2.5c0-.3 0-.6-.2-.9l3.8-3.8c.3.1.6.2.9.2 1.4 0 2.5-1.1 2.5-2.5s-1.1-2.5-2.5-2.5z"/>%3C/svg>');
}
.mapbox-gl-draw_trash {
background-image: url('data:image/svg+xml;utf8,%3Csvg xmlns="http://www.w3.org/2000/svg" width="20" height="20">%3Cpath d="M10,3.4 c-0.8,0-1.5,0.5-1.8,1.2H5l-1,1v1h12v-1l-1-1h-3.2C11.5,3.9,10.8,3.4,10,3.4z M5,8v7c0,1,1,2,2,2h6c1,0,2-1,2-2V8h-2v5.5h-1.5V8h-3 v5.5H7V8H5z"/>%3C/svg>');
}
.mapbox-gl-draw_uncombine {
background-image: url('data:image/svg+xml;utf8,%3Csvg xmlns="http://www.w3.org/2000/svg" width="20" height="20">%3Cpath d="m12 2c-.3 0-.5.1-.7.3l-1 1c-.4.4-.4 1 0 1.4l1 1c.4.4 1 .4 1.4 0l1-1c.4-.4.4-1 0-1.4l-1-1c-.2-.2-.4-.3-.7-.3zm4 4c-.3 0-.5.1-.7.3l-1 1c-.4.4-.4 1 0 1.4l1 1c.4.4 1 .4 1.4 0l1-1c.4-.4.4-1 0-1.4l-1-1c-.2-.2-.4-.3-.7-.3zm-7 1c-1 0-1 1-.5 1.5.3.3 1 1 1 1l-1 1s-.5.5 0 1 1 0 1 0l1-1 1 1c.5.5 1.5.5 1.5-.5v-4zm-5 3c-.3 0-.5.1-.7.3l-1 1c-.4.4-.4 1 0 1.4l4.9 4.9c.4.4 1 .4 1.4 0l1-1c.4-.4.4-1 0-1.4l-4.9-4.9c-.1-.2-.4-.3-.7-.3z"/>%3C/svg>');
}
.mapbox-gl-draw_combine {
background-image: url('data:image/svg+xml;utf8,%3Csvg xmlns="http://www.w3.org/2000/svg" width="20" height="20">%3Cpath d="M12.1,2c-0.3,0-0.5,0.1-0.7,0.3l-1,1c-0.4,0.4-0.4,1,0,1.4l4.9,4.9c0.4,0.4,1,0.4,1.4,0l1-1 c0.4-0.4,0.4-1,0-1.4l-4.9-4.9C12.6,2.1,12.3,2,12.1,2z M8,8C7,8,7,9,7.5,9.5c0.3,0.3,1,1,1,1l-1,1c0,0-0.5,0.5,0,1s1,0,1,0l1-1l1,1 C11,13,12,13,12,12V8H8z M4,10c-0.3,0-0.5,0.1-0.7,0.3l-1,1c-0.4,0.4-0.4,1,0,1.4l1,1c0.4,0.4,1,0.4,1.4,0l1-1c0.4-0.4,0.4-1,0-1.4 l-1-1C4.5,10.1,4.3,10,4,10z M8,14c-0.3,0-0.5,0.1-0.7,0.3l-1,1c-0.4,0.4-0.4,1,0,1.4l1,1c0.4,0.4,1,0.4,1.4,0l1-1 c0.4-0.4,0.4-1,0-1.4l-1-1C8.5,14.1,8.3,14,8,14z"/>%3C/svg>');
}
.mapboxgl-map.mouse-pointer .mapboxgl-canvas-container.mapboxgl-interactive {
cursor: pointer;
}
.mapboxgl-map.mouse-move .mapboxgl-canvas-container.mapboxgl-interactive {
cursor: move;
}
.mapboxgl-map.mouse-add .mapboxgl-canvas-container.mapboxgl-interactive {
cursor: crosshair;
}
.mapboxgl-map.mouse-move.mode-direct_select .mapboxgl-canvas-container.mapboxgl-interactive {
cursor: grab;
cursor: -moz-grab;
cursor: -webkit-grab;
}
.mapboxgl-map.mode-direct_select.feature-vertex.mouse-move .mapboxgl-canvas-container.mapboxgl-interactive {
cursor: move;
}
.mapboxgl-map.mode-direct_select.feature-midpoint.mouse-pointer .mapboxgl-canvas-container.mapboxgl-interactive {
cursor: cell;
}
.mapboxgl-map.mode-direct_select.feature-feature.mouse-move .mapboxgl-canvas-container.mapboxgl-interactive {
cursor: move;
}
.mapboxgl-map.mode-static.mouse-pointer .mapboxgl-canvas-container.mapboxgl-interactive {
cursor: grab;
cursor: -moz-grab;
cursor: -webkit-grab;
}
.mapbox-gl-draw_boxselect {
pointer-events: none;
position: absolute;
top: 0;
left: 0;
width: 0;
height: 0;
background: rgba(0,0,0,.1);
border: 2px dotted #fff;
opacity: 0.5;
}
</style>
<script>var e,t;e=this,t=function(){const e=function(e,t){const o={drag:[],click:[],mousemove:[],mousedown:[],mouseup:[],mouseout:[],keydown:[],keyup:[],touchstart:[],touchmove:[],touchend:[],tap:[]},n={on(e,t,n){if(void 0===o[e])throw new Error(`Invalid event type: ${e}`);o[e].push({selector:t,fn:n})},render(e){t.store.featureChanged(e)}},r=function(e,r){const i=o[e];let s=i.length;for(;s--;){const e=i[s];if(e.selector(r)){e.fn.call(n,r)||t.store.render(),t.ui.updateMapClasses();break}}};return e.start.call(n),{render:e.render,stop(){e.stop&&e.stop()},trash(){e.trash&&(e.trash(),t.store.render())},combineFeatures(){e.combineFeatures&&e.combineFeatures()},uncombineFeatures(){e.uncombineFeatures&&e.uncombineFeatures()},drag(e){r("drag",e)},click(e){r("click",e)},mousemove(e){r("mousemove",e)},mousedown(e){r("mousedown",e)},mouseup(e){r("mouseup",e)},mouseout(e){r("mouseout",e)},keydown(e){r("keydown",e)},keyup(e){r("keyup",e)},touchstart(e){r("touchstart",e)},touchmove(e){r("touchmove",e)},touchend(e){r("touchend",e)},tap(e){r("tap",e)}}};function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var o,n,r={},i={};function s(){return o||(o=1,i.RADIUS=6378137,i.FLATTENING=1/298.257223563,i.POLAR_RADIUS=6356752.3142),i}var a=function(){if(n)return r;n=1;var e=s();function t(e){var t=0;if(e&&e.length>0){t+=Math.abs(o(e[0]));for(var n=1;n<e.length;n++)t-=Math.abs(o(e[n]))}return t}function o(t){var o,n,r,s,a,c,u=0,l=t.length;if(l>2){for(c=0;c<l;c++)c===l-2?(r=l-2,s=l-1,a=0):c===l-1?(r=l-1,s=0,a=1):(r=c,s=c+1,a=c+2),o=t[r],n=t[s],u+=(i(t[a][0])-i(o[0]))*Math.sin(i(n[1]));u=u*e.RADIUS*e.RADIUS/2}return u}function i(e){return e*Math.PI/180}return r.geometry=function e(o){var n,r=0;switch(o.type){case"Polygon":return t(o.coordinates);case"MultiPolygon":for(n=0;n<o.coordinates.length;n++)r+=t(o.coordinates[n]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(n=0;n<o.geometries.length;n++)r+=e(o.geometries[n]);return r}},r.ring=o,r}(),c=t(a);const u={CANVAS:"mapboxgl-canvas",CONTROL_BASE:"mapboxgl-ctrl",CONTROL_PREFIX:"mapboxgl-ctrl-",CONTROL_BUTTON:"mapbox-gl-draw_ctrl-draw-btn",CONTROL_BUTTON_LINE:"mapbox-gl-draw_line",CONTROL_BUTTON_POLYGON:"mapbox-gl-draw_polygon",CONTROL_BUTTON_POINT:"mapbox-gl-draw_point",CONTROL_BUTTON_TRASH:"mapbox-gl-draw_trash",CONTROL_BUTTON_COMBINE_FEATURES:"mapbox-gl-draw_combine",CONTROL_BUTTON_UNCOMBINE_FEATURES:"mapbox-gl-draw_uncombine",CONTROL_GROUP:"mapboxgl-ctrl-group",ATTRIBUTION:"mapboxgl-ctrl-attrib",ACTIVE_BUTTON:"active",BOX_SELECT:"mapbox-gl-draw_boxselect"},l={HOT:"mapbox-gl-draw-hot",COLD:"mapbox-gl-draw-cold"},d={ADD:"add",MOVE:"move",DRAG:"drag",POINTER:"pointer",NONE:"none"},p={POLYGON:"polygon",LINE:"line_string",POINT:"point"},h={FEATURE:"Feature",POLYGON:"Polygon",LINE_STRING:"LineString",POINT:"Point",FEATURE_COLLECTION:"FeatureCollection",MULTI_PREFIX:"Multi",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon"},f={DRAW_LINE_STRING:"draw_line_string",DRAW_POLYGON:"draw_polygon",DRAW_POINT:"draw_point",SIMPLE_SELECT:"simple_select",DIRECT_SELECT:"direct_select"},g={CREATE:"draw.create",DELETE:"draw.delete",UPDATE:"draw.update",SELECTION_CHANGE:"draw.selectionchange",MODE_CHANGE:"draw.modechange",ACTIONABLE:"draw.actionable",RENDER:"draw.render",COMBINE_FEATURES:"draw.combine",UNCOMBINE_FEATURES:"draw.uncombine"},m={MOVE:"move",CHANGE_PROPERTIES:"change_properties",CHANGE_COORDINATES:"change_coordinates"},y={FEATURE:"feature",MIDPOINT:"midpoint",VERTEX:"vertex"},E={ACTIVE:"true",INACTIVE:"false"},T=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate"],C=-85,_=85;var v=Object.freeze({__proto__:null,LAT_MAX:90,LAT_MIN:-90,LAT_RENDERED_MAX:_,LAT_RENDERED_MIN:C,LNG_MAX:270,LNG_MIN:-270,activeStates:E,classes:u,cursors:d,events:g,geojsonTypes:h,interactions:T,meta:y,modes:f,sources:l,types:p,updateActions:m});const I={Point:0,LineString:1,MultiLineString:1,Polygon:2};function S(e,t){const o=I[e.geometry.type]-I[t.geometry.type];return 0===o&&e.geometry.type===h.POLYGON?e.area-t.area:o}function O(e){return e.map((e=>(e.geometry.type===h.POLYGON&&(e.area=c.geometry({type:h.FEATURE,property:{},geometry:e.geometry})),e))).sort(S).map((e=>(delete e.area,e)))}function L(e,t=0){return[[e.point.x-t,e.point.y-t],[e.point.x+t,e.point.y+t]]}function M(e){if(this._items={},this._nums={},this._length=e?e.length:0,e)for(let t=0,o=e.length;t<o;t++)this.add(e[t]),void 0!==e[t]&&("string"==typeof e[t]?this._items[e[t]]=t:this._nums[e[t]]=t)}M.prototype.add=function(e){return this.has(e)||(this._length++,"string"==typeof e?this._items[e]=this._length:this._nums[e]=this._length),this},M.prototype.delete=function(e){return!1===this.has(e)||(this._length--,delete this._items[e],delete this._nums[e]),this},M.prototype.has=function(e){return!("string"!=typeof e&&"number"!=typeof e||void 0===this._items[e]&&void 0===this._nums[e])},M.prototype.values=function(){const e=[];return Object.keys(this._items).forEach((t=>{e.push({k:t,v:this._items[t]})})),Object.keys(this._nums).forEach((t=>{e.push({k:JSON.parse(t),v:this._nums[t]})})),e.sort(((e,t)=>e.v-t.v)).map((e=>e.k))},M.prototype.clear=function(){return this._length=0,this._items={},this._nums={},this};const N=[y.FEATURE,y.MIDPOINT,y.VERTEX];var b={click:function(e,t,o){return x(e,t,o,o.options.clickBuffer)},touch:function(e,t,o){return x(e,t,o,o.options.touchBuffer)}};function x(e,t,o,n){if(null===o.map)return[];const r=e?L(e,n):t,i={};o.options.styles&&(i.layers=o.options.styles.map((e=>e.id)).filter((e=>null!=o.map.getLayer(e))));const s=o.map.queryRenderedFeatures(r,i).filter((e=>-1!==N.indexOf(e.properties.meta))),a=new M,c=[];return s.forEach((e=>{const t=e.properties.id;a.has(t)||(a.add(t),c.push(e))})),O(c)}function A(e,t){const o=b.click(e,null,t),n={mouse:d.NONE};return o[0]&&(n.mouse=o[0].properties.active===E.ACTIVE?d.MOVE:d.POINTER,n.feature=o[0].properties.meta),-1!==t.events.currentModeName().indexOf("draw")&&(n.mouse=d.ADD),t.ui.queueMapClasses(n),t.ui.updateMapClasses(),o[0]}function P(e,t){const o=e.x-t.x,n=e.y-t.y;return Math.sqrt(o*o+n*n)}const F=4,R=12,w=500;function D(e,t,o={}){const n=null!=o.fineTolerance?o.fineTolerance:F,r=null!=o.grossTolerance?o.grossTolerance:R,i=null!=o.interval?o.interval:w;e.point=e.point||t.point,e.time=e.time||t.time;const s=P(e.point,t.point);return s<n||s<r&&t.time-e.time<i}const U=25,k=250;function V(e,t,o={}){const n=null!=o.tolerance?o.tolerance:U,r=null!=o.interval?o.interval:k;return e.point=e.point||t.point,e.time=e.time||t.time,P(e.point,t.point)<n&&t.time-e.time<r}const G=((e,t=21)=>(o=t)=>{let n="",r=0|o;for(;r--;)n+=e[Math.random()*e.length|0];return n})("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",32);function B(){return G()}const j=function(e,t){this.ctx=e,this.properties=t.properties||{},this.coordinates=t.geometry.coordinates,this.id=t.id||B(),this.type=t.geometry.type};j.prototype.changed=function(){this.ctx.store.featureChanged(this.id)},j.prototype.incomingCoords=function(e){this.setCoordinates(e)},j.prototype.setCoordinates=function(e){this.coordinates=e,this.changed()},j.prototype.getCoordinates=function(){return JSON.parse(JSON.stringify(this.coordinates))},j.prototype.setProperty=function(e,t){this.properties[e]=t},j.prototype.toGeoJSON=function(){return JSON.parse(JSON.stringify({id:this.id,type:h.FEATURE,properties:this.properties,geometry:{coordinates:this.getCoordinates(),type:this.type}}))},j.prototype.internal=function(e){const t={id:this.id,meta:y.FEATURE,"meta:type":this.type,active:E.INACTIVE,mode:e};if(this.ctx.options.userProperties)for(const e in this.properties)t[`user_${e}`]=this.properties[e];return{type:h.FEATURE,properties:t,geometry:{coordinates:this.getCoordinates(),type:this.type}}};const J=function(e,t){j.call(this,e,t)};(J.prototype=Object.create(j.prototype)).isValid=function(){return"number"==typeof this.coordinates[0]&&"number"==typeof this.coordinates[1]},J.prototype.updateCoordinate=function(e,t,o){this.coordinates=3===arguments.length?[t,o]:[e,t],this.changed()},J.prototype.getCoordinate=function(){return this.getCoordinates()};const $=function(e,t){j.call(this,e,t)};($.prototype=Object.create(j.prototype)).isValid=function(){return this.coordinates.length>1},$.prototype.addCoordinate=function(e,t,o){this.changed();const n=parseInt(e,10);this.coordinates.splice(n,0,[t,o])},$.prototype.getCoordinate=function(e){const t=parseInt(e,10);return JSON.parse(JSON.stringify(this.coordinates[t]))},$.prototype.removeCoordinate=function(e){this.changed(),this.coordinates.splice(parseInt(e,10),1)},$.prototype.updateCoordinate=function(e,t,o){const n=parseInt(e,10);this.coordinates[n]=[t,o],this.changed()};const Y=function(e,t){j.call(this,e,t),this.coordinates=this.coordinates.map((e=>e.slice(0,-1)))};(Y.prototype=Object.create(j.prototype)).isValid=function(){return 0!==this.coordinates.length&&this.coordinates.every((e=>e.length>2))},Y.prototype.incomingCoords=function(e){this.coordinates=e.map((e=>e.slice(0,-1))),this.changed()},Y.prototype.setCoordinates=function(e){this.coordinates=e,this.changed()},Y.prototype.addCoordinate=function(e,t,o){this.changed();const n=e.split(".").map((e=>parseInt(e,10)));this.coordinates[n[0]].splice(n[1],0,[t,o])},Y.prototype.removeCoordinate=function(e){this.changed();const t=e.split(".").map((e=>parseInt(e,10))),o=this.coordinates[t[0]];o&&(o.splice(t[1],1),o.length<3&&this.coordinates.splice(t[0],1))},Y.prototype.getCoordinate=function(e){const t=e.split(".").map((e=>parseInt(e,10))),o=this.coordinates[t[0]];return JSON.parse(JSON.stringify(o[t[1]]))},Y.prototype.getCoordinates=function(){return this.coordinates.map((e=>e.concat([e[0]])))},Y.prototype.updateCoordinate=function(e,t,o){this.changed();const n=e.split("."),r=parseInt(n[0],10),i=parseInt(n[1],10);void 0===this.coordinates[r]&&(this.coordinates[r]=[]),this.coordinates[r][i]=[t,o]};const H={MultiPoint:J,MultiLineString:$,MultiPolygon:Y},X=(e,t,o,n,r)=>{const i=o.split("."),s=parseInt(i[0],10),a=i[1]?i.slice(1).join("."):null;return e[s][t](a,n,r)},q=function(e,t){if(j.call(this,e,t),delete this.coordinates,this.model=H[t.geometry.type],void 0===this.model)throw new TypeError(`${t.geometry.type} is not a valid type`);this.features=this._coordinatesToFeatures(t.geometry.coordinates)};function Z(e){this.map=e.map,this.drawConfig=JSON.parse(JSON.stringify(e.options||{})),this._ctx=e}(q.prototype=Object.create(j.prototype))._coordinatesToFeatures=function(e){const t=this.model.bind(this);return e.map((e=>new t(this.ctx,{id:B(),type:h.FEATURE,properties:{},geometry:{coordinates:e,type:this.type.replace("Multi","")}})))},q.prototype.isValid=function(){return this.features.every((e=>e.isValid()))},q.prototype.setCoordinates=function(e){this.features=this._coordinatesToFeatures(e),this.changed()},q.prototype.getCoordinate=function(e){return X(this.features,"getCoordinate",e)},q.prototype.getCoordinates=function(){return JSON.parse(JSON.stringify(this.features.map((e=>e.type===h.POLYGON?e.getCoordinates():e.coordinates))))},q.prototype.updateCoordinate=function(e,t,o){X(this.features,"updateCoordinate",e,t,o),this.changed()},q.prototype.addCoordinate=function(e,t,o){X(this.features,"addCoordinate",e,t,o),this.changed()},q.prototype.removeCoordinate=function(e){X(this.features,"removeCoordinate",e),this.changed()},q.prototype.getFeatures=function(){return this.features},Z.prototype.setSelected=function(e){return this._ctx.store.setSelected(e)},Z.prototype.setSelectedCoordinates=function(e){this._ctx.store.setSelectedCoordinates(e),e.reduce(((e,t)=>(void 0===e[t.feature_id]&&(e[t.feature_id]=!0,this._ctx.store.get(t.feature_id).changed()),e)),{})},Z.prototype.getSelected=function(){return this._ctx.store.getSelected()},Z.prototype.getSelectedIds=function(){return this._ctx.store.getSelectedIds()},Z.prototype.isSelected=function(e){return this._ctx.store.isSelected(e)},Z.prototype.getFeature=function(e){return this._ctx.store.get(e)},Z.prototype.select=function(e){return this._ctx.store.select(e)},Z.prototype.deselect=function(e){return this._ctx.store.deselect(e)},Z.prototype.deleteFeature=function(e,t={}){return this._ctx.store.delete(e,t)},Z.prototype.addFeature=function(e,t={}){return this._ctx.store.add(e,t)},Z.prototype.clearSelectedFeatures=function(){return this._ctx.store.clearSelected()},Z.prototype.clearSelectedCoordinates=function(){return this._ctx.store.clearSelectedCoordinates()},Z.prototype.setActionableState=function(e={}){const t={trash:e.trash||!1,combineFeatures:e.combineFeatures||!1,uncombineFeatures:e.uncombineFeatures||!1};return this._ctx.events.actionable(t)},Z.prototype.changeMode=function(e,t={},o={}){return this._ctx.events.changeMode(e,t,o)},Z.prototype.fire=function(e,t){return this._ctx.events.fire(e,t)},Z.prototype.updateUIClasses=function(e){return this._ctx.ui.queueMapClasses(e)},Z.prototype.activateUIButton=function(e){return this._ctx.ui.setActiveButton(e)},Z.prototype.featuresAt=function(e,t,o="click"){if("click"!==o&&"touch"!==o)throw new Error("invalid buffer type");return b[o](e,t,this._ctx)},Z.prototype.newFeature=function(e){const t=e.geometry.type;return t===h.POINT?new J(this._ctx,e):t===h.LINE_STRING?new $(this._ctx,e):t===h.POLYGON?new Y(this._ctx,e):new q(this._ctx,e)},Z.prototype.isInstanceOf=function(e,t){if(e===h.POINT)return t instanceof J;if(e===h.LINE_STRING)return t instanceof $;if(e===h.POLYGON)return t instanceof Y;if("MultiFeature"===e)return t instanceof q;throw new Error(`Unknown feature class: ${e}`)},Z.prototype.doRender=function(e){return this._ctx.store.featureChanged(e)},Z.prototype.onSetup=function(){},Z.prototype.onDrag=function(){},Z.prototype.onClick=function(){},Z.prototype.onMouseMove=function(){},Z.prototype.onMouseDown=function(){},Z.prototype.onMouseUp=function(){},Z.prototype.onMouseOut=function(){},Z.prototype.onKeyUp=function(){},Z.prototype.onKeyDown=function(){},Z.prototype.onTouchStart=function(){},Z.prototype.onTouchMove=function(){},Z.prototype.onTouchEnd=function(){},Z.prototype.onTap=function(){},Z.prototype.onStop=function(){},Z.prototype.onTrash=function(){},Z.prototype.onCombineFeature=function(){},Z.prototype.onUncombineFeature=function(){},Z.prototype.toDisplayFeatures=function(){throw new Error("You must overwrite toDisplayFeatures")};const W={drag:"onDrag",click:"onClick",mousemove:"onMouseMove",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseout:"onMouseOut",keyup:"onKeyUp",keydown:"onKeyDown",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd",tap:"onTap"},K=Object.keys(W);function z(e){const t=Object.keys(e);return function(o,n={}){let r={};const i=t.reduce(((t,o)=>(t[o]=e[o],t)),new Z(o));return{start(){r=i.onSetup(n),K.forEach((t=>{const o=W[t];let n=()=>!1;var s;e[o]&&(n=()=>!0),this.on(t,n,(s=o,e=>i[s](r,e)))}))},stop(){i.onStop(r)},trash(){i.onTrash(r)},combineFeatures(){i.onCombineFeatures(r)},uncombineFeatures(){i.onUncombineFeatures(r)},render(e,t){i.toDisplayFeatures(r,e,t)}}}}function Q(e){return[].concat(e).filter((e=>void 0!==e))}function ee(){const e=this;if(!e.ctx.map||void 0===e.ctx.map.getSource(l.HOT))return a();const t=e.ctx.events.currentModeName();e.ctx.ui.queueMapClasses({mode:t});let o=[],n=[];e.isDirty?n=e.getAllIds():(o=e.getChangedIds().filter((t=>void 0!==e.get(t))),n=e.sources.hot.filter((t=>t.properties.id&&-1===o.indexOf(t.properties.id)&&void 0!==e.get(t.properties.id))).map((e=>e.properties.id))),e.sources.hot=[];const r=e.sources.cold.length;e.sources.cold=e.isDirty?[]:e.sources.cold.filter((e=>{const t=e.properties.id||e.properties.parent;return-1===o.indexOf(t)}));const i=r!==e.sources.cold.length||n.length>0;function s(o,n){const r=e.get(o).internal(t);e.ctx.events.currentModeRender(r,(o=>{o.properties.mode=t,e.sources[n].push(o)}))}function a(){e.isDirty=!1,e.clearChangedIds()}o.forEach((e=>s(e,"hot"))),n.forEach((e=>s(e,"cold"))),i&&e.ctx.map.getSource(l.COLD).setData({type:h.FEATURE_COLLECTION,features:e.sources.cold}),e.ctx.map.getSource(l.HOT).setData({type:h.FEATURE_COLLECTION,features:e.sources.hot}),a()}function te(e){let t;this._features={},this._featureIds=new M,this._selectedFeatureIds=new M,this._selectedCoordinates=[],this._changedFeatureIds=new M,this._emitSelectionChange=!1,this._mapInitialConfig={},this.ctx=e,this.sources={hot:[],cold:[]},this.render=()=>{t||(t=requestAnimationFrame((()=>{t=null,ee.call(this),this._emitSelectionChange&&(this.ctx.events.fire(g.SELECTION_CHANGE,{features:this.getSelected().map((e=>e.toGeoJSON())),points:this.getSelectedCoordinates().map((e=>({type:h.FEATURE,properties:{},geometry:{type:h.POINT,coordinates:e.coordinates}})))}),this._emitSelectionChange=!1),this.ctx.events.fire(g.RENDER,{})})))},this.isDirty=!1}function oe(e,t={}){const o=e._selectedCoordinates.filter((t=>e._selectedFeatureIds.has(t.feature_id)));e._selectedCoordinates.length===o.length||t.silent||(e._emitSelectionChange=!0),e._selectedCoordinates=o}te.prototype.createRenderBatch=function(){const e=this.render;let t=0;return this.render=function(){t++},()=>{this.render=e,t>0&&this.render()}},te.prototype.setDirty=function(){return this.isDirty=!0,this},te.prototype.featureCreated=function(e,t={}){if(this._changedFeatureIds.add(e),!0!==(null!=t.silent?t.silent:this.ctx.options.suppressAPIEvents)){const t=this.get(e);this.ctx.events.fire(g.CREATE,{features:[t.toGeoJSON()]})}return this},te.prototype.featureChanged=function(e,t={}){return this._changedFeatureIds.add(e),!0!==(null!=t.silent?t.silent:this.ctx.options.suppressAPIEvents)&&this.ctx.events.fire(g.UPDATE,{action:t.action?t.action:m.CHANGE_COORDINATES,features:[this.get(e).toGeoJSON()]}),this},te.prototype.getChangedIds=function(){return this._changedFeatureIds.values()},te.prototype.clearChangedIds=function(){return this._changedFeatureIds.clear(),this},te.prototype.getAllIds=function(){return this._featureIds.values()},te.prototype.add=function(e,t={}){return this._features[e.id]=e,this._featureIds.add(e.id),this.featureCreated(e.id,{silent:t.silent}),this},te.prototype.delete=function(e,t={}){const o=[];return Q(e).forEach((e=>{this._featureIds.has(e)&&(this._featureIds.delete(e),this._selectedFeatureIds.delete(e),t.silent||-1===o.indexOf(this._features[e])&&o.push(this._features[e].toGeoJSON()),delete this._features[e],this.isDirty=!0)})),o.length&&this.ctx.events.fire(g.DELETE,{features:o}),oe(this,t),this},te.prototype.get=function(e){return this._features[e]},te.prototype.getAll=function(){return Object.keys(this._features).map((e=>this._features[e]))},te.prototype.select=function(e,t={}){return Q(e).forEach((e=>{this._selectedFeatureIds.has(e)||(this._selectedFeatureIds.add(e),this._changedFeatureIds.add(e),t.silent||(this._emitSelectionChange=!0))})),this},te.prototype.deselect=function(e,t={}){return Q(e).forEach((e=>{this._selectedFeatureIds.has(e)&&(this._selectedFeatureIds.delete(e),this._changedFeatureIds.add(e),t.silent||(this._emitSelectionChange=!0))})),oe(this,t),this},te.prototype.clearSelected=function(e={}){return this.deselect(this._selectedFeatureIds.values(),{silent:e.silent}),this},te.prototype.setSelected=function(e,t={}){return e=Q(e),this.deselect(this._selectedFeatureIds.values().filter((t=>-1===e.indexOf(t))),{silent:t.silent}),this.select(e.filter((e=>!this._selectedFeatureIds.has(e))),{silent:t.silent}),this},te.prototype.setSelectedCoordinates=function(e){return this._selectedCoordinates=e,this._emitSelectionChange=!0,this},te.prototype.clearSelectedCoordinates=function(){return this._selectedCoordinates=[],this._emitSelectionChange=!0,this},te.prototype.getSelectedIds=function(){return this._selectedFeatureIds.values()},te.prototype.getSelected=function(){return this.getSelectedIds().map((e=>this.get(e)))},te.prototype.getSelectedCoordinates=function(){return this._selectedCoordinates.map((e=>({coordinates:this.get(e.feature_id).getCoordinate(e.coord_path)})))},te.prototype.isSelected=function(e){return this._selectedFeatureIds.has(e)},te.prototype.setFeatureProperty=function(e,t,o,n={}){this.get(e).setProperty(t,o),this.featureChanged(e,{silent:n.silent,action:m.CHANGE_PROPERTIES})},te.prototype.storeMapConfig=function(){T.forEach((e=>{this.ctx.map[e]&&(this._mapInitialConfig[e]=this.ctx.map[e].isEnabled())}))},te.prototype.restoreMapConfig=function(){Object.keys(this._mapInitialConfig).forEach((e=>{this._mapInitialConfig[e]?this.ctx.map[e].enable():this.ctx.map[e].disable()}))},te.prototype.getInitialConfigValue=function(e){return void 0===this._mapInitialConfig[e]||this._mapInitialConfig[e]};const ne=["mode","feature","mouse"];function re(t){let o=null,n=null;const r={onRemove(){return t.map.off("load",r.connect),clearInterval(n),r.removeLayers(),t.store.restoreMapConfig(),t.ui.removeButtons(),t.events.removeEventListeners(),t.ui.clearMapClasses(),t.boxZoomInitial&&t.map.boxZoom.enable(),t.map=null,t.container=null,t.store=null,o&&o.parentNode&&o.parentNode.removeChild(o),o=null,this},connect(){t.map.off("load",r.connect),clearInterval(n),r.addLayers(),t.store.storeMapConfig(),t.events.addEventListeners()},onAdd(i){if(t.map=i,t.events=function(t){const o=Object.keys(t.options.modes).reduce(((e,o)=>(e[o]=z(t.options.modes[o]),e)),{});let n={},r={};const i={};let s=null,a=null;i.drag=function(e,o){o({point:e.point,time:(new Date).getTime()})?(t.ui.queueMapClasses({mouse:d.DRAG}),a.drag(e)):e.originalEvent.stopPropagation()},i.mousedrag=function(e){i.drag(e,(e=>!D(n,e)))},i.touchdrag=function(e){i.drag(e,(e=>!V(r,e)))},i.mousemove=function(e){if(1===(void 0!==e.originalEvent.buttons?e.originalEvent.buttons:e.originalEvent.which))return i.mousedrag(e);const o=A(e,t);e.featureTarget=o,a.mousemove(e)},i.mousedown=function(e){n={time:(new Date).getTime(),point:e.point};const o=A(e,t);e.featureTarget=o,a.mousedown(e)},i.mouseup=function(e){const o=A(e,t);e.featureTarget=o,D(n,{point:e.point,time:(new Date).getTime()})?a.click(e):a.mouseup(e)},i.mouseout=function(e){a.mouseout(e)},i.touchstart=function(e){if(!t.options.touchEnabled)return;r={time:(new Date).getTime(),point:e.point};const o=b.touch(e,null,t)[0];e.featureTarget=o,a.touchstart(e)},i.touchmove=function(e){if(t.options.touchEnabled)return a.touchmove(e),i.touchdrag(e)},i.touchend=function(e){if(e.originalEvent.preventDefault(),!t.options.touchEnabled)return;const o=b.touch(e,null,t)[0];e.featureTarget=o,V(r,{time:(new Date).getTime(),point:e.point})?a.tap(e):a.touchend(e)};const c=e=>!(8===e||46===e||e>=48&&e<=57);function l(n,r,i={}){a.stop();const c=o[n];if(void 0===c)throw new Error(`${n} is not valid`);s=n;const u=c(t,r);a=e(u,t),i.silent||t.map.fire(g.MODE_CHANGE,{mode:n}),t.store.setDirty(),t.store.render()}i.keydown=function(e){(e.srcElement||e.target).classList.contains(u.CANVAS)&&(8!==e.keyCode&&46!==e.keyCode||!t.options.controls.trash?c(e.keyCode)?a.keydown(e):49===e.keyCode&&t.options.controls.point?l(f.DRAW_POINT):50===e.keyCode&&t.options.controls.line_string?l(f.DRAW_LINE_STRING):51===e.keyCode&&t.options.controls.polygon&&l(f.DRAW_POLYGON):(e.preventDefault(),a.trash()))},i.keyup=function(e){c(e.keyCode)&&a.keyup(e)},i.zoomend=function(){t.store.changeZoom()},i.data=function(e){if("style"===e.dataType){const{setup:e,map:o,options:n,store:r}=t;n.styles.some((e=>o.getLayer(e.id)))||(e.addLayers(),r.setDirty(),r.render())}};const p={trash:!1,combineFeatures:!1,uncombineFeatures:!1};return{start(){s=t.options.defaultMode,a=e(o[s](t),t)},changeMode:l,actionable:function(e){let o=!1;Object.keys(e).forEach((t=>{if(void 0===p[t])throw new Error("Invalid action type");p[t]!==e[t]&&(o=!0),p[t]=e[t]})),o&&t.map.fire(g.ACTIONABLE,{actions:p})},currentModeName:()=>s,currentModeRender:(e,t)=>a.render(e,t),fire(e,o){t.map&&t.map.fire(e,o)},addEventListeners(){t.map.on("mousemove",i.mousemove),t.map.on("mousedown",i.mousedown),t.map.on("mouseup",i.mouseup),t.map.on("data",i.data),t.map.on("touchmove",i.touchmove),t.map.on("touchstart",i.touchstart),t.map.on("touchend",i.touchend),t.container.addEventListener("mouseout",i.mouseout),t.options.keybindings&&(t.container.addEventListener("keydown",i.keydown),t.container.addEventListener("keyup",i.keyup))},removeEventListeners(){t.map.off("mousemove",i.mousemove),t.map.off("mousedown",i.mousedown),t.map.off("mouseup",i.mouseup),t.map.off("data",i.data),t.map.off("touchmove",i.touchmove),t.map.off("touchstart",i.touchstart),t.map.off("touchend",i.touchend),t.container.removeEventListener("mouseout",i.mouseout),t.options.keybindings&&(t.container.removeEventListener("keydown",i.keydown),t.container.removeEventListener("keyup",i.keyup))},trash(e){a.trash(e)},combineFeatures(){a.combineFeatures()},uncombineFeatures(){a.uncombineFeatures()},getMode:()=>s}}(t),t.ui=function(e){const t={};let o=null,n={mode:null,feature:null,mouse:null},r={mode:null,feature:null,mouse:null};function i(e){r=Object.assign(r,e)}function s(){if(!e.container)return;const t=[],o=[];ne.forEach((e=>{r[e]!==n[e]&&(t.push(`${e}-${n[e]}`),null!==r[e]&&o.push(`${e}-${r[e]}`))})),t.length>0&&e.container.classList.remove(...t),o.length>0&&e.container.classList.add(...o),n=Object.assign(n,r)}function a(e,t={}){const n=document.createElement("button");return n.className=`${u.CONTROL_BUTTON} ${t.className}`,n.setAttribute("title",t.title),t.container.appendChild(n),n.addEventListener("click",(n=>{if(n.preventDefault(),n.stopPropagation(),n.target===o)return c(),void t.onDeactivate();l(e),t.onActivate()}),!0),n}function c(){o&&(o.classList.remove(u.ACTIVE_BUTTON),o=null)}function l(e){c();const n=t[e];n&&n&&"trash"!==e&&(n.classList.add(u.ACTIVE_BUTTON),o=n)}return{setActiveButton:l,queueMapClasses:i,updateMapClasses:s,clearMapClasses:function(){i({mode:null,feature:null,mouse:null}),s()},addButtons:function(){const o=e.options.controls,n=document.createElement("div");return n.className=`${u.CONTROL_GROUP} ${u.CONTROL_BASE}`,o?(o[p.LINE]&&(t[p.LINE]=a(p.LINE,{container:n,className:u.CONTROL_BUTTON_LINE,title:"LineString tool "+(e.options.keybindings?"(l)":""),onActivate:()=>e.events.changeMode(f.DRAW_LINE_STRING),onDeactivate:()=>e.events.trash()})),o[p.POLYGON]&&(t[p.POLYGON]=a(p.POLYGON,{container:n,className:u.CONTROL_BUTTON_POLYGON,title:"Polygon tool "+(e.options.keybindings?"(p)":""),onActivate:()=>e.events.changeMode(f.DRAW_POLYGON),onDeactivate:()=>e.events.trash()})),o[p.POINT]&&(t[p.POINT]=a(p.POINT,{container:n,className:u.CONTROL_BUTTON_POINT,title:"Marker tool "+(e.options.keybindings?"(m)":""),onActivate:()=>e.events.changeMode(f.DRAW_POINT),onDeactivate:()=>e.events.trash()})),o.trash&&(t.trash=a("trash",{container:n,className:u.CONTROL_BUTTON_TRASH,title:"Delete",onActivate:()=>{e.events.trash()}})),o.combine_features&&(t.combine_features=a("combineFeatures",{container:n,className:u.CONTROL_BUTTON_COMBINE_FEATURES,title:"Combine",onActivate:()=>{e.events.combineFeatures()}})),o.uncombine_features&&(t.uncombine_features=a("uncombineFeatures",{container:n,className:u.CONTROL_BUTTON_UNCOMBINE_FEATURES,title:"Uncombine",onActivate:()=>{e.events.uncombineFeatures()}})),n):n},removeButtons:function(){Object.keys(t).forEach((e=>{const o=t[e];o.parentNode&&o.parentNode.removeChild(o),delete t[e]}))}}}(t),t.container=i.getContainer(),t.store=new te(t),o=t.ui.addButtons(),t.options.boxSelect){t.boxZoomInitial=i.boxZoom.isEnabled(),i.boxZoom.disable();const e=i.dragPan.isEnabled();i.dragPan.disable(),i.dragPan.enable(),e||i.dragPan.disable()}return i.loaded()?r.connect():(i.on("load",r.connect),n=setInterval((()=>{i.loaded()&&r.connect()}),16)),t.events.start(),o},addLayers(){t.map.addSource(l.COLD,{data:{type:h.FEATURE_COLLECTION,features:[]},type:"geojson"}),t.map.addSource(l.HOT,{data:{type:h.FEATURE_COLLECTION,features:[]},type:"geojson"}),t.options.styles.forEach((e=>{t.map.addLayer(e)})),t.store.setDirty(!0),t.store.render()},removeLayers(){t.options.styles.forEach((e=>{t.map.getLayer(e.id)&&t.map.removeLayer(e.id)})),t.map.getSource(l.COLD)&&t.map.removeSource(l.COLD),t.map.getSource(l.HOT)&&t.map.removeSource(l.HOT)}};return t.setup=r,r}const ie="#3bb2d0",se="#fbb03b",ae="#fff";var ce=[{id:"gl-draw-polygon-fill",type:"fill",filter:["all",["==","$type","Polygon"]],paint:{"fill-color":["case",["==",["get","active"],"true"],se,ie],"fill-opacity":.1}},{id:"gl-draw-lines",type:"line",filter:["any",["==","$type","LineString"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":["case",["==",["get","active"],"true"],se,ie],"line-dasharray":["case",["==",["get","active"],"true"],[.2,2],[2,0]],"line-width":2}},{id:"gl-draw-point-outer",type:"circle",filter:["all",["==","$type","Point"],["==","meta","feature"]],paint:{"circle-radius":["case",["==",["get","active"],"true"],7,5],"circle-color":ae}},{id:"gl-draw-point-inner",type:"circle",filter:["all",["==","$type","Point"],["==","meta","feature"]],paint:{"circle-radius":["case",["==",["get","active"],"true"],5,3],"circle-color":["case",["==",["get","active"],"true"],se,ie]}},{id:"gl-draw-vertex-outer",type:"circle",filter:["all",["==","$type","Point"],["==","meta","vertex"],["!=","mode","simple_select"]],paint:{"circle-radius":["case",["==",["get","active"],"true"],7,5],"circle-color":ae}},{id:"gl-draw-vertex-inner",type:"circle",filter:["all",["==","$type","Point"],["==","meta","vertex"],["!=","mode","simple_select"]],paint:{"circle-radius":["case",["==",["get","active"],"true"],5,3],"circle-color":se}},{id:"gl-draw-midpoint",type:"circle",filter:["all",["==","meta","midpoint"]],paint:{"circle-radius":3,"circle-color":se}}];function ue(e){return function(t){const o=t.featureTarget;return!!o&&!!o.properties&&o.properties.meta===e}}function le(e){return!!e.originalEvent&&!!e.originalEvent.shiftKey&&0===e.originalEvent.button}function de(e){return!!e.featureTarget&&!!e.featureTarget.properties&&e.featureTarget.properties.active===E.ACTIVE&&e.featureTarget.properties.meta===y.FEATURE}function pe(e){return!!e.featureTarget&&!!e.featureTarget.properties&&e.featureTarget.properties.active===E.INACTIVE&&e.featureTarget.properties.meta===y.FEATURE}function he(e){return void 0===e.featureTarget}function fe(e){return!!e.featureTarget&&!!e.featureTarget.properties&&e.featureTarget.properties.meta===y.FEATURE}function ge(e){const t=e.featureTarget;return!!t&&!!t.properties&&t.properties.meta===y.VERTEX}function me(e){return!!e.originalEvent&&!0===e.originalEvent.shiftKey}function ye(e){return 27===e.keyCode}function Ee(e){return 13===e.keyCode}var Te=Object.freeze({__proto__:null,isActiveFeature:de,isEnterKey:Ee,isEscapeKey:ye,isFeature:fe,isInactiveFeature:pe,isOfMetaType:ue,isShiftDown:me,isShiftMousedown:le,isTrue:function(){return!0},isVertex:ge,noTarget:he});function Ce(e,t){this.x=e,this.y=t}function _e(e,t){const o=t.getBoundingClientRect();return new Ce(e.clientX-o.left-(t.clientLeft||0),e.clientY-o.top-(t.clientTop||0))}function ve(e,t,o,n){return{type:h.FEATURE,properties:{meta:y.VERTEX,parent:e,coord_path:o,active:n?E.ACTIVE:E.INACTIVE},geometry:{type:h.POINT,coordinates:t}}}function Ie(e,t,o){const n=t.geometry.coordinates,r=o.geometry.coordinates;if(n[1]>_||n[1]<C||r[1]>_||r[1]<C)return null;const i={lng:(n[0]+r[0])/2,lat:(n[1]+r[1])/2};return{type:h.FEATURE,properties:{meta:y.MIDPOINT,parent:e,lng:i.lng,lat:i.lat,coord_path:o.properties.coord_path},geometry:{type:h.POINT,coordinates:[i.lng,i.lat]}}}function Se(e,t={},o=null){const{type:n,coordinates:r}=e.geometry,i=e.properties&&e.properties.id;let s=[];function a(e,o){let n="",r=null;e.forEach(((e,a)=>{const u=null!=o?`${o}.${a}`:String(a),l=ve(i,e,u,c(u));if(t.midpoints&&r){const e=Ie(i,r,l);e&&s.push(e)}r=l;const d=JSON.stringify(e);n!==d&&s.push(l),0===a&&(n=d)}))}function c(e){return!!t.selectedPaths&&-1!==t.selectedPaths.indexOf(e)}return n===h.POINT?s.push(ve(i,r,o,c(o))):n===h.POLYGON?r.forEach(((e,t)=>{a(e,null!==o?`${o}.${t}`:String(t))})):n===h.LINE_STRING?a(r,o):0===n.indexOf(h.MULTI_PREFIX)&&function(){const o=n.replace(h.MULTI_PREFIX,"");r.forEach(((n,r)=>{const i={type:h.FEATURE,properties:e.properties,geometry:{type:o,coordinates:n}};s=s.concat(Se(i,t,r))}))}(),s}Ce.prototype={clone(){return new Ce(this.x,this.y)},add(e){return this.clone()._add(e)},sub(e){return this.clone()._sub(e)},multByPoint(e){return this.clone()._multByPoint(e)},divByPoint(e){return this.clone()._divByPoint(e)},mult(e){return this.clone()._mult(e)},div(e){return this.clone()._div(e)},rotate(e){return this.clone()._rotate(e)},rotateAround(e,t){return this.clone()._rotateAround(e,t)},matMult(e){return this.clone()._matMult(e)},unit(){return this.clone()._unit()},perp(){return this.clone()._perp()},round(){return this.clone()._round()},mag(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals(e){return this.x===e.x&&this.y===e.y},dist(e){return Math.sqrt(this.distSqr(e))},distSqr(e){const t=e.x-this.x,o=e.y-this.y;return t*t+o*o},angle(){return Math.atan2(this.y,this.x)},angleTo(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith(e){return this.angleWithSep(e.x,e.y)},angleWithSep(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult(e){const t=e[0]*this.x+e[1]*this.y,o=e[2]*this.x+e[3]*this.y;return this.x=t,this.y=o,this},_add(e){return this.x+=e.x,this.y+=e.y,this},_sub(e){return this.x-=e.x,this.y-=e.y,this},_mult(e){return this.x*=e,this.y*=e,this},_div(e){return this.x/=e,this.y/=e,this},_multByPoint(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint(e){return this.x/=e.x,this.y/=e.y,this},_unit(){return this._div(this.mag()),this},_perp(){const e=this.y;return this.y=this.x,this.x=-e,this},_rotate(e){const t=Math.cos(e),o=Math.sin(e),n=t*this.x-o*this.y,r=o*this.x+t*this.y;return this.x=n,this.y=r,this},_rotateAround(e,t){const o=Math.cos(e),n=Math.sin(e),r=t.x+o*(this.x-t.x)-n*(this.y-t.y),i=t.y+n*(this.x-t.x)+o*(this.y-t.y);return this.x=r,this.y=i,this},_round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},constructor:Ce},Ce.convert=function(e){if(e instanceof Ce)return e;if(Array.isArray(e))return new Ce(+e[0],+e[1]);if(void 0!==e.x&&void 0!==e.y)return new Ce(+e.x,+e.y);throw new Error("Expected [x, y] or {x, y} point format")};var Oe={enable(e){setTimeout((()=>{e.map&&e.map.doubleClickZoom&&e._ctx&&e._ctx.store&&e._ctx.store.getInitialConfigValue&&e._ctx.store.getInitialConfigValue("doubleClickZoom")&&e.map.doubleClickZoom.enable()}),0)},disable(e){setTimeout((()=>{e.map&&e.map.doubleClickZoom&&e.map.doubleClickZoom.disable()}),0)}};const{LAT_MIN:Le,LAT_MAX:Me,LAT_RENDERED_MIN:Ne,LAT_RENDERED_MAX:be,LNG_MIN:xe,LNG_MAX:Ae}=v;function Pe(e,t){let o=Le,n=Me,r=Le,i=Me,s=Ae,a=xe;e.forEach((e=>{const t=function(e){const t={Point:0,LineString:1,Polygon:2,MultiPoint:1,MultiLineString:2,MultiPolygon:3}[e.geometry.type],o=[e.geometry.coordinates].flat(t),n=o.map((e=>e[0])),r=o.map((e=>e[1])),i=e=>Math.min.apply(null,e),s=e=>Math.max.apply(null,e);return[i(n),i(r),s(n),s(r)]}(e),c=t[1],u=t[3],l=t[0],d=t[2];c>o&&(o=c),u<n&&(n=u),u>r&&(r=u),c<i&&(i=c),l<s&&(s=l),d>a&&(a=d)}));const c=t;return o+c.lat>be&&(c.lat=be-o),r+c.lat>Me&&(c.lat=Me-r),n+c.lat<Ne&&(c.lat=Ne-n),i+c.lat<Le&&(c.lat=Le-i),s+c.lng<=xe&&(c.lng+=360*Math.ceil(Math.abs(c.lng)/360)),a+c.lng>=Ae&&(c.lng-=360*Math.ceil(Math.abs(c.lng)/360)),c}function Fe(e,t){const o=Pe(e.map((e=>e.toGeoJSON())),t);e.forEach((e=>{const t=e.getCoordinates(),n=e=>{const t={lng:e[0]+o.lng,lat:e[1]+o.lat};return[t.lng,t.lat]},r=e=>e.map((e=>n(e))),i=e=>e.map((e=>r(e)));let s;e.type===h.POINT?s=n(t):e.type===h.LINE_STRING||e.type===h.MULTI_POINT?s=t.map(n):e.type===h.POLYGON||e.type===h.MULTI_LINE_STRING?s=t.map(r):e.type===h.MULTI_POLYGON&&(s=t.map(i)),e.incomingCoords(s)}))}const Re={onSetup:function(e){const t={dragMoveLocation:null,boxSelectStartLocation:null,boxSelectElement:void 0,boxSelecting:!1,canBoxSelect:!1,dragMoving:!1,canDragMove:!1,initialDragPanState:this.map.dragPan.isEnabled(),initiallySelectedFeatureIds:e.featureIds||[]};return this.setSelected(t.initiallySelectedFeatureIds.filter((e=>void 0!==this.getFeature(e)))),this.fireActionable(),this.setActionableState({combineFeatures:!0,uncombineFeatures:!0,trash:!0}),t},fireUpdate:function(){this.fire(g.UPDATE,{action:m.MOVE,features:this.getSelected().map((e=>e.toGeoJSON()))})},fireActionable:function(){const e=this.getSelected(),t=e.filter((e=>this.isInstanceOf("MultiFeature",e)));let o=!1;if(e.length>1){o=!0;const t=e[0].type.replace("Multi","");e.forEach((e=>{e.type.replace("Multi","")!==t&&(o=!1)}))}const n=t.length>0,r=e.length>0;this.setActionableState({combineFeatures:o,uncombineFeatures:n,trash:r})},getUniqueIds:function(e){return e.length?e.map((e=>e.properties.id)).filter((e=>void 0!==e)).reduce(((e,t)=>(e.add(t),e)),new M).values():[]},stopExtendedInteractions:function(e){e.boxSelectElement&&(e.boxSelectElement.parentNode&&e.boxSelectElement.parentNode.removeChild(e.boxSelectElement),e.boxSelectElement=null),(e.canDragMove||e.canBoxSelect)&&!0===e.initialDragPanState&&this.map.dragPan.enable(),e.boxSelecting=!1,e.canBoxSelect=!1,e.dragMoving=!1,e.canDragMove=!1},onStop:function(){Oe.enable(this)},onMouseMove:function(e,t){return fe(t)&&e.dragMoving&&this.fireUpdate(),this.stopExtendedInteractions(e),!0},onMouseOut:function(e){return!e.dragMoving||this.fireUpdate()}};Re.onTap=Re.onClick=function(e,t){return he(t)?this.clickAnywhere(e,t):ue(y.VERTEX)(t)?this.clickOnVertex(e,t):fe(t)?this.clickOnFeature(e,t):void 0},Re.clickAnywhere=function(e){const t=this.getSelectedIds();t.length&&(this.clearSelectedFeatures(),t.forEach((e=>this.doRender(e)))),Oe.enable(this),this.stopExtendedInteractions(e)},Re.clickOnVertex=function(e,t){this.changeMode(f.DIRECT_SELECT,{featureId:t.featureTarget.properties.parent,coordPath:t.featureTarget.properties.coord_path,startPos:t.lngLat}),this.updateUIClasses({mouse:d.MOVE})},Re.startOnActiveFeature=function(e,t){this.stopExtendedInteractions(e),this.map.dragPan.disable(),this.doRender(t.featureTarget.properties.id),e.canDragMove=!0,e.dragMoveLocation=t.lngLat},Re.clickOnFeature=function(e,t){Oe.disable(this),this.stopExtendedInteractions(e);const o=me(t),n=this.getSelectedIds(),r=t.featureTarget.properties.id,i=this.isSelected(r);if(!o&&i&&this.getFeature(r).type!==h.POINT)return this.changeMode(f.DIRECT_SELECT,{featureId:r});i&&o?(this.deselect(r),this.updateUIClasses({mouse:d.POINTER}),1===n.length&&Oe.enable(this)):!i&&o?(this.select(r),this.updateUIClasses({mouse:d.MOVE})):i||o||(n.forEach((e=>this.doRender(e))),this.setSelected(r),this.updateUIClasses({mouse:d.MOVE})),this.doRender(r)},Re.onMouseDown=function(e,t){return e.initialDragPanState=this.map.dragPan.isEnabled(),de(t)?this.startOnActiveFeature(e,t):this.drawConfig.boxSelect&&le(t)?this.startBoxSelect(e,t):void 0},Re.startBoxSelect=function(e,t){this.stopExtendedInteractions(e),this.map.dragPan.disable(),e.boxSelectStartLocation=_e(t.originalEvent,this.map.getContainer()),e.canBoxSelect=!0},Re.onTouchStart=function(e,t){if(de(t))return this.startOnActiveFeature(e,t)},Re.onDrag=function(e,t){return e.canDragMove?this.dragMove(e,t):this.drawConfig.boxSelect&&e.canBoxSelect?this.whileBoxSelect(e,t):void 0},Re.whileBoxSelect=function(e,t){e.boxSelecting=!0,this.updateUIClasses({mouse:d.ADD}),e.boxSelectElement||(e.boxSelectElement=document.createElement("div"),e.boxSelectElement.classList.add(u.BOX_SELECT),this.map.getContainer().appendChild(e.boxSelectElement));const o=_e(t.originalEvent,this.map.getContainer()),n=Math.min(e.boxSelectStartLocation.x,o.x),r=Math.max(e.boxSelectStartLocation.x,o.x),i=Math.min(e.boxSelectStartLocation.y,o.y),s=Math.max(e.boxSelectStartLocation.y,o.y),a=`translate(${n}px, ${i}px)`;e.boxSelectElement.style.transform=a,e.boxSelectElement.style.WebkitTransform=a,e.boxSelectElement.style.width=r-n+"px",e.boxSelectElement.style.height=s-i+"px"},Re.dragMove=function(e,t){e.dragMoving=!0,t.originalEvent.stopPropagation();const o={lng:t.lngLat.lng-e.dragMoveLocation.lng,lat:t.lngLat.lat-e.dragMoveLocation.lat};Fe(this.getSelected(),o),e.dragMoveLocation=t.lngLat},Re.onTouchEnd=Re.onMouseUp=function(e,t){if(e.dragMoving)this.fireUpdate();else if(e.boxSelecting){const o=[e.boxSelectStartLocation,_e(t.originalEvent,this.map.getContainer())],n=this.featuresAt(null,o,"click"),r=this.getUniqueIds(n).filter((e=>!this.isSelected(e)));r.length&&(this.select(r),r.forEach((e=>this.doRender(e))),this.updateUIClasses({mouse:d.MOVE}))}this.stopExtendedInteractions(e)},Re.toDisplayFeatures=function(e,t,o){t.properties.active=this.isSelected(t.properties.id)?E.ACTIVE:E.INACTIVE,o(t),this.fireActionable(),t.properties.active===E.ACTIVE&&t.geometry.type!==h.POINT&&Se(t).forEach(o)},Re.onTrash=function(){this.deleteFeature(this.getSelectedIds()),this.fireActionable()},Re.onCombineFeatures=function(){const e=this.getSelected();if(0===e.length||e.length<2)return;const t=[],o=[],n=e[0].type.replace("Multi","");for(let r=0;r<e.length;r++){const i=e[r];if(i.type.replace("Multi","")!==n)return;i.type.includes("Multi")?i.getCoordinates().forEach((e=>{t.push(e)})):t.push(i.getCoordinates()),o.push(i.toGeoJSON())}if(o.length>1){const e=this.newFeature({type:h.FEATURE,properties:o[0].properties,geometry:{type:`Multi${n}`,coordinates:t}});this.addFeature(e),this.deleteFeature(this.getSelectedIds(),{silent:!0}),this.setSelected([e.id]),this.fire(g.COMBINE_FEATURES,{createdFeatures:[e.toGeoJSON()],deletedFeatures:o})}this.fireActionable()},Re.onUncombineFeatures=function(){const e=this.getSelected();if(0===e.length)return;const t=[],o=[];for(let n=0;n<e.length;n++){const r=e[n];this.isInstanceOf("MultiFeature",r)&&(r.getFeatures().forEach((e=>{this.addFeature(e),e.properties=r.properties,t.push(e.toGeoJSON()),this.select([e.id])})),this.deleteFeature(r.id,{silent:!0}),o.push(r.toGeoJSON()))}t.length>1&&this.fire(g.UNCOMBINE_FEATURES,{createdFeatures:t,deletedFeatures:o}),this.fireActionable()};const we=ue(y.VERTEX),De=ue(y.MIDPOINT),Ue={fireUpdate:function(){this.fire(g.UPDATE,{action:m.CHANGE_COORDINATES,features:this.getSelected().map((e=>e.toGeoJSON()))})},fireActionable:function(e){this.setActionableState({combineFeatures:!1,uncombineFeatures:!1,trash:e.selectedCoordPaths.length>0})},startDragging:function(e,t){e.initialDragPanState=this.map.dragPan.isEnabled(),this.map.dragPan.disable(),e.canDragMove=!0,e.dragMoveLocation=t.lngLat},stopDragging:function(e){e.canDragMove&&!0===e.initialDragPanState&&this.map.dragPan.enable(),e.dragMoving=!1,e.canDragMove=!1,e.dragMoveLocation=null},onVertex:function(e,t){this.startDragging(e,t);const o=t.featureTarget.properties,n=e.selectedCoordPaths.indexOf(o.coord_path);me(t)||-1!==n?me(t)&&-1===n&&e.selectedCoordPaths.push(o.coord_path):e.selectedCoordPaths=[o.coord_path];const r=this.pathsToCoordinates(e.featureId,e.selectedCoordPaths);this.setSelectedCoordinates(r)},onMidpoint:function(e,t){this.startDragging(e,t);const o=t.featureTarget.properties;e.feature.addCoordinate(o.coord_path,o.lng,o.lat),this.fireUpdate(),e.selectedCoordPaths=[o.coord_path]},pathsToCoordinates:function(e,t){return t.map((t=>({feature_id:e,coord_path:t})))},onFeature:function(e,t){0===e.selectedCoordPaths.length?this.startDragging(e,t):this.stopDragging(e)},dragFeature:function(e,t,o){Fe(this.getSelected(),o),e.dragMoveLocation=t.lngLat},dragVertex:function(e,t,o){const n=e.selectedCoordPaths.map((t=>e.feature.getCoordinate(t))),r=Pe(n.map((e=>({type:h.FEATURE,properties:{},geometry:{type:h.POINT,coordinates:e}}))),o);for(let t=0;t<n.length;t++){const o=n[t];e.feature.updateCoordinate(e.selectedCoordPaths[t],o[0]+r.lng,o[1]+r.lat)}},clickNoTarget:function(){this.changeMode(f.SIMPLE_SELECT)},clickInactive:function(){this.changeMode(f.SIMPLE_SELECT)},clickActiveFeature:function(e){e.selectedCoordPaths=[],this.clearSelectedCoordinates(),e.feature.changed()},onSetup:function(e){const t=e.featureId,o=this.getFeature(t);if(!o)throw new Error("You must provide a featureId to enter direct_select mode");if(o.type===h.POINT)throw new TypeError("direct_select mode doesn't handle point features");const n={featureId:t,feature:o,dragMoveLocation:e.startPos||null,dragMoving:!1,canDragMove:!1,selectedCoordPaths:e.coordPath?[e.coordPath]:[]};return this.setSelectedCoordinates(this.pathsToCoordinates(t,n.selectedCoordPaths)),this.setSelected(t),Oe.disable(this),this.setActionableState({trash:!0}),n},onStop:function(){Oe.enable(this),this.clearSelectedCoordinates()},toDisplayFeatures:function(e,t,o){e.featureId===t.properties.id?(t.properties.active=E.ACTIVE,o(t),Se(t,{map:this.map,midpoints:!0,selectedPaths:e.selectedCoordPaths}).forEach(o)):(t.properties.active=E.INACTIVE,o(t)),this.fireActionable(e)},onTrash:function(e){e.selectedCoordPaths.sort(((e,t)=>t.localeCompare(e,"en",{numeric:!0}))).forEach((t=>e.feature.removeCoordinate(t))),this.fireUpdate(),e.selectedCoordPaths=[],this.clearSelectedCoordinates(),this.fireActionable(e),!1===e.feature.isValid()&&(this.deleteFeature([e.featureId]),this.changeMode(f.SIMPLE_SELECT,{}))},onMouseMove:function(e,t){const o=de(t),n=we(t),r=De(t),i=0===e.selectedCoordPaths.length;return o&&i||n&&!i?this.updateUIClasses({mouse:d.MOVE}):this.updateUIClasses({mouse:d.NONE}),(n||o||r)&&e.dragMoving&&this.fireUpdate(),this.stopDragging(e),!0},onMouseOut:function(e){return e.dragMoving&&this.fireUpdate(),!0}};Ue.onTouchStart=Ue.onMouseDown=function(e,t){return we(t)?this.onVertex(e,t):de(t)?this.onFeature(e,t):De(t)?this.onMidpoint(e,t):void 0},Ue.onDrag=function(e,t){if(!0!==e.canDragMove)return;e.dragMoving=!0,t.originalEvent.stopPropagation();const o={lng:t.lngLat.lng-e.dragMoveLocation.lng,lat:t.lngLat.lat-e.dragMoveLocation.lat};e.selectedCoordPaths.length>0?this.dragVertex(e,t,o):this.dragFeature(e,t,o),e.dragMoveLocation=t.lngLat},Ue.onClick=function(e,t){return he(t)?this.clickNoTarget(e,t):de(t)?this.clickActiveFeature(e,t):pe(t)?this.clickInactive(e,t):void this.stopDragging(e)},Ue.onTap=function(e,t){return he(t)?this.clickNoTarget(e,t):de(t)?this.clickActiveFeature(e,t):pe(t)?this.clickInactive(e,t):void 0},Ue.onTouchEnd=Ue.onMouseUp=function(e){e.dragMoving&&this.fireUpdate(),this.stopDragging(e)};const ke={};function Ve(e,t){return!!e.lngLat&&e.lngLat.lng===t[0]&&e.lngLat.lat===t[1]}ke.onSetup=function(){const e=this.newFeature({type:h.FEATURE,properties:{},geometry:{type:h.POINT,coordinates:[]}});return this.addFeature(e),this.clearSelectedFeatures(),this.updateUIClasses({mouse:d.ADD}),this.activateUIButton(p.POINT),this.setActionableState({trash:!0}),{point:e}},ke.stopDrawingAndRemove=function(e){this.deleteFeature([e.point.id],{silent:!0}),this.changeMode(f.SIMPLE_SELECT)},ke.onTap=ke.onClick=function(e,t){this.updateUIClasses({mouse:d.MOVE}),e.point.updateCoordinate("",t.lngLat.lng,t.lngLat.lat),this.fire(g.CREATE,{features:[e.point.toGeoJSON()]}),this.changeMode(f.SIMPLE_SELECT,{featureIds:[e.point.id]})},ke.onStop=function(e){this.activateUIButton(),e.point.getCoordinate().length||this.deleteFeature([e.point.id],{silent:!0})},ke.toDisplayFeatures=function(e,t,o){const n=t.properties.id===e.point.id;if(t.properties.active=n?E.ACTIVE:E.INACTIVE,!n)return o(t)},ke.onTrash=ke.stopDrawingAndRemove,ke.onKeyUp=function(e,t){if(ye(t)||Ee(t))return this.stopDrawingAndRemove(e,t)};const Ge={onSetup:function(){const e=this.newFeature({type:h.FEATURE,properties:{},geometry:{type:h.POLYGON,coordinates:[[]]}});return this.addFeature(e),this.clearSelectedFeatures(),Oe.disable(this),this.updateUIClasses({mouse:d.ADD}),this.activateUIButton(p.POLYGON),this.setActionableState({trash:!0}),{polygon:e,currentVertexPosition:0}},clickAnywhere:function(e,t){if(e.currentVertexPosition>0&&Ve(t,e.polygon.coordinates[0][e.currentVertexPosition-1]))return this.changeMode(f.SIMPLE_SELECT,{featureIds:[e.polygon.id]});this.updateUIClasses({mouse:d.ADD}),e.polygon.updateCoordinate(`0.${e.currentVertexPosition}`,t.lngLat.lng,t.lngLat.lat),e.currentVertexPosition++,e.polygon.updateCoordinate(`0.${e.currentVertexPosition}`,t.lngLat.lng,t.lngLat.lat)},clickOnVertex:function(e){return this.changeMode(f.SIMPLE_SELECT,{featureIds:[e.polygon.id]})},onMouseMove:function(e,t){e.polygon.updateCoordinate(`0.${e.currentVertexPosition}`,t.lngLat.lng,t.lngLat.lat),ge(t)&&this.updateUIClasses({mouse:d.POINTER})}};Ge.onTap=Ge.onClick=function(e,t){return ge(t)?this.clickOnVertex(e,t):this.clickAnywhere(e,t)},Ge.onKeyUp=function(e,t){ye(t)?(this.deleteFeature([e.polygon.id],{silent:!0}),this.changeMode(f.SIMPLE_SELECT)):Ee(t)&&this.changeMode(f.SIMPLE_SELECT,{featureIds:[e.polygon.id]})},Ge.onStop=function(e){this.updateUIClasses({mouse:d.NONE}),Oe.enable(this),this.activateUIButton(),void 0!==this.getFeature(e.polygon.id)&&(e.polygon.removeCoordinate(`0.${e.currentVertexPosition}`),e.polygon.isValid()?this.fire(g.CREATE,{features:[e.polygon.toGeoJSON()]}):(this.deleteFeature([e.polygon.id],{silent:!0}),this.changeMode(f.SIMPLE_SELECT,{},{silent:!0})))},Ge.toDisplayFeatures=function(e,t,o){const n=t.properties.id===e.polygon.id;if(t.properties.active=n?E.ACTIVE:E.INACTIVE,!n)return o(t);if(0===t.geometry.coordinates.length)return;const r=t.geometry.coordinates[0].length;if(!(r<3)){if(t.properties.meta=y.FEATURE,o(ve(e.polygon.id,t.geometry.coordinates[0][0],"0.0",!1)),r>3){const n=t.geometry.coordinates[0].length-3;o(ve(e.polygon.id,t.geometry.coordinates[0][n],`0.${n}`,!1))}if(r<=4){const e=[[t.geometry.coordinates[0][0][0],t.geometry.coordinates[0][0][1]],[t.geometry.coordinates[0][1][0],t.geometry.coordinates[0][1][1]]];if(o({type:h.FEATURE,properties:t.properties,geometry:{coordinates:e,type:h.LINE_STRING}}),3===r)return}return o(t)}},Ge.onTrash=function(e){this.deleteFeature([e.polygon.id],{silent:!0}),this.changeMode(f.SIMPLE_SELECT)};const Be={onSetup:function(e){const t=(e=e||{}).featureId;let o,n,r="forward";if(t){if(o=this.getFeature(t),!o)throw new Error("Could not find a feature with the provided featureId");let i=e.from;if(i&&"Feature"===i.type&&i.geometry&&"Point"===i.geometry.type&&(i=i.geometry),i&&"Point"===i.type&&i.coordinates&&2===i.coordinates.length&&(i=i.coordinates),!i||!Array.isArray(i))throw new Error("Please use the `from` property to indicate which point to continue the line from");const s=o.coordinates.length-1;if(o.coordinates[s][0]===i[0]&&o.coordinates[s][1]===i[1])n=s+1,o.addCoordinate(n,...o.coordinates[s]);else{if(o.coordinates[0][0]!==i[0]||o.coordinates[0][1]!==i[1])throw new Error("`from` should match the point at either the start or the end of the provided LineString");r="backwards",n=0,o.addCoordinate(n,...o.coordinates[0])}}else o=this.newFeature({type:h.FEATURE,properties:{},geometry:{type:h.LINE_STRING,coordinates:[]}}),n=0,this.addFeature(o);return this.clearSelectedFeatures(),Oe.disable(this),this.updateUIClasses({mouse:d.ADD}),this.activateUIButton(p.LINE),this.setActionableState({trash:!0}),{line:o,currentVertexPosition:n,direction:r}},clickAnywhere:function(e,t){if(e.currentVertexPosition>0&&Ve(t,e.line.coordinates[e.currentVertexPosition-1])||"backwards"===e.direction&&Ve(t,e.line.coordinates[e.currentVertexPosition+1]))return this.changeMode(f.SIMPLE_SELECT,{featureIds:[e.line.id]});this.updateUIClasses({mouse:d.ADD}),e.line.updateCoordinate(e.currentVertexPosition,t.lngLat.lng,t.lngLat.lat),"forward"===e.direction?(e.currentVertexPosition++,e.line.updateCoordinate(e.currentVertexPosition,t.lngLat.lng,t.lngLat.lat)):e.line.addCoordinate(0,t.lngLat.lng,t.lngLat.lat)},clickOnVertex:function(e){return this.changeMode(f.SIMPLE_SELECT,{featureIds:[e.line.id]})},onMouseMove:function(e,t){e.line.updateCoordinate(e.currentVertexPosition,t.lngLat.lng,t.lngLat.lat),ge(t)&&this.updateUIClasses({mouse:d.POINTER})}};Be.onTap=Be.onClick=function(e,t){if(ge(t))return this.clickOnVertex(e,t);this.clickAnywhere(e,t)},Be.onKeyUp=function(e,t){Ee(t)?this.changeMode(f.SIMPLE_SELECT,{featureIds:[e.line.id]}):ye(t)&&(this.deleteFeature([e.line.id],{silent:!0}),this.changeMode(f.SIMPLE_SELECT))},Be.onStop=function(e){Oe.enable(this),this.activateUIButton(),void 0!==this.getFeature(e.line.id)&&(e.line.removeCoordinate(`${e.currentVertexPosition}`),e.line.isValid()?this.fire(g.CREATE,{features:[e.line.toGeoJSON()]}):(this.deleteFeature([e.line.id],{silent:!0}),this.changeMode(f.SIMPLE_SELECT,{},{silent:!0})))},Be.onTrash=function(e){this.deleteFeature([e.line.id],{silent:!0}),this.changeMode(f.SIMPLE_SELECT)},Be.toDisplayFeatures=function(e,t,o){const n=t.properties.id===e.line.id;if(t.properties.active=n?E.ACTIVE:E.INACTIVE,!n)return o(t);t.geometry.coordinates.length<2||(t.properties.meta=y.FEATURE,o(ve(e.line.id,t.geometry.coordinates["forward"===e.direction?t.geometry.coordinates.length-2:1],""+("forward"===e.direction?t.geometry.coordinates.length-2:1),!1)),o(t))};var je={simple_select:Re,direct_select:Ue,draw_point:ke,draw_polygon:Ge,draw_line_string:Be};const Je={defaultMode:f.SIMPLE_SELECT,keybindings:!0,touchEnabled:!0,clickBuffer:2,touchBuffer:25,boxSelect:!0,displayControlsDefault:!0,styles:ce,modes:je,controls:{},userProperties:!1,suppressAPIEvents:!0},$e={point:!0,line_string:!0,polygon:!0,trash:!0,combine_features:!0,uncombine_features:!0},Ye={point:!1,line_string:!1,polygon:!1,trash:!1,combine_features:!1,uncombine_features:!1};function He(e,t){return e.map((e=>e.source?e:Object.assign({},e,{id:`${e.id}.${t}`,source:"hot"===t?l.HOT:l.COLD})))}var Xe,qe,Ze,We,Ke=t(qe?Xe:(qe=1,Xe=function e(t,o){if(t===o)return!0;if(t&&o&&"object"==typeof t&&"object"==typeof o){if(t.constructor!==o.constructor)return!1;var n,r,i;if(Array.isArray(t)){if((n=t.length)!=o.length)return!1;for(r=n;0!=r--;)if(!e(t[r],o[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===o.source&&t.flags===o.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===o.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===o.toString();if((n=(i=Object.keys(t)).length)!==Object.keys(o).length)return!1;for(r=n;0!=r--;)if(!Object.prototype.hasOwnProperty.call(o,i[r]))return!1;for(r=n;0!=r--;){var s=i[r];if(!e(t[s],o[s]))return!1}return!0}return t!=t&&o!=o})),ze=function(){if(We)return Ze;We=1,Ze=function(t){if(!t||!t.type)return null;var o=e[t.type];return o?"geometry"===o?{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:t}]}:"feature"===o?{type:"FeatureCollection",features:[t]}:"featurecollection"===o?t:void 0:null};var e={Point:"geometry",MultiPoint:"geometry",LineString:"geometry",MultiLineString:"geometry",Polygon:"geometry",MultiPolygon:"geometry",GeometryCollection:"geometry",Feature:"feature",FeatureCollection:"featurecollection"};return Ze}(),Qe=t(ze);function et(e,t){return e.length===t.length&&JSON.stringify(e.map((e=>e)).sort())===JSON.stringify(t.map((e=>e)).sort())}const tt={Polygon:Y,LineString:$,Point:J,MultiPolygon:q,MultiLineString:q,MultiPoint:q};var ot=Object.freeze({__proto__:null,CommonSelectors:Te,ModeHandler:e,StringSet:M,constrainFeatureMovement:Pe,createMidPoint:Ie,createSupplementaryPoints:Se,createVertex:ve,doubleClickZoom:Oe,euclideanDistance:P,featuresAt:b,getFeatureAtAndSetCursors:A,isClick:D,isEventAtCoordinates:Ve,isTap:V,mapEventToBoundingBox:L,moveFeatures:Fe,sortFeatures:O,stringSetsAreEqual:et,theme:ce,toDenseArray:Q});const nt=function(e,t){const o={options:e=function(e={}){let t=Object.assign({},e);return e.controls||(t.controls={}),!1===e.displayControlsDefault?t.controls=Object.assign({},Ye,e.controls):t.controls=Object.assign({},$e,e.controls),t=Object.assign({},Je,t),t.styles=He(t.styles,"cold").concat(He(t.styles,"hot")),t}(e)};t=function(e,t){t.modes=f;const o=void 0===e.options.suppressAPIEvents||!!e.options.suppressAPIEvents;return t.getFeatureIdsAt=function(t){return b.click({point:t},null,e).map((e=>e.properties.id))},t.getSelectedIds=function(){return e.store.getSelectedIds()},t.getSelected=function(){return{type:h.FEATURE_COLLECTION,features:e.store.getSelectedIds().map((t=>e.store.get(t))).map((e=>e.toGeoJSON()))}},t.getSelectedPoints=function(){return{type:h.FEATURE_COLLECTION,features:e.store.getSelectedCoordinates().map((e=>({type:h.FEATURE,properties:{},geometry:{type:h.POINT,coordinates:e.coordinates}})))}},t.set=function(o){if(void 0===o.type||o.type!==h.FEATURE_COLLECTION||!Array.isArray(o.features))throw new Error("Invalid FeatureCollection");const n=e.store.createRenderBatch();let r=e.store.getAllIds().slice();const i=t.add(o),s=new M(i);return r=r.filter((e=>!s.has(e))),r.length&&t.delete(r),n(),i},t.add=function(t){const n=JSON.parse(JSON.stringify(Qe(t))).features.map((t=>{if(t.id=t.id||B(),null===t.geometry)throw new Error("Invalid geometry: null");if(void 0===e.store.get(t.id)||e.store.get(t.id).type!==t.geometry.type){const n=tt[t.geometry.type];if(void 0===n)throw new Error(`Invalid geometry type: ${t.geometry.type}.`);const r=new n(e,t);e.store.add(r,{silent:o})}else{const n=e.store.get(t.id),r=n.properties;n.properties=t.properties,Ke(r,t.properties)||e.store.featureChanged(n.id,{silent:o}),Ke(n.getCoordinates(),t.geometry.coordinates)||n.incomingCoords(t.geometry.coordinates)}return t.id}));return e.store.render(),n},t.get=function(t){const o=e.store.get(t);if(o)return o.toGeoJSON()},t.getAll=function(){return{type:h.FEATURE_COLLECTION,features:e.store.getAll().map((e=>e.toGeoJSON()))}},t.delete=function(n){return e.store.delete(n,{silent:o}),t.getMode()!==f.DIRECT_SELECT||e.store.getSelectedIds().length?e.store.render():e.events.changeMode(f.SIMPLE_SELECT,void 0,{silent:o}),t},t.deleteAll=function(){return e.store.delete(e.store.getAllIds(),{silent:o}),t.getMode()===f.DIRECT_SELECT?e.events.changeMode(f.SIMPLE_SELECT,void 0,{silent:o}):e.store.render(),t},t.changeMode=function(n,r={}){return n===f.SIMPLE_SELECT&&t.getMode()===f.SIMPLE_SELECT?(et(r.featureIds||[],e.store.getSelectedIds())||(e.store.setSelected(r.featureIds,{silent:o}),e.store.render()),t):(n===f.DIRECT_SELECT&&t.getMode()===f.DIRECT_SELECT&&r.featureId===e.store.getSelectedIds()[0]||e.events.changeMode(n,r,{silent:o}),t)},t.getMode=function(){return e.events.getMode()},t.trash=function(){return e.events.trash({silent:o}),t},t.combineFeatures=function(){return e.events.combineFeatures({silent:o}),t},t.uncombineFeatures=function(){return e.events.uncombineFeatures({silent:o}),t},t.setFeatureProperty=function(n,r,i){return e.store.setFeatureProperty(n,r,i,{silent:o}),t},t}(o,t),o.api=t;const n=re(o);return t.onAdd=n.onAdd,t.onRemove=n.onRemove,t.types=p,t.options=e,t};function rt(e){nt(e,this)}return rt.modes=je,rt.constants=v,rt.lib=ot,rt},"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).MapboxDraw=t();
//# sourceMappingURL=mapbox-gl-draw.js.map
</script>
<script>// This code is derived from the ISC-licensed "mapbox-gl-draw-freehand-mode" plugin
// by Ben Ehmke, Eric Dong, and Joe Woodhouse.
// Source: https://github.com/bemky/mapbox-gl-draw-freehand-mode
(function (MapboxDraw) {
    const { geojsonTypes, cursors, types, updateActions, modes, events } =
        MapboxDraw.constants;

    const FreehandMode = {};

    FreehandMode.onSetup = function () {
        const polygon = this.newFeature({
            type: geojsonTypes.FEATURE,
            properties: {},
            geometry: {
                type: geojsonTypes.POLYGON,
                coordinates: [[]],
            },
        });

        this.addFeature(polygon);
        this.clearSelectedFeatures();

        // Disable map dragging
        setTimeout(() => {
            if (!this.map || !this.map.dragPan) return;
            this.map.dragPan.disable();
        }, 0);

        this.updateUIClasses({ mouse: cursors.ADD });
        this.activateUIButton(types.POLYGON);
        this.setActionableState({
            trash: true,
        });

        return {
            polygon,
            currentVertexPosition: 0,
            dragMoving: false,
            isDrawing: false,
        };
    };

    FreehandMode.onDrag = FreehandMode.onTouchMove = function (state, e) {
        state.dragMoving = true;
        state.isDrawing = true;
        this.updateUIClasses({ mouse: cursors.ADD });
        state.polygon.updateCoordinate(
            `0.${state.currentVertexPosition}`,
            e.lngLat.lng,
            e.lngLat.lat,
        );
        state.currentVertexPosition++;
        state.polygon.updateCoordinate(
            `0.${state.currentVertexPosition}`,
            e.lngLat.lng,
            e.lngLat.lat,
        );
    };

    FreehandMode.onMouseUp = function (state) {
        if (state.dragMoving) {
            this.simplify(state.polygon);
            this.updateUIClasses({ mouse: cursors.MOVE });
            this.fireUpdate();
            this.changeMode(modes.SIMPLE_SELECT, {
                featureIds: [state.polygon.id],
            });
        }
    };

    FreehandMode.fireCreate = function (polygon) {
        this.map.fire(events.CREATE, {
            features: [polygon.toGeoJSON()],
        });
    };

    FreehandMode.fireUpdate = function () {
        this.map.fire(events.UPDATE, {
            action: updateActions.MOVE,
            features: this.getSelected().map((f) => f.toGeoJSON()),
        });
    };

    FreehandMode.simplify = function (polygon) {
        if (!this.map.simplify_freehand) return;

        const tolerance = 1 / Math.pow(1.05, 10 * this.map.getZoom());
        const simplifiedCoords = simplifyGeometry(
            polygon.coordinates[0],
            tolerance,
        );
        polygon.setCoordinates([simplifiedCoords]);
    };

    function simplifyGeometry(points, tolerance) {
        if (points.length <= 2) return points;

        const sqTolerance = tolerance * tolerance;
        const last = points.length - 1;
        const simplified = [points[0]];
        simplifyDPStep(points, 0, last, sqTolerance, simplified);
        simplified.push(points[last]);

        return simplified;
    }

    function simplifyDPStep(points, first, last, sqTolerance, simplified) {
        let maxSqDist = sqTolerance;
        let index;

        for (let i = first + 1; i < last; i++) {
            const sqDist = getSquareSegmentDistance(
                points[i],
                points[first],
                points[last],
            );
            if (sqDist > maxSqDist) {
                index = i;
                maxSqDist = sqDist;
            }
        }

        if (maxSqDist > sqTolerance) {
            if (index - first > 1)
                simplifyDPStep(points, first, index, sqTolerance, simplified);
            simplified.push(points[index]);
            if (last - index > 1)
                simplifyDPStep(points, index, last, sqTolerance, simplified);
        }
    }

    function getSquareSegmentDistance(p, p1, p2) {
        let x = p1[0],
            y = p1[1];
        let dx = p2[0] - x,
            dy = p2[1] - y;

        if (dx !== 0 || dy !== 0) {
            const t = ((p[0] - x) * dx + (p[1] - y) * dy) / (dx * dx + dy * dy);
            if (t > 1) {
                x = p2[0];
                y = p2[1];
            } else if (t > 0) {
                x += dx * t;
                y += dy * t;
            }
        }

        dx = p[0] - x;
        dy = p[1] - y;

        return dx * dx + dy * dy;
    }

    FreehandMode.onStop = function (state) {
        this.updateUIClasses({ mouse: cursors.NONE });
        this.activateUIButton();

        // Enable map dragging
        setTimeout(() => {
            if (!this.map || !this.map.dragPan) return;
            this.map.dragPan.enable();
        }, 0);
    };

    FreehandMode.toDisplayFeatures = function (state, geojson, display) {
        const isActivePolygon = geojson.properties.id === state.polygon.id;
        geojson.properties.active = isActivePolygon ? "true" : "false";
        if (!isActivePolygon) return display(geojson);

        // Only render the polygon if it has at least three points
        if (geojson.geometry.coordinates[0].length < 3) return;

        const coordinateCount = geojson.geometry.coordinates[0].length;

        // If we have fewer than three coordinates, we need to create a LineString instead of a Polygon
        if (coordinateCount < 3) {
            const lineCoordinates = [
                [
                    geojson.geometry.coordinates[0][0][0],
                    geojson.geometry.coordinates[0][0][1],
                ],
                [
                    geojson.geometry.coordinates[0][1][0],
                    geojson.geometry.coordinates[0][1][1],
                ],
            ];
            return display({
                type: geojsonTypes.FEATURE,
                properties: geojson.properties,
                geometry: {
                    coordinates: lineCoordinates,
                    type: geojsonTypes.LINE_STRING,
                },
            });
        }

        return display(geojson);
    };

    FreehandMode.onTrash = function (state) {
        this.deleteFeature([state.polygon.id], { silent: true });
        this.changeMode(modes.SIMPLE_SELECT);
    };

    MapboxDraw.modes.draw_freehand = FreehandMode;
})(MapboxDraw);
</script>
<style type="text/css">
.maplibregl-ctrl-geocoder,
.maplibregl-ctrl-geocoder *,
.maplibregl-ctrl-geocoder *:after,
.maplibregl-ctrl-geocoder *:before {
box-sizing: border-box;
}
.maplibregl-ctrl-geocoder {
font-size: 18px;
line-height: 24px;
font-family: "Open Sans", "Helvetica Neue", Arial, Helvetica, sans-serif;
position: relative;
background-color: #fff;
width: 100%;
min-width: 240px;
z-index: 1;
border-radius: 4px;
transition: width 0.25s, min-width 0.25s;
}
.maplibregl-ctrl-geocoder--input {
font: inherit;
width: 100%;
border: 0;
background-color: transparent;
margin: 0;
height: 50px;
color: #404040; 
color: rgba(0, 0, 0, 0.75);
padding: 6px 45px;
text-overflow: ellipsis;
white-space: nowrap;
overflow: hidden;
}
.maplibregl-ctrl-geocoder--input::-ms-clear {
display: none; 
}
.maplibregl-ctrl-geocoder--input:focus {
color: #404040; 
color: rgba(0, 0, 0, 0.75);
outline: 0;
box-shadow: none;
outline: thin dotted;
}
.maplibregl-ctrl-geocoder .maplibregl-ctrl-geocoder--pin-right > * {
z-index: 2;
position: absolute;
right: 8px;
top: 7px;
display: none;
}
.maplibregl-ctrl-geocoder,
.maplibregl-ctrl-geocoder .suggestions {
box-shadow: 0 0 10px 2px rgba(0, 0, 0, 0.1);
}

.maplibregl-ctrl-geocoder.maplibregl-ctrl-geocoder--collapsed {
width: 50px;
min-width: 50px;
transition: width 0.25s, min-width 0.25s;
}

.maplibregl-ctrl-geocoder .suggestions {
background-color: #fff;
border-radius: 4px;
left: 0;
list-style: none;
margin: 0;
padding: 0;
position: absolute;
width: 100%;
top: 110%; 
top: calc(100% + 6px);
z-index: 1000;
overflow: hidden;
font-size: 15px;
}
.maplibregl-ctrl-bottom-left .suggestions,
.maplibregl-ctrl-bottom-right .suggestions {
top: auto;
bottom: 100%;
}
.maplibregl-ctrl-geocoder .suggestions > li > a {
cursor: default;
display: block;
padding: 6px 12px;
color: #404040;
}
.maplibregl-ctrl-geocoder .suggestions > .active > a,
.maplibregl-ctrl-geocoder .suggestions > li > a:hover {
color: #404040;
background-color: #f3f3f3;
text-decoration: none;
cursor: pointer;
}
.maplibregl-ctrl-geocoder--suggestion {
display: flex;
flex-direction: row;
align-items: center;
}
.maplibre-ctrl-geocoder--suggestion-icon {
min-width: 30px;
min-height: 24px;
max-width: 30px;
max-height: 24px;
padding-right: 12px;
}
.maplibregl-ctrl-geocoder--suggestion-info {
display: flex;
flex-direction: column;
}
.maplibregl-ctrl-geocoder--suggestion-match {
font-weight: bold;
}
.maplibregl-ctrl-geocoder--suggestion-title,
.maplibregl-ctrl-geocoder--suggestion-address {
text-overflow: ellipsis;
overflow: hidden;
white-space: nowrap;
}
.maplibregl-ctrl-geocoder--result {
display: flex;
flex-direction: row;
align-items: center;
}
.maplibre-ctrl-geocoder--result-icon {
min-width: 30px;
min-height: 24px;
max-width: 30px;
max-height: 24px;
padding-right: 12px;
}
.maplibregl-ctrl-geocoder--result-title {
font-weight: bold;
}
.maplibregl-ctrl-geocoder--result-title,
.maplibregl-ctrl-geocoder--result-address {
text-overflow: ellipsis;
overflow: hidden;
white-space: nowrap;
}

.maplibregl-ctrl-geocoder--icon {
display: inline-block;
vertical-align: middle;
speak: none;
fill: #757575;
top: 15px;
}
.maplibregl-ctrl-geocoder--icon-search {
position: absolute;
top: 13px;
left: 12px;
width: 23px;
height: 23px;
}
.maplibregl-ctrl-geocoder--button {
padding: 0;
margin: 0;
border: none;
cursor: pointer;
background: #fff;
line-height: 1;
}
.maplibregl-ctrl-geocoder--icon-close {
width: 20px;
height: 20px;
margin-top: 8px;
margin-right: 3px;
}
.maplibregl-ctrl-geocoder--button:hover .maplibregl-ctrl-geocoder--icon-close {
fill: #909090;
}
.maplibregl-ctrl-geocoder--icon-loading {
width: 26px;
height: 26px;
margin-top: 5px;
margin-right: 0px;
-moz-animation: rotate 0.8s infinite cubic-bezier(0.45, 0.05, 0.55, 0.95);
-webkit-animation: rotate 0.8s infinite cubic-bezier(0.45, 0.05, 0.55, 0.95);
animation: rotate 0.8s infinite cubic-bezier(0.45, 0.05, 0.55, 0.95);
}

@-webkit-keyframes rotate {
from {
-webkit-transform: rotate(0);
transform: rotate(0);
}
to {
-webkit-transform: rotate(360deg);
transform: rotate(360deg);
}
}
@keyframes rotate {
from {
-webkit-transform: rotate(0);
transform: rotate(0);
}
to {
-webkit-transform: rotate(360deg);
transform: rotate(360deg);
}
}

@media screen and (min-width: 640px) {
.maplibregl-ctrl-geocoder.maplibregl-ctrl-geocoder--collapsed {
width: 36px;
min-width: 36px;
}
.maplibregl-ctrl-geocoder {
width: 33.3333%;
font-size: 15px;
line-height: 20px;
max-width: 360px;
}
.maplibregl-ctrl-geocoder .suggestions {
font-size: 13px;
}
.maplibregl-ctrl-geocoder--icon {
top: 8px;
}
.maplibregl-ctrl-geocoder--icon-close {
width: 16px;
height: 16px;
margin-top: 3px;
margin-right: 0;
}
.maplibregl-ctrl-geocoder--icon-search {
left: 7px;
width: 20px;
height: 20px;
}
.maplibregl-ctrl-geocoder--input {
height: 36px;
padding: 6px 35px;
}
.maplibregl-ctrl-geocoder--icon-loading {
width: 26px;
height: 26px;
margin-top: -2px;
margin-right: -5px;
}
.maplibre-gl-geocoder--error {
color: #909090;
padding: 6px 12px;
font-size: 16px;
text-align: center;
}
}
</style>
<script>!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.MaplibreGeocoder=t()}}(function(){return function(){function t(e,i,n){function s(o,l){if(!i[o]){if(!e[o]){var a="function"==typeof require&&require;if(!l&&a)return a(o,!0);if(r)return r(o,!0);var h=new Error("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var u=i[o]={exports:{}};e[o][0].call(u.exports,function(t){return s(e[o][1][t]||t)},u,u.exports,t,e,i,n)}return i[o].exports}for(var r="function"==typeof require&&require,o=0;o<n.length;o++)s(n[o]);return s}return t}()({1:[function(t,e,i){e.exports={fr:{name:"France",bbox:[[-4.59235,41.380007],[9.560016,51.148506]]},us:{name:"United States",bbox:[[-171.791111,18.91619],[-66.96466,71.357764]]},ru:{name:"Russia",bbox:[[19.66064,41.151416],[190.10042,81.2504]]},ca:{name:"Canada",bbox:[[-140.99778,41.675105],[-52.648099,83.23324]]}}},{}],2:[function(t,e,i){"use strict";function n(t,e){this._eventEmitter=new l,this.options=o({},this.options,e),this.inputString="",this.fresh=!0,this.lastSelected=null,this.geocoderApi=t}var s=t("suggestions-list"),r=t("lodash.debounce"),o=t("xtend"),l=t("events").EventEmitter,a=t("./exceptions"),h=t("./localization"),u=t("subtag");n.prototype={options:{zoom:16,flyTo:!0,trackProximity:!0,showResultsWhileTyping:!1,minLength:2,reverseGeocode:!1,limit:5,enableEventLogging:!0,marker:!0,popup:!1,maplibregl:null,collapsed:!1,clearAndBlurOnEsc:!1,clearOnBlur:!1,getItemValue:function(t){return void 0!==t.text?t.text:t.place_name},render:function(t){if(t.geometry){var e=t.place_name.split(",");return'<div class="mapboxgl-ctrl-geocoder--result maplibregl-ctrl-geocoder--result"><svg class="mapboxgl-ctrl-geocoder--result-icon maplibre-ctrl-geocoder--result-icon" viewBox="0 0 24 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 0C5.36571 0 0 5.38676 0 12.0471C0 21.0824 12 32 12 32C12 32 24 21.0824 24 12.0471C24 5.38676 18.6343 0 12 0ZM12 16.3496C9.63428 16.3496 7.71429 14.4221 7.71429 12.0471C7.71429 9.67207 9.63428 7.74454 12 7.74454C14.3657 7.74454 16.2857 9.67207 16.2857 12.0471C16.2857 14.4221 14.3657 16.3496 12 16.3496Z" fill="#687078"/></svg><div><div class="mapboxgl-ctrl-geocoder--result-title maplibregl-ctrl-geocoder--result-title">'+e[0]+'</div><div class="mapboxgl-ctrl-geocoder--result-address maplibregl-ctrl-geocoder--result-address">'+e.splice(1,e.length).join(",")+"</div></div></div>"}var i=t.text,n=i.toLowerCase().indexOf(this.query.toLowerCase()),s=this.query.length;return'<div class="mapboxgl-ctrl-geocoder--suggestion maplibregl-ctrl-geocoder--suggestion"><svg class="mapboxgl-ctrl-geocoder--suggestion-icon maplibre-ctrl-geocoder--suggestion-icon" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M22.8702 20.1258H21.4248L20.9125 19.6318C22.7055 17.546 23.785 14.8382 23.785 11.8925C23.785 5.32419 18.4608 0 11.8925 0C5.32419 0 0 5.32419 0 11.8925C0 18.4608 5.32419 23.785 11.8925 23.785C14.8382 23.785 17.546 22.7055 19.6318 20.9125L20.1258 21.4248V22.8702L29.2739 32L32 29.2739L22.8702 20.1258ZM11.8925 20.1258C7.33676 20.1258 3.65923 16.4483 3.65923 11.8925C3.65923 7.33676 7.33676 3.65923 11.8925 3.65923C16.4483 3.65923 20.1258 7.33676 20.1258 11.8925C20.1258 16.4483 16.4483 20.1258 11.8925 20.1258Z" fill="#687078"/></svg><div class="mapboxgl-ctrl-geocoder--suggestion-info maplibregl-ctrl-geocoder--suggestion-info"><div class="mapboxgl-ctrl-geocoder--suggestion-title maplibregl-ctrl-geocoder--suggestion-title">'+i.substring(0,n)+'<span class="mapboxgl-ctrl-geocoder--suggestion-match maplibregl-ctrl-geocoder--suggestion-match">'+i.substring(n,n+s)+"</span>"+i.substring(n+s)+"</div></div></div>"},popupRender:function(t){var e=t.place_name.split(",");return'<div class="mapboxgl-ctrl-geocoder--suggestion maplibre-ctrl-geocoder--suggestion popup-suggestion"><div class="mapboxgl-ctrl-geocoder--suggestion-title maplibre-ctrl-geocoder--suggestion-title popup-suggestion-title">'+e[0]+'</div><div class="mapboxgl-ctrl-geocoder--suggestion-address maplibre-ctrl-geocoder--suggestion-address popup-suggestion-address">'+e.splice(1,e.length).join(",")+"</div></div>"},showResultMarkers:!0,debounceSearch:200},addTo:function(t){function e(t,e){if(!document.body.contains(e))throw new Error("Element provided to #addTo() exists, but is not in the DOM");var i=t.onAdd();e.appendChild(i)}if(t._controlContainer)t.addControl(this);else if(t instanceof HTMLElement)e(this,t);else{if("string"!=typeof t)throw new Error("Error: addTo must be a maplibre-gl-js map, an html element, or a CSS selector query for a single html element");var i=document.querySelectorAll(t);if(0===i.length)throw new Error("Element ",t,"not found.");if(i.length>1)throw new Error("Geocoder can only be added to a single html element");e(this,i[0])}},onAdd:function(t){if(t&&"string"!=typeof t&&(this._map=t),this.setLanguage(),this.options.localGeocoderOnly&&!this.options.localGeocoder)throw new Error("A localGeocoder function must be specified to use localGeocoderOnly mode");this._onChange=this._onChange.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onPaste=this._onPaste.bind(this),this._onBlur=this._onBlur.bind(this),this._showButton=this._showButton.bind(this),this._hideButton=this._hideButton.bind(this),this._onQueryResult=this._onQueryResult.bind(this),this.clear=this.clear.bind(this),this._updateProximity=this._updateProximity.bind(this),this._collapse=this._collapse.bind(this),this._unCollapse=this._unCollapse.bind(this),this._clear=this._clear.bind(this),this._clearOnBlur=this._clearOnBlur.bind(this);var e=this.container=document.createElement("div");e.className="mapboxgl-ctrl-geocoder mapboxgl-ctrl maplibregl-ctrl-geocoder maplibregl-ctrl";var i=this.createIcon("search",'<path d="M7.4 2.5c-2.7 0-4.9 2.2-4.9 4.9s2.2 4.9 4.9 4.9c1 0 1.8-.2 2.5-.8l3.7 3.7c.2.2.4.3.8.3.7 0 1.1-.4 1.1-1.1 0-.3-.1-.5-.3-.8L11.4 10c.4-.8.8-1.6.8-2.5.1-2.8-2.1-5-4.8-5zm0 1.6c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2-3.3-1.3-3.3-3.1 1.4-3.3 3.3-3.3z"/>');this._inputEl=document.createElement("input"),this._inputEl.type="text",this._inputEl.className="mapboxgl-ctrl-geocoder--input maplibregl-ctrl-geocoder--input",this.setPlaceholder(),this.options.collapsed&&(this._collapse(),this.container.addEventListener("mouseenter",this._unCollapse),this.container.addEventListener("mouseleave",this._collapse),this._inputEl.addEventListener("focus",this._unCollapse)),(this.options.collapsed||this.options.clearOnBlur)&&this._inputEl.addEventListener("blur",this._onBlur),this._inputEl.addEventListener("keydown",r(this._onKeyDown,this.options.debounceSearch)),this._inputEl.addEventListener("paste",this._onPaste),this._inputEl.addEventListener("change",this._onChange),this.container.addEventListener("mouseenter",this._showButton),this.container.addEventListener("mouseleave",this._hideButton);var n=document.createElement("div");n.classList.add("mapboxgl-ctrl-geocoder--pin-right","maplibregl-ctrl-geocoder--pin-right"),this._clearEl=document.createElement("button"),this._clearEl.setAttribute("aria-label","Clear"),this._clearEl.addEventListener("click",this.clear),this._clearEl.className="mapboxgl-ctrl-geocoder--button maplibregl-ctrl-geocoder--button";var o=this.createIcon("close",'<path d="M3.8 2.5c-.6 0-1.3.7-1.3 1.3 0 .3.2.7.5.8L7.2 9 3 13.2c-.3.3-.5.7-.5 1 0 .6.7 1.3 1.3 1.3.3 0 .7-.2 1-.5L9 10.8l4.2 4.2c.2.3.7.3 1 .3.6 0 1.3-.7 1.3-1.3 0-.3-.2-.7-.3-1l-4.4-4L15 4.6c.3-.2.5-.5.5-.8 0-.7-.7-1.3-1.3-1.3-.3 0-.7.2-1 .3L9 7.1 4.8 2.8c-.3-.1-.7-.3-1-.3z"/>');return this._clearEl.appendChild(o),this._loadingEl=this.createIcon("loading",'<path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"/><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"/>'),n.appendChild(this._clearEl),n.appendChild(this._loadingEl),e.appendChild(i),e.appendChild(this._inputEl),e.appendChild(n),this._typeahead=new s(this._inputEl,[],{filter:!1,minLength:this.options.minLength,limit:this.options.limit,noInitialSelection:!0}),this.setRenderFunction(this.options.render),this._typeahead.getItemValue=this.options.getItemValue,this.mapMarker=null,this.resultMarkers=[],this._handleMarker=this._handleMarker.bind(this),this._handleResultMarkers=this._handleResultMarkers.bind(this),this._map&&(this.options.trackProximity&&(this._updateProximity(),this._map.on("moveend",this._updateProximity)),this._maplibregl=this.options.maplibregl,!this._maplibregl&&this.options.marker&&(console.error("No maplibregl detected in options. Map markers are disabled. Please set options.maplibregl."),this.options.marker=!1)),e},createIcon:function(t,e){var i=document.createElementNS("http://www.w3.org/2000/svg","svg");if(i.setAttribute("class","mapboxgl-ctrl-geocoder--icon mapboxgl-ctrl-geocoder--icon-"+t+" maplibregl-ctrl-geocoder--icon maplibregl-ctrl-geocoder--icon-"+t),i.setAttribute("viewBox","0 0 18 18"),i.setAttribute("xml:space","preserve"),i.setAttribute("width",18),i.setAttribute("height",18),"innerHTML"in i)i.innerHTML=e;else{var n=document.createElement("div");n.innerHTML="<svg>"+e.valueOf().toString()+"</svg>";var s=n.firstChild,r=s.firstChild;i.appendChild(r)}return i},onRemove:function(){return this.container.parentNode.removeChild(this.container),this.options.trackProximity&&this._map&&this._map.off("moveend",this._updateProximity),this._removeMarker(),this._map=null,this},_onPaste:function(t){var e=(t.clipboardData||window.clipboardData).getData("text");e.length>=this.options.minLength&&this.options.showResultsWhileTyping&&this._geocode(e)},_onKeyDown:function(t){if(27===t.keyCode&&this.options.clearAndBlurOnEsc)return this._clear(t),this._inputEl.blur();var e=t.target&&t.target.shadowRoot?t.target.shadowRoot.activeElement:t.target;if(!(e?e.value:""))return this.fresh=!0,9!==t.keyCode&&this.clear(t),this._clearEl.style.display="none";if(!t.metaKey&&-1===[9,27,37,39,38,40].indexOf(t.keyCode)){if(13===t.keyCode){if(this.options.showResultsWhileTyping)return void(null==this._typeahead.selected&&this.geocoderApi.getSuggestions?this._geocode(e.value,!0):null==this._typeahead.selected&&this.options.showResultMarkers&&this._fitBoundsForMarkers());this._typeahead.selected||this._geocode(e.value)}e.value.length>=this.options.minLength&&this.options.showResultsWhileTyping&&this._geocode(e.value)}},_showButton:function(){this._inputEl.value.length>0&&(this._clearEl.style.display="block")},_hideButton:function(){this._typeahead.selected&&(this._clearEl.style.display="none")},_onBlur:function(t){this.options.clearOnBlur&&this._clearOnBlur(t),this.options.collapsed&&this._collapse()},_onChange:function(){var t=this._typeahead.selected;if(t&&!t.geometry)t.placeId?this._geocode(t.placeId,!0,!0):this._geocode(t.text,!0);else if(t&&JSON.stringify(t)!==this.lastSelected){if(this._clearEl.style.display="none",this.options.flyTo){var e;if(this._removeResultMarkers(),t.properties&&a[t.properties.short_code])e=o({},this.options.flyTo),this._map&&this._map.fitBounds(a[t.properties.short_code].bbox,e);else if(t.bbox){var i=t.bbox;e=o({},this.options.flyTo),this._map&&this._map.fitBounds([[i[0],i[1]],[i[2],i[3]]],e)}else{var n={zoom:this.options.zoom};e=o({},n,this.options.flyTo),t.center?e.center=t.center:t.geometry&&t.geometry.type&&"Point"===t.geometry.type&&t.geometry.coordinates&&(e.center=t.geometry.coordinates),this._map&&this._map.flyTo(e)}}this.options.marker&&this._maplibregl&&this._handleMarker(t),this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0),this.lastSelected=JSON.stringify(t),this._typeahead.selected=null,this._eventEmitter.emit("result",{result:t})}},_getConfigForRequest:function(){var t=["bbox","limit","proximity","countries","types","language","reverseMode"],e=this;return t.reduce(function(t,i){return e.options[i]&&(["countries","types","language"].indexOf(i)>-1?t[i]=e.options[i].split(/[\s,]+/):t[i]=e.options[i],"proximity"===i&&e.options[i]&&"number"==typeof e.options[i].longitude&&"number"==typeof e.options[i].latitude&&(t[i]=[e.options[i].longitude,e.options[i].latitude])),t},{})},_geocode:function(t,e,i){this._loadingEl.style.display="block",this._eventEmitter.emit("loading",{query:t}),this.inputString=t;var n,s=null,r=this._getConfigForRequest();if(this.options.localGeocoderOnly)n=Promise.resolve();else if(this.options.reverseGeocode&&/(-?\d+\.?\d*)[, ]+(-?\d+\.?\d*)[ ]*$/.test(t)){var l=t.split(/[\s(,)?]+/).map(function(t){return parseFloat(t,10)}).reverse();r.types&&r.types[0],r=o(r,{query:l,limit:1}),"proximity"in r&&delete r.proximity,n=this.geocoderApi.reverseGeocode(r)}else r=o(r,{query:t}),n=this.geocoderApi.getSuggestions?e?this.geocoderApi.searchByPlaceId&&i?this.geocoderApi.searchByPlaceId(r):this.geocoderApi.forwardGeocode(r):this.geocoderApi.getSuggestions(r):this.geocoderApi.forwardGeocode(r);var a=[];this.options.localGeocoder&&((a=this.options.localGeocoder(t))||(a=[]));var h=[];return n.catch(function(t){s=t}.bind(this)).then(function(e){this._loadingEl.style.display="none";var i={};return i=e||{type:"FeatureCollection",features:[]},i.config=r,this.fresh&&(this.fresh=!1),i.features=i.features?a.concat(i.features):a,this.options.externalGeocoder?(h=this.options.externalGeocoder(t,i.features,r)||[],h.then(function(t){return i.features=i.features?t.concat(i.features):t,i},function(){return i})):i}.bind(this)).then(function(t){if(s)throw s;this.options.filter&&t.features.length&&(t.features=t.features.filter(this.options.filter));var i=[];i=t.suggestions?t.suggestions:t.place?[t.place]:t.features,i.length?(this._clearEl.style.display="block",this._typeahead.update(i),(!this.options.showResultsWhileTyping||e)&&this.options.showResultMarkers&&(t.features.length>0||t.place)&&this._fitBoundsForMarkers(),this._eventEmitter.emit("results",t)):(this._clearEl.style.display="none",this._typeahead.selected=null,this._renderNoResults(),this._eventEmitter.emit("results",t))}.bind(this)).catch(function(t){this._loadingEl.style.display="none",a.length&&this.options.localGeocoder||h.length&&this.options.externalGeocoder?(this._clearEl.style.display="block",this._typeahead.update(a)):(this._clearEl.style.display="none",this._typeahead.selected=null,this._renderError()),this._eventEmitter.emit("results",{features:a}),this._eventEmitter.emit("error",{error:t})}.bind(this)),n},_clear:function(t){t&&t.preventDefault(),this._inputEl.value="",this._typeahead.selected=null,this._typeahead.clear(),this._onChange(),this._clearEl.style.display="none",this._removeMarker(),this._removeResultMarkers(),this.lastSelected=null,this._eventEmitter.emit("clear"),this.fresh=!0},clear:function(t){this._clear(t),this._inputEl.focus()},_clearOnBlur:function(t){var e=this;t.relatedTarget&&e._clear(t)},_onQueryResult:function(t){var e=t;if(e.features.length){var i=e.features[0];this._typeahead.selected=i,this._inputEl.value=i.place_name,this._onChange()}},_updateProximity:function(){if(this._map)if(this._map.getZoom()>9){var t=this._map.getCenter().wrap();this.setProximity({longitude:t.lng,latitude:t.lat})}else this.setProximity(null)},_collapse:function(){this._inputEl.value||this._inputEl===document.activeElement||this.container.classList.add("mapboxgl-ctrl-geocoder--collapsed","maplibregl-ctrl-geocoder--collapsed")},_unCollapse:function(){this.container.classList.remove("mapboxgl-ctrl-geocoder--collapsed","maplibregl-ctrl-geocoder--collapsed")},query:function(t){return this._geocode(t).then(this._onQueryResult),this},_renderError:function(){this._renderMessage("<div class='mapbox-gl-geocoder--error maplibre-gl-geocoder--error'>There was an error reaching the server</div>")},_renderNoResults:function(){this._renderMessage("<div class='mapbox-gl-geocoder--error mapbox-gl-geocoder--no-results maplibre-gl-geocoder--error maplibre-gl-geocoder--no-results'>No results found</div>")},_renderMessage:function(t){this._typeahead.update([]),this._typeahead.selected=null,this._typeahead.clear(),this._typeahead.renderError(t)},_getPlaceholderText:function(){if(this.options.placeholder)return this.options.placeholder;if(this.options.language){var t=this.options.language.split(",")[0],e=u.language(t),i=h.placeholder[e];if(i)return i}return"Search"},_fitBoundsForMarkers:function(){if(!(this._typeahead.data.length<1)){var t=this._typeahead.data.filter(function(t){return"string"!=typeof t}).slice(0,this.options.limit);if(this._clearEl.style.display="none",this.options.flyTo&&this._maplibregl&&this._map){var e={padding:100},i=o({},e,this.options.flyTo),n=new this._maplibregl.LngLatBounds;t.forEach(function(t){n.extend(t.geometry.coordinates)}),this._map.fitBounds(n.toArray(),i)}return t.length>0&&this._maplibregl&&this._handleResultMarkers(t),this}},setInput:function(t){return this._inputEl.value=t,this._typeahead.selected=null,this._typeahead.clear(),t.length>=this.options.minLength&&this.options.showResultsWhileTyping&&this._geocode(t),this},setProximity:function(t){return this.options.proximity=t,this},getProximity:function(){return this.options.proximity},setRenderFunction:function(t){return t&&"function"==typeof t&&(this._typeahead.render=t),this},getRenderFunction:function(){return this._typeahead.render},setLanguage:function(t){var e=navigator.language||navigator.userLanguage||navigator.browserLanguage;return this.options.language=t||this.options.language||e,this},getLanguage:function(){return this.options.language},getZoom:function(){return this.options.zoom},setZoom:function(t){return this.options.zoom=t,this},getFlyTo:function(){return this.options.flyTo},setFlyTo:function(t){return this.options.flyTo=t,this},getPlaceholder:function(){return this.options.placeholder},setPlaceholder:function(t){return this.placeholder=t||this._getPlaceholderText(),this._inputEl.placeholder=this.placeholder,this._inputEl.setAttribute("aria-label",this.placeholder),this},getBbox:function(){return this.options.bbox},setBbox:function(t){return this.options.bbox=t,this},getCountries:function(){return this.options.countries},setCountries:function(t){return this.options.countries=t,this},getTypes:function(){return this.options.types},setTypes:function(t){return this.options.types=t,this},getMinLength:function(){return this.options.minLength},setMinLength:function(t){return this.options.minLength=t,this._typeahead&&(this._typeahead.options.minLength=t),this},getLimit:function(){return this.options.limit},setLimit:function(t){return this.options.limit=t,this._typeahead&&(this._typeahead.options.limit=t),this},getFilter:function(){return this.options.filter},setFilter:function(t){return this.options.filter=t,this},setGeocoderApi:function(t){return this.geocoderApi=t,this},getGeocoderApi:function(){return this.geocoderApi},_handleMarker:function(t){if(this._map){this._removeMarker();var e={color:"#4668F2"},i=o({},e,this.options.marker);this.mapMarker=new this._maplibregl.Marker(i);var n;if(this.options.popup){var s={},r=o({},s,this.options.popup);n=new this._maplibregl.Popup(r).setHTML(this.options.popupRender(t))}return t.center?(this.mapMarker.setLngLat(t.center).addTo(this._map),this.options.popup&&this.mapMarker.setPopup(n)):t.geometry&&t.geometry.type&&"Point"===t.geometry.type&&t.geometry.coordinates&&(this.mapMarker.setLngLat(t.geometry.coordinates).addTo(this._map),this.options.popup&&this.mapMarker.setPopup(n)),this}},_removeMarker:function(){this.mapMarker&&(this.mapMarker.remove(),this.mapMarker=null)},_handleResultMarkers:function(t){if(this._map){this._removeResultMarkers();var e={color:"#4668F2"},i=o({},e,this.options.showResultMarkers);return t.forEach(function(t){if(this.options.showResultMarkers&&this.options.showResultMarkers.element){var e=this.options.showResultMarkers.element.cloneNode(!0);i=o(i,{element:e})}var n,s=new this._maplibregl.Marker(o({},i,{element:e}));if(this.options.popup){var r={},l=o({},r,this.options.popup);n=new this._maplibregl.Popup(l).setHTML(this.options.popupRender(t))}t.center?(s.setLngLat(t.center).addTo(this._map),this.options.popup&&s.setPopup(n)):t.geometry&&t.geometry.type&&"Point"===t.geometry.type&&t.geometry.coordinates&&(s.setLngLat(t.geometry.coordinates).addTo(this._map),this.options.popup&&s.setPopup(n)),this.resultMarkers.push(s)}.bind(this)),this}},_removeResultMarkers:function(){this.resultMarkers&&this.resultMarkers.length>0&&(this.resultMarkers.forEach(function(t){t.remove()}),this.resultMarkers=[])},on:function(t,e){return this._eventEmitter.on(t,e),this},off:function(t,e){return this._eventEmitter.removeListener(t,e),this}},e.exports=n},{"./exceptions":1,"./localization":3,events:4,"lodash.debounce":6,subtag:7,"suggestions-list":8,xtend:11}],3:[function(t,e,i){"use strict";var n={de:"Suche",it:"Ricerca",en:"Search",nl:"Zoeken",fr:"Chercher",ca:"Cerca",he:"",ja:"",lv:"Meklt",pt:"Procurar",sr:"",zh:"",cs:"Vyhledvn",hu:"Keress",ka:"",nb:"Ske",sk:"Vyhadvanie",th:"",fi:"Hae",is:"Leita",ko:"",pl:"Szukaj",sl:"Iskanje",fa:"",ru:""};e.exports={placeholder:n}},{}],4:[function(t,e,i){function n(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=w(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}function s(t){return void 0===t._maxListeners?n.defaultMaxListeners:t._maxListeners}function r(t,e,i){if(e)t.call(i);else for(var n=t.length,s=m(t,n),r=0;r<n;++r)s[r].call(i)}function o(t,e,i,n){if(e)t.call(i,n);else for(var s=t.length,r=m(t,s),o=0;o<s;++o)r[o].call(i,n)}function l(t,e,i,n,s){if(e)t.call(i,n,s);else for(var r=t.length,o=m(t,r),l=0;l<r;++l)o[l].call(i,n,s)}function a(t,e,i,n,s,r){if(e)t.call(i,n,s,r);else for(var o=t.length,l=m(t,o),a=0;a<o;++a)l[a].call(i,n,s,r)}function h(t,e,i,n){if(e)t.apply(i,n);else for(var s=t.length,r=m(t,s),o=0;o<s;++o)r[o].apply(i,n)}function u(t,e,i,n){var r,o,l;if("function"!=typeof i)throw new TypeError('"listener" argument must be a function');if(o=t._events,o?(o.newListener&&(t.emit("newListener",e,i.listener?i.listener:i),o=t._events),l=o[e]):(o=t._events=w(null),t._eventsCount=0),l){if("function"==typeof l?l=o[e]=n?[i,l]:[l,i]:n?l.unshift(i):l.push(i),!l.warned&&(r=s(t))&&r>0&&l.length>r){l.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+l.length+' "'+String(e)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=l.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",a.name,a.message)}}else l=o[e]=i,++t._eventsCount;return t}function c(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var t=new Array(arguments.length),e=0;e<t.length;++e)t[e]=arguments[e];this.listener.apply(this.target,t)}}function p(t,e,i){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:i},s=E.call(c,n);return s.listener=i,n.wrapFn=s,s}function d(t,e,i){var n=t._events;if(!n)return[];var s=n[e];return s?"function"==typeof s?i?[s.listener||s]:[s]:i?v(s):m(s,s.length):[]}function f(t){var e=this._events;if(e){var i=e[t];if("function"==typeof i)return 1;if(i)return i.length}return 0}function g(t,e){for(var i=e,n=i+1,s=t.length;n<s;i+=1,n+=1)t[i]=t[n];t.pop()}function m(t,e){for(var i=new Array(e),n=0;n<e;++n)i[n]=t[n];return i}function v(t){for(var e=new Array(t.length),i=0;i<e.length;++i)e[i]=t[i].listener||t[i];return e}function y(t){var e=function(){};return e.prototype=t,new e}function _(t){var e=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.push(i);return i}function b(t){var e=this;return function(){return e.apply(t,arguments)}}var w=Object.create||y,x=Object.keys||_,E=Function.prototype.bind||b;e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0;var L,k=10;try{var C={};Object.defineProperty&&Object.defineProperty(C,"x",{value:0}),L=0===C.x}catch(t){L=!1}L?Object.defineProperty(n,"defaultMaxListeners",{enumerable:!0,get:function(){return k},set:function(t){if("number"!=typeof t||t<0||t!==t)throw new TypeError('"defaultMaxListeners" must be a positive number');k=t}}):n.defaultMaxListeners=k,n.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this},n.prototype.getMaxListeners=function(){return s(this)},n.prototype.emit=function(t){var e,i,n,s,u,c,p="error"===t;if(c=this._events)p=p&&null==c.error;else if(!p)return!1;if(p){if(arguments.length>1&&(e=arguments[1]),e instanceof Error)throw e;var d=new Error('Unhandled "error" event. ('+e+")");throw d.context=e,d}if(!(i=c[t]))return!1;var f="function"==typeof i;switch(n=arguments.length){case 1:r(i,f,this);break;case 2:o(i,f,this,arguments[1]);break;case 3:l(i,f,this,arguments[1],arguments[2]);break;case 4:a(i,f,this,arguments[1],arguments[2],arguments[3]);break;default:for(s=new Array(n-1),u=1;u<n;u++)s[u-1]=arguments[u];h(i,f,this,s)}return!0},n.prototype.addListener=function(t,e){return u(this,t,e,!1)},n.prototype.on=n.prototype.addListener,n.prototype.prependListener=function(t,e){return u(this,t,e,!0)},n.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.on(t,p(this,t,e)),this},n.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.prependListener(t,p(this,t,e)),this},n.prototype.removeListener=function(t,e){var i,n,s,r,o;if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');if(!(n=this._events))return this;if(!(i=n[t]))return this;if(i===e||i.listener===e)0==--this._eventsCount?this._events=w(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,i.listener||e));else if("function"!=typeof i){for(s=-1,r=i.length-1;r>=0;r--)if(i[r]===e||i[r].listener===e){o=i[r].listener,s=r;break}if(s<0)return this;0===s?i.shift():g(i,s),1===i.length&&(n[t]=i[0]),n.removeListener&&this.emit("removeListener",t,o||e)}return this},n.prototype.removeAllListeners=function(t){var e,i,n;if(!(i=this._events))return this;if(!i.removeListener)return 0===arguments.length?(this._events=w(null),this._eventsCount=0):i[t]&&(0==--this._eventsCount?this._events=w(null):delete i[t]),this;if(0===arguments.length){var s,r=x(i);for(n=0;n<r.length;++n)"removeListener"!==(s=r[n])&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=w(null),this._eventsCount=0,this}if("function"==typeof(e=i[t]))this.removeListener(t,e);else if(e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},n.prototype.listeners=function(t){return d(this,t,!0)},n.prototype.rawListeners=function(t){return d(this,t,!1)},n.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):f.call(t,e)},n.prototype.listenerCount=f,n.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],5:[function(t,e,i){!function(){var t=this,n={};void 0!==i?e.exports=n:t.fuzzy=n,n.simpleFilter=function(t,e){return e.filter(function(e){return n.test(t,e)})},n.test=function(t,e){return null!==n.match(t,e)},n.match=function(t,e,i){i=i||{};var n,s=0,r=[],o=e.length,l=0,a=0,h=i.pre||"",u=i.post||"",c=i.caseSensitive&&e||e.toLowerCase();t=i.caseSensitive&&t||t.toLowerCase();for(var p=0;p<o;p++)n=e[p],c[p]===t[s]?(n=h+n+u,s+=1,a+=1+a):a=0,l+=a,r[r.length]=n;return s===t.length?(l=c===t?1/0:l,{rendered:r.join(""),score:l}):null},n.filter=function(t,e,i){return e&&0!==e.length?"string"!=typeof t?e:(i=i||{},e.reduce(function(e,s,r,o){var l=s;i.extract&&(l=i.extract(s));var a=n.match(t,l,i);return null!=a&&(e[e.length]={string:a.rendered,score:a.score,index:r,original:s}),e},[]).sort(function(t,e){var i=e.score-t.score;return i||t.index-e.index})):[]}}()},{}],6:[function(t,e,i){(function(t){(function(){function i(t,e,i){function s(e){var i=g,n=m;return g=m=void 0,L=e,y=t.apply(n,i)}function r(t){return L=t,_=setTimeout(u,e),k?s(t):y}function a(t){var i=t-E,n=t-L,s=e-i;return C?w(s,v-n):s}function h(t){var i=t-E,n=t-L;return void 0===E||i>=e||i<0||C&&n>=v}function u(){var t=x();if(h(t))return c(t);_=setTimeout(u,a(t))}function c(t){return _=void 0,M&&g?s(t):(g=m=void 0,y)}function p(){void 0!==_&&clearTimeout(_),L=0,g=E=m=_=void 0}function d(){return void 0===_?y:c(x())}function f(){var t=x(),i=h(t);if(g=arguments,m=this,E=t,i){if(void 0===_)return r(E);if(C)return _=setTimeout(u,e),s(E)}return void 0===_&&(_=setTimeout(u,e)),y}var g,m,v,y,_,E,L=0,k=!1,C=!1,M=!0;if("function"!=typeof t)throw new TypeError(l);return e=o(e)||0,n(i)&&(k=!!i.leading,C="maxWait"in i,v=C?b(o(i.maxWait)||0,e):v,M="trailing"in i?!!i.trailing:M),f.cancel=p,f.flush=d,f}function n(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function s(t){return!!t&&"object"==typeof t}function r(t){return"symbol"==typeof t||s(t)&&_.call(t)==h}function o(t){if("number"==typeof t)return t;if(r(t))return a;if(n(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=n(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(u,"");var i=p.test(t);return i||d.test(t)?f(t.slice(2),i?2:8):c.test(t)?a:+t}var l="Expected a function",a=NaN,h="[object Symbol]",u=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,d=/^0o[0-7]+$/i,f=parseInt,g="object"==typeof t&&t&&t.Object===Object&&t,m="object"==typeof self&&self&&self.Object===Object&&self,v=g||m||Function("return this")(),y=Object.prototype,_=y.toString,b=Math.max,w=Math.min,x=function(){return v.Date.now()};e.exports=i}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(t,e,i){!function(t,i,n){void 0!==e&&e.exports?e.exports=n():t.subtag=n()}(this,0,function(){function t(t){return t.match(o)||[]}function e(e){return t(e).filter(function(t,e){return t&&e})}function i(e){return e=t(e),{language:e[1]||r,extlang:e[2]||r,script:e[3]||r,region:e[4]||r}}function n(t,e,i){Object.defineProperty(t,e,{value:i,enumerable:!0})}function s(e,s,o){function l(i){return t(i)[e]||r}n(l,"pattern",s),n(i,o,l)}var r="",o=/^([a-zA-Z]{2,3})(?:[_-]+([a-zA-Z]{3})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{4})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{2}|[0-9]{3})(?=$|[_-]+))?/;return s(1,/^[a-zA-Z]{2,3}$/,"language"),s(2,/^[a-zA-Z]{3}$/,"extlang"),s(3,/^[a-zA-Z]{4}$/,"script"),s(4,/^[a-zA-Z]{2}$|^[0-9]{3}$/,"region"),n(i,"split",e),i})},{}],8:[function(t,e,i){"use strict";var n=t("./src/suggestions");e.exports=n,"undefined"!=typeof window&&(window.Suggestions=n)},{"./src/suggestions":10}],9:[function(t,e,i){"use strict";var n=function(t){return this.component=t,this.items=[],this.active=t.options.noInitialSelection?-1:0,this.wrapper=document.createElement("div"),this.wrapper.className="suggestions-wrapper",this.element=document.createElement("ul"),this.element.className="suggestions",this.wrapper.appendChild(this.element),this.selectingListItem=!1,t.el.parentNode.insertBefore(this.wrapper,t.el.nextSibling),this};n.prototype.show=function(){this.element.style.display="block"},n.prototype.hide=function(){this.element.style.display="none"},n.prototype.add=function(t){this.items.push(t)},n.prototype.clear=function(){this.items=[],this.active=this.component.options.noInitialSelection?-1:0},n.prototype.isEmpty=function(){return!this.items.length},n.prototype.isVisible=function(){return"block"===this.element.style.display},n.prototype.draw=function(){if(this.element.innerHTML="",
0===this.items.length)return void this.hide();for(var t=0;t<this.items.length;t++)this.drawItem(this.items[t],this.active===t);this.show()},n.prototype.drawItem=function(t,e){var i=document.createElement("li"),n=document.createElement("a");e&&(i.className+=" active"),n.innerHTML=t.string,i.appendChild(n),this.element.appendChild(i),i.addEventListener("mousedown",function(){this.selectingListItem=!0}.bind(this)),i.addEventListener("mouseup",function(){this.handleMouseUp.call(this,t)}.bind(this))},n.prototype.handleMouseUp=function(t){this.selectingListItem=!1,this.component.value(t.original),this.clear(),this.draw()},n.prototype.move=function(t){this.active=t,this.draw()},n.prototype.previous=function(){this.move(this.active<=0?this.items.length-1:this.active-1)},n.prototype.next=function(){this.move(this.active>=this.items.length-1?0:this.active+1)},n.prototype.drawError=function(t){var e=document.createElement("li");e.innerHTML=t,this.element.appendChild(e),this.show()},e.exports=n},{}],10:[function(t,e,i){"use strict";var n=t("xtend"),s=t("fuzzy"),r=t("./list"),o=function(t,e,i){return i=i||{},this.options=n({minLength:2,limit:5,filter:!0,hideOnBlur:!0,noInitialSelection:!0},i),this.el=t,this.data=e||[],this.list=new r(this),this.query="",this.selected=null,this.list.draw(),this.el.addEventListener("keyup",function(t){this.handleKeyUp(t.keyCode,t)}.bind(this),!1),this.el.addEventListener("keydown",function(t){this.handleKeyDown(t)}.bind(this)),this.el.addEventListener("focus",function(){this.handleFocus()}.bind(this)),this.el.addEventListener("blur",function(){this.handleBlur()}.bind(this)),this.el.addEventListener("paste",function(t){this.handlePaste(t)}.bind(this)),this.render=this.options.render?this.options.render.bind(this):this.render.bind(this),this.getItemValue=this.options.getItemValue?this.options.getItemValue.bind(this):this.getItemValue.bind(this),this};o.prototype.handleKeyUp=function(t,e){if(40!==t&&38!==t&&27!==t&&9!==t)return 13===t?void(this.list.items[this.list.active]&&(this.list.handleMouseUp(this.list.items[this.list.active]),e.stopPropagation())):void this.handleInputChange(this.el.value)},o.prototype.handleKeyDown=function(t){switch(t.keyCode){case 13:this.list.active>=0&&(this.list.selectingListItem=!0);break;case 9:this.list.isEmpty()||(this.list.isVisible()&&t.preventDefault(),this.value(this.list.active>=0?this.list.items[this.list.active].original:null),this.list.hide());break;case 27:this.list.isEmpty()||this.list.hide();break;case 38:this.list.previous();break;case 40:this.list.next()}},o.prototype.handleBlur=function(){!this.list.selectingListItem&&this.options.hideOnBlur&&this.list.hide()},o.prototype.handlePaste=function(t){if(t.clipboardData)this.handleInputChange(t.clipboardData.getData("Text"));else{var e=this;setTimeout(function(){e.handleInputChange(t.target.value)},100)}},o.prototype.handleInputChange=function(t){if(this.query=this.normalize(t),this.list.clear(),this.query.length<this.options.minLength)return void this.list.draw();this.getCandidates(function(t){for(var e=0;e<t.length&&(this.list.add(t[e]),e!==this.options.limit-1);e++);this.list.draw()}.bind(this))},o.prototype.handleFocus=function(){this.list.isEmpty()||this.list.show(),this.list.selectingListItem=!1},o.prototype.update=function(t){this.data=t,this.handleKeyUp()},o.prototype.clear=function(){this.data=[],this.list.clear()},o.prototype.normalize=function(t){return t=t.toLowerCase()},o.prototype.match=function(t,e){return t.indexOf(e)>-1},o.prototype.value=function(t){if(this.selected=t,this.el.value=this.getItemValue(t||{place_name:this.query}),document.createEvent){var e=document.createEvent("HTMLEvents");e.initEvent("change",!0,!1),this.el.dispatchEvent(e)}else this.el.fireEvent("onchange")},o.prototype.getCandidates=function(t){var e,i={pre:"<strong>",post:"</strong>",extract:function(t){return this.getItemValue(t)}.bind(this)};this.options.filter?(e=s.filter(this.query,this.data,i),e=e.map(function(t){return{original:t.original,string:this.render(t.original,t.string)}}.bind(this))):e=this.data.map(function(t){return{original:t,string:this.render(t)}}.bind(this)),t(e)},o.prototype.getItemValue=function(t){return t},o.prototype.render=function(t,e){if(e)return e;for(var i=t.original?this.getItemValue(t.original):this.getItemValue(t),n=this.normalize(i),s=n.lastIndexOf(this.query);s>-1;){var r=s+this.query.length;i=i.slice(0,s)+"<strong>"+i.slice(s,r)+"</strong>"+i.slice(r),s=n.slice(0,s).lastIndexOf(this.query)}return i},o.prototype.renderError=function(t){this.list.drawError(t)},e.exports=o},{"./list":9,fuzzy:5,xtend:11}],11:[function(t,e,i){function n(){for(var t={},e=0;e<arguments.length;e++){var i=arguments[e];for(var n in i)s.call(i,n)&&(t[n]=i[n])}return t}e.exports=n;var s=Object.prototype.hasOwnProperty},{}]},{},[2])(2)});
</script>
<script>var MapboxGLGlobeMinimap=function(){"use strict";class t{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let e=0;for(let r=0;r<this._n&&r<32;r++){const i=n[r],o=t+i,u=Math.abs(t)<Math.abs(i)?t-(o-i):i-(o-t);u&&(n[e++]=u),t=o}return n[e]=t,this._n=e+1,this}valueOf(){const t=this._partials;let n,e,r,i=this._n,o=0;if(i>0){for(o=t[--i];i>0&&(n=o,e=t[--i],o=n+e,r=e-(o-n),!r););i>0&&(r<0&&t[i-1]<0||r>0&&t[i-1]>0)&&(e=2*r,n=o+e,e==n-o&&(o=n))}return o}}function n(t){return Array.from(function*(t){for(const n of t)yield*n}(t))}var e={value:()=>{}};function r(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new i(r)}function i(t){this._=t}function o(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function u(t,n,r){for(var i=0,o=t.length;i<o;++i)if(t[i].name===n){t[i]=e,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=r&&t.push({name:n,value:r}),t}i.prototype=r.prototype={constructor:i,on:function(t,n){var e,r,i=this._,a=(r=i,(t+"").trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");if(e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))),l=-1,s=a.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++l<s;)if(e=(t=a[l]).type)i[e]=u(i[e],t.name,n);else if(null==n)for(e in i)i[e]=u(i[e],t.name,null);return this}for(;++l<s;)if((e=(t=a[l]).type)&&(e=o(i[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new i(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var a="http://www.w3.org/1999/xhtml",l={svg:"http://www.w3.org/2000/svg",xhtml:a,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function s(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),l.hasOwnProperty(n)?{space:l[n],local:t}:t}function c(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===a&&n.documentElement.namespaceURI===a?n.createElement(t):n.createElementNS(e,t)}}function f(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function h(t){var n=s(t);return(n.local?f:c)(n)}function p(){}function d(t){return null==t?p:function(){return this.querySelector(t)}}function v(){return[]}function g(t){return null==t?v:function(){return this.querySelectorAll(t)}}function y(t){return function(){return null==(n=t.apply(this,arguments))?[]:Array.isArray(n)?n:Array.from(n);var n}}function _(t){return function(){return this.matches(t)}}function m(t){return function(n){return n.matches(t)}}var w=Array.prototype.find;function b(){return this.firstElementChild}var x=Array.prototype.filter;function E(){return Array.from(this.children)}function S(t){return new Array(t.length)}function N(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function k(t,n,e,r,i,o){for(var u,a=0,l=n.length,s=o.length;a<s;++a)(u=n[a])?(u.__data__=o[a],r[a]=u):e[a]=new N(t,o[a]);for(;a<l;++a)(u=n[a])&&(i[a]=u)}function M(t,n,e,r,i,o,u){var a,l,s,c=new Map,f=n.length,h=o.length,p=new Array(f);for(a=0;a<f;++a)(l=n[a])&&(p[a]=s=u.call(l,l.__data__,a,n)+"",c.has(s)?i[a]=l:c.set(s,l));for(a=0;a<h;++a)s=u.call(t,o[a],a,o)+"",(l=c.get(s))?(r[a]=l,l.__data__=o[a],c.delete(s)):e[a]=new N(t,o[a]);for(a=0;a<f;++a)(l=n[a])&&c.get(p[a])===l&&(i[a]=l)}function A(t){return t.__data__}function $(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function C(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function P(t){return function(){this.removeAttribute(t)}}function j(t){return function(){this.removeAttributeNS(t.space,t.local)}}function R(t,n){return function(){this.setAttribute(t,n)}}function T(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function q(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function O(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function L(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function X(t){return function(){this.style.removeProperty(t)}}function z(t,n,e){return function(){this.style.setProperty(t,n,e)}}function D(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function H(t,n){return t.style.getPropertyValue(n)||L(t).getComputedStyle(t,null).getPropertyValue(n)}function I(t){return function(){delete this[t]}}function Y(t,n){return function(){this[t]=n}}function B(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function F(t){return t.trim().split(/^|\s+/)}function V(t){return t.classList||new G(t)}function G(t){this._node=t,this._names=F(t.getAttribute("class")||"")}function U(t,n){for(var e=V(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function Z(t,n){for(var e=V(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function W(t){return function(){U(this,t)}}function K(t){return function(){Z(this,t)}}function J(t,n){return function(){(n.apply(this,arguments)?U:Z)(this,t)}}function Q(){this.textContent=""}function tt(t){return function(){this.textContent=t}}function nt(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function et(){this.innerHTML=""}function rt(t){return function(){this.innerHTML=t}}function it(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function ot(){this.nextSibling&&this.parentNode.appendChild(this)}function ut(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function at(){return null}function lt(){var t=this.parentNode;t&&t.removeChild(this)}function st(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function ct(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function ft(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.options);++i?n.length=i:delete this.__on}}}function ht(t,n,e){return function(){var r,i=this.__on,o=function(t){return function(n){t.call(this,n,this.__data__)}}(n);if(i)for(var u=0,a=i.length;u<a;++u)if((r=i[u]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=e),void(r.value=n);this.addEventListener(t.type,o,e),r={type:t.type,name:t.name,value:n,listener:o,options:e},i?i.push(r):this.__on=[r]}}function pt(t,n,e){var r=L(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function dt(t,n){return function(){return pt(this,t,n)}}function vt(t,n){return function(){return pt(this,t,n.apply(this,arguments))}}N.prototype={constructor:N,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},G.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var gt=[null];function yt(t,n){this._groups=t,this._parents=n}function _t(){return new yt([[document.documentElement]],gt)}function mt(t){return"string"==typeof t?new yt([[document.querySelector(t)]],[document.documentElement]):new yt([[t]],gt)}function wt(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function bt(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function xt(){}yt.prototype=_t.prototype={constructor:yt,select:function(t){"function"!=typeof t&&(t=d(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u,a=n[i],l=a.length,s=r[i]=new Array(l),c=0;c<l;++c)(o=a[c])&&(u=t.call(o,o.__data__,c,a))&&("__data__"in o&&(u.__data__=o.__data__),s[c]=u);return new yt(r,this._parents)},selectAll:function(t){t="function"==typeof t?y(t):g(t);for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var u,a=n[o],l=a.length,s=0;s<l;++s)(u=a[s])&&(r.push(t.call(u,u.__data__,s,a)),i.push(u));return new yt(r,i)},selectChild:function(t){return this.select(null==t?b:function(t){return function(){return w.call(this.children,t)}}("function"==typeof t?t:m(t)))},selectChildren:function(t){return this.selectAll(null==t?E:function(t){return function(){return x.call(this.children,t)}}("function"==typeof t?t:m(t)))},filter:function(t){"function"!=typeof t&&(t=_(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,l=r[i]=[],s=0;s<a;++s)(o=u[s])&&t.call(o,o.__data__,s,u)&&l.push(o);return new yt(r,this._parents)},data:function(t,n){if(!arguments.length)return Array.from(this,A);var e,r=n?M:k,i=this._parents,o=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var u=o.length,a=new Array(u),l=new Array(u),s=new Array(u),c=0;c<u;++c){var f=i[c],h=o[c],p=h.length,d=$(t.call(f,f&&f.__data__,c,i)),v=d.length,g=l[c]=new Array(v),y=a[c]=new Array(v);r(f,h,g,y,s[c]=new Array(p),d,n);for(var _,m,w=0,b=0;w<v;++w)if(_=g[w]){for(w>=b&&(b=w+1);!(m=y[b])&&++b<v;);_._next=m||null}}return(a=new yt(a,i))._enter=l,a._exit=s,a},enter:function(){return new yt(this._enter||this._groups.map(S),this._parents)},exit:function(){return new yt(this._exit||this._groups.map(S),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=n&&(i=n(i))&&(i=i.selection()),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,o=r.length,u=Math.min(i,o),a=new Array(i),l=0;l<u;++l)for(var s,c=e[l],f=r[l],h=c.length,p=a[l]=new Array(h),d=0;d<h;++d)(s=c[d]||f[d])&&(p[d]=s);for(;l<i;++l)a[l]=e[l];return new yt(a,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,u=i[o];--o>=0;)(r=i[o])&&(u&&4^r.compareDocumentPosition(u)&&u.parentNode.insertBefore(r,u),u=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=C);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var u,a=e[o],l=a.length,s=i[o]=new Array(l),c=0;c<l;++c)(u=a[c])&&(s[c]=u);s.sort(n)}return new yt(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var u=r[i];if(u)return u}return null},size:function(){let t=0;for(const n of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],u=0,a=o.length;u<a;++u)(i=o[u])&&t.call(i,i.__data__,u,o);return this},attr:function(t,n){var e=s(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?j:P:"function"==typeof n?e.local?O:q:e.local?T:R)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?X:"function"==typeof n?D:z)(t,n,null==e?"":e)):H(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?I:"function"==typeof n?B:Y)(t,n)):this.node()[t]},classed:function(t,n){var e=F(t+"");if(arguments.length<2){for(var r=V(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?J:n?W:K)(e,n))},text:function(t){return arguments.length?this.each(null==t?Q:("function"==typeof t?nt:tt)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?et:("function"==typeof t?it:rt)(t)):this.node().innerHTML},raise:function(){return this.each(ot)},lower:function(){return this.each(ut)},append:function(t){var n="function"==typeof t?t:h(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:h(t),r=null==n?at:"function"==typeof n?n:d(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(lt)},clone:function(t){return this.select(t?ct:st)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=function(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}(t+""),u=o.length;if(!(arguments.length<2)){for(a=n?ht:ft,r=0;r<u;++r)this.each(a(o[r],n,e));return this}var a=this.node().__on;if(a)for(var l,s=0,c=a.length;s<c;++s)for(r=0,l=a[s];r<u;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(t,n){return this.each(("function"==typeof n?vt:dt)(t,n))},[Symbol.iterator]:function*(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r,i=t[n],o=0,u=i.length;o<u;++o)(r=i[o])&&(yield r)}};var Et=.7,St=1/Et,Nt="\\s*([+-]?\\d+)\\s*",kt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Mt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",At=/^#([0-9a-f]{3,8})$/,$t=new RegExp(`^rgb\\(${Nt},${Nt},${Nt}\\)$`),Ct=new RegExp(`^rgb\\(${Mt},${Mt},${Mt}\\)$`),Pt=new RegExp(`^rgba\\(${Nt},${Nt},${Nt},${kt}\\)$`),jt=new RegExp(`^rgba\\(${Mt},${Mt},${Mt},${kt}\\)$`),Rt=new RegExp(`^hsl\\(${kt},${Mt},${Mt}\\)$`),Tt=new RegExp(`^hsla\\(${kt},${Mt},${Mt},${kt}\\)$`),qt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ot(){return this.rgb().formatHex()}function Lt(){return this.rgb().formatRgb()}function Xt(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=At.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?zt(n):3===e?new It(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?Dt(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?Dt(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=$t.exec(t))?new It(n[1],n[2],n[3],1):(n=Ct.exec(t))?new It(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Pt.exec(t))?Dt(n[1],n[2],n[3],n[4]):(n=jt.exec(t))?Dt(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Rt.exec(t))?Ut(n[1],n[2]/100,n[3]/100,1):(n=Tt.exec(t))?Ut(n[1],n[2]/100,n[3]/100,n[4]):qt.hasOwnProperty(t)?zt(qt[t]):"transparent"===t?new It(NaN,NaN,NaN,0):null}function zt(t){return new It(t>>16&255,t>>8&255,255&t,1)}function Dt(t,n,e,r){return r<=0&&(t=n=e=NaN),new It(t,n,e,r)}function Ht(t,n,e,r){return 1===arguments.length?((i=t)instanceof xt||(i=Xt(i)),i?new It((i=i.rgb()).r,i.g,i.b,i.opacity):new It):new It(t,n,e,null==r?1:r);var i}function It(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function Yt(){return`#${Gt(this.r)}${Gt(this.g)}${Gt(this.b)}`}function Bt(){const t=Ft(this.opacity);return`${1===t?"rgb(":"rgba("}${Vt(this.r)}, ${Vt(this.g)}, ${Vt(this.b)}${1===t?")":`, ${t})`}`}function Ft(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Vt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Gt(t){return((t=Vt(t))<16?"0":"")+t.toString(16)}function Ut(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Wt(t,n,e,r)}function Zt(t){if(t instanceof Wt)return new Wt(t.h,t.s,t.l,t.opacity);if(t instanceof xt||(t=Xt(t)),!t)return new Wt;if(t instanceof Wt)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),u=NaN,a=o-i,l=(o+i)/2;return a?(u=n===o?(e-r)/a+6*(e<r):e===o?(r-n)/a+2:(n-e)/a+4,a/=l<.5?o+i:2-o-i,u*=60):a=l>0&&l<1?0:u,new Wt(u,a,l,t.opacity)}function Wt(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Kt(t){return(t=(t||0)%360)<0?t+360:t}function Jt(t){return Math.max(0,Math.min(1,t||0))}function Qt(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}wt(xt,Xt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Ot,formatHex:Ot,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Zt(this).formatHsl()},formatRgb:Lt,toString:Lt}),wt(It,Ht,bt(xt,{brighter(t){return t=null==t?St:Math.pow(St,t),new It(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?Et:Math.pow(Et,t),new It(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new It(Vt(this.r),Vt(this.g),Vt(this.b),Ft(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Yt,formatHex:Yt,formatHex8:function(){return`#${Gt(this.r)}${Gt(this.g)}${Gt(this.b)}${Gt(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Bt,toString:Bt})),wt(Wt,(function(t,n,e,r){return 1===arguments.length?Zt(t):new Wt(t,n,e,null==r?1:r)}),bt(xt,{brighter(t){return t=null==t?St:Math.pow(St,t),new Wt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?Et:Math.pow(Et,t),new Wt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new It(Qt(t>=240?t-240:t+120,i,r),Qt(t,i,r),Qt(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Wt(Kt(this.h),Jt(this.s),Jt(this.l),Ft(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ft(this.opacity);return`${1===t?"hsl(":"hsla("}${Kt(this.h)}, ${100*Jt(this.s)}%, ${100*Jt(this.l)}%${1===t?")":`, ${t})`}`}}));var tn=t=>()=>t;function nn(t){return 1==(t=+t)?en:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):tn(isNaN(n)?e:n)}}function en(t,n){var e=n-t;return e?function(t,n){return function(e){return t+e*n}}(t,e):tn(isNaN(t)?n:t)}var rn=function t(n){var e=nn(n);function r(t,n){var r=e((t=Ht(t)).r,(n=Ht(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),u=en(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=u(n),t+""}}return r.gamma=t,r}(1);function on(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,i=n.slice();return function(o){for(e=0;e<r;++e)i[e]=t[e]*(1-o)+n[e]*o;return i}}function un(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),u=new Array(r);for(e=0;e<i;++e)o[e]=pn(t[e],n[e]);for(;e<r;++e)u[e]=n[e];return function(t){for(e=0;e<i;++e)u[e]=o[e](t);return u}}function an(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function ln(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function sn(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=pn(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}var cn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fn=new RegExp(cn.source,"g");function hn(t,n){var e,r,i,o=cn.lastIndex=fn.lastIndex=0,u=-1,a=[],l=[];for(t+="",n+="";(e=cn.exec(t))&&(r=fn.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),a[u]?a[u]+=i:a[++u]=i),(e=e[0])===(r=r[0])?a[u]?a[u]+=r:a[++u]=r:(a[++u]=null,l.push({i:u,x:ln(e,r)})),o=fn.lastIndex;return o<n.length&&(i=n.slice(o),a[u]?a[u]+=i:a[++u]=i),a.length<2?l[0]?function(t){return function(n){return t(n)+""}}(l[0].x):function(t){return function(){return t}}(n):(n=l.length,function(t){for(var e,r=0;r<n;++r)a[(e=l[r]).i]=e.x(t);return a.join("")})}function pn(t,n){var e,r,i=typeof n;return null==n||"boolean"===i?tn(n):("number"===i?ln:"string"===i?(e=Xt(n))?(n=e,rn):hn:n instanceof Xt?rn:n instanceof Date?an:(r=n,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(n)?un:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?sn:ln:on))(t,n)}var dn,vn=180/Math.PI,gn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function yn(t,n,e,r,i,o){var u,a,l;return(u=Math.sqrt(t*t+n*n))&&(t/=u,n/=u),(l=t*e+n*r)&&(e-=t*l,r-=n*l),(a=Math.sqrt(e*e+r*r))&&(e/=a,r/=a,l/=a),t*r<n*e&&(t=-t,n=-n,l=-l,u=-u),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*vn,skewX:Math.atan(l)*vn,scaleX:u,scaleY:a}}function _n(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(o,u){var a=[],l=[];return o=t(o),u=t(u),function(t,r,i,o,u,a){if(t!==i||r!==o){var l=u.push("translate(",null,n,null,e);a.push({i:l-4,x:ln(t,i)},{i:l-2,x:ln(r,o)})}else(i||o)&&u.push("translate("+i+n+o+e)}(o.translateX,o.translateY,u.translateX,u.translateY,a,l),function(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(i(e)+"rotate(",null,r)-2,x:ln(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(o.rotate,u.rotate,a,l),function(t,n,e,o){t!==n?o.push({i:e.push(i(e)+"skewX(",null,r)-2,x:ln(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(o.skewX,u.skewX,a,l),function(t,n,e,r,o,u){if(t!==e||n!==r){var a=o.push(i(o)+"scale(",null,",",null,")");u.push({i:a-4,x:ln(t,e)},{i:a-2,x:ln(n,r)})}else 1===e&&1===r||o.push(i(o)+"scale("+e+","+r+")")}(o.scaleX,o.scaleY,u.scaleX,u.scaleY,a,l),o=u=null,function(t){for(var n,e=-1,r=l.length;++e<r;)a[(n=l[e]).i]=n.x(t);return a.join("")}}}var mn,wn,bn=_n((function(t){const n=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?gn:yn(n.a,n.b,n.c,n.d,n.e,n.f)}),"px, ","px)","deg)"),xn=_n((function(t){return null==t?gn:(dn||(dn=document.createElementNS("http://www.w3.org/2000/svg","g")),dn.setAttribute("transform",t),(t=dn.transform.baseVal.consolidate())?yn((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):gn)}),", ",")",")"),En=0,Sn=0,Nn=0,kn=1e3,Mn=0,An=0,$n=0,Cn="object"==typeof performance&&performance.now?performance:Date,Pn="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function jn(){return An||(Pn(Rn),An=Cn.now()+$n)}function Rn(){An=0}function Tn(){this._call=this._time=this._next=null}function qn(t,n,e){var r=new Tn;return r.restart(t,n,e),r}function On(){An=(Mn=Cn.now())+$n,En=Sn=0;try{!function(){jn(),++En;for(var t,n=mn;n;)(t=An-n._time)>=0&&n._call.call(void 0,t),n=n._next;--En}()}finally{En=0,function(){var t,n,e=mn,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:mn=n);wn=t,Xn(r)}(),An=0}}function Ln(){var t=Cn.now(),n=t-Mn;n>kn&&($n-=n,Mn=t)}function Xn(t){En||(Sn&&(Sn=clearTimeout(Sn)),t-An>24?(t<1/0&&(Sn=setTimeout(On,t-Cn.now()-$n)),Nn&&(Nn=clearInterval(Nn))):(Nn||(Mn=Cn.now(),Nn=setInterval(Ln,kn)),En=1,Pn(On)))}function zn(t,n,e){var r=new Tn;return n=null==n?0:+n,r.restart((e=>{r.stop(),t(e+n)}),n,e),r}Tn.prototype=qn.prototype={constructor:Tn,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?jn():+e)+(null==n?0:+n),this._next||wn===this||(wn?wn._next=this:mn=this,wn=this),this._call=t,this._time=e,Xn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Xn())}};var Dn=r("start","end","cancel","interrupt"),Hn=[],In=0,Yn=1,Bn=2,Fn=3,Vn=4,Gn=5,Un=6;function Zn(t,n,e,r,i,o){var u=t.__transition;if(u){if(e in u)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function o(t){e.state=Yn,e.timer.restart(u,e.delay,e.time),e.delay<=t&&u(t-e.delay)}function u(o){var s,c,f,h;if(e.state!==Yn)return l();for(s in i)if((h=i[s]).name===e.name){if(h.state===Fn)return zn(u);h.state===Vn?(h.state=Un,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[s]):+s<n&&(h.state=Un,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[s])}if(zn((function(){e.state===Fn&&(e.state=Vn,e.timer.restart(a,e.delay,e.time),a(o))})),e.state=Bn,e.on.call("start",t,t.__data__,e.index,e.group),e.state===Bn){for(e.state=Fn,r=new Array(f=e.tween.length),s=0,c=-1;s<f;++s)(h=e.tween[s].value.call(t,t.__data__,e.index,e.group))&&(r[++c]=h);r.length=c+1}}function a(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(l),e.state=Gn,1),o=-1,u=r.length;++o<u;)r[o].call(t,i);e.state===Gn&&(e.on.call("end",t,t.__data__,e.index,e.group),l())}function l(){for(var r in e.state=Un,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=qn(o,0,e.time)}(t,e,{name:n,index:r,group:i,on:Dn,tween:Hn,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:In})}function Wn(t,n){var e=Jn(t,n);if(e.state>In)throw new Error("too late; already scheduled");return e}function Kn(t,n){var e=Jn(t,n);if(e.state>Fn)throw new Error("too late; already running");return e}function Jn(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function Qn(t,n){var e,r;return function(){var i=Kn(this,t),o=i.tween;if(o!==e)for(var u=0,a=(r=e=o).length;u<a;++u)if(r[u].name===n){(r=r.slice()).splice(u,1);break}i.tween=r}}function te(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=Kn(this,t),u=o.tween;if(u!==r){i=(r=u).slice();for(var a={name:n,value:e},l=0,s=i.length;l<s;++l)if(i[l].name===n){i[l]=a;break}l===s&&i.push(a)}o.tween=i}}function ne(t,n,e){var r=t._id;return t.each((function(){var t=Kn(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return Jn(t,r).value[n]}}function ee(t,n){var e;return("number"==typeof n?ln:n instanceof Xt?rn:(e=Xt(n))?(n=e,rn):hn)(t,n)}function re(t){return function(){this.removeAttribute(t)}}function ie(t){return function(){this.removeAttributeNS(t.space,t.local)}}function oe(t,n,e){var r,i,o=e+"";return function(){var u=this.getAttribute(t);return u===o?null:u===r?i:i=n(r=u,e)}}function ue(t,n,e){var r,i,o=e+"";return function(){var u=this.getAttributeNS(t.space,t.local);return u===o?null:u===r?i:i=n(r=u,e)}}function ae(t,n,e){var r,i,o;return function(){var u,a,l=e(this);if(null!=l)return(u=this.getAttribute(t))===(a=l+"")?null:u===r&&a===i?o:(i=a,o=n(r=u,l));this.removeAttribute(t)}}function le(t,n,e){var r,i,o;return function(){var u,a,l=e(this);if(null!=l)return(u=this.getAttributeNS(t.space,t.local))===(a=l+"")?null:u===r&&a===i?o:(i=a,o=n(r=u,l));this.removeAttributeNS(t.space,t.local)}}function se(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&function(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}(t,i)),e}return i._value=n,i}function ce(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&function(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}(t,i)),e}return i._value=n,i}function fe(t,n){return function(){Wn(this,t).delay=+n.apply(this,arguments)}}function he(t,n){return n=+n,function(){Wn(this,t).delay=n}}function pe(t,n){return function(){Kn(this,t).duration=+n.apply(this,arguments)}}function de(t,n){return n=+n,function(){Kn(this,t).duration=n}}var ve=_t.prototype.constructor;function ge(t){return function(){this.style.removeProperty(t)}}var ye=0;function _e(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function me(t){return _t().transition(t)}function we(){return++ye}var be=_t.prototype;_e.prototype=me.prototype={constructor:_e,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=d(t));for(var r=this._groups,i=r.length,o=new Array(i),u=0;u<i;++u)for(var a,l,s=r[u],c=s.length,f=o[u]=new Array(c),h=0;h<c;++h)(a=s[h])&&(l=t.call(a,a.__data__,h,s))&&("__data__"in a&&(l.__data__=a.__data__),f[h]=l,Zn(f[h],n,e,h,f,Jn(a,e)));return new _e(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=g(t));for(var r=this._groups,i=r.length,o=[],u=[],a=0;a<i;++a)for(var l,s=r[a],c=s.length,f=0;f<c;++f)if(l=s[f]){for(var h,p=t.call(l,l.__data__,f,s),d=Jn(l,e),v=0,y=p.length;v<y;++v)(h=p[v])&&Zn(h,n,e,v,p,d);o.push(p),u.push(l)}return new _e(o,u,n,e)},selectChild:be.selectChild,selectChildren:be.selectChildren,filter:function(t){"function"!=typeof t&&(t=_(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,l=r[i]=[],s=0;s<a;++s)(o=u[s])&&t.call(o,o.__data__,s,u)&&l.push(o);return new _e(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var l,s=n[a],c=e[a],f=s.length,h=u[a]=new Array(f),p=0;p<f;++p)(l=s[p]||c[p])&&(h[p]=l);for(;a<r;++a)u[a]=n[a];return new _e(u,this._parents,this._name,this._id)},selection:function(){return new ve(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=we(),r=this._groups,i=r.length,o=0;o<i;++o)for(var u,a=r[o],l=a.length,s=0;s<l;++s)if(u=a[s]){var c=Jn(u,n);Zn(u,t,e,s,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new _e(r,this._parents,t,e)},call:be.call,nodes:be.nodes,node:be.node,size:be.size,empty:be.empty,each:be.each,on:function(t,n){var e=this._id;return arguments.length<2?Jn(this.node(),e).on.on(t):this.each(function(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?Wn:Kn;return function(){var u=o(this,t),a=u.on;a!==r&&(i=(r=a).copy()).on(n,e),u.on=i}}(e,t,n))},attr:function(t,n){var e=s(t),r="transform"===e?xn:ee;return this.attrTween(t,"function"==typeof n?(e.local?le:ae)(e,r,ne(this,"attr."+t,n)):null==n?(e.local?ie:re)(e):(e.local?ue:oe)(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=s(t);return this.tween(e,(r.local?se:ce)(r,n))},style:function(t,n,e){var r="transform"==(t+="")?bn:ee;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=H(this,t),u=(this.style.removeProperty(t),H(this,t));return o===u?null:o===e&&u===r?i:i=n(e=o,r=u)}}(t,r)).on("end.style."+t,ge(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var r,i,o;return function(){var u=H(this,t),a=e(this),l=a+"";return null==a&&(this.style.removeProperty(t),l=a=H(this,t)),u===l?null:u===r&&l===i?o:(i=l,o=n(r=u,a))}}(t,r,ne(this,"style."+t,n))).each(function(t,n){var e,r,i,o,u="style."+n,a="end."+u;return function(){var l=Kn(this,t),s=l.on,c=null==l.value[u]?o||(o=ge(n)):void 0;s===e&&i===c||(r=(e=s).copy()).on(a,i=c),l.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,i,o=e+"";return function(){var u=H(this,t);return u===o?null:u===r?i:i=n(r=u,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,function(t,n,e){var r,i;function o(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&function(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}(t,o,e)),r}return o._value=n,o}(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(ne(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,function(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&function(t){return function(n){this.textContent=t.call(this,n)}}(r)),n}return r._value=t,r}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=Jn(this.node(),e).tween,o=0,u=i.length;o<u;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?Qn:te)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?fe:he)(n,t)):Jn(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?pe:de)(n,t)):Jn(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(t,n){if("function"!=typeof n)throw new Error;return function(){Kn(this,t).ease=n}}(n,t)):Jn(this.node(),n).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,n){return function(){var e=n.apply(this,arguments);if("function"!=typeof e)throw new Error;Kn(this,t).ease=e}}(this._id,t))},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise((function(o,u){var a={value:u},l={value:function(){0==--i&&o()}};e.each((function(){var e=Kn(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(a),n._.interrupt.push(a),n._.end.push(l)),e.on=n})),0===i&&o()}))},[Symbol.iterator]:be[Symbol.iterator]};var xe={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Ee(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}_t.prototype.interrupt=function(t){return this.each((function(){!function(t,n){var e,r,i,o=t.__transition,u=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>Bn&&e.state<Gn,e.state=Un,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[i]):u=!1;u&&delete t.__transition}}(this,t)}))},_t.prototype.transition=function(t){var n,e;t instanceof _e?(n=t._id,t=t._name):(n=we(),(e=xe).time=jn(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var u,a=r[o],l=a.length,s=0;s<l;++s)(u=a[s])&&Zn(u,t,n,s,a,e||Ee(u,n));return new _e(r,this._parents,t,n)};var Se=1e-6,Ne=1e-12,ke=Math.PI,Me=ke/2,Ae=ke/4,$e=2*ke,Ce=180/ke,Pe=ke/180,je=Math.abs,Re=Math.atan,Te=Math.atan2,qe=Math.cos,Oe=Math.sin,Le=Math.sign||function(t){return t>0?1:t<0?-1:0},Xe=Math.sqrt;function ze(t){return t>1?Me:t<-1?-Me:Math.asin(t)}function De(){}function He(t,n){t&&Ye.hasOwnProperty(t.type)&&Ye[t.type](t,n)}var Ie={Feature:function(t,n){He(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)He(e[r].geometry,n)}},Ye={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){Be(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Be(e[r],n,0)},Polygon:function(t,n){Fe(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Fe(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)He(e[r],n)}};function Be(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function Fe(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)Be(t[e],n,1);n.polygonEnd()}function Ve(t,n){t&&Ie.hasOwnProperty(t.type)?Ie[t.type](t,n):He(t,n)}function Ge(t){return[Te(t[1],t[0]),ze(t[2])]}function Ue(t){var n=t[0],e=t[1],r=qe(e);return[r*qe(n),r*Oe(n),Oe(e)]}function Ze(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function We(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function Ke(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function Je(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function Qe(t){var n=Xe(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function tr(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e}function nr(t,n){return je(t)>ke&&(t-=Math.round(t/$e)*$e),[t,n]}function er(t){return function(n,e){return je(n+=t)>ke&&(n-=Math.round(n/$e)*$e),[n,e]}}function rr(t){var n=er(t);return n.invert=er(-t),n}function ir(t,n){var e=qe(t),r=Oe(t),i=qe(n),o=Oe(n);function u(t,n){var u=qe(n),a=qe(t)*u,l=Oe(t)*u,s=Oe(n),c=s*e+a*r;return[Te(l*i-c*o,a*e-s*r),ze(c*i+l*o)]}return u.invert=function(t,n){var u=qe(n),a=qe(t)*u,l=Oe(t)*u,s=Oe(n),c=s*i-l*o;return[Te(l*i+s*o,a*e+c*r),ze(c*e-a*r)]},u}function or(t,n){(n=Ue(n))[0]-=t,Qe(n);var e,r=(e=-n[1])>1?0:e<-1?ke:Math.acos(e);return((-n[2]<0?-r:r)+$e-Se)%$e}function ur(){var t,n=[];return{point:function(n,e,r){t.push([n,e,r])},lineStart:function(){n.push(t=[])},lineEnd:De,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function ar(t,n){return je(t[0]-n[0])<Se&&je(t[1]-n[1])<Se}function lr(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function sr(t,n,e,r,i){var o,u,a=[],l=[];if(t.forEach((function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],u=t[n];if(ar(r,u)){if(!r[2]&&!u[2]){for(i.lineStart(),o=0;o<n;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}u[0]+=2*Se}a.push(e=new lr(r,t,null,!0)),l.push(e.o=new lr(r,null,e,!1)),a.push(e=new lr(u,t,null,!1)),l.push(e.o=new lr(u,null,e,!0))}})),a.length){for(l.sort(n),cr(a),cr(l),o=0,u=l.length;o<u;++o)l[o].e=e=!e;for(var s,c,f=a[0];;){for(var h=f,p=!0;h.v;)if((h=h.n)===f)return;s=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(o=0,u=s.length;o<u;++o)i.point((c=s[o])[0],c[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(s=h.p.z,o=s.length-1;o>=0;--o)i.point((c=s[o])[0],c[1]);else r(h.x,h.p.x,-1,i);h=h.p}s=(h=h.o).z,p=!p}while(!h.v);i.lineEnd()}}}function cr(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}function fr(t){return je(t[0])<=ke?t[0]:Le(t[0])*((je(t[0])+ke)%$e-ke)}function hr(e,r,i,o){return function(u){var a,l,s,c=r(u),f=ur(),h=r(f),p=!1,d={point:v,lineStart:y,lineEnd:_,polygonStart:function(){d.point=m,d.lineStart=w,d.lineEnd=b,l=[],a=[]},polygonEnd:function(){d.point=v,d.lineStart=y,d.lineEnd=_,l=n(l);var e=function(n,e){var r=fr(e),i=e[1],o=Oe(i),u=[Oe(r),-qe(r),0],a=0,l=0,s=new t;1===o?i=Me+Se:-1===o&&(i=-Me-Se);for(var c=0,f=n.length;c<f;++c)if(p=(h=n[c]).length)for(var h,p,d=h[p-1],v=fr(d),g=d[1]/2+Ae,y=Oe(g),_=qe(g),m=0;m<p;++m,v=b,y=E,_=S,d=w){var w=h[m],b=fr(w),x=w[1]/2+Ae,E=Oe(x),S=qe(x),N=b-v,k=N>=0?1:-1,M=k*N,A=M>ke,$=y*E;if(s.add(Te($*k*Oe(M),_*S+$*qe(M))),a+=A?N+k*$e:N,A^v>=r^b>=r){var C=We(Ue(d),Ue(w));Qe(C);var P=We(u,C);Qe(P);var j=(A^N>=0?-1:1)*ze(P[2]);(i>j||i===j&&(C[0]||C[1]))&&(l+=A^N>=0?1:-1)}}return(a<-Se||a<Se&&s<-Ne)^1&l}(a,o);l.length?(p||(u.polygonStart(),p=!0),sr(l,dr,e,i,u)):e&&(p||(u.polygonStart(),p=!0),u.lineStart(),i(null,null,1,u),u.lineEnd()),p&&(u.polygonEnd(),p=!1),l=a=null},sphere:function(){u.polygonStart(),u.lineStart(),i(null,null,1,u),u.lineEnd(),u.polygonEnd()}};function v(t,n){e(t,n)&&u.point(t,n)}function g(t,n){c.point(t,n)}function y(){d.point=g,c.lineStart()}function _(){d.point=v,c.lineEnd()}function m(t,n){s.push([t,n]),h.point(t,n)}function w(){h.lineStart(),s=[]}function b(){m(s[0][0],s[0][1]),h.lineEnd();var t,n,e,r,i=h.clean(),o=f.result(),c=o.length;if(s.pop(),a.push(s),s=null,c)if(1&i){if((n=(e=o[0]).length-1)>0){for(p||(u.polygonStart(),p=!0),u.lineStart(),t=0;t<n;++t)u.point((r=e[t])[0],r[1]);u.lineEnd()}}else c>1&&2&i&&o.push(o.pop().concat(o.shift())),l.push(o.filter(pr))}return d}}function pr(t){return t.length>1}function dr(t,n){return((t=t.x)[0]<0?t[1]-Me-Se:Me-t[1])-((n=n.x)[0]<0?n[1]-Me-Se:Me-n[1])}nr.invert=nr;var vr=hr((function(){return!0}),(function(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(o,u){var a=o>0?ke:-ke,l=je(o-e);je(l-ke)<Se?(t.point(e,r=(r+u)/2>0?Me:-Me),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),t.point(o,r),n=0):i!==a&&l>=ke&&(je(e-i)<Se&&(e-=i*Se),je(o-a)<Se&&(o-=a*Se),r=function(t,n,e,r){var i,o,u=Oe(t-e);return je(u)>Se?Re((Oe(n)*(o=qe(r))*Oe(e)-Oe(r)*(i=qe(n))*Oe(t))/(i*o*u)):(n+r)/2}(e,r,o,u),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),n=0),t.point(e=o,r=u),i=a},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}}),(function(t,n,e,r){var i;if(null==t)i=e*Me,r.point(-ke,i),r.point(0,i),r.point(ke,i),r.point(ke,0),r.point(ke,-i),r.point(0,-i),r.point(-ke,-i),r.point(-ke,0),r.point(-ke,i);else if(je(t[0]-n[0])>Se){var o=t[0]<n[0]?ke:-ke;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])}),[-ke,-Me]);function gr(t){var n=qe(t),e=2*Pe,r=n>0,i=je(n)>Se;function o(t,e){return qe(t)*qe(e)>n}function u(t,e,r){var i=[1,0,0],o=We(Ue(t),Ue(e)),u=Ze(o,o),a=o[0],l=u-a*a;if(!l)return!r&&t;var s=n*u/l,c=-n*a/l,f=We(i,o),h=Je(i,s);Ke(h,Je(o,c));var p=f,d=Ze(h,p),v=Ze(p,p),g=d*d-v*(Ze(h,h)-1);if(!(g<0)){var y=Xe(g),_=Je(p,(-d-y)/v);if(Ke(_,h),_=Ge(_),!r)return _;var m,w=t[0],b=e[0],x=t[1],E=e[1];b<w&&(m=w,w=b,b=m);var S=b-w,N=je(S-ke)<Se;if(!N&&E<x&&(m=x,x=E,E=m),N||S<Se?N?x+E>0^_[1]<(je(_[0]-w)<Se?x:E):x<=_[1]&&_[1]<=E:S>ke^(w<=_[0]&&_[0]<=b)){var k=Je(p,(-d+y)/v);return Ke(k,h),[_,Ge(k)]}}}function a(n,e){var i=r?t:ke-t,o=0;return n<-i?o|=1:n>i&&(o|=2),e<-i?o|=4:e>i&&(o|=8),o}return hr(o,(function(t){var n,e,l,s,c;return{lineStart:function(){s=l=!1,c=1},point:function(f,h){var p,d=[f,h],v=o(f,h),g=r?v?0:a(f,h):v?a(f+(f<0?ke:-ke),h):0;if(!n&&(s=l=v)&&t.lineStart(),v!==l&&(!(p=u(n,d))||ar(n,p)||ar(d,p))&&(d[2]=1),v!==l)c=0,v?(t.lineStart(),p=u(d,n),t.point(p[0],p[1])):(p=u(n,d),t.point(p[0],p[1],2),t.lineEnd()),n=p;else if(i&&n&&r^v){var y;g&e||!(y=u(d,n,!0))||(c=0,r?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1],3)))}!v||n&&ar(n,d)||t.point(d[0],d[1]),n=d,l=v,e=g},lineEnd:function(){l&&t.lineEnd(),n=null},clean:function(){return c|(s&&l)<<1}}}),(function(n,r,i,o){!function(t,n,e,r,i,o){if(e){var u=qe(n),a=Oe(n),l=r*e;null==i?(i=n+r*$e,o=n-l/2):(i=or(u,i),o=or(u,o),(r>0?i<o:i>o)&&(i+=r*$e));for(var s,c=i;r>0?c>o:c<o;c-=l)s=Ge([u,-a*qe(c),-a*Oe(c)]),t.point(s[0],s[1])}}(o,t,e,i,n,r)}),r?[0,-t]:[-ke,t-ke])}var yr=1e9,_r=-yr;function mr(t,e,r,i){function o(n,o){return t<=n&&n<=r&&e<=o&&o<=i}function u(n,o,u,l){var c=0,f=0;if(null==n||(c=a(n,u))!==(f=a(o,u))||s(n,o)<0^u>0)do{l.point(0===c||3===c?t:r,c>1?i:e)}while((c=(c+u+4)%4)!==f);else l.point(o[0],o[1])}function a(n,i){return je(n[0]-t)<Se?i>0?0:3:je(n[0]-r)<Se?i>0?2:1:je(n[1]-e)<Se?i>0?1:0:i>0?3:2}function l(t,n){return s(t.x,n.x)}function s(t,n){var e=a(t,1),r=a(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(a){var s,c,f,h,p,d,v,g,y,_,m,w=a,b=ur(),x={point:E,lineStart:function(){x.point=S,c&&c.push(f=[]);_=!0,y=!1,v=g=NaN},lineEnd:function(){s&&(S(h,p),d&&y&&b.rejoin(),s.push(b.result()));x.point=E,y&&w.lineEnd()},polygonStart:function(){w=b,s=[],c=[],m=!0},polygonEnd:function(){var e=function(){for(var n=0,e=0,r=c.length;e<r;++e)for(var o,u,a=c[e],l=1,s=a.length,f=a[0],h=f[0],p=f[1];l<s;++l)o=h,u=p,h=(f=a[l])[0],p=f[1],u<=i?p>i&&(h-o)*(i-u)>(p-u)*(t-o)&&++n:p<=i&&(h-o)*(i-u)<(p-u)*(t-o)&&--n;return n}(),r=m&&e,o=(s=n(s)).length;(r||o)&&(a.polygonStart(),r&&(a.lineStart(),u(null,null,1,a),a.lineEnd()),o&&sr(s,l,e,u,a),a.polygonEnd());w=a,s=c=f=null}};function E(t,n){o(t,n)&&w.point(t,n)}function S(n,u){var a=o(n,u);if(c&&f.push([n,u]),_)h=n,p=u,d=a,_=!1,a&&(w.lineStart(),w.point(n,u));else if(a&&y)w.point(n,u);else{var l=[v=Math.max(_r,Math.min(yr,v)),g=Math.max(_r,Math.min(yr,g))],s=[n=Math.max(_r,Math.min(yr,n)),u=Math.max(_r,Math.min(yr,u))];!function(t,n,e,r,i,o){var u,a=t[0],l=t[1],s=0,c=1,f=n[0]-a,h=n[1]-l;if(u=e-a,f||!(u>0)){if(u/=f,f<0){if(u<s)return;u<c&&(c=u)}else if(f>0){if(u>c)return;u>s&&(s=u)}if(u=i-a,f||!(u<0)){if(u/=f,f<0){if(u>c)return;u>s&&(s=u)}else if(f>0){if(u<s)return;u<c&&(c=u)}if(u=r-l,h||!(u>0)){if(u/=h,h<0){if(u<s)return;u<c&&(c=u)}else if(h>0){if(u>c)return;u>s&&(s=u)}if(u=o-l,h||!(u<0)){if(u/=h,h<0){if(u>c)return;u>s&&(s=u)}else if(h>0){if(u<s)return;u<c&&(c=u)}return s>0&&(t[0]=a+s*f,t[1]=l+s*h),c<1&&(n[0]=a+c*f,n[1]=l+c*h),!0}}}}}(l,s,t,e,r,i)?a&&(w.lineStart(),w.point(n,u),m=!1):(y||(w.lineStart(),w.point(l[0],l[1])),w.point(s[0],s[1]),a||w.lineEnd(),m=!1)}v=n,g=u,y=a}return x}}var wr,br,xr,Er,Sr=t=>t,Nr=new t,kr=new t,Mr={point:De,lineStart:De,lineEnd:De,polygonStart:function(){Mr.lineStart=Ar,Mr.lineEnd=Pr},polygonEnd:function(){Mr.lineStart=Mr.lineEnd=Mr.point=De,Nr.add(je(kr)),kr=new t},result:function(){var n=Nr/2;return Nr=new t,n}};function Ar(){Mr.point=$r}function $r(t,n){Mr.point=Cr,wr=xr=t,br=Er=n}function Cr(t,n){kr.add(Er*t-xr*n),xr=t,Er=n}function Pr(){Cr(wr,br)}var jr=1/0,Rr=jr,Tr=-jr,qr=Tr,Or={point:function(t,n){t<jr&&(jr=t);t>Tr&&(Tr=t);n<Rr&&(Rr=n);n>qr&&(qr=n)},lineStart:De,lineEnd:De,polygonStart:De,polygonEnd:De,result:function(){var t=[[jr,Rr],[Tr,qr]];return Tr=qr=-(Rr=jr=1/0),t}};var Lr,Xr,zr,Dr,Hr=0,Ir=0,Yr=0,Br=0,Fr=0,Vr=0,Gr=0,Ur=0,Zr=0,Wr={point:Kr,lineStart:Jr,lineEnd:ni,polygonStart:function(){Wr.lineStart=ei,Wr.lineEnd=ri},polygonEnd:function(){Wr.point=Kr,Wr.lineStart=Jr,Wr.lineEnd=ni},result:function(){var t=Zr?[Gr/Zr,Ur/Zr]:Vr?[Br/Vr,Fr/Vr]:Yr?[Hr/Yr,Ir/Yr]:[NaN,NaN];return Hr=Ir=Yr=Br=Fr=Vr=Gr=Ur=Zr=0,t}};function Kr(t,n){Hr+=t,Ir+=n,++Yr}function Jr(){Wr.point=Qr}function Qr(t,n){Wr.point=ti,Kr(zr=t,Dr=n)}function ti(t,n){var e=t-zr,r=n-Dr,i=Xe(e*e+r*r);Br+=i*(zr+t)/2,Fr+=i*(Dr+n)/2,Vr+=i,Kr(zr=t,Dr=n)}function ni(){Wr.point=Kr}function ei(){Wr.point=ii}function ri(){oi(Lr,Xr)}function ii(t,n){Wr.point=oi,Kr(Lr=zr=t,Xr=Dr=n)}function oi(t,n){var e=t-zr,r=n-Dr,i=Xe(e*e+r*r);Br+=i*(zr+t)/2,Fr+=i*(Dr+n)/2,Vr+=i,Gr+=(i=Dr*t-zr*n)*(zr+t),Ur+=i*(Dr+n),Zr+=3*i,Kr(zr=t,Dr=n)}function ui(t){this._context=t}ui.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,$e)}},result:De};var ai,li,si,ci,fi,hi=new t,pi={point:De,lineStart:function(){pi.point=di},lineEnd:function(){ai&&vi(li,si),pi.point=De},polygonStart:function(){ai=!0},polygonEnd:function(){ai=null},result:function(){var n=+hi;return hi=new t,n}};function di(t,n){pi.point=vi,li=ci=t,si=fi=n}function vi(t,n){ci-=t,fi-=n,hi.add(Xe(ci*ci+fi*fi)),ci=t,fi=n}let gi,yi,_i,mi;class wi{constructor(t){this._append=null==t?bi:function(t){const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);if(n>15)return bi;if(n!==gi){const t=10**n;gi=n,yi=function(n){let e=1;this._+=n[0];for(const r=n.length;e<r;++e)this._+=Math.round(arguments[e]*t)/t+n[e]}}return yi}(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:this._append`M${t},${n}`,this._point=1;break;case 1:this._append`L${t},${n}`;break;default:if(this._append`M${t},${n}`,this._radius!==_i||this._append!==yi){const t=this._radius,n=this._;this._="",this._append`m0,${t}a${t},${t} 0 1,1 0,${-2*t}a${t},${t} 0 1,1 0,${2*t}z`,_i=t,yi=this._append,mi=this._,this._=n}this._+=mi}}result(){const t=this._;return this._="",t.length?t:null}}function bi(t){let n=1;this._+=t[0];for(const e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function xi(t){return function(n){var e=new Ei;for(var r in t)e[r]=t[r];return e.stream=n,e}}function Ei(){}function Si(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),Ve(e,t.stream(Or)),n(Or.result()),null!=r&&t.clipExtent(r),t}function Ni(t,n,e){return Si(t,(function(e){var r=n[1][0]-n[0][0],i=n[1][1]-n[0][1],o=Math.min(r/(e[1][0]-e[0][0]),i/(e[1][1]-e[0][1])),u=+n[0][0]+(r-o*(e[1][0]+e[0][0]))/2,a=+n[0][1]+(i-o*(e[1][1]+e[0][1]))/2;t.scale(150*o).translate([u,a])}),e)}Ei.prototype={constructor:Ei,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var ki=16,Mi=qe(30*Pe);function Ai(t,n){return+n?function(t,n){function e(r,i,o,u,a,l,s,c,f,h,p,d,v,g){var y=s-r,_=c-i,m=y*y+_*_;if(m>4*n&&v--){var w=u+h,b=a+p,x=l+d,E=Xe(w*w+b*b+x*x),S=ze(x/=E),N=je(je(x)-1)<Se||je(o-f)<Se?(o+f)/2:Te(b,w),k=t(N,S),M=k[0],A=k[1],$=M-r,C=A-i,P=_*$-y*C;(P*P/m>n||je((y*$+_*C)/m-.5)>.3||u*h+a*p+l*d<Mi)&&(e(r,i,o,u,a,l,M,A,N,w/=E,b/=E,x,v,g),g.point(M,A),e(M,A,N,w,b,x,s,c,f,h,p,d,v,g))}}return function(n){var r,i,o,u,a,l,s,c,f,h,p,d,v={point:g,lineStart:y,lineEnd:m,polygonStart:function(){n.polygonStart(),v.lineStart=w},polygonEnd:function(){n.polygonEnd(),v.lineStart=y}};function g(e,r){e=t(e,r),n.point(e[0],e[1])}function y(){c=NaN,v.point=_,n.lineStart()}function _(r,i){var o=Ue([r,i]),u=t(r,i);e(c,f,s,h,p,d,c=u[0],f=u[1],s=r,h=o[0],p=o[1],d=o[2],ki,n),n.point(c,f)}function m(){v.point=g,n.lineEnd()}function w(){y(),v.point=b,v.lineEnd=x}function b(t,n){_(r=t,n),i=c,o=f,u=h,a=p,l=d,v.point=_}function x(){e(c,f,s,h,p,d,i,o,r,u,a,l,ki,n),v.lineEnd=m,m()}return v}}(t,n):function(t){return xi({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}(t)}var $i,Ci=xi({point:function(t,n){this.stream.point(t*Pe,n*Pe)}});function Pi(t,n,e,r,i,o){if(!o)return function(t,n,e,r,i){function o(o,u){return[n+t*(o*=r),e-t*(u*=i)]}return o.invert=function(o,u){return[(o-n)/t*r,(e-u)/t*i]},o}(t,n,e,r,i);var u=qe(o),a=Oe(o),l=u*t,s=a*t,c=u/t,f=a/t,h=(a*e-u*n)/t,p=(a*n+u*e)/t;function d(t,o){return[l*(t*=r)-s*(o*=i)+n,e-s*t-l*o]}return d.invert=function(t,n){return[r*(c*t-f*n+h),i*(p-f*t-c*n)]},d}function ji(t){return function(t){var n,e,r,i,o,u,a,l,s,c,f=150,h=480,p=250,d=0,v=0,g=0,y=0,_=0,m=0,w=1,b=1,x=null,E=vr,S=null,N=Sr,k=.5;function M(t){return l(t[0]*Pe,t[1]*Pe)}function A(t){return(t=l.invert(t[0],t[1]))&&[t[0]*Ce,t[1]*Ce]}function $(){var t=Pi(f,0,0,w,b,m).apply(null,n(d,v)),r=Pi(f,h-t[0],p-t[1],w,b,m);return e=function(t,n,e){return(t%=$e)?n||e?tr(rr(t),ir(n,e)):rr(t):n||e?ir(n,e):nr}(g,y,_),a=tr(n,r),l=tr(e,a),u=Ai(a,k),C()}function C(){return s=c=null,M}return M.stream=function(t){return s&&c===t?s:s=Ci(function(t){return xi({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}(e)(E(u(N(c=t)))))},M.preclip=function(t){return arguments.length?(E=t,x=void 0,C()):E},M.postclip=function(t){return arguments.length?(N=t,S=r=i=o=null,C()):N},M.clipAngle=function(t){return arguments.length?(E=+t?gr(x=t*Pe):(x=null,vr),C()):x*Ce},M.clipExtent=function(t){return arguments.length?(N=null==t?(S=r=i=o=null,Sr):mr(S=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),C()):null==S?null:[[S,r],[i,o]]},M.scale=function(t){return arguments.length?(f=+t,$()):f},M.translate=function(t){return arguments.length?(h=+t[0],p=+t[1],$()):[h,p]},M.center=function(t){return arguments.length?(d=t[0]%360*Pe,v=t[1]%360*Pe,$()):[d*Ce,v*Ce]},M.rotate=function(t){return arguments.length?(g=t[0]%360*Pe,y=t[1]%360*Pe,_=t.length>2?t[2]%360*Pe:0,$()):[g*Ce,y*Ce,_*Ce]},M.angle=function(t){return arguments.length?(m=t%360*Pe,$()):m*Ce},M.reflectX=function(t){return arguments.length?(w=t?-1:1,$()):w<0},M.reflectY=function(t){return arguments.length?(b=t?-1:1,$()):b<0},M.precision=function(t){return arguments.length?(u=Ai(a,k=t*t),C()):Xe(k)},M.fitExtent=function(t,n){return Ni(M,t,n)},M.fitSize=function(t,n){return function(t,n,e){return Ni(t,[[0,0],n],e)}(M,t,n)},M.fitWidth=function(t,n){return function(t,n,e){return Si(t,(function(e){var r=+n,i=r/(e[1][0]-e[0][0]),o=(r-i*(e[1][0]+e[0][0]))/2,u=-i*e[0][1];t.scale(150*i).translate([o,u])}),e)}(M,t,n)},M.fitHeight=function(t,n){return function(t,n,e){return Si(t,(function(e){var r=+n,i=r/(e[1][1]-e[0][1]),o=-i*e[0][0],u=(r-i*(e[1][1]+e[0][1]))/2;t.scale(150*i).translate([o,u])}),e)}(M,t,n)},function(){return n=t.apply(this,arguments),M.invert=n.invert&&A,$()}}((function(){return t}))()}function Ri(t,n){return[qe(n)*Oe(t),Oe(n)]}function Ti(t,n,e){this.k=t,this.x=n,this.y=e}function qi(t){return t}function Oi(t,n){var e=n.id,r=n.bbox,i=null==n.properties?{}:n.properties,o=function(t,n){var e=function(t){if(null==t)return qi;var n,e,r=t.scale[0],i=t.scale[1],o=t.translate[0],u=t.translate[1];return function(t,a){a||(n=e=0);var l=2,s=t.length,c=new Array(s);for(c[0]=(n+=t[0])*r+o,c[1]=(e+=t[1])*i+u;l<s;)c[l]=t[l],++l;return c}}(t.transform),r=t.arcs;function i(t,n){n.length&&n.pop();for(var i=r[t<0?~t:t],o=0,u=i.length;o<u;++o)n.push(e(i[o],o));t<0&&function(t,n){for(var e,r=t.length,i=r-n;i<--r;)e=t[i],t[i++]=t[r],t[r]=e}(n,u)}function o(t){return e(t)}function u(t){for(var n=[],e=0,r=t.length;e<r;++e)i(t[e],n);return n.length<2&&n.push(n[0]),n}function a(t){for(var n=u(t);n.length<4;)n.push(n[0]);return n}function l(t){return t.map(a)}function s(t){var n,e=t.type;switch(e){case"GeometryCollection":return{type:e,geometries:t.geometries.map(s)};case"Point":n=o(t.coordinates);break;case"MultiPoint":n=t.coordinates.map(o);break;case"LineString":n=u(t.arcs);break;case"MultiLineString":n=t.arcs.map(u);break;case"Polygon":n=l(t.arcs);break;case"MultiPolygon":n=t.arcs.map(l);break;default:return null}return{type:e,coordinates:n}}return s(n)}(t,n);return null==e&&null==r?{type:"Feature",properties:i,geometry:o}:null==r?{type:"Feature",id:e,properties:i,geometry:o}:{type:"Feature",id:e,bbox:r,properties:i,geometry:o}}Ri.invert=($i=ze,function(t,n){var e=Xe(t*t+n*n),r=$i(e),i=Oe(r),o=qe(r);return[Te(t*i,e*o),ze(e&&n*i/e)]}),Ti.prototype={constructor:Ti,scale:function(t){return 1===t?this:new Ti(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new Ti(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},Ti.prototype;const Li={type:"Topology",objects:{land:{type:"MultiPolygon",arcs:[[[540,266,539],[123,542,536],[592,399,564,457,565,439,78,350,483,355,359,405,532,507,533,18,482,20,481,595,531,379,247,538,254,229,552,554,389,575,445,597,461,8,200,10,203,283,303,191,467,67,563,291,184,412,550,295,301,544,299,543,453,530,428,242,571,416,250,369,410,561,572,288,521,578,511,81,573,305,15,441,323,558,375,281,257,506,255,282,66,470,227,234,222,498,514,422,425,259,523,269,559,473,524,504,400,505,169],[386,520,55,358,567]],[[24,164]],[[556,275],[579,28,165,486,245,206,484,211,468,317,551,309,433,586,139,590,141,585,432,98,311,319,469,213,485,208,591,314,555,277,111]],[[36]],[[37]],[[38]],[[39]],[[40]],[[41]],[[42]],[[43]],[[44]],[[45]],[[46]],[[86]],[[87]],[[88]],[[459,113,460,346]],[[128]],[[129]],[[130]],[[131]],[[132]],[[133]],[[134]],[[135]],[[136]],[[137]],[[142]],[[143]],[[144]],[[145]],[[146]],[[147]],[[148]],[[149]],[[150]],[[151]],[[152]],[[153]],[[154]],[[155]],[[156]],[[157]],[[158]],[[159]],[[160]],[[167]],[[215]],[[216,218]],[[233]],[[235,326]],[[272]],[[273]],[[274]],[[278]],[[286,352]],[[287]],[[304]],[[308]],[[332]],[[334,569]],[[335]],[[336]],[[337]],[[338]],[[339]],[[340]],[[342,496]],[[343]],[[344]],[[347]],[[365]],[[372]],[[373]],[[376]],[[381]],[[382]],[[383]],[[419]],[[431]],[[464]],[[474]],[[475]],[[476]],[[477]],[[478]],[[487]],[[488]],[[489]],[[490]],[[491]],[[492]],[[493]],[[494]],[[495]],[[497]],[[502]],[[513]],[[515]],[[516]],[[517]],[[518]],[[519]],[[525]],[[526]],[[527]],[[545]],[[546]],[[547]],[[548]],[[549]],[[570]],[[574]],[[580]],[[581]],[[582]],[[583]],[[584]],[[587]],[[588]],[[589]],[[593]],[[594]]]}},arcs:[[[67002,72360],[284,-219],[209,77],[58,261],[219,87],[157,175],[55,460],[234,112],[44,205],[131,-154],[84,-18]],[[68477,73346],[154,-4],[210,-122]],[[68841,73220],[85,-70],[201,185],[93,-111],[90,264],[166,-12],[43,84],[29,233],[120,200],[150,-131],[-30,-176],[84,-27],[-26,-484],[110,-189],[97,121],[123,57],[173,258],[192,-42],[286,-1]],[[70827,73379],[50,-165]],[[70877,73214],[-162,-65],[-141,-106],[-319,-67],[-298,-121],[-163,-251],[66,-244],[32,-287],[-139,-242],[12,-221],[-76,-207],[-265,18],[110,-381],[-177,-146],[-118,-347],[15,-346],[-108,-162],[-103,53],[-212,-75],[-31,-161],[-207,1],[-154,-326],[-10,-490],[-361,-239],[-194,50],[-56,-126],[-166,74],[-278,-87],[-465,294]],[[66909,69007],[252,523],[-23,370],[-210,97],[-22,366],[-91,460],[119,315],[-121,85],[76,419],[113,718]],[[56642,45537],[29,-179],[-32,-279],[49,-270],[-41,-216],[24,-199],[-579,7],[-13,-1832],[188,-471],[181,-360]],[[56448,41738],[-510,-235],[-673,82],[-192,276],[-1126,-25],[-42,-40],[-166,260],[-180,17],[-166,-98],[-134,-110]],[[53259,41865],[-26,363],[38,506],[96,527],[15,247],[90,519],[66,236],[159,377],[90,256],[29,427],[-15,326],[-83,206],[-74,350],[-68,345],[15,120],[85,228],[-84,557],[-57,385],[-139,364],[26,112]],[[53422,48316],[115,78],[80,-11],[98,69],[820,-7],[68,-430],[80,-345],[64,-186],[106,-301],[184,46],[91,81],[154,-81],[42,144],[69,336],[172,22],[15,100],[142,2],[-24,-207],[337,5],[5,-363],[56,-222],[-41,-347],[21,-354],[93,-214],[-15,-685],[68,53],[121,-15],[172,87],[127,-34]],[[53383,48495],[-74,433]],[[53309,48928],[112,249],[84,97],[104,-198]],[[53609,49076],[-101,-121],[-45,-148],[-9,-251],[-71,-61]],[[55719,75933],[-35,-196],[39,-247],[115,-140]],[[55838,75350],[-5,-151],[-91,-84],[-16,-187],[-129,-279]],[[55597,74649],[-48,40],[-5,127],[-154,193],[-24,274],[23,393],[38,179],[-47,91]],[[55380,75946],[-18,183],[120,284],[18,-109],[75,51]],[[55575,76355],[59,-154],[66,-59],[19,-209]],[[64327,65792],[49,28],[11,-158],[217,91],[230,-15],[168,-17],[190,389],[207,369],[176,355]],[[65575,66834],[52,-196]],[[65627,66638],[38,-455]],[[65665,66183],[-142,-2],[-23,-375],[50,-80],[-126,-114],[-1,-235],[-81,-238],[-7,-232]],[[65335,64907],[-56,-122],[-835,290],[-106,584],[-11,133]],[[31400,20215],[-168,16],[-297,0],[0,1286]],[[30935,21517],[106,-267],[139,-432],[361,-345],[389,-144],[-125,-288],[-264,-29],[-141,203]],[[32587,39017],[511,-940],[227,-88],[339,-425],[286,-225],[40,-254],[-273,-876],[280,-156],[312,-88],[220,92],[252,441],[45,509]],[[34826,37007],[138,110],[139,-332],[-6,-460],[-234,-318],[-186,-234],[-314,-559],[-370,-786]],[[33993,34428],[-70,-461],[-74,-592],[3,-573],[-61,-128],[-21,-372]],[[33770,32302],[-19,-301],[353,-493],[-38,-397],[173,-251],[-14,-282],[-267,-738],[-412,-309],[-557,-120],[-305,58],[59,-343],[-57,-431],[51,-291],[-167,-202],[-284,-80],[-267,210],[-108,-151],[39,-572],[188,-173],[152,181],[82,-299],[-255,-179],[-223,-358],[-41,-579],[-66,-309],[-262,-1],[-218,-295],[-80,-432],[273,-422],[266,-116],[-96,-517],[-328,-325],[-180,-675],[-254,-227],[-113,-270],[89,-598],[185,-333],[-117,29]],[[30952,21711],[-257,90],[-672,77],[-115,336],[6,431],[-185,-37],[-98,209],[-24,611],[213,253],[88,365],[-33,292],[148,491],[101,763],[-30,338],[122,109],[-30,217],[-129,115],[92,242],[-126,218],[-65,665],[112,117],[-47,702],[65,590],[75,513],[166,209],[-84,563],[-1,529],[210,376],[-7,481],[159,562],[1,530],[-72,105],[-128,994],[171,592],[-27,558],[100,523],[182,540],[196,358],[-83,226],[58,186],[-9,960],[302,284],[96,598],[-34,144]],[[31359,38736],[231,521],[364,-141],[163,-416],[109,464],[316,-24],[45,-123]],[[62106,75494],[386,89]],[[62492,75583],[57,-151],[106,-100],[-56,-144],[148,-198],[-78,-183],[118,-157],[124,-94],[7,-399]],[[62918,74157],[-101,-17]],[[62817,74140],[-113,333],[1,89],[-123,-2],[-82,155],[-58,-16]],[[62442,74699],[-109,168],[-207,144],[27,280],[-47,203]],[[33452,5736],[-82,-294],[-81,-259],[-582,79],[-621,-34],[-348,192],[0,22],[-152,170],[625,-23],[599,-56],[207,237],[147,203],[288,-237]],[[5775,6048],[-533,-79],[-364,204],[-163,203],[-11,34],[-180,158],[169,214],[517,-90],[277,-181],[212,-203],[76,-260]],[[37457,6883],[342,-248],[120,-350],[33,-248],[11,-293],[-430,-181],[-452,-146],[-522,-136],[-582,-113],[-658,34],[-365,192],[49,237],[593,158],[239,192],[174,248],[126,214],[168,203],[180,238],[0,-1],[141,0],[414,125],[419,-125]],[[16330,9501],[359,-90],[332,102],[-158,-203],[-261,-147],[-386,45],[-278,203],[60,192],[332,-102]],[[15122,9513],[425,-226],[-164,23],[-359,56],[-381,158],[202,124],[277,-135]],[[22505,10404],[305,-79],[304,68],[163,-327],[-217,45],[-337,-23],[-343,23],[-376,-34],[-283,113],[-146,237],[174,101],[353,-79],[403,-45]],[[30985,10967],[33,-259],[-49,-226],[-76,-214],[-326,-79],[-311,-113],[-364,11],[136,226],[-327,-79],[-310,-79],[-212,169],[-16,237],[305,226],[190,67],[321,-22],[82,293],[16,215],[-6,462],[158,271],[256,90],[147,-214],[65,-214],[120,-260],[92,-248],[76,-260]],[[0,3044],[16,-4],[245,335],[501,-181],[32,21],[294,183],[38,-6],[32,-5],[402,-239],[352,239],[63,33],[816,102],[265,-135],[130,-68],[419,-192],[789,-147],[625,-180],[1072,-136],[800,158],[1181,-113],[669,-180],[734,169],[773,158],[60,271],[-1094,22],[-898,136],[-234,225],[-745,125],[49,259],[103,237],[104,214],[-55,237],[-462,158],[-212,204],[-430,180],[675,-34],[642,91],[402,-192],[495,169],[457,214],[223,192],[-98,237],[-359,158],[-408,169],[-571,34],[-500,79],[-539,57],[-180,214],[-359,181],[-217,203],[-87,654],[136,-56],[250,-181],[457,57],[441,79],[228,-249],[441,57],[370,124],[348,158],[315,192],[419,56],[-11,215],[-97,214],[81,203],[359,102],[163,-192],[425,113],[321,146],[397,12],[375,56],[376,136],[299,124],[337,124],[218,-34],[190,-45],[414,79],[370,-102],[381,12],[364,79],[375,-57],[414,-56],[386,22],[403,-11],[413,-11],[381,22],[283,170],[337,90],[349,-124],[331,101],[300,203],[179,-180],[98,-203],[180,-192],[288,169],[332,-214],[375,-68],[321,-158],[392,34],[354,101],[418,-22],[376,-79],[381,-102],[147,249],[-180,191],[-136,204],[-359,45],[-158,214],[-60,214],[-98,429],[213,-79],[364,-34],[359,34],[327,-90],[283,-169],[119,-203],[376,-34],[359,79],[381,113],[342,67],[283,-135],[370,45],[239,440],[224,-259],[321,-102],[348,56],[228,-225],[365,-23],[337,-68],[332,-124],[218,215],[108,203],[278,-226],[381,57],[283,-125],[190,-191],[370,56],[288,124],[283,147],[337,79],[392,68],[354,79],[272,124],[163,180],[65,249],[-32,236],[-87,226],[-98,226],[-87,226],[-71,203],[-16,225],[27,226],[130,214],[109,237],[44,226],[-55,248],[-32,226],[136,260],[152,169],[180,214],[190,181],[223,169],[109,248],[152,158],[174,147],[267,34],[174,180],[196,113],[228,68],[202,147],[157,180],[218,68],[163,-147],[-103,-192],[-283,-169],[-120,-124],[-206,90],[-229,-56],[-190,-136],[-202,-146],[-136,-170],[-38,-225],[17,-215],[130,-191],[-190,-136],[-261,-45],[-153,-192],[-163,-180],[-174,-249],[-44,-214],[98,-237],[147,-181],[229,-135],[212,-181],[114,-225],[60,-215],[82,-225],[130,-192],[82,-215],[38,-530],[81,-214],[22,-226],[87,-226],[-38,-304],[-152,-237],[-163,-192],[-370,-79],[-125,-203],[-169,-192],[-419,-215],[-370,-90],[-348,-124],[-376,-124],[-223,-237],[-446,-23],[-489,23],[-441,-45],[-468,0],[87,-226],[424,-101],[311,-158],[174,-204],[-310,-180],[-479,56],[-397,-146],[-17,-237],[-11,-226],[327,-192],[60,-214],[353,-215],[588,-90],[500,-158],[398,-180],[506,-181],[690,-90],[681,-158],[473,-170],[517,-191],[272,-271],[136,-215],[337,204],[457,169],[484,180],[577,147],[495,158],[691,11],[680,-79],[560,-135],[180,248],[386,169],[702,12],[550,124],[522,124],[577,79],[614,102],[430,146],[-196,203],[-119,203],[0,215],[-539,-23],[-571,-90],[-544,0],[-77,214],[39,429],[125,124],[397,136],[468,135],[337,169],[337,170],[251,225],[380,102],[376,79],[190,45],[430,23],[408,79],[343,112],[337,136],[305,135],[386,181],[245,192],[261,169],[82,226],[-294,135],[98,237],[185,181],[288,112],[305,136],[283,180],[217,226],[136,271],[202,158],[331,-34],[136,-192],[332,-22],[11,214],[142,226],[299,-57],[71,-214],[331,-34],[360,102],[348,67],[315,-34],[120,-237],[305,192],[283,102],[315,79],[310,79],[283,135],[310,91],[240,124],[168,203],[207,-147],[288,79],[202,-271],[157,-203],[316,113],[125,226],[283,158],[365,-34],[108,-215],[229,215],[299,68],[326,22],[294,-11],[310,-68],[300,-34],[130,-192],[180,-169],[304,102],[327,22],[315,0],[310,12],[278,79],[294,67],[245,158],[261,102],[283,56],[212,158],[152,316],[158,192],[288,-90],[109,-203],[239,-136],[289,45],[196,-203],[206,-146],[283,135],[98,248],[250,102],[289,192],[272,79],[326,112],[218,125],[228,135],[218,124],[261,-68],[250,203],[180,158],[261,-11],[229,136],[54,203],[234,158],[228,113],[278,90],[256,45],[244,-34],[262,-56],[223,-158],[27,-249],[245,-191],[168,-158],[332,-68],[185,-158],[229,-158],[266,-34],[223,113],[240,237],[261,-124],[272,-68],[261,-68],[272,-45],[277,0],[229,-598],[-11,-147],[-33,-259],[-266,-147],[-218,-214],[38,-226],[310,11],[-38,-225],[-141,-215],[-131,-237],[212,-180],[321,-57],[321,102],[153,226],[92,214],[153,181],[174,169],[70,203],[147,282],[174,57],[316,22],[277,68],[283,90],[136,226],[82,214],[190,215],[272,146],[234,113],[153,192],[157,101],[202,91],[277,-57],[250,57],[272,67],[305,-33],[201,158],[142,383],[103,-158],[131,-271],[234,-112],[266,-46],[267,68],[283,-45],[261,-11],[174,56],[234,-34],[212,-124],[250,79],[300,0],[255,79],[289,-79],[185,192],[141,192],[191,158],[348,429],[179,-79],[212,-158],[185,-203],[354,-350],[272,-12],[256,0],[299,68],[299,79],[229,158],[190,169],[310,23],[207,124],[218,-113],[141,-180],[196,-181],[305,23],[190,-147],[332,-147],[348,-56],[288,45],[218,181],[185,180],[250,45],[251,-79],[288,-56],[261,90],[250,0],[245,-56],[256,-57],[250,102],[299,90],[283,23],[316,0],[255,56],[251,45],[76,282],[11,237],[174,-158],[49,-259],[92,-237],[115,-192],[234,-102],[315,34],[365,12],[250,33],[364,0],[262,12],[364,-23],[310,-45],[196,-181],[-54,-214],[179,-169],[299,-136],[310,-146],[360,-102],[375,-90],[283,-90],[315,-12],[180,192],[245,-158],[212,-180],[245,-136],[337,-56],[321,-68],[136,-226],[316,-135],[212,-203],[310,-90],[321,11],[299,-34],[332,11],[332,-45],[310,-79],[288,-135],[289,-113],[195,-169],[-32,-226],[-147,-203],[-125,-260],[-98,-203],[-131,-237],[-364,-90],[-163,-203],[-360,-124],[-125,-226],[-190,-214],[-201,-181],[-115,-237],[-70,-214],[-28,-260],[6,-214],[158,-226],[60,-214],[130,-204],[517,-78],[109,-249],[-501,-90],[-424,-124],[-528,-23],[-234,-327],[-49,-271],[-119,-214],[-147,-215],[370,-191],[141,-237],[239,-215],[338,-192],[386,-180],[419,-181],[636,-180],[142,-282],[800,-125],[53,-44],[208,-170],[767,147],[636,-181],[-99520,-139]],[[69148,23827],[179,-181],[263,-72],[9,-110],[-77,-262],[-427,-37],[-7,306],[41,238],[19,118]],[[90387,28338],[269,-199],[151,79],[217,111],[166,-39],[20,-684],[-95,-198],[-29,-463],[-97,157],[-193,-401],[-57,31],[-171,18],[-171,493],[-38,380],[-160,502],[7,264],[181,-51]],[[89877,43903],[100,-452],[179,217],[92,-243],[133,-225],[-29,-255],[60,-494],[42,-288],[70,-70],[75,-492],[-27,-299],[90,-390],[301,-301],[197,-274],[186,-251],[-37,-139],[159,-361],[108,-623],[111,126],[113,-249],[68,88],[48,-610],[197,-354],[129,-220],[217,-466],[78,-463],[7,-328],[-19,-356],[132,-490],[-16,-509],[-48,-267],[-75,-514],[6,-330],[-55,-413],[-123,-524],[-205,-283],[-102,-446],[-93,-284],[-82,-497],[-107,-287],[-70,-431],[-36,-397],[14,-182],[-159,-200],[-311,-21],[-257,-236],[-127,-223],[-168,-248],[-230,255],[-170,101],[43,301],[-152,-109],[-243,-417],[-240,156],[-158,91],[-159,41],[-269,167],[-179,355],[-52,437],[-64,291],[-137,233],[-267,70],[91,279],[-67,428],[-136,-399],[-247,-106],[146,319],[42,332],[107,282],[-22,427],[-226,-491],[-174,-197],[-106,-458],[-217,237],[9,305],[-174,418],[-147,216],[52,133],[-356,349],[-195,16],[-267,280],[-498,-54],[-359,-206],[-317,-192],[-265,38],[-294,-296],[-241,-132],[-53,-302],[-103,-234],[-236,-14],[-174,-52],[-246,105],[-199,-62],[-191,-27],[-165,-307],[-81,26],[-140,-163],[-133,-183],[-203,23],[-186,0],[-295,368],[-149,109],[6,330],[138,79],[47,131],[-10,207],[34,400],[-31,341],[-147,582],[-45,329],[12,328],[-111,375],[-7,169],[-123,230],[-35,451],[-158,456],[-39,245],[122,-249],[-93,535],[137,-167],[83,-223],[-5,294],[-138,454],[-26,181],[-65,173],[31,333],[56,141],[38,289],[-29,336],[114,415],[21,-439],[118,396],[225,193],[136,245],[212,212],[126,45],[77,-71],[219,214],[168,64],[42,126],[74,53],[153,-14],[292,169],[151,256],[71,307],[163,293],[13,229],[7,314],[194,489],[117,-497],[119,115],[-99,272],[87,279],[122,-125],[34,439],[152,283],[67,227],[140,98],[4,161],[122,-67],[5,145],[122,82],[134,78],[205,-264],[155,-342],[173,-3],[177,-54],[-59,316],[133,462],[126,150],[-44,144],[121,329],[168,203],[142,-68],[234,108],[-5,294],[-204,190],[148,84],[184,-143],[148,-236],[234,-148],[79,59],[172,-177],[162,164],[105,-50],[65,111],[127,-285],[-74,-308],[-105,-233],[-96,-19],[32,-230],[-81,-288],[-99,-283],[20,-163],[221,-318],[214,-184],[143,-199],[201,-341],[78,1],[145,-148],[43,-178],[265,-195],[183,197],[55,309],[56,255],[34,316],[85,458],[-39,279],[20,167],[-32,330],[37,434],[53,117],[-43,192],[67,305],[52,317],[7,164],[104,216],[78,-282],[19,-361],[70,-70],[11,-242],[101,-293],[21,-326],[-10,-209]],[[54716,79543],[-21,-236],[-156,-1],[53,-125],[-92,-370]],[[54500,78811],[-53,-97],[-243,-15],[-140,-130],[-229,44]],[[53835,78613],[-398,149],[-62,200],[-274,-100],[-32,-109],[-169,81]],[[52900,78834],[-142,16],[-125,105],[42,141],[-10,102]],[[52665,79198],[83,32],[141,-160],[39,152],[245,-25],[199,104],[133,-18],[87,-118],[26,98],[-40,375],[100,73],[98,266]],[[53776,79977],[206,-186],[157,236],[98,43],[215,-176],[131,30],[128,-109]],[[54711,79815],[-23,-73],[28,-199]],[[62817,74140],[-190,76],[-141,266],[-44,217]],[[63495,75906],[146,-303],[141,-408],[130,-27],[85,-156],[-228,-46],[-49,-447],[-48,-202],[-101,-135],[7,-285]],[[63578,73897],[-69,-28],[-173,301],[95,285],[-82,169],[-104,-43],[-327,-424]],[[62492,75583],[68,94],[207,-165],[149,-34],[38,67],[-136,312],[72,79]],[[62890,75936],[78,-19],[191,-350],[122,-39],[48,146],[166,232]],[[58149,49238],[-17,694],[-70,262]],[[58062,50194],[169,-45],[85,328],[147,-38]],[[58463,50439],[16,-227],[60,-130],[3,-187],[-69,-121],[-108,-300],[-101,-209],[-115,-27]],[[50920,81398],[204,-45],[257,120],[176,-252],[153,-135]],[[51710,81086],[-32,-389]],[[51678,80697],[-72,-22],[-30,-323]],[[51576,80352],[-243,263],[-143,-45],[-194,272],[-129,231],[-129,9],[-40,203]],[[50698,81285],[222,113]],[[50747,55434],[-229,-68]],[[50518,55366],[-69,398],[13,1322],[-56,119],[-11,283],[-96,201],[-85,170],[35,303]],[[50249,58162],[96,66],[56,251],[136,54],[61,172]],[[50598,58705],[93,169],[100,2],[212,-332]],[[51003,58544],[-11,-191],[62,-342],[-54,-232],[29,-154],[-135,-357],[-86,-176],[-52,-364],[7,-366],[-16,-928]],[[49214,57382],[-190,149],[-130,-22],[-97,-145],[-125,122],[-49,190],[-125,126]],[[48498,57802],[-18,334],[76,244],[-7,195],[221,477],[41,395],[76,141],[134,-78],[116,117],[38,148],[216,259],[53,180],[259,238],[153,82],[70,-110],[178,3]],[[50104,60427],[-22,-280],[37,-262],[156,-376],[9,-279],[320,-130],[-6,-395]],[[50249,58162],[-243,13]],[[50006,58175],[-128,46],[-90,-93],[-123,42],[-482,-27],[-7,-327],[38,-434]],[[75742,64522],[-6,-413],[-97,88],[18,-464]],[[75657,63733],[-79,301],[-16,293],[-53,277],[-116,335],[-256,23],[25,-237],[-87,-321],[-118,117],[-41,-105],[-78,63],[-108,52]],[[74730,64531],[-43,474],[-96,433],[47,347],[-171,154],[62,210],[173,215],[-200,305],[98,390],[220,-248],[133,-29],[24,-400],[265,-79],[257,8],[160,-98],[-128,-487],[-124,-34],[-86,-327],[152,-299],[46,368],[76,2],[147,-914]],[[56293,77303],[80,-236],[108,42],[213,-90],[408,-30],[138,147],[327,133],[202,-209],[163,-60]],[[57932,77e3],[-144,-239],[-101,-412],[89,-328]],[[57776,76021],[-239,77],[-283,-181]],[[57254,75917],[-3,-287],[-252,-55],[-196,202],[-222,-159],[-206,17]],[[56375,75635],[-20,381],[-139,185]],[[56216,76201],[46,81],[-30,69],[47,183],[105,180],[-135,248],[-24,211],[68,130]],[[28462,65512],[-68,-29],[-70,332],[-104,167],[60,365],[84,-23],[97,-478],[1,-334]],[[28383,67136],[-303,-92],[-19,213],[130,46],[184,-17],[8,-150]],[[28611,67142],[-48,-409],[-51,73],[4,301],[-124,228],[-1,66],[220,-259]],[[55279,77663],[100,2],[-69,-253],[134,-222],[-41,-271],[-65,-25]],[[55338,76894],[-52,-53],[-90,-134],[-41,-316]],[[55155,76391],[-246,218],[-105,240],[-106,128],[-127,215],[-61,178],[-136,270],[59,239],[99,-133],[60,120],[130,13],[239,-96],[192,8],[126,-128]],[[56523,82877],[268,-4],[302,217],[64,325],[228,184],[-26,258]],[[57359,83857],[169,97],[298,222]],[[57826,84176],[293,-144],[39,-143],[146,68],[272,-137],[27,-270],[-60,-156],[174,-377],[113,-105],[-16,-104],[187,-101],[80,-154],[-108,-126],[-224,20],[-54,-53],[66,-192],[68,-368]],[[58829,81834],[-239,-34],[-85,-127],[-18,-290],[-111,56],[-250,-28],[-73,135],[-104,-100],[-105,83],[-218,11],[-310,139],[-281,45],[-215,-13],[-152,-156],[-133,-23]],[[56535,81532],[-6,257],[-85,267],[166,117],[2,230],[-77,219],[-12,255]],[[25238,62085],[-2,85],[33,26],[51,-68],[99,348],[53,7]],[[25472,62483],[1,-84],[53,-3],[-5,-157],[-45,-249],[24,-89],[-29,-206],[18,-55],[-32,-291],[-55,-153],[-50,-18],[-55,-199]],[[25297,60979],[-83,-1],[22,650],[2,457]],[[31359,38736],[-200,-79],[-109,794],[-150,646],[88,557],[-146,244],[-37,416],[-136,391]],[[30669,41705],[175,622],[-119,484],[63,194],[-49,213],[108,288],[6,490],[13,405],[60,195],[-240,926]],[[30686,45522],[206,-48],[143,12],[62,174],[243,234],[147,216],[363,98],[-29,-432],[34,-221],[-23,-386],[302,-516],[311,-95],[109,-216],[188,-114],[115,-167],[175,6],[161,-171],[12,-333],[55,-168],[3,-248],[-81,-10],[107,-671],[533,-23],[-41,-333],[30,-227],[151,-162],[66,-358],[-49,-453],[-77,-253],[27,-328],[-87,-119]],[[33842,40210],[-4,177],[-259,295],[-258,8],[-484,-167],[-133,-507],[-7,-310],[-110,-689]],[[34826,37007],[54,332],[38,340],[0,317],[-100,105],[-104,-94],[-103,26],[-33,222],[-26,527],[-52,172],[-187,156],[-114,-113],[-293,111],[18,782],[-82,320]],[[30686,45522],[-157,-99],[-126,66],[18,875],[-228,-339],[-245,15],[-105,307],[-184,33],[59,247],[-155,351],[-115,518],[73,106],[0,243],[168,166],[-28,312],[71,200],[20,269],[318,392],[227,111],[37,86],[251,-27]],[[30585,49354],[125,1579],[6,250],[-43,330],[-123,210],[1,418],[156,95],[56,-60],[9,221],[-162,60],[-4,360],[541,-13],[92,198],[77,-182],[55,-340],[52,71]],[[31423,52551],[153,-304],[216,37],[54,176],[206,135],[115,94],[32,244],[198,164],[-15,121],[-235,49],[-39,363],[12,386],[-125,149],[52,53],[206,-73],[221,-144],[80,136],[200,89],[310,216],[102,220],[-37,162]],[[33129,54824],[145,26],[64,-133],[-36,-253],[96,-87],[63,-268],[-77,-203],[-44,-490],[71,-291],[20,-267],[171,-270],[137,-28],[30,112],[88,25],[126,101],[90,153],[154,-48],[67,20]],[[34294,52923],[151,-47],[25,118],[-46,114],[28,167],[112,-51],[131,59],[159,-122]],[[34854,53161],[121,-119],[86,156],[62,-24],[38,-162],[133,41],[107,219],[85,424],[164,527]],[[35650,54223],[95,27],[69,-318],[155,-1008],[149,-95],[7,-397],[-208,-474],[86,-174],[491,-90],[10,-578],[211,378],[349,-207],[462,-351],[135,-338],[-45,-319],[323,178],[540,-305],[415,23],[411,-477],[355,-645],[214,-166],[237,-23],[101,-182],[94,-733],[46,-348],[-110,-953],[-142,-376],[-391,-801],[-177,-651],[-206,-499],[-69,-11],[-78,-424],[20,-1079],[-77,-888],[-30,-379],[-88,-228],[-49,-769],[-282,-752],[-47,-595],[-225,-250],[-65,-345],[-302,2],[-437,-222],[-195,-256],[-311,-168],[-327,-459],[-235,-571],[-41,-430],[46,-318],[-51,-582],[-63,-281],[-195,-317],[-308,-1013],[-244,-457],[-189,-269],[-127,-548],[-183,-329]],[[35174,32383],[-77,326],[122,273],[-160,392],[-218,318],[-286,369],[-103,-17],[-279,446],[-180,-62]],[[81723,54436],[110,215],[236,316]],[[82069,54967],[-13,-284],[-16,-368],[-133,18],[-58,-196],[-126,299]],[[75471,67823],[113,-184],[-20,-354],[-227,-17],[-234,39],[-175,-90],[-252,218],[-6,115]],[[74670,67550],[184,429],[150,146],[198,-134],[147,-14],[122,-154]],[[58175,39107],[-393,-424],[-249,-430],[-93,-383],[-83,-217],[-152,-46],[-48,-275],[-28,-180],[-178,-134],[-226,28],[-133,162],[-117,70],[-135,-134],[-68,-276],[-132,-173],[-139,-257],[-199,-59],[-62,202],[26,351],[-165,548],[-75,86]],[[55526,37566],[0,1681],[274,20],[8,2051],[207,19],[428,202],[106,-238],[177,226],[85,1],[156,130]],[[56967,41658],[50,-43]],[[57017,41615],[107,-460],[56,-103],[87,-333],[315,-633],[119,-62],[0,-203],[82,-365],[215,-88],[177,-261]],[[54244,56103],[229,44],[52,148],[46,-11],[69,-131],[350,221],[118,224],[145,202],[-28,202],[78,53],[269,-35],[261,266],[201,629],[141,233],[176,98]],[[56351,58246],[31,-246],[160,-360],[1,-235],[-45,-240],[18,-179],[96,-166]],[[56612,56820],[212,-252]],[[56824,56568],[152,-232],[2,-188],[187,-299],[116,-250],[70,-345],[208,-228],[44,-183]],[[57603,54843],[-91,-61],[-178,14],[-209,60],[-104,-49],[-41,-140],[-90,-17],[-110,121],[-309,-287],[-127,58],[-38,-45],[-83,-347],[-207,112],[-203,57],[-177,212],[-229,196],[-149,-186],[-108,-292],[-25,-402]],[[55125,53847],[-178,33],[-188,96],[-166,-305],[-146,-536]],[[54447,53135],[-29,167],[-12,263],[-127,185],[-103,297],[-23,207],[-132,301],[23,171],[-28,243],[21,446],[67,105],[140,583]],[[32315,78637],[202,-78],[257,16],[-137,-236],[-102,-37],[-353,244],[-69,193],[105,177],[97,-279]],[[32831,80108],[-135,-10],[-360,180],[-258,272],[96,49],[365,-145],[284,-240],[8,-106]],[[15692,79765],[-140,-80],[-456,262],[-84,204],[-248,202],[-50,164],[-286,103],[-107,314],[24,133],[291,-125],[171,-88],[261,-61],[94,-198],[138,-274],[277,-238],[115,-318]],[[34407,81019],[-184,-504],[181,195],[187,-124],[-98,-200],[247,-158],[128,140],[277,-177],[-86,-422],[194,99],[36,-306],[86,-358],[-117,-507],[-125,-21],[-183,109],[60,471],[-77,73],[-322,-499],[-166,20],[196,270],[-267,140],[-298,-34],[-539,17],[-43,171],[173,202],[-121,157],[234,347],[287,917],[172,328],[241,198],[129,-25],[-54,-156],[-148,-363]],[[13005,83025],[131,-75],[267,46],[-84,-654],[242,-463],[-111,1],[-167,264],[-103,265],[-140,179],[-51,253],[16,184]],[[27981,87625],[-108,-302],[-123,49],[-73,171],[13,40],[107,173],[114,-13],[70,-118]],[[27250,87943],[-325,-317],[-196,13],[-61,156],[207,265],[381,-5],[-6,-112]],[[26344,89640],[51,-253],[143,89],[161,-151],[304,-198],[318,-179],[25,-274],[204,45],[199,-191],[-247,-181],[-432,138],[-156,259],[-275,-306],[-396,-298],[-95,337],[-377,-55],[242,284],[35,454],[95,527],[201,-47]],[[28926,90499],[-312,-29],[-69,282],[118,323],[255,80],[217,-160],[3,-246],[-32,-80],[-180,-170]],[[23431,91627],[-173,-202],[-374,175],[-226,-63],[-380,259],[245,178],[194,250],[295,-164],[166,-103],[84,-110],[169,-220]],[[31350,77823],[-181,326],[0,785],[-123,166],[-187,-98],[-92,152],[-212,-435],[-84,-448],[-99,-262],[-118,-89],[-89,-29],[-28,-142],[-512,-1],[-422,-4],[-125,-106],[-294,-414],[-34,-45],[-89,-225],[-255,0],[-273,-2],[-125,-91],[44,-113],[25,-176],[-5,-58],[-363,-287],[-286,-90],[-323,-308],[-70,0],[-94,91],[-31,82],[6,60],[61,202],[131,317],[81,340],[-56,500],[-59,523],[-290,270],[35,103],[-41,70],[-76,0],[-56,91],[-14,137],[-54,-60],[-75,18],[17,57],[-65,57],[-27,151],[-216,185],[-224,191],[-272,223],[-261,209],[-248,-163],[-91,-6],[-342,150],[-225,-75],[-269,179],[-284,91],[-194,36],[-86,97],[-49,317],[-94,-3],[-1,-221],[-575,0],[-951,0],[-944,-1],[-833,1],[-834,0],[-819,0],[-847,0],[-273,0],[-825,0],[-788,0]],[[15878,80048],[-38,1],[-537,566],[-199,248],[-503,239],[-155,510],[40,353],[-356,245],[-48,464],[-336,419],[-6,296]],[[13740,83389],[154,278],[-7,363],[-473,367],[-284,657],[-173,413],[-255,259],[-187,236],[-147,298],[-279,-187],[-270,-321],[-247,378],[-194,252],[-271,160],[-273,17],[1,3279],[2,2137]],[[10837,91975],[518,-139],[438,-277],[289,-53],[244,241],[336,179],[413,-70],[416,253],[455,144],[191,-239],[207,134],[62,272],[192,-62],[470,-516],[369,390],[38,-437],[341,95],[105,168],[337,-33],[424,-242],[650,-211],[383,-98],[272,37],[374,-292],[-390,-286],[502,-123],[750,68],[236,100],[296,-345],[302,291],[-283,245],[179,197],[338,26],[223,58],[224,-138],[279,-312],[310,46],[491,-260],[431,91],[405,-13],[-32,358],[247,100],[431,-195],[-2,-545],[177,459],[223,-15],[126,579],[-298,355],[-324,233],[22,636],[329,418],[366,-92],[281,-255],[378,-649],[-247,-283],[517,-116],[-1,-589],[371,451],[332,-371],[-83,-427],[269,-388],[290,416],[202,497],[16,632],[394,-44],[411,-85],[373,-286],[17,-285],[-207,-307],[196,-309],[-36,-280],[-544,-403],[-386,-88],[-287,173],[-83,-289],[-268,-486],[-81,-252],[-322,-389],[-397,-38],[-220,-244],[-18,-374],[-323,-72],[-340,-467],[-301,-648],[-108,-454],[-16,-669],[409,-96],[125,-539],[130,-437],[388,114],[517,-250],[277,-219],[199,-272],[348,-158],[294,-243],[459,-33],[302,-56],[-45,-499],[86,-578],[201,-645],[414,-547],[214,188],[150,592],[-145,909],[-196,303],[445,270],[314,404],[154,401],[-23,385],[-188,489],[-338,434],[328,603],[-121,522],[-93,899],[194,133],[476,-157],[286,-56],[230,152],[258,-196],[342,-333],[85,-224],[495,-44],[-8,-483],[92,-728],[254,-90],[201,-339],[402,319],[266,636],[184,267],[216,-514],[362,-734],[307,-691],[-112,-362],[370,-325],[250,-329],[442,-149],[179,-183],[110,-488],[216,-76],[112,-217],[20,-647],[-202,-217],[-199,-202],[-458,-205],[-349,-473],[-470,-93],[-594,121],[-417,4],[-287,-40],[-233,-413],[-354,-255],[-401,-762],[-320,-532],[236,95],[446,756],[583,480],[415,58],[246,-283],[-262,-387],[88,-620],[91,-435],[361,-287],[459,83],[278,647],[19,-417],[180,-209],[-344,-377],[-615,-343],[-276,-233],[-310,-415],[-211,43],[-11,487],[483,476],[-445,-19],[-309,-70]],[[18287,93939],[-139,-270],[618,174],[386,-291],[314,294],[254,-188],[227,-566],[140,238],[-197,590],[244,85],[276,-93],[311,-232],[175,-561],[86,-406],[466,-285],[502,-273],[-31,-253],[-456,-47],[178,-221],[-94,-211],[-503,90],[-478,156],[-322,-35],[-522,-196],[-704,-86],[-494,-54],[-151,271],[-379,157],[-246,-64],[-343,456],[185,61],[429,99],[392,-26],[362,100],[-537,135],[-594,-46],[-394,11],[-146,213],[644,230],[-428,-8],[-485,152],[233,431],[193,229],[744,351],[284,-111]],[[20972,94111],[-244,-381],[-434,404],[95,80],[372,23],[211,-126]],[[28794,93928],[25,-159],[-296,16],[-299,13],[-304,-78],[-80,35],[-306,306],[12,207],[133,38],[636,-62],[479,-316]],[[25955,93959],[219,-359],[256,465],[704,236],[477,-596],[-42,-377],[550,168],[263,228],[616,-291],[383,-274],[36,-252],[515,131],[290,-367],[670,-228],[242,-232],[263,-539],[-510,-268],[654,-376],[441,-127],[400,-529],[437,-38],[-87,-404],[-487,-669],[-342,246],[-437,554],[-359,-72],[-35,-330],[292,-335],[377,-265],[114,-153],[181,-570],[-96,-414],[-350,156],[-697,461],[393,-496],[289,-348],[45,-201],[-753,230],[-596,334],[-337,281],[97,162],[-414,296],[-405,280],[5,-167],[-803,-92],[-235,198],[183,424],[522,10],[571,74],[-92,205],[96,287],[360,561],[-77,255],[-107,197],[-425,280],[-563,196],[178,145],[-294,358],[-245,33],[-219,196],[-149,-170],[-503,-74],[-1011,129],[-588,169],[-450,87],[-231,202],[290,263],[-394,2],[-88,583],[213,515],[286,235],[717,154],[-204,-373]],[[22123,94355],[331,-122],[496,73],[72,-167],[-259,-276],[420,-248],[-50,-518],[-455,-223],[-268,48],[-192,220],[-690,444],[5,185],[567,-72],[-306,377],[329,279]],[[24112,93737],[-298,-430],[-317,21],[-173,506],[4,287],[145,244],[276,157],[579,-20],[530,-140],[-415,-513],[-331,-112]],[[16539,92938],[-731,-278],[-147,253],[-641,304],[119,244],[192,421],[241,378],[-272,353],[939,90],[397,-119],[709,-32],[270,-167],[298,-243],[-349,-145],[-681,-405],[-344,-403],[0,-251]],[[23996,95009],[-151,-223],[-403,43],[-337,150],[148,259],[399,155],[243,-202],[101,-182]],[[22639,96011],[212,-267],[9,-295],[-127,-429],[-458,-59],[-298,92],[5,336],[-455,-44],[-18,445],[299,-18],[419,197],[390,-34],[22,76]],[[19941,95712],[109,-205],[247,97],[291,-25],[49,-282],[-169,-274],[-940,-89],[-701,-249],[-423,-13],[-35,187],[577,255],[-1255,-69],[-389,103],[379,563],[262,161],[782,-194],[493,-341],[485,-44],[-397,551],[255,210],[286,-67],[94,-275]],[[23699,96229],[308,-186],[547,2],[240,-190],[-64,-216],[319,-130],[177,-137],[374,-26],[406,-48],[441,125],[566,49],[451,-40],[298,-218],[62,-238],[-174,-153],[-414,-124],[-355,70],[-797,-88],[-570,-11],[-449,71],[-738,186],[-96,316],[-34,286],[-279,251],[-574,70],[-322,179],[104,236],[573,-36]],[[17722,96544],[-38,-443],[-214,-199],[-259,-29],[-517,-246],[-444,-88],[-377,124],[472,431],[570,373],[426,-8],[381,85]],[[23933,96472],[-126,-17],[-521,37],[-74,161],[559,-9],[195,-107],[-33,-65]],[[19392,96574],[-518,-166],[-411,186],[224,183],[406,59],[392,-90],[-93,-172]],[[19538,97095],[-339,-113],[-461,1],[5,82],[285,173],[149,-27],[361,-116]],[[23380,96781],[-411,-119],[-226,134],[-119,216],[-22,238],[360,-23],[162,-38],[332,-200],[-76,-208]],[[22205,96935],[108,-240],[-453,64],[-457,187],[-619,21],[268,171],[-335,139],[-21,221],[546,-79],[751,-210],[212,-274]],[[25828,97704],[334,-186],[-381,-171],[-513,-434],[-492,-41],[-575,74],[-299,235],[4,208],[220,154],[-508,-5],[-306,192],[-176,261],[193,256],[192,175],[285,41],[-122,132],[646,29],[355,-308],[468,-123],[455,-109],[220,-380]],[[30972,99689],[742,-45],[597,-74],[508,-156],[-12,-154],[-678,-250],[-672,-117],[-251,-129],[605,3],[-656,-349],[-452,-163],[-476,-470],[-573,-96],[-177,-117],[-841,-62],[383,-72],[-192,-103],[230,-284],[-264,-198],[-429,-163],[-132,-225],[-388,-172],[39,-130],[475,22],[6,-141],[-742,-345],[-726,159],[-816,-89],[-414,69],[-525,30],[-35,277],[514,130],[-137,415],[170,41],[742,-249],[-379,370],[-450,110],[225,223],[492,137],[79,201],[-392,225],[-118,297],[759,-25],[220,-63],[433,210],[-625,67],[-972,-37],[-491,196],[-232,232],[-324,169],[-61,197],[413,110],[324,18],[545,94],[409,214],[344,-30],[300,-161],[211,311],[367,92],[498,64],[849,24],[148,-63],[802,98],[601,-37],[602,-36]],[[52900,78834],[-22,-236],[-122,-97],[-206,72],[-60,-232],[-132,-18],[-48,91],[-156,-195],[-134,-28],[-120,124]],[[51900,78315],[-95,252],[-133,-90],[5,261],[203,323],[-9,147],[126,-53],[77,98]],[[52074,79253],[236,-4],[57,125],[298,-176]],[[31400,20215],[-92,-233],[-238,-178],[-137,18],[-164,46],[-202,174],[-291,83],[-350,322],[-283,309],[-383,645],[229,-121],[390,-384],[369,-207],[143,264],[90,394],[256,238],[198,-68]],[[30952,21711],[-247,4],[-134,-141],[-250,-208],[-45,-538],[-118,-14],[-313,188],[-318,401],[-346,329],[-87,365],[79,337],[-140,383],[-36,982],[119,554],[293,445],[-422,168],[265,509],[94,956],[309,-202],[145,1193],[-186,153],[-87,-719],[-175,81],[87,823],[95,1067],[127,394],[-80,562],[-22,649],[117,18],[170,930],[192,922],[118,858],[-64,863],[83,475],[-34,711],[163,703],[50,1114],[89,1196],[87,1287],[-20,943],[-58,811]],[[30452,41263],[143,147],[74,295]],[[80649,62586],[-240,-277],[-228,179],[-8,495],[137,261],[304,161],[159,-13],[62,-220],[-122,-254],[-64,-332]],[[86288,76244],[-179,340],[-111,-323],[-429,-248],[44,-304],[-241,21],[-131,181],[-191,-409],[-306,-309],[-227,-370]],[[84517,74823],[-388,-167],[-204,-269],[-300,-157],[148,267],[-58,224],[220,387],[-147,302],[-242,-204],[-314,-400],[-171,-372],[-272,-28],[-142,-268],[147,-390],[227,-94],[9,-259],[220,-168],[311,411],[247,-224],[179,-15],[45,-302],[-393,-161],[-130,-311],[-270,-289],[-142,-403],[299,-316],[109,-567],[169,-527],[189,-443],[-5,-428],[-174,-157],[66,-307],[164,-179],[-43,-469],[-71,-456],[-155,-52],[-203,-623],[-225,-756],[-258,-687],[-382,-532],[-386,-484],[-313,-67],[-170,-255],[-96,186],[-157,-286],[-388,-288],[-294,-88],[-95,-609],[-154,-33],[-73,418],[66,222],[-373,185],[-131,-94]],[[80013,64241],[-280,149],[-132,234],[44,332],[-254,105],[-134,216],[-236,-307],[-271,-66],[-221,3],[-149,-141]],[[78380,64766],[-144,-84],[42,-659],[-148,16],[-25,135]],[[78105,64174],[-9,238],[-203,-167],[-121,106],[-206,216],[81,478],[-176,112],[-66,530],[-293,-96],[33,684],[263,480],[11,475],[-8,441],[-121,137],[-93,339],[-162,-42]],[[77035,68105],[-300,86],[94,242],[-130,358],[-198,-243],[-233,142],[-321,-367],[-252,-428],[-224,-72]],[[74670,67550],[-23,454],[-170,-121]],[[74477,67883],[-324,56],[-314,132],[-225,253],[-216,114],[-93,276],[-157,83],[-280,375],[-223,177],[-115,-138]],[[72530,69211],[-386,403],[-273,365],[-78,635],[200,-78],[9,294],[-111,295],[28,470],[-298,675]],[[71621,72270],[-457,233],[-82,442],[-205,269]],[[70827,73379],[-42,328],[10,224],[-169,131],[-91,-58],[-70,533]],[[70465,74537],[79,132],[-39,135],[266,272],[192,112],[294,-77],[105,368],[356,68],[99,229],[438,312],[39,130]],[[72294,76218],[-22,328],[190,150],[-250,1e3],[550,231],[143,128],[200,1031],[551,-190],[155,261],[13,577],[230,54],[212,383]],[[74266,80171],[109,48]],[[74375,80219],[73,-402],[233,-306],[396,-216],[192,-464],[-107,-673],[100,-249],[330,-99],[374,-80],[336,-359],[171,-64],[127,-531],[163,-342],[306,14],[574,-129],[369,80],[274,-86],[411,-350],[336,1],[123,-179],[324,309],[448,200],[417,21],[324,203],[200,309],[194,193],[-45,190],[-89,222],[146,371],[156,-52],[286,-117],[277,306],[423,223],[204,380],[195,164],[404,77],[219,-65],[30,204],[-251,403],[-223,184],[-214,-212],[-274,89],[-157,-73],[-72,236],[197,575],[135,434]],[[82410,80559],[333,-217],[392,364],[-3,253],[251,611],[155,184],[-4,318],[-152,137],[229,287],[345,104],[369,15],[415,-171],[244,-212],[172,-581],[104,-248],[97,-354],[103,-564],[483,-184],[329,-409],[112,-541],[423,-1],[240,227],[459,170],[-146,-518],[-107,-211],[-96,-631],[-186,-560],[-338,102],[-238,-203],[73,-494],[-40,-680],[-142,-16],[2,-292]],[[49206,54706],[-126,-6],[-194,112],[-178,-6],[-329,-101],[-193,-166],[-275,-211],[-54,15]],[[47857,54343],[22,474],[26,72],[-8,227],[-118,241],[-88,39],[-81,158],[60,256],[-28,278],[13,168]],[[47655,56256],[44,0],[17,251],[-22,112],[27,80],[103,69],[-69,461],[-64,238],[23,195],[55,45]],[[47769,57707],[36,52],[77,-86],[215,-5],[51,168],[48,-11],[80,65],[43,-246],[65,72],[114,86]],[[49214,57382],[74,-819],[-117,-484],[-73,-650],[121,-496],[-13,-227]],[[53632,53135],[-35,31],[-164,-74],[-169,77],[-132,-38]],[[53132,53131],[-452,14]],[[52680,53145],[40,454],[-108,381],[-127,98],[-56,258],[-72,82],[4,159]],[[52361,54577],[71,408],[132,556],[81,5],[165,337],[105,9],[156,-236],[191,194],[26,239],[63,232],[43,291],[148,238],[56,403],[59,128],[39,299],[74,368],[234,446],[14,191],[31,104],[-110,229]],[[53939,59018],[9,184],[78,33]],[[54026,59235],[111,-369],[18,-382],[-10,-383],[151,-523],[-155,6],[-78,-41],[-127,57],[-60,-271],[164,-336],[121,-98],[39,-239],[87,-397],[-43,-156]],[[54447,53135],[-20,-311],[-220,136],[-225,152],[-350,23]],[[58564,53850],[-16,-673],[111,-78],[-89,-205],[-107,-153],[-106,-300],[-59,-268],[-15,-462],[-65,-220],[-2,-434]],[[58216,51057],[-80,-161],[-10,-342],[-38,-45],[-26,-315]],[[58149,49238],[50,-530],[-27,-299],[55,-334],[161,-323],[150,-726]],[[58538,47026],[-109,59],[-373,-97],[-75,-69],[-79,-368],[62,-254],[-49,-681],[-34,-578],[75,-103],[194,-224],[76,105],[23,-621],[-212,4],[-114,317],[-103,246],[-213,80],[-62,302],[-170,-182],[-222,81],[-93,261],[-176,53],[-131,-14],[-15,179],[-96,15]],[[53422,48316],[-39,179]],[[53609,49076],[73,-59],[95,221],[152,-6],[17,-163],[104,-102],[164,361],[161,281],[71,185],[-10,473],[121,560],[127,296],[183,278],[32,184],[7,211],[45,200],[-14,326],[34,510],[55,360],[83,308],[16,347]],[[57603,54843],[169,-475],[124,-70],[75,97],[128,-38],[155,122],[66,-246],[244,-383]],[[53309,48928],[-228,610]],[[53081,49538],[212,318],[-105,381],[95,144],[187,71],[23,255],[148,-276],[245,-25],[85,273],[36,382],[-31,450],[-131,341],[120,667],[-69,114],[-207,-47],[-78,298],[21,251]],[[29063,51742],[-119,136],[-137,191],[-79,-92],[-235,80],[-68,248],[-52,-9],[-278,329]],[[28095,52625],[-37,178],[103,44],[-12,288],[65,209],[138,38],[117,362],[106,302],[-102,137],[52,335],[-62,526],[59,152],[-44,487],[-112,306]],[[28366,55989],[36,280],[89,-41],[52,171],[-64,339],[34,85]],[[28513,56823],[143,-19],[209,402],[114,62],[3,190],[51,487],[159,267],[175,11],[22,120],[218,-48],[218,291],[109,128],[134,278],[98,-36],[73,-151],[-54,-194]],[[30185,58611],[-178,-96],[-71,-288],[-107,-165],[-81,-215],[-34,-410],[-77,-337],[144,-39],[35,-265],[62,-126],[21,-232],[-33,-213],[10,-120],[69,-48],[66,-201],[357,55],[161,-73],[196,-496],[112,62],[200,-31],[158,66],[99,-99],[-50,-311],[-62,-193],[-22,-413],[56,-383],[79,-171],[9,-129],[-140,-286],[100,-127],[74,-202],[85,-574]],[[30585,49354],[-139,306],[-83,14],[179,586],[-213,270],[-166,-50],[-101,100],[-153,-152],[-207,72],[-163,603],[-129,149],[-89,272],[-184,272],[-74,-54]],[[26954,56566],[-151,128],[-56,121],[32,100],[-11,127],[-77,138],[-109,113],[-95,74],[-19,168],[-73,103],[18,-167],[-55,-138],[-64,160],[-89,57],[-38,116],[2,175],[36,182],[-78,81],[64,111]],[[26191,58215],[42,74],[183,-152],[63,75],[89,-48],[46,-119],[82,-38],[66,122]],[[26762,58129],[70,-313],[108,-232],[130,-246]],[[27070,57338],[-107,-51],[1,-232],[58,-86],[-41,-68],[10,-104],[-23,-117],[-14,-114]],[[27147,65183],[240,-41],[219,-6],[261,-197],[110,-210],[260,65],[98,-136],[235,-356],[173,-260],[92,8],[165,-118],[-20,-162],[205,-23],[210,-236],[-33,-135],[-185,-73],[-187,-29],[-191,46],[-398,-56],[186,321],[-113,150],[-179,38],[-96,166],[-66,328],[-157,-22],[-259,154],[-83,121],[-362,89],[-97,113],[104,144],[-273,29],[-199,-299],[-115,-8],[-40,-141],[-138,-63],[-118,55],[146,178],[60,208],[126,128],[142,112],[210,55],[67,63]],[[59092,72066],[19,3],[40,139],[200,-8],[253,172],[-188,-245],[21,-108]],[[59437,72019],[-30,20],[-53,-44],[-42,12],[-14,-22],[-5,59],[-20,35],[-54,6],[-75,-49],[-52,30]],[[59437,72019],[8,-46],[-285,-234],[-136,74],[-64,232],[132,21]],[[53776,79977],[-157,247],[-141,139],[-30,243],[-49,171],[202,125],[103,144],[200,111],[70,110],[73,-66],[124,60]],[[54171,81261],[132,-186],[207,-50],[-17,-158],[151,-119],[41,148],[191,-64],[26,-180],[207,-35],[127,-284]],[[55236,80333],[-82,0],[-43,-104],[-64,-25],[-18,-131],[-54,-28],[-7,-53],[-95,-60],[-123,10],[-39,-127]],[[52756,83493],[4,-222],[281,-135],[-3,-204],[283,108],[156,158],[313,-228],[132,-183]],[[53922,82787],[64,-293],[-77,-154],[101,-205],[69,-308],[-22,-199],[114,-367]],[[52074,79253],[35,410],[140,395],[-400,106],[-131,151]],[[51718,80315],[16,252],[-56,130]],[[51710,81086],[-47,604],[167,0],[70,217],[69,527],[-51,195]],[[51918,82629],[54,122],[232,31],[52,-127],[188,284],[-63,216],[-13,326]],[[52368,83481],[210,-76],[178,88]],[[61966,59143],[66,-178],[-9,-240],[-158,-137],[119,-158]],[[61984,58430],[-102,-308]],[[61882,58122],[-62,103],[-67,-41],[-155,9],[-4,176],[-22,159],[94,269],[98,255]],[[61764,59052],[119,-50],[83,141]],[[53524,83854],[-166,-466],[-291,325],[-39,239],[408,191],[88,-289]],[[52368,83481],[-113,320],[-8,589],[46,155],[80,173],[244,36],[98,159],[223,162],[-9,-296],[-82,-188],[33,-161],[151,-87],[-68,-217],[-83,62],[-200,-415],[76,-280]],[[30080,63183],[34,98],[217,-3],[165,-148],[73,14],[50,-204],[152,11],[-9,-171],[124,-21],[136,-211],[-103,-235],[-132,126],[-127,-25],[-92,28],[-50,-105],[-106,-36],[-43,140],[-92,-83],[-111,-394],[-71,92],[-14,165]],[[30081,62221],[5,157],[-71,172],[68,97],[21,222],[-24,314]],[[53333,65346],[-952,-1097],[-804,-1132],[-392,-257]],[[51185,62860],[-308,-56],[-3,366],[-129,94],[-173,165],[-66,270],[-937,1256],[-937,1257]],[[48632,66212],[-1045,1394]],[[47587,67606],[6,112],[-1,38]],[[47592,67756],[-2,682],[449,425],[277,88],[227,155],[107,288],[324,228],[12,427],[161,50],[126,213],[363,97],[51,224],[-73,122],[-96,608],[-17,350],[-104,369]],[[49397,72082],[267,315],[300,100],[175,238],[268,175],[471,102],[459,47],[140,-85],[262,227],[297,4],[113,-134],[190,35]],[[52339,73106],[-57,-295],[44,-549],[-65,-475],[-171,-322],[24,-433],[227,-344],[3,-139],[171,-232],[118,-1034]],[[52633,69283],[90,-509],[15,-267],[-49,-470],[21,-263],[-36,-315],[24,-362],[-110,-240],[164,-420],[11,-247],[99,-321],[130,105],[219,-267],[122,-361]],[[27693,49869],[148,430],[-60,251],[-106,-267],[-166,252],[56,163],[-47,522],[97,87],[52,359],[105,371],[-20,235],[153,123],[190,230]],[[29063,51742],[38,-438],[-86,-374],[-303,-603],[-334,-227],[-170,-501],[-53,-389],[-157,-237],[-116,291],[-113,62],[-114,-45],[-8,211],[79,137],[-33,240]],[[59700,68819],[-78,-232],[-60,-435],[-75,-300],[-65,-100],[-93,186],[-125,257],[-198,825],[-29,-52],[115,-608],[171,-579],[210,-897],[102,-313],[90,-325],[249,-638],[-55,-100],[9,-374],[323,-517],[49,-118]],[[60240,64499],[-1102,0],[-1077,0],[-1117,0]],[[56944,64499],[0,2120],[0,2048],[-83,464],[71,356],[-43,246],[101,276]],[[56990,70009],[369,10],[268,-152],[275,-171],[129,-89],[214,182],[114,165],[245,48],[198,-73],[75,-286],[65,189],[222,-136],[217,-33],[137,145]],[[59518,69808],[182,-989]],[[61764,59052],[-95,187],[-114,337],[-124,185],[-71,199],[-242,231],[-191,7],[-67,120],[-163,-135],[-168,261],[-87,-430],[-323,121]],[[60119,60135],[-30,230],[120,847],[27,382],[88,177],[204,95],[141,328]],[[60669,62194],[161,-666],[77,-529],[152,-281],[379,-544],[154,-328],[151,-332],[87,-198],[136,-173]],[[47490,75948],[14,410],[-114,250],[393,415],[340,-104],[373,4],[296,-98],[230,30],[449,-19]],[[49471,76836],[111,-224],[511,-262],[101,125],[313,-261],[322,75]],[[50829,76289],[15,-335],[-263,-383],[-356,-122],[-25,-194],[-171,-319],[-107,-469],[108,-329],[-160,-257],[-60,-374],[-210,-115],[-197,-443],[-352,-8],[-265,10],[-174,-203],[-106,-218],[-136,48],[-103,195],[-79,331],[-259,89]],[[47929,73193],[-23,191],[103,216],[38,156],[-96,172],[77,378],[-111,345],[120,48],[11,272],[45,84],[3,449],[129,156],[-78,289],[-162,20],[-47,-72],[-164,-1],[-70,282],[-113,-84],[-101,-146]],[[56753,85111],[32,340],[-102,-72],[-176,204],[-24,331],[351,161],[350,83],[301,-95],[287,17]],[[57772,86080],[42,-100],[-198,-332],[83,-537],[-120,-183]],[[57579,84928],[-229,1],[-239,214],[-121,70],[-237,-102]],[[61882,58122],[-61,-204],[103,-317],[102,-277],[106,-206],[909,-683],[233,3]],[[63274,56438],[-785,-1728],[-362,-26],[-247,-406],[-178,-10],[-76,-182]],[[61626,54086],[-190,0],[-112,195],[-254,-241],[-82,-240],[-185,45],[-62,67],[-65,-16],[-87,6],[-352,489],[-193,0],[-95,189],[0,324],[-145,96]],[[59804,55e3],[-164,627],[-127,133],[-48,231],[-141,280],[-171,42],[95,328],[147,14],[42,176]],[[59437,56831],[-4,517]],[[59433,57348],[82,603],[132,161],[28,236],[119,440],[168,285],[112,567],[45,495]],[[57942,91602],[-41,-403],[425,-383],[-256,-435],[323,-655],[-187,-494],[250,-429],[-113,-375],[411,-394],[-105,-294],[-258,-333],[-594,-735]],[[57797,86672],[-504,-46],[-489,-211],[-452,-121],[-161,314],[-269,189],[62,567],[-135,520],[133,335],[252,362],[635,624],[185,121],[-28,243],[-387,272]],[[56639,89841],[-93,225],[-8,886],[-433,392],[-371,282]],[[55734,91626],[167,152],[309,-304],[362,29],[298,-140],[265,255],[137,422],[431,196],[356,-229],[-117,-405]],[[99547,41844],[96,-167],[-46,-300],[-172,-79],[-153,71],[-27,253],[107,198],[126,-71],[69,95]],[[0,42577],[57,26],[-34,-277],[-23,-31],[99822,-141],[-177,-122],[-36,215],[139,118],[88,32],[-99836,180]],[[33e3,21970],[333,345],[236,-144],[167,231],[222,-259],[-83,-202],[-375,-173],[-125,202],[-236,-259],[-139,259]],[[34854,53161],[70,246],[24,262],[48,246],[-107,340]],[[34889,54255],[-22,394],[144,495]],[[35011,55144],[95,-63],[204,-136],[294,-486],[46,-236]],[[52655,76104],[-92,-445],[-126,118],[-64,387],[56,214],[179,220],[47,-494]],[[51576,80352],[62,-50],[80,13]],[[51900,78315],[-11,-163],[82,-216],[-97,-176],[72,-445],[151,-73],[-32,-250]],[[52065,76992],[-252,-326],[-548,156],[-404,-186],[-32,-347]],[[49471,76836],[144,345],[53,1147],[-287,605],[-205,291],[-424,222],[-28,420],[360,125],[466,-148],[-88,652],[263,-247],[646,449],[84,472],[243,116]],[[53081,49538],[-285,581],[-184,475],[-169,595],[9,192],[61,184],[67,419],[56,427]],[[52636,52411],[94,33],[404,-6],[-2,693]],[[48278,82851],[-210,118],[-172,-8],[57,309],[-57,309]],[[47896,83579],[233,23],[298,-356],[-149,-395]],[[49165,85596],[-297,-623],[283,79],[304,-3],[-72,-469],[-250,-516],[287,-37],[22,-61],[248,-679],[190,-93],[171,-656],[79,-227],[337,-110],[-34,-368],[-142,-169],[111,-298],[-250,-302],[-371,6],[-473,-159],[-130,114],[-183,-270],[-257,65],[-195,-220],[-148,115],[407,605],[249,125],[-2,0],[-434,96],[-79,229],[291,179],[-152,310],[52,377],[413,-52],[1,0],[40,334],[-186,355],[-4,8],[-337,101],[-66,156],[101,258],[-92,158],[-149,-272],[-17,555],[-140,294],[101,595],[216,467],[222,-45],[335,48]],[[61542,75749],[42,246],[-70,393],[-160,212],[-154,66],[-102,177]],[[61098,76843],[34,68],[235,-99],[409,-93],[378,-276],[48,-107],[169,90],[259,-120],[85,-236],[175,-134]],[[62106,75494],[-268,282],[-296,-27]],[[50294,55244],[-436,-337],[-154,-198],[-250,-167],[-248,164]],[[50006,58175],[-20,-180],[116,-297],[-1,-418],[27,-454],[69,-210],[-61,-518],[22,-287],[74,-365],[62,-202]],[[47655,56256],[-78,14],[-57,-232],[-78,3],[-55,123],[19,231],[-116,353],[-73,-65],[-59,-13]],[[47158,56670],[-77,-33],[3,211],[-44,151],[9,168],[-60,242],[-78,206],[-222,0],[-65,-108],[-76,-13],[-48,-125],[-32,-159],[-148,-254]],[[46320,56956],[-122,341],[-108,226],[-71,74],[-69,115],[-32,254],[-41,127],[-80,94]],[[45797,58187],[123,281],[84,-11],[73,97],[61,1],[44,76],[-24,191],[31,60],[5,195]],[[46194,59077],[134,-5],[200,-141],[61,13],[21,64],[151,-45],[40,32]],[[46801,58995],[16,-211],[44,1],[73,77],[46,-20],[77,-146],[119,-46],[76,125],[90,77],[67,80],[55,-15],[62,-126],[33,-159],[114,-241],[-57,-149],[-11,-187],[59,57],[35,-67],[-15,-172],[85,-166]],[[45321,59403],[36,255]],[[45357,59658],[302,17],[63,136],[88,10],[110,-142],[86,-3],[92,97],[56,-166],[-120,-130],[-121,11],[-119,121],[-103,-133],[-50,-5],[-67,-80],[-253,12]],[[45797,58187],[-149,241],[-117,38],[-63,162],[1,88],[-84,122],[-18,124]],[[45367,58962],[147,93],[92,-18],[75,65],[513,-25]],[[52636,52411],[-52,87],[96,647]],[[56583,72391],[152,-194],[216,33],[207,-41],[-7,-100],[151,69],[-35,-170],[-400,-49],[3,95],[-339,112],[52,245]],[[57237,75339],[-169,17],[-145,54],[-336,-150],[192,-323],[-141,-94],[-154,-1],[-147,297],[-52,-127],[62,-344],[139,-270],[-105,-126],[155,-265],[137,-167],[4,-326],[-257,153],[82,-294],[-176,-60],[105,-509],[-184,-7],[-228,251],[-104,460],[-49,384],[-108,264],[-143,329],[-18,164]],[[55838,75350],[182,51],[106,126],[150,-11],[46,100],[53,19]],[[57254,75917],[135,-153],[-86,-360],[-66,-65]],[[37010,99413],[932,344],[975,-26],[354,213],[982,55],[2219,-72],[1737,-457],[-513,-222],[-1062,-25],[-1496,-56],[140,-103],[984,63],[836,-198],[540,176],[231,-206],[-305,-335],[707,214],[1348,223],[833,-111],[156,-246],[-1132,-410],[-157,-133],[-888,-99],[643,-28],[-324,-420],[-224,-373],[9,-641],[333,-376],[-434,-24],[-457,-182],[513,-305],[65,-490],[-297,-53],[360,-495],[-617,-42],[322,-234],[-91,-203],[-391,-89],[-388,-2],[348,-390],[4,-256],[-549,238],[-143,-154],[375,-144],[364,-352],[105,-464],[-495,-111],[-214,222],[-344,331],[95,-391],[-322,-303],[732,-24],[383,-31],[-745,-502],[-755,-454],[-813,-199],[-306,-2],[-288,-222],[-386,-608],[-597,-404],[-192,-23],[-370,-142],[-399,-134],[-238,-357],[-4,-403],[-141,-378],[-453,-461],[112,-450],[-125,-476],[-142,-563],[-391,-35],[-410,471],[-556,3],[-269,315],[-186,563],[-481,716],[-141,375],[-38,517],[-384,532],[100,424],[-186,203],[275,673],[418,214],[110,241],[58,450],[-318,-204],[-151,-85],[-249,-83],[-341,188],[-19,392],[109,306],[258,8],[567,-153],[-478,366],[-249,197],[-276,-81],[-232,143],[310,536],[-169,215],[-220,398],[-335,611],[-353,223],[3,241],[-745,337],[-590,42],[-743,-23],[-677,-42],[-323,183],[-482,362],[729,181],[559,31],[-1188,149],[-627,236],[39,223],[1051,277],[1018,277],[107,210],[-750,206],[243,230],[961,402],[404,62],[-115,258],[658,152],[854,90],[853,6],[303,-180],[737,317],[663,-215],[390,-45],[577,-188],[-660,311],[38,246]],[[24973,59739],[-142,101],[-174,10],[-127,114],[-149,238]],[[24381,60202],[7,168],[32,135],[-39,107],[133,470],[357,1],[7,197],[-45,35],[-31,124],[-103,133],[-103,193],[125,1],[1,324],[259,1],[257,-6]],[[25297,60979],[90,-105],[24,86],[82,-73]],[[25493,60887],[-127,-220],[-131,-161],[-20,-111],[22,-113],[-58,-146]],[[25179,60136],[-65,-36],[15,-67],[-52,-64],[-95,-145],[-9,-85]],[[33400,56648],[183,-212],[171,-375],[8,-297],[105,-13],[149,-281],[109,-201]],[[34125,55269],[-44,-518],[-169,-150],[15,-136],[-51,-297],[123,-418],[89,-1],[37,-325],[169,-501]],[[33129,54824],[-188,437],[75,159],[-5,265],[171,93],[69,108],[-95,213],[24,210],[220,339]],[[25745,59307],[-48,180],[-84,50]],[[25613,59537],[19,231],[-38,62],[-57,41],[-122,-68],[-10,77],[-84,93],[-60,114],[-82,49]],[[25493,60887],[29,-23],[61,101],[79,9],[26,-47],[43,28],[129,-52],[128,15],[90,64],[32,65],[89,-30],[66,-39],[73,13],[55,50],[127,-80],[44,-13],[85,-107],[80,-129],[101,-88],[73,-159]],[[26903,60465],[-95,12],[-38,-79],[-97,-75],[-70,0],[-61,-73],[-56,26],[-47,88],[-29,-17],[-36,-138],[-27,5],[-4,-118],[-97,-159],[-51,-68],[-29,-72],[-82,117],[-60,-154],[-58,4],[-65,-14],[6,-283],[-41,-5],[-35,-131],[-86,-24]],[[55230,78267],[67,-223],[89,-164],[-107,-217]],[[55155,76391],[-31,-98]],[[55124,76293],[-261,213],[-161,207],[-254,171],[-233,424],[56,43],[-127,242],[-5,195],[-179,91],[-85,-249],[-82,193],[6,200],[10,9]],[[53809,78032],[194,-20],[51,98],[94,-94],[109,-12],[-1,161],[97,59],[27,233],[221,153]],[[54601,78610],[88,-71],[208,-247],[229,-111],[104,86]],[[30081,62221],[-185,98],[-131,-40],[-169,42],[-130,-108],[-149,179],[24,186],[256,-80],[210,-46],[100,128],[-127,250],[2,220],[-175,89],[62,159],[170,-25],[241,-90]],[[54716,79543],[141,-148],[103,-62],[233,70],[22,116],[111,17],[135,89],[30,-37],[130,72],[66,136],[91,35],[297,-175],[59,59]],[[56134,79715],[155,-157],[19,-154]],[[56308,79404],[-170,-121],[-131,-391],[-168,-390],[-223,-109]],[[55616,78393],[-173,26],[-213,-152]],[[54601,78610],[-54,194],[-47,7]],[[83531,45933],[-117,-11],[-368,403],[259,113],[146,-175],[97,-175],[-17,-155]],[[84713,46708],[28,-113],[5,-175]],[[84746,46420],[-181,-430],[-238,-127],[-33,69],[25,196],[119,351],[275,229]],[[82749,47167],[100,-153],[172,47],[69,-245],[-321,-116],[-193,-77],[-149,4],[95,332],[153,5],[74,203]],[[84139,47168],[-41,-320],[-417,-163],[-370,71],[0,210],[220,120],[174,-173],[185,44],[249,211]],[[80172,47926],[533,-57],[61,237],[515,-277],[101,-373],[417,-105],[341,-342],[-317,-220],[-306,232],[-251,-15],[-288,42],[-260,104],[-322,220],[-204,57],[-116,-72],[-506,237],[-48,247],[-255,43],[191,550],[337,-34],[224,-225],[115,-44],[38,-205]],[[87423,48251],[-143,-393],[-27,434],[49,207],[58,195],[63,-169],[0,-274]],[[85346,49837],[-104,-191],[-192,106],[-54,248],[281,27],[69,-190]],[[86241,50048],[101,-441],[-234,238],[-232,48],[-157,-38],[-192,20],[65,317],[344,24],[305,-168]],[[89166,50332],[5,-1877],[4,-1876]],[[89175,46579],[-247,472],[-282,116],[-69,-164],[-352,-18],[118,469],[175,160],[-72,626],[-134,483],[-538,488],[-229,48],[-417,532],[-82,-279],[-107,-51],[-63,211],[-1,250],[-212,283],[299,207],[198,-11],[-23,153],[-407,1],[-110,343],[-248,106],[-117,285],[374,140],[142,188],[446,-237],[44,-214],[78,-931],[287,-345],[232,611],[319,347],[247,1],[238,-201],[206,-206],[298,-110]],[[84788,52647],[-223,-571],[-209,-111],[-267,113],[-463,-29],[-243,-83],[-39,-436],[248,-512],[150,261],[518,196],[-22,-265],[-121,83],[-121,-337],[-245,-223],[263,-738],[-50,-198],[249,-665],[-2,-378],[-148,-170],[-109,203],[134,471],[-273,-222],[-69,159],[36,222],[-200,338],[21,561],[-186,-175],[24,-671],[11,-824],[-176,-84],[-119,169],[79,530],[-43,556],[-117,4],[-86,395],[115,377],[40,457],[139,868],[58,238],[237,427],[217,-170],[350,-80],[319,24],[275,419],[48,-129]],[[85746,52481],[-15,-503],[-143,57],[-42,-351],[114,-304],[-78,-69],[-112,365],[-82,736],[56,460],[92,210],[20,-315],[164,-50],[26,-236]],[[80461,52985],[47,-385],[190,-325],[179,117],[177,-42],[162,291],[133,51],[263,-162],[226,123],[143,801],[107,200],[96,655],[319,0],[241,-97]],[[82744,54212],[-158,-520],[204,-545],[-48,-265],[312,-533],[-329,-68],[-93,-393],[12,-522],[-267,-393],[-7,-574],[-107,-881],[-41,205],[-316,-259],[-110,352],[-198,33],[-139,184],[-330,-207],[-101,279],[-182,-32],[-229,67],[-43,772],[-138,160],[-134,493],[-38,504],[32,533],[165,383]],[[79393,48459],[-308,-12],[-234,481],[-356,471],[-119,349],[-210,469],[-138,432],[-212,806],[-244,480],[-81,495],[-103,449],[-250,363],[-145,493],[-209,322],[-290,635],[-24,293],[178,-23],[430,-111],[246,-564],[215,-390],[153,-240],[263,-619],[283,-9],[233,-394],[161,-482],[211,-263],[-111,-471],[159,-200],[100,-14],[47,-402],[97,-321],[204,-51],[135,-365],[-70,-716],[-11,-891]],[[72530,69211],[-176,-261],[-108,-538],[269,-218],[262,-283],[362,-323],[381,-75],[160,-293],[215,-54],[334,-135],[231,10],[32,228],[-36,366],[21,248]],[[77035,68105],[20,-219],[-97,-105],[23,-355],[-199,104],[-359,-397],[8,-330],[-153,-483],[-14,-281],[-124,-474],[-217,131],[-11,-596],[-63,-196],[30,-245],[-137,-137]],[[74730,64531],[-39,-210],[-189,7],[-343,-120],[16,-433],[-148,-341],[-400,-387],[-311,-678],[-209,-363],[-276,-377],[-1,-265],[-138,-142],[-251,-206],[-129,-31],[-84,-439],[58,-749],[15,-478],[-118,-547],[-1,-978],[-144,-28],[-126,-439],[84,-190],[-253,-163],[-93,-392],[-112,-165],[-263,537],[-128,807],[-107,581],[-97,272],[-148,553],[-69,720],[-48,360],[-253,791],[-115,1116],[-83,737],[1,698],[-54,539],[-404,-345],[-196,69],[-362,698],[133,208],[-82,226],[-326,489]],[[68937,65473],[185,384],[612,-1],[-56,494],[-156,292],[-31,444],[-182,258],[306,604],[323,-44],[290,604],[174,584],[270,578],[-4,411],[236,333],[-224,284],[-96,390],[-99,504],[137,249],[421,-141],[310,86],[268,484]],[[48278,82851],[46,-412],[-210,-514],[-493,-340],[-393,87],[225,601],[-145,586],[378,451],[210,269]],[[64978,73251],[244,112],[197,329],[186,-17],[122,108],[197,-53],[308,-292],[221,-63],[318,-510],[207,-21],[24,-484]],[[66909,69007],[137,-302],[112,-348],[266,-253],[7,-508],[133,-93],[23,-265],[-400,-298],[-105,-669]],[[67082,66271],[-523,174],[-303,133],[-313,74],[-118,707],[-133,102],[-214,-103],[-280,-279],[-339,191],[-281,443],[-267,164],[-186,546],[-205,768],[-149,-93],[-177,190],[-104,-224]],[[63490,69064],[-153,302],[-3,307],[-89,0],[46,417],[-143,438],[-340,315],[-193,548],[65,449],[139,199],[-21,336],[-182,173],[-180,687]],[[62436,73235],[-152,461],[55,179],[-87,660],[190,164]],[[63578,73897],[88,-424],[263,-120],[193,-289],[395,-100],[434,153],[27,134]],[[63490,69064],[-164,28]],[[63326,69092],[-187,48],[-204,-553]],[[62935,68587],[-516,46],[-784,1158],[-413,403],[-335,156]],[[60887,70350],[-112,701]],[[60775,71051],[615,600],[105,696],[-26,421],[152,142],[142,359]],[[61763,73269],[119,90],[324,-75],[97,-146],[133,97]],[[45969,90100],[-64,-373],[314,-392],[-361,-440],[-801,-394],[-240,-105],[-365,85],[-775,182],[273,254],[-605,282],[492,112],[-12,169],[-583,134],[188,375],[421,85],[433,-391],[422,314],[349,-163],[453,307],[461,-41]],[[59922,70666],[-49,-182]],[[59873,70484],[-100,80],[-58,-383],[69,-65],[-71,-79],[-12,-152],[131,78]],[[59832,69963],[7,-224],[-139,-920]],[[59518,69808],[80,190],[-19,32],[74,270],[56,434],[40,146],[8,6]],[[59757,70886],[93,-1],[25,101],[75,7]],[[59950,70993],[4,-236],[-38,-87],[6,-4]],[[54311,73846],[-100,-453],[41,-179],[-58,-296],[-213,217],[-141,62],[-387,293],[38,296],[325,-53],[284,63],[211,50]],[[52558,75561],[166,-408],[-39,-762],[-126,36],[-113,-192],[-105,153],[-11,694],[-64,330],[153,-29],[139,178]],[[53835,78613],[-31,-283],[67,-246]],[[53871,78084],[-221,84],[-226,-204],[15,-286],[-34,-164],[91,-293],[261,-290],[140,-476],[309,-464],[217,3],[68,-127],[-78,-115],[249,-208],[204,-174],[238,-301],[29,-107],[-52,-206],[-154,268],[-242,95],[-116,-372],[200,-214],[-33,-300],[-116,-34],[-148,-494],[-116,-45],[1,176],[57,309],[60,123],[-108,334],[-85,290],[-115,72],[-82,249],[-179,104],[-120,232],[-206,37],[-217,260],[-254,375],[-189,332],[-86,569],[-138,67],[-226,190],[-128,-78],[-161,-267],[-115,-42]],[[28453,62478],[187,-52],[147,-138],[46,-158],[-195,-11],[-84,-96],[-156,92],[-159,210],[34,132],[116,40],[64,-19]],[[59922,70666],[309,-228],[544,613]],[[60887,70350],[-53,-87],[-556,-289],[277,-575],[-92,-98],[-46,-193],[-212,-80],[-66,-207],[-120,-177],[-310,91]],[[59709,68735],[-9,84]],[[59832,69963],[41,169],[0,352]],[[87399,71495],[35,-197],[-156,-349],[-114,185],[-143,-134],[-73,-337],[-181,164],[2,273],[154,344],[158,-67],[114,242],[204,-124]],[[89159,73219],[-104,-460],[48,-288],[-145,-406],[-355,-271],[-488,-36],[-396,-657],[-186,221],[-12,431],[-483,-127],[-329,-271],[-325,-11],[282,-424],[-186,-979],[-179,-242],[-135,224],[69,519],[-176,167],[-113,395],[263,177],[145,362],[280,298],[203,394],[553,171],[297,-117],[291,1024],[185,-275],[408,575],[158,224],[174,704],[-47,648],[117,364],[295,105],[152,-798],[-9,-467],[-256,-580],[4,-594]],[[89974,77268],[195,-122],[197,244],[62,-647],[-412,-157],[-244,-572],[-436,393],[-152,-630],[-308,-9],[-39,573],[138,443],[296,32],[81,797],[83,449],[326,-600],[213,-194]],[[69711,76170],[-159,-107],[-367,-401],[-121,-412],[-104,-4],[-76,273],[-353,18],[-57,472],[-135,4],[21,578],[-333,421],[-476,-45],[-326,-84],[-265,519],[-227,218],[-431,412],[-52,50],[-715,-340],[11,-2124]],[[65546,75618],[-142,-28],[-195,452],[-188,161],[-315,-120],[-123,-191]],[[64583,75892],[-15,140],[68,240],[-53,201],[-322,196],[-125,517],[-154,146],[-9,187],[270,-54],[11,421],[236,93],[243,-86],[50,562],[-50,356],[-278,-28],[-236,141],[-321,-253],[-259,-121]],[[63639,78550],[-142,93],[29,296],[-177,385],[-207,-16],[-235,391],[160,436],[-81,118],[222,632],[285,-334],[35,421],[573,626],[434,15],[612,-399],[329,-233],[295,243],[440,12],[356,-298],[80,170],[391,-24],[69,272],[-450,396],[267,281],[-52,157],[266,150],[-200,394],[127,197],[1039,200],[136,142],[695,213],[250,239],[499,-124],[88,-597],[290,140],[356,-197],[-23,-314],[267,33],[696,543],[-102,-180],[355,-445],[620,-1463],[148,302],[383,-332],[399,148],[154,-104],[133,-332],[194,-112],[119,-244],[358,77],[147,-353]],[[72294,76218],[-171,84],[-140,207],[-412,61],[-461,15],[-100,-63],[-396,242],[-158,-119],[-43,-340],[-457,198],[-183,-81],[-62,-252]],[[61551,50860],[-195,-230],[-68,-240],[-104,-42],[-40,-406],[-89,-233],[-54,-383],[-112,-190]],[[60889,49136],[-399,576],[-19,334],[-1007,1173],[-47,63]],[[59417,51282],[-3,611],[80,233],[137,381],[101,420],[-123,661],[-32,289],[-132,400]],[[59445,54277],[171,344],[188,379]],[[61626,54086],[-243,-653],[3,-2098],[165,-475]],[[70465,74537],[-526,-87],[-343,187],[-301,-45],[26,332],[303,-96],[101,177]],[[69725,75005],[212,-56],[355,414],[-329,304],[-198,-144],[-205,217],[234,373],[-83,57]],[[78495,58847],[-66,696],[178,479],[359,110],[261,-83]],[[79227,60049],[229,-226],[126,397],[246,-212]],[[79828,60008],[64,-384],[-34,-690],[-467,-443],[122,-349],[-292,-42],[-240,-232]],[[78981,57868],[-233,84],[-112,301],[-141,594]],[[85652,74065],[240,-679],[68,-373],[3,-664],[-105,-316],[-252,-111],[-222,-239],[-250,-49],[-31,313],[51,432],[-122,600],[206,97],[-190,493]],[[85048,73569],[17,52],[124,-21],[108,260],[197,28],[118,38],[40,139]],[[55575,76355],[52,129]],[[55627,76484],[66,42],[38,191],[50,32],[40,-81],[52,-36],[36,-92],[46,-27],[54,-107],[39,3],[-31,-140],[-33,-68],[9,-43]],[[55993,76158],[-62,-23],[-164,-89],[-13,-118],[-35,5]],[[63326,69092],[58,-254],[-25,-132],[89,-434]],[[63448,68272],[-196,-15],[-69,274],[-248,56]],[[79227,60049],[90,260],[12,487],[-224,502],[-18,568],[-211,468],[-210,40],[-56,-201],[-163,-17],[-83,102],[-293,-344],[-6,517],[68,606],[-188,27],[-16,346],[-120,178]],[[77809,63588],[59,212],[237,374]],[[78380,64766],[162,-454],[125,-524],[342,-4],[108,-502],[-178,-151],[-80,-207],[333,-345],[231,-680],[175,-508],[210,-400],[70,-407],[-50,-576]],[[59757,70886],[99,469],[138,406],[5,20]],[[59999,71781],[125,-30],[45,-226],[-151,-217],[-68,-315]],[[47857,54343],[-73,-5],[-286,274],[-252,439],[-237,315],[-187,371]],[[46822,55737],[66,184],[15,168],[126,313],[129,268]],[[54125,64996],[-197,-214],[-156,316],[-439,248]],[[52633,69283],[136,133],[24,244],[-30,238],[191,222],[86,185],[135,165],[16,442]],[[53191,70912],[326,-198],[117,50],[232,-96],[368,-258],[130,-512],[250,-111],[391,-242],[296,-286],[136,150],[133,264],[-65,442],[87,280],[200,270],[192,78],[375,-118],[95,-257],[104,-3],[88,-98],[276,-67],[68,-191]],[[56944,64499],[0,-1150],[-320,-2],[-3,-242]],[[56621,63105],[-1108,1103],[-1108,1103],[-280,-315]],[[72718,56162],[-42,-600],[-116,-164],[-242,-132],[-132,458],[-49,828],[126,935],[192,-320],[129,-406],[134,-599]],[[58049,35154],[96,-173],[-85,-281],[-47,-187],[-155,-90],[-51,-184],[-99,-58],[-209,443],[148,365],[151,225],[130,118],[121,-178]],[[56314,83116],[-23,147],[30,157],[-123,92],[-291,100]],[[55907,83612],[-59,485]],[[55848,84097],[318,176],[466,-37],[273,57],[39,-120],[148,-37],[267,-279]],[[56523,82877],[-67,177],[-142,62]],[[55848,84097],[10,433],[136,362],[262,196],[221,-430],[223,11],[53,442]],[[57579,84928],[134,-133],[24,-279],[89,-340]],[[47592,67756],[-42,0],[7,-308],[-172,-19],[-90,-131],[-126,0],[-100,75],[-234,-62],[-91,-449],[-86,-42],[-131,-726],[-386,-621],[-92,-796],[-114,-258],[-33,-208],[-625,-46],[-5,1]],[[45272,64166],[13,267],[106,157],[91,300],[-18,195],[96,406],[155,366],[93,93],[74,336],[6,307],[100,356],[185,210],[177,588],[5,8],[139,221],[259,64],[218,393],[140,154],[232,481],[-70,716],[106,495],[37,304],[179,389],[278,263],[206,238],[186,596],[87,354],[205,-3],[167,-244],[264,39],[288,-127],[121,-6]],[[57394,79599],[66,85],[185,57],[204,-180],[115,-21],[125,-155],[-20,-195],[101,-95],[40,-240],[97,-147],[-19,-86],[52,-58],[-74,-43],[-164,17],[-27,80],[-58,-46],[20,-103],[-76,-184],[-49,-197],[-70,-63]],[[57842,78025],[-50,263],[30,246],[-9,253],[-160,342],[-89,243],[-86,171],[-84,56]],[[63761,44648],[74,-245],[69,-380],[45,-693],[72,-269],[-28,-277],[-49,-169],[-94,338],[-53,-171],[53,-427],[-24,-244],[-77,-133],[-18,-488],[-109,-671],[-137,-793],[-172,-1092],[-106,-800],[-125,-668],[-226,-136],[-243,-244],[-160,147],[-220,206],[-77,304],[-18,510],[-98,460],[-26,414],[50,415],[128,100],[1,191],[133,437],[25,367],[-65,272],[-52,364],[-23,530],[97,322],[38,366],[138,21],[155,118],[103,104],[122,8],[158,328],[229,355],[83,289],[-38,247],[118,-70],[153,401],[6,346],[92,257],[96,-247]],[[23016,66727],[-107,-505],[-49,-415],[-20,-771],[-27,-281],[48,-315],[86,-280],[56,-447],[184,-429],[65,-328],[109,-284],[295,-153],[114,-241],[244,161],[212,58],[208,104],[175,99],[176,235],[67,336],[22,483],[48,169],[188,151],[294,133],[246,-20],[169,49],[66,-122],[-9,-278],[-149,-342],[-66,-351],[51,-100],[-42,-249],[-69,-449],[-71,148],[-58,-10]],[[24381,60202],[-314,620],[-144,187],[-226,150],[-156,-42],[-223,-216],[-140,-57],[-196,152],[-208,109],[-260,264],[-208,81],[-314,268],[-233,275],[-70,154],[-155,34],[-284,183],[-116,262],[-299,327],[-139,363],[-66,281],[93,56],[-29,164],[64,150],[1,199],[-93,259],[-25,229],[-94,290],[-244,573],[-280,450],[-135,359],[-238,235],[-51,140],[42,356],[-142,135],[-164,279],[-69,402],[-149,47],[-162,303],[-130,281],[-12,180],[-149,434],[-99,441],[5,221],[-201,229],[-93,-26],[-159,159],[-44,-234],[46,-276],[27,-433],[95,-237],[206,-397],[46,-135],[42,-41],[37,-198],[49,8],[56,-372],[85,-146],[59,-204],[174,-293],[92,-536],[83,-252],[77,-270],[15,-304],[134,-19],[112,-261],[100,-257],[-6,-104],[-117,-211],[-49,3],[-74,350],[-181,328],[-201,278],[-142,147],[9,421],[-42,312],[-132,179],[-191,257],[-37,-75],[-70,151],[-171,139],[-164,334],[20,44],[115,-33],[103,215],[10,260],[-214,411],[-163,159],[-102,360],[-103,377],[-129,461],[-113,518]],[[17464,70566],[316,44],[353,63],[-26,-113],[419,-280],[634,-406],[552,5],[221,0],[0,237],[481,0],[102,-204],[142,-182],[165,-253],[92,-301],[69,-317],[144,-174],[230,-172],[175,455],[227,11],[196,-230],[139,-394],[96,-338],[164,-328],[61,-403],[78,-271],[217,-178],[197,-127],[108,17]],[[55993,76158],[95,33],[128,10]],[[46619,60247],[93,105],[47,339],[88,13],[194,-160],[157,114],[107,-38],[42,128],[1114,8],[62,404],[-48,71],[-134,2485],[-134,2485],[425,11]],[[51185,62860],[1,-1326],[-152,-384],[-24,-355],[-247,-92],[-379,-49],[-102,-205],[-178,-22]],[[46801,58995],[13,179],[-24,223],[-104,162],[-54,330],[-13,358]],[[77375,57550],[-27,427],[86,441],[-94,341],[23,627],[-113,299],[-90,689],[-50,727],[-121,477],[-183,-289],[-315,-410],[-156,51],[-172,135],[96,714],[-58,539],[-218,664],[34,208],[-163,74],[-197,469]],[[77809,63588],[-159,-134],[-162,-249],[-196,-26],[-127,-623],[-117,-104],[134,-506],[177,-420],[113,-380],[-101,-501],[-96,-106],[66,-289],[185,-458],[32,-321],[-4,-268],[108,-525],[-152,-537],[-135,-591]],[[55380,75946],[-58,44],[-78,188],[-120,115]],[[55338,76894],[74,-99],[40,-80],[91,-62],[106,-119],[-22,-50]],[[74375,80219],[292,99],[530,496],[423,271],[242,-176],[289,-9],[186,-269],[277,-21],[402,-144],[270,401],[-113,339],[288,596],[311,-238],[252,-67],[327,-148],[53,-432],[394,-242],[263,107],[351,75],[279,-76],[272,-276],[168,-295],[258,6],[350,-94],[255,143],[366,96],[407,405],[166,-62],[146,-193],[331,48]],[[59599,45195],[209,47],[334,-163],[73,73],[193,15],[99,173],[167,-10],[303,224],[221,334]],[[61198,45888],[45,-258],[-11,-574],[34,-505],[11,-900],[49,-282],[-83,-412],[-108,-400],[-177,-357],[-254,-219],[-313,-279],[-313,-618],[-107,-106],[-194,-409],[-115,-133],[-23,-411],[132,-436],[54,-337],[4,-173],[49,29],[-8,-565],[-45,-267],[65,-99],[-41,-239],[-116,-205],[-229,-195],[-334,-312],[-122,-213],[24,-242],[71,-39],[-24,-303]],[[59119,36429],[-211,5]],[[58908,36434],[-24,254],[-41,259]],[[58843,36947],[-23,206],[49,642],[-72,410],[-133,810]],[[58664,39015],[292,654],[74,415],[42,52],[31,339],[-45,171],[12,430],[54,400],[0,728],[-145,185],[-132,42],[-60,143],[-128,121],[-232,-11],[-18,215]],[[58409,42899],[-26,410],[843,474]],[[59226,43783],[159,-276],[77,53],[110,-146],[16,-231],[-59,-268],[21,-405],[181,-356],[85,399],[120,122],[-24,740],[-116,417],[-100,185],[-97,-8],[-77,748],[77,438]],[[46619,60247],[-184,395],[-168,424],[-184,153],[-133,169],[-155,-6],[-135,-126],[-138,50],[-96,-185]],[[45426,61121],[-24,311],[78,283],[34,543],[-30,569],[-34,286],[28,287],[-72,274],[-146,249]],[[45260,63923],[60,192],[1088,-4],[-53,832],[68,296],[261,51],[-9,1474],[911,-30],[1,872]],[[59226,43783],[-147,149],[85,535],[87,201],[-53,477],[56,467],[47,156],[-71,489],[-131,257]],[[59099,46514],[273,-108],[55,-159],[95,-269],[77,-783]],[[78372,55412],[64,-54],[164,-347],[116,-386],[16,-388],[-29,-262],[27,-198],[20,-340],[98,-159],[109,-509],[-5,-195],[-197,-38],[-263,426],[-329,457],[-32,294],[-161,385],[-38,477],[-100,314],[30,419],[-61,244]],[[77801,55552],[48,103],[227,-252],[22,-296],[183,69],[91,236]],[[80461,52985],[204,-198],[214,108],[56,488],[119,108],[333,125],[199,456],[137,364]],[[82069,54967],[214,400],[140,450],[112,2],[143,-291],[13,-251],[183,-160],[231,-173],[-20,-226],[-186,-29],[50,-281],[-205,-196]],[[54540,35373],[-207,435],[-108,420],[-62,561],[-68,417],[-93,887],[-7,689],[-35,314],[-108,237],[-144,476],[-146,691],[-60,361],[-226,563],[-17,441]],[[56448,41738],[228,131],[180,-33],[109,-130],[2,-48]],[[55526,37566],[0,-2127],[-248,-294],[-149,-42],[-175,108],[-125,42],[-47,247],[-109,157],[-133,-284]],[[96049,39690],[228,-357],[144,-265],[-105,-138],[-153,155],[-199,259],[-179,306],[-184,406],[-38,195],[119,-8],[156,-196],[122,-196],[89,-161]],[[54125,64996],[68,-895],[104,-150],[4,-183],[116,-198],[-60,-248],[-107,-1168],[-15,-749],[-354,-543],[-120,-759],[115,-213],[0,-371],[178,-13],[-28,-271]],[[53939,59018],[-52,-12],[-188,630],[-65,23],[-217,-322],[-215,168],[-150,34],[-80,-81],[-163,17],[-164,-245],[-141,-14],[-337,298],[-131,-142],[-142,10],[-104,218],[-279,214],[-298,-68],[-72,-124],[-39,-331],[-80,-233],[-19,-514]],[[52361,54577],[-289,-207],[-105,30],[-107,-129],[-222,13],[-149,360],[-91,417],[-197,379],[-209,-7],[-245,1]],[[26191,58215],[-96,181],[-130,233],[-61,194],[-117,181],[-140,260],[31,89],[46,-87],[21,41]],[[26903,60465],[-24,-55],[-14,-129],[29,-210],[-64,-197],[-30,-231],[-9,-254],[15,-148],[7,-260],[-43,-56],[-26,-247],[19,-152],[-56,-147],[12,-156],[43,-94]],[[50920,81398],[143,159],[244,847],[380,241],[231,-16]],[[58639,91887],[-473,-231],[-224,-54]],[[55734,91626],[-172,-23],[-41,-379],[-523,92],[-74,-321],[-267,2],[-183,-409],[-278,-639],[-431,-810],[101,-197],[-97,-228],[-275,10],[-180,-540],[17,-765],[177,-292],[-92,-677],[-231,-395],[-122,-332]],[[53063,85723],[-187,354],[-548,-666],[-371,-135],[-384,293],[-99,619],[-88,1329],[256,371],[733,483],[549,595],[508,802],[668,1112],[465,434],[763,722],[610,252],[457,-31],[423,477],[506,-25],[499,115],[869,-422],[-358,-154],[305,-361]],[[56867,96664],[-620,-236],[-490,134],[191,149],[-167,184],[575,115],[110,-216],[401,-130]],[[55069,97728],[915,-429],[-699,-227],[-155,-424],[-243,-108],[-132,-478],[-335,-22],[-598,351],[252,205],[-416,166],[-541,487],[-216,451],[757,206],[152,-202],[396,8],[105,197],[408,20],[350,-201]],[[57068,98134],[545,-202],[-412,-310],[-806,-68],[-819,96],[-50,159],[-398,10],[-304,264],[858,161],[403,-138],[281,172],[702,-144]],[[98060,28265],[63,-238],[198,233],[80,-243],[0,-242],[-103,-267],[-182,-424],[-142,-232],[103,-277],[-214,-7],[-238,-217],[-75,-377],[-157,-583],[-219,-257],[-138,-164],[-256,12],[-180,190],[-302,40],[-46,212],[149,427],[349,568],[179,109],[200,219],[238,301],[167,299],[123,429],[106,146],[41,321],[195,267],[61,-245]],[[98502,31008],[202,-607],[5,394],[126,-158],[41,-435],[224,-188],[188,-46],[158,220],[141,-67],[-67,-511],[-85,-336],[-212,12],[-74,-175],[26,-248],[-41,-107],[-105,-310],[-138,-395],[-214,-229],[-48,151],[-116,83],[160,474],[-91,317],[-299,230],[8,209],[201,200],[47,444],[-13,372],[-113,386],[8,102],[-133,237],[-218,510],[-117,408],[104,45],[151,-320],[216,-149],[78,-513]],[[64752,61418],[-91,403],[-217,950]],[[64444,62771],[833,576],[185,1152],[-127,408]],[[65665,66183],[125,-393],[155,-209],[203,-76],[165,-105],[125,-330],[75,-191],[100,-73],[-1,-128],[-101,-344],[-44,-161],[-117,-184],[-104,-395],[-126,30],[-58,-137],[-44,-292],[34,-385],[-26,-71],[-128,2],[-174,-215],[-27,-281],[-63,-121],[-173,4],[-109,-145],[1,-232],[-134,-160],[-153,54],[-186,-194],[-128,-33]],[[65575,66834],[80,196],[35,-50],[-26,-238],[-37,-104]],[[68937,65473],[-203,146],[-83,414],[-215,438],[-512,-108],[-451,-11],[-391,-81]],[[28366,55989],[-93,166],[-59,311],[68,154],[-70,40],[-52,190],[-138,160],[-122,-37],[-56,-200],[-112,-145],[-61,-20],[-27,-120],[132,-312],[-75,-74],[-40,-85],[-130,-29],[-48,344],[-36,-98],[-92,33],[-56,232],[-114,38],[-72,68],[-119,-1],[-8,-125],[-32,87]],[[27070,57338],[100,-206],[-6,-122],[111,-26],[26,47],[77,-142],[136,42],[119,145],[168,116],[95,172],[153,-33],[-10,-57],[155,-20],[124,-99],[90,-173],[105,-159]],[[30452,41263],[-279,331],[-24,236],[-551,578],[-498,630],[-214,355],[-115,476],[46,166],[-236,755],[-274,1063],[-262,1147],[-114,262],[-87,424],[-216,376],[-198,233],[90,257],[-134,550],[86,403],[221,364]],[[85104,56675],[28,-382],[16,-323],[-94,-527],[-102,587],[-130,-292],[89,-425],[-79,-270],[-327,335],[-78,416],[84,274],[-176,273],[-87,-239],[-131,22],[-205,-321],[-46,168],[109,486],[175,161],[151,217],[98,-260],[212,157],[45,257],[196,16],[-16,445],[225,-273],[23,-290],[20,-212]],[[84439,57749],[-100,-190],[-87,-363],[-87,-171],[-171,398],[57,154],[70,162],[30,357],[153,34],[-44,-388],[205,556],[-26,-549]],[[82917,57194],[-369,-546],[136,403],[200,355],[167,399],[146,572],[49,-470],[-183,-317],[-146,-396]],[[83856,58678],[166,-179],[177,1],[-5,-240],[-129,-245],[-176,-173],[-10,268],[20,293],[-43,275]],[[84861,58834],[78,-643],[-214,152],[5,-193],[68,-355],[-132,-129],[-11,405],[-84,30],[-43,348],[163,-46],[-4,218],[-169,440],[266,-13],[77,-214]],[[83757,59356],[-74,-498],[-119,288],[-142,438],[238,-21],[97,-207]],[[83700,62485],[171,-164],[85,150],[26,-146],[-46,-239],[95,-413],[-73,-478],[-164,-191],[-43,-465],[62,-458],[147,-64],[123,68],[347,-319],[-27,-313],[91,-139],[-29,-265],[-216,283],[-103,302],[-71,-211],[-177,345],[-253,-86],[-138,128],[14,238],[87,146],[-83,133],[-36,-207],[-137,331],[-41,251],[-11,551],[112,-190],[29,901],[90,522],[169,-1]],[[93299,47902],[-78,-58],[-120,221],[-122,366],[-59,439],[38,55],[30,-171],[84,-130],[135,-366],[131,-195],[-39,-161]],[[92217,48675],[-146,-48],[-44,-161],[-152,-140],[-142,-135],[-148,1],[-228,167],[-158,161],[23,178],[249,-84],[152,45],[42,276],[40,14],[27,-306],[158,44],[78,197],[155,206],[-30,339],[166,11],[56,-94],[-5,-320],[-93,-351]],[[89166,50332],[482,-397],[513,-329],[192,-295],[154,-290],[43,-339],[462,-356],[68,-306],[-256,-62],[62,-383],[248,-378],[180,-611],[159,19],[-11,-255],[215,-98],[-84,-108],[295,-243],[-30,-166],[-184,-40],[-69,149],[-238,65],[-281,86],[-216,368],[-158,316],[-144,504],[-362,252],[-235,-164],[-170,-190],[35,-425],[-218,-198],[-155,96],[-288,25]],[[92538,49238],[-87,-154],[-52,340],[-65,223],[-126,189],[-158,245],[-200,170],[77,139],[150,-162],[94,-126],[117,-139],[111,-241],[106,-185],[33,-299]],[[53922,82787],[189,169],[434,266],[350,195],[277,-97],[21,-140],[268,-8]],[[55461,83172],[342,-65],[511,9]],[[56535,81532],[139,-502],[-29,-162],[-138,-67],[-252,-479],[71,-259],[-60,34]],[[56266,80097],[-264,221],[-200,-81],[-131,59],[-165,-123],[-140,204],[-114,-78],[-16,34]],[[31588,62492],[142,-51],[50,-114],[-71,-146],[-209,4],[-163,-21],[-16,247],[40,84],[227,-3]],[[86288,76244],[39,-101]],[[86327,76143],[-106,35],[-120,-195],[-83,-196],[10,-414],[-143,-127],[-50,-102],[-104,-170],[-185,-95],[-121,-154],[-9,-250],[-32,-63],[111,-94],[157,-253]],[[85048,73569],[-135,109],[-34,-108],[-81,-48],[-10,109],[-72,52],[-75,92],[76,254],[66,67],[-25,105],[71,311],[-18,94],[-163,63],[-131,154]],[[47929,73193],[-112,-149],[-146,81],[-143,-64],[42,451],[-26,354],[-124,53],[-67,218],[22,377],[111,210],[20,232],[58,347],[-6,244],[-56,206],[-12,195]],[[64113,66085],[-18,419],[75,302],[76,62],[84,-180],[5,-337],[-61,-339]],[[64274,66012],[-77,-41],[-84,114]],[[56308,79404],[120,123],[172,-64],[178,-2],[129,-141],[95,89],[205,55],[69,135],[118,0]],[[57842,78025],[124,-106],[131,93],[126,-99]],[[58223,77913],[6,-149],[-135,-124],[-84,54],[-78,-694]],[[56293,77303],[-51,101],[65,97],[-69,72],[-87,-129],[-162,167],[-22,237],[-169,136],[-31,183],[-151,226]],[[89901,81054],[280,-1020],[-411,190],[-171,-832],[271,-590],[-8,-403],[-211,347],[-182,-445],[-51,483],[31,561],[-32,621],[64,436],[13,770],[-163,566],[24,787],[257,265],[-110,267],[123,81],[73,-381],[96,-555],[-7,-567],[114,-581]],[[55461,83172],[63,254],[383,186]],[[99999,92620],[-305,-29],[-49,183],[-99645,240],[36,24],[235,-1],[402,-165],[-24,-79],[-286,-138],[-363,-35],[99999,0]],[[89889,93991],[-421,-4],[-569,64],[-49,31],[263,227],[348,54],[394,-221],[34,-151]],[[91869,95069],[-321,-228],[-444,52],[-516,227],[66,187],[518,-87],[697,-151]],[[90301,95344],[-219,-427],[-1023,16],[-461,-136],[-550,374],[149,396],[366,108],[734,-25],[1004,-306]],[[65981,92556],[-164,-51],[-907,75],[-74,256],[-503,154],[-40,311],[284,124],[-10,314],[551,491],[-255,70],[665,506],[-75,261],[621,304],[917,370],[925,108],[475,214],[541,74],[193,-227],[-187,-179],[-984,-286],[-848,-274],[-863,-548],[-414,-563],[-435,-553],[56,-479],[531,-472]],[[63639,78550],[-127,-342],[-269,-95],[-276,-594],[252,-547],[-27,-388],[303,-678]],[[61098,76843],[-354,486],[-317,218],[-240,338],[202,92],[231,482],[-156,227],[410,236],[-8,125],[-249,-92]],[[60617,78955],[9,255],[143,161],[269,42],[44,192],[-62,318],[113,302],[-3,169],[-410,187],[-162,-6],[-172,270],[-213,-92],[-352,203],[6,113],[-99,250],[-222,28],[-23,178],[70,117],[-178,326],[-288,-56],[-84,29],[-70,-131],[-104,24]],[[57772,86080],[316,318],[-291,274]],[[58639,91887],[286,200],[456,-348],[761,-137],[1050,-652],[213,-273],[18,-384],[-308,-302],[-454,-154],[-1240,438],[-204,-73],[453,-422],[18,-267],[18,-589],[358,-175],[217,-150],[36,279],[-168,248],[177,218],[672,-358],[233,140],[-186,422],[647,564],[256,-33],[260,-202],[161,396],[-231,343],[136,345],[-204,357],[777,-185],[158,-322],[-351,-71],[1,-321],[219,-197],[429,125],[68,367],[580,274],[970,495],[209,-28],[-273,-350],[344,-60],[199,197],[521,16],[412,239],[317,-347],[315,381],[-291,334],[145,190],[820,-175],[385,-180],[1006,-658],[186,302],[-282,304],[-8,122],[-335,57],[92,273],[-149,449],[-8,185],[512,521],[183,523],[206,114],[736,-152],[57,-320],[-263,-468],[173,-183],[89,-403],[-63,-789],[307,-353],[-120,-384],[-544,-818],[318,-85],[110,207],[306,148],[74,285],[240,274],[-162,328],[130,380],[-304,47],[-67,321],[222,578],[-361,469],[497,389],[-64,409],[139,13],[145,-319],[-109,-556],[297,-105],[-127,415],[465,227],[577,30],[513,-328],[-247,479],[-28,614],[483,116],[669,-25],[602,75],[-226,301],[321,378],[319,16],[540,286],[734,77],[93,157],[729,54],[227,-129],[624,306],[510,-10],[77,249],[265,245],[656,236],[476,-186],[-378,-142],[629,-89],[75,-284],[254,140],[812,-8],[626,-281],[223,-215],[-69,-300],[-307,-170],[-730,-320],[-209,-171],[345,-80],[410,-146],[251,109],[141,-369],[122,149],[444,91],[892,-95],[67,-269],[1162,-86],[15,440],[590,-101],[443,3],[449,-303],[128,-369],[-165,-241],[349,-453],[437,-234],[268,605],[446,-260],[473,155],[538,-177],[204,162],[455,-81],[-201,534],[367,250],[2509,-374],[236,-342],[727,-440],[1122,109],[553,-95],[231,-238],[-33,-421],[342,-164],[372,118],[492,15],[525,-113],[526,64],[484,-512],[344,184],[-224,368],[123,256],[886,-161],[578,34],[799,-275],[-99610,-251],[681,-440],[728,-572],[-24,-358],[187,-143],[-64,418],[754,-86],[544,-539],[-276,-251],[-455,-59],[-7,-563],[-111,-120],[-260,17],[-212,201],[-369,168],[-62,250],[-283,94],[-315,-74],[-151,201],[60,214],[-333,-137],[126,-271],[-158,-244],[0,-3],[99640,-253],[-360,42],[250,-307],[166,-474],[128,-155],[32,-238],[-71,-153],[-518,126],[-777,-434],[-247,-67],[-425,-405],[-403,-353],[-102,-262],[-397,399],[-724,-453],[-126,214],[-268,-246],[-371,79],[-90,-379],[-333,-557],[10,-233],[316,-129],[-37,-839],[-258,-21],[-119,-482],[116,-248],[-486,-294],[-96,-657],[-415,-141],[-83,-585],[-400,-536],[-103,396],[-119,841],[-155,1279],[134,799],[234,344],[14,269],[432,129],[496,725],[479,592],[499,459],[223,812],[-337,-49],[-167,-474],[-705,-632],[-227,708],[-717,-196],[-696,-965],[230,-353],[-620,-151],[-430,-59],[20,417],[-431,87],[-344,-283],[-850,99],[-914,-171],[-899,-1124],[-1065,-1358],[438,-73],[136,-360],[270,-128],[178,288],[305,-38],[401,-633],[9,-490],[-217,-576],[-23,-687],[-126,-921],[-418,-833],[-94,-399],[-377,-670],[-374,-665],[-179,-340],[-370,-338],[-175,-8],[-175,280],[-373,-421],[-43,-192]],[[79187,96925],[-1566,-222],[507,756],[229,64],[208,-37],[704,-327],[-82,-234]],[[64204,98215],[-373,-76],[-250,-44],[-39,-94],[-324,-95],[-301,136],[158,180],[-618,17],[542,105],[422,7],[57,-155],[159,138],[262,95],[412,-126],[-107,-88]],[[77760,97255],[-606,-71],[-773,166],[-462,220],[-213,413],[-379,113],[722,394],[600,130],[540,-290],[640,-557],[-69,-518]],[[58449,51176],[110,-325],[-16,-339],[-80,-73]],[[58216,51057],[67,-59],[166,178]],[[45260,63923],[12,243]],[[61883,61244],[-37,246],[-83,173],[-22,230],[-143,206],[-148,483],[-79,469],[-192,397],[-124,94],[-184,549],[-32,400],[12,342],[-159,638],[-130,225],[-150,119],[-92,330],[15,130],[-77,299],[-81,128],[-108,429],[-170,464],[-141,395],[-139,-2],[44,316],[12,201],[34,230]],[[63448,68272],[109,-497],[137,-131],[47,-203],[190,-242],[16,-237],[-27,-192],[35,-193],[80,-162],[37,-189],[41,-141]],[[64274,66012],[53,-220]],[[64444,62771],[-801,-221],[-259,-259],[-199,-604],[-130,-96],[-70,191],[-106,-28],[-269,57],[-50,58],[-321,-13],[-75,-52],[-114,149],[-74,-283],[28,-243],[-121,-183]],[[59434,57280],[-39,11],[5,287],[-33,197],[-143,228],[-34,415],[34,425],[-129,40],[-19,-129],[-167,-29],[67,-169],[23,-346],[-152,-316],[-138,-415],[-144,-59],[-233,336],[-105,-119],[-29,-168],[-143,-109],[-9,-118],[-277,0],[-38,118],[-200,20],[-100,-99],[-77,50],[-143,336],[-48,158],[-200,-79],[-76,-267],[-72,-514],[-95,-109],[-85,-63]],[[56635,56793],[-23,27]],[[56351,58246],[3,140],[-102,169],[-3,335],[-58,222],[-98,-33],[28,211],[72,240],[-32,239],[92,176],[-58,135],[73,355],[127,425],[240,-41],[-14,2286]],[[60240,64499],[90,-565],[-61,-105],[40,-593],[102,-687],[106,-142],[152,-213]],[[59433,57348],[1,-68]],[[59434,57280],[3,-449]],[[59445,54277],[-171,-265],[-195,1],[-224,-135],[-176,129],[-115,-157]],[[56824,56568],[-189,225]],[[45357,59658],[-115,449],[-138,205],[122,109],[134,404],[66,296]],[[45367,58962],[-46,441]],[[95032,45793],[78,-198],[-194,3],[-106,355],[166,-140],[56,-20]],[[94680,46144],[-108,-13],[-170,58],[-58,89],[17,228],[183,-90],[91,-121],[45,-151]],[[94910,46301],[-42,-106],[-206,499],[-57,344],[94,0],[100,-461],[111,-276]],[[94409,47028],[12,-116],[-218,245],[-152,206],[-104,192],[41,59],[128,-138],[228,-265],[65,-183]],[[93760,47598],[-56,-33],[-121,131],[-114,237],[14,96],[166,-243],[111,-188]],[[46822,55737],[-75,43],[-200,232],[-144,308],[-49,211],[-34,425]],[[25613,59537],[-31,-135],[-161,8],[-100,55],[-115,115],[-154,36],[-79,123]],[[61984,58430],[91,-106],[54,-238],[125,-241],[138,-2],[262,147],[302,68],[245,179],[138,38],[99,105],[158,20]],[[63596,58400],[-2,-9],[-1,-237],[0,-581],[0,-301],[-125,-353],[-194,-481]],[[63596,58400],[89,12],[128,85],[147,58],[132,198],[105,1],[6,-159],[-25,-335],[1,-303],[-59,-208],[-78,-622],[-134,-644],[-172,-735],[-238,-844],[-237,-645],[-327,-785],[-278,-467],[-415,-571],[-259,-438],[-304,-698],[-64,-304],[-63,-136]],[[34125,55269],[333,-115],[30,104],[225,41],[298,-155]],[[34889,54255],[109,-341],[-49,-248],[-24,-263],[-71,-242]],[[56266,80097],[-77,-150],[-55,-232]],[[53809,78032],[62,52]],[[56639,89841],[-478,-163],[-269,-401],[43,-353],[-441,-463],[-537,-495],[-202,-811],[198,-406],[265,-320],[-255,-649],[-289,-135],[-106,-967],[-157,-539],[-337,55],[-158,-456],[-321,-27],[-89,545],[-232,653],[-211,814]],[[58908,36434],[-56,-256],[-163,-62],[-166,312],[-2,199],[76,216],[26,168],[80,41],[140,-105]],[[59999,71781],[-26,440],[68,237]],[[60041,72458],[74,126],[75,127],[15,321],[91,-112],[306,160],[147,-108],[229,1],[320,217],[149,-10],[316,89]],[[50518,55366],[-224,-122]],[[78495,58847],[-249,265],[-238,-11],[41,452],[-245,-3],[-22,-633],[-150,-841],[-90,-509],[19,-417],[181,-18],[113,-526],[50,-498],[155,-330],[168,-67],[144,-299]],[[77801,55552],[-110,221],[-47,285],[-148,325],[-135,274],[-45,-339],[-53,320],[30,359],[82,553]],[[68841,73220],[156,583],[-60,429],[-204,137],[72,254],[232,-27],[132,318],[89,370],[371,134],[-58,-267],[40,-161],[114,15]],[[64978,73251],[-52,408],[40,602],[-216,195],[71,394],[-184,34],[61,485],[262,-141],[244,184],[-202,346],[-80,329],[-224,-147],[-28,-422],[-87,374]],[[65546,75618],[313,8],[-45,290],[237,199],[234,334],[374,-304],[30,-460],[106,-118],[301,27],[93,-105],[137,-593],[317,-398],[181,-271],[291,-282],[369,-247],[-7,-352]],[[84713,46708],[32,136],[239,129],[194,20],[87,72],[105,-72],[-102,-156],[-289,-252],[-233,-165]],[[32866,58026],[160,75],[58,-20],[-11,-430],[-232,-63],[-50,52],[81,158],[-6,228]],[[52339,73106],[302,232],[195,-69],[-9,-291],[236,212],[20,-111],[-139,-282],[-2,-266],[96,-143],[-36,-499],[-183,-289],[53,-314],[143,-10],[70,-274],[106,-90]],[[60041,72458],[-102,261],[105,217],[-169,-49],[-233,132],[-191,-331],[-421,-65],[-225,309],[-300,19],[-64,-238],[-192,-69],[-268,307],[-303,-11],[-165,573],[-203,320],[135,447],[-176,276],[308,550],[428,23],[117,438],[529,-76],[334,373],[324,163],[459,13],[485,-406],[399,-223],[323,89],[239,-52],[328,301]],[[57776,76021],[33,-222],[243,-186],[-51,-141],[-330,-32],[-118,-178],[-232,-310],[-87,268],[3,119]],[[83826,65878],[-167,-924],[-119,-472],[-146,486],[-32,427],[163,566],[223,436],[127,-172],[-49,-347]],[[60889,49136],[-128,-710],[16,-326],[178,-210],[8,-149],[-76,-348],[16,-175],[-18,-275],[97,-361],[115,-568],[101,-126]],[[59099,46514],[-157,172],[-177,97],[-111,97],[-116,146]],[[58449,51176],[98,69],[304,-7],[566,44]],[[60617,78955],[-222,-46],[-185,-187],[-260,-30],[-239,-215],[16,-358],[136,-139],[284,35],[-55,-206],[-304,-100],[-377,-333],[-154,117],[61,271],[-304,169],[50,110],[265,191],[-80,132],[-432,146],[-19,215],[-257,-71],[-103,-317],[-215,-426]],[[35174,32383],[-121,-362],[-313,-320],[-205,115],[-151,-62],[-256,247],[-189,-18],[-169,319]],[[6794,62819],[-41,-96],[-69,82],[8,161],[-46,210],[14,64],[48,94],[-19,113],[16,54],[21,-11],[107,-97],[49,-50],[45,-77],[71,-202],[-7,-32],[-108,-123],[-89,-90]],[[6645,63718],[-94,-41],[-47,121],[-32,47],[-3,36],[27,49],[99,-55],[73,-88],[-23,-69]],[[6456,64025],[-9,-63],[-149,17],[21,70],[137,-24]],[[6207,64108],[-15,-33],[-19,8],[-97,20],[-35,130],[-11,23],[74,80],[23,-37],[80,-191]],[[5737,64488],[-33,-57],[-93,105],[14,42],[43,57],[64,-13],[5,-134]],[[31350,77823],[48,-189],[-296,-279],[-286,-198],[-293,-171],[-147,-342],[-47,-129],[-3,-306],[92,-305],[115,-14],[-29,210],[83,-128],[-22,-165],[-188,-93],[-133,11],[-205,-100],[-121,-29],[-162,-28],[-231,-167],[408,108],[82,-109],[-389,-173],[-177,-1],[8,71],[-84,-160],[82,-26],[-60,-414],[-203,-443],[-20,148],[-61,30],[-91,144],[57,-310],[69,-103],[5,-217],[-89,-224],[-157,-460],[-25,23],[86,392],[-142,220],[-33,478],[-53,-249],[59,-365],[-183,90],[191,-185],[12,-548],[79,-40],[29,-199],[39,-577],[-176,-427],[-288,-171],[-182,-338],[-139,-37],[-141,-211],[-39,-193],[-305,-374],[-157,-274],[-131,-342],[-43,-409],[50,-400],[92,-492],[124,-408],[1,-249],[132,-668],[-9,-388],[-12,-224],[-69,-352],[-83,-73],[-137,70],[-44,253],[-105,132],[-148,496],[-129,440],[-42,225],[57,383],[-77,316],[-217,482],[-108,89],[-281,-262],[-49,29],[-135,269],[-174,142],[-314,-72],[-247,63],[-212,-39],[-114,-90],[50,-153],[-5,-234],[59,-113],[-53,-76],[-103,85],[-104,-109],[-202,17],[-207,305],[-242,-72],[-202,133],[-173,-40],[-234,-135],[-253,-427],[-276,-248],[-152,-275],[-63,-259],[-3,-397],[14,-277],[52,-196]],[[17464,70566],[-46,294],[-180,331],[-130,69],[-30,165],[-156,29],[-100,156],[-258,57],[-71,93],[-33,316],[-270,578],[-231,801],[10,133],[-123,190],[-215,483],[-38,469],[-148,315],[61,477],[-10,494],[-89,441],[109,543],[34,523],[33,522],[-50,773],[-88,492],[-80,268],[33,112],[402,-195],[148,-544],[69,152],[-45,472],[-94,473]],[[7498,84721],[-277,-219],[-142,148],[-43,270],[252,205],[148,88],[185,-39],[117,-179],[-240,-274]],[[4006,86330],[-171,-89],[-182,107],[-168,157],[274,98],[220,-52],[27,-221]],[[2297,88560],[171,-109],[173,59],[225,-152],[276,-77],[-23,-63],[-211,-121],[-211,125],[-106,104],[-245,-33],[-66,51],[17,216]],[[13740,83389],[-153,217],[-245,183],[-78,503],[-358,466],[-150,543],[-267,38],[-441,14],[-326,165],[-574,598],[-266,109],[-486,206],[-385,-49],[-546,264],[-330,246],[-309,-122],[58,-400],[-154,-37],[-321,-120],[-245,-195],[-308,-122],[-39,339],[125,565],[295,177],[-76,145],[-354,-321],[-190,-383],[-400,-410],[203,-280],[-262,-413],[-299,-241],[-278,-176],[-69,-255],[-434,-297],[-87,-271],[-325,-246],[-191,44],[-259,-160],[-282,-196],[-231,-193],[-477,-164],[-43,96],[304,270],[271,177],[296,315],[345,65],[137,236],[385,345],[62,115],[205,204],[48,437],[141,340],[-320,-175],[-90,99],[-150,-209],[-181,292],[-75,-207],[-104,287],[-278,-230],[-170,0],[-24,343],[50,211],[-179,205],[-361,-110],[-235,270],[-190,138],[-1,327],[-214,245],[108,331],[226,322],[99,295],[225,42],[191,-92],[224,278],[201,-50],[212,179],[-52,263],[-155,104],[205,222],[-170,-7],[-295,-125],[-85,-127],[-219,127],[-392,-65],[-407,138],[-117,232],[-351,334],[390,241],[620,282],[228,0],[-38,-288],[586,22],[-225,357],[-342,219],[-197,288],[-267,246],[-381,182],[155,302],[493,19],[350,262],[66,280],[284,274],[271,66],[526,256],[256,-39],[427,307],[421,-121],[201,-260],[123,112],[469,-35],[-16,-132],[425,-98],[283,57],[585,-182],[534,-54],[214,-75],[370,94],[421,-173],[302,-81]],[[30185,58611],[-8,-136],[-163,-67],[91,-262],[-3,-301],[-123,-334],[105,-457],[120,37],[62,417],[-86,202],[-14,436],[346,234],[-38,272],[97,181],[100,-404],[195,-10],[180,-321],[11,-190],[249,-6],[297,60],[159,-258],[213,-71],[155,180],[4,145],[344,34],[333,8],[-236,-170],[95,-272],[222,-43],[210,-283],[45,-462],[144,13],[109,-135]],[[80013,64241],[-371,-493],[-231,-544],[-61,-399],[212,-607],[260,-753],[252,-356],[169,-462],[127,-1066],[-37,-1013],[-232,-379],[-318,-371],[-227,-480],[-346,-536],[-101,369],[78,390],[-206,327]],[[96623,42347],[-92,-76],[-93,252],[10,155],[175,-331]],[[96418,43229],[45,-464],[-75,72],[-58,-31],[-39,159],[-6,441],[133,-177]],[[64752,61418],[-201,-154],[-54,-256],[-6,-196],[-277,-244],[-444,-268],[-249,-406],[-122,-32],[-83,34],[-163,-239],[-177,-111],[-233,-30],[-70,-33],[-61,-152],[-73,-42],[-43,-146],[-137,12],[-89,-78],[-192,30],[-72,336],[8,315],[-46,170],[-54,426],[-80,236],[56,28],[-29,264],[34,111],[-12,251]],[[58175,39107],[113,-6],[134,-97],[94,69],[148,-58]],[[59119,36429],[-70,-419],[-32,-479],[-72,-260],[-190,-290],[-54,-84],[-118,-292],[-77,-296],[-158,-413],[-314,-594],[-196,-345],[-210,-262],[-290,-224],[-141,-30],[-36,-160],[-169,85],[-138,-109],[-301,111],[-168,-71],[-115,31],[-286,-228],[-238,-91],[-171,-218],[-127,-13],[-117,205],[-94,10],[-120,258],[-13,-80],[-37,155],[2,337],[-90,386],[89,105],[-7,442],[-182,539],[-139,488],[-1,1],[-199,749]],[[58409,42899],[-210,-79],[-159,-230],[-33,-199],[-100,-46],[-241,-473],[-154,-373],[-94,-13],[-90,66],[-311,63]]],transform:{scale:[.0036000360003600037,.0017364686646866468],translate:[-180,-90]}},Xi=".mapboxgl-ctrl-globe-minimap";function zi(t){Object.assign(this.options,t),this._parentMap=null}return zi.prototype={options:{id:"mapboxgl-globe-minimap",globeSize:82,landColor:"white",waterColor:"rgba(30 40 70/60%)",markerColor:"#ff2233",markerSize:1},onAdd:function(t){return this._parentMap=t,this._container=this._createContainer(t),this._load(),this._container},initialTween:!0,_load:async function(){const{globeSize:t}=this.options,n=this._parentMap,e=this.canvas=mt(Xi).append("canvas").node(),r=this.context=e.getContext("2d"),i=window.devicePixelRatio||1;var o,u;e.width=t*i,e.height=t*i,e.style.width=t+"px",e.style.height=t+"px",r.scale(i,i),this.projection=ji(Ri).scale(249.5).clipAngle(90+Se).fitExtent([[0,0],[t,t]],{type:"Sphere"}),this.path=function(t,n){let e,r,i=3,o=4.5;function u(t){return t&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),Ve(t,e(r))),r.result()}return u.area=function(t){return Ve(t,e(Mr)),Mr.result()},u.measure=function(t){return Ve(t,e(pi)),pi.result()},u.bounds=function(t){return Ve(t,e(Or)),Or.result()},u.centroid=function(t){return Ve(t,e(Wr)),Wr.result()},u.projection=function(n){return arguments.length?(e=null==n?(t=null,Sr):(t=n).stream,u):t},u.context=function(t){return arguments.length?(r=null==t?(n=null,new wi(i)):new ui(n=t),"function"!=typeof o&&r.pointRadius(o),u):n},u.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(r.pointRadius(+t),+t),u):o},u.digits=function(t){if(!arguments.length)return i;if(null==t)i=null;else{const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);i=n}return null===n&&(r=new wi(i)),u},u.projection(t).digits(i).context(n)}(this.projection,r),this.globe={type:"Sphere"},this.land=(o=Li,"GeometryCollection"===(u=Li.objects.land).type?{type:"FeatureCollection",features:u.geometries.map((function(t){return Oi(o,t)}))}:Oi(o,u)),this._update(),n.on("move",this._update.bind(this))},_draw_marker:function(){const{globeSize:t,markerSize:n,markerColor:e}=this.options;mt(Xi).append("svg").attr("width",t).attr("height",t).attr("style","position: absolute; left: 0; top: 0;").append("path").attr("opacity",0).attr("d","M5.36018 5.33333C5.36018 4.59722 5.61972 3.96875 6.13881 3.44792C6.65789 2.92708 7.28426 2.66667 8.0179 2.66667C8.75154 2.66667 9.3779 2.92708 9.89699 3.44792C10.4161 3.96875 10.6756 4.59722 10.6756 5.33333C10.6756 6.06944 10.4161 6.69792 9.89699 7.21875C9.3779 7.73958 8.75154 8 8.0179 8C7.28426 8 6.65789 7.73958 6.13881 7.21875C5.61972 6.69792 5.36018 6.06944 5.36018 5.33333ZM2.70246 5.33333C2.70246 6.09028 2.81666 6.7118 3.04506 7.19792L6.824 15.2604C6.93474 15.4896 7.09911 15.6701 7.31713 15.8021C7.53515 15.934 7.76874 16 8.0179 16C8.26706 16 8.50065 15.934 8.71866 15.8021C8.93668 15.6701 9.09759 15.4896 9.20141 15.2604L12.9907 7.19792C13.2191 6.71181 13.3333 6.09028 13.3333 5.33333C13.3333 3.86111 12.8142 2.60417 11.7761 1.5625C10.7379 0.520833 9.48518 -8.13254e-07 8.0179 -9.41527e-07C6.55062 -1.0698e-06 5.29789 0.520832 4.25972 1.5625C3.22155 2.60417 2.70246 3.86111 2.70246 5.33333Z").attr("transform",`scale(${n}, ${n}), translate(${t*(1/n)/2-8}, ${t*(1/n)/2-16})`).attr("style","fill:"+e).transition().duration(100).attr("opacity",1)},_update:function(){const t=this,n=this._parentMap.getCenter();me().duration(this.initialTween?1e3:1).tween("rotate",(function(){const e=pn(t.projection.rotate(),[-n.lng,-n.lat]);return function(n){t.projection.rotate(e(n)),t.context.clearRect(0,0,t.canvas.width,t.canvas.height),t.context.fillStyle=t.options.waterColor,t.context.beginPath(),t.path(t.globe),t.context.fill(),t.context.fillStyle=t.options.landColor,t.context.beginPath(),t.path(t.land),t.context.fill()}})).on("end",(()=>{t.initialTween&&(t._draw_marker(),t.initialTween=!1)}))},_createContainer:function(t){const{globeSize:n,id:e}=this.options,r=document.createElement("div");return r.className="mapboxgl-ctrl-globe-minimap mapboxgl-ctrl",r.setAttribute("style","width: "+n+"; height: "+n+";"),r.addEventListener("contextmenu",this._preventDefault),t.getContainer().appendChild(r),""!==e&&(r.id=e),r},_preventDefault:function(t){t.preventDefault()}},window.GlobeMinimap=zi,zi}();
</script>
<script>"use strict";var pmtiles=(()=>{var k=Object.defineProperty;var Je=Object.getOwnPropertyDescriptor;var Ye=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var U=Math.pow;var f=(r,e)=>k(r,"name",{value:e,configurable:!0});var Xe=(r,e)=>{for(var t in e)k(r,t,{get:e[t],enumerable:!0})},_e=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Ye(e))!Qe.call(r,i)&&i!==t&&k(r,i,{get:()=>e[i],enumerable:!(n=Je(e,i))||n.enumerable});return r};var et=r=>_e(k({},"__esModule",{value:!0}),r);var m=(r,e,t)=>new Promise((n,i)=>{var a=h=>{try{u(t.next(h))}catch(l){i(l)}},s=h=>{try{u(t.throw(h))}catch(l){i(l)}},u=h=>h.done?n(h.value):Promise.resolve(h.value).then(a,s);u((t=t.apply(r,e)).next())});var Dt={};Xe(Dt,{Compression:()=>Oe,EtagMismatch:()=>B,FetchSource:()=>K,FileSource:()=>oe,PMTiles:()=>P,Protocol:()=>ie,ResolvedValueCache:()=>ue,SharedPromiseCache:()=>G,TileType:()=>se,bytesToHeader:()=>$e,findTile:()=>Fe,getUint64:()=>b,leafletRasterLayer:()=>wt,readVarint:()=>R,tileIdToZxy:()=>Tt,tileTypeExt:()=>Ze,zxyToTileId:()=>Ie});var w=Uint8Array,E=Uint16Array,tt=Int32Array,Me=new w([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Ue=new w([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),rt=new w([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ee=f(function(r,e){for(var t=new E(31),n=0;n<31;++n)t[n]=e+=1<<r[n-1];for(var i=new tt(t[30]),n=1;n<30;++n)for(var a=t[n];a<t[n+1];++a)i[a]=a-t[n]<<5|n;return{b:t,r:i}},"freb"),Le=Ee(Me,2),Pe=Le.b,nt=Le.r;Pe[28]=258,nt[258]=28;var Se=Ee(Ue,0),it=Se.b,Ut=Se.r,re=new E(32768);for(g=0;g<32768;++g)T=(g&43690)>>1|(g&21845)<<1,T=(T&52428)>>2|(T&13107)<<2,T=(T&61680)>>4|(T&3855)<<4,re[g]=((T&65280)>>8|(T&255)<<8)>>1;var T,g,F=f(function(r,e,t){for(var n=r.length,i=0,a=new E(e);i<n;++i)r[i]&&++a[r[i]-1];var s=new E(e);for(i=1;i<e;++i)s[i]=s[i-1]+a[i-1]<<1;var u;if(t){u=new E(1<<e);var h=15-e;for(i=0;i<n;++i)if(r[i])for(var l=i<<4|r[i],c=e-r[i],o=s[r[i]-1]++<<c,v=o|(1<<c)-1;o<=v;++o)u[re[o]>>h]=l}else for(u=new E(n),i=0;i<n;++i)r[i]&&(u[i]=re[s[r[i]-1]++]>>15-r[i]);return u},"hMap"),$=new w(288);for(g=0;g<144;++g)$[g]=8;var g;for(g=144;g<256;++g)$[g]=9;var g;for(g=256;g<280;++g)$[g]=7;var g;for(g=280;g<288;++g)$[g]=8;var g,Re=new w(32);for(g=0;g<32;++g)Re[g]=5;var g;var at=F($,9,1);var st=F(Re,5,1),ee=f(function(r){for(var e=r[0],t=1;t<r.length;++t)r[t]>e&&(e=r[t]);return e},"max"),z=f(function(r,e,t){var n=e/8|0;return(r[n]|r[n+1]<<8)>>(e&7)&t},"bits"),te=f(function(r,e){var t=e/8|0;return(r[t]|r[t+1]<<8|r[t+2]<<16)>>(e&7)},"bits16"),ot=f(function(r){return(r+7)/8|0},"shft"),ut=f(function(r,e,t){return(e==null||e<0)&&(e=0),(t==null||t>r.length)&&(t=r.length),new w(r.subarray(e,t))},"slc");var ft=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],y=f(function(r,e,t){var n=new Error(e||ft[r]);if(n.code=r,Error.captureStackTrace&&Error.captureStackTrace(n,y),!t)throw n;return n},"err"),ne=f(function(r,e,t,n){var i=r.length,a=n?n.length:0;if(!i||e.f&&!e.l)return t||new w(0);var s=!t,u=s||e.i!=2,h=e.i;s&&(t=new w(i*3));var l=f(function(Te){var Ce=t.length;if(Te>Ce){var De=new w(Math.max(Ce*2,Te));De.set(t),t=De}},"cbuf"),c=e.f||0,o=e.p||0,v=e.b||0,d=e.l,p=e.d,H=e.m,I=e.n,q=i*8;do{if(!d){c=z(r,o,1);var j=z(r,o+1,3);if(o+=3,j)if(j==1)d=at,p=st,H=9,I=5;else if(j==2){var J=z(r,o,31)+257,me=z(r,o+10,15)+4,de=J+z(r,o+5,31)+1;o+=14;for(var O=new w(de),Y=new w(19),x=0;x<me;++x)Y[rt[x]]=z(r,o+x*3,7);o+=me*3;for(var ye=ee(Y),Ge=(1<<ye)-1,qe=F(Y,ye,1),x=0;x<de;){var we=qe[z(r,o,Ge)];o+=we&15;var A=we>>4;if(A<16)O[x++]=A;else{var D=0,V=0;for(A==16?(V=3+z(r,o,3),o+=2,D=O[x-1]):A==17?(V=3+z(r,o,7),o+=3):A==18&&(V=11+z(r,o,127),o+=7);V--;)O[x++]=D}}var xe=O.subarray(0,J),C=O.subarray(J);H=ee(xe),I=ee(C),d=F(xe,H,1),p=F(C,I,1)}else y(1);else{var A=ot(o)+4,W=r[A-4]|r[A-3]<<8,N=A+W;if(N>i){h&&y(0);break}u&&l(v+W),t.set(r.subarray(A,N),v),e.b=v+=W,e.p=o=N*8,e.f=c;continue}if(o>q){h&&y(0);break}}u&&l(v+131072);for(var je=(1<<H)-1,We=(1<<I)-1,Q=o;;Q=o){var D=d[te(r,o)&je],M=D>>4;if(o+=D&15,o>q){h&&y(0);break}if(D||y(2),M<256)t[v++]=M;else if(M==256){Q=o,d=null;break}else{var be=M-254;if(M>264){var x=M-257,Z=Me[x];be=z(r,o,(1<<Z)-1)+Pe[x],o+=Z}var X=p[te(r,o)&We],_=X>>4;X||y(3),o+=X&15;var C=it[_];if(_>3){var Z=Ue[_];C+=te(r,o)&(1<<Z)-1,o+=Z}if(o>q){h&&y(0);break}u&&l(v+131072);var ze=v+be;if(v<C){var Ae=a-C,Ne=Math.min(C,ze);for(Ae+v<0&&y(3);v<Ne;++v)t[v]=n[Ae+v]}for(;v<ze;++v)t[v]=t[v-C]}}e.l=d,e.p=Q,e.b=v,e.f=c,d&&(c=1,e.m=H,e.d=p,e.n=I)}while(!c);return v!=t.length&&s?ut(t,0,v):t.subarray(0,v)},"inflt");var lt=new w(0);var ht=f(function(r){(r[0]!=31||r[1]!=139||r[2]!=8)&&y(6,"invalid gzip data");var e=r[3],t=10;e&4&&(t+=(r[10]|r[11]<<8)+2);for(var n=(e>>3&1)+(e>>4&1);n>0;n-=!r[t++]);return t+(e&2)},"gzs"),ct=f(function(r){var e=r.length;return(r[e-4]|r[e-3]<<8|r[e-2]<<16|r[e-1]<<24)>>>0},"gzl");var vt=f(function(r,e){return((r[0]&15)!=8||r[0]>>4>7||(r[0]<<8|r[1])%31)&&y(6,"invalid zlib data"),(r[1]>>5&1)==+!e&&y(6,"invalid zlib data: "+(r[1]&32?"need":"unexpected")+" dictionary"),(r[1]>>3&4)+2},"zls");function gt(r,e){return ne(r,{i:2},e&&e.out,e&&e.dictionary)}f(gt,"inflateSync");function pt(r,e){var t=ht(r);return t+8>r.length&&y(6,"invalid gzip data"),ne(r.subarray(t,-8),{i:2},e&&e.out||new w(ct(r)),e&&e.dictionary)}f(pt,"gunzipSync");function mt(r,e){return ne(r.subarray(vt(r,e&&e.dictionary),-4),{i:2},e&&e.out,e&&e.dictionary)}f(mt,"unzlibSync");function Be(r,e){return r[0]==31&&r[1]==139&&r[2]==8?pt(r,e):(r[0]&15)!=8||r[0]>>4>7||(r[0]<<8|r[1])%31?gt(r,e):mt(r,e)}f(Be,"decompressSync");var dt=typeof TextDecoder!="undefined"&&new TextDecoder,yt=0;try{dt.decode(lt,{stream:!0}),yt=1}catch(r){}var wt=f((r,e)=>{let t=!1,n="",i=L.GridLayer.extend({createTile:f((a,s)=>{let u=document.createElement("img"),h=new AbortController,l=h.signal;return u.cancel=()=>{h.abort()},t||(r.getHeader().then(c=>{c.tileType===1?console.error("Error: archive contains MVT vector tiles, but leafletRasterLayer is for displaying raster tiles. See https://github.com/protomaps/PMTiles/tree/main/js for details."):c.tileType===2?n="image/png":c.tileType===3?n="image/jpeg":c.tileType===4?n="image/webp":c.tileType===5&&(n="image/avif")}),t=!0),r.getZxy(a.z,a.x,a.y,l).then(c=>{if(c){let o=new Blob([c.data],{type:n}),v=window.URL.createObjectURL(o);u.src=v,u.cancel=void 0,s(void 0,u)}}).catch(c=>{if(c.name!=="AbortError")throw c}),u},"createTile"),_removeTile:f(function(a){let s=this._tiles[a];s&&(s.el.cancel&&s.el.cancel(),s.el.width=0,s.el.height=0,s.el.deleted=!0,L.DomUtil.remove(s.el),delete this._tiles[a],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(a)}))},"_removeTile")});return new i(e)},"leafletRasterLayer"),xt=f(r=>(e,t)=>{if(t instanceof AbortController)return r(e,t);let n=new AbortController;return r(e,n).then(i=>t(void 0,i.data,i.cacheControl||"",i.expires||""),i=>t(i)).catch(i=>t(i)),{cancel:f(()=>n.abort(),"cancel")}},"v3compat"),ae=class ae{constructor(e){this.tilev4=f((e,t)=>m(this,null,function*(){if(e.type==="json"){let v=e.url.substr(10),d=this.tiles.get(v);if(d||(d=new P(v),this.tiles.set(v,d)),this.metadata)return{data:yield d.getTileJson(e.url)};let p=yield d.getHeader();return(p.minLon>=p.maxLon||p.minLat>=p.maxLat)&&console.error(`Bounds of PMTiles archive ${p.minLon},${p.minLat},${p.maxLon},${p.maxLat} are not valid.`),{data:{tiles:[`${e.url}/{z}/{x}/{y}`],minzoom:p.minZoom,maxzoom:p.maxZoom,bounds:[p.minLon,p.minLat,p.maxLon,p.maxLat]}}}let n=new RegExp(/pmtiles:\/\/(.+)\/(\d+)\/(\d+)\/(\d+)/),i=e.url.match(n);if(!i)throw new Error("Invalid PMTiles protocol URL");let a=i[1],s=this.tiles.get(a);s||(s=new P(a),this.tiles.set(a,s));let u=i[2],h=i[3],l=i[4],c=yield s.getHeader(),o=yield s==null?void 0:s.getZxy(+u,+h,+l,t.signal);if(o)return{data:new Uint8Array(o.data),cacheControl:o.cacheControl,expires:o.expires};if(c.tileType===1){if(this.errorOnMissingTile)throw new Error("Tile not found.");return{data:new Uint8Array}}return{data:null}}),"tilev4");this.tile=xt(this.tilev4);this.tiles=new Map,this.metadata=(e==null?void 0:e.metadata)||!1,this.errorOnMissingTile=(e==null?void 0:e.errorOnMissingTile)||!1}add(e){this.tiles.set(e.source.getKey(),e)}get(e){return this.tiles.get(e)}};f(ae,"Protocol");var ie=ae;function S(r,e){return(e>>>0)*4294967296+(r>>>0)}f(S,"toNum");function bt(r,e){let t=e.buf,n=t[e.pos++],i=(n&112)>>4;if(n<128||(n=t[e.pos++],i|=(n&127)<<3,n<128)||(n=t[e.pos++],i|=(n&127)<<10,n<128)||(n=t[e.pos++],i|=(n&127)<<17,n<128)||(n=t[e.pos++],i|=(n&127)<<24,n<128)||(n=t[e.pos++],i|=(n&1)<<31,n<128))return S(r,i);throw new Error("Expected varint not more than 10 bytes")}f(bt,"readVarintRemainder");function R(r){let e=r.buf,t=e[r.pos++],n=t&127;return t<128||(t=e[r.pos++],n|=(t&127)<<7,t<128)||(t=e[r.pos++],n|=(t&127)<<14,t<128)||(t=e[r.pos++],n|=(t&127)<<21,t<128)?n:(t=e[r.pos],n|=(t&15)<<28,bt(n,r))}f(R,"readVarint");function He(r,e,t,n){if(n===0){t===1&&(e[0]=r-1-e[0],e[1]=r-1-e[1]);let i=e[0];e[0]=e[1],e[1]=i}}f(He,"rotate");function zt(r,e){let t=U(2,r),n=e,i=e,a=e,s=[0,0],u=1;for(;u<t;)n=1&a/2,i=1&(a^n),He(u,s,n,i),s[0]+=u*n,s[1]+=u*i,a=a/4,u*=2;return[r,s[0],s[1]]}f(zt,"idOnLevel");var At=[0,1,5,21,85,341,1365,5461,21845,87381,349525,1398101,5592405,22369621,89478485,357913941,1431655765,5726623061,22906492245,91625968981,366503875925,1466015503701,5864062014805,23456248059221,93824992236885,375299968947541,0x5555555555555];function Ie(r,e,t){if(r>26)throw new Error("Tile zoom level exceeds max safe number limit (26)");if(e>U(2,r)-1||t>U(2,r)-1)throw new Error("tile x/y outside zoom level bounds");let n=At[r],i=U(2,r),a=0,s=0,u=0,h=[e,t],l=i/2;for(;l>0;)a=(h[0]&l)>0?1:0,s=(h[1]&l)>0?1:0,u+=l*l*(3*a^s),He(l,h,a,s),l=l/2;return n+u}f(Ie,"zxyToTileId");function Tt(r){let e=0,t=0;for(let n=0;n<27;n++){let i=(1<<n)*(1<<n);if(e+i>r)return zt(n,r-e);e+=i}throw new Error("Tile zoom level exceeds max safe number limit (26)")}f(Tt,"tileIdToZxy");var Oe=(a=>(a[a.Unknown=0]="Unknown",a[a.None=1]="None",a[a.Gzip=2]="Gzip",a[a.Brotli=3]="Brotli",a[a.Zstd=4]="Zstd",a))(Oe||{});function fe(r,e){return m(this,null,function*(){if(e===1||e===0)return r;if(e===2){if(typeof globalThis.DecompressionStream=="undefined")return Be(new Uint8Array(r));let t=new Response(r).body;if(!t)throw new Error("Failed to read response stream");let n=t.pipeThrough(new globalThis.DecompressionStream("gzip"));return new Response(n).arrayBuffer()}throw new Error("Compression method not supported")})}f(fe,"defaultDecompress");var se=(s=>(s[s.Unknown=0]="Unknown",s[s.Mvt=1]="Mvt",s[s.Png=2]="Png",s[s.Jpeg=3]="Jpeg",s[s.Webp=4]="Webp",s[s.Avif=5]="Avif",s))(se||{});function Ze(r){return r===1?".mvt":r===2?".png":r===3?".jpg":r===4?".webp":r===5?".avif":""}f(Ze,"tileTypeExt");var Ct=127;function Fe(r,e){let t=0,n=r.length-1;for(;t<=n;){let i=n+t>>1,a=e-r[i].tileId;if(a>0)t=i+1;else if(a<0)n=i-1;else return r[i]}return n>=0&&(r[n].runLength===0||e-r[n].tileId<r[n].runLength)?r[n]:null}f(Fe,"findTile");var le=class le{constructor(e){this.file=e}getKey(){return this.file.name}getBytes(e,t){return m(this,null,function*(){return{data:yield this.file.slice(e,e+t).arrayBuffer()}})}};f(le,"FileSource");var oe=le,he=class he{constructor(e,t=new Headers){this.url=e,this.customHeaders=t,this.mustReload=!1;let n="";"navigator"in globalThis&&(n=globalThis.navigator.userAgent||"");let i=n.indexOf("Windows")>-1,a=/Chrome|Chromium|Edg|OPR|Brave/.test(n);this.chromeWindowsNoCache=!1,i&&a&&(this.chromeWindowsNoCache=!0)}getKey(){return this.url}setHeaders(e){this.customHeaders=e}getBytes(e,t,n,i){return m(this,null,function*(){let a,s;n?s=n:(a=new AbortController,s=a.signal);let u=new Headers(this.customHeaders);u.set("range",`bytes=${e}-${e+t-1}`);let h;this.mustReload?h="reload":this.chromeWindowsNoCache&&(h="no-store");let l=yield fetch(this.url,{signal:s,cache:h,headers:u});if(e===0&&l.status===416){let d=l.headers.get("Content-Range");if(!d||!d.startsWith("bytes */"))throw new Error("Missing content-length on 416 response");let p=+d.substr(8);l=yield fetch(this.url,{signal:s,cache:"reload",headers:{range:`bytes=0-${p-1}`}})}let c=l.headers.get("Etag");if(c!=null&&c.startsWith("W/")&&(c=null),l.status===416||i&&c&&c!==i)throw this.mustReload=!0,new B(`Server returned non-matching ETag ${i} after one retry. Check browser extensions and servers for issues that may affect correct ETag headers.`);if(l.status>=300)throw new Error(`Bad response code: ${l.status}`);let o=l.headers.get("Content-Length");if(l.status===200&&(!o||+o>t))throw a&&a.abort(),new Error("Server returned no content-length header or content-length exceeding request. Check that your storage backend supports HTTP Byte Serving.");return{data:yield l.arrayBuffer(),etag:c||void 0,cacheControl:l.headers.get("Cache-Control")||void 0,expires:l.headers.get("Expires")||void 0}})}};f(he,"FetchSource");var K=he;function b(r,e){let t=r.getUint32(e+4,!0),n=r.getUint32(e+0,!0);return t*U(2,32)+n}f(b,"getUint64");function $e(r,e){let t=new DataView(r),n=t.getUint8(7);if(n>3)throw new Error(`Archive is spec version ${n} but this library supports up to spec version 3`);return{specVersion:n,rootDirectoryOffset:b(t,8),rootDirectoryLength:b(t,16),jsonMetadataOffset:b(t,24),jsonMetadataLength:b(t,32),leafDirectoryOffset:b(t,40),leafDirectoryLength:b(t,48),tileDataOffset:b(t,56),tileDataLength:b(t,64),numAddressedTiles:b(t,72),numTileEntries:b(t,80),numTileContents:b(t,88),clustered:t.getUint8(96)===1,internalCompression:t.getUint8(97),tileCompression:t.getUint8(98),tileType:t.getUint8(99),minZoom:t.getUint8(100),maxZoom:t.getUint8(101),minLon:t.getInt32(102,!0)/1e7,minLat:t.getInt32(106,!0)/1e7,maxLon:t.getInt32(110,!0)/1e7,maxLat:t.getInt32(114,!0)/1e7,centerZoom:t.getUint8(118),centerLon:t.getInt32(119,!0)/1e7,centerLat:t.getInt32(123,!0)/1e7,etag:e}}f($e,"bytesToHeader");function Ve(r){let e={buf:new Uint8Array(r),pos:0},t=R(e),n=[],i=0;for(let a=0;a<t;a++){let s=R(e);n.push({tileId:i+s,offset:0,length:0,runLength:1}),i+=s}for(let a=0;a<t;a++)n[a].runLength=R(e);for(let a=0;a<t;a++)n[a].length=R(e);for(let a=0;a<t;a++){let s=R(e);s===0&&a>0?n[a].offset=n[a-1].offset+n[a-1].length:n[a].offset=s-1}return n}f(Ve,"deserializeIndex");var ce=class ce extends Error{};f(ce,"EtagMismatch");var B=ce;function ke(r,e){return m(this,null,function*(){let t=yield r.getBytes(0,16384);if(new DataView(t.data).getUint16(0,!0)!==19792)throw new Error("Wrong magic number for PMTiles archive");let i=t.data.slice(0,Ct),a=$e(i,t.etag),s=t.data.slice(a.rootDirectoryOffset,a.rootDirectoryOffset+a.rootDirectoryLength),u=`${r.getKey()}|${a.etag||""}|${a.rootDirectoryOffset}|${a.rootDirectoryLength}`,h=Ve(yield e(s,a.internalCompression));return[a,[u,h.length,h]]})}f(ke,"getHeaderAndRoot");function Ke(r,e,t,n,i){return m(this,null,function*(){let a=yield r.getBytes(t,n,void 0,i.etag),s=yield e(a.data,i.internalCompression),u=Ve(s);if(u.length===0)throw new Error("Empty directory is invalid");return u})}f(Ke,"getDirectory");var ve=class ve{constructor(e=100,t=!0,n=fe){this.cache=new Map,this.maxCacheEntries=e,this.counter=1,this.decompress=n}getHeader(e){return m(this,null,function*(){let t=e.getKey(),n=this.cache.get(t);if(n)return n.lastUsed=this.counter++,n.data;let i=yield ke(e,this.decompress);return i[1]&&this.cache.set(i[1][0],{lastUsed:this.counter++,data:i[1][2]}),this.cache.set(t,{lastUsed:this.counter++,data:i[0]}),this.prune(),i[0]})}getDirectory(e,t,n,i){return m(this,null,function*(){let a=`${e.getKey()}|${i.etag||""}|${t}|${n}`,s=this.cache.get(a);if(s)return s.lastUsed=this.counter++,s.data;let u=yield Ke(e,this.decompress,t,n,i);return this.cache.set(a,{lastUsed:this.counter++,data:u}),this.prune(),u})}prune(){if(this.cache.size>this.maxCacheEntries){let e=1/0,t;this.cache.forEach((n,i)=>{n.lastUsed<e&&(e=n.lastUsed,t=i)}),t&&this.cache.delete(t)}}invalidate(e){return m(this,null,function*(){this.cache.delete(e.getKey())})}};f(ve,"ResolvedValueCache");var ue=ve,ge=class ge{constructor(e=100,t=!0,n=fe){this.cache=new Map,this.invalidations=new Map,this.maxCacheEntries=e,this.counter=1,this.decompress=n}getHeader(e){return m(this,null,function*(){let t=e.getKey(),n=this.cache.get(t);if(n)return n.lastUsed=this.counter++,yield n.data;let i=new Promise((a,s)=>{ke(e,this.decompress).then(u=>{u[1]&&this.cache.set(u[1][0],{lastUsed:this.counter++,data:Promise.resolve(u[1][2])}),a(u[0]),this.prune()}).catch(u=>{s(u)})});return this.cache.set(t,{lastUsed:this.counter++,data:i}),i})}getDirectory(e,t,n,i){return m(this,null,function*(){let a=`${e.getKey()}|${i.etag||""}|${t}|${n}`,s=this.cache.get(a);if(s)return s.lastUsed=this.counter++,yield s.data;let u=new Promise((h,l)=>{Ke(e,this.decompress,t,n,i).then(c=>{h(c),this.prune()}).catch(c=>{l(c)})});return this.cache.set(a,{lastUsed:this.counter++,data:u}),u})}prune(){if(this.cache.size>=this.maxCacheEntries){let e=1/0,t;this.cache.forEach((n,i)=>{n.lastUsed<e&&(e=n.lastUsed,t=i)}),t&&this.cache.delete(t)}}invalidate(e){return m(this,null,function*(){let t=e.getKey();if(this.invalidations.get(t))return yield this.invalidations.get(t);this.cache.delete(e.getKey());let n=new Promise((i,a)=>{this.getHeader(e).then(s=>{i(),this.invalidations.delete(t)}).catch(s=>{a(s)})});this.invalidations.set(t,n)})}};f(ge,"SharedPromiseCache");var G=ge,pe=class pe{constructor(e,t,n){typeof e=="string"?this.source=new K(e):this.source=e,n?this.decompress=n:this.decompress=fe,t?this.cache=t:this.cache=new G}getHeader(){return m(this,null,function*(){return yield this.cache.getHeader(this.source)})}getZxyAttempt(e,t,n,i){return m(this,null,function*(){let a=Ie(e,t,n),s=yield this.cache.getHeader(this.source);if(e<s.minZoom||e>s.maxZoom)return;let u=s.rootDirectoryOffset,h=s.rootDirectoryLength;for(let l=0;l<=3;l++){let c=yield this.cache.getDirectory(this.source,u,h,s),o=Fe(c,a);if(o){if(o.runLength>0){let v=yield this.source.getBytes(s.tileDataOffset+o.offset,o.length,i,s.etag);return{data:yield this.decompress(v.data,s.tileCompression),cacheControl:v.cacheControl,expires:v.expires}}u=s.leafDirectoryOffset+o.offset,h=o.length}else return}throw new Error("Maximum directory depth exceeded")})}getZxy(e,t,n,i){return m(this,null,function*(){try{return yield this.getZxyAttempt(e,t,n,i)}catch(a){if(a instanceof B)return this.cache.invalidate(this.source),yield this.getZxyAttempt(e,t,n,i);throw a}})}getMetadataAttempt(){return m(this,null,function*(){let e=yield this.cache.getHeader(this.source),t=yield this.source.getBytes(e.jsonMetadataOffset,e.jsonMetadataLength,void 0,e.etag),n=yield this.decompress(t.data,e.internalCompression),i=new TextDecoder("utf-8");return JSON.parse(i.decode(n))})}getMetadata(){return m(this,null,function*(){try{return yield this.getMetadataAttempt()}catch(e){if(e instanceof B)return this.cache.invalidate(this.source),yield this.getMetadataAttempt();throw e}})}getTileJson(e){return m(this,null,function*(){let t=yield this.getHeader(),n=yield this.getMetadata(),i=Ze(t.tileType);return{tilejson:"3.0.0",scheme:"xyz",tiles:[`${e}/{z}/{x}/{y}${i}`],vector_layers:n.vector_layers,attribution:n.attribution,description:n.description,name:n.name,version:n.version,bounds:[t.minLon,t.minLat,t.maxLon,t.maxLat],center:[t.centerLon,t.centerLat,t.centerZoom],minzoom:t.minZoom,maxzoom:t.maxZoom}})}};f(pe,"PMTiles");var P=pe;return et(Dt);})();
//# sourceMappingURL=pmtiles.js.map</script>
<script>!function(A){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=A();else if("function"==typeof define&&define.amd)define([],A);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).h3j_h3t=A()}}((function(){return function A(e,r,t){function i(o,a){if(!r[o]){if(!e[o]){var f="function"==typeof require&&require;if(!a&&f)return f(o,!0);if(n)return n(o,!0);var s=new Error("Cannot find module '"+o+"'");throw s.code="MODULE_NOT_FOUND",s}var u=r[o]={exports:{}};e[o][0].call(u.exports,(function(A){return i(e[o][1][A]||A)}),u,u.exports,A,e,r,t)}return r[o].exports}for(var n="function"==typeof require&&require,o=0;o<t.length;o++)i(t[o]);return i}({1:[function(A,e,r){"use strict";function t(A,e){this.x=A,this.y=e}e.exports=t,t.prototype={clone:function(){return new t(this.x,this.y)},add:function(A){return this.clone()._add(A)},sub:function(A){return this.clone()._sub(A)},multByPoint:function(A){return this.clone()._multByPoint(A)},divByPoint:function(A){return this.clone()._divByPoint(A)},mult:function(A){return this.clone()._mult(A)},div:function(A){return this.clone()._div(A)},rotate:function(A){return this.clone()._rotate(A)},rotateAround:function(A,e){return this.clone()._rotateAround(A,e)},matMult:function(A){return this.clone()._matMult(A)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(A){return this.x===A.x&&this.y===A.y},dist:function(A){return Math.sqrt(this.distSqr(A))},distSqr:function(A){var e=A.x-this.x,r=A.y-this.y;return e*e+r*r},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(A){return Math.atan2(this.y-A.y,this.x-A.x)},angleWith:function(A){return this.angleWithSep(A.x,A.y)},angleWithSep:function(A,e){return Math.atan2(this.x*e-this.y*A,this.x*A+this.y*e)},_matMult:function(A){var e=A[0]*this.x+A[1]*this.y,r=A[2]*this.x+A[3]*this.y;return this.x=e,this.y=r,this},_add:function(A){return this.x+=A.x,this.y+=A.y,this},_sub:function(A){return this.x-=A.x,this.y-=A.y,this},_mult:function(A){return this.x*=A,this.y*=A,this},_div:function(A){return this.x/=A,this.y/=A,this},_multByPoint:function(A){return this.x*=A.x,this.y*=A.y,this},_divByPoint:function(A){return this.x/=A.x,this.y/=A.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var A=this.y;return this.y=this.x,this.x=-A,this},_rotate:function(A){var e=Math.cos(A),r=Math.sin(A),t=e*this.x-r*this.y,i=r*this.x+e*this.y;return this.x=t,this.y=i,this},_rotateAround:function(A,e){var r=Math.cos(A),t=Math.sin(A),i=e.x+r*(this.x-e.x)-t*(this.y-e.y),n=e.y+t*(this.x-e.x)+r*(this.y-e.y);return this.x=i,this.y=n,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},t.convert=function(A){return A instanceof t?A:Array.isArray(A)?new t(A[0],A[1]):A}},{}],2:[function(A,e,r){e.exports.VectorTile=A("./lib/vectortile.js"),e.exports.VectorTileFeature=A("./lib/vectortilefeature.js"),e.exports.VectorTileLayer=A("./lib/vectortilelayer.js")},{"./lib/vectortile.js":3,"./lib/vectortilefeature.js":4,"./lib/vectortilelayer.js":5}],3:[function(A,e,r){"use strict";var t=A("./vectortilelayer");function i(A,e,r){if(3===A){var i=new t(r,r.readVarint()+r.pos);i.length&&(e[i.name]=i)}}e.exports=function(A,e){this.layers=A.readFields(i,{},e)}},{"./vectortilelayer":5}],4:[function(A,e,r){"use strict";var t=A("@mapbox/point-geometry");function i(A,e,r,t,i){this.properties={},this.extent=r,this.type=0,this._pbf=A,this._geometry=-1,this._keys=t,this._values=i,A.readFields(n,this,e)}function n(A,e,r){1==A?e.id=r.readVarint():2==A?function(A,e){var r=A.readVarint()+A.pos;for(;A.pos<r;){var t=e._keys[A.readVarint()],i=e._values[A.readVarint()];e.properties[t]=i}}(r,e):3==A?e.type=r.readVarint():4==A&&(e._geometry=r.pos)}function o(A){for(var e,r,t=0,i=0,n=A.length,o=n-1;i<n;o=i++)e=A[i],t+=((r=A[o]).x-e.x)*(e.y+r.y);return t}e.exports=i,i.types=["Unknown","Point","LineString","Polygon"],i.prototype.loadGeometry=function(){var A=this._pbf;A.pos=this._geometry;for(var e,r=A.readVarint()+A.pos,i=1,n=0,o=0,a=0,f=[];A.pos<r;){if(n<=0){var s=A.readVarint();i=7&s,n=s>>3}if(n--,1===i||2===i)o+=A.readSVarint(),a+=A.readSVarint(),1===i&&(e&&f.push(e),e=[]),e.push(new t(o,a));else{if(7!==i)throw new Error("unknown command "+i);e&&e.push(e[0].clone())}}return e&&f.push(e),f},i.prototype.bbox=function(){var A=this._pbf;A.pos=this._geometry;for(var e=A.readVarint()+A.pos,r=1,t=0,i=0,n=0,o=1/0,a=-1/0,f=1/0,s=-1/0;A.pos<e;){if(t<=0){var u=A.readVarint();r=7&u,t=u>>3}if(t--,1===r||2===r)(i+=A.readSVarint())<o&&(o=i),i>a&&(a=i),(n+=A.readSVarint())<f&&(f=n),n>s&&(s=n);else if(7!==r)throw new Error("unknown command "+r)}return[o,f,a,s]},i.prototype.toGeoJSON=function(A,e,r){var t,n,a=this.extent*Math.pow(2,r),f=this.extent*A,s=this.extent*e,u=this.loadGeometry(),l=i.types[this.type];function h(A){for(var e=0;e<A.length;e++){var r=A[e],t=180-360*(r.y+s)/a;A[e]=[360*(r.x+f)/a-180,360/Math.PI*Math.atan(Math.exp(t*Math.PI/180))-90]}}switch(this.type){case 1:var c=[];for(t=0;t<u.length;t++)c[t]=u[t][0];h(u=c);break;case 2:for(t=0;t<u.length;t++)h(u[t]);break;case 3:for(u=function(A){var e=A.length;if(e<=1)return[A];for(var r,t,i=[],n=0;n<e;n++){var a=o(A[n]);0!==a&&(void 0===t&&(t=a<0),t===a<0?(r&&i.push(r),r=[A[n]]):r.push(A[n]))}r&&i.push(r);return i}(u),t=0;t<u.length;t++)for(n=0;n<u[t].length;n++)h(u[t][n])}1===u.length?u=u[0]:l="Multi"+l;var d={type:"Feature",geometry:{type:l,coordinates:u},properties:this.properties};return"id"in this&&(d.id=this.id),d}},{"@mapbox/point-geometry":1}],5:[function(A,e,r){"use strict";var t=A("./vectortilefeature.js");function i(A,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=A,this._keys=[],this._values=[],this._features=[],A.readFields(n,this,e),this.length=this._features.length}function n(A,e,r){15===A?e.version=r.readVarint():1===A?e.name=r.readString():5===A?e.extent=r.readVarint():2===A?e._features.push(r.pos):3===A?e._keys.push(r.readString()):4===A&&e._values.push(function(A){var e=null,r=A.readVarint()+A.pos;for(;A.pos<r;){var t=A.readVarint()>>3;e=1===t?A.readString():2===t?A.readFloat():3===t?A.readDouble():4===t?A.readVarint64():5===t?A.readVarint():6===t?A.readSVarint():7===t?A.readBoolean():null}return e}(r))}e.exports=i,i.prototype.feature=function(A){if(A<0||A>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[A];var e=this._pbf.readVarint()+this._pbf.pos;return new t(this._pbf,e,this.extent,this._keys,this._values)}},{"./vectortilefeature.js":4}],6:[function(A,e,r){!function(A,t){"object"==typeof r&&void 0!==e?e.exports=t():A.geojsonvt=t()}(this,(function(){"use strict";function A(r,t,i,n){for(var o,a=n,f=i-t>>1,s=i-t,u=r[t],l=r[t+1],h=r[i],c=r[i+1],d=t+3;d<i;d+=3){var g=e(r[d],r[d+1],u,l,h,c);if(g>a)o=d,a=g;else if(g===a){var w=Math.abs(d-f);w<s&&(o=d,s=w)}}a>n&&(o-t>3&&A(r,t,o,n),r[o+2]=a,i-o>3&&A(r,o,i,n))}function e(A,e,r,t,i,n){var o=i-r,a=n-t;if(0!==o||0!==a){var f=((A-r)*o+(e-t)*a)/(o*o+a*a);f>1?(r=i,t=n):f>0&&(r+=o*f,t+=a*f)}return(o=A-r)*o+(a=e-t)*a}function r(A,e,r,i){var n={id:void 0===A?null:A,type:e,geometry:r,tags:i,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(A){var e=A.geometry,r=A.type;if("Point"===r||"MultiPoint"===r||"LineString"===r)t(A,e);else if("Polygon"===r||"MultiLineString"===r)for(var i=0;i<e.length;i++)t(A,e[i]);else if("MultiPolygon"===r)for(i=0;i<e.length;i++)for(var n=0;n<e[i].length;n++)t(A,e[i][n])}(n),n}function t(A,e){for(var r=0;r<e.length;r+=3)A.minX=Math.min(A.minX,e[r]),A.minY=Math.min(A.minY,e[r+1]),A.maxX=Math.max(A.maxX,e[r]),A.maxY=Math.max(A.maxY,e[r+1])}function i(A,e,t,f){if(e.geometry){var s=e.geometry.coordinates,u=e.geometry.type,l=Math.pow(t.tolerance/((1<<t.maxZoom)*t.extent),2),h=[],c=e.id;if(t.promoteId?c=e.properties[t.promoteId]:t.generateId&&(c=f||0),"Point"===u)n(s,h);else if("MultiPoint"===u)for(var d=0;d<s.length;d++)n(s[d],h);else if("LineString"===u)o(s,h,l,!1);else if("MultiLineString"===u){if(t.lineMetrics){for(d=0;d<s.length;d++)h=[],o(s[d],h,l,!1),A.push(r(c,"LineString",h,e.properties));return}a(s,h,l,!1)}else if("Polygon"===u)a(s,h,l,!0);else{if("MultiPolygon"!==u){if("GeometryCollection"===u){for(d=0;d<e.geometry.geometries.length;d++)i(A,{id:c,geometry:e.geometry.geometries[d],properties:e.properties},t,f);return}throw new Error("Input data is not a valid GeoJSON object.")}for(d=0;d<s.length;d++){var g=[];a(s[d],g,l,!0),h.push(g)}}A.push(r(c,u,h,e.properties))}}function n(A,e){e.push(f(A[0])),e.push(s(A[1])),e.push(0)}function o(e,r,t,i){for(var n,o,a=0,u=0;u<e.length;u++){var l=f(e[u][0]),h=s(e[u][1]);r.push(l),r.push(h),r.push(0),u>0&&(a+=i?(n*h-l*o)/2:Math.sqrt(Math.pow(l-n,2)+Math.pow(h-o,2))),n=l,o=h}var c=r.length-3;r[2]=1,A(r,0,c,t),r[c+2]=1,r.size=Math.abs(a),r.start=0,r.end=r.size}function a(A,e,r,t){for(var i=0;i<A.length;i++){var n=[];o(A[i],n,r,t),e.push(n)}}function f(A){return A/360+.5}function s(A){var e=Math.sin(A*Math.PI/180),r=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return r<0?0:r>1?1:r}function u(A,e,t,i,n,o,a,f){if(i/=e,o>=(t/=e)&&a<i)return A;if(a<t||o>=i)return null;for(var s=[],u=0;u<A.length;u++){var c=A[u],g=c.geometry,w=c.type,p=0===n?c.minX:c.minY,B=0===n?c.maxX:c.maxY;if(p>=t&&B<i)s.push(c);else if(!(B<t||p>=i)){var b=[];if("Point"===w||"MultiPoint"===w)l(g,b,t,i,n);else if("LineString"===w)h(g,b,t,i,n,!1,f.lineMetrics);else if("MultiLineString"===w)d(g,b,t,i,n,!1);else if("Polygon"===w)d(g,b,t,i,n,!0);else if("MultiPolygon"===w)for(var v=0;v<g.length;v++){var m=[];d(g[v],m,t,i,n,!0),m.length&&b.push(m)}if(b.length){if(f.lineMetrics&&"LineString"===w){for(v=0;v<b.length;v++)s.push(r(c.id,w,b[v],c.tags));continue}"LineString"!==w&&"MultiLineString"!==w||(1===b.length?(w="LineString",b=b[0]):w="MultiLineString"),"Point"!==w&&"MultiPoint"!==w||(w=3===b.length?"Point":"MultiPoint"),s.push(r(c.id,w,b,c.tags))}}}return s.length?s:null}function l(A,e,r,t,i){for(var n=0;n<A.length;n+=3){var o=A[n+i];o>=r&&o<=t&&(e.push(A[n]),e.push(A[n+1]),e.push(A[n+2]))}}function h(A,e,r,t,i,n,o){for(var a,f,s=c(A),u=0===i?w:p,l=A.start,h=0;h<A.length-3;h+=3){var d=A[h],B=A[h+1],b=A[h+2],v=A[h+3],m=A[h+4],k=0===i?d:B,M=0===i?v:m,Q=!1;o&&(a=Math.sqrt(Math.pow(d-v,2)+Math.pow(B-m,2))),k<r?M>r&&(f=u(s,d,B,v,m,r),o&&(s.start=l+a*f)):k>t?M<t&&(f=u(s,d,B,v,m,t),o&&(s.start=l+a*f)):g(s,d,B,b),M<r&&k>=r&&(f=u(s,d,B,v,m,r),Q=!0),M>t&&k<=t&&(f=u(s,d,B,v,m,t),Q=!0),!n&&Q&&(o&&(s.end=l+a*f),e.push(s),s=c(A)),o&&(l+=a)}var y=A.length-3;d=A[y],B=A[y+1],b=A[y+2],(k=0===i?d:B)>=r&&k<=t&&g(s,d,B,b),y=s.length-3,n&&y>=3&&(s[y]!==s[0]||s[y+1]!==s[1])&&g(s,s[0],s[1],s[2]),s.length&&e.push(s)}function c(A){var e=[];return e.size=A.size,e.start=A.start,e.end=A.end,e}function d(A,e,r,t,i,n){for(var o=0;o<A.length;o++)h(A[o],e,r,t,i,n,!1)}function g(A,e,r,t){A.push(e),A.push(r),A.push(t)}function w(A,e,r,t,i,n){var o=(n-e)/(t-e);return A.push(n),A.push(r+(i-r)*o),A.push(1),o}function p(A,e,r,t,i,n){var o=(n-r)/(i-r);return A.push(e+(t-e)*o),A.push(n),A.push(1),o}function B(A,e){for(var t=[],i=0;i<A.length;i++){var n,o=A[i],a=o.type;if("Point"===a||"MultiPoint"===a||"LineString"===a)n=b(o.geometry,e);else if("MultiLineString"===a||"Polygon"===a){n=[];for(var f=0;f<o.geometry.length;f++)n.push(b(o.geometry[f],e))}else if("MultiPolygon"===a)for(n=[],f=0;f<o.geometry.length;f++){for(var s=[],u=0;u<o.geometry[f].length;u++)s.push(b(o.geometry[f][u],e));n.push(s)}t.push(r(o.id,a,n,o.tags))}return t}function b(A,e){var r=[];r.size=A.size,void 0!==A.start&&(r.start=A.start,r.end=A.end);for(var t=0;t<A.length;t+=3)r.push(A[t]+e,A[t+1],A[t+2]);return r}function v(A,e){if(A.transformed)return A;var r,t,i,n=1<<A.z,o=A.x,a=A.y;for(r=0;r<A.features.length;r++){var f=A.features[r],s=f.geometry,u=f.type;if(f.geometry=[],1===u)for(t=0;t<s.length;t+=2)f.geometry.push(m(s[t],s[t+1],e,n,o,a));else for(t=0;t<s.length;t++){var l=[];for(i=0;i<s[t].length;i+=2)l.push(m(s[t][i],s[t][i+1],e,n,o,a));f.geometry.push(l)}}return A.transformed=!0,A}function m(A,e,r,t,i,n){return[Math.round(r*(A*t-i)),Math.round(r*(e*t-n))]}function k(A,e,r,t,i){for(var n=e===i.maxZoom?0:i.tolerance/((1<<e)*i.extent),o={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:r,y:t,z:e,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},a=0;a<A.length;a++){o.numFeatures++,M(o,A[a],n,i);var f=A[a].minX,s=A[a].minY,u=A[a].maxX,l=A[a].maxY;f<o.minX&&(o.minX=f),s<o.minY&&(o.minY=s),u>o.maxX&&(o.maxX=u),l>o.maxY&&(o.maxY=l)}return o}function M(A,e,r,t){var i=e.geometry,n=e.type,o=[];if("Point"===n||"MultiPoint"===n)for(var a=0;a<i.length;a+=3)o.push(i[a]),o.push(i[a+1]),A.numPoints++,A.numSimplified++;else if("LineString"===n)Q(o,i,A,r,!1,!1);else if("MultiLineString"===n||"Polygon"===n)for(a=0;a<i.length;a++)Q(o,i[a],A,r,"Polygon"===n,0===a);else if("MultiPolygon"===n)for(var f=0;f<i.length;f++){var s=i[f];for(a=0;a<s.length;a++)Q(o,s[a],A,r,!0,0===a)}if(o.length){var u=e.tags||null;if("LineString"===n&&t.lineMetrics){for(var l in u={},e.tags)u[l]=e.tags[l];u.mapbox_clip_start=i.start/i.size,u.mapbox_clip_end=i.end/i.size}var h={geometry:o,type:"Polygon"===n||"MultiPolygon"===n?3:"LineString"===n||"MultiLineString"===n?2:1,tags:u};null!==e.id&&(h.id=e.id),A.features.push(h)}}function Q(A,e,r,t,i,n){var o=t*t;if(t>0&&e.size<(i?o:t))r.numPoints+=e.length/3;else{for(var a=[],f=0;f<e.length;f+=3)(0===t||e[f+2]>o)&&(r.numSimplified++,a.push(e[f]),a.push(e[f+1])),r.numPoints++;i&&function(A,e){for(var r=0,t=0,i=A.length,n=i-2;t<i;n=t,t+=2)r+=(A[t]-A[n])*(A[t+1]+A[n+1]);if(r>0===e)for(t=0,i=A.length;t<i/2;t+=2){var o=A[t],a=A[t+1];A[t]=A[i-2-t],A[t+1]=A[i-1-t],A[i-2-t]=o,A[i-1-t]=a}}(a,n),A.push(a)}}function y(A,e){var r=(e=this.options=function(A,e){for(var r in e)A[r]=e[r];return A}(Object.create(this.options),e)).debug;if(r&&console.time("preprocess data"),e.maxZoom<0||e.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(e.promoteId&&e.generateId)throw new Error("promoteId and generateId cannot be used together.");var t=function(A,e){var r=[];if("FeatureCollection"===A.type)for(var t=0;t<A.features.length;t++)i(r,A.features[t],e,t);else"Feature"===A.type?i(r,A,e):i(r,{geometry:A},e);return r}(A,e);this.tiles={},this.tileCoords=[],r&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",e.indexMaxZoom,e.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(t=function(A,e){var r=e.buffer/e.extent,t=A,i=u(A,1,-1-r,r,0,-1,2,e),n=u(A,1,1-r,2+r,0,-1,2,e);return(i||n)&&(t=u(A,1,-r,1+r,0,-1,2,e)||[],i&&(t=B(i,1).concat(t)),n&&(t=t.concat(B(n,-1)))),t}(t,e)).length&&this.splitTile(t,0,0,0),r&&(t.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function E(A,e,r){return 32*((1<<A)*r+e)+A}return y.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},y.prototype.splitTile=function(A,e,r,t,i,n,o){for(var a=[A,e,r,t],f=this.options,s=f.debug;a.length;){t=a.pop(),r=a.pop(),e=a.pop(),A=a.pop();var l=1<<e,h=E(e,r,t),c=this.tiles[h];if(!c&&(s>1&&console.time("creation"),c=this.tiles[h]=k(A,e,r,t,f),this.tileCoords.push({z:e,x:r,y:t}),s)){s>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",e,r,t,c.numFeatures,c.numPoints,c.numSimplified),console.timeEnd("creation"));var d="z"+e;this.stats[d]=(this.stats[d]||0)+1,this.total++}if(c.source=A,i){if(e===f.maxZoom||e===i)continue;var g=1<<i-e;if(r!==Math.floor(n/g)||t!==Math.floor(o/g))continue}else if(e===f.indexMaxZoom||c.numPoints<=f.indexMaxPoints)continue;if(c.source=null,0!==A.length){s>1&&console.time("clipping");var w,p,B,b,v,m,M=.5*f.buffer/f.extent,Q=.5-M,y=.5+M,x=1+M;w=p=B=b=null,v=u(A,l,r-M,r+y,0,c.minX,c.maxX,f),m=u(A,l,r+Q,r+x,0,c.minX,c.maxX,f),A=null,v&&(w=u(v,l,t-M,t+y,1,c.minY,c.maxY,f),p=u(v,l,t+Q,t+x,1,c.minY,c.maxY,f),v=null),m&&(B=u(m,l,t-M,t+y,1,c.minY,c.maxY,f),b=u(m,l,t+Q,t+x,1,c.minY,c.maxY,f),m=null),s>1&&console.timeEnd("clipping"),a.push(w||[],e+1,2*r,2*t),a.push(p||[],e+1,2*r,2*t+1),a.push(B||[],e+1,2*r+1,2*t),a.push(b||[],e+1,2*r+1,2*t+1)}}},y.prototype.getTile=function(A,e,r){var t=this.options,i=t.extent,n=t.debug;if(A<0||A>24)return null;var o=1<<A,a=E(A,e=(e%o+o)%o,r);if(this.tiles[a])return v(this.tiles[a],i);n>1&&console.log("drilling down to z%d-%d-%d",A,e,r);for(var f,s=A,u=e,l=r;!f&&s>0;)s--,u=Math.floor(u/2),l=Math.floor(l/2),f=this.tiles[E(s,u,l)];return f&&f.source?(n>1&&console.log("found parent tile z%d-%d-%d",s,u,l),n>1&&console.time("drilling down"),this.splitTile(f.source,s,u,l,A,e,r),n>1&&console.timeEnd("drilling down"),this.tiles[a]?v(this.tiles[a],i):null):null},function(A,e){return new y(A,e)}}))},{}],7:[function(A,e,r){var t=function(A){var e,r=void 0!==(A=A||{})?A:{},t={};for(e in r)r.hasOwnProperty(e)&&(t[e]=r[e]);var i,n=[],o="";document.currentScript&&(o=document.currentScript.src),o=0!==o.indexOf("blob:")?o.substr(0,o.lastIndexOf("/")+1):"",i=function(A,e,r){var t=new XMLHttpRequest;t.open("GET",A,!0),t.responseType="arraybuffer",t.onload=function(){if(200==t.status||0==t.status&&t.response)e(t.response);else{var i=J(A);i?e(i.buffer):r()}},t.onerror=r,t.send(null)};var a=r.print||console.log.bind(console),f=r.printErr||console.warn.bind(console);for(e in t)t.hasOwnProperty(e)&&(r[e]=t[e]);t=null,r.arguments&&(n=r.arguments);var s=0,u=function(){return s};var l=!1;function h(A){var e,t=r["_"+A];return e="Cannot call unknown function "+A+", make sure it is exported",t||fA("Assertion failed: "+e),t}function c(A,e,r,t,i){var n={string:function(A){var e=0;if(null!=A&&0!==A){var r=1+(A.length<<2);(function(A,e,r){(function(A,e,r,t){if(!(t>0))return 0;for(var i=r,n=r+t-1,o=0;o<A.length;++o){var a=A.charCodeAt(o);if(a>=55296&&a<=57343)a=65536+((1023&a)<<10)|1023&A.charCodeAt(++o);if(a<=127){if(r>=n)break;e[r++]=a}else if(a<=2047){if(r+1>=n)break;e[r++]=192|a>>6,e[r++]=128|63&a}else if(a<=65535){if(r+2>=n)break;e[r++]=224|a>>12,e[r++]=128|a>>6&63,e[r++]=128|63&a}else{if(r+3>=n)break;e[r++]=240|a>>18,e[r++]=128|a>>12&63,e[r++]=128|a>>6&63,e[r++]=128|63&a}}e[r]=0})(A,B,e,r)})(A,e=AA(r),r)}return e},array:function(A){var e=AA(A.length);return function(A,e){p.set(A,e)}(A,e),e}};var o=h(A),a=[],f=0;if(t)for(var s=0;s<t.length;s++){var u=n[r[s]];u?(0===f&&(f=rA()),a[s]=u(t[s])):a[s]=t[s]}var l=o.apply(null,a);return l=function(A){return"string"===e?g(A):"boolean"===e?Boolean(A):A}(l),0!==f&&eA(f),l}var d="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function g(A,e){return A?function(A,e,r){for(var t=e+r,i=e;A[i]&&!(i>=t);)++i;if(i-e>16&&A.subarray&&d)return d.decode(A.subarray(e,i));for(var n="";e<i;){var o=A[e++];if(128&o){var a=63&A[e++];if(192!=(224&o)){var f=63&A[e++];if((o=224==(240&o)?(15&o)<<12|a<<6|f:(7&o)<<18|a<<12|f<<6|63&A[e++])<65536)n+=String.fromCharCode(o);else{var s=o-65536;n+=String.fromCharCode(55296|s>>10,56320|1023&s)}}else n+=String.fromCharCode((31&o)<<6|a)}else n+=String.fromCharCode(o)}return n}(B,A,e):""}var w,p,B,b,v,m,k;"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");function M(A,e){return A%e>0&&(A+=e-A%e),A}function Q(A){w=A,r.HEAP8=p=new Int8Array(A),r.HEAP16=b=new Int16Array(A),r.HEAP32=v=new Int32Array(A),r.HEAPU8=B=new Uint8Array(A),r.HEAPU16=new Uint16Array(A),r.HEAPU32=new Uint32Array(A),r.HEAPF32=m=new Float32Array(A),r.HEAPF64=k=new Float64Array(A)}var y=r.TOTAL_MEMORY||33554432;function E(A){for(;A.length>0;){var e=A.shift();if("function"!=typeof e){var t=e.func;"number"==typeof t?void 0===e.arg?r.dynCall_v(t):r.dynCall_vi(t,e.arg):t(void 0===e.arg?null:e.arg)}else e()}}y=(w=r.buffer?r.buffer:new ArrayBuffer(y)).byteLength,Q(w),v[6004]=5266928;var x=[],D=[],_=[],I=[];var F=Math.abs,C=Math.ceil,P=Math.floor,U=Math.min,G=0,S=null,T=null;r.preloadedImages={},r.preloadedAudios={};var V,H,R=null,L="data:application/octet-stream;base64,";function z(A){return String.prototype.startsWith?A.startsWith(L):0===A.indexOf(L)}R="data:application/octet-stream;base64,AAAAAAAAAAACAAAAAwAAAAEAAAAFAAAABAAAAAYAAAAAAAAAAAAAAAAAAAABAAAAAgAAAAMAAAAEAAAABQAAAAYAAAABAAAABAAAAAMAAAAGAAAABQAAAAIAAAAAAAAAAgAAAAMAAAABAAAABAAAAAYAAAAAAAAABQAAAAMAAAAGAAAABAAAAAUAAAAAAAAAAQAAAAIAAAAEAAAABQAAAAYAAAAAAAAAAgAAAAMAAAABAAAABQAAAAIAAAAAAAAAAQAAAAMAAAAGAAAABAAAAAYAAAAAAAAABQAAAAIAAAABAAAABAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAgAAAAMAAAAAAAAAAAAAAAIAAAAAAAAAAQAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAEAAAABgAAAAAAAAAFAAAAAAAAAAAAAAAEAAAABQAAAAAAAAAAAAAAAAAAAAIAAAAAAAAABgAAAAAAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAACAAAAAwAAAAQAAAAFAAAABgAAAAEAAAACAAAAAwAAAAQAAAAFAAAABgAAAAAAAAACAAAAAwAAAAQAAAAFAAAABgAAAAAAAAABAAAAAwAAAAQAAAAFAAAABgAAAAAAAAABAAAAAgAAAAQAAAAFAAAABgAAAAAAAAABAAAAAgAAAAMAAAAFAAAABgAAAAAAAAABAAAAAgAAAAMAAAAEAAAABgAAAAAAAAABAAAAAgAAAAMAAAAEAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAADAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAACAAAAAgAAAAAAAAAAAAAABgAAAAAAAAADAAAAAgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAUAAAAEAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAAAAAAABgAAAAAAAAAEAAAAAAAAAAYAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAUAAAACAAAABAAAAAMAAAAIAAAAAQAAAAcAAAAGAAAACQAAAAAAAAADAAAAAgAAAAIAAAAGAAAACgAAAAsAAAAAAAAAAQAAAAUAAAADAAAADQAAAAEAAAAHAAAABAAAAAwAAAAAAAAABAAAAH8AAAAPAAAACAAAAAMAAAAAAAAADAAAAAUAAAACAAAAEgAAAAoAAAAIAAAAAAAAABAAAAAGAAAADgAAAAsAAAARAAAAAQAAAAkAAAACAAAABwAAABUAAAAJAAAAEwAAAAMAAAANAAAAAQAAAAgAAAAFAAAAFgAAABAAAAAEAAAAAAAAAA8AAAAJAAAAEwAAAA4AAAAUAAAAAQAAAAcAAAAGAAAACgAAAAsAAAAYAAAAFwAAAAUAAAACAAAAEgAAAAsAAAARAAAAFwAAABkAAAACAAAABgAAAAoAAAAMAAAAHAAAAA0AAAAaAAAABAAAAA8AAAADAAAADQAAABoAAAAVAAAAHQAAAAMAAAAMAAAABwAAAA4AAAB/AAAAEQAAABsAAAAJAAAAFAAAAAYAAAAPAAAAFgAAABwAAAAfAAAABAAAAAgAAAAMAAAAEAAAABIAAAAhAAAAHgAAAAgAAAAFAAAAFgAAABEAAAALAAAADgAAAAYAAAAjAAAAGQAAABsAAAASAAAAGAAAAB4AAAAgAAAABQAAAAoAAAAQAAAAEwAAACIAAAAUAAAAJAAAAAcAAAAVAAAACQAAABQAAAAOAAAAEwAAAAkAAAAoAAAAGwAAACQAAAAVAAAAJgAAABMAAAAiAAAADQAAAB0AAAAHAAAAFgAAABAAAAApAAAAIQAAAA8AAAAIAAAAHwAAABcAAAAYAAAACwAAAAoAAAAnAAAAJQAAABkAAAAYAAAAfwAAACAAAAAlAAAACgAAABcAAAASAAAAGQAAABcAAAARAAAACwAAAC0AAAAnAAAAIwAAABoAAAAqAAAAHQAAACsAAAAMAAAAHAAAAA0AAAAbAAAAKAAAACMAAAAuAAAADgAAABQAAAARAAAAHAAAAB8AAAAqAAAALAAAAAwAAAAPAAAAGgAAAB0AAAArAAAAJgAAAC8AAAANAAAAGgAAABUAAAAeAAAAIAAAADAAAAAyAAAAEAAAABIAAAAhAAAAHwAAACkAAAAsAAAANQAAAA8AAAAWAAAAHAAAACAAAAAeAAAAGAAAABIAAAA0AAAAMgAAACUAAAAhAAAAHgAAADEAAAAwAAAAFgAAABAAAAApAAAAIgAAABMAAAAmAAAAFQAAADYAAAAkAAAAMwAAACMAAAAuAAAALQAAADgAAAARAAAAGwAAABkAAAAkAAAAFAAAACIAAAATAAAANwAAACgAAAA2AAAAJQAAACcAAAA0AAAAOQAAABgAAAAXAAAAIAAAACYAAAB/AAAAIgAAADMAAAAdAAAALwAAABUAAAAnAAAAJQAAABkAAAAXAAAAOwAAADkAAAAtAAAAKAAAABsAAAAkAAAAFAAAADwAAAAuAAAANwAAACkAAAAxAAAANQAAAD0AAAAWAAAAIQAAAB8AAAAqAAAAOgAAACsAAAA+AAAAHAAAACwAAAAaAAAAKwAAAD4AAAAvAAAAQAAAABoAAAAqAAAAHQAAACwAAAA1AAAAOgAAAEEAAAAcAAAAHwAAACoAAAAtAAAAJwAAACMAAAAZAAAAPwAAADsAAAA4AAAALgAAADwAAAA4AAAARAAAABsAAAAoAAAAIwAAAC8AAAAmAAAAKwAAAB0AAABFAAAAMwAAAEAAAAAwAAAAMQAAAB4AAAAhAAAAQwAAAEIAAAAyAAAAMQAAAH8AAAA9AAAAQgAAACEAAAAwAAAAKQAAADIAAAAwAAAAIAAAAB4AAABGAAAAQwAAADQAAAAzAAAARQAAADYAAABHAAAAJgAAAC8AAAAiAAAANAAAADkAAABGAAAASgAAACAAAAAlAAAAMgAAADUAAAA9AAAAQQAAAEsAAAAfAAAAKQAAACwAAAA2AAAARwAAADcAAABJAAAAIgAAADMAAAAkAAAANwAAACgAAAA2AAAAJAAAAEgAAAA8AAAASQAAADgAAABEAAAAPwAAAE0AAAAjAAAALgAAAC0AAAA5AAAAOwAAAEoAAABOAAAAJQAAACcAAAA0AAAAOgAAAH8AAAA+AAAATAAAACwAAABBAAAAKgAAADsAAAA/AAAATgAAAE8AAAAnAAAALQAAADkAAAA8AAAASAAAAEQAAABQAAAAKAAAADcAAAAuAAAAPQAAADUAAAAxAAAAKQAAAFEAAABLAAAAQgAAAD4AAAArAAAAOgAAACoAAABSAAAAQAAAAEwAAAA/AAAAfwAAADgAAAAtAAAATwAAADsAAABNAAAAQAAAAC8AAAA+AAAAKwAAAFQAAABFAAAAUgAAAEEAAAA6AAAANQAAACwAAABWAAAATAAAAEsAAABCAAAAQwAAAFEAAABVAAAAMQAAADAAAAA9AAAAQwAAAEIAAAAyAAAAMAAAAFcAAABVAAAARgAAAEQAAAA4AAAAPAAAAC4AAABaAAAATQAAAFAAAABFAAAAMwAAAEAAAAAvAAAAWQAAAEcAAABUAAAARgAAAEMAAAA0AAAAMgAAAFMAAABXAAAASgAAAEcAAABZAAAASQAAAFsAAAAzAAAARQAAADYAAABIAAAAfwAAAEkAAAA3AAAAUAAAADwAAABYAAAASQAAAFsAAABIAAAAWAAAADYAAABHAAAANwAAAEoAAABOAAAAUwAAAFwAAAA0AAAAOQAAAEYAAABLAAAAQQAAAD0AAAA1AAAAXgAAAFYAAABRAAAATAAAAFYAAABSAAAAYAAAADoAAABBAAAAPgAAAE0AAAA/AAAARAAAADgAAABdAAAATwAAAFoAAABOAAAASgAAADsAAAA5AAAAXwAAAFwAAABPAAAATwAAAE4AAAA/AAAAOwAAAF0AAABfAAAATQAAAFAAAABEAAAASAAAADwAAABjAAAAWgAAAFgAAABRAAAAVQAAAF4AAABlAAAAPQAAAEIAAABLAAAAUgAAAGAAAABUAAAAYgAAAD4AAABMAAAAQAAAAFMAAAB/AAAASgAAAEYAAABkAAAAVwAAAFwAAABUAAAARQAAAFIAAABAAAAAYQAAAFkAAABiAAAAVQAAAFcAAABlAAAAZgAAAEIAAABDAAAAUQAAAFYAAABMAAAASwAAAEEAAABoAAAAYAAAAF4AAABXAAAAUwAAAGYAAABkAAAAQwAAAEYAAABVAAAAWAAAAEgAAABbAAAASQAAAGMAAABQAAAAaQAAAFkAAABhAAAAWwAAAGcAAABFAAAAVAAAAEcAAABaAAAATQAAAFAAAABEAAAAagAAAF0AAABjAAAAWwAAAEkAAABZAAAARwAAAGkAAABYAAAAZwAAAFwAAABTAAAATgAAAEoAAABsAAAAZAAAAF8AAABdAAAATwAAAFoAAABNAAAAbQAAAF8AAABqAAAAXgAAAFYAAABRAAAASwAAAGsAAABoAAAAZQAAAF8AAABcAAAATwAAAE4AAABtAAAAbAAAAF0AAABgAAAAaAAAAGIAAABuAAAATAAAAFYAAABSAAAAYQAAAH8AAABiAAAAVAAAAGcAAABZAAAAbwAAAGIAAABuAAAAYQAAAG8AAABSAAAAYAAAAFQAAABjAAAAUAAAAGkAAABYAAAAagAAAFoAAABxAAAAZAAAAGYAAABTAAAAVwAAAGwAAAByAAAAXAAAAGUAAABmAAAAawAAAHAAAABRAAAAVQAAAF4AAABmAAAAZQAAAFcAAABVAAAAcgAAAHAAAABkAAAAZwAAAFsAAABhAAAAWQAAAHQAAABpAAAAbwAAAGgAAABrAAAAbgAAAHMAAABWAAAAXgAAAGAAAABpAAAAWAAAAGcAAABbAAAAcQAAAGMAAAB0AAAAagAAAF0AAABjAAAAWgAAAHUAAABtAAAAcQAAAGsAAAB/AAAAZQAAAF4AAABzAAAAaAAAAHAAAABsAAAAZAAAAF8AAABcAAAAdgAAAHIAAABtAAAAbQAAAGwAAABdAAAAXwAAAHUAAAB2AAAAagAAAG4AAABiAAAAaAAAAGAAAAB3AAAAbwAAAHMAAABvAAAAYQAAAG4AAABiAAAAdAAAAGcAAAB3AAAAcAAAAGsAAABmAAAAZQAAAHgAAABzAAAAcgAAAHEAAABjAAAAdAAAAGkAAAB1AAAAagAAAHkAAAByAAAAcAAAAGQAAABmAAAAdgAAAHgAAABsAAAAcwAAAG4AAABrAAAAaAAAAHgAAAB3AAAAcAAAAHQAAABnAAAAdwAAAG8AAABxAAAAaQAAAHkAAAB1AAAAfwAAAG0AAAB2AAAAcQAAAHkAAABqAAAAdgAAAHgAAABsAAAAcgAAAHUAAAB5AAAAbQAAAHcAAABvAAAAcwAAAG4AAAB5AAAAdAAAAHgAAAB4AAAAcwAAAHIAAABwAAAAeQAAAHcAAAB2AAAAeQAAAHQAAAB4AAAAdwAAAHUAAABxAAAAdgAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAEAAAAFAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAIAAAAFAAAAAQAAAAAAAAD/////AQAAAAAAAAADAAAABAAAAAIAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAUAAAABAAAAAAAAAAAAAAABAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAAFAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAEAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAQAAAAFAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAADAAAAAAAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAABAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAADAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAADAAAABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAADAAAAAAAAAAAAAAABAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAMAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAQAAAAMAAAABAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAMAAAABAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAADAAAABQAAAAEAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAEAAAABQAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAgAAAAUAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAMAAAABAAAAAAAAAAEAAAAAAAAABQAAAAAAAAAAAAAABQAAAAUAAAAAAAAAAAAAAP////8BAAAAAAAAAAMAAAAEAAAAAgAAAAAAAAAAAAAAAQAAAAAAAAAAAAAABQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAABQAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAQAAAP//////////AQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAMAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAIAAAAAAAAAAAAAAAEAAAACAAAABgAAAAQAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAABwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABgAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAoAAAACAAAAAAAAAAAAAAABAAAAAQAAAAUAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAIAAAAAAAAAAAAAAAEAAAADAAAABwAAAAYAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAHAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAABAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAOAAAAAgAAAAAAAAAAAAAAAQAAAAAAAAAJAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAwAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAgAAAAAAAAAAAAAAAQAAAAQAAAAIAAAACgAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAsAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAJAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAACAAAAAAAAAAAAAAABAAAACwAAAA8AAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAA4AAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAgAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAFAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAACAAAAAAAAAAAAAAABAAAADAAAABAAAAAMAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAA8AAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAPAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAEAAAAKAAAAEwAAAAgAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACQAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAADwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAJAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAgAAAAAAAAAAAAAAAQAAAA0AAAARAAAADQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABEAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAATAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABMAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACQAAAAIAAAAAAAAAAAAAAAEAAAAOAAAAEgAAAA8AAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAPAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAATAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABMAAAACAAAAAAAAAAAAAAABAAAA//////////8TAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABMAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAASAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABIAAAAAAAAAGAAAAAAAAAAhAAAAAAAAAB4AAAAAAAAAIAAAAAMAAAAxAAAAAQAAADAAAAADAAAAMgAAAAMAAAAIAAAAAAAAAAUAAAAFAAAACgAAAAUAAAAWAAAAAAAAABAAAAAAAAAAEgAAAAAAAAApAAAAAQAAACEAAAAAAAAAHgAAAAAAAAAEAAAAAAAAAAAAAAAFAAAAAgAAAAUAAAAPAAAAAQAAAAgAAAAAAAAABQAAAAUAAAAfAAAAAQAAABYAAAAAAAAAEAAAAAAAAAACAAAAAAAAAAYAAAAAAAAADgAAAAAAAAAKAAAAAAAAAAsAAAAAAAAAEQAAAAMAAAAYAAAAAQAAABcAAAADAAAAGQAAAAMAAAAAAAAAAAAAAAEAAAAFAAAACQAAAAUAAAAFAAAAAAAAAAIAAAAAAAAABgAAAAAAAAASAAAAAQAAAAoAAAAAAAAACwAAAAAAAAAEAAAAAQAAAAMAAAAFAAAABwAAAAUAAAAIAAAAAQAAAAAAAAAAAAAAAQAAAAUAAAAQAAAAAQAAAAUAAAAAAAAAAgAAAAAAAAAHAAAAAAAAABUAAAAAAAAAJgAAAAAAAAAJAAAAAAAAABMAAAAAAAAAIgAAAAMAAAAOAAAAAQAAABQAAAADAAAAJAAAAAMAAAADAAAAAAAAAA0AAAAFAAAAHQAAAAUAAAABAAAAAAAAAAcAAAAAAAAAFQAAAAAAAAAGAAAAAQAAAAkAAAAAAAAAEwAAAAAAAAAEAAAAAgAAAAwAAAAFAAAAGgAAAAUAAAAAAAAAAQAAAAMAAAAAAAAADQAAAAUAAAACAAAAAQAAAAEAAAAAAAAABwAAAAAAAAAaAAAAAAAAACoAAAAAAAAAOgAAAAAAAAAdAAAAAAAAACsAAAAAAAAAPgAAAAMAAAAmAAAAAQAAAC8AAAADAAAAQAAAAAMAAAAMAAAAAAAAABwAAAAFAAAALAAAAAUAAAANAAAAAAAAABoAAAAAAAAAKgAAAAAAAAAVAAAAAQAAAB0AAAAAAAAAKwAAAAAAAAAEAAAAAwAAAA8AAAAFAAAAHwAAAAUAAAADAAAAAQAAAAwAAAAAAAAAHAAAAAUAAAAHAAAAAQAAAA0AAAAAAAAAGgAAAAAAAAAfAAAAAAAAACkAAAAAAAAAMQAAAAAAAAAsAAAAAAAAADUAAAAAAAAAPQAAAAMAAAA6AAAAAQAAAEEAAAADAAAASwAAAAMAAAAPAAAAAAAAABYAAAAFAAAAIQAAAAUAAAAcAAAAAAAAAB8AAAAAAAAAKQAAAAAAAAAqAAAAAQAAACwAAAAAAAAANQAAAAAAAAAEAAAABAAAAAgAAAAFAAAAEAAAAAUAAAAMAAAAAQAAAA8AAAAAAAAAFgAAAAUAAAAaAAAAAQAAABwAAAAAAAAAHwAAAAAAAAAyAAAAAAAAADAAAAAAAAAAMQAAAAMAAAAgAAAAAAAAAB4AAAADAAAAIQAAAAMAAAAYAAAAAwAAABIAAAADAAAAEAAAAAMAAABGAAAAAAAAAEMAAAAAAAAAQgAAAAMAAAA0AAAAAwAAADIAAAAAAAAAMAAAAAAAAAAlAAAAAwAAACAAAAAAAAAAHgAAAAMAAABTAAAAAAAAAFcAAAADAAAAVQAAAAMAAABKAAAAAwAAAEYAAAAAAAAAQwAAAAAAAAA5AAAAAQAAADQAAAADAAAAMgAAAAAAAAAZAAAAAAAAABcAAAAAAAAAGAAAAAMAAAARAAAAAAAAAAsAAAADAAAACgAAAAMAAAAOAAAAAwAAAAYAAAADAAAAAgAAAAMAAAAtAAAAAAAAACcAAAAAAAAAJQAAAAMAAAAjAAAAAwAAABkAAAAAAAAAFwAAAAAAAAAbAAAAAwAAABEAAAAAAAAACwAAAAMAAAA/AAAAAAAAADsAAAADAAAAOQAAAAMAAAA4AAAAAwAAAC0AAAAAAAAAJwAAAAAAAAAuAAAAAwAAACMAAAADAAAAGQAAAAAAAAAkAAAAAAAAABQAAAAAAAAADgAAAAMAAAAiAAAAAAAAABMAAAADAAAACQAAAAMAAAAmAAAAAwAAABUAAAADAAAABwAAAAMAAAA3AAAAAAAAACgAAAAAAAAAGwAAAAMAAAA2AAAAAwAAACQAAAAAAAAAFAAAAAAAAAAzAAAAAwAAACIAAAAAAAAAEwAAAAMAAABIAAAAAAAAADwAAAADAAAALgAAAAMAAABJAAAAAwAAADcAAAAAAAAAKAAAAAAAAABHAAAAAwAAADYAAAADAAAAJAAAAAAAAABAAAAAAAAAAC8AAAAAAAAAJgAAAAMAAAA+AAAAAAAAACsAAAADAAAAHQAAAAMAAAA6AAAAAwAAACoAAAADAAAAGgAAAAMAAABUAAAAAAAAAEUAAAAAAAAAMwAAAAMAAABSAAAAAwAAAEAAAAAAAAAALwAAAAAAAABMAAAAAwAAAD4AAAAAAAAAKwAAAAMAAABhAAAAAAAAAFkAAAADAAAARwAAAAMAAABiAAAAAwAAAFQAAAAAAAAARQAAAAAAAABgAAAAAwAAAFIAAAADAAAAQAAAAAAAAABLAAAAAAAAAEEAAAAAAAAAOgAAAAMAAAA9AAAAAAAAADUAAAADAAAALAAAAAMAAAAxAAAAAwAAACkAAAADAAAAHwAAAAMAAABeAAAAAAAAAFYAAAAAAAAATAAAAAMAAABRAAAAAwAAAEsAAAAAAAAAQQAAAAAAAABCAAAAAwAAAD0AAAAAAAAANQAAAAMAAABrAAAAAAAAAGgAAAADAAAAYAAAAAMAAABlAAAAAwAAAF4AAAAAAAAAVgAAAAAAAABVAAAAAwAAAFEAAAADAAAASwAAAAAAAAA5AAAAAAAAADsAAAAAAAAAPwAAAAMAAABKAAAAAAAAAE4AAAADAAAATwAAAAMAAABTAAAAAwAAAFwAAAADAAAAXwAAAAMAAAAlAAAAAAAAACcAAAADAAAALQAAAAMAAAA0AAAAAAAAADkAAAAAAAAAOwAAAAAAAABGAAAAAwAAAEoAAAAAAAAATgAAAAMAAAAYAAAAAAAAABcAAAADAAAAGQAAAAMAAAAgAAAAAwAAACUAAAAAAAAAJwAAAAMAAAAyAAAAAwAAADQAAAAAAAAAOQAAAAAAAAAuAAAAAAAAADwAAAAAAAAASAAAAAMAAAA4AAAAAAAAAEQAAAADAAAAUAAAAAMAAAA/AAAAAwAAAE0AAAADAAAAWgAAAAMAAAAbAAAAAAAAACgAAAADAAAANwAAAAMAAAAjAAAAAAAAAC4AAAAAAAAAPAAAAAAAAAAtAAAAAwAAADgAAAAAAAAARAAAAAMAAAAOAAAAAAAAABQAAAADAAAAJAAAAAMAAAARAAAAAwAAABsAAAAAAAAAKAAAAAMAAAAZAAAAAwAAACMAAAAAAAAALgAAAAAAAABHAAAAAAAAAFkAAAAAAAAAYQAAAAMAAABJAAAAAAAAAFsAAAADAAAAZwAAAAMAAABIAAAAAwAAAFgAAAADAAAAaQAAAAMAAAAzAAAAAAAAAEUAAAADAAAAVAAAAAMAAAA2AAAAAAAAAEcAAAAAAAAAWQAAAAAAAAA3AAAAAwAAAEkAAAAAAAAAWwAAAAMAAAAmAAAAAAAAAC8AAAADAAAAQAAAAAMAAAAiAAAAAwAAADMAAAAAAAAARQAAAAMAAAAkAAAAAwAAADYAAAAAAAAARwAAAAAAAABgAAAAAAAAAGgAAAAAAAAAawAAAAMAAABiAAAAAAAAAG4AAAADAAAAcwAAAAMAAABhAAAAAwAAAG8AAAADAAAAdwAAAAMAAABMAAAAAAAAAFYAAAADAAAAXgAAAAMAAABSAAAAAAAAAGAAAAAAAAAAaAAAAAAAAABUAAAAAwAAAGIAAAAAAAAAbgAAAAMAAAA6AAAAAAAAAEEAAAADAAAASwAAAAMAAAA+AAAAAwAAAEwAAAAAAAAAVgAAAAMAAABAAAAAAwAAAFIAAAAAAAAAYAAAAAAAAABVAAAAAAAAAFcAAAAAAAAAUwAAAAMAAABlAAAAAAAAAGYAAAADAAAAZAAAAAMAAABrAAAAAwAAAHAAAAADAAAAcgAAAAMAAABCAAAAAAAAAEMAAAADAAAARgAAAAMAAABRAAAAAAAAAFUAAAAAAAAAVwAAAAAAAABeAAAAAwAAAGUAAAAAAAAAZgAAAAMAAAAxAAAAAAAAADAAAAADAAAAMgAAAAMAAAA9AAAAAwAAAEIAAAAAAAAAQwAAAAMAAABLAAAAAwAAAFEAAAAAAAAAVQAAAAAAAABfAAAAAAAAAFwAAAAAAAAAUwAAAAAAAABPAAAAAAAAAE4AAAAAAAAASgAAAAMAAAA/AAAAAQAAADsAAAADAAAAOQAAAAMAAABtAAAAAAAAAGwAAAAAAAAAZAAAAAUAAABdAAAAAQAAAF8AAAAAAAAAXAAAAAAAAABNAAAAAQAAAE8AAAAAAAAATgAAAAAAAAB1AAAABAAAAHYAAAAFAAAAcgAAAAUAAABqAAAAAQAAAG0AAAAAAAAAbAAAAAAAAABaAAAAAQAAAF0AAAABAAAAXwAAAAAAAABaAAAAAAAAAE0AAAAAAAAAPwAAAAAAAABQAAAAAAAAAEQAAAAAAAAAOAAAAAMAAABIAAAAAQAAADwAAAADAAAALgAAAAMAAABqAAAAAAAAAF0AAAAAAAAATwAAAAUAAABjAAAAAQAAAFoAAAAAAAAATQAAAAAAAABYAAAAAQAAAFAAAAAAAAAARAAAAAAAAAB1AAAAAwAAAG0AAAAFAAAAXwAAAAUAAABxAAAAAQAAAGoAAAAAAAAAXQAAAAAAAABpAAAAAQAAAGMAAAABAAAAWgAAAAAAAABpAAAAAAAAAFgAAAAAAAAASAAAAAAAAABnAAAAAAAAAFsAAAAAAAAASQAAAAMAAABhAAAAAQAAAFkAAAADAAAARwAAAAMAAABxAAAAAAAAAGMAAAAAAAAAUAAAAAUAAAB0AAAAAQAAAGkAAAAAAAAAWAAAAAAAAABvAAAAAQAAAGcAAAAAAAAAWwAAAAAAAAB1AAAAAgAAAGoAAAAFAAAAWgAAAAUAAAB5AAAAAQAAAHEAAAAAAAAAYwAAAAAAAAB3AAAAAQAAAHQAAAABAAAAaQAAAAAAAAB3AAAAAAAAAG8AAAAAAAAAYQAAAAAAAABzAAAAAAAAAG4AAAAAAAAAYgAAAAMAAABrAAAAAQAAAGgAAAADAAAAYAAAAAMAAAB5AAAAAAAAAHQAAAAAAAAAZwAAAAUAAAB4AAAAAQAAAHcAAAAAAAAAbwAAAAAAAABwAAAAAQAAAHMAAAAAAAAAbgAAAAAAAAB1AAAAAQAAAHEAAAAFAAAAaQAAAAUAAAB2AAAAAQAAAHkAAAAAAAAAdAAAAAAAAAByAAAAAQAAAHgAAAABAAAAdwAAAAAAAAByAAAAAAAAAHAAAAAAAAAAawAAAAAAAABkAAAAAAAAAGYAAAAAAAAAZQAAAAMAAABTAAAAAQAAAFcAAAADAAAAVQAAAAMAAAB2AAAAAAAAAHgAAAAAAAAAcwAAAAUAAABsAAAAAQAAAHIAAAAAAAAAcAAAAAAAAABcAAAAAQAAAGQAAAAAAAAAZgAAAAAAAAB1AAAAAAAAAHkAAAAFAAAAdwAAAAUAAABtAAAAAQAAAHYAAAAAAAAAeAAAAAAAAABfAAAAAQAAAGwAAAABAAAAcgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAEAAAABAAAAAAAAAAAAAAABAAAAAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAB+ogX28rbpPxqumpJv+fM/165tC4ns9D+XaEnTqUsEQFrOtNlC4PA/3U+0XG6P9b9TdUUBxTTjP4PUp8ex1ty/B1rD/EN43z+lcDi6LLrZP/a45NWEHMY/oJ5ijLDZ+j/xw3rjxWPjP2B8A46ioQdAotff3wla2z+FMSpA1jj+v6b5Y1mtPbS/cIu8K0F457/2esiyJpDNv98k5Ts2NeA/pvljWa09tD88ClUJ60MDQPZ6yLImkM0/4ONKxa0UBcD2uOTVhBzGv5G7JRxGave/8cN648Vj47+HCwtkjAXIv6LX398JWtu/qyheaCAL9D9TdUUBxTTjv4gyTxslhwVAB1rD/EN4378EH/28teoFwH6iBfbytum/F6ztFYdK/r/Xrm0Liez0vwcS6wNGWeO/Ws602ULg8L9TCtRLiLT8P8pi5RexJsw/BlIKPVwR5T95Wyu0/QjnP5PjoT7YYcu/mBhKZ6zrwj8wRYS7NebuP3qW6geh+Ls/SLrixebL3r+pcyymN9XrPwmkNHp7xec/GWNMZVAA17+82s+x2BLiPwn2ytbJ9ek/LgEH1sMS1j8yp/2LhTfeP+SnWwtQBbu/d38gkp5X7z8ytsuHaADGPzUYObdf1+m/7IauECWhwz+cjSACjzniP76Z+wUhN9K/1+GEKzup67+/GYr/04baPw6idWOvsuc/ZedTWsRa5b/EJQOuRzi0v/OncYhHPes/h49PixY53j+i8wWfC03Nvw2idWOvsue/ZedTWsRa5T/EJQOuRzi0P/KncYhHPeu/iY9PixY53r+i8wWfC03NP9anWwtQBbs/d38gkp5X778ytsuHaADGvzUYObdf1+k/74auECWhw7+cjSACjzniv8CZ+wUhN9I/1uGEKzup6z+/GYr/04bavwmkNHp7xee/F2NMZVAA1z+82s+x2BLivwr2ytbJ9em/KwEH1sMS1r8yp/2LhTfev81i5RexJsy/BlIKPVwR5b95Wyu0/Qjnv5DjoT7YYcs/nBhKZ6zrwr8wRYS7Nebuv3OW6geh+Lu/SLrixebL3j+pcyymN9Xrv8rHIFfWehZAMBwUdlo0DECTUc17EOb2PxpVB1SWChdAzjbhb9pTDUDQhmdvECX5P9FlMKCC9+g/IIAzjELgE0DajDngMv8GQFhWDmDPjNs/y1guLh96EkAxPi8k7DIEQJCc4URlhRhA3eLKKLwkEECqpNAyTBD/P6xpjXcDiwVAFtl//cQm4z+Ibt3XKiYTQM7mCLUb3QdAoM1t8yVv7D8aLZv2Nk8UQEAJPV5nQwxAtSsfTCoE9z9TPjXLXIIWQBVanC5W9AtAYM3d7Adm9j++5mQz1FoWQBUThyaVBghAwH5muQsV7T89Q1qv82MUQJoWGOfNuBdAzrkClkmwDkDQjKq77t37Py+g0dtitsE/ZwAMTwVPEUBojepluNwBQGYbtuW+t9w/HNWIJs6MEkDTNuQUSlgEQKxktPP5TcQ/ixbLB8JjEUCwuWjXMQYCQAS/R09FkRdAowpiZjhhDkB7LmlczD/7P01iQmhhsAVAnrtTwDy84z/Z6jfQ2TgTQChOCXMnWwpAhrW3daoz8z/HYJvVPI4VQLT3ik5FcA5Angi7LOZd+z+NNVzDy5gXQBXdvVTFUA1AYNMgOeYe+T8+qHXGCwkXQKQTOKwa5AJA8gFVoEMW0T+FwzJyttIRQAEAAAD/////BwAAAP////8xAAAA/////1cBAAD/////YQkAAP////+nQQAA/////5HLAQD/////95AMAP/////B9lcAAAAAAAAAAAAAAAAAAgAAAP////8OAAAA/////2IAAAD/////rgIAAP/////CEgAA/////06DAAD/////IpcDAP/////uIRkA/////4LtrwAAAAAAAAAAAAAAAAAAAAAAAgAAAP//////////AQAAAAMAAAD//////////////////////////////////////////////////////////////////////////wEAAAAAAAAAAgAAAP///////////////wMAAAD//////////////////////////////////////////////////////////////////////////wEAAAAAAAAAAgAAAP///////////////wMAAAD//////////////////////////////////////////////////////////////////////////wEAAAAAAAAAAgAAAP///////////////wMAAAD//////////////////////////////////////////////////////////wIAAAD//////////wEAAAAAAAAA/////////////////////wMAAAD/////////////////////////////////////////////////////AwAAAP////////////////////8AAAAA/////////////////////wEAAAD///////////////8CAAAA////////////////////////////////AwAAAP////////////////////8AAAAA////////////////AgAAAAEAAAD/////////////////////////////////////////////////////AwAAAP////////////////////8AAAAA////////////////AgAAAAEAAAD/////////////////////////////////////////////////////AwAAAP////////////////////8AAAAA////////////////AgAAAAEAAAD/////////////////////////////////////////////////////AwAAAP////////////////////8AAAAA////////////////AgAAAAEAAAD/////////////////////////////////////////////////////AQAAAAIAAAD///////////////8AAAAA/////////////////////wMAAAD/////////////////////////////////////////////////////AQAAAAIAAAD///////////////8AAAAA/////////////////////wMAAAD/////////////////////////////////////////////////////AQAAAAIAAAD///////////////8AAAAA/////////////////////wMAAAD/////////////////////////////////////////////////////AQAAAAIAAAD///////////////8AAAAA/////////////////////wMAAAD///////////////////////////////8CAAAA////////////////AQAAAP////////////////////8AAAAA/////////////////////wMAAAD/////////////////////////////////////////////////////AwAAAP////////////////////8AAAAAAQAAAP//////////AgAAAP//////////////////////////////////////////////////////////AwAAAP///////////////wIAAAAAAAAAAQAAAP//////////////////////////////////////////////////////////////////////////AwAAAP///////////////wIAAAAAAAAAAQAAAP//////////////////////////////////////////////////////////////////////////AwAAAP///////////////wIAAAAAAAAAAQAAAP//////////////////////////////////////////////////////////////////////////AwAAAAEAAAD//////////wIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAgAAAAAAAAACAAAAAQAAAAEAAAACAAAAAgAAAAAAAAAFAAAABQAAAAAAAAACAAAAAgAAAAMAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAIAAAABAAAAAgAAAAIAAAACAAAAAAAAAAUAAAAGAAAAAAAAAAIAAAACAAAAAwAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAIAAAAAAAAAAgAAAAEAAAADAAAAAgAAAAIAAAAAAAAABQAAAAcAAAAAAAAAAgAAAAIAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAgAAAAAAAAACAAAAAQAAAAQAAAACAAAAAgAAAAAAAAAFAAAACAAAAAAAAAACAAAAAgAAAAMAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAACAAAAAAAAAAIAAAABAAAAAAAAAAIAAAACAAAAAAAAAAUAAAAJAAAAAAAAAAIAAAACAAAAAwAAAAUAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAIAAAACAAAAAAAAAAMAAAAOAAAAAgAAAAAAAAACAAAAAwAAAAAAAAAAAAAAAgAAAAIAAAADAAAABgAAAAAAAAAAAAAAAAAAAAAAAAALAAAAAgAAAAIAAAAAAAAAAwAAAAoAAAACAAAAAAAAAAIAAAADAAAAAQAAAAAAAAACAAAAAgAAAAMAAAAHAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAACAAAAAgAAAAAAAAADAAAACwAAAAIAAAAAAAAAAgAAAAMAAAACAAAAAAAAAAIAAAACAAAAAwAAAAgAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAIAAAACAAAAAAAAAAMAAAAMAAAAAgAAAAAAAAACAAAAAwAAAAMAAAAAAAAAAgAAAAIAAAADAAAACQAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAgAAAAIAAAAAAAAAAwAAAA0AAAACAAAAAAAAAAIAAAADAAAABAAAAAAAAAACAAAAAgAAAAMAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAACAAAAAgAAAAAAAAADAAAABgAAAAIAAAAAAAAAAgAAAAMAAAAPAAAAAAAAAAIAAAACAAAAAwAAAAsAAAAAAAAAAAAAAAAAAAAAAAAABgAAAAIAAAACAAAAAAAAAAMAAAAHAAAAAgAAAAAAAAACAAAAAwAAABAAAAAAAAAAAgAAAAIAAAADAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAgAAAAIAAAAAAAAAAwAAAAgAAAACAAAAAAAAAAIAAAADAAAAEQAAAAAAAAACAAAAAgAAAAMAAAANAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAACAAAAAgAAAAAAAAADAAAACQAAAAIAAAAAAAAAAgAAAAMAAAASAAAAAAAAAAIAAAACAAAAAwAAAA4AAAAAAAAAAAAAAAAAAAAAAAAACQAAAAIAAAACAAAAAAAAAAMAAAAFAAAAAgAAAAAAAAACAAAAAwAAABMAAAAAAAAAAgAAAAIAAAADAAAADwAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAgAAAAAAAAACAAAAAQAAABMAAAACAAAAAgAAAAAAAAAFAAAACgAAAAAAAAACAAAAAgAAAAMAAAAQAAAAAAAAAAAAAAAAAAAAAAAAABEAAAACAAAAAAAAAAIAAAABAAAADwAAAAIAAAACAAAAAAAAAAUAAAALAAAAAAAAAAIAAAACAAAAAwAAABEAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAIAAAAAAAAAAgAAAAEAAAAQAAAAAgAAAAIAAAAAAAAABQAAAAwAAAAAAAAAAgAAAAIAAAADAAAAEgAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAgAAAAAAAAACAAAAAQAAABEAAAACAAAAAgAAAAAAAAAFAAAADQAAAAAAAAACAAAAAgAAAAMAAAATAAAAAAAAAAAAAAAAAAAAAAAAAA8AAAACAAAAAAAAAAIAAAABAAAAEgAAAAIAAAACAAAAAAAAAAUAAAAOAAAAAAAAAAIAAAACAAAAAwAAAAIAAAABAAAAAAAAAAEAAAACAAAAAAAAAAAAAAACAAAAAQAAAAAAAAABAAAAAgAAAAEAAAAAAAAAAgAAAAAAAAAFAAAABAAAAAAAAAABAAAABQAAAAAAAAAAAAAABQAAAAQAAAAAAAAAAQAAAAUAAAAEAAAAAAAAAAUAAAAAAAAAAgAAAAEAAAAAAAAAAQAAAAIAAAAAAAAAAAAAAAIAAAABAAAAAAAAAAEAAAACAAAAAQAAAAAAAAACAAAAAgAAAAAAAAABAAAAAAAAAAAAAAAFAAAABAAAAAAAAAABAAAABQAAAAAAAAAAAAAABQAAAAQAAAAAAAAAAQAAAAUAAAAEAAAAAAAAAAUAAAAFAAAAAAAAAAEAAAAAAAAAAAAAAMuhRbbsNlBBYqHW9OmHIkF9XBuqnS31QAK37uYhNMhAOSo3UUupm0DC+6pc6JxvQHV9eseEEEJAzURsCyqlFEB8BQ4NMJjnPyy3tBoS97o/xawXQznRjj89J2K2CZxhP6vX43RIIDQ/S8isgygEBz+LvFHQkmzaPjFFFO7wMq4+AADMLkTtjkIAAOgkJqxhQgAAU7B0MjRCAADwpBcVB0IAAACYP2HaQQAAAIn/Ja5BzczM4Eg6gUHNzMxMU7BTQTMzMzNfgCZBAAAAAEi3+UAAAAAAwGPNQDMzMzMzy6BAmpmZmZkxc0AzMzMzM/NFQDMzMzMzMxlAzczMzMzM7D+ygXSx2U6RQKimJOvQKnpA23hmONTHY0A/AGcxyudNQNb3K647mzZA+S56rrwWIUAm4kUQ+9UJQKre9hGzh/M/BLvoy9WG3T+LmqMf8VHGP2m3nYNV37A/gbFHcyeCmT+cBPWBckiDP61tZACjKW0/q2RbYVUYVj8uDypVyLNAP6jGS5cA5zBBwcqhBdCNGUEGEhQ/JVEDQT6WPnRbNO1AB/AWSJgT1kDfUWNCNLDAQNk+5C33OqlAchWL34QSk0DKvtDIrNV8QNF0G3kFzGVASSeWhBl6UED+/0mNGuk4QGjA/dm/1CJALPLPMql6DEDSHoDrwpP1P2jouzWST+A/egAAAAAAAABKAwAAAAAAAPoWAAAAAAAAyqAAAAAAAAB6ZQQAAAAAAErGHgAAAAAA+mvXAAAAAADK8+MFAAAAAHqqOykAAAAASqmhIAEAAAD6oGvkBwAAAMpm8T43AAAAes+ZuIIBAABKrDQMkwoAAPq1cFUFSgAAyvkUViUGAgAAAAAAAwAAAAYAAAACAAAABQAAAAEAAAAEAAAAAAAAAAAAAAAFAAAAAwAAAAEAAAAGAAAABAAAAAIAAAAAAAAAAAAAAP////8AAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////////////////////8AAAAA/////wAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAP////8AAAAAAAAAAAEAAAABAAAAAAAAAAAAAAD/////AAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAA/////wUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////////////////////AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////////////////////wAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAUAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////////////////////8AAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABAAAAAQAAAAEAAAAAAAAAAQAAAAAAAAAFAAAAAQAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAAAAAAABAAEAAAEBAAAAAAABAAAAAQAAAAEAAQAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAAAAAACAAAAAQAAAAMAAAAOAAAABgAAAAsAAAACAAAABwAAAAEAAAAYAAAABQAAAAoAAAABAAAABgAAAAAAAAAmAAAABwAAAAwAAAADAAAACAAAAAIAAAAxAAAACQAAAA4AAAAAAAAABQAAAAQAAAA6AAAACAAAAA0AAAAEAAAACQAAAAMAAAA/AAAACwAAAAYAAAAPAAAACgAAABAAAABIAAAADAAAAAcAAAAQAAAACwAAABEAAABTAAAACgAAAAUAAAATAAAADgAAAA8AAABhAAAADQAAAAgAAAARAAAADAAAABIAAABrAAAADgAAAAkAAAASAAAADQAAABMAAAB1AAAADwAAABMAAAARAAAAEgAAABAAAAAHAAAABwAAAAEAAAACAAAABAAAAAMAAAAAAAAAAAAAAAcAAAADAAAAAQAAAAIAAAAFAAAABAAAAAAAAAAAAAAAYWxnb3MuYwBfcG9seWZpbGxJbnRlcm5hbABhZGphY2VudEZhY2VEaXJbdG1wRmlqay5mYWNlXVtmaWprLmZhY2VdID09IEtJAGZhY2VpamsuYwBfZmFjZUlqa1BlbnRUb0dlb0JvdW5kYXJ5AGFkamFjZW50RmFjZURpcltjZW50ZXJJSksuZmFjZV1bZmFjZTJdID09IEtJAF9mYWNlSWprVG9HZW9Cb3VuZGFyeQBwb2x5Z29uLT5uZXh0ID09IE5VTEwAbGlua2VkR2VvLmMAYWRkTmV3TGlua2VkUG9seWdvbgBuZXh0ICE9IE5VTEwAbG9vcCAhPSBOVUxMAGFkZE5ld0xpbmtlZExvb3AAcG9seWdvbi0+Zmlyc3QgPT0gTlVMTABhZGRMaW5rZWRMb29wAGNvb3JkICE9IE5VTEwAYWRkTGlua2VkQ29vcmQAbG9vcC0+Zmlyc3QgPT0gTlVMTABpbm5lckxvb3BzICE9IE5VTEwAbm9ybWFsaXplTXVsdGlQb2x5Z29uAGJib3hlcyAhPSBOVUxMAGNhbmRpZGF0ZXMgIT0gTlVMTABmaW5kUG9seWdvbkZvckhvbGUAY2FuZGlkYXRlQkJveGVzICE9IE5VTEwAcmV2RGlyICE9IElOVkFMSURfRElHSVQAbG9jYWxpai5jAGgzVG9Mb2NhbElqawBiYXNlQ2VsbCAhPSBvcmlnaW5CYXNlQ2VsbAAhKG9yaWdpbk9uUGVudCAmJiBpbmRleE9uUGVudCkAcGVudGFnb25Sb3RhdGlvbnMgPj0gMABkaXJlY3Rpb25Sb3RhdGlvbnMgPj0gMABiYXNlQ2VsbCA9PSBvcmlnaW5CYXNlQ2VsbABiYXNlQ2VsbCAhPSBJTlZBTElEX0JBU0VfQ0VMTABsb2NhbElqa1RvSDMAIV9pc0Jhc2VDZWxsUGVudGFnb24oYmFzZUNlbGwpAGJhc2VDZWxsUm90YXRpb25zID49IDAAd2l0aGluUGVudGFnb25Sb3RhdGlvbnMgPj0gMABncmFwaC0+YnVja2V0cyAhPSBOVUxMAHZlcnRleEdyYXBoLmMAaW5pdFZlcnRleEdyYXBoAG5vZGUgIT0gTlVMTABhZGRWZXJ0ZXhOb2Rl";function Y(A){return A}function O(A){return A.replace(/\b__Z[\w\d_]+/g,(function(A){return A===A?A:A+" ["+A+"]"}))}function j(){var A=new Error;if(!A.stack){try{throw new Error(0)}catch(e){A=e}if(!A.stack)return"(no stack trace available)"}return A.stack.toString()}function N(){return p.length}function Z(A){try{var e=new ArrayBuffer(A);if(e.byteLength!=A)return;return new Int8Array(e).set(p),$(e),Q(e),1}catch(A){}}var W="function"==typeof atob?atob:function(A){var e,r,t,i,n,o,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",f="",s=0;A=A.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{e=a.indexOf(A.charAt(s++))<<2|(i=a.indexOf(A.charAt(s++)))>>4,r=(15&i)<<4|(n=a.indexOf(A.charAt(s++)))>>2,t=(3&n)<<6|(o=a.indexOf(A.charAt(s++))),f+=String.fromCharCode(e),64!==n&&(f+=String.fromCharCode(r)),64!==o&&(f+=String.fromCharCode(t))}while(s<A.length);return f};function J(A){if(z(A))return function(A){try{for(var e=W(A),r=new Uint8Array(e.length),t=0;t<e.length;++t)r[t]=e.charCodeAt(t);return r}catch(A){throw new Error("Converting base64 string to bytes failed.")}}(A.slice(L.length))}var K,X,q=function(A,e,r){var t=new A.Int8Array(r),i=new A.Int32Array(r),n=(new A.Uint8Array(r),new A.Float32Array(r),new A.Float64Array(r)),o=0|e.p,a=A.Math.floor,f=A.Math.abs,s=A.Math.sqrt,u=A.Math.pow,l=A.Math.cos,h=A.Math.sin,c=A.Math.tan,d=A.Math.acos,g=A.Math.asin,w=A.Math.atan,p=A.Math.atan2,B=A.Math.ceil,b=A.Math.imul,v=A.Math.min,m=A.Math.clz32,k=e.b,M=e.c,Q=e.d,y=e.e,E=e.f,x=e.g,D=e.h,_=e.i,I=24048;function F(A,e,r,t){var i,n;0|C(A|=0,e|=0,r|=0,t|=0,0)&&(_e(0|t,0,(n=1+(0|b(3*r|0,r+1|0))|0)<<3|0),(i=0|be(n,4))&&(P(A,e,r,t,i,n,0),Be(i)))}function C(A,e,r,t,n){A|=0,e|=0,r|=0,n|=0;var o,a=0,f=0,s=0,u=0,l=0,h=0,c=0,d=0;if(o=I,I=I+16|0,d=o,i[(a=t|=0)>>2]=A,i[a+4>>2]=e,(a=0!=(0|n))&&(i[n>>2]=0),0|UA(A,e))return I=o,0|(d=1);i[d>>2]=0;A:do{if((0|r)>=1)if(a)for(l=0,h=1,c=1,f=0,a=A;;){if(!(f|l)){if(0==(0|(a=0|U(a,e,4,d)))&0==(0|(e=0|M()))){a=2;break A}if(0|UA(a,e)){a=1;break A}}if(0==(0|(a=0|U(a,e,0|i[16+(l<<2)>>2],d)))&0==(0|(e=0|M()))){a=2;break A}if(i[(A=t+(c<<3)|0)>>2]=a,i[A+4>>2]=e,i[n+(c<<2)>>2]=h,A=(0|(f=f+1|0))==(0|h),u=6==(0|(s=l+1|0)),0|UA(a,e)){a=1;break A}if((0|(h=h+(u&A&1)|0))>(0|r)){a=0;break}l=A?u?0:s:l,c=c+1|0,f=A?0:f}else for(l=0,h=1,c=1,f=0,a=A;;){if(!(f|l)){if(0==(0|(a=0|U(a,e,4,d)))&0==(0|(e=0|M()))){a=2;break A}if(0|UA(a,e)){a=1;break A}}if(0==(0|(a=0|U(a,e,0|i[16+(l<<2)>>2],d)))&0==(0|(e=0|M()))){a=2;break A}if(i[(A=t+(c<<3)|0)>>2]=a,i[A+4>>2]=e,A=(0|(f=f+1|0))==(0|h),u=6==(0|(s=l+1|0)),0|UA(a,e)){a=1;break A}if((0|(h=h+(u&A&1)|0))>(0|r)){a=0;break}l=A?u?0:s:l,c=c+1|0,f=A?0:f}else a=0}while(0);return I=o,0|(d=a)}function P(A,e,r,t,n,o,a){r|=0,t|=0,n|=0,o|=0,a|=0;var f,s,u=0,l=0,h=0,c=0,d=0;if(s=I,I=I+16|0,f=s,0==(0|(A|=0))&0==(0|(e|=0)))I=s;else{if(u=0|Me(0|A,0|e,0|o,((0|o)<0)<<31>>31|0),M(),!(0==(0|(d=0|i[(c=l=t+(u<<3)|0)>>2]))&0==(0|(c=0|i[c+4>>2]))|(h=(0|d)==(0|A)&(0|c)==(0|e))))do{h=(0|(c=0|i[(d=l=t+((u=(u+1|0)%(0|o)|0)<<3)|0)>>2]))==(0|A)&(0|(d=0|i[d+4>>2]))==(0|e)}while(!(0==(0|c)&0==(0|d)|h));u=n+(u<<2)|0,h&&(0|i[u>>2])<=(0|a)||(i[(d=l)>>2]=A,i[d+4>>2]=e,i[u>>2]=a,(0|a)>=(0|r)||(d=a+1|0,i[f>>2]=0,P(c=0|U(A,e,2,f),0|M(),r,t,n,o,d),i[f>>2]=0,P(c=0|U(A,e,3,f),0|M(),r,t,n,o,d),i[f>>2]=0,P(c=0|U(A,e,1,f),0|M(),r,t,n,o,d),i[f>>2]=0,P(c=0|U(A,e,5,f),0|M(),r,t,n,o,d),i[f>>2]=0,P(c=0|U(A,e,4,f),0|M(),r,t,n,o,d),i[f>>2]=0,P(c=0|U(A,e,6,f),0|M(),r,t,n,o,d))),I=s}}function U(A,e,r,t){A|=0,e|=0,r|=0;var n,o,a=0,f=0,s=0,u=0,l=0,h=0,c=0;if((0|i[(t|=0)>>2])>0){a=0;do{r=0|fA(r),a=a+1|0}while((0|a)<(0|i[t>>2]))}n=0|Qe(0|A,0|e,45),M(),o=127&n,f=0|GA(A,e),a=0|Qe(0|A,0|e,52),M(),a&=15;A:do{if(a)for(;;){if(h=0|Qe(0|A,0|e,0|(l=3*(15-a|0)|0)),M(),h&=7,c=0==(0|RA(a)),a=a+-1|0,u=0|ye(7,0,0|l),e&=~(0|M()),A=(l=0|ye(0|i[(c?464:48)+(28*h|0)+(r<<2)>>2],0,0|l))|A&~u,e|=0|M(),!(r=0|i[(c?672:256)+(28*h|0)+(r<<2)>>2])){r=0;break A}if(!a){s=6;break}}else s=6}while(0);6==(0|s)&&(A|=h=0|ye(0|(c=0|i[880+(28*o|0)+(r<<2)>>2]),0,45),e=0|M()|-1040385&e,r=0|i[4304+(28*o|0)+(r<<2)>>2],127==(127&c|0)&&(c=0|ye(0|i[880+(28*o|0)+20>>2],0,45),e=0|M()|-1040385&e,r=0|i[4304+(28*o|0)+20>>2],A=0|TA(c|A,e),e=0|M(),i[t>>2]=1+(0|i[t>>2]))),s=0|Qe(0|A,0|e,45),M(),s&=127;A:do{if(0|S(s)){e:do{if(1==(0|GA(A,e))){if((0|o)!=(0|s)){if(0|R(s,0|i[7728+(28*o|0)>>2])){A=0|HA(A,e),f=1,e=0|M();break}A=0|TA(A,e),f=1,e=0|M();break}switch(0|f){case 5:A=0|HA(A,e),e=0|M(),i[t>>2]=5+(0|i[t>>2]),f=0;break e;case 3:A=0|TA(A,e),e=0|M(),i[t>>2]=1+(0|i[t>>2]),f=0;break e;default:return c=0,k(0|(h=0)),0|c}}else f=0}while(0);if((0|r)>0){a=0;do{A=0|SA(A,e),e=0|M(),a=a+1|0}while((0|a)!=(0|r))}if((0|o)!=(0|s)){if(!(0|T(s))){if(0!=(0|f)|5!=(0|GA(A,e)))break;i[t>>2]=1+(0|i[t>>2]);break}switch(127&n){case 8:case 118:break A}3!=(0|GA(A,e))&&(i[t>>2]=1+(0|i[t>>2]))}}else if((0|r)>0){a=0;do{A=0|TA(A,e),e=0|M(),a=a+1|0}while((0|a)!=(0|r))}}while(0);return i[t>>2]=((0|i[t>>2])+r|0)%6|0,c=A,k(0|(h=e)),0|c}function G(A,e,r,t,o,a){e|=0,r|=0,t|=0,o|=0,a|=0;var f,s,u,l,h,c,d,g,w,p=0,B=0,b=0,v=0,m=0,k=0,Q=0,y=0,E=0,x=0,D=0,_=0,F=0,C=0;if(w=I,I=I+48|0,c=w+32|0,d=w+16|0,g=w,(0|(p=0|i[(A|=0)>>2]))<=0)return I=w,0|(_=0);f=A+4|0,s=c+8|0,u=d+8|0,l=g+8|0,h=((0|e)<0)<<31>>31,D=0;A:for(;;){E=(B=0|i[f>>2])+(D<<4)|0,i[c>>2]=i[E>>2],i[c+4>>2]=i[E+4>>2],i[c+8>>2]=i[E+8>>2],i[c+12>>2]=i[E+12>>2],(0|D)==(p+-1|0)?(i[d>>2]=i[B>>2],i[d+4>>2]=i[B+4>>2],i[d+8>>2]=i[B+8>>2],i[d+12>>2]=i[B+12>>2]):(E=B+(D+1<<4)|0,i[d>>2]=i[E>>2],i[d+4>>2]=i[E+4>>2],i[d+8>>2]=i[E+8>>2],i[d+12>>2]=i[E+12>>2]),E=0|N(c,d,r);e:do{if((0|E)>0){x=+(0|E),y=0;r:for(;;){C=+(E-y|0),F=+(0|y),n[g>>3]=+n[c>>3]*C/x+ +n[d>>3]*F/x,n[l>>3]=+n[s>>3]*C/x+ +n[u>>3]*F/x,B=0|Me(0|(k=0|LA(g,r)),0|(Q=0|M()),0|e,0|h),M(),v=0|i[(b=p=a+(B<<3)|0)>>2],b=0|i[b+4>>2];t:do{if(0==(0|v)&0==(0|b))_=14;else for(m=0;;){if((0|m)>(0|e)){p=1;break t}if((0|v)==(0|k)&(0|b)==(0|Q)){p=7;break t}if(0==(0|(v=0|i[(b=p=a+((B=(B+1|0)%(0|e)|0)<<3)|0)>>2]))&0==(0|(b=0|i[b+4>>2]))){_=14;break}m=m+1|0}}while(0);switch(14==(0|_)&&(_=0,0==(0|k)&0==(0|Q)?p=7:(i[p>>2]=k,i[p+4>>2]=Q,p=0|i[t>>2],i[(m=o+(p<<3)|0)>>2]=k,i[m+4>>2]=Q,i[t>>2]=p+1,p=0)),7&p){case 7:case 0:break;default:break r}if((0|E)<=(0|(y=y+1|0))){_=8;break e}}if(0|p){p=-1,_=20;break A}}else _=8}while(0);if(8==(0|_)&&(_=0),(0|(D=D+1|0))>=(0|(p=0|i[A>>2]))){p=0,_=20;break}}return 20==(0|_)?(I=w,0|p):0}function S(A){return 0|i[7728+(28*(A|=0)|0)+16>>2]}function T(A){return 4==(0|(A|=0))|117==(0|A)|0}function V(A){return 0|i[11152+(216*(0|i[(A|=0)>>2])|0)+(72*(0|i[A+4>>2])|0)+(24*(0|i[A+8>>2])|0)+(i[A+12>>2]<<3)>>2]}function H(A){return 0|i[11152+(216*(0|i[(A|=0)>>2])|0)+(72*(0|i[A+4>>2])|0)+(24*(0|i[A+8>>2])|0)+(i[A+12>>2]<<3)+4>>2]}function R(A,e){return e|=0,(0|i[7728+(28*(A|=0)|0)+20>>2])==(0|e)?0|(e=1):0|(e=(0|i[7728+(28*A|0)+24>>2])==(0|e))}function L(A,e){return 0|i[880+(28*(A|=0)|0)+((e|=0)<<2)>>2]}function z(A,e){return e|=0,(0|i[880+(28*(A|=0)|0)>>2])==(0|e)?0|(e=0):(0|i[880+(28*A|0)+4>>2])==(0|e)?0|(e=1):(0|i[880+(28*A|0)+8>>2])==(0|e)?0|(e=2):(0|i[880+(28*A|0)+12>>2])==(0|e)?0|(e=3):(0|i[880+(28*A|0)+16>>2])==(0|e)?0|(e=4):(0|i[880+(28*A|0)+20>>2])==(0|e)?0|(e=5):0|((0|i[880+(28*A|0)+24>>2])==(0|e)?6:7)}function Y(A){return+n[(A|=0)+16>>3]<+n[A+24>>3]|0}function O(A,e){A|=0;var r,t,i=0;return(i=+n[(e|=0)>>3])>=+n[A+8>>3]&&i<=+n[A>>3]?(r=+n[A+16>>3],i=+n[A+24>>3],e=(t=+n[e+8>>3])>=i,A=t<=r&1,r<i?e&&(A=1):e||(A=0),0|(e=0!=(0|A))):0|(e=0)}function j(A,e){A|=0,e|=0;var r,t,o,a,s,u,l=0,h=0;a=I,I=I+288|0,r=a+264|0,t=a+96|0,h=(l=o=a)+96|0;do{i[l>>2]=0,l=l+4|0}while((0|l)<(0|h));return NA(e,o),OA(h=0|i[(l=o)>>2],l=0|i[l+4>>2],r),jA(h,l,t),s=+DA(r,t+8|0),n[r>>3]=+n[A>>3],n[(l=r+8|0)>>3]=+n[A+16>>3],n[t>>3]=+n[A+8>>3],n[(h=t+8|0)>>3]=+n[A+24>>3],u=+DA(r,t),h=~~+B(+u*u/+Ee(+ +f(+(+n[l>>3]-+n[h>>3])/(+n[r>>3]-+n[t>>3])),3)/(s*(2.59807621135*s)*.8)),I=a,0|(0==(0|h)?1:h)}function N(A,e,r){A|=0,e|=0,r|=0;var t,n,o,a,f,s=0,u=0;a=I,I=I+288|0,t=a+264|0,n=a+96|0,u=(s=o=a)+96|0;do{i[s>>2]=0,s=s+4|0}while((0|s)<(0|u));return NA(r,o),OA(s=0|i[(u=o)>>2],u=0|i[u+4>>2],t),jA(s,u,n),f=+DA(t,n+8|0),u=~~+B(+ +DA(A,e)/(2*f)),I=a,0|(0==(0|u)?1:u)}function Z(A,e,r,t){e|=0,r|=0,t|=0,i[(A|=0)>>2]=e,i[A+4>>2]=r,i[A+8>>2]=t}function W(A,e){A|=0;var r,t,o,a,s=0,u=0,l=0,h=0,c=0,d=0,g=0;i[(a=(e|=0)+8|0)>>2]=0,t=+n[A>>3],h=+f(+t),o=+n[A+8>>3],h+=.5*(c=+f(+o)/.8660254037844386),h-=+(0|(s=~~h)),c-=+(0|(A=~~c));do{if(h<.5){if(h<.3333333333333333){if(i[e>>2]=s,c<.5*(h+1)){i[e+4>>2]=A;break}A=A+1|0,i[e+4>>2]=A;break}if(A=(1&!(c<(g=1-h)))+A|0,i[e+4>>2]=A,g<=c&c<2*h){s=s+1|0,i[e>>2]=s;break}i[e>>2]=s;break}if(!(h<.6666666666666666)){if(s=s+1|0,i[e>>2]=s,c<.5*h){i[e+4>>2]=A;break}A=A+1|0,i[e+4>>2]=A;break}if(c<1-h){if(i[e+4>>2]=A,2*h-1<c){i[e>>2]=s;break}}else A=A+1|0,i[e+4>>2]=A;s=s+1|0,i[e>>2]=s}while(0);do{if(t<0){if(1&A){s=~~(+(0|s)-(2*(+((d=0|ve(0|s,((0|s)<0)<<31>>31|0,0|(d=(A+1|0)/2|0),((0|d)<0)<<31>>31|0))>>>0)+4294967296*+(0|M()))+1)),i[e>>2]=s;break}s=~~(+(0|s)-2*(+((d=0|ve(0|s,((0|s)<0)<<31>>31|0,0|(d=(0|A)/2|0),((0|d)<0)<<31>>31|0))>>>0)+4294967296*+(0|M()))),i[e>>2]=s;break}}while(0);d=e+4|0,o<0&&(s=s-((1|A<<1)/2|0)|0,i[e>>2]=s,A=0-A|0,i[d>>2]=A),u=A-s|0,(0|s)<0?(l=0-s|0,i[d>>2]=u,i[a>>2]=l,i[e>>2]=0,A=u,s=0):l=0,(0|A)<0&&(s=s-A|0,i[e>>2]=s,l=l-A|0,i[a>>2]=l,i[d>>2]=0,A=0),r=s-l|0,u=A-l|0,(0|l)<0&&(i[e>>2]=r,i[d>>2]=u,i[a>>2]=0,A=u,s=r,l=0),(0|(u=(0|l)<(0|(u=(0|A)<(0|s)?A:s))?l:u))<=0||(i[e>>2]=s-u,i[d>>2]=A-u,i[a>>2]=l-u)}function J(A){var e,r=0,t=0,n=0,o=0,a=0;r=0|i[(A|=0)>>2],t=0|i[(e=A+4|0)>>2],(0|r)<0&&(t=t-r|0,i[e>>2]=t,i[(a=A+8|0)>>2]=(0|i[a>>2])-r,i[A>>2]=0,r=0),(0|t)<0?(r=r-t|0,i[A>>2]=r,o=(0|i[(a=A+8|0)>>2])-t|0,i[a>>2]=o,i[e>>2]=0,t=0):(a=o=A+8|0,o=0|i[o>>2]),(0|o)<0&&(r=r-o|0,i[A>>2]=r,t=t-o|0,i[e>>2]=t,i[a>>2]=0,o=0),(0|(n=(0|o)<(0|(n=(0|t)<(0|r)?t:r))?o:n))<=0||(i[A>>2]=r-n,i[e>>2]=t-n,i[a>>2]=o-n)}function K(A,e){e|=0;var r,t;t=0|i[(A|=0)+8>>2],r=+((0|i[A+4>>2])-t|0),n[e>>3]=+((0|i[A>>2])-t|0)-.5*r,n[e+8>>3]=.8660254037844386*r}function X(A,e,r){A|=0,e|=0,i[(r|=0)>>2]=(0|i[e>>2])+(0|i[A>>2]),i[r+4>>2]=(0|i[e+4>>2])+(0|i[A+4>>2]),i[r+8>>2]=(0|i[e+8>>2])+(0|i[A+8>>2])}function q(A,e,r){A|=0,e|=0,i[(r|=0)>>2]=(0|i[A>>2])-(0|i[e>>2]),i[r+4>>2]=(0|i[A+4>>2])-(0|i[e+4>>2]),i[r+8>>2]=(0|i[A+8>>2])-(0|i[e+8>>2])}function $(A,e){e|=0;var r,t=0;t=0|b(0|i[(A|=0)>>2],e),i[A>>2]=t,r=0|b(0|i[(t=A+4|0)>>2],e),i[t>>2]=r,e=0|b(0|i[(A=A+8|0)>>2],e),i[A>>2]=e}function AA(A){var e,r,t=0,n=0,o=0,a=0,f=0;f=(0|(r=0|i[(A|=0)>>2]))<0,A=(A=(n=(0|(a=((e=(0|(o=(0|i[A+4>>2])-(f?r:0)|0))<0)?0-o|0:0)+((0|i[A+8>>2])-(f?r:0))|0))<0)?0:a)-((o=(0|(n=(0|A)<(0|(n=(0|(t=(e?0:o)-(n?a:0)|0))<(0|(a=(f?0:r)-(e?o:0)-(n?a:0)|0))?t:a))?A:n))>0)?n:0)|0,t=t-(o?n:0)|0;A:do{switch(a-(o?n:0)|0){case 0:switch(0|t){case 0:return 0|(f=0==(0|A)?0:1==(0|A)?1:7);case 1:return 0|(f=0==(0|A)?2:1==(0|A)?3:7);default:break A}case 1:switch(0|t){case 0:return 0|(f=0==(0|A)?4:1==(0|A)?5:7);case 1:if(A)break A;return 0|(A=6);default:break A}}}while(0);return 0|(f=7)}function eA(A){var e,r,t=0,n=0,o=0,a=0,f=0;n=0|i[(e=(A|=0)+8|0)>>2],o=0|we(+((3*(t=(0|i[A>>2])-n|0)|0)-(n=(0|i[(r=A+4|0)>>2])-n|0)|0)/7),i[A>>2]=o,t=0|we(+((n<<1)+t|0)/7),i[r>>2]=t,i[e>>2]=0,n=t-o|0,(0|o)<0?(f=0-o|0,i[r>>2]=n,i[e>>2]=f,i[A>>2]=0,t=n,o=0,n=f):n=0,(0|t)<0&&(o=o-t|0,i[A>>2]=o,n=n-t|0,i[e>>2]=n,i[r>>2]=0,t=0),f=o-n|0,a=t-n|0,(0|n)<0?(i[A>>2]=f,i[r>>2]=a,i[e>>2]=0,t=a,a=f,n=0):a=o,(0|(o=(0|n)<(0|(o=(0|t)<(0|a)?t:a))?n:o))<=0||(i[A>>2]=a-o,i[r>>2]=t-o,i[e>>2]=n-o)}function rA(A){var e,r,t=0,n=0,o=0,a=0,f=0;n=0|i[(e=(A|=0)+8|0)>>2],o=0|we(+(((t=(0|i[A>>2])-n|0)<<1)+(n=(0|i[(r=A+4|0)>>2])-n|0)|0)/7),i[A>>2]=o,t=0|we(+((3*n|0)-t|0)/7),i[r>>2]=t,i[e>>2]=0,n=t-o|0,(0|o)<0?(f=0-o|0,i[r>>2]=n,i[e>>2]=f,i[A>>2]=0,t=n,o=0,n=f):n=0,(0|t)<0&&(o=o-t|0,i[A>>2]=o,n=n-t|0,i[e>>2]=n,i[r>>2]=0,t=0),f=o-n|0,a=t-n|0,(0|n)<0?(i[A>>2]=f,i[r>>2]=a,i[e>>2]=0,t=a,a=f,n=0):a=o,(0|(o=(0|n)<(0|(o=(0|t)<(0|a)?t:a))?n:o))<=0||(i[A>>2]=a-o,i[r>>2]=t-o,i[e>>2]=n-o)}function tA(A){var e,r,t,n=0,o=0,a=0,f=0;n=0|i[(A|=0)>>2],o=0|i[(r=A+4|0)>>2],a=0|i[(t=A+8|0)>>2],f=o+(3*n|0)|0,i[A>>2]=f,o=a+(3*o|0)|0,i[r>>2]=o,n=(3*a|0)+n|0,i[t>>2]=n,a=o-f|0,(0|f)<0?(n=n-f|0,i[r>>2]=a,i[t>>2]=n,i[A>>2]=0,o=a,a=0):a=f,(0|o)<0&&(a=a-o|0,i[A>>2]=a,n=n-o|0,i[t>>2]=n,i[r>>2]=0,o=0),e=a-n|0,f=o-n|0,(0|n)<0?(i[A>>2]=e,i[r>>2]=f,i[t>>2]=0,a=e,n=0):f=o,(0|(o=(0|n)<(0|(o=(0|f)<(0|a)?f:a))?n:o))<=0||(i[A>>2]=a-o,i[r>>2]=f-o,i[t>>2]=n-o)}function iA(A){var e,r,t,n=0,o=0,a=0,f=0;f=0|i[(A|=0)>>2],a=(3*(n=0|i[(r=A+4|0)>>2])|0)+f|0,f=(o=0|i[(t=A+8|0)>>2])+(3*f|0)|0,i[A>>2]=f,i[r>>2]=a,n=(3*o|0)+n|0,i[t>>2]=n,o=a-f|0,(0|f)<0?(n=n-f|0,i[r>>2]=o,i[t>>2]=n,i[A>>2]=0,f=0):o=a,(0|o)<0&&(f=f-o|0,i[A>>2]=f,n=n-o|0,i[t>>2]=n,i[r>>2]=0,o=0),e=f-n|0,a=o-n|0,(0|n)<0?(i[A>>2]=e,i[r>>2]=a,i[t>>2]=0,f=e,n=0):a=o,(0|(o=(0|n)<(0|(o=(0|a)<(0|f)?a:f))?n:o))<=0||(i[A>>2]=f-o,i[r>>2]=a-o,i[t>>2]=n-o)}function nA(A,e){A|=0;var r,t,n,o=0,a=0,f=0;((e|=0)+-1|0)>>>0>=6||(f=(0|i[15472+(12*e|0)>>2])+(0|i[A>>2])|0,i[A>>2]=f,n=A+4|0,a=(0|i[15472+(12*e|0)+4>>2])+(0|i[n>>2])|0,i[n>>2]=a,t=A+8|0,e=(0|i[15472+(12*e|0)+8>>2])+(0|i[t>>2])|0,i[t>>2]=e,o=a-f|0,(0|f)<0?(e=e-f|0,i[n>>2]=o,i[t>>2]=e,i[A>>2]=0,a=0):(o=a,a=f),(0|o)<0&&(a=a-o|0,i[A>>2]=a,e=e-o|0,i[t>>2]=e,i[n>>2]=0,o=0),r=a-e|0,f=o-e|0,(0|e)<0?(i[A>>2]=r,i[n>>2]=f,i[t>>2]=0,a=r,e=0):f=o,(0|(o=(0|e)<(0|(o=(0|f)<(0|a)?f:a))?e:o))<=0||(i[A>>2]=a-o,i[n>>2]=f-o,i[t>>2]=e-o))}function oA(A){var e,r,t,n=0,o=0,a=0,f=0;f=0|i[(A|=0)>>2],a=(n=0|i[(r=A+4|0)>>2])+f|0,f=(o=0|i[(t=A+8|0)>>2])+f|0,i[A>>2]=f,i[r>>2]=a,n=o+n|0,i[t>>2]=n,o=a-f|0,(0|f)<0?(n=n-f|0,i[r>>2]=o,i[t>>2]=n,i[A>>2]=0,a=0):(o=a,a=f),(0|o)<0&&(a=a-o|0,i[A>>2]=a,n=n-o|0,i[t>>2]=n,i[r>>2]=0,o=0),e=a-n|0,f=o-n|0,(0|n)<0?(i[A>>2]=e,i[r>>2]=f,i[t>>2]=0,a=e,n=0):f=o,(0|(o=(0|n)<(0|(o=(0|f)<(0|a)?f:a))?n:o))<=0||(i[A>>2]=a-o,i[r>>2]=f-o,i[t>>2]=n-o)}function aA(A){var e,r,t,n=0,o=0,a=0,f=0;n=0|i[(A|=0)>>2],a=0|i[(r=A+4|0)>>2],o=0|i[(t=A+8|0)>>2],f=a+n|0,i[A>>2]=f,a=o+a|0,i[r>>2]=a,n=o+n|0,i[t>>2]=n,o=a-f|0,(0|f)<0?(n=n-f|0,i[r>>2]=o,i[t>>2]=n,i[A>>2]=0,a=0):(o=a,a=f),(0|o)<0&&(a=a-o|0,i[A>>2]=a,n=n-o|0,i[t>>2]=n,i[r>>2]=0,o=0),e=a-n|0,f=o-n|0,(0|n)<0?(i[A>>2]=e,i[r>>2]=f,i[t>>2]=0,a=e,n=0):f=o,(0|(o=(0|n)<(0|(o=(0|f)<(0|a)?f:a))?n:o))<=0||(i[A>>2]=a-o,i[r>>2]=f-o,i[t>>2]=n-o)}function fA(A){switch(0|(A|=0)){case 1:A=5;break;case 5:A=4;break;case 4:A=6;break;case 6:A=2;break;case 2:A=3;break;case 3:A=1}return 0|A}function sA(A){switch(0|(A|=0)){case 1:A=3;break;case 3:A=2;break;case 2:A=6;break;case 6:A=4;break;case 4:A=5;break;case 5:A=1}return 0|A}function uA(A){var e,r,t,n=0,o=0,a=0,f=0;n=0|i[(A|=0)>>2],o=0|i[(r=A+4|0)>>2],a=0|i[(t=A+8|0)>>2],f=o+(n<<1)|0,i[A>>2]=f,o=a+(o<<1)|0,i[r>>2]=o,n=(a<<1)+n|0,i[t>>2]=n,a=o-f|0,(0|f)<0?(n=n-f|0,i[r>>2]=a,i[t>>2]=n,i[A>>2]=0,o=a,a=0):a=f,(0|o)<0&&(a=a-o|0,i[A>>2]=a,n=n-o|0,i[t>>2]=n,i[r>>2]=0,o=0),e=a-n|0,f=o-n|0,(0|n)<0?(i[A>>2]=e,i[r>>2]=f,i[t>>2]=0,a=e,n=0):f=o,(0|(o=(0|n)<(0|(o=(0|f)<(0|a)?f:a))?n:o))<=0||(i[A>>2]=a-o,i[r>>2]=f-o,i[t>>2]=n-o)}function lA(A){var e,r,t,n=0,o=0,a=0,f=0;f=0|i[(A|=0)>>2],a=((n=0|i[(r=A+4|0)>>2])<<1)+f|0,f=(o=0|i[(t=A+8|0)>>2])+(f<<1)|0,i[A>>2]=f,i[r>>2]=a,n=(o<<1)+n|0,i[t>>2]=n,o=a-f|0,(0|f)<0?(n=n-f|0,i[r>>2]=o,i[t>>2]=n,i[A>>2]=0,f=0):o=a,(0|o)<0&&(f=f-o|0,i[A>>2]=f,n=n-o|0,i[t>>2]=n,i[r>>2]=0,o=0),e=f-n|0,a=o-n|0,(0|n)<0?(i[A>>2]=e,i[r>>2]=a,i[t>>2]=0,f=e,n=0):a=o,(0|(o=(0|n)<(0|(o=(0|a)<(0|f)?a:f))?n:o))<=0||(i[A>>2]=f-o,i[r>>2]=a-o,i[t>>2]=n-o)}function hA(A,e){e|=0;var r,t,n,o=0,a=0,f=0;return n=(0|(t=(0|i[(A|=0)>>2])-(0|i[e>>2])|0))<0,r=(0|(a=(0|i[A+4>>2])-(0|i[e+4>>2])-(n?t:0)|0))<0,e=(e=(A=(0|(f=(n?0-t|0:0)+(0|i[A+8>>2])-(0|i[e+8>>2])+(r?0-a|0:0)|0))<0)?0:f)-((a=(0|(A=(0|e)<(0|(A=(0|(o=(r?0:a)-(A?f:0)|0))<(0|(f=(n?0:t)-(r?a:0)-(A?f:0)|0))?o:f))?e:A))>0)?A:0)|0,o=o-(a?A:0)|0,0|((0|(A=(0|(A=f-(a?A:0)|0))>-1?A:0-A|0))>(0|(e=(0|(o=(0|o)>-1?o:0-o|0))>(0|(e=(0|e)>-1?e:0-e|0))?o:e))?A:e)}function cA(A,e){e|=0;var r;r=0|i[(A|=0)+8>>2],i[e>>2]=(0|i[A>>2])-r,i[e+4>>2]=(0|i[A+4>>2])-r}function dA(A,e){e|=0;var r,t,n,o=0,a=0,f=0;a=0|i[(A|=0)>>2],i[e>>2]=a,A=0|i[A+4>>2],i[(t=e+4|0)>>2]=A,i[(n=e+8|0)>>2]=0,o=A-a|0,(0|a)<0?(A=0-a|0,i[t>>2]=o,i[n>>2]=A,i[e>>2]=0,a=0):(o=A,A=0),(0|o)<0&&(a=a-o|0,i[e>>2]=a,A=A-o|0,i[n>>2]=A,i[t>>2]=0,o=0),r=a-A|0,f=o-A|0,(0|A)<0?(i[e>>2]=r,i[t>>2]=f,i[n>>2]=0,o=f,f=r,A=0):f=a,(0|(a=(0|A)<(0|(a=(0|o)<(0|f)?o:f))?A:a))<=0||(i[e>>2]=f-a,i[t>>2]=o-a,i[n>>2]=A-a)}function gA(A){var e,r,t,n;r=(n=0|i[(e=(A|=0)+8|0)>>2])-(0|i[A>>2])|0,i[A>>2]=r,A=(0|i[(t=A+4|0)>>2])-n|0,i[t>>2]=A,i[e>>2]=0-(A+r)}function wA(A){var e,r,t=0,n=0,o=0,a=0,f=0;t=0-(n=0|i[(A|=0)>>2])|0,i[A>>2]=t,i[(e=A+8|0)>>2]=0,a=(o=0|i[(r=A+4|0)>>2])+n|0,(0|n)>0?(i[r>>2]=a,i[e>>2]=n,i[A>>2]=0,t=0,o=a):n=0,(0|o)<0?(f=t-o|0,i[A>>2]=f,n=n-o|0,i[e>>2]=n,i[r>>2]=0,a=f-n|0,t=0-n|0,(0|n)<0?(i[A>>2]=a,i[r>>2]=t,i[e>>2]=0,o=t,n=0):(o=0,a=f)):a=t,(0|(t=(0|n)<(0|(t=(0|o)<(0|a)?o:a))?n:t))<=0||(i[A>>2]=a-t,i[r>>2]=o-t,i[e>>2]=n-t)}function pA(A,e,r,t){e|=0,r|=0,t|=0;var o,a=0,f=0,s=0,u=0;if(o=I,I=I+32|0,function(A,e){e|=0;var r=0,t=0,i=0;r=+n[(A=A|0)>>3],t=+l(+r),r=+h(+r),n[e+16>>3]=r,r=+n[A+8>>3],i=t*+l(+r),n[e>>3]=i,r=t*+h(+r),n[e+8>>3]=r}(A|=0,f=o),i[r>>2]=0,a=+fe(15888,f),(s=+fe(15912,f))<a&&(i[r>>2]=1,a=s),(s=+fe(15936,f))<a&&(i[r>>2]=2,a=s),(s=+fe(15960,f))<a&&(i[r>>2]=3,a=s),(s=+fe(15984,f))<a&&(i[r>>2]=4,a=s),(s=+fe(16008,f))<a&&(i[r>>2]=5,a=s),(s=+fe(16032,f))<a&&(i[r>>2]=6,a=s),(s=+fe(16056,f))<a&&(i[r>>2]=7,a=s),(s=+fe(16080,f))<a&&(i[r>>2]=8,a=s),(s=+fe(16104,f))<a&&(i[r>>2]=9,a=s),(s=+fe(16128,f))<a&&(i[r>>2]=10,a=s),(s=+fe(16152,f))<a&&(i[r>>2]=11,a=s),(s=+fe(16176,f))<a&&(i[r>>2]=12,a=s),(s=+fe(16200,f))<a&&(i[r>>2]=13,a=s),(s=+fe(16224,f))<a&&(i[r>>2]=14,a=s),(s=+fe(16248,f))<a&&(i[r>>2]=15,a=s),(s=+fe(16272,f))<a&&(i[r>>2]=16,a=s),(s=+fe(16296,f))<a&&(i[r>>2]=17,a=s),(s=+fe(16320,f))<a&&(i[r>>2]=18,a=s),(s=+fe(16344,f))<a&&(i[r>>2]=19,a=s),(s=+d(+(1-.5*a)))<1e-16)return i[t>>2]=0,i[t+4>>2]=0,i[t+8>>2]=0,i[t+12>>2]=0,void(I=o);if(r=0|i[r>>2],a=+EA((a=+n[16368+(24*r|0)>>3])-+EA(+function(A,e){A|=0;var r=0,t=0,i=0,o=0,a=0;return o=+n[(e=e|0)>>3],t=+l(+o),i=+n[e+8>>3]-+n[A+8>>3],a=t*+h(+i),r=+n[A>>3],+ +p(+a,+(+h(+o)*+l(+r)-+l(+i)*(t*+h(+r))))}(15568+(r<<4)|0,A))),u=0|RA(e)?+EA(a+-.3334731722518321):a,a=+c(+s)/.381966011250105,(0|e)>0){f=0;do{a*=2.6457513110645907,f=f+1|0}while((0|f)!=(0|e))}s=+l(+u)*a,n[t>>3]=s,u=+h(+u)*a,n[t+8>>3]=u,I=o}function BA(A,e,r,t,o){e|=0,r|=0,t|=0,o|=0;var a=0,u=0;if((a=+function(A){var e=0,r=0;return r=+n[(A=A|0)>>3],e=+n[A+8>>3],+ +s(+(r*r+e*e))}(A|=0))<1e-16)return e=15568+(e<<4)|0,i[o>>2]=i[e>>2],i[o+4>>2]=i[e+4>>2],i[o+8>>2]=i[e+8>>2],void(i[o+12>>2]=i[e+12>>2]);if(u=+p(+ +n[A+8>>3],+ +n[A>>3]),(0|r)>0){A=0;do{a/=2.6457513110645907,A=A+1|0}while((0|A)!=(0|r))}t?(a/=3,r=0==(0|RA(r)),a=+w(.381966011250105*(r?a:a/2.6457513110645907))):(a=+w(.381966011250105*a),0|RA(r)&&(u=+EA(u+.3334731722518321))),function(A,e,r,t){A|=0,e=+e,t|=0;var o=0,a=0,s=0,u=0;if((r=+r)<1e-16)return i[t>>2]=i[A>>2],i[t+4>>2]=i[A+4>>2],i[t+8>>2]=i[A+8>>2],void(i[t+12>>2]=i[A+12>>2]);a=e<0?e+6.283185307179586:e,a=e>=6.283185307179586?a+-6.283185307179586:a;do{if(!(a<1e-16)){if(o=+f(+(a+-3.141592653589793))<1e-16,e=+n[A>>3],o){e-=r,n[t>>3]=e,o=t;break}if(s=+l(+r),r=+h(+r),e=s*+h(+e)+ +l(+a)*(r*+l(+e)),e=+g(+((e=e>1?1:e)<-1?-1:e)),n[t>>3]=e,+f(+(e+-1.5707963267948966))<1e-16)return n[t>>3]=1.5707963267948966,void(n[t+8>>3]=0);if(+f(+(e+1.5707963267948966))<1e-16)return n[t>>3]=-1.5707963267948966,void(n[t+8>>3]=0);if(u=+l(+e),a=r*+h(+a)/u,r=+n[A>>3],e=(s-+h(+e)*+h(+r))/+l(+r)/u,s=a>1?1:a,e=e>1?1:e,(e=+n[A+8>>3]+ +p(+(s<-1?-1:s),+(e<-1?-1:e)))>3.141592653589793)do{e+=-6.283185307179586}while(e>3.141592653589793);if(e<-3.141592653589793)do{e+=6.283185307179586}while(e<-3.141592653589793);return void(n[t+8>>3]=e)}e=+n[A>>3]+r,n[t>>3]=e,o=t}while(0);if(+f(+(e+-1.5707963267948966))<1e-16)return n[o>>3]=1.5707963267948966,void(n[t+8>>3]=0);if(+f(+(e+1.5707963267948966))<1e-16)return n[o>>3]=-1.5707963267948966,void(n[t+8>>3]=0);if((e=+n[A+8>>3])>3.141592653589793)do{e+=-6.283185307179586}while(e>3.141592653589793);if(e<-3.141592653589793)do{e+=6.283185307179586}while(e<-3.141592653589793);n[t+8>>3]=e}(15568+(e<<4)|0,+EA(+n[16368+(24*e|0)>>3]-u),a,o)}function bA(A,e,r){e|=0,r|=0;var t,n;t=I,I=I+16|0,K((A|=0)+4|0,n=t),BA(n,0|i[A>>2],e,0,r),I=t}function vA(A,e,r,t,o){A|=0,e|=0,r|=0,t|=0,o|=0;var a,f,s,u,l,h,c,d,g,w,p,B,b,v,m,k,M,y,E,x,D,_,F=0,C=0,P=0,U=0,G=0,S=0;if(_=I,I=I+272|0,U=_+240|0,E=_,x=_+224|0,D=_+208|0,p=_+176|0,B=_+160|0,b=_+192|0,v=_+144|0,m=_+128|0,k=_+112|0,M=_+96|0,y=_+80|0,i[(F=_+256|0)>>2]=e,i[U>>2]=i[A>>2],i[U+4>>2]=i[A+4>>2],i[U+8>>2]=i[A+8>>2],i[U+12>>2]=i[A+12>>2],mA(U,F,E),i[o>>2]=0,(0|(U=t+r+(5==(0|t)&1)|0))<=(0|r))I=_;else{f=x+4|0,s=p+4|0,u=r+5|0,l=16848+((a=0|i[F>>2])<<2)|0,h=16928+(a<<2)|0,c=m+8|0,d=k+8|0,g=M+8|0,w=D+4|0,P=r;A:for(;;){C=E+(((0|P)%5|0)<<4)|0,i[D>>2]=i[C>>2],i[D+4>>2]=i[C+4>>2],i[D+8>>2]=i[C+8>>2],i[D+12>>2]=i[C+12>>2];do{}while(2==(0|kA(D,a,0,1)));if((0|P)>(0|r)&0!=(0|RA(e))){if(i[p>>2]=i[D>>2],i[p+4>>2]=i[D+4>>2],i[p+8>>2]=i[D+8>>2],i[p+12>>2]=i[D+12>>2],K(f,B),t=0|i[p>>2],F=0|i[17008+(80*t|0)+(i[x>>2]<<2)>>2],i[p>>2]=i[18608+(80*t|0)+(20*F|0)>>2],(0|(C=0|i[18608+(80*t|0)+(20*F|0)+16>>2]))>0){A=0;do{oA(s),A=A+1|0}while((0|A)<(0|C))}switch(C=18608+(80*t|0)+(20*F|0)+4|0,i[b>>2]=i[C>>2],i[b+4>>2]=i[C+4>>2],i[b+8>>2]=i[C+8>>2],$(b,3*(0|i[l>>2])|0),X(s,b,s),J(s),K(s,v),G=+(0|i[h>>2]),n[m>>3]=3*G,n[c>>3]=0,S=-1.5*G,n[k>>3]=S,n[d>>3]=2.598076211353316*G,n[M>>3]=S,n[g>>3]=-2.598076211353316*G,0|i[17008+(80*(0|i[p>>2])|0)+(i[D>>2]<<2)>>2]){case 1:A=k,t=m;break;case 3:A=M,t=k;break;case 2:A=m,t=M;break;default:A=12;break A}oe(B,v,t,A,y),BA(y,0|i[p>>2],a,1,o+8+(i[o>>2]<<4)|0),i[o>>2]=1+(0|i[o>>2])}if((0|P)<(0|u)&&(K(w,p),BA(p,0|i[D>>2],a,1,o+8+(i[o>>2]<<4)|0),i[o>>2]=1+(0|i[o>>2])),i[x>>2]=i[D>>2],i[x+4>>2]=i[D+4>>2],i[x+8>>2]=i[D+8>>2],i[x+12>>2]=i[D+12>>2],(0|(P=P+1|0))>=(0|U)){A=3;break}}3!=(0|A)?12==(0|A)&&Q(22474,22521,581,22531):I=_}}function mA(A,e,r){A|=0,e|=0,r|=0;var t,n=0,o=0,a=0,f=0,s=0;t=I,I=I+128|0,o=t,f=20208,s=(a=n=t+64|0)+60|0;do{i[a>>2]=i[f>>2],a=a+4|0,f=f+4|0}while((0|a)<(0|s));f=20272,s=(a=o)+60|0;do{i[a>>2]=i[f>>2],a=a+4|0,f=f+4|0}while((0|a)<(0|s));n=(s=0==(0|RA(0|i[e>>2])))?n:o,uA(o=A+4|0),lA(o),0|RA(0|i[e>>2])&&(iA(o),i[e>>2]=1+(0|i[e>>2])),i[r>>2]=i[A>>2],X(o,n,e=r+4|0),J(e),i[r+16>>2]=i[A>>2],X(o,n+12|0,e=r+20|0),J(e),i[r+32>>2]=i[A>>2],X(o,n+24|0,e=r+36|0),J(e),i[r+48>>2]=i[A>>2],X(o,n+36|0,e=r+52|0),J(e),i[r+64>>2]=i[A>>2],X(o,n+48|0,r=r+68|0),J(r),I=t}function kA(A,e,r,t){r|=0,t|=0;var n,o,a,f,s,u,l=0,h=0,c=0,d=0,g=0;if(u=I,I=I+32|0,s=u+12|0,o=u,g=(A|=0)+4|0,d=0|i[16928+((e|=0)<<2)>>2],d=(f=0!=(0|t))?3*d|0:d,l=0|i[g>>2],n=0|i[(a=A+8|0)>>2],f){if((0|(l=n+l+(t=0|i[(h=A+12|0)>>2])|0))==(0|d))return I=u,0|(g=1);c=h}else l=n+l+(t=0|i[(c=A+12|0)>>2])|0;if((0|l)<=(0|d))return I=u,0|(g=0);do{if((0|t)>0){if(t=0|i[A>>2],(0|n)>0){h=18608+(80*t|0)+60|0,t=A;break}t=18608+(80*t|0)+40|0,r?(Z(s,d,0,0),q(g,s,o),aA(o),X(o,s,g),h=t,t=A):(h=t,t=A)}else h=18608+(80*(0|i[A>>2])|0)+20|0,t=A}while(0);if(i[t>>2]=i[h>>2],(0|i[(l=h+16|0)>>2])>0){t=0;do{oA(g),t=t+1|0}while((0|t)<(0|i[l>>2]))}return A=h+4|0,i[s>>2]=i[A>>2],i[s+4>>2]=i[A+4>>2],i[s+8>>2]=i[A+8>>2],e=0|i[16848+(e<<2)>>2],$(s,f?3*e|0:e),X(g,s,g),J(g),t=f&&((0|i[a>>2])+(0|i[g>>2])+(0|i[c>>2])|0)==(0|d)?1:2,I=u,0|(g=t)}function MA(A,e){A|=0,e|=0;var r=0;do{r=0|kA(A,e,0,1)}while(2==(0|r));return 0|r}function QA(A,e,r,t,o){A|=0,e|=0,r|=0,t|=0,o|=0;var a,f,s,u,l,h,c,d,g,w,p,B,b,v,m,k,M,y,E=0,x=0,D=0,_=0,F=0;if(y=I,I=I+240|0,v=y+208|0,m=y,k=y+192|0,M=y+176|0,g=y+160|0,w=y+144|0,p=y+128|0,B=y+112|0,b=y+96|0,i[(E=y+224|0)>>2]=e,i[v>>2]=i[A>>2],i[v+4>>2]=i[A+4>>2],i[v+8>>2]=i[A+8>>2],i[v+12>>2]=i[A+12>>2],yA(v,E,m),i[o>>2]=0,(0|(d=t+r+(6==(0|t)&1)|0))<=(0|r))I=y;else{f=r+6|0,s=16928+((a=0|i[E>>2])<<2)|0,u=w+8|0,l=p+8|0,h=B+8|0,c=k+4|0,x=0,D=r,t=-1;A:for(;;){if(A=m+((E=(0|D)%6|0)<<4)|0,i[k>>2]=i[A>>2],i[k+4>>2]=i[A+4>>2],i[k+8>>2]=i[A+8>>2],i[k+12>>2]=i[A+12>>2],A=x,x=0|kA(k,a,0,1),(0|D)>(0|r)&0!=(0|RA(e))&&(1!=(0|A)&&(0|i[k>>2])!=(0|t))){switch(K(m+(((E+5|0)%6|0)<<4)+4|0,M),K(m+(E<<4)+4|0,g),_=+(0|i[s>>2]),n[w>>3]=3*_,n[u>>3]=0,F=-1.5*_,n[p>>3]=F,n[l>>3]=2.598076211353316*_,n[B>>3]=F,n[h>>3]=-2.598076211353316*_,E=0|i[v>>2],0|i[17008+(80*E|0)+(((0|t)==(0|E)?0|i[k>>2]:t)<<2)>>2]){case 1:A=p,t=w;break;case 3:A=B,t=p;break;case 2:A=w,t=B;break;default:A=8;break A}oe(M,g,t,A,b),0|ae(M,b)||0|ae(g,b)||(BA(b,0|i[v>>2],a,1,o+8+(i[o>>2]<<4)|0),i[o>>2]=1+(0|i[o>>2]))}if((0|D)<(0|f)&&(K(c,M),BA(M,0|i[k>>2],a,1,o+8+(i[o>>2]<<4)|0),i[o>>2]=1+(0|i[o>>2])),(0|(D=D+1|0))>=(0|d)){A=3;break}t=0|i[k>>2]}3!=(0|A)?8==(0|A)&&Q(22557,22521,746,22602):I=y}}function yA(A,e,r){A|=0,e|=0,r|=0;var t,n=0,o=0,a=0,f=0,s=0;t=I,I=I+160|0,o=t,f=20336,s=(a=n=t+80|0)+72|0;do{i[a>>2]=i[f>>2],a=a+4|0,f=f+4|0}while((0|a)<(0|s));f=20416,s=(a=o)+72|0;do{i[a>>2]=i[f>>2],a=a+4|0,f=f+4|0}while((0|a)<(0|s));n=(s=0==(0|RA(0|i[e>>2])))?n:o,uA(o=A+4|0),lA(o),0|RA(0|i[e>>2])&&(iA(o),i[e>>2]=1+(0|i[e>>2])),i[r>>2]=i[A>>2],X(o,n,e=r+4|0),J(e),i[r+16>>2]=i[A>>2],X(o,n+12|0,e=r+20|0),J(e),i[r+32>>2]=i[A>>2],X(o,n+24|0,e=r+36|0),J(e),i[r+48>>2]=i[A>>2],X(o,n+36|0,e=r+52|0),J(e),i[r+64>>2]=i[A>>2],X(o,n+48|0,e=r+68|0),J(e),i[r+80>>2]=i[A>>2],X(o,n+60|0,r=r+84|0),J(r),I=t}function EA(A){var e;return e=(A=+A)<0?A+6.283185307179586:A,+(A>=6.283185307179586?e+-6.283185307179586:e)}function xA(A,e){return e|=0,+f(+(+n[(A|=0)>>3]-+n[e>>3]))<17453292519943298e-27?0|(e=+f(+(+n[A+8>>3]-+n[e+8>>3]))<17453292519943298e-27):0|(e=0)}function DA(A,e){A|=0;var r,t,i,o=0;return t=+n[(e|=0)>>3],r=+n[A>>3],o=(i=+h(.5*(t-r)))*i+(o=+h(.5*(+n[e+8>>3]-+n[A+8>>3])))*(+l(+t)*+l(+r)*o),2*+p(+ +s(+o),+ +s(+(1-o)))*6371.007180918475}function _A(A,e,r){A|=0,r|=0;var t,i,o,a,f=0,u=0,d=0,g=0,B=0,b=0;return b=+n[(e|=0)>>3],o=+n[A>>3],B=+h(.5*(b-o)),d=+n[e+8>>3],i=+n[A+8>>3],g=+h(.5*(d-i)),t=+l(+o),a=+l(+b),g=2*+p(+ +s(+(g=B*B+g*(a*t*g))),+ +s(+(1-g))),B=+n[r>>3],b=+h(.5*(B-b)),f=+n[r+8>>3],d=+h(.5*(f-d)),u=+l(+B),d=2*+p(+ +s(+(d=b*b+d*(a*u*d))),+ +s(+(1-d))),B=+h(.5*(o-B)),f=+h(.5*(i-f)),f=2*+p(+ +s(+(f=B*B+f*(t*u*f))),+ +s(+(1-f))),4*+w(+ +s(+ +c(.5*(u=.5*(g+d+f)))*+c(.5*(u-g))*+c(.5*(u-d))*+c(.5*(u-f))))}function IA(A,e){return e=0|Qe(0|(A|=0),0|(e|=0),45),M(),127&e|0}function FA(A,e){var r=0,t=0,i=0,n=0,o=0,a=0;if(!(!0&134217728==(-16777216&(e|=0)|0)))return 0|(e=0);if(o=0|Qe(0|(A|=0),0|e,45),M(),(o&=127)>>>0>121)return 0|(e=0);r=0|Qe(0|A,0|e,52),M(),r&=15;do{if(0|r){for(i=1,t=0;;){if(n=0|Qe(0|A,0|e,3*(15-i|0)|0),M(),0!=(0|(n&=7))&(1^t)){if(1==(0|n)&0!=(0|S(o))){a=0,t=13;break}t=1}if(7==(0|n)){a=0,t=13;break}if(!(i>>>0<r>>>0)){t=9;break}i=i+1|0}if(9==(0|t)){if(15!=(0|r))break;return 0|(a=1)}if(13==(0|t))return 0|a}}while(0);for(;;){if(a=0|Qe(0|A,0|e,3*(14-r|0)|0),M(),!(7==(7&a|0)&!0)){a=0,t=13;break}if(!(r>>>0<14)){a=1,t=13;break}r=r+1|0}return 13==(0|t)?0|a:0}function CA(A,e,r){r|=0;var t=0,i=0;if(t=0|Qe(0|(A|=0),0|(e|=0),52),M(),(0|(t&=15))>=(0|r)){if((0|t)!=(0|r))if(r>>>0<=15){if(A|=i=0|ye(0|r,0,52),e=0|M()|-15728641&e,(0|t)>(0|r))do{i=0|ye(7,0,3*(14-r|0)|0),r=r+1|0,A|=i,e=0|M()|e}while((0|r)<(0|t))}else e=0,A=0}else e=0,A=0;return k(0|e),0|A}function PA(A,e,r,t){r|=0,t|=0;var n,o=0,a=0,f=0,s=0,u=0,l=0;if(f=0|Qe(0|(A|=0),0|(e|=0),52),M(),(0|r)<16&(0|(f&=15))<=(0|r)){if((0|f)==(0|r))return i[(r=t)>>2]=A,void(i[r+4>>2]=e);if(n=(0|(u=0|ee(7,r-f|0)))/7|0,s=0|Qe(0|A,0|e,45),M(),0|S(127&s)){A:do{if(f)for(a=1;;){if(o=0|Qe(0|A,0|e,3*(15-a|0)|0),M(),0|(o&=7))break A;if(!(a>>>0<f>>>0)){o=0;break}a=a+1|0}else o=0}while(0);a=0==(0|o)}else a=0;if(l=0|ye(f+1|0,0,52),o=0|M()|-15728641&e,PA(e=(l|A)&~(e=0|ye(7,0,0|(s=3*(14-f|0)|0))),f=o&~(0|M()),r,t),o=t+(n<<3)|0,!a)return PA((l=0|ye(1,0,0|s))|e,0|M()|f,r,o),l=o+(n<<3)|0,PA((u=0|ye(2,0,0|s))|e,0|M()|f,r,l),l=l+(n<<3)|0,PA((u=0|ye(3,0,0|s))|e,0|M()|f,r,l),l=l+(n<<3)|0,PA((u=0|ye(4,0,0|s))|e,0|M()|f,r,l),l=l+(n<<3)|0,PA((u=0|ye(5,0,0|s))|e,0|M()|f,r,l),void PA((u=0|ye(6,0,0|s))|e,0|M()|f,r,l+(n<<3)|0);a=o+(n<<3)|0,(0|u)>6&&(_e(0|o,0,(l=(a>>>0>(u=o+8|0)>>>0?a:u)+-1+(0-o)|0)+8&-8|0),o=u+(l>>>3<<3)|0),PA((l=0|ye(2,0,0|s))|e,0|M()|f,r,o),l=o+(n<<3)|0,PA((u=0|ye(3,0,0|s))|e,0|M()|f,r,l),l=l+(n<<3)|0,PA((u=0|ye(4,0,0|s))|e,0|M()|f,r,l),l=l+(n<<3)|0,PA((u=0|ye(5,0,0|s))|e,0|M()|f,r,l),PA((u=0|ye(6,0,0|s))|e,0|M()|f,r,l+(n<<3)|0)}}function UA(A,e){var r=0,t=0,i=0;if(i=0|Qe(0|(A|=0),0|(e|=0),45),M(),!(0|S(127&i)))return 0|(i=0);i=0|Qe(0|A,0|e,52),M(),i&=15;A:do{if(i)for(t=1;;){if(r=0|Qe(0|A,0|e,3*(15-t|0)|0),M(),0|(r&=7))break A;if(!(t>>>0<i>>>0)){r=0;break}t=t+1|0}else r=0}while(0);return 0|(i=0==(0|r)&1)}function GA(A,e){var r=0,t=0,i=0;if(i=0|Qe(0|(A|=0),0|(e|=0),52),M(),!(i&=15))return 0|(i=0);for(t=1;;){if(r=0|Qe(0|A,0|e,3*(15-t|0)|0),M(),0|(r&=7)){t=5;break}if(!(t>>>0<i>>>0)){r=0,t=5;break}t=t+1|0}return 5==(0|t)?0|r:0}function SA(A,e){var r=0,t=0,i=0,n=0,o=0,a=0,f=0;if(f=0|Qe(0|(A|=0),0|(e|=0),52),M(),!(f&=15))return f=A,k(0|(a=e)),0|f;for(a=1,r=0;;){t=0|ye(7,0,0|(n=3*(15-a|0)|0)),i=0|M(),o=0|Qe(0|A,0|e,0|n),M(),A=(n=0|ye(0|fA(7&o),0,0|n))|A&~t,e=(o=0|M())|e&~i;A:do{if(!r)if(0==(n&t|0)&0==(o&i|0))r=0;else if(t=0|Qe(0|A,0|e,52),M(),t&=15){r=1;e:for(;;){switch(o=0|Qe(0|A,0|e,3*(15-r|0)|0),M(),7&o){case 1:break e;case 0:break;default:r=1;break A}if(!(r>>>0<t>>>0)){r=1;break A}r=r+1|0}for(r=1;;){if(i=0|Qe(0|A,0|e,0|(o=3*(15-r|0)|0)),M(),n=0|ye(7,0,0|o),e&=~(0|M()),A=A&~n|(o=0|ye(0|fA(7&i),0,0|o)),e=0|e|M(),!(r>>>0<t>>>0)){r=1;break}r=r+1|0}}else r=1}while(0);if(!(a>>>0<f>>>0))break;a=a+1|0}return k(0|e),0|A}function TA(A,e){var r=0,t=0,i=0,n=0,o=0;if(t=0|Qe(0|(A|=0),0|(e|=0),52),M(),!(t&=15))return t=A,k(0|(r=e)),0|t;for(r=1;o=0|Qe(0|A,0|e,0|(n=3*(15-r|0)|0)),M(),i=0|ye(7,0,0|n),e&=~(0|M()),A=(n=0|ye(0|fA(7&o),0,0|n))|A&~i,e=0|M()|e,r>>>0<t>>>0;)r=r+1|0;return k(0|e),0|A}function VA(A,e){var r=0,t=0,i=0,n=0,o=0,a=0,f=0;if(f=0|Qe(0|(A|=0),0|(e|=0),52),M(),!(f&=15))return f=A,k(0|(a=e)),0|f;for(a=1,r=0;;){t=0|ye(7,0,0|(n=3*(15-a|0)|0)),i=0|M(),o=0|Qe(0|A,0|e,0|n),M(),A=(n=0|ye(0|sA(7&o),0,0|n))|A&~t,e=(o=0|M())|e&~i;A:do{if(!r)if(0==(n&t|0)&0==(o&i|0))r=0;else if(t=0|Qe(0|A,0|e,52),M(),t&=15){r=1;e:for(;;){switch(o=0|Qe(0|A,0|e,3*(15-r|0)|0),M(),7&o){case 1:break e;case 0:break;default:r=1;break A}if(!(r>>>0<t>>>0)){r=1;break A}r=r+1|0}for(r=1;;){if(n=0|ye(7,0,0|(i=3*(15-r|0)|0)),o=e&~(0|M()),e=0|Qe(0|A,0|e,0|i),M(),A=A&~n|(e=0|ye(0|sA(7&e),0,0|i)),e=0|o|M(),!(r>>>0<t>>>0)){r=1;break}r=r+1|0}}else r=1}while(0);if(!(a>>>0<f>>>0))break;a=a+1|0}return k(0|e),0|A}function HA(A,e){var r=0,t=0,i=0,n=0,o=0;if(t=0|Qe(0|(A|=0),0|(e|=0),52),M(),!(t&=15))return t=A,k(0|(r=e)),0|t;for(r=1;n=0|ye(7,0,0|(o=3*(15-r|0)|0)),i=e&~(0|M()),e=0|Qe(0|A,0|e,0|o),M(),A=(e=0|ye(0|sA(7&e),0,0|o))|A&~n,e=0|M()|i,r>>>0<t>>>0;)r=r+1|0;return k(0|e),0|A}function RA(A){return 0|(0|(A|=0))%2}function LA(A,e){A|=0;var r,t;return t=I,I=I+16|0,r=t,(e|=0)>>>0<=15&&2146435072!=(2146435072&i[A+4>>2]|0)&&2146435072!=(2146435072&i[A+8+4>>2]|0)?(!function(A,e,r){var t,i;t=I,I=I+16|0,pA(A|=0,e|=0,r|=0,i=t),W(i,r+4|0),I=t}(A,e,r),e=0|function(A,e){A|=0;var r,t=0,n=0,o=0,a=0,f=0,s=0,u=0,l=0;if(r=I,I=I+64|0,s=r+40|0,n=r+24|0,o=r+12|0,a=r,ye(0|(e|=0),0,52),t=134225919|M(),!e)return(0|i[A+4>>2])>2||(0|i[A+8>>2])>2||(0|i[A+12>>2])>2?(s=0,k(0|(f=0)),I=r,0|s):(ye(0|V(A),0,45),f=0|M()|t,s=-1,k(0|f),I=r,0|s);if(i[s>>2]=i[A>>2],i[s+4>>2]=i[A+4>>2],i[s+8>>2]=i[A+8>>2],i[s+12>>2]=i[A+12>>2],f=s+4|0,(0|e)>0)for(A=-1;i[n>>2]=i[f>>2],i[n+4>>2]=i[f+4>>2],i[n+8>>2]=i[f+8>>2],1&e?(eA(f),i[o>>2]=i[f>>2],i[o+4>>2]=i[f+4>>2],i[o+8>>2]=i[f+8>>2],tA(o)):(rA(f),i[o>>2]=i[f>>2],i[o+4>>2]=i[f+4>>2],i[o+8>>2]=i[f+8>>2],iA(o)),q(n,o,a),J(a),u=0|ye(7,0,0|(l=3*(15-e|0)|0)),t&=~(0|M()),A=(l=0|ye(0|AA(a),0,0|l))|A&~u,t=0|M()|t,(0|e)>1;)e=e+-1|0;else A=-1;A:do{if((0|i[f>>2])<=2&&(0|i[s+8>>2])<=2&&(0|i[s+12>>2])<=2){if(e=0|ye(0|(n=0|V(s)),0,45),e|=A,A=0|M()|-1040385&t,a=0|H(s),!(0|S(n))){if((0|a)<=0)break;for(o=0;;){if(n=0|Qe(0|e,0|A,52),M(),n&=15)for(t=1;s=0|Qe(0|e,0|A,0|(l=3*(15-t|0)|0)),M(),u=0|ye(7,0,0|l),A&=~(0|M()),e=e&~u|(l=0|ye(0|fA(7&s),0,0|l)),A=0|A|M(),t>>>0<n>>>0;)t=t+1|0;if((0|(o=o+1|0))==(0|a))break A}}o=0|Qe(0|e,0|A,52),M(),o&=15;e:do{if(o){t=1;r:for(;;){switch(l=0|Qe(0|e,0|A,3*(15-t|0)|0),M(),7&l){case 1:break r;case 0:break;default:break e}if(!(t>>>0<o>>>0))break e;t=t+1|0}if(0|R(n,0|i[s>>2]))for(t=1;u=0|ye(7,0,0|(s=3*(15-t|0)|0)),l=A&~(0|M()),A=0|Qe(0|e,0|A,0|s),M(),e=e&~u|(A=0|ye(0|sA(7&A),0,0|s)),A=0|l|M(),t>>>0<o>>>0;)t=t+1|0;else for(t=1;s=0|Qe(0|e,0|A,0|(l=3*(15-t|0)|0)),M(),u=0|ye(7,0,0|l),A&=~(0|M()),e=e&~u|(l=0|ye(0|fA(7&s),0,0|l)),A=0|A|M(),t>>>0<o>>>0;)t=t+1|0}}while(0);if((0|a)>0){t=0;do{e=0|SA(e,A),A=0|M(),t=t+1|0}while((0|t)!=(0|a))}}else e=0,A=0}while(0);return l=e,k(0|(u=A)),I=r,0|l}(r,e),A=0|M()):(A=0,e=0),k(0|A),I=t,0|e}function zA(A,e,r){var t,n=0,o=0,a=0;if(t=(r|=0)+4|0,o=0|Qe(0|(A|=0),0|(e|=0),52),M(),o&=15,a=0|Qe(0|A,0|e,45),M(),n=0==(0|o),0|S(127&a)){if(n)return 0|(a=1);n=1}else{if(n)return 0|(a=0);n=0==(0|i[t>>2])&&0==(0|i[r+8>>2])?0!=(0|i[r+12>>2])&1:1}for(r=1;1&r?tA(t):iA(t),a=0|Qe(0|A,0|e,3*(15-r|0)|0),M(),nA(t,7&a),r>>>0<o>>>0;)r=r+1|0;return 0|n}function YA(A,e,r){r|=0;var t,n,o=0,a=0,f=0,s=0,u=0,l=0;n=I,I=I+16|0,t=n,l=0|Qe(0|(A|=0),0|(e|=0),45),M(),l&=127;A:do{if(0!=(0|S(l))&&(f=0|Qe(0|A,0|e,52),M(),0!=(0|(f&=15)))){o=1;e:for(;;){switch(u=0|Qe(0|A,0|e,3*(15-o|0)|0),M(),7&u){case 5:break e;case 0:break;default:o=e;break A}if(!(o>>>0<f>>>0)){o=e;break A}o=o+1|0}for(a=1,o=e;s=0|ye(7,0,0|(e=3*(15-a|0)|0)),u=o&~(0|M()),o=0|Qe(0|A,0|o,0|e),M(),A=A&~s|(o=0|ye(0|sA(7&o),0,0|e)),o=0|u|M(),a>>>0<f>>>0;)a=a+1|0}else o=e}while(0);if(u=7728+(28*l|0)|0,i[r>>2]=i[u>>2],i[r+4>>2]=i[u+4>>2],i[r+8>>2]=i[u+8>>2],i[r+12>>2]=i[u+12>>2],0|zA(A,o,r)){if(s=r+4|0,i[t>>2]=i[s>>2],i[t+4>>2]=i[s+4>>2],i[t+8>>2]=i[s+8>>2],f=0|Qe(0|A,0|o,52),M(),u=15&f,1&f?(iA(s),f=u+1|0):f=u,0|S(l)){A:do{if(u)for(e=1;;){if(a=0|Qe(0|A,0|o,3*(15-e|0)|0),M(),0|(a&=7)){o=a;break A}if(!(e>>>0<u>>>0)){o=0;break}e=e+1|0}else o=0}while(0);o=4==(0|o)&1}else o=0;if(0|kA(r,f,o,0)){if(0|S(l))do{}while(0!=(0|kA(r,f,0,0)));(0|f)!=(0|u)&&rA(s)}else(0|f)!=(0|u)&&(i[s>>2]=i[t>>2],i[s+4>>2]=i[t+4>>2],i[s+8>>2]=i[t+8>>2]);I=n}else I=n}function OA(A,e,r){r|=0;var t,i;t=I,I=I+16|0,YA(A|=0,e|=0,i=t),e=0|Qe(0|A,0|e,52),M(),bA(i,15&e,r),I=t}function jA(A,e,r){r|=0;var t,i,n=0,o=0;i=I,I=I+16|0,YA(A|=0,e|=0,t=i),n=0|Qe(0|A,0|e,45),M(),n=0==(0|S(127&n)),o=0|Qe(0|A,0|e,52),M(),o&=15;A:do{if(!n){if(0|o)for(n=1;;){if(!(0==((0|ye(7,0,3*(15-n|0)|0))&A|0)&0==((0|M())&e|0)))break A;if(!(n>>>0<o>>>0))break;n=n+1|0}return vA(t,o,0,5,r),void(I=i)}}while(0);QA(t,o,0,6,r),I=i}function NA(A,e){e|=0;var r,t=0,n=0,o=0,a=0,f=0,s=0;if(ye(0|(A|=0),0,52),r=134225919|M(),(0|A)<1){n=0,t=0;do{0|S(n)&&(ye(0|n,0,45),f=0|r|M(),i[(A=e+(t<<3)|0)>>2]=-1,i[A+4>>2]=f,t=t+1|0),n=n+1|0}while(122!=(0|n))}else{f=0,t=0;do{if(0|S(f)){for(ye(0|f,0,45),n=1,o=-1,a=0|r|M();o&=~(s=0|ye(7,0,3*(15-n|0)|0)),a&=~(0|M()),(0|n)!=(0|A);)n=n+1|0;i[(s=e+(t<<3)|0)>>2]=o,i[s+4>>2]=a,t=t+1|0}f=f+1|0}while(122!=(0|f))}}function ZA(A,e,r,t){var n,o=0,a=0,f=0,s=0,u=0;if(n=I,I=I+64|0,f=n,(0|(A|=0))==(0|(r|=0))&(0|(e|=0))==(0|(t|=0))|!1|134217728!=(2013265920&e|0)|!1|134217728!=(2013265920&t|0))return I=n,0|(f=0);if(o=0|Qe(0|A,0|e,52),M(),o&=15,a=0|Qe(0|r,0|t,52),M(),(0|o)!=(15&a|0))return I=n,0|(f=0);if(a=o+-1|0,o>>>0>1&&(u=0|CA(A,e,a),s=0|M(),(0|u)==(0|(a=0|CA(r,t,a)))&(0|s)==(0|M()))){if(o=0|Qe(0|A,0|e,0|(a=3*(15^o)|0)),M(),o&=7,a=0|Qe(0|r,0|t,0|a),M(),0==(0|o)|0==(0|(a&=7)))return I=n,0|(u=1);if((0|i[21136+(o<<2)>>2])==(0|a))return I=n,0|(u=1);if((0|i[21168+(o<<2)>>2])==(0|a))return I=n,0|(u=1)}a=(o=f)+56|0;do{i[o>>2]=0,o=o+4|0}while((0|o)<(0|a));return F(A,e,1,f),o=(0|i[(u=f)>>2])==(0|r)&&(0|i[u+4>>2])==(0|t)||(0|i[(u=f+8|0)>>2])==(0|r)&&(0|i[u+4>>2])==(0|t)||(0|i[(u=f+16|0)>>2])==(0|r)&&(0|i[u+4>>2])==(0|t)||(0|i[(u=f+24|0)>>2])==(0|r)&&(0|i[u+4>>2])==(0|t)||(0|i[(u=f+32|0)>>2])==(0|r)&&(0|i[u+4>>2])==(0|t)||(0|i[(u=f+40|0)>>2])==(0|r)&&(0|i[u+4>>2])==(0|t)?1:1&((0|i[(o=f+48|0)>>2])==(0|r)?(0|i[o+4>>2])==(0|t):0),I=n,0|(u=o)}function WA(A,e,r){r|=0;var t,n,o,a,f=0;if(o=I,I=I+16|0,n=o,f=0|Qe(0|(A|=0),0|(e|=0),56),M(),-1==(0|(e=0|function(A,e,r){r|=0;var t=0,n=0;if(t=0|UA(A=A|0,e=e|0),(r+-1|0)>>>0>5)return 0|(r=-1);if(1==(0|r)&(n=0!=(0|t)))return 0|(r=-1);return t=0|function(A,e){var r=0,t=0,n=0,o=0,a=0,f=0,s=0,u=0;if(u=I,I=I+32|0,o=u,YA(A=A|0,e=e|0,n=u+16|0),a=0|IA(A,e),s=0|GA(A,e),function(A,e){A=7728+(28*(A|=0)|0)|0,i[(e|=0)>>2]=i[A>>2],i[e+4>>2]=i[A+4>>2],i[e+8>>2]=i[A+8>>2],i[e+12>>2]=i[A+12>>2]}(a,o),e=0|function(A,e){A|=0;var r=0,t=0;if((e|=0)>>>0>20)return-1;do{if((0|i[11152+(216*e|0)>>2])!=(0|A))if((0|i[11152+(216*e|0)+8>>2])!=(0|A))if((0|i[11152+(216*e|0)+16>>2])!=(0|A))if((0|i[11152+(216*e|0)+24>>2])!=(0|A))if((0|i[11152+(216*e|0)+32>>2])!=(0|A))if((0|i[11152+(216*e|0)+40>>2])!=(0|A))if((0|i[11152+(216*e|0)+48>>2])!=(0|A))if((0|i[11152+(216*e|0)+56>>2])!=(0|A))if((0|i[11152+(216*e|0)+64>>2])!=(0|A))if((0|i[11152+(216*e|0)+72>>2])!=(0|A))if((0|i[11152+(216*e|0)+80>>2])!=(0|A))if((0|i[11152+(216*e|0)+88>>2])!=(0|A))if((0|i[11152+(216*e|0)+96>>2])!=(0|A))if((0|i[11152+(216*e|0)+104>>2])!=(0|A))if((0|i[11152+(216*e|0)+112>>2])!=(0|A))if((0|i[11152+(216*e|0)+120>>2])!=(0|A))if((0|i[11152+(216*e|0)+128>>2])!=(0|A)){if((0|i[11152+(216*e|0)+136>>2])!=(0|A)){if((0|i[11152+(216*e|0)+144>>2])==(0|A)){A=0,r=2,t=0;break}if((0|i[11152+(216*e|0)+152>>2])==(0|A)){A=0,r=2,t=1;break}if((0|i[11152+(216*e|0)+160>>2])==(0|A)){A=0,r=2,t=2;break}if((0|i[11152+(216*e|0)+168>>2])==(0|A)){A=1,r=2,t=0;break}if((0|i[11152+(216*e|0)+176>>2])==(0|A)){A=1,r=2,t=1;break}if((0|i[11152+(216*e|0)+184>>2])==(0|A)){A=1,r=2,t=2;break}if((0|i[11152+(216*e|0)+192>>2])==(0|A)){A=2,r=2,t=0;break}if((0|i[11152+(216*e|0)+200>>2])==(0|A)){A=2,r=2,t=1;break}if((0|i[11152+(216*e|0)+208>>2])==(0|A)){A=2,r=2,t=2;break}return-1}A=2,r=1,t=2}else A=2,r=1,t=1;else A=2,r=1,t=0;else A=1,r=1,t=2;else A=1,r=1,t=1;else A=1,r=1,t=0;else A=0,r=1,t=2;else A=0,r=1,t=1;else A=0,r=1,t=0;else A=2,r=0,t=2;else A=2,r=0,t=1;else A=2,r=0,t=0;else A=1,r=0,t=2;else A=1,r=0,t=1;else A=1,r=0,t=0;else A=0,r=0,t=2;else A=0,r=0,t=1;else A=0,r=0,t=0}while(0);return 0|i[11152+(216*e|0)+(72*r|0)+(24*A|0)+(t<<3)+4>>2]}(a,0|i[n>>2]),!(0|S(a)))return I=u,0|(s=e);switch(0|a){case 4:A=0,r=14;break;case 14:A=1,r=14;break;case 24:A=2,r=14;break;case 38:A=3,r=14;break;case 49:A=4,r=14;break;case 58:A=5,r=14;break;case 63:A=6,r=14;break;case 72:A=7,r=14;break;case 83:A=8,r=14;break;case 97:A=9,r=14;break;case 107:A=10,r=14;break;case 117:A=11,r=14;break;default:f=0,t=0}14==(0|r)&&(f=0|i[22096+(24*A|0)+8>>2],t=0|i[22096+(24*A|0)+16>>2]);(0|(A=0|i[n>>2]))!=(0|i[o>>2])&&(a=0|T(a))|(0|(A=0|i[n>>2]))==(0|t)&&(e=(e+1|0)%6|0);if(3==(0|s)&(0|A)==(0|t))return I=u,0|(s=(e+5|0)%6|0);if(!(5==(0|s)&(0|A)==(0|f)))return I=u,0|(s=e);return I=u,0|(s=(e+1|0)%6|0)}(A,e),n?0|(r=(5-t+(0|i[22384+(r<<2)>>2])|0)%5|0):0|(r=(6-t+(0|i[22416+(r<<2)>>2])|0)%6|0)}(t=(a=!0&268435456==(2013265920&e|0))?A:0,A=a?-2130706433&e|134217728:0,7&f))))return i[r>>2]=0,void(I=o);YA(t,A,n),f=0|Qe(0|t,0|A,52),M(),f&=15,0|UA(t,A)?vA(n,f,e,2,r):QA(n,f,e,2,r),I=o}function JA(A){A|=0;var e,r,t=0;return(e=0|be(1,12))||Q(22691,22646,49,22704),0|(t=0|i[(r=A+4|0)>>2])?(i[(t=t+8|0)>>2]=e,i[r>>2]=e,0|e):(0|i[A>>2]&&Q(22721,22646,61,22744),i[(t=A)>>2]=e,i[r>>2]=e,0|e)}function KA(A,e){A|=0,e|=0;var r,t;return(t=0|pe(24))||Q(22758,22646,78,22772),i[t>>2]=i[e>>2],i[t+4>>2]=i[e+4>>2],i[t+8>>2]=i[e+8>>2],i[t+12>>2]=i[e+12>>2],i[t+16>>2]=0,0|(r=0|i[(e=A+4|0)>>2])?(i[r+16>>2]=t,i[e>>2]=t,0|t):(0|i[A>>2]&&Q(22787,22646,82,22772),i[A>>2]=t,i[e>>2]=t,0|t)}function XA(A){var e,r,t=0,o=0,a=0,s=0,u=0,l=0,h=0,c=0,d=0,g=0,w=0,p=0,B=0,b=0,v=0,m=0,k=0,M=0,y=0,E=0,x=0,D=0,_=0,I=0,F=0,C=0,P=0,U=0,G=0,S=0;if(0|i[(s=(A|=0)+8|0)>>2])return 0|(S=1);if(!(a=0|i[A>>2]))return 0|(S=0);t=a,o=0;do{o=o+1|0,t=0|i[t+8>>2]}while(0!=(0|t));if(o>>>0<2)return 0|(S=0);(r=0|pe(o<<2))||Q(22807,22646,317,22826),(e=0|pe(o<<5))||Q(22848,22646,321,22826),i[A>>2]=0,i[(D=A+4|0)>>2]=0,i[s>>2]=0,o=0,U=0,x=0,w=0;A:for(;;){if(g=0|i[a>>2]){u=0,l=g;do{if(c=+n[l+8>>3],t=l,l=0|i[l+16>>2],h=+n[(s=(d=0==(0|l))?g:l)+8>>3],+f(+(c-h))>3.141592653589793){S=14;break}u+=(h-c)*(+n[t>>3]+ +n[s>>3])}while(!d);if(14==(0|S)){S=0,u=0,t=g;do{E=+n[t+8>>3],C=0|i[(P=t+16|0)>>2],y=+n[(C=0==(0|C)?g:C)+8>>3],u+=(+n[t>>3]+ +n[C>>3])*((y<0?y+6.283185307179586:y)-(E<0?E+6.283185307179586:E)),t=0|i[(0==(0|t)?a:P)>>2]}while(0!=(0|t))}u>0?(i[r+(U<<2)>>2]=a,U=U+1|0,s=x,t=w):S=19}else S=19;if(19==(0|S)){S=0;do{if(!o){if(w){s=D,l=w+8|0,t=a,o=A;break}if(0|i[A>>2]){S=27;break A}s=D,l=A,t=a,o=A;break}if(0|i[(t=o+8|0)>>2]){S=21;break A}if(!(o=0|be(1,12))){S=23;break A}i[t>>2]=o,s=o+4|0,l=o,t=w}while(0);if(i[l>>2]=a,i[s>>2]=a,l=e+(x<<5)|0,d=0|i[a>>2]){for(n[(g=e+(x<<5)+8|0)>>3]=17976931348623157e292,n[(w=e+(x<<5)+24|0)>>3]=17976931348623157e292,n[l>>3]=-17976931348623157e292,n[(p=e+(x<<5)+16|0)>>3]=-17976931348623157e292,k=17976931348623157e292,M=-17976931348623157e292,s=0,B=d,c=17976931348623157e292,v=17976931348623157e292,m=-17976931348623157e292,h=-17976931348623157e292;u=+n[B>>3],E=+n[B+8>>3],B=0|i[B+16>>2],y=+n[((b=0==(0|B))?d:B)+8>>3],u<c&&(n[g>>3]=u,c=u),E<v&&(n[w>>3]=E,v=E),u>m?n[l>>3]=u:u=m,E>h&&(n[p>>3]=E,h=E),k=E>0&E<k?E:k,M=E<0&E>M?E:M,s|=+f(+(E-y))>3.141592653589793,!b;)m=u;s&&(n[p>>3]=M,n[w>>3]=k)}else i[l>>2]=0,i[l+4>>2]=0,i[l+8>>2]=0,i[l+12>>2]=0,i[l+16>>2]=0,i[l+20>>2]=0,i[l+24>>2]=0,i[l+28>>2]=0;s=x+1|0}if(a=0|i[(P=a+8|0)>>2],i[P>>2]=0,!a){S=45;break}x=s,w=t}if(21==(0|S))Q(22624,22646,35,22658);else if(23==(0|S))Q(22678,22646,37,22658);else if(27==(0|S))Q(22721,22646,61,22744);else if(45==(0|S)){A:do{if((0|U)>0){for(P=0==(0|s),F=s<<2,C=0==(0|A),I=0,t=0;;){if(_=0|i[r+(I<<2)>>2],P)S=73;else{if(!(x=0|pe(F))){S=50;break}if(!(D=0|pe(F))){S=52;break}e:do{if(C)o=0;else{for(s=0,o=0,l=A;a=e+(s<<5)|0,0|qA(0|i[l>>2],a,0|i[_>>2])?(i[x+(o<<2)>>2]=l,i[D+(o<<2)>>2]=a,b=o+1|0):b=o,l=0|i[l+8>>2];)s=s+1|0,o=b;if((0|b)>0)if(a=0|i[x>>2],1==(0|b))o=a;else for(p=0,B=-1,o=a,w=a;;){for(d=0|i[w>>2],a=0,l=0;g=(0|(s=0|i[i[x+(l<<2)>>2]>>2]))==(0|d)?a:a+(1&(0|qA(s,0|i[D+(l<<2)>>2],0|i[d>>2])))|0,(0|(l=l+1|0))!=(0|b);)a=g;if(o=(s=(0|g)>(0|B))?w:o,(0|(a=p+1|0))==(0|b))break e;p=a,B=s?g:B,w=0|i[x+(a<<2)>>2]}else o=0}}while(0);if(Be(x),Be(D),o){if(a=0|i[(s=o+4|0)>>2])o=a+8|0;else if(0|i[o>>2]){S=70;break}i[o>>2]=_,i[s>>2]=_}else S=73}if(73==(0|S)){if(S=0,0|(t=0|i[_>>2]))do{D=t,t=0|i[t+16>>2],Be(D)}while(0!=(0|t));Be(_),t=2}if((0|(I=I+1|0))>=(0|U)){G=t;break A}}50==(0|S)?Q(22863,22646,249,22882):52==(0|S)?Q(22901,22646,252,22882):70==(0|S)&&Q(22721,22646,61,22744)}else G=0}while(0);return Be(r),Be(e),0|(S=G)}return 0}function qA(A,e,r){A|=0;var t,o=0,a=0,f=0,s=0,u=0,l=0,h=0;if(!(0|O(e|=0,r|=0)))return 0|(A=0);if(e=0|Y(e),t=+n[r>>3],o=e&(o=+n[r+8>>3])<0?o+6.283185307179586:o,!(A=0|i[A>>2]))return 0|(A=0);if(e){e=0,r=A;A:for(;;){for(;s=+n[r>>3],l=+n[r+8>>3],h=0|i[(r=r+16|0)>>2],f=+n[(h=0==(0|h)?A:h)>>3],a=+n[h+8>>3],s>f?(u=s,s=l):(u=f,f=s,s=a,a=l),t<f|t>u;)if(!(r=0|i[r>>2])){r=22;break A}if(o=(s=s<0?s+6.283185307179586:s)==o|(l=a<0?a+6.283185307179586:a)==o?o+-2220446049250313e-31:o,((l+=(t-f)/(u-f)*(s-l))<0?l+6.283185307179586:l)>o&&(e^=1),!(r=0|i[r>>2])){r=22;break}}if(22==(0|r))return 0|e}else{e=0,r=A;A:for(;;){for(;s=+n[r>>3],l=+n[r+8>>3],h=0|i[(r=r+16|0)>>2],f=+n[(h=0==(0|h)?A:h)>>3],a=+n[h+8>>3],s>f?(u=s,s=l):(u=f,f=s,s=a,a=l),t<f|t>u;)if(!(r=0|i[r>>2])){r=22;break A}if(a+(t-f)/(u-f)*(s-a)>(o=s==o|a==o?o+-2220446049250313e-31:o)&&(e^=1),!(r=0|i[r>>2])){r=22;break}}if(22==(0|r))return 0|e}return 0}function $A(A,e,r,n,o){r|=0,n|=0,o|=0;var a,f,s,u,l=0,h=0,c=0,d=0,g=0,w=0,p=0,B=0,b=0,v=0;if(u=I,I=I+32|0,v=u+16|0,s=u,l=0|Qe(0|(A|=0),0|(e|=0),52),M(),l&=15,p=0|Qe(0|r,0|n,52),M(),(0|l)!=(15&p|0))return I=u,0|(v=1);if(g=0|Qe(0|A,0|e,45),M(),g&=127,w=0|Qe(0|r,0|n,45),M(),p=(0|g)!=(0|(w&=127))){if(7==(0|(c=0|z(g,w))))return I=u,0|(v=2);7==(0|(d=0|z(w,g)))?Q(22925,22949,151,22959):(B=c,h=d)}else B=0,h=0;a=0|S(g),f=0|S(w),i[v>>2]=0,i[v+4>>2]=0,i[v+8>>2]=0,i[v+12>>2]=0;do{if(B){if(c=(0|(w=0|i[4304+(28*g|0)+(B<<2)>>2]))>0,f)if(c){g=0,d=r,c=n;do{d=0|VA(d,c),c=0|M(),1==(0|(h=0|sA(h)))&&(h=0|sA(1)),g=g+1|0}while((0|g)!=(0|w));w=h,g=d,d=c}else w=h,g=r,d=n;else if(c){g=0,d=r,c=n;do{d=0|HA(d,c),c=0|M(),h=0|sA(h),g=g+1|0}while((0|g)!=(0|w));w=h,g=d,d=c}else w=h,g=r,d=n;if(zA(g,d,v),p||Q(22972,22949,181,22959),(c=0!=(0|a))&(h=0!=(0|f))&&Q(22999,22949,182,22959),c){if(h=0|GA(A,e),0|t[22032+(7*h|0)+B>>0]){l=3;break}g=d=0|i[21200+(28*h|0)+(B<<2)>>2],b=26}else if(h){if(h=0|GA(g,d),0|t[22032+(7*h|0)+w>>0]){l=4;break}g=0,d=0|i[21200+(28*w|0)+(h<<2)>>2],b=26}else h=0;if(26==(0|b))if((0|d)<=-1&&Q(23030,22949,212,22959),(0|g)<=-1&&Q(23053,22949,213,22959),(0|d)>0){c=v+4|0,h=0;do{aA(c),h=h+1|0}while((0|h)!=(0|d));h=g}else h=g;if(i[s>>2]=0,i[s+4>>2]=0,i[s+8>>2]=0,nA(s,B),0|l)for(;0|RA(l)?tA(s):iA(s),(0|l)>1;)l=l+-1|0;if((0|h)>0){l=0;do{aA(s),l=l+1|0}while((0|l)!=(0|h))}X(b=v+4|0,s,b),J(b),b=50}else if(zA(r,n,v),0!=(0|a)&0!=(0|f))if((0|w)!=(0|g)&&Q(23077,22949,243,22959),h=0|GA(A,e),l=0|GA(r,n),0|t[22032+(7*h|0)+l>>0])l=5;else if((0|(h=0|i[21200+(28*h|0)+(l<<2)>>2]))>0){c=v+4|0,l=0;do{aA(c),l=l+1|0}while((0|l)!=(0|h));b=50}else b=50;else b=50}while(0);return 50==(0|b)&&(l=v+4|0,i[o>>2]=i[l>>2],i[o+4>>2]=i[l+4>>2],i[o+8>>2]=i[l+8>>2],l=0),I=u,0|(v=l)}function Ae(A,e,r,t){r|=0,t|=0;var n,o,a=0,f=0,s=0,u=0,l=0,h=0,c=0,d=0,g=0,w=0,p=0,B=0,b=0;if(o=I,I=I+48|0,s=o+36|0,u=o+24|0,l=o+12|0,h=o,f=0|Qe(0|(A|=0),0|(e|=0),52),M(),f&=15,d=0|Qe(0|A,0|e,45),M(),n=0|S(d&=127),ye(0|f,0,52),p=134225919|M(),i[(w=t)>>2]=-1,i[w+4>>2]=p,!f)return(0|i[r>>2])>1||(0|i[r+4>>2])>1||(0|i[r+8>>2])>1||127==(0|(a=0|L(d,0|AA(r))))?(I=o,0|(p=1)):(g=0|ye(0|a,0,45),w=0|M(),w=-1040385&i[(d=t)+4>>2]|w,i[(p=t)>>2]=i[d>>2]|g,i[p+4>>2]=w,I=o,0|(p=0));for(i[s>>2]=i[r>>2],i[s+4>>2]=i[r+4>>2],i[s+8>>2]=i[r+8>>2];i[u>>2]=i[s>>2],i[u+4>>2]=i[s+4>>2],i[u+8>>2]=i[s+8>>2],0|RA(f)?(eA(s),i[l>>2]=i[s>>2],i[l+4>>2]=i[s+4>>2],i[l+8>>2]=i[s+8>>2],tA(l)):(rA(s),i[l>>2]=i[s>>2],i[l+4>>2]=i[s+4>>2],i[l+8>>2]=i[s+8>>2],iA(l)),q(u,l,h),J(h),B=0|i[(w=t)>>2],w=0|i[w+4>>2],r=0|ye(7,0,0|(b=3*(15-f|0)|0)),w&=~(0|M()),b=0|ye(0|AA(h),0,0|b),w=0|M()|w,i[(p=t)>>2]=b|B&~r,i[p+4>>2]=w,(0|f)>1;)f=f+-1|0;A:do{if((0|i[s>>2])<=1&&(0|i[s+4>>2])<=1&&(0|i[s+8>>2])<=1){h=127==(0|(u=0|L(d,f=0|AA(s))))?0:0|S(u);e:do{if(f){if(n){if(s=21408+(28*(0|GA(A,e))|0)+(f<<2)|0,(0|(s=0|i[s>>2]))>0){r=0;do{f=0|fA(f),r=r+1|0}while((0|r)!=(0|s))}if(1==(0|f)){a=3;break A}127==(0|(r=0|L(d,f)))&&Q(23104,22949,376,23134),0|S(r)?Q(23147,22949,377,23134):(g=s,c=f,a=r)}else g=0,c=f,a=u;if((0|(l=0|i[4304+(28*d|0)+(c<<2)>>2]))<=-1&&Q(23178,22949,384,23134),!h){if((0|g)<=-1&&Q(23030,22949,417,23134),0|g){f=0,r=0|i[(s=t)>>2],s=0|i[s+4>>2];do{r=0|TA(r,s),s=0|M(),i[(b=t)>>2]=r,i[b+4>>2]=s,f=f+1|0}while((0|f)<(0|g))}if((0|l)<=0){f=54;break}for(f=0,r=0|i[(s=t)>>2],s=0|i[s+4>>2];;)if(r=0|TA(r,s),s=0|M(),i[(b=t)>>2]=r,i[b+4>>2]=s,(0|(f=f+1|0))==(0|l)){f=54;break e}}if(7==(0|(u=0|z(a,d)))&&Q(22925,22949,393,23134),r=0|i[(f=t)>>2],f=0|i[f+4>>2],(0|l)>0){s=0;do{r=0|TA(r,f),f=0|M(),i[(b=t)>>2]=r,i[b+4>>2]=f,s=s+1|0}while((0|s)!=(0|l))}if(r=0|GA(r,f),b=0|T(a),(0|(r=0|i[(b?21824:21616)+(28*u|0)+(r<<2)>>2]))<=-1&&Q(23030,22949,412,23134),r){f=0,s=0|i[(u=t)>>2],u=0|i[u+4>>2];do{s=0|SA(s,u),u=0|M(),i[(b=t)>>2]=s,i[b+4>>2]=u,f=f+1|0}while((0|f)<(0|r));f=54}else f=54}else if(0!=(0|n)&0!=(0|h))if(f=21408+(28*(b=0|GA(A,e))|0)+((0|GA(0|i[(f=t)>>2],0|i[f+4>>2]))<<2)|0,(0|(f=0|i[f>>2]))<=-1&&Q(23201,22949,433,23134),f){a=0,r=0|i[(s=t)>>2],s=0|i[s+4>>2];do{r=0|TA(r,s),s=0|M(),i[(b=t)>>2]=r,i[b+4>>2]=s,a=a+1|0}while((0|a)<(0|f));a=u,f=54}else a=u,f=55;else a=u,f=54}while(0);if(54==(0|f)&&h&&(f=55),55==(0|f)&&1==(0|GA(0|i[(b=t)>>2],0|i[b+4>>2]))){a=4;break}p=0|i[(b=t)>>2],b=-1040385&i[b+4>>2],B=0|ye(0|a,0,45),b=0|b|M(),i[(a=t)>>2]=p|B,i[a+4>>2]=b,a=0}else a=2}while(0);return I=o,0|(b=a)}function ee(A,e){var r=0;if(!(e|=0))return 0|(r=1);r=A|=0,A=1;do{A=0|b(0==(1&e|0)?1:r,A),e>>=1,r=0|b(r,r)}while(0!=(0|e));return 0|A}function re(A,e,r){A|=0;var t,o,a=0,f=0,s=0,u=0,l=0,h=0,c=0,d=0;if(!(0|O(e|=0,r|=0)))return 0|(d=0);if(e=0|Y(e),o=+n[r>>3],a=e&(a=+n[r+8>>3])<0?a+6.283185307179586:a,(0|(d=0|i[A>>2]))<=0)return 0|(d=0);if(t=0|i[A+4>>2],e){e=0,r=-1,A=0;A:for(;;){for(c=A;u=+n[t+(c<<4)>>3],h=+n[t+(c<<4)+8>>3],s=+n[t+((A=(r+2|0)%(0|d)|0)<<4)>>3],f=+n[t+(A<<4)+8>>3],u>s?(l=u,u=h):(l=s,s=u,u=f,f=h),o<s|o>l;){if(!((0|(r=c+1|0))<(0|d))){r=22;break A}A=c,c=r,r=A}if(a=(u=u<0?u+6.283185307179586:u)==a|(h=f<0?f+6.283185307179586:f)==a?a+-2220446049250313e-31:a,((h+=(o-s)/(l-s)*(u-h))<0?h+6.283185307179586:h)>a&&(e^=1),(0|(A=c+1|0))>=(0|d)){r=22;break}r=c}if(22==(0|r))return 0|e}else{e=0,r=-1,A=0;A:for(;;){for(c=A;u=+n[t+(c<<4)>>3],h=+n[t+(c<<4)+8>>3],s=+n[t+((A=(r+2|0)%(0|d)|0)<<4)>>3],f=+n[t+(A<<4)+8>>3],u>s?(l=u,u=h):(l=s,s=u,u=f,f=h),o<s|o>l;){if(!((0|(r=c+1|0))<(0|d))){r=22;break A}A=c,c=r,r=A}if(f+(o-s)/(l-s)*(u-f)>(a=u==a|f==a?a+-2220446049250313e-31:a)&&(e^=1),(0|(A=c+1|0))>=(0|d)){r=22;break}r=c}if(22==(0|r))return 0|e}return 0}function te(A,e){e|=0;var r,t,o,a,s,u=0,l=0,h=0,c=0,d=0,g=0,w=0,p=0,B=0,b=0,v=0,m=0;if(!(t=0|i[(A|=0)>>2]))return i[e>>2]=0,i[e+4>>2]=0,i[e+8>>2]=0,i[e+12>>2]=0,i[e+16>>2]=0,i[e+20>>2]=0,i[e+24>>2]=0,void(i[e+28>>2]=0);if(n[(o=e+8|0)>>3]=17976931348623157e292,n[(a=e+24|0)>>3]=17976931348623157e292,n[e>>3]=-17976931348623157e292,n[(s=e+16|0)>>3]=-17976931348623157e292,!((0|t)<=0)){for(r=0|i[A+4>>2],p=17976931348623157e292,B=-17976931348623157e292,b=0,A=-1,c=17976931348623157e292,d=17976931348623157e292,w=-17976931348623157e292,l=-17976931348623157e292,v=0;u=+n[r+(v<<4)>>3],g=+n[r+(v<<4)+8>>3],h=+n[r+(((0|(A=A+2|0))==(0|t)?0:A)<<4)+8>>3],u<c&&(n[o>>3]=u,c=u),g<d&&(n[a>>3]=g,d=g),u>w?n[e>>3]=u:u=w,g>l&&(n[s>>3]=g,l=g),p=g>0&g<p?g:p,B=g<0&g>B?g:B,b|=+f(+(g-h))>3.141592653589793,(0|(A=v+1|0))!=(0|t);)m=v,w=u,v=A,A=m;b&&(n[s>>3]=B,n[a>>3]=p)}}function ie(A,e){e|=0;var r,t=0,o=0,a=0,s=0,u=0,l=0,h=0,c=0,d=0,g=0,w=0,p=0,B=0,b=0,v=0,m=0,k=0,M=0,Q=0,y=0,E=0;if(B=0|i[(A|=0)>>2]){if(n[(b=e+8|0)>>3]=17976931348623157e292,n[(v=e+24|0)>>3]=17976931348623157e292,n[e>>3]=-17976931348623157e292,n[(m=e+16|0)>>3]=-17976931348623157e292,(0|B)>0){for(a=0|i[A+4>>2],w=17976931348623157e292,p=-17976931348623157e292,o=0,t=-1,h=17976931348623157e292,c=17976931348623157e292,g=-17976931348623157e292,u=-17976931348623157e292,k=0;s=+n[a+(k<<4)>>3],d=+n[a+(k<<4)+8>>3],l=+n[a+(((0|(y=t+2|0))==(0|B)?0:y)<<4)+8>>3],s<h&&(n[b>>3]=s,h=s),d<c&&(n[v>>3]=d,c=d),s>g?n[e>>3]=s:s=g,d>u&&(n[m>>3]=d,u=d),w=d>0&d<w?d:w,p=d<0&d>p?d:p,o|=+f(+(d-l))>3.141592653589793,(0|(t=k+1|0))!=(0|B);)y=k,g=s,k=t,t=y;o&&(n[m>>3]=p,n[v>>3]=w)}}else i[e>>2]=0,i[e+4>>2]=0,i[e+8>>2]=0,i[e+12>>2]=0,i[e+16>>2]=0,i[e+20>>2]=0,i[e+24>>2]=0,i[e+28>>2]=0;if(!((0|(t=0|i[(y=A+8|0)>>2]))<=0)){r=A+12|0,Q=0;do{if(a=0|i[r>>2],o=Q,v=e+((Q=Q+1|0)<<5)|0,m=0|i[a+(o<<3)>>2]){if(n[(k=e+(Q<<5)+8|0)>>3]=17976931348623157e292,n[(A=e+(Q<<5)+24|0)>>3]=17976931348623157e292,n[v>>3]=-17976931348623157e292,n[(M=e+(Q<<5)+16|0)>>3]=-17976931348623157e292,(0|m)>0){for(B=0|i[a+(o<<3)+4>>2],w=17976931348623157e292,p=-17976931348623157e292,a=0,o=-1,b=0,h=17976931348623157e292,c=17976931348623157e292,d=-17976931348623157e292,u=-17976931348623157e292;s=+n[B+(b<<4)>>3],g=+n[B+(b<<4)+8>>3],l=+n[B+(((0|(o=o+2|0))==(0|m)?0:o)<<4)+8>>3],s<h&&(n[k>>3]=s,h=s),g<c&&(n[A>>3]=g,c=g),s>d?n[v>>3]=s:s=d,g>u&&(n[M>>3]=g,u=g),w=g>0&g<w?g:w,p=g<0&g>p?g:p,a|=+f(+(g-l))>3.141592653589793,(0|(o=b+1|0))!=(0|m);)E=b,b=o,d=s,o=E;a&&(n[M>>3]=p,n[A>>3]=w)}}else i[v>>2]=0,i[v+4>>2]=0,i[v+8>>2]=0,i[v+12>>2]=0,i[v+16>>2]=0,i[v+20>>2]=0,i[v+24>>2]=0,i[v+28>>2]=0,t=0|i[y>>2]}while((0|Q)<(0|t))}}function ne(A,e,r){var t=0,n=0,o=0;if(!(0|re(A|=0,e|=0,r|=0)))return 0|(n=0);if((0|i[(n=A+8|0)>>2])<=0)return 0|(n=1);for(t=A+12|0,A=0;;){if(o=A,A=A+1|0,0|re((0|i[t>>2])+(o<<3)|0,e+(A<<5)|0,r)){A=0,t=6;break}if((0|A)>=(0|i[n>>2])){A=1,t=6;break}}return 6==(0|t)?0|A:0}function oe(A,e,r,t,i){e|=0,r|=0,t|=0,i|=0;var o,a,f,s,u,l,h,c=0;s=+n[(A|=0)>>3],f=+n[e>>3]-s,a=+n[A+8>>3],o=+n[e+8>>3]-a,l=+n[r>>3],c=((c=+n[t>>3]-l)*(a-(h=+n[r+8>>3]))-(s-l)*(u=+n[t+8>>3]-h))/(f*u-o*c),n[i>>3]=s+f*c,n[i+8>>3]=a+o*c}function ae(A,e){return e|=0,+n[(A|=0)>>3]!=+n[e>>3]?0|(e=0):0|(e=+n[A+8>>3]==+n[e+8>>3])}function fe(A,e){e|=0;var r,t,i;return+((i=+n[(A|=0)>>3]-+n[e>>3])*i+(t=+n[A+8>>3]-+n[e+8>>3])*t+(r=+n[A+16>>3]-+n[e+16>>3])*r)}function se(A,e,r){A|=0,r|=0;var t=0;(0|(e|=0))>0?(t=0|be(e,4),i[A>>2]=t,t||Q(23230,23253,40,23267)):i[A>>2]=0,i[A+4>>2]=e,i[A+8>>2]=0,i[A+12>>2]=r}function ue(A){var e,r,t,o=0,a=0,s=0,l=0;e=(A|=0)+4|0,r=A+12|0,t=A+8|0;A:for(;;){for(a=0|i[e>>2],o=0;;){if((0|o)>=(0|a))break A;if(s=0|i[A>>2],l=0|i[s+(o<<2)>>2])break;o=o+1|0}o=s+(~~(+f(+ +u(10,+ +(15-(0|i[r>>2])|0))*(+n[l>>3]+ +n[l+8>>3]))%+(0|a))>>>0<<2)|0,a=0|i[o>>2];e:do{if(0|a){if(s=l+32|0,(0|a)==(0|l))i[o>>2]=i[s>>2];else{if(!(o=0|i[(a=a+32|0)>>2]))break;for(;(0|o)!=(0|l);)if(!(o=0|i[(a=o+32|0)>>2]))break e;i[a>>2]=i[s>>2]}Be(l),i[t>>2]=(0|i[t>>2])-1}}while(0)}Be(0|i[A>>2])}function le(A){var e,r=0,t=0;for(e=0|i[(A|=0)+4>>2],t=0;;){if((0|t)>=(0|e)){r=0,t=4;break}if(r=0|i[(0|i[A>>2])+(t<<2)>>2]){t=4;break}t=t+1|0}return 4==(0|t)?0|r:0}function he(A,e){e|=0;var r=0,t=0,o=0,a=0;if(r=~~(+f(+ +u(10,+ +(15-(0|i[(A|=0)+12>>2])|0))*(+n[e>>3]+ +n[e+8>>3]))%+(0|i[A+4>>2]))>>>0,r=(0|i[A>>2])+(r<<2)|0,!(t=0|i[r>>2]))return 0|(a=1);a=e+32|0;do{if((0|t)!=(0|e)){if(!(r=0|i[t+32>>2]))return 0|(a=1);for(o=r;;){if((0|o)==(0|e)){o=8;break}if(!(r=0|i[o+32>>2])){r=1,o=10;break}t=o,o=r}if(8==(0|o)){i[t+32>>2]=i[a>>2];break}if(10==(0|o))return 0|r}else i[r>>2]=i[a>>2]}while(0);return Be(e),i[(a=A+8|0)>>2]=(0|i[a>>2])-1,0|(a=0)}function ce(A,e,r){A|=0,e|=0,r|=0;var t,o=0,a=0,s=0;(t=0|pe(40))||Q(23283,23253,98,23296),i[t>>2]=i[e>>2],i[t+4>>2]=i[e+4>>2],i[t+8>>2]=i[e+8>>2],i[t+12>>2]=i[e+12>>2],i[(a=t+16|0)>>2]=i[r>>2],i[a+4>>2]=i[r+4>>2],i[a+8>>2]=i[r+8>>2],i[a+12>>2]=i[r+12>>2],i[t+32>>2]=0,a=~~(+f(+ +u(10,+ +(15-(0|i[A+12>>2])|0))*(+n[e>>3]+ +n[e+8>>3]))%+(0|i[A+4>>2]))>>>0,a=(0|i[A>>2])+(a<<2)|0,o=0|i[a>>2];do{if(o){for(;!(0|xA(o,e)&&0|xA(o+16|0,r));)if(a=0|i[o+32>>2],!(0|i[(o=0==(0|a)?o:a)+32>>2])){s=10;break}if(10==(0|s)){i[o+32>>2]=t;break}return Be(t),0|(s=o)}i[a>>2]=t}while(0);return i[(s=A+8|0)>>2]=1+(0|i[s>>2]),0|(s=t)}function de(A,e,r){e|=0,r|=0;var t=0,o=0;if(o=~~(+f(+ +u(10,+ +(15-(0|i[(A|=0)+12>>2])|0))*(+n[e>>3]+ +n[e+8>>3]))%+(0|i[A+4>>2]))>>>0,!(o=0|i[(0|i[A>>2])+(o<<2)>>2]))return 0|(r=0);if(!r){for(A=o;;){if(0|xA(A,e)){t=10;break}if(!(A=0|i[A+32>>2])){A=0,t=10;break}}if(10==(0|t))return 0|A}for(A=o;;){if(0|xA(A,e)&&0|xA(A+16|0,r)){t=10;break}if(!(A=0|i[A+32>>2])){A=0,t=10;break}}return 10==(0|t)?0|A:0}function ge(A,e){e|=0;var r=0;if(r=~~(+f(+ +u(10,+ +(15-(0|i[(A|=0)+12>>2])|0))*(+n[e>>3]+ +n[e+8>>3]))%+(0|i[A+4>>2]))>>>0,!(A=0|i[(0|i[A>>2])+(r<<2)>>2]))return 0|(r=0);for(;;){if(0|xA(A,e)){e=5;break}if(!(A=0|i[A+32>>2])){A=0,e=5;break}}return 5==(0|e)?0|A:0}function we(A){return 0|~~+function(A){return+ +Ie(+(A=+A))}(A=+A)}function pe(A){A|=0;var e,r=0,t=0,n=0,o=0,a=0,f=0,s=0,u=0,l=0,h=0,c=0,d=0,g=0,w=0,p=0,B=0,b=0,v=0,m=0,k=0;e=I,I=I+16|0,d=e;do{if(A>>>0<245){if(A=(l=A>>>0<11?16:A+11&-8)>>>3,3&(t=(c=0|i[5829])>>>A)|0)return n=0|i[(t=(A=23356+((r=(1&t^1)+A|0)<<1<<2)|0)+8|0)>>2],(0|(a=0|i[(o=n+8|0)>>2]))==(0|A)?i[5829]=c&~(1<<r):(i[a+12>>2]=A,i[t>>2]=a),k=r<<3,i[n+4>>2]=3|k,i[(k=n+k+4|0)>>2]=1|i[k>>2],I=e,0|(k=o);if(l>>>0>(h=0|i[5831])>>>0){if(0|t)return r=((r=t<<A&((r=2<<A)|0-r))&0-r)-1|0,a=0|i[(A=(r=23356+((n=((t=(r>>>=s=r>>>12&16)>>>5&8)|s|(a=(r>>>=t)>>>2&4)|(A=(r>>>=a)>>>1&2)|(n=(r>>>=A)>>>1&1))+(r>>>n)|0)<<1<<2)|0)+8|0)>>2],(0|(t=0|i[(s=a+8|0)>>2]))==(0|r)?(A=c&~(1<<n),i[5829]=A):(i[t+12>>2]=r,i[A>>2]=t,A=c),f=(k=n<<3)-l|0,i[a+4>>2]=3|l,i[(o=a+l|0)+4>>2]=1|f,i[a+k>>2]=f,0|h&&(n=0|i[5834],t=23356+((r=h>>>3)<<1<<2)|0,A&(r=1<<r)?r=0|i[(A=t+8|0)>>2]:(i[5829]=A|r,r=t,A=t+8|0),i[A>>2]=n,i[r+12>>2]=n,i[n+8>>2]=r,i[n+12>>2]=t),i[5831]=f,i[5834]=o,I=e,0|(k=s);if(a=0|i[5830]){for(t=(a&0-a)-1|0,t=u=0|i[23620+(((n=(t>>>=o=t>>>12&16)>>>5&8)|o|(f=(t>>>=n)>>>2&4)|(s=(t>>>=f)>>>1&2)|(u=(t>>>=s)>>>1&1))+(t>>>u)<<2)>>2],s=u,u=(-8&i[u+4>>2])-l|0;(A=0|i[t+16>>2])||(A=0|i[t+20>>2]);)t=A,s=(o=(f=(-8&i[A+4>>2])-l|0)>>>0<u>>>0)?A:s,u=o?f:u;if((f=s+l|0)>>>0>s>>>0){o=0|i[s+24>>2],r=0|i[s+12>>2];do{if((0|r)==(0|s)){if(!(r=0|i[(A=s+20|0)>>2])&&!(r=0|i[(A=s+16|0)>>2])){t=0;break}for(;;)if(t=0|i[(n=r+20|0)>>2])r=t,A=n;else{if(!(t=0|i[(n=r+16|0)>>2]))break;r=t,A=n}i[A>>2]=0,t=r}else t=0|i[s+8>>2],i[t+12>>2]=r,i[r+8>>2]=t,t=r}while(0);do{if(0|o){if(r=0|i[s+28>>2],(0|s)==(0|i[(A=23620+(r<<2)|0)>>2])){if(i[A>>2]=t,!t){i[5830]=a&~(1<<r);break}}else if(i[((0|i[(k=o+16|0)>>2])==(0|s)?k:o+20|0)>>2]=t,!t)break;i[t+24>>2]=o,0|(r=0|i[s+16>>2])&&(i[t+16>>2]=r,i[r+24>>2]=t),0|(r=0|i[s+20>>2])&&(i[t+20>>2]=r,i[r+24>>2]=t)}}while(0);return u>>>0<16?(k=u+l|0,i[s+4>>2]=3|k,i[(k=s+k+4|0)>>2]=1|i[k>>2]):(i[s+4>>2]=3|l,i[f+4>>2]=1|u,i[f+u>>2]=u,0|h&&(n=0|i[5834],t=23356+((r=h>>>3)<<1<<2)|0,(r=1<<r)&c?r=0|i[(A=t+8|0)>>2]:(i[5829]=r|c,r=t,A=t+8|0),i[A>>2]=n,i[r+12>>2]=n,i[n+8>>2]=r,i[n+12>>2]=t),i[5831]=u,i[5834]=f),I=e,0|(k=s+8|0)}c=l}else c=l}else c=l}else if(A>>>0<=4294967231)if(l=-8&(A=A+11|0),n=0|i[5830]){o=0-l|0,u=(A>>>=8)?l>>>0>16777215?31:l>>>((u=14-((s=((p=A<<(c=(A+1048320|0)>>>16&8))+520192|0)>>>16&4)|c|(u=((p<<=s)+245760|0)>>>16&2))+(p<<u>>>15)|0)+7|0)&1|u<<1:0,t=0|i[23620+(u<<2)>>2];A:do{if(t)for(A=0,s=l<<(31==(0|u)?0:25-(u>>>1)|0),a=0;;){if((f=(-8&i[t+4>>2])-l|0)>>>0<o>>>0){if(!f){A=t,o=0,p=65;break A}A=t,o=f}if(a=0==(0|(p=0|i[t+20>>2]))|(0|p)==(0|(t=0|i[t+16+(s>>>31<<2)>>2]))?a:p,!t){t=a,p=61;break}s<<=1}else t=0,A=0,p=61}while(0);if(61==(0|p)){if(0==(0|t)&0==(0|A)){if(!(A=((A=2<<u)|0-A)&n)){c=l;break}c=(A&0-A)-1|0,A=0,t=0|i[23620+(((a=(c>>>=f=c>>>12&16)>>>5&8)|f|(s=(c>>>=a)>>>2&4)|(u=(c>>>=s)>>>1&2)|(t=(c>>>=u)>>>1&1))+(c>>>t)<<2)>>2]}t?p=65:(s=A,f=o)}if(65==(0|p))for(a=t;;){if(o=(t=(c=(-8&i[a+4>>2])-l|0)>>>0<o>>>0)?c:o,A=t?a:A,(t=0|i[a+16>>2])||(t=0|i[a+20>>2]),!t){s=A,f=o;break}a=t}if(0!=(0|s)&&f>>>0<((0|i[5831])-l|0)>>>0&&(h=s+l|0)>>>0>s>>>0){a=0|i[s+24>>2],r=0|i[s+12>>2];do{if((0|r)==(0|s)){if(!(r=0|i[(A=s+20|0)>>2])&&!(r=0|i[(A=s+16|0)>>2])){r=0;break}for(;;)if(t=0|i[(o=r+20|0)>>2])r=t,A=o;else{if(!(t=0|i[(o=r+16|0)>>2]))break;r=t,A=o}i[A>>2]=0}else k=0|i[s+8>>2],i[k+12>>2]=r,i[r+8>>2]=k}while(0);do{if(a){if(A=0|i[s+28>>2],(0|s)==(0|i[(t=23620+(A<<2)|0)>>2])){if(i[t>>2]=r,!r){n&=~(1<<A),i[5830]=n;break}}else if(i[((0|i[(k=a+16|0)>>2])==(0|s)?k:a+20|0)>>2]=r,!r)break;i[r+24>>2]=a,0|(A=0|i[s+16>>2])&&(i[r+16>>2]=A,i[A+24>>2]=r),(A=0|i[s+20>>2])&&(i[r+20>>2]=A,i[A+24>>2]=r)}}while(0);A:do{if(f>>>0<16)k=f+l|0,i[s+4>>2]=3|k,i[(k=s+k+4|0)>>2]=1|i[k>>2];else{if(i[s+4>>2]=3|l,i[h+4>>2]=1|f,i[h+f>>2]=f,r=f>>>3,f>>>0<256){t=23356+(r<<1<<2)|0,(A=0|i[5829])&(r=1<<r)?r=0|i[(A=t+8|0)>>2]:(i[5829]=A|r,r=t,A=t+8|0),i[A>>2]=h,i[r+12>>2]=h,i[h+8>>2]=r,i[h+12>>2]=t;break}if(r=23620+((t=(r=f>>>8)?f>>>0>16777215?31:f>>>((t=14-((v=((k=r<<(m=(r+1048320|0)>>>16&8))+520192|0)>>>16&4)|m|(t=((k<<=v)+245760|0)>>>16&2))+(k<<t>>>15)|0)+7|0)&1|t<<1:0)<<2)|0,i[h+28>>2]=t,i[(A=h+16|0)+4>>2]=0,i[A>>2]=0,!(n&(A=1<<t))){i[5830]=n|A,i[r>>2]=h,i[h+24>>2]=r,i[h+12>>2]=h,i[h+8>>2]=h;break}r=0|i[r>>2];e:do{if((-8&i[r+4>>2]|0)!=(0|f)){for(n=f<<(31==(0|t)?0:25-(t>>>1)|0);A=0|i[(t=r+16+(n>>>31<<2)|0)>>2];){if((-8&i[A+4>>2]|0)==(0|f)){r=A;break e}n<<=1,r=A}i[t>>2]=h,i[h+24>>2]=r,i[h+12>>2]=h,i[h+8>>2]=h;break A}}while(0);k=0|i[(m=r+8|0)>>2],i[k+12>>2]=h,i[m>>2]=h,i[h+8>>2]=k,i[h+12>>2]=r,i[h+24>>2]=0}}while(0);return I=e,0|(k=s+8|0)}c=l}else c=l;else c=-1}while(0);if((t=0|i[5831])>>>0>=c>>>0)return r=t-c|0,A=0|i[5834],r>>>0>15?(k=A+c|0,i[5834]=k,i[5831]=r,i[k+4>>2]=1|r,i[A+t>>2]=r,i[A+4>>2]=3|c):(i[5831]=0,i[5834]=0,i[A+4>>2]=3|t,i[(k=A+t+4|0)>>2]=1|i[k>>2]),I=e,0|(k=A+8|0);if((f=0|i[5832])>>>0>c>>>0)return v=f-c|0,i[5832]=v,m=(k=0|i[5835])+c|0,i[5835]=m,i[m+4>>2]=1|v,i[k+4>>2]=3|c,I=e,0|(k=k+8|0);if(0|i[5947]?A=0|i[5949]:(i[5949]=4096,i[5948]=4096,i[5950]=-1,i[5951]=-1,i[5952]=0,i[5940]=0,i[5947]=-16&d^1431655768,A=4096),s=c+48|0,(l=(a=A+(u=c+47|0)|0)&(o=0-A|0))>>>0<=c>>>0)return I=e,0|(k=0);if(0|(A=0|i[5939])&&(d=(h=0|i[5937])+l|0)>>>0<=h>>>0|d>>>0>A>>>0)return I=e,0|(k=0);A:do{if(4&i[5940])r=0,p=143;else{t=0|i[5835];e:do{if(t){for(n=23764;!((d=0|i[n>>2])>>>0<=t>>>0&&(d+(0|i[n+4>>2])|0)>>>0>t>>>0);){if(!(A=0|i[n+8>>2])){p=128;break e}n=A}if((r=a-f&o)>>>0<2147483647)if((0|(A=0|Fe(0|r)))==((0|i[n>>2])+(0|i[n+4>>2])|0)){if(-1!=(0|A)){f=r,a=A,p=145;break A}}else n=A,p=136;else r=0}else p=128}while(0);do{if(128==(0|p))if(-1!=(0|(t=0|Fe(0)))&&(r=t,w=(r=(0==((w=(g=0|i[5948])+-1|0)&r|0)?0:(w+r&0-g)-r|0)+l|0)+(g=0|i[5937])|0,r>>>0>c>>>0&r>>>0<2147483647)){if(0|(d=0|i[5939])&&w>>>0<=g>>>0|w>>>0>d>>>0){r=0;break}if((0|(A=0|Fe(0|r)))==(0|t)){f=r,a=t,p=145;break A}n=A,p=136}else r=0}while(0);do{if(136==(0|p)){if(t=0-r|0,!(s>>>0>r>>>0&r>>>0<2147483647&-1!=(0|n))){if(-1==(0|n)){r=0;break}f=r,a=n,p=145;break A}if((A=u-r+(A=0|i[5949])&0-A)>>>0>=2147483647){f=r,a=n,p=145;break A}if(-1==(0|Fe(0|A))){Fe(0|t),r=0;break}f=A+r|0,a=n,p=145;break A}}while(0);i[5940]=4|i[5940],p=143}}while(0);if(143==(0|p)&&l>>>0<2147483647&&!(-1==(0|(v=0|Fe(0|l)))|1^(b=(B=(w=0|Fe(0))-v|0)>>>0>(c+40|0)>>>0)|v>>>0<w>>>0&-1!=(0|v)&-1!=(0|w)^1)&&(f=b?B:r,a=v,p=145),145==(0|p)){r=(0|i[5937])+f|0,i[5937]=r,r>>>0>(0|i[5938])>>>0&&(i[5938]=r),u=0|i[5835];A:do{if(u){for(r=23764;;){if((0|a)==((A=0|i[r>>2])+(t=0|i[r+4>>2])|0)){p=154;break}if(!(n=0|i[r+8>>2]))break;r=n}if(154==(0|p)&&(m=r+4|0,0==(8&i[r+12>>2]|0))&&a>>>0>u>>>0&A>>>0<=u>>>0){i[m>>2]=t+f,m=u+(v=0==(7&(v=u+8|0)|0)?0:0-v&7)|0,v=(k=(0|i[5832])+f|0)-v|0,i[5835]=m,i[5832]=v,i[m+4>>2]=1|v,i[u+k+4>>2]=40,i[5836]=i[5951];break}for(a>>>0<(0|i[5833])>>>0&&(i[5833]=a),t=a+f|0,r=23764;;){if((0|i[r>>2])==(0|t)){p=162;break}if(!(A=0|i[r+8>>2]))break;r=A}if(162==(0|p)&&0==(8&i[r+12>>2]|0)){i[r>>2]=a,i[(h=r+4|0)>>2]=(0|i[h>>2])+f,l=(h=a+(0==(7&(h=a+8|0)|0)?0:0-h&7)|0)+c|0,s=(r=t+(0==(7&(r=t+8|0)|0)?0:0-r&7)|0)-h-c|0,i[h+4>>2]=3|c;e:do{if((0|u)==(0|r))k=(0|i[5832])+s|0,i[5832]=k,i[5835]=l,i[l+4>>2]=1|k;else{if((0|i[5834])==(0|r)){k=(0|i[5831])+s|0,i[5831]=k,i[5834]=l,i[l+4>>2]=1|k,i[l+k>>2]=k;break}if(1==(3&(A=0|i[r+4>>2])|0)){f=-8&A,n=A>>>3;r:do{if(A>>>0<256){if(A=0|i[r+8>>2],(0|(t=0|i[r+12>>2]))==(0|A)){i[5829]=i[5829]&~(1<<n);break}i[A+12>>2]=t,i[t+8>>2]=A;break}a=0|i[r+24>>2],A=0|i[r+12>>2];do{if((0|A)==(0|r)){if(A=0|i[(n=(t=r+16|0)+4|0)>>2])t=n;else if(!(A=0|i[t>>2])){A=0;break}for(;;)if(n=0|i[(o=A+20|0)>>2])A=n,t=o;else{if(!(n=0|i[(o=A+16|0)>>2]))break;A=n,t=o}i[t>>2]=0}else k=0|i[r+8>>2],i[k+12>>2]=A,i[A+8>>2]=k}while(0);if(!a)break;n=23620+((t=0|i[r+28>>2])<<2)|0;do{if((0|i[n>>2])==(0|r)){if(i[n>>2]=A,0|A)break;i[5830]=i[5830]&~(1<<t);break r}if(i[((0|i[(k=a+16|0)>>2])==(0|r)?k:a+20|0)>>2]=A,!A)break r}while(0);if(i[A+24>>2]=a,0|(n=0|i[(t=r+16|0)>>2])&&(i[A+16>>2]=n,i[n+24>>2]=A),!(t=0|i[t+4>>2]))break;i[A+20>>2]=t,i[t+24>>2]=A}while(0);r=r+f|0,o=f+s|0}else o=s;if(i[(r=r+4|0)>>2]=-2&i[r>>2],i[l+4>>2]=1|o,i[l+o>>2]=o,r=o>>>3,o>>>0<256){t=23356+(r<<1<<2)|0,(A=0|i[5829])&(r=1<<r)?r=0|i[(A=t+8|0)>>2]:(i[5829]=A|r,r=t,A=t+8|0),i[A>>2]=l,i[r+12>>2]=l,i[l+8>>2]=r,i[l+12>>2]=t;break}r=o>>>8;do{if(r){if(o>>>0>16777215){n=31;break}n=o>>>((n=14-((v=((k=r<<(m=(r+1048320|0)>>>16&8))+520192|0)>>>16&4)|m|(n=((k<<=v)+245760|0)>>>16&2))+(k<<n>>>15)|0)+7|0)&1|n<<1}else n=0}while(0);if(r=23620+(n<<2)|0,i[l+28>>2]=n,i[(A=l+16|0)+4>>2]=0,i[A>>2]=0,!((A=0|i[5830])&(t=1<<n))){i[5830]=A|t,i[r>>2]=l,i[l+24>>2]=r,i[l+12>>2]=l,i[l+8>>2]=l;break}r=0|i[r>>2];r:do{if((-8&i[r+4>>2]|0)!=(0|o)){for(n=o<<(31==(0|n)?0:25-(n>>>1)|0);A=0|i[(t=r+16+(n>>>31<<2)|0)>>2];){if((-8&i[A+4>>2]|0)==(0|o)){r=A;break r}n<<=1,r=A}i[t>>2]=l,i[l+24>>2]=r,i[l+12>>2]=l,i[l+8>>2]=l;break e}}while(0);k=0|i[(m=r+8|0)>>2],i[k+12>>2]=l,i[m>>2]=l,i[l+8>>2]=k,i[l+12>>2]=r,i[l+24>>2]=0}}while(0);return I=e,0|(k=h+8|0)}for(r=23764;!((A=0|i[r>>2])>>>0<=u>>>0&&(k=A+(0|i[r+4>>2])|0)>>>0>u>>>0);)r=0|i[r+8>>2];r=(A=(A=(o=k+-47|0)+(0==(7&(A=o+8|0)|0)?0:0-A&7)|0)>>>0<(o=u+16|0)>>>0?u:A)+8|0,m=a+(v=0==(7&(v=a+8|0)|0)?0:0-v&7)|0,v=(t=f+-40|0)-v|0,i[5835]=m,i[5832]=v,i[m+4>>2]=1|v,i[a+t+4>>2]=40,i[5836]=i[5951],i[(t=A+4|0)>>2]=27,i[r>>2]=i[5941],i[r+4>>2]=i[5942],i[r+8>>2]=i[5943],i[r+12>>2]=i[5944],i[5941]=a,i[5942]=f,i[5944]=0,i[5943]=r,r=A+24|0;do{m=r,i[(r=r+4|0)>>2]=7}while((m+8|0)>>>0<k>>>0);if((0|A)!=(0|u)){if(a=A-u|0,i[t>>2]=-2&i[t>>2],i[u+4>>2]=1|a,i[A>>2]=a,r=a>>>3,a>>>0<256){t=23356+(r<<1<<2)|0,(A=0|i[5829])&(r=1<<r)?r=0|i[(A=t+8|0)>>2]:(i[5829]=A|r,r=t,A=t+8|0),i[A>>2]=u,i[r+12>>2]=u,i[u+8>>2]=r,i[u+12>>2]=t;break}if(t=23620+((n=(r=a>>>8)?a>>>0>16777215?31:a>>>((n=14-((v=((k=r<<(m=(r+1048320|0)>>>16&8))+520192|0)>>>16&4)|m|(n=((k<<=v)+245760|0)>>>16&2))+(k<<n>>>15)|0)+7|0)&1|n<<1:0)<<2)|0,i[u+28>>2]=n,i[u+20>>2]=0,i[o>>2]=0,!((r=0|i[5830])&(A=1<<n))){i[5830]=r|A,i[t>>2]=u,i[u+24>>2]=t,i[u+12>>2]=u,i[u+8>>2]=u;break}r=0|i[t>>2];e:do{if((-8&i[r+4>>2]|0)!=(0|a)){for(n=a<<(31==(0|n)?0:25-(n>>>1)|0);A=0|i[(t=r+16+(n>>>31<<2)|0)>>2];){if((-8&i[A+4>>2]|0)==(0|a)){r=A;break e}n<<=1,r=A}i[t>>2]=u,i[u+24>>2]=r,i[u+12>>2]=u,i[u+8>>2]=u;break A}}while(0);k=0|i[(m=r+8|0)>>2],i[k+12>>2]=u,i[m>>2]=u,i[u+8>>2]=k,i[u+12>>2]=r,i[u+24>>2]=0}}else 0==(0|(k=0|i[5833]))|a>>>0<k>>>0&&(i[5833]=a),i[5941]=a,i[5942]=f,i[5944]=0,i[5838]=i[5947],i[5837]=-1,i[5842]=23356,i[5841]=23356,i[5844]=23364,i[5843]=23364,i[5846]=23372,i[5845]=23372,i[5848]=23380,i[5847]=23380,i[5850]=23388,i[5849]=23388,i[5852]=23396,i[5851]=23396,i[5854]=23404,i[5853]=23404,i[5856]=23412,i[5855]=23412,i[5858]=23420,i[5857]=23420,i[5860]=23428,i[5859]=23428,i[5862]=23436,i[5861]=23436,i[5864]=23444,i[5863]=23444,i[5866]=23452,i[5865]=23452,i[5868]=23460,i[5867]=23460,i[5870]=23468,i[5869]=23468,i[5872]=23476,i[5871]=23476,i[5874]=23484,i[5873]=23484,i[5876]=23492,i[5875]=23492,i[5878]=23500,i[5877]=23500,i[5880]=23508,i[5879]=23508,i[5882]=23516,i[5881]=23516,i[5884]=23524,i[5883]=23524,i[5886]=23532,i[5885]=23532,i[5888]=23540,i[5887]=23540,i[5890]=23548,i[5889]=23548,i[5892]=23556,i[5891]=23556,i[5894]=23564,i[5893]=23564,i[5896]=23572,i[5895]=23572,i[5898]=23580,i[5897]=23580,i[5900]=23588,i[5899]=23588,i[5902]=23596,i[5901]=23596,i[5904]=23604,i[5903]=23604,m=a+(v=0==(7&(v=a+8|0)|0)?0:0-v&7)|0,v=(k=f+-40|0)-v|0,i[5835]=m,i[5832]=v,i[m+4>>2]=1|v,i[a+k+4>>2]=40,i[5836]=i[5951]}while(0);if((r=0|i[5832])>>>0>c>>>0)return v=r-c|0,i[5832]=v,m=(k=0|i[5835])+c|0,i[5835]=m,i[m+4>>2]=1|v,i[k+4>>2]=3|c,I=e,0|(k=k+8|0)}return i[(k=23312)>>2]=12,I=e,0|(k=0)}function Be(A){var e=0,r=0,t=0,n=0,o=0,a=0,f=0,s=0;if(A|=0){r=A+-8|0,n=0|i[5833],s=r+(e=-8&(A=0|i[A+-4>>2]))|0;do{if(1&A)f=r,a=r;else{if(t=0|i[r>>2],!(3&A))return;if(o=t+e|0,(a=r+(0-t)|0)>>>0<n>>>0)return;if((0|i[5834])==(0|a)){if(3!=(3&(e=0|i[(A=s+4|0)>>2])|0)){f=a,e=o;break}return i[5831]=o,i[A>>2]=-2&e,i[a+4>>2]=1|o,void(i[a+o>>2]=o)}if(r=t>>>3,t>>>0<256){if(A=0|i[a+8>>2],(0|(e=0|i[a+12>>2]))==(0|A)){i[5829]=i[5829]&~(1<<r),f=a,e=o;break}i[A+12>>2]=e,i[e+8>>2]=A,f=a,e=o;break}n=0|i[a+24>>2],A=0|i[a+12>>2];do{if((0|A)==(0|a)){if(A=0|i[(r=(e=a+16|0)+4|0)>>2])e=r;else if(!(A=0|i[e>>2])){A=0;break}for(;;)if(r=0|i[(t=A+20|0)>>2])A=r,e=t;else{if(!(r=0|i[(t=A+16|0)>>2]))break;A=r,e=t}i[e>>2]=0}else f=0|i[a+8>>2],i[f+12>>2]=A,i[A+8>>2]=f}while(0);if(n){if(e=0|i[a+28>>2],(0|i[(r=23620+(e<<2)|0)>>2])==(0|a)){if(i[r>>2]=A,!A){i[5830]=i[5830]&~(1<<e),f=a,e=o;break}}else if(i[((0|i[(f=n+16|0)>>2])==(0|a)?f:n+20|0)>>2]=A,!A){f=a,e=o;break}i[A+24>>2]=n,0|(r=0|i[(e=a+16|0)>>2])&&(i[A+16>>2]=r,i[r+24>>2]=A),(e=0|i[e+4>>2])?(i[A+20>>2]=e,i[e+24>>2]=A,f=a,e=o):(f=a,e=o)}else f=a,e=o}}while(0);if(!(a>>>0>=s>>>0)&&1&(t=0|i[(A=s+4|0)>>2])){if(2&t)i[A>>2]=-2&t,i[f+4>>2]=1|e,i[a+e>>2]=e,n=e;else{if((0|i[5835])==(0|s)){if(s=(0|i[5832])+e|0,i[5832]=s,i[5835]=f,i[f+4>>2]=1|s,(0|f)!=(0|i[5834]))return;return i[5834]=0,void(i[5831]=0)}if((0|i[5834])==(0|s))return s=(0|i[5831])+e|0,i[5831]=s,i[5834]=a,i[f+4>>2]=1|s,void(i[a+s>>2]=s);n=(-8&t)+e|0,r=t>>>3;do{if(t>>>0<256){if(e=0|i[s+8>>2],(0|(A=0|i[s+12>>2]))==(0|e)){i[5829]=i[5829]&~(1<<r);break}i[e+12>>2]=A,i[A+8>>2]=e;break}o=0|i[s+24>>2],A=0|i[s+12>>2];do{if((0|A)==(0|s)){if(A=0|i[(r=(e=s+16|0)+4|0)>>2])e=r;else if(!(A=0|i[e>>2])){r=0;break}for(;;)if(r=0|i[(t=A+20|0)>>2])A=r,e=t;else{if(!(r=0|i[(t=A+16|0)>>2]))break;A=r,e=t}i[e>>2]=0,r=A}else r=0|i[s+8>>2],i[r+12>>2]=A,i[A+8>>2]=r,r=A}while(0);if(0|o){if(A=0|i[s+28>>2],(0|i[(e=23620+(A<<2)|0)>>2])==(0|s)){if(i[e>>2]=r,!r){i[5830]=i[5830]&~(1<<A);break}}else if(i[((0|i[(t=o+16|0)>>2])==(0|s)?t:o+20|0)>>2]=r,!r)break;i[r+24>>2]=o,0|(e=0|i[(A=s+16|0)>>2])&&(i[r+16>>2]=e,i[e+24>>2]=r),0|(A=0|i[A+4>>2])&&(i[r+20>>2]=A,i[A+24>>2]=r)}}while(0);if(i[f+4>>2]=1|n,i[a+n>>2]=n,(0|f)==(0|i[5834]))return void(i[5831]=n)}if(A=n>>>3,n>>>0<256)return r=23356+(A<<1<<2)|0,(e=0|i[5829])&(A=1<<A)?A=0|i[(e=r+8|0)>>2]:(i[5829]=e|A,A=r,e=r+8|0),i[e>>2]=f,i[A+12>>2]=f,i[f+8>>2]=A,void(i[f+12>>2]=r);A=23620+((t=(A=n>>>8)?n>>>0>16777215?31:n>>>((t=14-((o=((s=A<<(a=(A+1048320|0)>>>16&8))+520192|0)>>>16&4)|a|(t=((s<<=o)+245760|0)>>>16&2))+(s<<t>>>15)|0)+7|0)&1|t<<1:0)<<2)|0,i[f+28>>2]=t,i[f+20>>2]=0,i[f+16>>2]=0,e=0|i[5830],r=1<<t;A:do{if(e&r){A=0|i[A>>2];e:do{if((-8&i[A+4>>2]|0)!=(0|n)){for(t=n<<(31==(0|t)?0:25-(t>>>1)|0);e=0|i[(r=A+16+(t>>>31<<2)|0)>>2];){if((-8&i[e+4>>2]|0)==(0|n)){A=e;break e}t<<=1,A=e}i[r>>2]=f,i[f+24>>2]=A,i[f+12>>2]=f,i[f+8>>2]=f;break A}}while(0);s=0|i[(a=A+8|0)>>2],i[s+12>>2]=f,i[a>>2]=f,i[f+8>>2]=s,i[f+12>>2]=A,i[f+24>>2]=0}else i[5830]=e|r,i[A>>2]=f,i[f+24>>2]=A,i[f+12>>2]=f,i[f+8>>2]=f}while(0);if(s=(0|i[5837])-1|0,i[5837]=s,!(0|s)){for(A=23772;A=0|i[A>>2];)A=A+8|0;i[5837]=-1}}}}function be(A,e){e|=0;var r=0;return(A|=0)?(r=0|b(e,A),(e|A)>>>0>65535&&(r=(0|(r>>>0)/(A>>>0))==(0|e)?r:-1)):r=0,(A=0|pe(r))&&3&i[A+-4>>2]?(_e(0|A,0,0|r),0|A):0|A}function ve(A,e,r,t){return 0|(k(0|(t=(e|=0)-(t|=0)-((r|=0)>>>0>(A|=0)>>>0|0)>>>0)),A-r>>>0|0)}function me(A){return 0|((A|=0)?31-(0|m(A^A-1))|0:32)}function ke(A,e,r,t,n){n|=0;var o=0,a=0,f=0,s=0,u=0,l=0,h=0,c=0,d=0,g=0;if(l=A|=0,a=r|=0,f=c=t|=0,!(u=s=e|=0))return o=0!=(0|n),f?o?(i[n>>2]=0|A,i[n+4>>2]=0&e,n=0,0|(k(0|(c=0)),n)):(n=0,0|(k(0|(c=0)),n)):(o&&(i[n>>2]=(l>>>0)%(a>>>0),i[n+4>>2]=0),n=(l>>>0)/(a>>>0)>>>0,0|(k(0|(c=0)),n));o=0==(0|f);do{if(a){if(!o){if((o=(0|m(0|f))-(0|m(0|u))|0)>>>0<=31){a=h=o+1|0,A=l>>>(h>>>0)&(e=o-31>>31)|u<<(f=31-o|0),e&=u>>>(h>>>0),o=0,f=l<<f;break}return n?(i[n>>2]=0|A,i[n+4>>2]=s|0&e,n=0,0|(k(0|(c=0)),n)):(n=0,0|(k(0|(c=0)),n))}if((o=a-1|0)&a|0){a=f=33+(0|m(0|a))-(0|m(0|u))|0,A=(h=32-f|0)-1>>31&u>>>((d=f-32|0)>>>0)|(u<<h|l>>>(f>>>0))&(e=d>>31),e&=u>>>(f>>>0),o=l<<(g=64-f|0)&(s=h>>31),f=(u<<g|l>>>(d>>>0))&s|l<<h&f-33>>31;break}return 0|n&&(i[n>>2]=o&l,i[n+4>>2]=0),1==(0|a)?(g=0|A,0|(k(0|(d=s|0&e)),g)):(d=u>>>((g=0|me(0|a))>>>0)|0,g=u<<32-g|l>>>(g>>>0)|0,0|(k(0|d),g))}if(o)return 0|n&&(i[n>>2]=(u>>>0)%(a>>>0),i[n+4>>2]=0),g=(u>>>0)/(a>>>0)>>>0,0|(k(0|(d=0)),g);if(!l)return 0|n&&(i[n>>2]=0,i[n+4>>2]=(u>>>0)%(f>>>0)),g=(u>>>0)/(f>>>0)>>>0,0|(k(0|(d=0)),g);if(!((o=f-1|0)&f))return 0|n&&(i[n>>2]=0|A,i[n+4>>2]=o&u|0&e),d=0,g=u>>>((0|me(0|f))>>>0),0|(k(0|d),g);if((o=(0|m(0|f))-(0|m(0|u))|0)>>>0<=30){a=e=o+1|0,A=u<<(f=31-o|0)|l>>>(e>>>0),e=u>>>(e>>>0),o=0,f=l<<f;break}return n?(i[n>>2]=0|A,i[n+4>>2]=s|0&e,g=0,0|(k(0|(d=0)),g)):(g=0,0|(k(0|(d=0)),g))}while(0);if(a){u=0|function(A,e,r,t){return 0|(k((e|=0)+(t|=0)+((r=(A|=0)+(r|=0)>>>0)>>>0<A>>>0|0)>>>0|0),0|r)}(0|(h=0|r),0|(l=c|0&t),-1,-1),r=0|M(),s=f,f=0;do{t=s,s=o>>>31|s<<1,o=f|o<<1,ve(0|u,0|r,0|(t=A<<1|t>>>31|0),0|(c=A>>>31|e<<1|0)),f=1&(d=(g=0|M())>>31|((0|g)<0?-1:0)<<1),A=0|ve(0|t,0|c,d&h|0,(((0|g)<0?-1:0)>>31|((0|g)<0?-1:0)<<1)&l|0),e=0|M(),a=a-1|0}while(0!=(0|a));u=s,s=0}else u=f,s=0,f=0;return a=0,0|n&&(i[n>>2]=A,i[n+4>>2]=e),g=-2&(o<<1|0)|f,0|(k(0|(d=(0|o)>>>31|(u|a)<<1|0&(a<<1|o>>>31)|s)),g)}function Me(A,e,r,t){var n,o;return o=I,I=I+16|0,ke(A|=0,e|=0,r|=0,t|=0,n=0|o),I=o,0|(k(0|i[n+4>>2]),0|i[n>>2])}function Qe(A,e,r){return A|=0,e|=0,(0|(r|=0))<32?(k(e>>>r|0),A>>>r|(e&(1<<r)-1)<<32-r):(k(0),e>>>r-32|0)}function ye(A,e,r){return A|=0,e|=0,(0|(r|=0))<32?(k(e<<r|(A&(1<<r)-1<<32-r)>>>32-r|0),A<<r):(k(A<<r-32|0),0)}function Ee(A,e){return e=+e,(A=+A)!=A?+e:e!=e?+A:+v(+A,+e)}function xe(A){return(A=+A)>=0?+a(A+.5):+B(A-.5)}function De(A,e,r){A|=0,e|=0;var n,o,a=0;if((0|(r|=0))>=8192)return x(0|A,0|e,0|r),0|A;if(o=0|A,n=A+r|0,(3&A)==(3&e)){for(;3&A;){if(!r)return 0|o;t[A>>0]=0|t[e>>0],A=A+1|0,e=e+1|0,r=r-1|0}for(a=(r=-4&n|0)-64|0;(0|A)<=(0|a);)i[A>>2]=i[e>>2],i[A+4>>2]=i[e+4>>2],i[A+8>>2]=i[e+8>>2],i[A+12>>2]=i[e+12>>2],i[A+16>>2]=i[e+16>>2],i[A+20>>2]=i[e+20>>2],i[A+24>>2]=i[e+24>>2],i[A+28>>2]=i[e+28>>2],i[A+32>>2]=i[e+32>>2],i[A+36>>2]=i[e+36>>2],i[A+40>>2]=i[e+40>>2],i[A+44>>2]=i[e+44>>2],i[A+48>>2]=i[e+48>>2],i[A+52>>2]=i[e+52>>2],i[A+56>>2]=i[e+56>>2],i[A+60>>2]=i[e+60>>2],A=A+64|0,e=e+64|0;for(;(0|A)<(0|r);)i[A>>2]=i[e>>2],A=A+4|0,e=e+4|0}else for(r=n-4|0;(0|A)<(0|r);)t[A>>0]=0|t[e>>0],t[A+1>>0]=0|t[e+1>>0],t[A+2>>0]=0|t[e+2>>0],t[A+3>>0]=0|t[e+3>>0],A=A+4|0,e=e+4|0;for(;(0|A)<(0|n);)t[A>>0]=0|t[e>>0],A=A+1|0,e=e+1|0;return 0|o}function _e(A,e,r){e|=0;var n,o=0,a=0,f=0;if(n=(A|=0)+(r|=0)|0,e&=255,(0|r)>=67){for(;3&A;)t[A>>0]=e,A=A+1|0;for(f=e|e<<8|e<<16|e<<24,a=(o=-4&n|0)-64|0;(0|A)<=(0|a);)i[A>>2]=f,i[A+4>>2]=f,i[A+8>>2]=f,i[A+12>>2]=f,i[A+16>>2]=f,i[A+20>>2]=f,i[A+24>>2]=f,i[A+28>>2]=f,i[A+32>>2]=f,i[A+36>>2]=f,i[A+40>>2]=f,i[A+44>>2]=f,i[A+48>>2]=f,i[A+52>>2]=f,i[A+56>>2]=f,i[A+60>>2]=f,A=A+64|0;for(;(0|A)<(0|o);)i[A>>2]=f,A=A+4|0}for(;(0|A)<(0|n);)t[A>>0]=e,A=A+1|0;return n-r|0}function Ie(A){return(A=+A)>=0?+a(A+.5):+B(A-.5)}function Fe(A){A|=0;var e,r,t;return t=0|E(),(0|A)>0&(0|(e=(r=0|i[o>>2])+A|0))<(0|r)|(0|e)<0?(_(0|e),y(12),-1):(0|e)>(0|t)&&!(0|D(0|e))?(y(12),-1):(i[o>>2]=e,0|r)}return{___uremdi3:Me,_bitshift64Lshr:Qe,_bitshift64Shl:ye,_calloc:be,_cellAreaKm2:function(A,e){var r,t,n,o=0;if(n=I,I=I+192|0,t=n,OA(A|=0,e|=0,r=n+168|0),jA(A,e,t),(0|(e=0|i[t>>2]))>0){if(o=+_A(t+8|0,t+8+((1!=(0|e)&1)<<4)|0,r)+0,1!=(0|e)){A=1;do{o+=+_A(t+8+(A<<4)|0,t+8+(((0|(A=A+1|0))%(0|e)|0)<<4)|0,r)}while((0|A)<(0|e))}}else o=0;return I=n,6371.007180918475*o*6371.007180918475},_cellAreaM2:function(A,e){var r,t,n,o=0;if(n=I,I=I+192|0,t=n,OA(A|=0,e|=0,r=n+168|0),jA(A,e,t),(0|(e=0|i[t>>2]))>0){if(o=+_A(t+8|0,t+8+((1!=(0|e)&1)<<4)|0,r)+0,1!=(0|e)){A=1;do{o+=+_A(t+8+(A<<4)|0,t+8+(((0|(A=A+1|0))%(0|e)|0)<<4)|0,r)}while((0|A)<(0|e))}}else o=0;return I=n,6371.007180918475*o*6371.007180918475*1e3*1e3},_cellAreaRads2:function(A,e){var r,t,n,o=0;if(n=I,I=I+192|0,t=n,OA(A|=0,e|=0,r=n+168|0),jA(A,e,t),(0|(e=0|i[t>>2]))<=0)return I=n,+(o=0);if(o=+_A(t+8|0,t+8+((1!=(0|e)&1)<<4)|0,r)+0,1==(0|e))return I=n,+o;A=1;do{o+=+_A(t+8+(A<<4)|0,t+8+(((0|(A=A+1|0))%(0|e)|0)<<4)|0,r)}while((0|A)<(0|e));return I=n,+o},_compact:function(A,e,r){e|=0;var t,n=0,o=0,a=0,f=0,s=0,u=0,l=0,h=0,c=0,d=0,g=0,w=0,p=0,B=0,b=0,v=0,m=0,k=0,Q=0,y=0,E=0;if(!(r|=0))return 0|(y=0);if(n=0|i[(o=A|=0)>>2],!0&0==(15728640&(o=0|i[o+4>>2])|0)){if((0|r)<=0)return 0|(y=0);if(i[(y=e)>>2]=n,i[y+4>>2]=o,1==(0|r))return 0|(y=0);n=1;do{Q=0|i[(k=A+(n<<3)|0)+4>>2],i[(y=e+(n<<3)|0)>>2]=i[k>>2],i[y+4>>2]=Q,n=n+1|0}while((0|n)!=(0|r));return 0|(n=0)}if(!(Q=0|pe(k=r<<3)))return 0|(y=-3);if(De(0|Q,0|A,0|k),!(t=0|be(r,8)))return Be(Q),0|(y=-3);n=r;A:for(;;){v=0|Qe(0|(h=0|i[(f=Q)>>2]),0|(f=0|i[f+4>>2]),52),M(),m=(v&=15)+-1|0,b=(0|n)>0;e:do{if(b){if(B=((0|n)<0)<<31>>31,w=0|ye(0|m,0,52),p=0|M(),m>>>0>15)for(o=0,A=h,r=f;;){if(!(0==(0|A)&0==(0|r))){if(a=0|Qe(0|A,0|r,52),M(),s=(0|(a&=15))<(0|m),a=(0|a)==(0|m),r=0|Me(0|(l=s?0:a?A:0),0|(A=s?0:a?r:0),0|n,0|B),M(),0==(0|(u=0|i[(s=a=t+(r<<3)|0)>>2]))&0==(0|(s=0|i[s+4>>2])))r=l;else for(w=0,g=r,d=s,r=l;;){if((0|w)>(0|n)){y=41;break A}if((0|u)==(0|r)&(-117440513&d|0)==(0|A)){l=0|Qe(0|u,0|d,56),M(),c=(l&=7)+1|0,p=0|Qe(0|u,0|d,45),M();r:do{if(0|S(127&p)){if(u=0|Qe(0|u,0|d,52),M(),!(u&=15)){s=6;break}for(s=1;;){if(!(0==((p=0|ye(7,0,3*(15-s|0)|0))&r|0)&0==((0|M())&A|0))){s=7;break r}if(!(s>>>0<u>>>0)){s=6;break}s=s+1|0}}else s=7}while(0);if((l+2|0)>>>0>s>>>0){y=51;break A}p=0|ye(0|c,0,56),A=0|M()|-117440513&A,i[(s=a)>>2]=0,i[s+4>>2]=0,s=g,r|=p}else s=(g+1|0)%(0|n)|0;if(0==(0|(u=0|i[(d=a=t+(s<<3)|0)>>2]))&0==(0|(d=0|i[d+4>>2])))break;w=w+1|0,g=s}i[(p=a)>>2]=r,i[p+4>>2]=A}if((0|(o=o+1|0))>=(0|n))break e;A=0|i[(r=Q+(o<<3)|0)>>2],r=0|i[r+4>>2]}for(o=0,A=h,r=f;;){if(!(0==(0|A)&0==(0|r))){if(s=0|Qe(0|A,0|r,52),M(),(0|(s&=15))>=(0|m)){if((0|s)!=(0|m)&&(A|=w,r=-15728641&r|p,s>>>0>=v>>>0)){a=m;do{g=0|ye(7,0,3*(14-a|0)|0),a=a+1|0,A|=g,r=0|M()|r}while(a>>>0<s>>>0)}}else A=0,r=0;if(s=0|Me(0|A,0|r,0|n,0|B),M(),!(0==(0|(l=0|i[(u=a=t+(s<<3)|0)>>2]))&0==(0|(u=0|i[u+4>>2]))))for(g=0;;){if((0|g)>(0|n)){y=41;break A}if((0|l)==(0|A)&(-117440513&u|0)==(0|r)){c=0|Qe(0|l,0|u,56),M(),d=(c&=7)+1|0,E=0|Qe(0|l,0|u,45),M();r:do{if(0|S(127&E)){if(l=0|Qe(0|l,0|u,52),M(),!(l&=15)){u=6;break}for(u=1;;){if(!(0==((E=0|ye(7,0,3*(15-u|0)|0))&A|0)&0==((0|M())&r|0))){u=7;break r}if(!(u>>>0<l>>>0)){u=6;break}u=u+1|0}}else u=7}while(0);if((c+2|0)>>>0>u>>>0){y=51;break A}E=0|ye(0|d,0,56),r=0|M()|-117440513&r,i[(d=a)>>2]=0,i[d+4>>2]=0,A|=E}else s=(s+1|0)%(0|n)|0;if(0==(0|(l=0|i[(u=a=t+(s<<3)|0)>>2]))&0==(0|(u=0|i[u+4>>2])))break;g=g+1|0}i[(E=a)>>2]=A,i[E+4>>2]=r}if((0|(o=o+1|0))>=(0|n))break e;A=0|i[(r=Q+(o<<3)|0)>>2],r=0|i[r+4>>2]}}}while(0);if((n+5|0)>>>0<11){y=99;break}if(!(p=0|be((0|n)/6|0,8))){y=58;break}e:do{if(b){g=0,d=0;do{if(!(0==(0|(o=0|i[(A=s=t+(g<<3)|0)>>2]))&0==(0|(A=0|i[A+4>>2])))){u=0|Qe(0|o,0|A,56),M(),r=(u&=7)+1|0,l=-117440513&A,E=0|Qe(0|o,0|A,45),M();r:do{if(0|S(127&E)){if(c=0|Qe(0|o,0|A,52),M(),0|(c&=15))for(a=1;;){if(!(0==(o&(E=0|ye(7,0,3*(15-a|0)|0))|0)&0==(l&(0|M())|0)))break r;if(!(a>>>0<c>>>0))break;a=a+1|0}o|=A=0|ye(0|r,0,56),A=0|M()|l,i[(r=s)>>2]=o,i[r+4>>2]=A,r=u+2|0}}while(0);7==(0|r)&&(i[(E=p+(d<<3)|0)>>2]=o,i[E+4>>2]=-117440513&A,d=d+1|0)}g=g+1|0}while((0|g)!=(0|n));if(b){if(w=((0|n)<0)<<31>>31,c=0|ye(0|m,0,52),g=0|M(),m>>>0>15)for(A=0,o=0;;){do{if(!(0==(0|h)&0==(0|f))){for(u=0|Qe(0|h,0|f,52),M(),a=(0|(u&=15))<(0|m),u=(0|u)==(0|m),a=0|Me(0|(s=a?0:u?h:0),0|(u=a?0:u?f:0),0|n,0|w),M(),r=0;;){if((0|r)>(0|n)){y=98;break A}if((-117440513&(l=0|i[(E=t+(a<<3)|0)+4>>2])|0)==(0|u)&&(0|i[E>>2])==(0|s)){y=70;break}if((0|i[(E=t+((a=(a+1|0)%(0|n)|0)<<3)|0)>>2])==(0|s)&&(0|i[E+4>>2])==(0|u))break;r=r+1|0}if(70==(0|y)&&(y=0,!0&100663296==(117440512&l|0)))break;i[(E=e+(o<<3)|0)>>2]=h,i[E+4>>2]=f,o=o+1|0}}while(0);if((0|(A=A+1|0))>=(0|n)){n=d;break e}h=0|i[(f=Q+(A<<3)|0)>>2],f=0|i[f+4>>2]}for(A=0,o=0;;){do{if(!(0==(0|h)&0==(0|f))){if(u=0|Qe(0|h,0|f,52),M(),(0|(u&=15))>=(0|m))if((0|u)!=(0|m))if(r=h|c,a=-15728641&f|g,u>>>0<v>>>0)u=a;else{s=m;do{E=0|ye(7,0,3*(14-s|0)|0),s=s+1|0,r|=E,a=0|M()|a}while(s>>>0<u>>>0);u=a}else r=h,u=f;else r=0,u=0;for(s=0|Me(0|r,0|u,0|n,0|w),M(),a=0;;){if((0|a)>(0|n)){y=98;break A}if((-117440513&(l=0|i[(E=t+(s<<3)|0)+4>>2])|0)==(0|u)&&(0|i[E>>2])==(0|r)){y=93;break}if((0|i[(E=t+((s=(s+1|0)%(0|n)|0)<<3)|0)>>2])==(0|r)&&(0|i[E+4>>2])==(0|u))break;a=a+1|0}if(93==(0|y)&&(y=0,!0&100663296==(117440512&l|0)))break;i[(E=e+(o<<3)|0)>>2]=h,i[E+4>>2]=f,o=o+1|0}}while(0);if((0|(A=A+1|0))>=(0|n)){n=d;break e}h=0|i[(f=Q+(A<<3)|0)>>2],f=0|i[f+4>>2]}}else o=0,n=d}else o=0,n=0}while(0);if(_e(0|t,0,0|k),De(0|Q,0|p,n<<3|0),Be(p),!n)break;e=e+(o<<3)|0}return 41==(0|y)?(Be(Q),Be(t),0|(E=-1)):51==(0|y)?(Be(Q),Be(t),0|(E=-2)):58==(0|y)?(Be(Q),Be(t),0|(E=-3)):98==(0|y)?(Be(p),Be(Q),Be(t),0|(E=-1)):(99==(0|y)&&De(0|e,0|Q,n<<3|0),Be(Q),Be(t),0|(E=0))},_destroyLinkedPolygon:function(A){var e=0,r=0,t=0,n=0;if(A|=0)for(t=1;;){if(0|(e=0|i[A>>2]))do{if(0|(r=0|i[e>>2]))do{n=r,r=0|i[r+16>>2],Be(n)}while(0!=(0|r));n=e,e=0|i[e+8>>2],Be(n)}while(0!=(0|e));if(e=A,A=0|i[A+8>>2],t||Be(e),!A)break;t=0}},_edgeLengthKm:function(A){return+ +n[20752+((A|=0)<<3)>>3]},_edgeLengthM:function(A){return+ +n[20880+((A|=0)<<3)>>3]},_emscripten_replace_memory:function(A){return t=new Int8Array(A),new Uint8Array(A),i=new Int32Array(A),new Float32Array(A),n=new Float64Array(A),r=A,!0},_exactEdgeLengthKm:function(A,e){var r,t,o=0,a=0,f=0,u=0,c=0,d=0;if(t=I,I=I+176|0,WA(A|=0,e|=0,r=t),(0|(A=0|i[r>>2]))<=1)return I=t,+(f=0);e=A+-1|0,A=0,o=0,a=+n[r+8>>3],f=+n[r+16>>3];do{c=a,a=+n[r+8+((A=A+1|0)<<4)>>3],d=+h(.5*(a-c)),u=f,f=+n[r+8+(A<<4)+8>>3],u=d*d+(u=+h(.5*(f-u)))*(+l(+c)*+l(+a)*u),o+=2*+p(+ +s(+u),+ +s(+(1-u)))}while((0|A)!=(0|e));return I=t,+(d=6371.007180918475*o)},_exactEdgeLengthM:function(A,e){var r,t,o=0,a=0,f=0,u=0,c=0,d=0;if(t=I,I=I+176|0,WA(A|=0,e|=0,r=t),(0|(A=0|i[r>>2]))<=1)return I=t,+(f=0);e=A+-1|0,A=0,o=0,a=+n[r+8>>3],f=+n[r+16>>3];do{c=a,a=+n[r+8+((A=A+1|0)<<4)>>3],d=+h(.5*(a-c)),u=f,f=+n[r+8+(A<<4)+8>>3],u=d*d+(u=+h(.5*(f-u)))*(+l(+c)*+l(+a)*u),o+=2*+p(+ +s(+u),+ +s(+(1-u)))}while((0|A)!=(0|e));return I=t,+(d=6371.007180918475*o*1e3)},_exactEdgeLengthRads:function(A,e){var r,t,o=0,a=0,f=0,u=0,c=0,d=0;if(t=I,I=I+176|0,WA(A|=0,e|=0,r=t),(0|(A=0|i[r>>2]))<=1)return I=t,+(f=0);e=A+-1|0,A=0,o=0,a=+n[r+8>>3],f=+n[r+16>>3];do{c=a,a=+n[r+8+((A=A+1|0)<<4)>>3],d=+h(.5*(a-c)),u=f,f=+n[r+8+(A<<4)+8>>3],u=d*d+(u=+h(.5*(f-u)))*(+l(+a)*+l(+c)*u),o+=2*+p(+ +s(+u),+ +s(+(1-u)))}while((0|A)<(0|e));return I=t,+o},_experimentalH3ToLocalIj:function(A,e,r,t,i){var n,o;return i|=0,o=I,I=I+16|0,(A=0|$A(A|=0,e|=0,r|=0,t|=0,n=o))||(cA(n,i),A=0),I=o,0|A},_experimentalLocalIjToH3:function(A,e,r,t){var i,n;return A|=0,e|=0,t|=0,i=I,I=I+16|0,dA(r|=0,n=i),t=0|Ae(A,e,n,t),I=i,0|t},_free:Be,_geoToH3:LA,_getDestinationH3IndexFromUnidirectionalEdge:function(A,e){A|=0;var r,t,n=0;return r=I,I=I+16|0,n=r,!0&268435456==(2013265920&(e|=0)|0)?(t=0|Qe(0|A,0|e,56),M(),i[n>>2]=0,n=0|U(A,-2130706433&e|134217728,7&t,n),e=0|M(),k(0|e),I=r,0|n):(n=0,k(0|(e=0)),I=r,0|n)},_getH3IndexesFromUnidirectionalEdge:function(A,e,r){A|=0;var t,n,o,a,f=0;o=I,I=I+16|0,t=o,a=!0&268435456==(2013265920&(e|=0)|0),n=-2130706433&e|134217728,i[(f=r|=0)>>2]=a?A:0,i[f+4>>2]=a?n:0,a?(e=0|Qe(0|A,0|e,56),M(),i[t>>2]=0,A=0|U(A,n,7&e,t),e=0|M()):(A=0,e=0),i[(f=r+8|0)>>2]=A,i[f+4>>2]=e,I=o},_getH3UnidirectionalEdge:function(A,e,r,t){var n,o,a=0,f=0,s=0,u=0,l=0;if(o=I,I=I+16|0,n=o,!(0|ZA(A|=0,e|=0,r|=0,t|=0)))return u=0,k(0|(s=0)),I=o,0|u;for(s=-2130706433&e,a=(a=0==(0|UA(A,e)))?1:2;i[n>>2]=0,f=a+1|0,!((0|(l=0|U(A,e,a,n)))==(0|r)&(0|M())==(0|t));){if(!(f>>>0<7)){a=0,A=0,u=6;break}a=f}return 6==(0|u)?(k(0|a),I=o,0|A):(l=0|ye(0|a,0,56),u=0|s|M()|268435456,l|=A,k(0|u),I=o,0|l)},_getH3UnidirectionalEdgeBoundary:WA,_getH3UnidirectionalEdgesFromHexagon:function(A,e,r){r|=0;var t,n=0;t=0==(0|UA(A|=0,e|=0)),e&=-2130706433,i[(n=r)>>2]=t?A:0,i[n+4>>2]=t?285212672|e:0,i[(n=r+8|0)>>2]=A,i[n+4>>2]=301989888|e,i[(n=r+16|0)>>2]=A,i[n+4>>2]=318767104|e,i[(n=r+24|0)>>2]=A,i[n+4>>2]=335544320|e,i[(n=r+32|0)>>2]=A,i[n+4>>2]=352321536|e,i[(r=r+40|0)>>2]=A,i[r+4>>2]=369098752|e},_getOriginH3IndexFromUnidirectionalEdge:function(A,e){var r;return A|=0,k(0|((r=!0&268435456==(2013265920&(e|=0)|0))?-2130706433&e|134217728:0)),0|(r?A:0)},_getPentagonIndexes:NA,_getRes0Indexes:function(A){A|=0;var e=0,r=0,t=0;e=0;do{ye(0|e,0,45),t=134225919|M(),i[(r=A+(e<<3)|0)>>2]=-1,i[r+4>>2]=t,e=e+1|0}while(122!=(0|e))},_h3Distance:function(A,e,r,t){var i,n,o;return r|=0,t|=0,o=I,I=I+32|0,n=o,A=0==(0|$A(A|=0,e|=0,A,e,i=o+12|0))&&0==(0|$A(A,e,r,t,n))?0|hA(i,n):-1,I=o,0|A},_h3GetBaseCell:IA,_h3GetFaces:function A(e,r,t){t|=0;var n,o=0,a=0,f=0,s=0,u=0,l=0,h=0,c=0;n=I,I=I+128|0,h=n+112|0,f=n+96|0,c=n,a=0|Qe(0|(e|=0),0|(r|=0),52),M(),u=15&a,i[h>>2]=u,s=0|Qe(0|e,0|r,45),M(),s&=127;A:do{if(0|S(s)){if(0|u)for(o=1;;){if(!(0==((l=0|ye(7,0,3*(15-o|0)|0))&e|0)&0==((0|M())&r|0))){a=0;break A}if(!(o>>>0<u>>>0))break;o=o+1|0}if(!(1&a))return l=0|ye(u+1|0,0,52),c=0|M()|-15728641&r,A((l|e)&~(h=0|ye(7,0,3*(14-u|0)|0)),c&~(0|M()),t),void(I=n);a=1}else a=0}while(0);YA(e,r,f),a?(mA(f,h,c),l=5):(yA(f,h,c),l=6);A:do{if(0|S(s))if(u)for(o=1;;){if(!(0==((s=0|ye(7,0,3*(15-o|0)|0))&e|0)&0==((0|M())&r|0))){o=8;break A}if(!(o>>>0<u>>>0)){o=20;break}o=o+1|0}else o=20;else o=8}while(0);if(_e(0|t,-1,0|o),a){a=0;do{for(MA(f=c+(a<<4)|0,0|i[h>>2]),f=0|i[f>>2],o=0;!(-1==(0|(u=0|i[(s=t+(o<<2)|0)>>2]))|(0|u)==(0|f));)o=o+1|0;i[s>>2]=f,a=a+1|0}while((0|a)!=(0|l))}else{a=0;do{for(kA(f=c+(a<<4)|0,0|i[h>>2],0,1),f=0|i[f>>2],o=0;!(-1==(0|(u=0|i[(s=t+(o<<2)|0)>>2]))|(0|u)==(0|f));)o=o+1|0;i[s>>2]=f,a=a+1|0}while((0|a)!=(0|l))}I=n},_h3GetResolution:function(A,e){return e=0|Qe(0|(A|=0),0|(e|=0),52),M(),15&e|0},_h3IndexesAreNeighbors:ZA,_h3IsPentagon:UA,_h3IsResClassIII:function(A,e){return e=0|Qe(0|(A|=0),0|(e|=0),52),M(),1&e|0},_h3IsValid:FA,_h3Line:function(A,e,r,t,n){r|=0,t|=0,n|=0;var o,a=0,s=0,u=0,l=0,h=0,c=0,d=0,g=0,w=0,p=0,B=0,b=0,v=0,m=0,k=0,M=0,Q=0;if(o=I,I=I+48|0,s=o+12|0,M=o,0==(0|$A(A|=0,e|=0,A,e,a=o+24|0))&&0==(0|$A(A,e,r,t,s))){if((0|(k=0|hA(a,s)))<0)return I=o,0|(M=k);for(i[a>>2]=0,i[a+4>>2]=0,i[a+8>>2]=0,i[s>>2]=0,i[s+4>>2]=0,i[s+8>>2]=0,$A(A,e,A,e,a),$A(A,e,r,t,s),gA(a),gA(s),k?(w=+(0|k),m=a,r=c=0|i[a>>2],t=d=0|i[(b=a+4|0)>>2],a=g=0|i[(v=a+8|0)>>2],p=+((0|i[s>>2])-c|0)/w,B=+((0|i[s+4>>2])-d|0)/w,w=+((0|i[s+8>>2])-g|0)/w):(b=t=a+4|0,v=g=a+8|0,m=a,r=0|i[a>>2],t=0|i[t>>2],a=0|i[g>>2],p=0,B=0,w=0),i[M>>2]=r,i[(g=M+4|0)>>2]=t,i[(d=M+8|0)>>2]=a,c=0;;){Q=p*(l=+(0|c))+ +(0|r),u=B*l+ +(0|i[b>>2]),l=w*l+ +(0|i[v>>2]),t=~~+xe(+Q),s=~~+xe(+u),r=~~+xe(+l),Q=+f(+(+(0|t)-Q)),u=+f(+(+(0|s)-u)),l=+f(+(+(0|r)-l));do{if(!(Q>u&Q>l)){if(h=0-t|0,u>l){a=h-r|0;break}a=s,r=h-s|0;break}t=0-(s+r)|0,a=s}while(0);if(i[M>>2]=t,i[g>>2]=a,i[d>>2]=r,wA(M),Ae(A,e,M,n+(c<<3)|0),(0|c)==(0|k))break;c=c+1|0,r=0|i[m>>2]}return I=o,0|(M=0)}return I=o,0|(M=-1)},_h3LineSize:function(A,e,r,t){var i,n,o;return r|=0,t|=0,o=I,I=I+32|0,n=o,A=0==(0|$A(A|=0,e|=0,A,e,i=o+12|0))&&0==(0|$A(A,e,r,t,n))?0|hA(i,n):-1,I=o,(A>>>31^1)+A|0},_h3SetToLinkedGeo:function(A,e,r){r|=0;var t,n,o,a=0;if(o=I,I=I+32|0,t=o,function(A,e,r){A|=0,r|=0;var t,n,o=0,a=0,f=0,s=0,u=0;if(n=I,I=I+176|0,t=n,(0|(e|=0))<1)return se(r,0,0),void(I=n);s=0|Qe(0|i[(s=A)>>2],0|i[s+4>>2],52),M(),se(r,(0|e)>6?e:6,15&s),s=0;do{if(jA(0|i[(o=A+(s<<3)|0)>>2],0|i[o+4>>2],t),(0|(o=0|i[t>>2]))>0){u=0;do{f=t+8+(u<<4)|0,(a=0|de(r,o=t+8+(((0|(u=u+1|0))%(0|o)|0)<<4)|0,f))?he(r,a):ce(r,f,o),o=0|i[t>>2]}while((0|u)<(0|o))}s=s+1|0}while((0|s)!=(0|e));I=n}(A|=0,e|=0,n=o+16|0),i[r>>2]=0,i[r+4>>2]=0,i[r+8>>2]=0,!(A=0|le(n)))return XA(r),ue(n),void(I=o);do{e=0|JA(r);do{KA(e,A),a=A+16|0,i[t>>2]=i[a>>2],i[t+4>>2]=i[a+4>>2],i[t+8>>2]=i[a+8>>2],i[t+12>>2]=i[a+12>>2],he(n,A),A=0|ge(n,t)}while(0!=(0|A));A=0|le(n)}while(0!=(0|A));XA(r),ue(n),I=o},_h3ToCenterChild:function(A,e,r){r|=0;var t=0,i=0;if(t=0|Qe(0|(A|=0),0|(e|=0),52),M(),(0|r)<16&(0|(t&=15))<=(0|r)){if((0|t)!=(0|r)&&(A|=i=0|ye(0|r,0,52),e=0|M()|-15728641&e,(0|t)<(0|r)))do{i=0|ye(7,0,3*(14-t|0)|0),t=t+1|0,A&=~i,e&=~(0|M())}while((0|t)<(0|r))}else e=0,A=0;return k(0|e),0|A},_h3ToChildren:PA,_h3ToGeo:OA,_h3ToGeoBoundary:jA,_h3ToParent:CA,_h3UnidirectionalEdgeIsValid:function(A,e){var r=0;if(!(!0&268435456==(2013265920&(e|=0)|0)))return 0|(r=0);switch(r=0|Qe(0|(A|=0),0|e,56),M(),7&r){case 0:case 7:return 0|(r=0)}return!0&16777216==(117440512&e|0)&0!=(0|UA(A,r=-2130706433&e|134217728))?0|(r=0):0|(r=0|FA(A,r))},_hexAreaKm2:function(A){return+ +n[20496+((A|=0)<<3)>>3]},_hexAreaM2:function(A){return+ +n[20624+((A|=0)<<3)>>3]},_hexRing:function(A,e,r,t){A|=0,e|=0,t|=0;var n,o=0,a=0,f=0,s=0,u=0,l=0,h=0;if(n=I,I=I+16|0,h=n,!(r|=0))return i[(h=t)>>2]=A,i[h+4>>2]=e,I=n,0|(h=0);i[h>>2]=0;A:do{if(0|UA(A,e))A=1;else{if(a=(0|r)>0){o=0,l=A;do{if(0==(0|(l=0|U(l,e,4,h)))&0==(0|(e=0|M()))){A=2;break A}if(o=o+1|0,0|UA(l,e)){A=1;break A}}while((0|o)<(0|r));if(i[(u=t)>>2]=l,i[u+4>>2]=e,u=r+-1|0,a){a=0,f=1,o=l,A=e;do{if(0==(0|(o=0|U(o,A,2,h)))&0==(0|(A=0|M()))){A=2;break A}if(i[(s=t+(f<<3)|0)>>2]=o,i[s+4>>2]=A,f=f+1|0,0|UA(o,A)){A=1;break A}a=a+1|0}while((0|a)<(0|r));s=0,a=f;do{if(0==(0|(o=0|U(o,A,3,h)))&0==(0|(A=0|M()))){A=2;break A}if(i[(f=t+(a<<3)|0)>>2]=o,i[f+4>>2]=A,a=a+1|0,0|UA(o,A)){A=1;break A}s=s+1|0}while((0|s)<(0|r));f=0;do{if(0==(0|(o=0|U(o,A,1,h)))&0==(0|(A=0|M()))){A=2;break A}if(i[(s=t+(a<<3)|0)>>2]=o,i[s+4>>2]=A,a=a+1|0,0|UA(o,A)){A=1;break A}f=f+1|0}while((0|f)<(0|r));f=0;do{if(0==(0|(o=0|U(o,A,5,h)))&0==(0|(A=0|M()))){A=2;break A}if(i[(s=t+(a<<3)|0)>>2]=o,i[s+4>>2]=A,a=a+1|0,0|UA(o,A)){A=1;break A}f=f+1|0}while((0|f)<(0|r));f=0;do{if(0==(0|(o=0|U(o,A,4,h)))&0==(0|(A=0|M()))){A=2;break A}if(i[(s=t+(a<<3)|0)>>2]=o,i[s+4>>2]=A,a=a+1|0,0|UA(o,A)){A=1;break A}f=f+1|0}while((0|f)<(0|r));for(f=0;;){if(0==(0|(o=0|U(o,A,6,h)))&0==(0|(A=0|M()))){A=2;break A}if((0|f)!=(0|u)){if(i[(s=t+(a<<3)|0)>>2]=o,i[s+4>>2]=A,0|UA(o,A)){A=1;break A}a=a+1|0}if((0|(f=f+1|0))>=(0|r)){f=l,a=e;break}}}else f=l,o=l,a=e,A=e}else i[(f=t)>>2]=A,i[f+4>>2]=e,f=A,o=A,a=e,A=e;A=1&((0|f)!=(0|o)|(0|a)!=(0|A))}}while(0);return I=n,0|(h=A)},_i64Subtract:ve,_kRing:F,_kRingDistances:function(A,e,r,t,i){var n;if(0|C(A|=0,e|=0,r|=0,t|=0,i|=0)){if(_e(0|t,0,(n=1+(0|b(3*r|0,r+1|0))|0)<<3|0),0|i)return _e(0|i,0,n<<2|0),void P(A,e,r,t,i,n,0);(i=0|be(n,4))&&(P(A,e,r,t,i,n,0),Be(i))}},_llvm_minnum_f64:Ee,_llvm_round_f64:xe,_malloc:pe,_maxFaceCount:function(A,e){var r=0,t=0;if(t=0|Qe(0|(A|=0),0|(e|=0),45),M(),!(0|S(127&t)))return 0|(t=2);if(t=0|Qe(0|A,0|e,52),M(),!(t&=15))return 0|(t=5);for(r=1;;){if(!(0==((0|ye(7,0,3*(15-r|0)|0))&A|0)&0==((0|M())&e|0))){r=2,A=6;break}if(!(r>>>0<t>>>0)){r=5,A=6;break}r=r+1|0}return 6==(0|A)?0|r:0},_maxH3ToChildrenSize:function(A,e,r){return r|=0,A=0|Qe(0|(A|=0),0|(e|=0),52),M(),(0|r)<16&(0|(A&=15))<=(0|r)?0|(r=0|ee(7,r-A|0)):0|(r=0)},_maxKringSize:function(A){return 1+(0|b(3*(A|=0)|0,A+1|0))|0},_maxPolyfillSize:function(A,e){e|=0;var r,t=0,n=0,o=0,a=0,f=0;if(r=I,I=I+48|0,o=r+8|0,n=r,a=0|i[(f=A|=0)+4>>2],i[(t=n)>>2]=i[f>>2],i[t+4>>2]=a,te(n,o),o=0|j(o,e),e=0|i[n>>2],(0|(n=0|i[A+8>>2]))<=0)return I=r,0|(f=(f=(a=(0|o)<(0|(f=e)))?f:o)+12|0);t=0|i[A+12>>2],A=0;do{e=(0|i[t+(A<<3)>>2])+e|0,A=A+1|0}while((0|A)<(0|n));return I=r,0|(f=(f=(f=(0|o)<(0|e))?e:o)+12|0)},_maxUncompactSize:function(A,e,r){A|=0,r|=0;var t=0,n=0,o=0,a=0;if((0|(e|=0))<=0)return 0|(r=0);if((0|r)>=16){for(t=0;;){if(!(0==(0|i[(a=A+(t<<3)|0)>>2])&0==(0|i[a+4>>2]))){t=-1,n=13;break}if((0|(t=t+1|0))>=(0|e)){t=0,n=13;break}}if(13==(0|n))return 0|t}t=0,a=0;A:for(;;){o=0|i[(n=A+(a<<3)|0)>>2],n=0|i[n+4>>2];do{if(!(0==(0|o)&0==(0|n))){if(n=0|Qe(0|o,0|n,52),M(),(0|(n&=15))>(0|r)){t=-1,n=13;break A}if((0|n)==(0|r)){t=t+1|0;break}t=(0|ee(7,r-n|0))+t|0;break}}while(0);if((0|(a=a+1|0))>=(0|e)){n=13;break}}return 13==(0|n)?0|t:0},_memcpy:De,_memset:_e,_numHexagons:function(A){var e;return A=0|i[(e=21008+((A|=0)<<3)|0)>>2],k(0|i[e+4>>2]),0|A},_pentagonIndexCount:function(){return 12},_pointDistKm:DA,_pointDistM:function(A,e){A|=0;var r,t,i,o=0;return t=+n[(e|=0)>>3],r=+n[A>>3],o=(i=+h(.5*(t-r)))*i+(o=+h(.5*(+n[e+8>>3]-+n[A+8>>3])))*(+l(+t)*+l(+r)*o),2*+p(+ +s(+o),+ +s(+(1-o)))*6371.007180918475*1e3},_pointDistRads:function(A,e){A|=0;var r,t,i,o=0;return t=+n[(e|=0)>>3],r=+n[A>>3],o=(i=+h(.5*(t-r)))*i+(o=+h(.5*(+n[e+8>>3]-+n[A+8>>3])))*(+l(+t)*+l(+r)*o),2*+p(+ +s(+o),+ +s(+(1-o)))},_polyfill:function(A,e,r){var t,n=0,o=0,a=0,f=0,s=0;if(t=I,I=I+48|0,n=t+8|0,o=t,0|function(A,e,r){e|=0,r|=0;var t=0,n=0,o=0,a=0,f=0,s=0,u=0,l=0,h=0,c=0,d=0,g=0,w=0,p=0,B=0,b=0,v=0,m=0,k=0,y=0,E=0,x=0,D=0,_=0,F=0,U=0,S=0,T=0,V=0,H=0;H=I,I=I+112|0,U=H+80|0,s=H+72|0,S=H,T=H+56|0,(V=0|pe(32+(i[(u=(A=A|0)+8|0)>>2]<<5)|0))||Q(22848,22448,800,22456);if(ie(A,V),t=0|i[(o=A)+4>>2],i[(f=s)>>2]=i[o>>2],i[f+4>>2]=t,te(s,U),f=0|j(U,e),t=0|i[s>>2],(0|(o=0|i[u>>2]))>0){a=0|i[A+12>>2],n=0;do{t=(0|i[a+(n<<3)>>2])+t|0,n=n+1|0}while((0|n)!=(0|o))}if(n=0|be(F=(f=(0|f)<(0|t)?t:f)+12|0,8),l=0|be(F,8),i[U>>2]=0,_=0|i[(D=A)+4>>2],i[(t=s)>>2]=i[D>>2],i[t+4>>2]=_,0|(t=0|G(s,F,e,U,n,l)))return Be(n),Be(l),Be(V),I=H,0|(V=t);A:do{if((0|i[u>>2])>0){for(o=A+12|0,t=0;a=0|G((0|i[o>>2])+(t<<3)|0,F,e,U,n,l),t=t+1|0,!(0|a);)if((0|t)>=(0|i[u>>2]))break A;return Be(n),Be(l),Be(V),I=H,0|(V=a)}}while(0);(0|f)>-12&&_e(0|l,0,((0|F)>1?F:1)<<3|0);A:do{if((0|i[U>>2])>0){_=((0|F)<0)<<31>>31,m=n,k=l,y=n,E=n,x=l,D=n,t=n,p=n,B=l,b=l,v=l,n=l;e:for(;;){for(w=0|i[U>>2],d=0,g=0,o=0;;){f=(a=S)+56|0;do{i[a>>2]=0,a=a+4|0}while((0|a)<(0|f));if(0|C(s=0|i[(e=m+(d<<3)|0)>>2],e=0|i[e+4>>2],1,S,0)){f=(a=S)+56|0;do{i[a>>2]=0,a=a+4|0}while((0|a)<(0|f));0|(a=0|be(7,4))&&(P(s,e,1,S,a,7,0),Be(a))}c=0;do{l=0|i[(h=S+(c<<3)|0)>>2],h=0|i[h+4>>2];r:do{if(!(0==(0|l)&0==(0|h))){if(s=0|Me(0|l,0|h,0|F,0|_),M(),!(0==(0|(e=0|i[(f=a=r+(s<<3)|0)>>2]))&0==(0|(f=0|i[f+4>>2]))))for(u=0;;){if((0|u)>(0|F))break e;if((0|e)==(0|l)&(0|f)==(0|h))break r;if(0==(0|(e=0|i[(f=a=r+((s=(s+1|0)%(0|F)|0)<<3)|0)>>2]))&0==(0|(f=0|i[f+4>>2])))break;u=u+1|0}0==(0|l)&0==(0|h)||(OA(l,h,T),0|ne(A,V,T)&&(i[(u=a)>>2]=l,i[u+4>>2]=h,i[(u=k+(o<<3)|0)>>2]=l,i[u+4>>2]=h,o=o+1|0))}}while(0);c=c+1|0}while(c>>>0<7);if((0|(g=g+1|0))>=(0|w))break;d=d+1|0}if((0|w)>0&&_e(0|y,0,w<<3|0),i[U>>2]=o,!((0|o)>0))break A;l=n,h=v,c=D,d=b,g=B,w=k,n=p,v=t,b=E,B=y,p=l,t=h,D=x,x=c,E=d,y=g,k=m,m=w}return Be(E),Be(x),Be(V),I=H,0|(V=-1)}t=l}while(0);return Be(V),Be(n),Be(t),I=H,0|(V=0)}(A|=0,e|=0,r|=0)){if(a=0|i[(s=A)+4>>2],i[(f=o)>>2]=i[s>>2],i[f+4>>2]=a,te(o,n),f=0|j(n,e),e=0|i[o>>2],(0|(a=0|i[A+8>>2]))>0){o=0|i[A+12>>2],n=0;do{e=(0|i[o+(n<<3)>>2])+e|0,n=n+1|0}while((0|n)!=(0|a))}(0|(e=(0|f)<(0|e)?e:f))<=-12||_e(0|r,0,8+(((0|(s=e+11|0))>0?s:0)<<3)|0),I=t}else I=t},_res0IndexCount:function(){return 122},_round:Ie,_sbrk:Fe,_sizeOfCoordIJ:function(){return 8},_sizeOfGeoBoundary:function(){return 168},_sizeOfGeoCoord:function(){return 16},_sizeOfGeoPolygon:function(){return 16},_sizeOfGeofence:function(){return 8},_sizeOfH3Index:function(){return 8},_sizeOfLinkedGeoPolygon:function(){return 12},_uncompact:function(A,e,r,t,n){A|=0,r|=0,t|=0,n|=0;var o=0,a=0,f=0,s=0,u=0,l=0;if((0|(e|=0))<=0)return 0|(n=0);if((0|n)>=16){for(o=0;;){if(!(0==(0|i[(l=A+(o<<3)|0)>>2])&0==(0|i[l+4>>2]))){o=14;break}if((0|(o=o+1|0))>=(0|e)){a=0,o=16;break}}if(14==(0|o))return 0|((0|t)>0?-2:-1);if(16==(0|o))return 0|a}o=0,l=0;A:for(;;){a=0|i[(f=u=A+(l<<3)|0)>>2],f=0|i[f+4>>2];do{if(!(0==(0|a)&0==(0|f))){if((0|o)>=(0|t)){a=-1,o=16;break A}if(s=0|Qe(0|a,0|f,52),M(),(0|(s&=15))>(0|n)){a=-2,o=16;break A}if((0|s)==(0|n)){i[(u=r+(o<<3)|0)>>2]=a,i[u+4>>2]=f,o=o+1|0;break}if((0|(a=(0|ee(7,n-s|0))+o|0))>(0|t)){a=-1,o=16;break A}PA(0|i[u>>2],0|i[u+4>>2],n,r+(o<<3)|0),o=a}}while(0);if((0|(l=l+1|0))>=(0|e)){a=0,o=16;break}}return 16==(0|o)?0|a:0},establishStackSpace:function(A,e){I=A|=0},stackAlloc:function(A){var e;return e=I,I=(I=I+(A|=0)|0)+15&-16,0|e},stackRestore:function(A){I=A|=0},stackSave:function(){return 0|I}}}({Math:Math,Int8Array:Int8Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Float32Array:Float32Array,Float64Array:Float64Array},{a:fA,b:function(A){s=A},c:u,d:function(A,e,r,t){fA("Assertion failed: "+g(A)+", at: "+[e?g(e):"unknown filename",r,t?g(t):"unknown function"])},e:function(A){return r.___errno_location&&(v[r.___errno_location()>>2]=A),A},f:N,g:function(A,e,r){B.set(B.subarray(e,e+r),A)},h:function(A){var e=N(),r=16777216,t=2130706432;if(A>t)return!1;for(var i=Math.max(e,16777216);i<A;)i=i<=536870912?M(2*i,r):Math.min(M((3*i+2147483648)/4,r),t);return!!Z(i)},i:function(A){fA("OOM")},j:Y,k:O,l:Z,m:j,n:function(){var A=j();return r.extraStackTrace&&(A+="\n"+r.extraStackTrace()),O(A)},o:24032,p:24016},w),$=(r.___uremdi3=q.___uremdi3,r._bitshift64Lshr=q._bitshift64Lshr,r._bitshift64Shl=q._bitshift64Shl,r._calloc=q._calloc,r._cellAreaKm2=q._cellAreaKm2,r._cellAreaM2=q._cellAreaM2,r._cellAreaRads2=q._cellAreaRads2,r._compact=q._compact,r._destroyLinkedPolygon=q._destroyLinkedPolygon,r._edgeLengthKm=q._edgeLengthKm,r._edgeLengthM=q._edgeLengthM,r._emscripten_replace_memory=q._emscripten_replace_memory),AA=(r._exactEdgeLengthKm=q._exactEdgeLengthKm,r._exactEdgeLengthM=q._exactEdgeLengthM,r._exactEdgeLengthRads=q._exactEdgeLengthRads,r._experimentalH3ToLocalIj=q._experimentalH3ToLocalIj,r._experimentalLocalIjToH3=q._experimentalLocalIjToH3,r._free=q._free,r._geoToH3=q._geoToH3,r._getDestinationH3IndexFromUnidirectionalEdge=q._getDestinationH3IndexFromUnidirectionalEdge,r._getH3IndexesFromUnidirectionalEdge=q._getH3IndexesFromUnidirectionalEdge,r._getH3UnidirectionalEdge=q._getH3UnidirectionalEdge,r._getH3UnidirectionalEdgeBoundary=q._getH3UnidirectionalEdgeBoundary,r._getH3UnidirectionalEdgesFromHexagon=q._getH3UnidirectionalEdgesFromHexagon,r._getOriginH3IndexFromUnidirectionalEdge=q._getOriginH3IndexFromUnidirectionalEdge,r._getPentagonIndexes=q._getPentagonIndexes,r._getRes0Indexes=q._getRes0Indexes,r._h3Distance=q._h3Distance,r._h3GetBaseCell=q._h3GetBaseCell,r._h3GetFaces=q._h3GetFaces,r._h3GetResolution=q._h3GetResolution,r._h3IndexesAreNeighbors=q._h3IndexesAreNeighbors,r._h3IsPentagon=q._h3IsPentagon,r._h3IsResClassIII=q._h3IsResClassIII,r._h3IsValid=q._h3IsValid,r._h3Line=q._h3Line,r._h3LineSize=q._h3LineSize,r._h3SetToLinkedGeo=q._h3SetToLinkedGeo,r._h3ToCenterChild=q._h3ToCenterChild,r._h3ToChildren=q._h3ToChildren,r._h3ToGeo=q._h3ToGeo,r._h3ToGeoBoundary=q._h3ToGeoBoundary,r._h3ToParent=q._h3ToParent,r._h3UnidirectionalEdgeIsValid=q._h3UnidirectionalEdgeIsValid,r._hexAreaKm2=q._hexAreaKm2,r._hexAreaM2=q._hexAreaM2,r._hexRing=q._hexRing,r._i64Subtract=q._i64Subtract,r._kRing=q._kRing,r._kRingDistances=q._kRingDistances,r._llvm_minnum_f64=q._llvm_minnum_f64,r._llvm_round_f64=q._llvm_round_f64,r._malloc=q._malloc,r._maxFaceCount=q._maxFaceCount,r._maxH3ToChildrenSize=q._maxH3ToChildrenSize,r._maxKringSize=q._maxKringSize,r._maxPolyfillSize=q._maxPolyfillSize,r._maxUncompactSize=q._maxUncompactSize,r._memcpy=q._memcpy,r._memset=q._memset,r._numHexagons=q._numHexagons,r._pentagonIndexCount=q._pentagonIndexCount,r._pointDistKm=q._pointDistKm,r._pointDistM=q._pointDistM,r._pointDistRads=q._pointDistRads,r._polyfill=q._polyfill,r._res0IndexCount=q._res0IndexCount,r._round=q._round,r._sbrk=q._sbrk,r._sizeOfCoordIJ=q._sizeOfCoordIJ,r._sizeOfGeoBoundary=q._sizeOfGeoBoundary,r._sizeOfGeoCoord=q._sizeOfGeoCoord,r._sizeOfGeoPolygon=q._sizeOfGeoPolygon,r._sizeOfGeofence=q._sizeOfGeofence,r._sizeOfH3Index=q._sizeOfH3Index,r._sizeOfLinkedGeoPolygon=q._sizeOfLinkedGeoPolygon,r._uncompact=q._uncompact,r.establishStackSpace=q.establishStackSpace,r.stackAlloc=q.stackAlloc),eA=r.stackRestore=q.stackRestore,rA=r.stackSave=q.stackSave;if(r.asm=q,r.cwrap=function(A,e,r,t){var i=(r=r||[]).every((function(A){return"number"===A}));return"string"!==e&&i&&!t?h(A):function(){return c(A,e,r,arguments)}},r.setValue=function(A,e,r,t){switch("*"===(r=r||"i8").charAt(r.length-1)&&(r="i32"),r){case"i1":case"i8":p[A>>0]=e;break;case"i16":b[A>>1]=e;break;case"i32":v[A>>2]=e;break;case"i64":H=[e>>>0,(V=e,+F(V)>=1?V>0?(0|U(+P(V/4294967296),4294967295))>>>0:~~+C((V-+(~~V>>>0))/4294967296)>>>0:0)],v[A>>2]=H[0],v[A+4>>2]=H[1];break;case"float":m[A>>2]=e;break;case"double":k[A>>3]=e;break;default:fA("invalid type for setValue: "+r)}},r.getValue=function(A,e,r){switch("*"===(e=e||"i8").charAt(e.length-1)&&(e="i32"),e){case"i1":case"i8":return p[A>>0];case"i16":return b[A>>1];case"i32":case"i64":return v[A>>2];case"float":return m[A>>2];case"double":return k[A>>3];default:fA("invalid type for getValue: "+e)}return null},r.getTempRet0=u,R){z(R)||(K=R,R=r.locateFile?r.locateFile(K,o):o+K),G++,r.monitorRunDependencies&&r.monitorRunDependencies(G);var tA=function(A){A.byteLength&&(A=new Uint8Array(A)),B.set(A,8),r.memoryInitializerRequest&&delete r.memoryInitializerRequest.response,function(A){if(G--,r.monitorRunDependencies&&r.monitorRunDependencies(G),0==G&&(null!==S&&(clearInterval(S),S=null),T)){var e=T;T=null,e()}}()},iA=function(){i(R,tA,(function(){throw"could not load memory initializer "+R}))},nA=J(R);if(nA)tA(nA.buffer);else if(r.memoryInitializerRequest){var oA=function(){var A=r.memoryInitializerRequest,e=A.response;if(200!==A.status&&0!==A.status){var t=J(r.memoryInitializerRequestURL);if(!t)return console.warn("a problem seems to have happened with Module.memoryInitializerRequest, status: "+A.status+", retrying "+R),void iA();e=t.buffer}tA(e)};r.memoryInitializerRequest.response?setTimeout(oA,0):r.memoryInitializerRequest.addEventListener("load",oA)}else iA()}function aA(A){function e(){X||(X=!0,l||(E(D),E(_),r.onRuntimeInitialized&&r.onRuntimeInitialized(),function(){if(r.postRun)for("function"==typeof r.postRun&&(r.postRun=[r.postRun]);r.postRun.length;)A=r.postRun.shift(),I.unshift(A);var A;E(I)}()))}A=A||n,G>0||(!function(){if(r.preRun)for("function"==typeof r.preRun&&(r.preRun=[r.preRun]);r.preRun.length;)A=r.preRun.shift(),x.unshift(A);var A;E(x)}(),G>0||(r.setStatus?(r.setStatus("Running..."),setTimeout((function(){setTimeout((function(){r.setStatus("")}),1),e()}),1)):e()))}function fA(A){throw r.onAbort&&r.onAbort(A),a(A+=""),f(A),l=!0,"abort("+A+"). Build with -s ASSERTIONS=1 for more info."}if(T=function A(){X||aA(),X||(T=A)},r.run=aA,r.abort=fA,r.preInit)for("function"==typeof r.preInit&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();return aA(),A}("object"==typeof t?t:{}),i="number",n={};[["sizeOfH3Index",i],["sizeOfGeoCoord",i],["sizeOfGeoBoundary",i],["sizeOfGeoPolygon",i],["sizeOfGeofence",i],["sizeOfLinkedGeoPolygon",i],["sizeOfCoordIJ",i],["h3IsValid",i,[i,i]],["geoToH3",i,[i,i,i]],["h3ToGeo",null,[i,i,i]],["h3ToGeoBoundary",null,[i,i,i]],["maxKringSize",i,[i]],["kRing",null,[i,i,i,i]],["kRingDistances",null,[i,i,i,i,i]],["hexRing",null,[i,i,i,i]],["maxPolyfillSize",i,[i,i]],["polyfill",null,[i,i,i]],["h3SetToLinkedGeo",null,[i,i,i]],["destroyLinkedPolygon",null,[i]],["compact",i,[i,i,i]],["uncompact",i,[i,i,i,i,i]],["maxUncompactSize",i,[i,i,i]],["h3IsPentagon",i,[i,i]],["h3IsResClassIII",i,[i,i]],["h3GetBaseCell",i,[i,i]],["h3GetResolution",i,[i,i]],["maxFaceCount",i,[i,i]],["h3GetFaces",null,[i,i,i]],["h3ToParent",i,[i,i,i]],["h3ToChildren",null,[i,i,i,i]],["h3ToCenterChild",i,[i,i,i]],["maxH3ToChildrenSize",i,[i,i,i]],["h3IndexesAreNeighbors",i,[i,i,i,i]],["getH3UnidirectionalEdge",i,[i,i,i,i]],["getOriginH3IndexFromUnidirectionalEdge",i,[i,i]],["getDestinationH3IndexFromUnidirectionalEdge",i,[i,i]],["h3UnidirectionalEdgeIsValid",i,[i,i]],["getH3IndexesFromUnidirectionalEdge",null,[i,i,i]],["getH3UnidirectionalEdgesFromHexagon",null,[i,i,i]],["getH3UnidirectionalEdgeBoundary",null,[i,i,i]],["h3Distance",i,[i,i,i,i]],["h3Line",i,[i,i,i,i,i]],["h3LineSize",i,[i,i,i,i]],["experimentalH3ToLocalIj",i,[i,i,i,i,i]],["experimentalLocalIjToH3",i,[i,i,i,i]],["hexAreaM2",i,[i]],["hexAreaKm2",i,[i]],["edgeLengthM",i,[i]],["edgeLengthKm",i,[i]],["pointDistM",i,[i,i]],["pointDistKm",i,[i,i]],["pointDistRads",i,[i,i]],["cellAreaM2",i,[i,i]],["cellAreaKm2",i,[i,i]],["cellAreaRads2",i,[i,i]],["exactEdgeLengthM",i,[i,i]],["exactEdgeLengthKm",i,[i,i]],["exactEdgeLengthRads",i,[i,i]],["numHexagons",i,[i]],["getRes0Indexes",null,[i]],["res0IndexCount",i],["getPentagonIndexes",null,[i,i]],["pentagonIndexCount",i]].forEach((function(A){n[A[0]]=t.cwrap.apply(t,A)}));var o=16,a=n.sizeOfH3Index(),f=n.sizeOfGeoCoord(),s=n.sizeOfGeoBoundary(),u=n.sizeOfGeoPolygon(),l=n.sizeOfGeofence(),h=n.sizeOfLinkedGeoPolygon(),c=n.sizeOfCoordIJ(),d={m:"m",m2:"m2",km:"km",km2:"km2",rads:"rads",rads2:"rads2"};function g(A){if("number"!=typeof A||A<0||A>15||Math.floor(A)!==A)throw new Error("Invalid resolution: "+A)}var w=/[^0-9a-fA-F]/;function p(A){if(Array.isArray(A)&&2===A.length&&Number.isInteger(A[0])&&Number.isInteger(A[1]))return A;if("string"!=typeof A||w.test(A))return[0,0];var e=parseInt(A.substring(0,A.length-8),o);return[parseInt(A.substring(A.length-8),o),e]}function B(A){if(A>=0)return A.toString(o);var e=v(8,(A&=2147483647).toString(o));return e=(parseInt(e[0],o)+8).toString(o)+e.substring(1)}function b(A,e){return B(e)+v(8,B(A))}function v(A,e){for(var r=A-e.length,t="",i=0;i<r;i++)t+="0";return t+=e}function m(A,e,r){for(var i=A.length,n=t._calloc(i,f),o=r?1:0,a=r?0:1,s=0;s<2*i;s+=2)t.HEAPF64.set([A[s/2][o],A[s/2][a]].map(U),n/8+s);return t.HEAPU32.set([i,n],e/4),e}function k(A){return[A,t.getTempRet0()]}function M(A){var e=k(A),r=e[0],t=e[1];return t?b(r,t):null}function Q(A,e){void 0===e&&(e=0);var r=t.getValue(A+4*e*2,"i32"),i=t.getValue(A+4*(2*e+1),"i32");return i?b(r,i):null}function y(A,e,r){t.HEAPU32.set(p(A),e/4+2*r)}function E(A,e){for(var r=[],t=0;t<e;t++){var i=Q(A,t);null!==i&&r.push(i)}return r}function x(A,e){for(var r=e.length,t=0;t<r;t++)y(e[t],A,t)}function D(A,e){var r=t._calloc(1,f);return t.HEAPF64.set([A,e].map(U),r/8),r}function _(A){return G(t.getValue(A,"double"))}function I(A){return[_(A),_(A+8)]}function F(A){return[_(A+8),_(A)]}function C(A,e,r){for(var i=t.getValue(A,"i32"),n=A+8,o=[],a=e?F:I,f=0;f<2*i;f+=2)o.push(a(n+8*f));return r&&o.push(o[0]),o}function P(A){var e=p(A),r=e[0],t=e[1];return Boolean(n.h3IsValid(r,t))}function U(A){return A*Math.PI/180}function G(A){return 180*A/Math.PI}r.UNITS=d,r.h3IndexToSplitLong=p,r.splitLongToh3Index=b,r.h3IsValid=P,r.h3IsPentagon=function(A){var e=p(A),r=e[0],t=e[1];return Boolean(n.h3IsPentagon(r,t))},r.h3IsResClassIII=function(A){var e=p(A),r=e[0],t=e[1];return Boolean(n.h3IsResClassIII(r,t))},r.h3GetBaseCell=function(A){var e=p(A),r=e[0],t=e[1];return n.h3GetBaseCell(r,t)},r.h3GetFaces=function(A){var e=p(A),r=e[0],i=e[1],o=n.maxFaceCount(r,i),a=t._malloc(4*o);n.h3GetFaces(r,i,a);var f=function(A,e){for(var r=[],i=0;i<e;i++){var n=t.getValue(A+4*i,"i32");n>=0&&r.push(n)}return r}(a,o);return t._free(a),f},r.h3GetResolution=function(A){var e=p(A),r=e[0],t=e[1];return n.h3IsValid(r,t)?n.h3GetResolution(r,t):-1},r.geoToH3=function(A,e,r){var i=t._malloc(f);t.HEAPF64.set([A,e].map(U),i/8);var o=M(n.geoToH3(i,r));return t._free(i),o},r.h3ToGeo=function(A){var e=t._malloc(f),r=p(A),i=r[0],o=r[1];n.h3ToGeo(i,o,e);var a=I(e);return t._free(e),a},r.h3ToGeoBoundary=function(A,e){var r=t._malloc(s),i=p(A),o=i[0],a=i[1];n.h3ToGeoBoundary(o,a,r);var f=C(r,e,e);return t._free(r),f},r.h3ToParent=function(A,e){var r=p(A),t=r[0],i=r[1];return M(n.h3ToParent(t,i,e))},r.h3ToChildren=function(A,e){if(!P(A))return[];var r=p(A),i=r[0],o=r[1],f=n.maxH3ToChildrenSize(i,o,e),s=t._calloc(f,a);n.h3ToChildren(i,o,e,s);var u=E(s,f);return t._free(s),u},r.h3ToCenterChild=function(A,e){var r=p(A),t=r[0],i=r[1];return M(n.h3ToCenterChild(t,i,e))},r.kRing=function(A,e){var r=p(A),i=r[0],o=r[1],f=n.maxKringSize(e),s=t._calloc(f,a);n.kRing(i,o,e,s);var u=E(s,f);return t._free(s),u},r.kRingDistances=function(A,e){var r=p(A),i=r[0],o=r[1],f=n.maxKringSize(e),s=t._calloc(f,a),u=t._calloc(f,4);n.kRingDistances(i,o,e,s,u);for(var l=[],h=0;h<e+1;h++)l.push([]);for(var c=0;c<2*f;c+=2){var d=t.getValue(s+4*c,"i32"),g=t.getValue(s+4*(c+1),"i32"),w=t.getValue(u+c/2*4,"i32");0===d&&0===g||l[w].push(b(d,g))}return t._free(s),t._free(u),l},r.hexRing=function(A,e){var r=0===e?1:6*e,i=t._calloc(r,a);if(0!==n.hexRing.apply(n,p(A).concat([e],[i])))throw t._free(i),new Error("Failed to get hexRing (encountered a pentagon?)");var o=E(i,r);return t._free(i),o},r.polyfill=function(A,e,r){if(g(e),r=Boolean(r),0===A.length||0===A[0].length)return[];"number"==typeof A[0][0]&&(A=[A]);var i=function(A,e){var r,i=A.length-1,n=t._calloc(u),o=0+l,a=o+4;if(m(A[0],n+0,e),i>0){r=t._calloc(i,l);for(var f=0;f<i;f++)m(A[f+1],r+l*f,e)}return t.setValue(n+o,i,"i32"),t.setValue(n+a,r,"i32"),n}(A,r),o=n.maxPolyfillSize(i,e),f=t._calloc(o,a);n.polyfill(i,e,f);var s=E(f,o);return t._free(f),function(A){var e=0+l,r=e+4;t._free(t.getValue(A+0+4,"i8*"));var i=t.getValue(A+e,"i32");if(i>0){for(var n=t.getValue(A+r,"i32"),o=0;o<i;o++)t._free(t.getValue(n+l*o+4,"i8*"));t._free(n)}t._free(A)}(i),s},r.h3SetToMultiPolygon=function(A,e){if(!A||!A.length)return[];var r=A.length,i=t._calloc(r,a);x(i,A);var o=t._calloc(h),f=o;n.h3SetToLinkedGeo(i,r,o);var s=function(A,e){for(var r,i,n,o,a=[],f=e?F:I;A;){for(a.push(r=[]),i=t.getValue(A,"i8*");i;){for(r.push(n=[]),o=t.getValue(i,"i8*");o;)n.push(f(o)),o=t.getValue(o+16,"i8*");e&&n.push(n[0]),i=t.getValue(i+8,"i8*")}A=t.getValue(A+8,"i8*")}return a}(o,e);return n.destroyLinkedPolygon(f),t._free(f),t._free(i),s},r.compact=function(A){if(!A||!A.length)return[];var e=A.length,r=t._calloc(e,a);x(r,A);var i=t._calloc(e,a);if(0!==n.compact(r,i,e))throw t._free(r),t._free(i),new Error("Failed to compact, malformed input data (duplicate hexagons?)");var o=E(i,e);return t._free(r),t._free(i),o},r.uncompact=function(A,e){if(g(e),!A||!A.length)return[];var r=A.length,i=t._calloc(r,a);x(i,A);var o=n.maxUncompactSize(i,r,e),f=t._calloc(o,a);if(0!==n.uncompact(i,r,f,o,e))throw t._free(i),t._free(f),new Error("Failed to uncompact (bad resolution?)");var s=E(f,o);return t._free(i),t._free(f),s},r.h3IndexesAreNeighbors=function(A,e){var r=p(A),t=r[0],i=r[1],o=p(e),a=o[0],f=o[1];return Boolean(n.h3IndexesAreNeighbors(t,i,a,f))},r.getH3UnidirectionalEdge=function(A,e){var r=p(A),t=r[0],i=r[1],o=p(e),a=o[0],f=o[1];return M(n.getH3UnidirectionalEdge(t,i,a,f))},r.getOriginH3IndexFromUnidirectionalEdge=function(A){var e=p(A),r=e[0],t=e[1];return M(n.getOriginH3IndexFromUnidirectionalEdge(r,t))},r.getDestinationH3IndexFromUnidirectionalEdge=function(A){var e=p(A),r=e[0],t=e[1];return M(n.getDestinationH3IndexFromUnidirectionalEdge(r,t))},r.h3UnidirectionalEdgeIsValid=function(A){var e=p(A),r=e[0],t=e[1];return Boolean(n.h3UnidirectionalEdgeIsValid(r,t))},r.getH3IndexesFromUnidirectionalEdge=function(A){var e=p(A),r=e[0],i=e[1],o=t._calloc(2,a);n.getH3IndexesFromUnidirectionalEdge(r,i,o);var f=E(o,2);return t._free(o),f},r.getH3UnidirectionalEdgesFromHexagon=function(A){var e=p(A),r=e[0],i=e[1],o=t._calloc(6,a);n.getH3UnidirectionalEdgesFromHexagon(r,i,o);var f=E(o,6);return t._free(o),f},r.getH3UnidirectionalEdgeBoundary=function(A,e){var r=t._malloc(s),i=p(A),o=i[0],a=i[1];n.getH3UnidirectionalEdgeBoundary(o,a,r);var f=C(r,e);return t._free(r),f},r.h3Distance=function(A,e){var r=p(A),t=r[0],i=r[1],o=p(e),a=o[0],f=o[1];return n.h3Distance(t,i,a,f)},r.h3Line=function(A,e){var r=p(A),i=r[0],o=r[1],f=p(e),s=f[0],u=f[1],l=n.h3LineSize(i,o,s,u);if(l<0)throw new Error("Line cannot be calculated");var h=t._calloc(l,a);n.h3Line(i,o,s,u,h);var c=E(h,l);return t._free(h),c},r.experimentalH3ToLocalIj=function(A,e){var r,i=t._malloc(c),o=n.experimentalH3ToLocalIj.apply(n,p(A).concat(p(e),[i])),a=(r=i,{i:t.getValue(r,"i32"),j:t.getValue(r+4,"i32")});switch(t._free(i),o){case 0:return a;case 1:throw new Error("Incompatible origin and index.");case 2:default:throw new Error("Local IJ coordinates undefined for this origin and index pair. The index may be too far from the origin.");case 3:case 4:case 5:throw new Error("Encountered possible pentagon distortion")}},r.experimentalLocalIjToH3=function(A,e){if(!e||"number"!=typeof e.i||"number"!=typeof e.j)throw new Error("Coordinates must be provided as an {i, j} object");var r,i,o,f,s=t._malloc(c),u=t._malloc(a);r=s,o=(i=e).i,f=i.j,t.setValue(r,o,"i32"),t.setValue(r+4,f,"i32");var l=n.experimentalLocalIjToH3.apply(n,p(A).concat([s],[u])),h=Q(u);if(t._free(s),t._free(u),0!==l)throw new Error("Index not defined for this origin and IJ coordinates pair. IJ coordinates may be too far from origin, or a pentagon distortion was encountered.");return h},r.pointDist=function(A,e,r){var i,o=D(A[0],A[1]),a=D(e[0],e[1]);switch(r){case d.m:i=n.pointDistM(o,a);break;case d.km:i=n.pointDistKm(o,a);break;case d.rads:i=n.pointDistRads(o,a);break;default:i=null}if(t._free(o),t._free(a),null===i)throw new Error("Unknown unit: "+r);return i},r.cellArea=function(A,e){var r=p(A),t=r[0],i=r[1];switch(e){case d.m2:return n.cellAreaM2(t,i);case d.km2:return n.cellAreaKm2(t,i);case d.rads2:return n.cellAreaRads2(t,i);default:throw new Error("Unknown unit: "+e)}},r.exactEdgeLength=function(A,e){var r=p(A),t=r[0],i=r[1];switch(e){case d.m:return n.exactEdgeLengthM(t,i);case d.km:return n.exactEdgeLengthKm(t,i);case d.rads:return n.exactEdgeLengthRads(t,i);default:throw new Error("Unknown unit: "+e)}},r.hexArea=function(A,e){switch(g(A),e){case d.m2:return n.hexAreaM2(A);case d.km2:return n.hexAreaKm2(A);default:throw new Error("Unknown unit: "+e)}},r.edgeLength=function(A,e){switch(g(A),e){case d.m:return n.edgeLengthM(A);case d.km:return n.edgeLengthKm(A);default:throw new Error("Unknown unit: "+e)}},r.numHexagons=function(A){g(A);var e=k(n.numHexagons(A)),r=e[0],t=e[1];return t?t*Math.pow(2,32)+r:r},r.getRes0Indexes=function(){var A=n.res0IndexCount(),e=t._malloc(a*A);n.getRes0Indexes(e);var r=E(e,A);return t._free(e),r},r.getPentagonIndexes=function(A){g(A);var e=n.pentagonIndexCount(),r=t._malloc(a*e);n.getPentagonIndexes(A,r);var i=E(r,e);return t._free(r),i},r.degsToRads=U,r.radsToDegs=G},{}],8:[function(A,e,r){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
r.read=function(A,e,r,t,i){var n,o,a=8*i-t-1,f=(1<<a)-1,s=f>>1,u=-7,l=r?i-1:0,h=r?-1:1,c=A[e+l];for(l+=h,n=c&(1<<-u)-1,c>>=-u,u+=a;u>0;n=256*n+A[e+l],l+=h,u-=8);for(o=n&(1<<-u)-1,n>>=-u,u+=t;u>0;o=256*o+A[e+l],l+=h,u-=8);if(0===n)n=1-s;else{if(n===f)return o?NaN:1/0*(c?-1:1);o+=Math.pow(2,t),n-=s}return(c?-1:1)*o*Math.pow(2,n-t)},r.write=function(A,e,r,t,i,n){var o,a,f,s=8*n-i-1,u=(1<<s)-1,l=u>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,c=t?0:n-1,d=t?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-o))<1&&(o--,f*=2),(e+=o+l>=1?h/f:h*Math.pow(2,1-l))*f>=2&&(o++,f/=2),o+l>=u?(a=0,o=u):o+l>=1?(a=(e*f-1)*Math.pow(2,i),o+=l):(a=e*Math.pow(2,l-1)*Math.pow(2,i),o=0));i>=8;A[r+c]=255&a,c+=d,a/=256,i-=8);for(o=o<<i|a,s+=i;s>0;A[r+c]=255&o,c+=d,o/=256,s-=8);A[r+c-d]|=128*g}},{}],9:[function(A,e,r){"use strict";e.exports=i;var t=A("ieee754");function i(A){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(A)?A:new Uint8Array(A||0),this.pos=0,this.type=0,this.length=this.buf.length}i.Varint=0,i.Fixed64=1,i.Bytes=2,i.Fixed32=5;var n=4294967296,o=1/n,a="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function f(A){return A.type===i.Bytes?A.readVarint()+A.pos:A.pos+1}function s(A,e,r){return r?4294967296*e+(A>>>0):4294967296*(e>>>0)+(A>>>0)}function u(A,e,r){var t=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));r.realloc(t);for(var i=r.pos-1;i>=A;i--)r.buf[i+t]=r.buf[i]}function l(A,e){for(var r=0;r<A.length;r++)e.writeVarint(A[r])}function h(A,e){for(var r=0;r<A.length;r++)e.writeSVarint(A[r])}function c(A,e){for(var r=0;r<A.length;r++)e.writeFloat(A[r])}function d(A,e){for(var r=0;r<A.length;r++)e.writeDouble(A[r])}function g(A,e){for(var r=0;r<A.length;r++)e.writeBoolean(A[r])}function w(A,e){for(var r=0;r<A.length;r++)e.writeFixed32(A[r])}function p(A,e){for(var r=0;r<A.length;r++)e.writeSFixed32(A[r])}function B(A,e){for(var r=0;r<A.length;r++)e.writeFixed64(A[r])}function b(A,e){for(var r=0;r<A.length;r++)e.writeSFixed64(A[r])}function v(A,e){return(A[e]|A[e+1]<<8|A[e+2]<<16)+16777216*A[e+3]}function m(A,e,r){A[r]=e,A[r+1]=e>>>8,A[r+2]=e>>>16,A[r+3]=e>>>24}function k(A,e){return(A[e]|A[e+1]<<8|A[e+2]<<16)+(A[e+3]<<24)}i.prototype={destroy:function(){this.buf=null},readFields:function(A,e,r){for(r=r||this.length;this.pos<r;){var t=this.readVarint(),i=t>>3,n=this.pos;this.type=7&t,A(i,e,this),this.pos===n&&this.skip(t)}return e},readMessage:function(A,e){return this.readFields(A,e,this.readVarint()+this.pos)},readFixed32:function(){var A=v(this.buf,this.pos);return this.pos+=4,A},readSFixed32:function(){var A=k(this.buf,this.pos);return this.pos+=4,A},readFixed64:function(){var A=v(this.buf,this.pos)+v(this.buf,this.pos+4)*n;return this.pos+=8,A},readSFixed64:function(){var A=v(this.buf,this.pos)+k(this.buf,this.pos+4)*n;return this.pos+=8,A},readFloat:function(){var A=t.read(this.buf,this.pos,!0,23,4);return this.pos+=4,A},readDouble:function(){var A=t.read(this.buf,this.pos,!0,52,8);return this.pos+=8,A},readVarint:function(A){var e,r,t=this.buf;return e=127&(r=t[this.pos++]),r<128?e:(e|=(127&(r=t[this.pos++]))<<7,r<128?e:(e|=(127&(r=t[this.pos++]))<<14,r<128?e:(e|=(127&(r=t[this.pos++]))<<21,r<128?e:function(A,e,r){var t,i,n=r.buf;if(i=n[r.pos++],t=(112&i)>>4,i<128)return s(A,t,e);if(i=n[r.pos++],t|=(127&i)<<3,i<128)return s(A,t,e);if(i=n[r.pos++],t|=(127&i)<<10,i<128)return s(A,t,e);if(i=n[r.pos++],t|=(127&i)<<17,i<128)return s(A,t,e);if(i=n[r.pos++],t|=(127&i)<<24,i<128)return s(A,t,e);if(i=n[r.pos++],t|=(1&i)<<31,i<128)return s(A,t,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(r=t[this.pos]))<<28,A,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var A=this.readVarint();return A%2==1?(A+1)/-2:A/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var A=this.readVarint()+this.pos,e=this.pos;return this.pos=A,A-e>=12&&a?function(A,e,r){return a.decode(A.subarray(e,r))}(this.buf,e,A):function(A,e,r){var t="",i=e;for(;i<r;){var n,o,a,f=A[i],s=null,u=f>239?4:f>223?3:f>191?2:1;if(i+u>r)break;1===u?f<128&&(s=f):2===u?128==(192&(n=A[i+1]))&&(s=(31&f)<<6|63&n)<=127&&(s=null):3===u?(n=A[i+1],o=A[i+2],128==(192&n)&&128==(192&o)&&((s=(15&f)<<12|(63&n)<<6|63&o)<=2047||s>=55296&&s<=57343)&&(s=null)):4===u&&(n=A[i+1],o=A[i+2],a=A[i+3],128==(192&n)&&128==(192&o)&&128==(192&a)&&((s=(15&f)<<18|(63&n)<<12|(63&o)<<6|63&a)<=65535||s>=1114112)&&(s=null)),null===s?(s=65533,u=1):s>65535&&(s-=65536,t+=String.fromCharCode(s>>>10&1023|55296),s=56320|1023&s),t+=String.fromCharCode(s),i+=u}return t}(this.buf,e,A)},readBytes:function(){var A=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,A);return this.pos=A,e},readPackedVarint:function(A,e){if(this.type!==i.Bytes)return A.push(this.readVarint(e));var r=f(this);for(A=A||[];this.pos<r;)A.push(this.readVarint(e));return A},readPackedSVarint:function(A){if(this.type!==i.Bytes)return A.push(this.readSVarint());var e=f(this);for(A=A||[];this.pos<e;)A.push(this.readSVarint());return A},readPackedBoolean:function(A){if(this.type!==i.Bytes)return A.push(this.readBoolean());var e=f(this);for(A=A||[];this.pos<e;)A.push(this.readBoolean());return A},readPackedFloat:function(A){if(this.type!==i.Bytes)return A.push(this.readFloat());var e=f(this);for(A=A||[];this.pos<e;)A.push(this.readFloat());return A},readPackedDouble:function(A){if(this.type!==i.Bytes)return A.push(this.readDouble());var e=f(this);for(A=A||[];this.pos<e;)A.push(this.readDouble());return A},readPackedFixed32:function(A){if(this.type!==i.Bytes)return A.push(this.readFixed32());var e=f(this);for(A=A||[];this.pos<e;)A.push(this.readFixed32());return A},readPackedSFixed32:function(A){if(this.type!==i.Bytes)return A.push(this.readSFixed32());var e=f(this);for(A=A||[];this.pos<e;)A.push(this.readSFixed32());return A},readPackedFixed64:function(A){if(this.type!==i.Bytes)return A.push(this.readFixed64());var e=f(this);for(A=A||[];this.pos<e;)A.push(this.readFixed64());return A},readPackedSFixed64:function(A){if(this.type!==i.Bytes)return A.push(this.readSFixed64());var e=f(this);for(A=A||[];this.pos<e;)A.push(this.readSFixed64());return A},skip:function(A){var e=7&A;if(e===i.Varint)for(;this.buf[this.pos++]>127;);else if(e===i.Bytes)this.pos=this.readVarint()+this.pos;else if(e===i.Fixed32)this.pos+=4;else{if(e!==i.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(A,e){this.writeVarint(A<<3|e)},realloc:function(A){for(var e=this.length||16;e<this.pos+A;)e*=2;if(e!==this.length){var r=new Uint8Array(e);r.set(this.buf),this.buf=r,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(A){this.realloc(4),m(this.buf,A,this.pos),this.pos+=4},writeSFixed32:function(A){this.realloc(4),m(this.buf,A,this.pos),this.pos+=4},writeFixed64:function(A){this.realloc(8),m(this.buf,-1&A,this.pos),m(this.buf,Math.floor(A*o),this.pos+4),this.pos+=8},writeSFixed64:function(A){this.realloc(8),m(this.buf,-1&A,this.pos),m(this.buf,Math.floor(A*o),this.pos+4),this.pos+=8},writeVarint:function(A){(A=+A||0)>268435455||A<0?function(A,e){var r,t;A>=0?(r=A%4294967296|0,t=A/4294967296|0):(t=~(-A/4294967296),4294967295^(r=~(-A%4294967296))?r=r+1|0:(r=0,t=t+1|0));if(A>=0x10000000000000000||A<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),function(A,e,r){r.buf[r.pos++]=127&A|128,A>>>=7,r.buf[r.pos++]=127&A|128,A>>>=7,r.buf[r.pos++]=127&A|128,A>>>=7,r.buf[r.pos++]=127&A|128,A>>>=7,r.buf[r.pos]=127&A}(r,0,e),function(A,e){var r=(7&A)<<4;if(e.buf[e.pos++]|=r|((A>>>=3)?128:0),!A)return;if(e.buf[e.pos++]=127&A|((A>>>=7)?128:0),!A)return;if(e.buf[e.pos++]=127&A|((A>>>=7)?128:0),!A)return;if(e.buf[e.pos++]=127&A|((A>>>=7)?128:0),!A)return;if(e.buf[e.pos++]=127&A|((A>>>=7)?128:0),!A)return;e.buf[e.pos++]=127&A}(t,e)}(A,this):(this.realloc(4),this.buf[this.pos++]=127&A|(A>127?128:0),A<=127||(this.buf[this.pos++]=127&(A>>>=7)|(A>127?128:0),A<=127||(this.buf[this.pos++]=127&(A>>>=7)|(A>127?128:0),A<=127||(this.buf[this.pos++]=A>>>7&127))))},writeSVarint:function(A){this.writeVarint(A<0?2*-A-1:2*A)},writeBoolean:function(A){this.writeVarint(Boolean(A))},writeString:function(A){A=String(A),this.realloc(4*A.length),this.pos++;var e=this.pos;this.pos=function(A,e,r){for(var t,i,n=0;n<e.length;n++){if((t=e.charCodeAt(n))>55295&&t<57344){if(!i){t>56319||n+1===e.length?(A[r++]=239,A[r++]=191,A[r++]=189):i=t;continue}if(t<56320){A[r++]=239,A[r++]=191,A[r++]=189,i=t;continue}t=i-55296<<10|t-56320|65536,i=null}else i&&(A[r++]=239,A[r++]=191,A[r++]=189,i=null);t<128?A[r++]=t:(t<2048?A[r++]=t>>6|192:(t<65536?A[r++]=t>>12|224:(A[r++]=t>>18|240,A[r++]=t>>12&63|128),A[r++]=t>>6&63|128),A[r++]=63&t|128)}return r}(this.buf,A,this.pos);var r=this.pos-e;r>=128&&u(e,r,this),this.pos=e-1,this.writeVarint(r),this.pos+=r},writeFloat:function(A){this.realloc(4),t.write(this.buf,A,this.pos,!0,23,4),this.pos+=4},writeDouble:function(A){this.realloc(8),t.write(this.buf,A,this.pos,!0,52,8),this.pos+=8},writeBytes:function(A){var e=A.length;this.writeVarint(e),this.realloc(e);for(var r=0;r<e;r++)this.buf[this.pos++]=A[r]},writeRawMessage:function(A,e){this.pos++;var r=this.pos;A(e,this);var t=this.pos-r;t>=128&&u(r,t,this),this.pos=r-1,this.writeVarint(t),this.pos+=t},writeMessage:function(A,e,r){this.writeTag(A,i.Bytes),this.writeRawMessage(e,r)},writePackedVarint:function(A,e){e.length&&this.writeMessage(A,l,e)},writePackedSVarint:function(A,e){e.length&&this.writeMessage(A,h,e)},writePackedBoolean:function(A,e){e.length&&this.writeMessage(A,g,e)},writePackedFloat:function(A,e){e.length&&this.writeMessage(A,c,e)},writePackedDouble:function(A,e){e.length&&this.writeMessage(A,d,e)},writePackedFixed32:function(A,e){e.length&&this.writeMessage(A,w,e)},writePackedSFixed32:function(A,e){e.length&&this.writeMessage(A,p,e)},writePackedFixed64:function(A,e){e.length&&this.writeMessage(A,B,e)},writePackedSFixed64:function(A,e){e.length&&this.writeMessage(A,b,e)},writeBytesField:function(A,e){this.writeTag(A,i.Bytes),this.writeBytes(e)},writeFixed32Field:function(A,e){this.writeTag(A,i.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(A,e){this.writeTag(A,i.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(A,e){this.writeTag(A,i.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(A,e){this.writeTag(A,i.Fixed64),this.writeSFixed64(e)},writeVarintField:function(A,e){this.writeTag(A,i.Varint),this.writeVarint(e)},writeSVarintField:function(A,e){this.writeTag(A,i.Varint),this.writeSVarint(e)},writeStringField:function(A,e){this.writeTag(A,i.Bytes),this.writeString(e)},writeFloatField:function(A,e){this.writeTag(A,i.Fixed32),this.writeFloat(e)},writeDoubleField:function(A,e){this.writeTag(A,i.Fixed64),this.writeDouble(e)},writeBooleanField:function(A,e){this.writeVarintField(A,Boolean(e))}}},{ieee754:8}],10:[function(A,e,r){var t=A("pbf"),i=A("./lib/geojson_wrapper");function n(A){var e=new t;return function(A,e){for(var r in A.layers)e.writeMessage(3,o,A.layers[r])}(A,e),e.finish()}function o(A,e){var r;e.writeVarintField(15,A.version||1),e.writeStringField(1,A.name||""),e.writeVarintField(5,A.extent||4096);var t={keys:[],values:[],keycache:{},valuecache:{}};for(r=0;r<A.length;r++)t.feature=A.feature(r),e.writeMessage(2,a,t);var i=t.keys;for(r=0;r<i.length;r++)e.writeStringField(3,i[r]);var n=t.values;for(r=0;r<n.length;r++)e.writeMessage(4,h,n[r])}function a(A,e){var r=A.feature;void 0!==r.id&&e.writeVarintField(1,r.id),e.writeMessage(2,f,A),e.writeVarintField(3,r.type),e.writeMessage(4,l,r)}function f(A,e){var r=A.feature,t=A.keys,i=A.values,n=A.keycache,o=A.valuecache;for(var a in r.properties){var f=r.properties[a],s=n[a];if(null!==f){void 0===s&&(t.push(a),s=t.length-1,n[a]=s),e.writeVarint(s);var u=typeof f;"string"!==u&&"boolean"!==u&&"number"!==u&&(f=JSON.stringify(f));var l=u+":"+f,h=o[l];void 0===h&&(i.push(f),h=i.length-1,o[l]=h),e.writeVarint(h)}}}function s(A,e){return(e<<3)+(7&A)}function u(A){return A<<1^A>>31}function l(A,e){for(var r=A.loadGeometry(),t=A.type,i=0,n=0,o=r.length,a=0;a<o;a++){var f=r[a],l=1;1===t&&(l=f.length),e.writeVarint(s(1,l));for(var h=3===t?f.length-1:f.length,c=0;c<h;c++){1===c&&1!==t&&e.writeVarint(s(2,h-1));var d=f[c].x-i,g=f[c].y-n;e.writeVarint(u(d)),e.writeVarint(u(g)),i+=d,n+=g}3===t&&e.writeVarint(s(7,1))}}function h(A,e){var r=typeof A;"string"===r?e.writeStringField(1,A):"boolean"===r?e.writeBooleanField(7,A):"number"===r&&(A%1!=0?e.writeDoubleField(3,A):A<0?e.writeSVarintField(6,A):e.writeVarintField(5,A))}e.exports=n,e.exports.fromVectorTileJs=n,e.exports.fromGeojsonVt=function(A,e){e=e||{};var r={};for(var t in A)r[t]=new i(A[t].features,e),r[t].name=t,r[t].version=e.version,r[t].extent=e.extent;return n({layers:r})},e.exports.GeoJSONWrapper=i},{"./lib/geojson_wrapper":11,pbf:9}],11:[function(A,e,r){"use strict";var t=A("@mapbox/point-geometry"),i=A("@mapbox/vector-tile").VectorTileFeature;function n(A,e){this.options=e||{},this.features=A,this.length=A.length}function o(A,e){this.id="number"==typeof A.id?A.id:void 0,this.type=A.type,this.rawGeometry=1===A.type?[A.geometry]:A.geometry,this.properties=A.tags,this.extent=e||4096}e.exports=n,n.prototype.feature=function(A){return new o(this.features[A],this.options.extent)},o.prototype.loadGeometry=function(){var A=this.rawGeometry;this.geometry=[];for(var e=0;e<A.length;e++){for(var r=A[e],i=[],n=0;n<r.length;n++)i.push(new t(r[n][0],r[n][1]));this.geometry.push(i)}return this.geometry},o.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var A=this.geometry,e=1/0,r=-1/0,t=1/0,i=-1/0,n=0;n<A.length;n++)for(var o=A[n],a=0;a<o.length;a++){var f=o[a];e=Math.min(e,f.x),r=Math.max(r,f.x),t=Math.min(t,f.y),i=Math.max(i,f.y)}return[e,t,r,i]},o.prototype.toGeoJSON=i.prototype.toGeoJSON},{"@mapbox/point-geometry":1,"@mapbox/vector-tile":2}],12:[function(A,e,r){const t=globalThis.maplibregl,i={tovt:A("geojson-vt"),topbf:A("vt-pbf"),h3:A("h3-js")},n={geometry_type:"Polygon",timeout:0,debug:!1,promoteId:!0,https:!0},o=(A,e)=>new Promise(((r,t)=>{var i;r((i=e,{type:"FeatureCollection",features:A.cells.map((A=>{const e={properties:A,geometry:{type:i.geometry_type,coordinates:i.generate(A.h3id)}};return i.promoteID||(e.id=parseInt(A.h3id,16)),e}))}))})),a=A=>{const e=["type","data","maxzoom","attribution","buffer","filter","tolerance","cluster","clusterRadius","clusterMaxZoom","clusterMinPoints","clusterProperties","lineMetrics","generateId","promoteId"];return f(A,((A,r)=>e.includes(A)))},f=(A,e)=>Object.fromEntries(Object.entries(A).filter((([A,r])=>e(A,r))));t.Map.prototype.addH3TSource=function(A,e){const r=Object.assign({},n,e,{type:"vector",format:"pbf"});r.generate=A=>"Polygon"===r.geometry_type?[i.h3.h3ToGeoBoundary(A,!0)]:i.h3.h3ToGeo(A).reverse(),r.promoteId&&(r.promoteId="h3id"),t.addProtocol("h3tiles",((A,e)=>{const t=`http${!1===r.https?"":"s"}://${A.url.split("://")[1]}`,n=A.url.split(/\/|\./i),a=n.length,f=n.slice(a-4,a-1).map((A=>1*A)),s=new AbortController,u=s.signal;let l;r.timeout>0&&setTimeout((()=>s.abort()),r.timeout),fetch(t,{signal:u}).then((A=>{if(A.ok)return l=performance.now(),A.json();throw new Error(A.statusText)})).then((A=>o(A,r))).then((A=>{const t=i.tovt(A).getTile(...f),n={};n[r.sourcelayer]=t;const o=i.topbf.fromGeojsonVt(n,{version:2});r.debug&&console.log(`${f}: ${A.features.length} features, ${(performance.now()-l).toFixed(0)} ms`),e(null,o,null,null)})).catch((A=>{"AbortError"===A.name&&(A.message=`Timeout: Tile .../${f.join("/")}.h3t is taking too long to fetch`),e(new Error(A))}))})),this.addSource(A,(A=>{const e=["type","url","tiles","bounds","scheme","minzoom","maxzoom","attribution","promoteId","volatile"];return f(A,((A,r)=>e.includes(A)))})(r))};t.Map.prototype.addH3JSource=function(A,e){const r=new AbortController,t=r.signal,f=Object.assign({},n,e,{type:"geojson"});let s;if(f.generate=A=>"Polygon"===f.geometry_type?[i.h3.h3ToGeoBoundary(A,!0)]:i.h3.h3ToGeo(A).reverse(),f.promoteId&&(f.promoteId="h3id"),f.timeout>0&&setTimeout((()=>r.abort()),f.timeout),"string"==typeof f.data)return f.timeout>0&&setTimeout((()=>r.abort()),f.timeout),new Promise(((e,r)=>{fetch(f.data,{signal:t}).then((A=>{if(A.ok)return s=performance.now(),A.json();throw new Error(A.statusText)})).then((A=>o(A,f))).then((r=>{f.data=r,this.addSource(A,a(f)),f.debug&&console.log(`${r.features.length} features, ${(performance.now()-s).toFixed(0)} ms`),e(this)})).catch((A=>{"AbortError"===A.name&&(A.message=`Timeout: Source file ${f.data} is taking too long to fetch`),console.error(A.message)}))}));o(f.data,f).then((e=>(f.data=e,this.addSource(A,a(f)),new Promise(((A,e)=>A(this))))))};t.Map.prototype.setH3JData=function(A,e,r){const t=Object.assign({},n,r);t.generate=A=>"Polygon"===t.geometry_type?[i.h3.h3ToGeoBoundary(A,!0)]:i.h3.h3ToGeo(A).reverse(),t.promoteId&&(t.promoteId="h3id");const a=new AbortController,f=a.signal,s=this.getSource(A);let u;"string"==typeof e?(t.timeout>0&&setTimeout((()=>a.abort()),t.timeout),fetch(e,{signal:f}).then((A=>{if(A.ok)return u=performance.now(),A.json();throw new Error(A.statusText)})).then((A=>o(A,t))).then((A=>{s.setData(A),t.debug&&console.log(`${A.features.length} features, ${(performance.now()-u).toFixed(0)} ms`)})).catch((A=>{"AbortError"===A.name&&(A.message=`Timeout: Data file ${e} is taking too long to fetch`),console.error(A.message)}))):o(e,t).then((A=>s.setData(A)))}},{"geojson-vt":6,"h3-js":7,"vt-pbf":10}]},{},[12])(12)}));</script>
<style type="text/css">svg.svelte-d2loi5{display:block;fill:#e15042}.sprite-icon.svelte-w9y5n9.svelte-w9y5n9{align-self:center;justify-self:center;opacity:.75;background-repeat:no-repeat}li.svelte-w9y5n9.svelte-w9y5n9{text-align:left;cursor:default;display:grid;grid-template-columns:40px 1fr;color:var(--color-text);padding:8px 0;font-size:14px;line-height:18px;min-width:fit-content;outline:0}li.svelte-w9y5n9.svelte-w9y5n9:first-child{padding-top:10px}li.svelte-w9y5n9.svelte-w9y5n9:last-child{padding-bottom:10px}li.picked.svelte-w9y5n9.svelte-w9y5n9{background-color:#e7edff}li.picked.svelte-w9y5n9 .secondary.svelte-w9y5n9{color:#96a4c7;padding-left:4px}li.picked.svelte-w9y5n9 .line2.svelte-w9y5n9{color:#96a4c7}li.selected.svelte-w9y5n9.svelte-w9y5n9{background-color:#f3f6ff}li.selected.svelte-w9y5n9.svelte-w9y5n9{animation:svelte-w9y5n9-backAndForth 5s linear infinite}li.selected.svelte-w9y5n9 .primary.svelte-w9y5n9{color:#2b8bfb}li.selected.svelte-w9y5n9 .secondary.svelte-w9y5n9{color:#a2adc7;padding-left:4px}li.selected.svelte-w9y5n9 .line2.svelte-w9y5n9{color:#a2adc7}li.svelte-w9y5n9>img.svelte-w9y5n9{align-self:center;justify-self:center;opacity:.75}.texts.svelte-w9y5n9.svelte-w9y5n9{padding:0 17px 0 0}.texts.svelte-w9y5n9>.svelte-w9y5n9{white-space:nowrap;display:block;min-width:fit-content}.primary.svelte-w9y5n9.svelte-w9y5n9{font-weight:600}.secondary.svelte-w9y5n9.svelte-w9y5n9{color:#aeb6c7;padding-left:4px}.line2.svelte-w9y5n9.svelte-w9y5n9{color:#aeb6c7}@keyframes svelte-w9y5n9-backAndForth{0%{transform:translate(0)}10%{transform:translate(0)}45%{transform:translate(calc(-100% + 270px))}55%{transform:translate(calc(-100% + 270px))}90%{transform:translate(0)}to{transform:translate(0)}}div.svelte-1ocfouu{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);pointer-events:none;display:flex;align-items:center}.loading-icon.svelte-1ocfouu{animation:svelte-1ocfouu-rotate .8s infinite cubic-bezier(.45,.05,.55,.95)}@keyframes svelte-1ocfouu-rotate{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}svg.svelte-gzo3ar.svelte-gzo3ar{display:block;fill:#6b7c93;stroke:#6b7c93}.list-icon.svelte-gzo3ar.svelte-gzo3ar{grid-row:1/3;align-self:center;margin:8px}.in-map.svelte-gzo3ar.svelte-gzo3ar{height:30px}.maplibregl-canvas-container .marker-selected{z-index:1}.maplibregl-canvas-container svg.svelte-gzo3ar path.svelte-gzo3ar,.leaflet-map-pane svg.svelte-gzo3ar path.svelte-gzo3ar{fill:#3170fe;stroke:#3170fe}.marker-selected svg.svelte-gzo3ar path.svelte-gzo3ar{fill:#98b7ff;stroke:#3170fe}.marker-reverse svg.svelte-gzo3ar path.svelte-gzo3ar{fill:silver;stroke:gray}.marker-interactive{cursor:pointer!important}.maptiler-gc-popup>.maplibregl-popup-content{padding:2px 8px}svg.svelte-en2qvf{display:block;fill:var(--color-icon-button)}circle.svelte-1aq105l{stroke-width:1.875;fill:none}path.svelte-1aq105l{stroke-width:1.875;stroke-linecap:round}svg.svelte-1aq105l{display:block;stroke:var(--color-icon-button)}form.svelte-bz0zu3.svelte-bz0zu3{font-family:Open Sans,Ubuntu,Helvetica Neue,Arial,Helvetica,sans-serif;position:relative;background-color:#fff;z-index:10;border-radius:4px;margin:0;transition:max-width .25s;box-shadow:0 2px 5px #33335926;--color-text:#444952;--color-icon-button:#444952}form.svelte-bz0zu3.svelte-bz0zu3,form.svelte-bz0zu3 .svelte-bz0zu3,form.svelte-bz0zu3 .svelte-bz0zu3:after,form.svelte-bz0zu3 .svelte-bz0zu3:before{box-sizing:border-box}form.can-collapse.svelte-bz0zu3.svelte-bz0zu3{max-width:29px}form.can-collapse.svelte-bz0zu3 input.svelte-bz0zu3::placeholder{transition:opacity .25s;opacity:0}form.svelte-bz0zu3.svelte-bz0zu3,form.svelte-bz0zu3.svelte-bz0zu3:focus-within,form.svelte-bz0zu3.svelte-bz0zu3:hover{width:270px;max-width:270px}form.svelte-bz0zu3 input.svelte-bz0zu3::placeholder,form.svelte-bz0zu3:focus-within input.svelte-bz0zu3::placeholder,form.svelte-bz0zu3:hover input.svelte-bz0zu3::placeholder{opacity:1}input.svelte-bz0zu3.svelte-bz0zu3{font:inherit;font-size:14px;flex-grow:1;min-height:29px;background-color:transparent;color:#444952;white-space:nowrap;overflow:hidden;border:0;margin:0;padding:0}input.svelte-bz0zu3.svelte-bz0zu3:focus{color:#444952;outline:0;outline:none;box-shadow:none}ul.svelte-bz0zu3.svelte-bz0zu3,div.error.svelte-bz0zu3.svelte-bz0zu3,div.no-results.svelte-bz0zu3.svelte-bz0zu3{background-color:#fff;border-radius:4px;left:0;list-style:none;margin:0;padding:0;position:absolute;width:100%;top:calc(100% + 6px);overflow:hidden}ul.svelte-bz0zu3.svelte-bz0zu3{font-size:14px;line-height:16px;box-shadow:0 5px 10px #33335926}div.error.svelte-bz0zu3.svelte-bz0zu3,div.no-results.svelte-bz0zu3.svelte-bz0zu3{font:inherit;line-height:18px;font-size:12px;display:flex;gap:16px}div.error.svelte-bz0zu3.svelte-bz0zu3{padding:16px;font-weight:600;color:#e25041;background-color:#fbeae8}div.error.svelte-bz0zu3 div.svelte-bz0zu3{flex-grow:1}div.error.svelte-bz0zu3 svg{flex-shrink:0;width:20px;height:20px}div.error.svelte-bz0zu3 button.svelte-bz0zu3{flex-shrink:0}div.error.svelte-bz0zu3 button.svelte-bz0zu3>svg{width:13px;fill:#e25041}div.error.svelte-bz0zu3 button.svelte-bz0zu3:hover svg,div.error.svelte-bz0zu3 button.svelte-bz0zu3:active svg{fill:#444952}div.no-results.svelte-bz0zu3.svelte-bz0zu3{padding:14px 24px 14px 16px;font-weight:400;color:#6b7c93;box-shadow:0 5px 10px #33335926}div.no-results.svelte-bz0zu3 svg{margin-top:4px;flex-shrink:0;width:20px;height:20px;width:30px;height:30px}.leaflet-bottom ul.options.svelte-bz0zu3.svelte-bz0zu3,.maplibregl-ctrl-bottom-left ul.options.svelte-bz0zu3.svelte-bz0zu3,.maplibregl-ctrl-bottom-right ul.options.svelte-bz0zu3.svelte-bz0zu3{top:auto;bottom:calc(100% + 6px)}button.svelte-bz0zu3.svelte-bz0zu3{padding:0;margin:0;border:0;background-color:transparent;height:auto;width:auto}button.svelte-bz0zu3.svelte-bz0zu3:hover{background-color:transparent}button.svelte-bz0zu3:hover svg,button.svelte-bz0zu3:active svg{fill:#2b8bfb}.input-group.svelte-bz0zu3.svelte-bz0zu3{display:flex;align-items:stretch;gap:7px;padding-inline:8px;border-radius:4px;overflow:hidden}.input-group.svelte-bz0zu3.svelte-bz0zu3:focus-within{outline:#2b8bfb solid 2px}.search-button.svelte-bz0zu3.svelte-bz0zu3{flex-shrink:0}.maplibregl-ctrl-geocoder:not(.maptiler-ctrl) .search-button svg{width:12px!important;transform:translate(.5px)}.clear-button-container.svelte-bz0zu3.svelte-bz0zu3{display:flex;display:none;position:relative;align-items:stretch}.clear-button-container.displayable.svelte-bz0zu3.svelte-bz0zu3{display:flex;flex-shrink:0}.maplibregl-ctrl-geocoder{position:relative;z-index:3}.maptiler-ctrl:not(:empty){box-shadow:none}.maptiler-ctrl .input-group.svelte-bz0zu3.svelte-bz0zu3{padding-inline:8px;border:white solid 2px}.maptiler-ctrl .input-group.svelte-bz0zu3.svelte-bz0zu3:focus-within{border:#2b8bfb solid 2px;outline:0;outline:none}.maptiler-ctrl form.can-collapse.svelte-bz0zu3.svelte-bz0zu3{max-width:33px}.maptiler-ctrl form.svelte-bz0zu3.svelte-bz0zu3,.maptiler-ctrl form.svelte-bz0zu3.svelte-bz0zu3:focus-within,.maptiler-ctrl form.svelte-bz0zu3.svelte-bz0zu3:hover{width:270px;max-width:270px}
</style>
<script>(function(j,ee){typeof exports=="object"&&typeof module<"u"?ee(exports,require("maplibre-gl")):typeof define=="function"&&define.amd?define(["exports","maplibre-gl"],ee):(j=typeof globalThis<"u"?globalThis:j||self,ee(j.maplibreglMaptilerGeocoder={},j.maplibregl))})(this,function(j,ee){"use strict";var Ws=Object.defineProperty;var bn=j=>{throw TypeError(j)};var Gs=(j,ee,me)=>ee in j?Ws(j,ee,{enumerable:!0,configurable:!0,writable:!0,value:me}):j[ee]=me;var A=(j,ee,me)=>Gs(j,typeof ee!="symbol"?ee+"":ee,me),wn=(j,ee,me)=>ee.has(j)||bn("Cannot "+me);var ue=(j,ee,me)=>(wn(j,ee,"read from private field"),me?me.call(j):ee.get(j)),Vt=(j,ee,me)=>ee.has(j)?bn("Cannot add the same private member more than once"):ee instanceof WeakSet?ee.add(j):ee.set(j,me),kt=(j,ee,me,dt)=>(wn(j,ee,"write to private field"),dt?dt.call(j,me):ee.set(j,me),me);var fn,cn;function me(i){const e=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(i){for(const t in i)if(t!=="default"){const n=Object.getOwnPropertyDescriptor(i,t);Object.defineProperty(e,t,n.get?n:{enumerable:!0,get:()=>i[t]})}}return e.default=i,Object.freeze(e)}const dt=me(ee);function ne(){}function Ln(i,e){for(const t in e)i[t]=e[t];return i}function yi(i){return i()}function vi(){return Object.create(null)}function Ue(i){i.forEach(yi)}function bi(i){return typeof i=="function"}function Ke(i,e){return i!=i?e==e:i!==e||i&&typeof i=="object"||typeof i=="function"}let Rt;function ye(i,e){return i===e?!0:(Rt||(Rt=document.createElement("a")),Rt.href=e,i===Rt.href)}function _n(i){return Object.keys(i).length===0}function Sn(i,e,t,n){if(i){const r=wi(i,e,t,n);return i[0](r)}}function wi(i,e,t,n){return i[1]&&n?Ln(t.ctx.slice(),i[1](n(e))):t.ctx}function xn(i,e,t,n){return i[2],e.dirty}function Tn(i,e,t,n,r,u){if(r){const a=wi(e,t,n,u);i.p(a,r)}}function Mn(i){if(i.ctx.length>32){const e=[],t=i.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function Pt(i){return i??""}function V(i,e){i.appendChild(e)}function te(i,e,t){i.insertBefore(e,t||null)}function $(i){i.parentNode&&i.parentNode.removeChild(i)}function Y(i){return document.createElement(i)}function ke(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function Ye(i){return document.createTextNode(i)}function we(){return Ye(" ")}function Cn(){return Ye("")}function he(i,e,t,n){return i.addEventListener(e,t,n),()=>i.removeEventListener(e,t,n)}function Nn(i){return function(e){return e.preventDefault(),i.call(this,e)}}function S(i,e,t){t==null?i.removeAttribute(e):i.getAttribute(e)!==t&&i.setAttribute(e,t)}function kn(i){return Array.from(i.childNodes)}function gt(i,e){e=""+e,i.data!==e&&(i.data=e)}function Ei(i,e){i.value=e??""}function Ie(i,e,t){i.classList.toggle(e,!!t)}function On(i,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(i,{detail:e,bubbles:t,cancelable:n})}let mt;function pt(i){mt=i}function Li(){if(!mt)throw new Error("Function called outside component initialization");return mt}function Rn(i){Li().$$.on_destroy.push(i)}function _i(){const i=Li();return(e,t,{cancelable:n=!1}={})=>{const r=i.$$.callbacks[e];if(r){const u=On(e,t,{cancelable:n});return r.slice().forEach(a=>{a.call(i,u)}),!u.defaultPrevented}return!0}}function Pn(i,e){const t=i.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const ut=[],Yt=[];let at=[];const Si=[],In=Promise.resolve();let Qt=!1;function An(){Qt||(Qt=!0,In.then(xi))}function Xt(i){at.push(i)}const Jt=new Set;let ft=0;function xi(){if(ft!==0)return;const i=mt;do{try{for(;ft<ut.length;){const e=ut[ft];ft++,pt(e),Bn(e.$$)}}catch(e){throw ut.length=0,ft=0,e}for(pt(null),ut.length=0,ft=0;Yt.length;)Yt.pop()();for(let e=0;e<at.length;e+=1){const t=at[e];Jt.has(t)||(Jt.add(t),t())}at.length=0}while(ut.length);for(;Si.length;)Si.pop()();Qt=!1,Jt.clear(),pt(i)}function Bn(i){if(i.fragment!==null){i.update(),Ue(i.before_update);const e=i.dirty;i.dirty=[-1],i.fragment&&i.fragment.p(i.ctx,e),i.after_update.forEach(Xt)}}function Wn(i){const e=[],t=[];at.forEach(n=>i.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),at=e}const It=new Set;let nt;function yt(){nt={r:0,c:[],p:nt}}function vt(){nt.r||Ue(nt.c),nt=nt.p}function re(i,e){i&&i.i&&(It.delete(i),i.i(e))}function fe(i,e,t,n){if(i&&i.o){if(It.has(i))return;It.add(i),nt.c.push(()=>{It.delete(i),n&&(t&&i.d(1),n())}),i.o(e)}else n&&n()}function Ti(i){return(i==null?void 0:i.length)!==void 0?i:Array.from(i)}function Gn(i,e){fe(i,1,1,()=>{e.delete(i.key)})}function Dn(i,e,t,n,r,u,a,o,g,c,E,_){let M=i.length,R=u.length,k=M;const I={};for(;k--;)I[i[k].key]=k;const C=[],O=new Map,x=new Map,N=[];for(k=R;k--;){const W=_(r,u,k),s=t(W);let l=a.get(s);l?N.push(()=>l.p(W,e)):(l=c(s,W),l.c()),O.set(s,C[k]=l),s in I&&x.set(s,Math.abs(k-I[s]))}const P=new Set,B=new Set;function z(W){re(W,1),W.m(o,E),a.set(W.key,W),E=W.first,R--}for(;M&&R;){const W=C[R-1],s=i[M-1],l=W.key,f=s.key;W===s?(E=W.first,M--,R--):O.has(f)?!a.has(l)||P.has(l)?z(W):B.has(f)?M--:x.get(l)>x.get(f)?(B.add(l),z(W)):(P.add(f),M--):(g(s,a),M--)}for(;M--;){const W=i[M];O.has(W.key)||g(W,a)}for(;R;)z(C[R-1]);return Ue(N),C}function Qe(i){i&&i.c()}function qe(i,e,t){const{fragment:n,after_update:r}=i.$$;n&&n.m(e,t),Xt(()=>{const u=i.$$.on_mount.map(yi).filter(bi);i.$$.on_destroy?i.$$.on_destroy.push(...u):Ue(u),i.$$.on_mount=[]}),r.forEach(Xt)}function Fe(i,e){const t=i.$$;t.fragment!==null&&(Wn(t.after_update),Ue(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function zn(i,e){i.$$.dirty[0]===-1&&(ut.push(i),An(),i.$$.dirty.fill(0)),i.$$.dirty[e/31|0]|=1<<e%31}function Xe(i,e,t,n,r,u,a=null,o=[-1]){const g=mt;pt(i);const c=i.$$={fragment:null,ctx:[],props:u,update:ne,not_equal:r,bound:vi(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(g?g.$$.context:[])),callbacks:vi(),dirty:o,skip_bound:!1,root:e.target||g.$$.root};a&&a(c.root);let E=!1;if(c.ctx=t?t(i,e.props||{},(_,M,...R)=>{const k=R.length?R[0]:M;return c.ctx&&r(c.ctx[_],c.ctx[_]=k)&&(!c.skip_bound&&c.bound[_]&&c.bound[_](k),E&&zn(i,_)),M}):[],c.update(),E=!0,Ue(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const _=kn(e.target);c.fragment&&c.fragment.l(_),_.forEach($)}else c.fragment&&c.fragment.c();e.intro&&re(i.$$.fragment),qe(i,e.target,e.anchor),xi()}pt(g)}class Je{constructor(){A(this,"$$");A(this,"$$set")}$destroy(){Fe(this,1),this.$destroy=ne}$on(e,t){if(!bi(t))return ne;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const r=n.indexOf(t);r!==-1&&n.splice(r,1)}}$set(e){this.$$set&&!_n(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Un="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Un);function qn(i){let e,t;return{c(){e=ke("svg"),t=ke("path"),S(t,"d","M13.12.706a.982.982 0 0 0-1.391 0L6.907 5.517 2.087.696a.982.982 0 1 0-1.391 1.39l4.821 4.821L.696 11.73a.982.982 0 1 0 1.39 1.39l4.821-4.821 4.822 4.821a.982.982 0 1 0 1.39-1.39L8.298 6.908l4.821-4.822a.988.988 0 0 0 0-1.38Z"),S(e,"viewBox","0 0 14 14"),S(e,"width","13"),S(e,"height","13"),S(e,"class","svelte-en2qvf")},m(n,r){te(n,e,r),V(e,t)},p:ne,i:ne,o:ne,d(n){n&&$(e)}}}class Mi extends Je{constructor(e){super(),Xe(this,e,null,qn,Ke,{})}}function Fn(i){let e,t;return{c(){e=ke("svg"),t=ke("path"),S(t,"d","M15 0C6.705 0 0 6.705 0 15C0 23.295 6.705 30 15 30C23.295 30 30 23.295 30 15C30 6.705 23.295 0 15 0ZM22.5 20.385L20.385 22.5L15 17.115L9.615 22.5L7.5 20.385L12.885 15L7.5 9.615L9.615 7.5L15 12.885L20.385 7.5L22.5 9.615L17.115 15L22.5 20.385Z"),S(e,"viewBox","0 0 30 30"),S(e,"fill","none"),S(e,"xmlns","http://www.w3.org/2000/svg"),S(e,"class","svelte-d2loi5")},m(n,r){te(n,e,r),V(e,t)},p:ne,i:ne,o:ne,d(n){n&&$(e)}}}class Ci extends Je{constructor(e){super(),Xe(this,e,null,Fn,Ke,{})}}function jn(i){let e,t;return{c(){e=Y("img"),ye(e.src,t=i[3]+"area.svg")||S(e,"src",t),S(e,"alt",i[7]),S(e,"title",i[7]),S(e,"class","svelte-w9y5n9")},m(n,r){te(n,e,r)},p(n,r){r&8&&!ye(e.src,t=n[3]+"area.svg")&&S(e,"src",t),r&128&&S(e,"alt",n[7]),r&128&&S(e,"title",n[7])},d(n){n&&$(e)}}}function Zn(i){let e,t;return{c(){e=Y("img"),ye(e.src,t=i[3]+"reverse.svg")||S(e,"src",t),S(e,"alt",i[7]),S(e,"title",i[7]),S(e,"class","svelte-w9y5n9")},m(n,r){te(n,e,r)},p(n,r){r&8&&!ye(e.src,t=n[3]+"reverse.svg")&&S(e,"src",t),r&128&&S(e,"alt",n[7]),r&128&&S(e,"title",n[7])},d(n){n&&$(e)}}}function Hn(i){let e,t;return{c(){e=Y("img"),ye(e.src,t=i[3]+"poi.svg")||S(e,"src",t),S(e,"alt",i[7]),S(e,"title",i[7]),S(e,"class","svelte-w9y5n9")},m(n,r){te(n,e,r)},p(n,r){r&8&&!ye(e.src,t=n[3]+"poi.svg")&&S(e,"src",t),r&128&&S(e,"alt",n[7]),r&128&&S(e,"title",n[7])},d(n){n&&$(e)}}}function Vn(i){let e,t;return{c(){e=Y("img"),ye(e.src,t=i[3]+"postal_code.svg")||S(e,"src",t),S(e,"alt",i[7]),S(e,"title",i[7]),S(e,"class","svelte-w9y5n9")},m(n,r){te(n,e,r)},p(n,r){r&8&&!ye(e.src,t=n[3]+"postal_code.svg")&&S(e,"src",t),r&128&&S(e,"alt",n[7]),r&128&&S(e,"title",n[7])},d(n){n&&$(e)}}}function Kn(i){let e,t;return{c(){e=Y("img"),ye(e.src,t=i[3]+"street.svg")||S(e,"src",t),S(e,"alt",i[7]),S(e,"title",i[7]),S(e,"class","svelte-w9y5n9")},m(n,r){te(n,e,r)},p(n,r){r&8&&!ye(e.src,t=n[3]+"street.svg")&&S(e,"src",t),r&128&&S(e,"alt",n[7]),r&128&&S(e,"title",n[7])},d(n){n&&$(e)}}}function Yn(i){let e,t;return{c(){e=Y("img"),ye(e.src,t=i[3]+"road.svg")||S(e,"src",t),S(e,"alt",i[7]),S(e,"title",i[7]),S(e,"class","svelte-w9y5n9")},m(n,r){te(n,e,r)},p(n,r){r&8&&!ye(e.src,t=n[3]+"road.svg")&&S(e,"src",t),r&128&&S(e,"alt",n[7]),r&128&&S(e,"title",n[7])},d(n){n&&$(e)}}}function Qn(i){let e,t;return{c(){e=Y("img"),ye(e.src,t=i[3]+"housenumber.svg")||S(e,"src",t),S(e,"alt",i[7]),S(e,"title",i[7]),S(e,"class","svelte-w9y5n9")},m(n,r){te(n,e,r)},p(n,r){r&8&&!ye(e.src,t=n[3]+"housenumber.svg")&&S(e,"src",t),r&128&&S(e,"alt",n[7]),r&128&&S(e,"title",n[7])},d(n){n&&$(e)}}}function Xn(i){let e,t,n,r;return{c(){e=Y("img"),ye(e.src,t=i[5])||S(e,"src",t),S(e,"alt",i[4]),S(e,"title",i[7]),S(e,"class","svelte-w9y5n9")},m(u,a){te(u,e,a),n||(r=he(e,"error",i[14]),n=!0)},p(u,a){a&32&&!ye(e.src,t=u[5])&&S(e,"src",t),a&16&&S(e,"alt",u[4]),a&128&&S(e,"title",u[7])},d(u){u&&$(e),n=!1,r()}}}function Jn(i){let e,t;return{c(){e=Y("div"),S(e,"class","sprite-icon svelte-w9y5n9"),S(e,"style",t=`
        width: ${i[6].width/xe}px;
        height: ${i[6].height/xe}px;
        background-image: url(${i[3]}sprite${$t}.png);
        background-position: -${i[6].x/xe}px -${i[6].y/xe}px;
        background-size: ${Oe.width/xe}px ${Oe.height/xe}px;
      `),S(e,"title",i[7])},m(n,r){te(n,e,r)},p(n,r){r&72&&t!==(t=`
        width: ${n[6].width/xe}px;
        height: ${n[6].height/xe}px;
        background-image: url(${n[3]}sprite${$t}.png);
        background-position: -${n[6].x/xe}px -${n[6].y/xe}px;
        background-size: ${Oe.width/xe}px ${Oe.height/xe}px;
      `)&&S(e,"style",t),r&128&&S(e,"title",n[7])},d(n){n&&$(e)}}}function Ni(i){let e,t;return{c(){e=Y("span"),t=Ye(i[7]),S(e,"class","secondary svelte-w9y5n9")},m(n,r){te(n,e,r),V(e,t)},p(n,r){r&128&&gt(t,n[7])},d(n){n&&$(e)}}}function $n(i){let e,t,n,r,u,a,o,g,c,E=(i[8]?i[0].place_name:i[0].place_name.replace(/,.*/,""))+"",_,M,R=i[2]==="always"||i[2]!=="never"&&!i[0].address&&!i[0].id.startsWith("road.")&&!i[0].id.startsWith("address.")&&!i[0].id.startsWith("postal_code.")&&(!i[0].id.startsWith("poi.")||!i[5])&&!i[8],k,I,C=(i[8]?"":i[0].place_name.replace(/[^,]*,?\s*/,""))+"",O,x,N,P,B,z;function W(m,h){return h&1&&(t=null),h&1&&(n=null),h&1&&(r=null),h&1&&(u=null),Oe&&m[6]?Jn:m[5]?Xn:m[0].address?Qn:(t==null&&(t=!!m[0].id.startsWith("road.")),t?Yn:(n==null&&(n=!!m[0].id.startsWith("address.")),n?Kn:(r==null&&(r=!!m[0].id.startsWith("postal_code.")),r?Vn:(u==null&&(u=!!m[0].id.startsWith("poi.")),u?Hn:m[8]?Zn:jn))))}let s=W(i,-1),l=s(i),f=R&&Ni(i);return{c(){e=Y("li"),l.c(),a=we(),o=Y("span"),g=Y("span"),c=Y("span"),_=Ye(E),M=we(),f&&f.c(),k=we(),I=Y("span"),O=Ye(C),S(c,"class","primary svelte-w9y5n9"),S(g,"class","svelte-w9y5n9"),S(I,"class","line2 svelte-w9y5n9"),S(o,"class","texts svelte-w9y5n9"),S(e,"tabindex","-1"),S(e,"role","option"),S(e,"aria-selected",x=i[1]==="selected"),S(e,"aria-checked",N=i[1]==="picked"),S(e,"class",P=Pt(i[1])+" svelte-w9y5n9")},m(m,h){te(m,e,h),l.m(e,null),V(e,a),V(e,o),V(o,g),V(g,c),V(c,_),V(g,M),f&&f.m(g,null),V(o,k),V(o,I),V(I,O),B||(z=[he(e,"mouseenter",i[13]),he(e,"focus",i[15]),he(e,"click",i[16])],B=!0)},p(m,[h]){s===(s=W(m,h))&&l?l.p(m,h):(l.d(1),l=s(m),l&&(l.c(),l.m(e,a))),h&257&&E!==(E=(m[8]?m[0].place_name:m[0].place_name.replace(/,.*/,""))+"")&&gt(_,E),h&293&&(R=m[2]==="always"||m[2]!=="never"&&!m[0].address&&!m[0].id.startsWith("road.")&&!m[0].id.startsWith("address.")&&!m[0].id.startsWith("postal_code.")&&(!m[0].id.startsWith("poi.")||!m[5])&&!m[8]),R?f?f.p(m,h):(f=Ni(m),f.c(),f.m(g,null)):f&&(f.d(1),f=null),h&257&&C!==(C=(m[8]?"":m[0].place_name.replace(/[^,]*,?\s*/,""))+"")&&gt(O,C),h&2&&x!==(x=m[1]==="selected")&&S(e,"aria-selected",x),h&2&&N!==(N=m[1]==="picked")&&S(e,"aria-checked",N),h&2&&P!==(P=Pt(m[1])+" svelte-w9y5n9")&&S(e,"class",P)},i:ne,o:ne,d(m){m&&$(e),l.d(),f&&f.d(),B=!1,Ue(z)}}}const ki=typeof devicePixelRatio>"u"?1:devicePixelRatio>1.25,$t=ki?"@2x":"",xe=ki?2:1;let Oe,At;function er(i,e,t){let n,r,u,{feature:a}=e,{style:o="default"}=e,{showPlaceType:g}=e,{missingIconsCache:c}=e,{iconsBaseUrl:E}=e;const _=_i();let M,R,k,I;function C(){At??(At=fetch(`${E}sprite${$t}.json`).then(s=>s.json()).then(s=>{Oe=s}).catch(()=>{Oe=null}))}function O(){R&&c.add(R),x()}function x(){Oe!==void 0?N():(C(),At==null||At.then(N))}function N(){do{if(I--,t(4,M=n==null?void 0:n[I]),t(6,k=M?Oe==null?void 0:Oe.icons[M]:void 0),k)break;t(5,R=M?E+M.replace(/ /g,"_")+".svg":void 0)}while(I>-1&&(!R||c.has(R)))}function P(s){Pn.call(this,i,s)}const B=()=>O(),z=()=>_("select",void 0),W=s=>{document.activeElement!==s.target&&_("select",void 0)};return i.$$set=s=>{"feature"in s&&t(0,a=s.feature),"style"in s&&t(1,o=s.style),"showPlaceType"in s&&t(2,g=s.showPlaceType),"missingIconsCache"in s&&t(11,c=s.missingIconsCache),"iconsBaseUrl"in s&&t(3,E=s.iconsBaseUrl)},i.$$.update=()=>{var s,l,f,m,h;i.$$.dirty&1&&t(12,n=(s=a.properties)==null?void 0:s.categories),i.$$.dirty&1&&t(8,r=a.place_type[0]==="reverse"),i.$$.dirty&1&&t(7,u=((f=(l=a.properties)==null?void 0:l.categories)==null?void 0:f.join(", "))??((h=(m=a.properties)==null?void 0:m.place_type_name)==null?void 0:h[0])??a.place_type[0]),i.$$.dirty&4096&&(I=(n==null?void 0:n.length)??0,x())},[a,o,g,E,M,R,k,u,r,_,O,c,n,P,B,z,W]}class tr extends Je{constructor(e){super(),Xe(this,e,er,$n,Ke,{feature:0,style:1,showPlaceType:2,missingIconsCache:11,iconsBaseUrl:3})}}function ir(i){let e;return{c(){e=Y("div"),e.innerHTML='<svg viewBox="0 0 18 18" width="24" height="24" class="loading-icon svelte-1ocfouu"><path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"></path><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"></path></svg>',S(e,"class","svelte-1ocfouu")},m(t,n){te(t,e,n)},p:ne,i:ne,o:ne,d(t){t&&$(e)}}}class nr extends Je{constructor(e){super(),Xe(this,e,null,ir,Ke,{})}}function rr(i){let e,t,n;return{c(){e=ke("svg"),t=ke("path"),S(t,"stroke-width","4"),S(t,"d","M 5,33.103579 C 5,17.607779 18.457,5 35,5 C 51.543,5 65,17.607779 65,33.103579 C 65,56.388679 40.4668,76.048179 36.6112,79.137779 C 36.3714,79.329879 36.2116,79.457979 36.1427,79.518879 C 35.8203,79.800879 35.4102,79.942779 35,79.942779 C 34.5899,79.942779 34.1797,79.800879 33.8575,79.518879 C 33.7886,79.457979 33.6289,79.330079 33.3893,79.138079 C 29.5346,76.049279 5,56.389379 5,33.103579 Z M 35.0001,49.386379 C 43.1917,49.386379 49.8323,42.646079 49.8323,34.331379 C 49.8323,26.016779 43.1917,19.276479 35.0001,19.276479 C 26.8085,19.276479 20.1679,26.016779 20.1679,34.331379 C 20.1679,42.646079 26.8085,49.386379 35.0001,49.386379 Z"),S(t,"class","svelte-gzo3ar"),S(e,"width",n=i[0]==="list"?20:void 0),S(e,"viewBox","0 0 70 85"),S(e,"fill","none"),S(e,"class","svelte-gzo3ar"),Ie(e,"in-map",i[0]!=="list"),Ie(e,"list-icon",i[0]==="list")},m(r,u){te(r,e,u),V(e,t)},p(r,[u]){u&1&&n!==(n=r[0]==="list"?20:void 0)&&S(e,"width",n),u&1&&Ie(e,"in-map",r[0]!=="list"),u&1&&Ie(e,"list-icon",r[0]==="list")},i:ne,o:ne,d(r){r&&$(e)}}}function sr(i,e,t){let{displayIn:n}=e;return i.$$set=r=>{"displayIn"in r&&t(0,n=r.displayIn)},[n]}class or extends Je{constructor(e){super(),Xe(this,e,sr,rr,Ke,{displayIn:0})}}function lr(i){let e,t;return{c(){e=ke("svg"),t=ke("path"),S(t,"d","M30.003-26.765C13.46-26.765 0-14.158 0 1.337c0 23.286 24.535 42.952 28.39 46.04.24.192.402.316.471.376.323.282.732.424 1.142.424.41 0 .82-.142 1.142-.424.068-.06.231-.183.471-.376 3.856-3.09 28.39-22.754 28.39-46.04 0-15.495-13.46-28.102-30.003-28.102Zm1.757 12.469c4.38 0 7.858 1.052 10.431 3.158 2.595 2.105 3.89 4.913 3.89 8.422 0 2.34-.53 4.362-1.593 6.063-1.063 1.702-3.086 3.616-6.063 5.742-2.042 1.51-3.337 2.659-3.89 3.446-.532.787-.8 1.82-.8 3.096v1.914h-8.449V15.18c0-2.041.434-3.815 1.306-5.325.872-1.51 2.467-3.118 4.785-4.82 2.233-1.594 3.7-2.89 4.402-3.889a5.582 5.582 0 0 0 1.087-3.35c0-1.382-.51-2.435-1.531-3.158-1.02-.723-2.45-1.087-4.28-1.087-3.19 0-6.826 1.047-10.91 3.131l-3.472-6.986c4.742-2.659 9.77-3.992 15.087-3.992Zm-1.88 37.324c1.765 0 3.124.472 4.08 1.408.98.936 1.47 2.276 1.47 4.02 0 1.68-.49 3.007-1.47 3.985-.977.957-2.336 1.435-4.08 1.435-1.787 0-3.171-.465-4.15-1.4-.978-.958-1.47-2.298-1.47-4.02 0-1.787.48-3.14 1.436-4.054.957-.915 2.355-1.374 4.184-1.374Z"),S(e,"viewBox","0 0 60.006 21.412"),S(e,"width","14"),S(e,"height","20"),S(e,"class","svelte-en2qvf")},m(n,r){te(n,e,r),V(e,t)},p:ne,i:ne,o:ne,d(n){n&&$(e)}}}class ur extends Je{constructor(e){super(),Xe(this,e,null,lr,Ke,{})}}function ar(i){let e,t,n;return{c(){e=ke("svg"),t=ke("circle"),n=ke("path"),S(t,"cx","4.789"),S(t,"cy","4.787"),S(t,"r","3.85"),S(t,"class","svelte-1aq105l"),S(n,"d","M12.063 12.063 7.635 7.635"),S(n,"class","svelte-1aq105l"),S(e,"xmlns","http://www.w3.org/2000/svg"),S(e,"width","13"),S(e,"height","13"),S(e,"viewBox","0 0 13 13"),S(e,"class","svelte-1aq105l")},m(r,u){te(r,e,u),V(e,t),V(e,n)},p:ne,i:ne,o:ne,d(r){r&&$(e)}}}class fr extends Je{constructor(e){super(),Xe(this,e,null,ar,Ke,{})}}function cr(i,e,t){const n=e[1],r=e[0],u=n-r;return i===n&&t?i:((i-r)%u+u)%u+r}function Bt(i){const e=[...i];return e[2]<e[0]&&(Math.abs((e[0]+e[2]+360)/2)>Math.abs((e[0]-360+e[2])/2)?e[0]-=360:e[2]+=360),e}let bt;async function hr(i,e,t){const n=i==null?void 0:i.getCenterAndZoom();for(const r of e??[])if(!(n&&(r.minZoom!=null&&r.minZoom>n[0]||r.maxZoom!=null&&r.maxZoom<n[0]))){if(r.type==="fixed")return r.coordinates.join(",");e:if(r.type==="client-geolocation"){if(bt&&r.cachedLocationExpiry&&bt.time+r.cachedLocationExpiry>Date.now()){if(!bt.coords)break e;return bt.coords}let u;try{return u=await new Promise((a,o)=>{t.signal.addEventListener("abort",()=>{o(Error("aborted"))}),navigator.geolocation.getCurrentPosition(g=>{a([g.coords.longitude,g.coords.latitude].map(c=>c.toFixed(6)).join(","))},g=>{o(g)},r)}),u}catch{}finally{r.cachedLocationExpiry&&(bt={time:Date.now(),coords:u})}if(t.signal.aborted)return}if(r.type==="server-geolocation")return"ip";if(n&&r.type==="map-center")return n[1].toFixed(6)+","+n[2].toFixed(6)}}const dr=/^(NORTH|SOUTH|[NS])?\s*([+-]?[0-8]?[0-9])\s*([\.:]|D(?:EG)?(?:REES)?)?\s*,?([6-9][0-9])\s*(['\.:]|M(?:IN)?(?:UTES)?)?\s*(NORTH|SOUTH|[NS])?(?:\s*[,/;]\s*|\s*)(EAST|WEST|[EW])?\s*([+-]?[0-1]?[0-9]?[0-9])\s*([\.:]|D(?:EG)?(?:REES)?)?\s*,?([6-9][0-9])\s*(['\.:]|M(?:IN)?(?:UTES)?)?\s*(EAST|WEST|[EW])?$/i,Oi=/^([+-]?[0-8]?[0-9])\s+([0-5]?[0-9]\.\d{3,})[\s,]{1,}([+-]?[0-1]?[0-9]?[0-9])\s+([0-5]?[0-9]\.\d{3,})$/,Ri=/^(NORTH|SOUTH|[NS])?[\s]*([+-]?[0-8]?[0-9](?:[\.,]\d{3,}))[\s]*([]?)[\s]*(NORTH|SOUTH|[NS])?[\s]*[,/;]?[\s]*(EAST|WEST|[EW])?[\s]*([+-]?[0-1]?[0-9]?[0-9](?:[\.,]\d{3,}))[\s]*([]?)[\s]*(EAST|WEST|[EW])?$/i,Pi=/^(NORTH|SOUTH|[NS])?\s*([+-]?[0-8]?[0-9])\s*(\.)\s*([0-5]?[0-9])\s*(\.)\s*((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(NORTH|SOUTH|[NS])?(?:\s*[,/;]\s*|\s*)(EAST|WEST|[EW])?\s*([+-]?[0-1]?[0-9]?[0-9])\s*(\.)\s*([0-5]?[0-9])\s*(\.)\s*((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(EAST|WEST|[EW])?$/i,Ii=/^(NORTH|SOUTH|[NS])?\s*([+-]?[0-8]?[0-9])\s*(D(?:EG)?(?:REES)?)\s*([0-5]?[0-9])\s*(M(?:IN)?(?:UTES)?)\s*((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(S(?:EC)?(?:ONDS)?)?\s*(NORTH|SOUTH|[NS])?(?:\s*[,/;]\s*|\s*)(EAST|WEST|[EW])?\s*([+-]?[0-1]?[0-9]?[0-9])\s*(D(?:EG)?(?:REES)?)\s*([0-5]?[0-9])\s*(M(?:IN)?(?:UTES)?)\s*((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(S(?:EC)?(?:ONDS)?)\s*(EAST|WEST|[EW])?$/i,Ai=/^(NORTH|SOUTH|[NS])?\s*([+-]?[0-8]?[0-9])\s*([\.:]|D(?:EG)?(?:REES)?)?\s*,?([0-5]?[0-9](?:[\.,]\d{1,})?)?\s*(['\.:]|M(?:IN)?(?:UTES)?)?\s*,?((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(''||||["\.])?\s*(NORTH|SOUTH|[NS])?(?:\s*[,/;]\s*|\s*)(EAST|WEST|[EW])?\s*([+-]?[0-1]?[0-9]?[0-9])\s*([\.:]|D(?:EG)?(?:REES)?)?\s*,?([0-5]?[0-9](?:[\.,]\d{1,})?)?\s*(['\.:]|M(?:IN)?(?:UTES)?)?\s*,?((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(''||||["\.])?\s*(EAST|WEST|[EW])?$/i;function gr(i){if(!["DMS","DM","DD"].includes(i))throw new Error("invalid format specified");if(this.decimalCoordinates&&this.decimalCoordinates.trim()){const e=this.decimalCoordinates.split(",").map(R=>Number(R.trim())),t=Number(e[0]),n=Number(e[1]),r=Math.abs(t),u=Math.abs(n),a=t>0?"N":"S",o=n>0?"E":"W";let g;i=="DD"&&(g=`${r} ${a}, ${u} ${o}`);const c=Math.floor(r),E=Math.floor(u),_=(r-c)*60,M=(u-E)*60;if(i=="DM"){let R=Bi(_,3).toFixed(3).padStart(6,"0"),k=Bi(M,3).toFixed(3).padStart(6,"0");R.endsWith(".000")&&k.endsWith(".000")&&(R=R.replace(/\.000$/,""),k=k.replace(/\.000$/,"")),g=`${c} ${R}' ${a}, ${E} ${k}' ${o}`}if(i=="DMS"){const R=Math.floor(_),k=Math.floor(M);let I=((_-R)*60).toFixed(1).padStart(4,"0"),C=((M-k)*60).toFixed(1).padStart(4,"0");const O=R.toString().padStart(2,"0"),x=k.toString().padStart(2,"0");I.endsWith(".0")&&C.endsWith(".0")&&(I=I.replace(/\.0$/,""),C=C.replace(/\.0$/,"")),g=`${c} ${O}' ${I}" ${a}, ${E} ${x}' ${C}" ${o}`}return g}else throw new Error("no decimal coordinates to convert")}function Bi(i,e){const t=Math.pow(10,e);return Math.round((i+Number.EPSILON)*t)/t}function ei(i,e){e||(e=5),i=i.replace(/\s+/g," ").trim();let t=null,n=null,r="",u="",a=null,o=[],g=!1;if(dr.test(i))throw new Error("invalid coordinate value");if(Oi.test(i))if(o=Oi.exec(i),g=wt(o),g)t=Math.abs(o[1])+o[2]/60,Number(o[1])<0&&(t*=-1),n=Math.abs(o[3])+o[4]/60,Number(o[3])<0&&(n*=-1),a="DM";else throw new Error("invalid coordinate format");else if(Ri.test(i))if(o=Ri.exec(i),g=wt(o),g){if(t=o[2],n=o[6],t.includes(",")&&(t=t.replace(",",".")),n.includes(",")&&(n=n.replace(",",".")),a="DD",Number(Math.round(t))==Number(t))throw new Error("integer only coordinate provided");if(Number(Math.round(n))==Number(n))throw new Error("integer only coordinate provided");o[1]?(r=o[1],u=o[5]):o[4]&&(r=o[4],u=o[8])}else throw new Error("invalid decimal coordinate format");else if(Pi.test(i))if(o=Pi.exec(i),g=wt(o),g)t=Math.abs(parseInt(o[2])),o[4]&&(t+=o[4]/60,a="DM"),o[6]&&(t+=o[6].replace(",",".")/3600,a="DMS"),parseInt(o[2])<0&&(t=-1*t),n=Math.abs(parseInt(o[9])),o[11]&&(n+=o[11]/60),o[13]&&(n+=o[13].replace(",",".")/3600),parseInt(o[9])<0&&(n=-1*n),o[1]?(r=o[1],u=o[8]):o[7]&&(r=o[7],u=o[14]);else throw new Error("invalid DMS coordinates format");else if(Ii.test(i))if(o=Ii.exec(i),g=wt(o),g)t=Math.abs(parseInt(o[2])),o[4]&&(t+=o[4]/60,a="DM"),o[6]&&(t+=o[6]/3600,a="DMS"),parseInt(o[2])<0&&(t=-1*t),n=Math.abs(parseInt(o[10])),o[12]&&(n+=o[12]/60),o[14]&&(n+=o[14]/3600),parseInt(o[10])<0&&(n=-1*n),o[1]?(r=o[1],u=o[9]):o[8]&&(r=o[8],u=o[16]);else throw new Error("invalid DMS coordinates format");else if(Ai.test(i)){if(o=Ai.exec(i),g=wt(o),o.filter(c=>c).length<=5)throw new Error("invalid coordinates format");if(g)t=Math.abs(parseInt(o[2])),o[4]&&(t+=o[4].replace(",",".")/60,a="DM"),o[6]&&(t+=o[6].replace(",",".")/3600,a="DMS"),parseInt(o[2])<0&&(t=-1*t),n=Math.abs(parseInt(o[10])),o[12]&&(n+=o[12].replace(",",".")/60),o[14]&&(n+=o[14].replace(",",".")/3600),parseInt(o[10])<0&&(n=-1*n),o[1]?(r=o[1],u=o[9]):o[8]&&(r=o[8],u=o[16]);else throw new Error("invalid coordinates format")}if(g){if(Math.abs(n)>=180)throw new Error("invalid longitude value");if(Math.abs(t)>=90)throw new Error("invalid latitude value");if(r&&!u||!r&&u)throw new Error("invalid coordinates value");if(r&&r==u)throw new Error("invalid coordinates format");t.toString().includes(",")&&(t=t.replace(",",".")),n.toString().includes(",")&&(n=n.replace(",","."));let c=/S|SOUTH/i;c.test(r)&&t>0&&(t=-1*t),c=/W|WEST/i,c.test(u)&&n>0&&(n=-1*n);const E=o[0].trim();let _,M;const R=/[,/;\u0020]/g,k=E.match(R);if(k==null){const O=Math.floor(i.length/2);_=E.substring(0,O).trim(),M=E.substring(O).trim()}else{let O;k.length%2==1?O=Math.floor(k.length/2):O=k.length/2-1;let x=0;if(O==0)x=E.indexOf(k[0]),_=E.substring(0,x).trim(),M=E.substring(x+1).trim();else{let N=0,P=0;for(;N<=O;)x=E.indexOf(k[N],P),P=x+1,N++;_=E.substring(0,x).trim(),M=E.substring(x+1).trim()}}const I=_.split(".");if(I.length==2&&I[1]==0&&I[1].length!=2)throw new Error("invalid coordinates format");const C=M.split(".");if(C.length==2&&C[1]==0&&C[1].length!=2)throw new Error("invalid coordinates format");if(/^\d+$/.test(_)||/^\d+$/.test(M))throw new Error("degree only coordinate/s provided");return t=Number(Number(t).toFixed(e)),n=Number(Number(n).toFixed(e)),Object.freeze({verbatimCoordinates:E,verbatimLatitude:_,verbatimLongitude:M,decimalLatitude:t,decimalLongitude:n,decimalCoordinates:`${t},${n}`,originalFormat:a,closeEnough:mr,toCoordinateFormat:gr})}else throw new Error("coordinates pattern match failed")}function wt(i){if(!isNaN(i[0]))return!1;const e=[...i];if(e.shift(),e.length%2>0)return!1;const t=/^[-+]?\d+([\.,]\d+)?$/,n=/[eastsouthnorthwest]+/i,r=e.length/2;for(let u=0;u<r;u++){const a=e[u],o=e[u+r],g=t.test(a)&&t.test(o),c=n.test(a)&&n.test(o),E=a==o;if(!(a==null&&o==null)){if(a==null||o==null)return!1;if(g||c||E)continue;return!1}}return!0}function Wi(i,e){const t=Math.abs(i-e);return Number(t.toFixed(6))<=1e-5}function mr(i){if(!i)throw new Error("coords must be provided");if(i.includes(",")){const e=i.split(",");if(Number(e[0])==NaN||Number(e[1])==NaN)throw new Error("coords are not valid decimals");return Wi(this.decimalLatitude,Number(e[0]))&&Wi(this.decimalLongitude,e[1])}else throw new Error("coords being tested must be separated by a comma")}const pr=Object.freeze({DMS:"DMS",DM:"DM",DD:"DD"});ei.to=pr;const yr=[{verbatimCoordinates:"40.123, -74.123",verbatimLatitude:"40.123",verbatimLongitude:"-74.123"},{verbatimCoordinates:"40.123 N 74.123 W",verbatimLatitude:"40.123 N",verbatimLongitude:"74.123 W"},{verbatimCoordinates:"40.123 N 74.123 W",verbatimLatitude:"40.123 N",verbatimLongitude:"74.123 W"},{verbatimCoordinates:'40 7 22.8" N 74 7 22.8" W',verbatimLatitude:'40 7 22.8" N',verbatimLongitude:'74 7 22.8" W'},{verbatimCoordinates:"40 7.38 , -74 7.38",verbatimLatitude:"40 7.38",verbatimLongitude:"-74 7.38"},{verbatimCoordinates:"N40722.8, W74722.8",verbatimLatitude:"N40722.8",verbatimLongitude:"W74722.8"},{verbatimCoordinates:'40722.8"N, 74722.8"W',verbatimLatitude:'40722.8"N',verbatimLongitude:'74722.8"W'},{verbatimCoordinates:`407'22.8"N, 747'22.8"W`,verbatimLatitude:`407'22.8"N`,verbatimLongitude:`747'22.8"W`},{verbatimCoordinates:"40 7 22.8, -74 7 22.8",verbatimLatitude:"40 7 22.8",verbatimLongitude:"-74 7 22.8"},{verbatimCoordinates:"40.123 -74.123",verbatimLatitude:"40.123",verbatimLongitude:"-74.123"},{verbatimCoordinates:"40.123,-74.123",verbatimLatitude:"40.123",verbatimLongitude:"-74.123"},{verbatimCoordinates:"40.123N74.123W",verbatimLatitude:"40.123N",verbatimLongitude:"74.123W"},{verbatimCoordinates:"4007.38N7407.38W",verbatimLatitude:"4007.38N",verbatimLongitude:"7407.38W"},{verbatimCoordinates:'40722.8"N, 74722.8"W',verbatimLatitude:'40722.8"N',verbatimLongitude:'74722.8"W'},{verbatimCoordinates:"400722.8N740722.8W",verbatimLatitude:"400722.8N",verbatimLongitude:"740722.8W"},{verbatimCoordinates:"N 40 7.38 W 74 7.38",verbatimLatitude:"N 40 7.38",verbatimLongitude:"W 74 7.38"},{verbatimCoordinates:"40:7:22.8N 74:7:22.8W",verbatimLatitude:"40:7:22.8N",verbatimLongitude:"74:7:22.8W"},{verbatimCoordinates:"40:7:23N,74:7:23W",verbatimLatitude:"40:7:23N",verbatimLongitude:"74:7:23W",decimalLatitude:40.1230555555,decimalLongitude:-74.1230555555},{verbatimCoordinates:'40723"N 74723"W',verbatimLatitude:'40723"N',verbatimLongitude:'74723"W',decimalLatitude:40.1230555555,decimalLongitude:-74.12305555555555},{verbatimCoordinates:'40723"S 74723"E',verbatimLatitude:'40723"S',verbatimLongitude:'74723"E',decimalLatitude:-40.1230555555,decimalLongitude:74.12305555555555},{verbatimCoordinates:'40723" -74723"',verbatimLatitude:'40723"',verbatimLongitude:'-74723"',decimalLatitude:40.1230555555,decimalLongitude:-74.123055555},{verbatimCoordinates:'40d 7 23" N 74d 7 23" W',verbatimLatitude:'40d 7 23" N',verbatimLongitude:'74d 7 23" W',decimalLatitude:40.1230555555,decimalLongitude:-74.123055555},{verbatimCoordinates:"40.123N 74.123W",verbatimLatitude:"40.123N",verbatimLongitude:"74.123W"},{verbatimCoordinates:"40 7.38, -74 7.38",verbatimLatitude:"40 7.38",verbatimLongitude:"-74 7.38"},{verbatimCoordinates:"40 7.38, -74 7.38",verbatimLatitude:"40 7.38",verbatimLongitude:"-74 7.38"},{verbatimCoordinates:"40 7 22.8; -74 7 22.8",verbatimLatitude:"40 7 22.8",verbatimLongitude:"-74 7 22.8"}],vr={decimalLatitude:40.123,decimalLongitude:-74.123},br=[{verbatimCoordinates:`504'17.698"south, 1424'2.826"east`,verbatimLatitude:`504'17.698"south`,verbatimLongitude:`1424'2.826"east`,decimalLatitude:-50.07158277777778,decimalLongitude:14.400785},{verbatimCoordinates:"50d4m17.698S 14d24m2.826E",verbatimLatitude:"50d4m17.698S",verbatimLongitude:"14d24m2.826E",decimalLatitude:-50.07158277777778,decimalLongitude:14.400785},{verbatimCoordinates:"40:26:46N,79:56:55W",verbatimLatitude:"40:26:46N",verbatimLongitude:"79:56:55W",decimalLatitude:40.44611111111111,decimalLongitude:-79.9486111111111},{verbatimCoordinates:"40:26:46.302N 79:56:55.903W",verbatimLatitude:"40:26:46.302N",verbatimLongitude:"79:56:55.903W",decimalLatitude:40.446195,decimalLongitude:-79.94886194444445},{verbatimCoordinates:"402647N 795836W",verbatimLatitude:"402647N",verbatimLongitude:"795836W",decimalLatitude:40.44638888888889,decimalLongitude:-79.97666666666667},{verbatimCoordinates:"40d 26 47 N 79d 58 36 W",verbatimLatitude:"40d 26 47 N",verbatimLongitude:"79d 58 36 W",decimalLatitude:40.44638888888889,decimalLongitude:-79.97666666666667},{verbatimCoordinates:"40.446195N 79.948862W",verbatimLatitude:"40.446195N",verbatimLongitude:"79.948862W",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"40,446195 79,948862",verbatimLatitude:"40,446195",verbatimLongitude:"79,948862",decimalLatitude:40.446195,decimalLongitude:79.948862},{verbatimCoordinates:"40 26.7717, -79 56.93172",verbatimLatitude:"40 26.7717",verbatimLongitude:"-79 56.93172",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"40.446195, -79.948862",verbatimLatitude:"40.446195",verbatimLongitude:"-79.948862",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"40.123256; -74.123256",verbatimLatitude:"40.123256",verbatimLongitude:"-74.123256",decimalLatitude:40.123256,decimalLongitude:-74.123256},{verbatimCoordinates:"1824S 2245E",verbatimLatitude:"1824S",verbatimLongitude:"2245E",decimalLatitude:-18.4,decimalLongitude:22.75}],wr=[{verbatimCoordinates:"10.432342S 10.6345345E",verbatimLatitude:"10.432342S",verbatimLongitude:"10.6345345E",decimalLatitude:-10.432342,decimalLongitude:10.6345345},{verbatimCoordinates:"10.00S 10.00E",verbatimLatitude:"10.00S",verbatimLongitude:"10.00E",decimalLatitude:-10,decimalLongitude:10},{verbatimCoordinates:"00.00S 01.00E",verbatimLatitude:"00.00S",verbatimLongitude:"01.00E",decimalLatitude:0,decimalLongitude:1},{verbatimCoordinates:"18.24S 22.45E",verbatimLatitude:"18.24S",verbatimLongitude:"22.45E",decimalLatitude:-18.4,decimalLongitude:22.75},{verbatimCoordinates:"27deg 15min 45.2sec S 18deg 32min 53.7sec E",verbatimLatitude:"27deg 15min 45.2sec S",verbatimLongitude:"18deg 32min 53.7sec E",decimalLatitude:-27.262555555555554,decimalLongitude:18.54825},{verbatimCoordinates:"-23.3245 S / 28.2344 E",verbatimLatitude:"-23.3245 S",verbatimLongitude:"28.2344 E",decimalLatitude:-23.3245,decimalLongitude:28.2344},{verbatimCoordinates:"40 26.7717 -79 56.93172",verbatimLatitude:"40 26.7717",verbatimLongitude:"-79 56.93172",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"27.15.45S 18.32.53E",verbatimLatitude:"27.15.45S",verbatimLongitude:"18.32.53E",decimalLatitude:-27.2625,decimalLongitude:18.548055},{verbatimCoordinates:"-27.15.45 18.32.53",verbatimLatitude:"-27.15.45",verbatimLongitude:"18.32.53",decimalLatitude:-27.2625,decimalLongitude:18.548055},{verbatimCoordinates:"27.15.45.2S 18.32.53.4E",verbatimLatitude:"27.15.45.2S",verbatimLongitude:"18.32.53.4E",decimalLatitude:-27.262556,decimalLongitude:18.548167},{verbatimCoordinates:"27.15.45,2S 18.32.53,4E",verbatimLatitude:"27.15.45,2S",verbatimLongitude:"18.32.53,4E",decimalLatitude:-27.262556,decimalLongitude:18.548167},{verbatimCoordinates:"S23.43563   E22.45634 ",verbatimLatitude:"S23.43563 ",verbatimLongitude:"E22.45634 ",decimalLatitude:-23.43563,decimalLongitude:22.45634},{verbatimCoordinates:"27,71372 S 23,07771 E",verbatimLatitude:"27,71372 S",verbatimLongitude:"23,07771 E",decimalLatitude:-27.71372,decimalLongitude:23.07771},{verbatimCoordinates:"27.45.34 S 23.23.23 E",verbatimLatitude:"27.45.34 S",verbatimLongitude:"23.23.23 E",decimalLatitude:-27.759444,decimalLongitude:23.38972222},{verbatimCoordinates:"S 27.45.34 E 23.23.23",verbatimLatitude:"S 27.45.34",verbatimLongitude:"E 23.23.23",decimalLatitude:-27.759444,decimalLongitude:23.38972222},{verbatimCoordinates:"53 16.3863,4 52.8171",verbatimLatitude:"53 16.3863",verbatimLongitude:"4 52.8171",decimalLatitude:53.273105,decimalLongitude:4.88029},{verbatimCoordinates:"50 8.2914,-5 2.4447",verbatimLatitude:"50 8.2914",verbatimLongitude:"-5 2.4447",decimalLatitude:50.13819,decimalLongitude:-5.040745},{verbatimCoordinates:"N 48 30,6410', E 18 57,4583'",verbatimLatitude:"N 48 30,6410'",verbatimLongitude:"E 18 57,4583'",decimalLatitude:48.51068,decimalLongitude:18.95764},{verbatimCoordinates:"1.23456, 18.33453",verbatimLatitude:"1.23456",verbatimLongitude:"18.33453",decimalLatitude:1.23456,decimalLongitude:18.33453}];function Er(){const i=[];return yr.forEach(e=>{e.decimalLatitude?i.push(e):i.push({...e,...vr})}),[...i,...br,...wr]}const Lr=Er();ei.formats=Lr.map(i=>i.verbatimCoordinates);const _r=ei;function Gi(i,e,t){const n=i.slice();return n[97]=e[t],n[99]=t,n}function Di(i){let e,t,n,r,u;return t=new Mi({}),{c(){e=Y("button"),Qe(t.$$.fragment),S(e,"type","button"),S(e,"title",i[3]),S(e,"class","svelte-bz0zu3")},m(a,o){te(a,e,o),qe(t,e,null),n=!0,r||(u=he(e,"click",i[78]),r=!0)},p(a,o){(!n||o[0]&8)&&S(e,"title",a[3])},i(a){n||(re(t.$$.fragment,a),n=!0)},o(a){fe(t.$$.fragment,a),n=!1},d(a){a&&$(e),Fe(t),r=!1,u()}}}function zi(i){let e,t;return e=new nr({}),{c(){Qe(e.$$.fragment)},m(n,r){qe(e,n,r),t=!0},i(n){t||(re(e.$$.fragment,n),t=!0)},o(n){fe(e.$$.fragment,n),t=!1},d(n){Fe(e,n)}}}function Ui(i){let e,t,n,r,u;return t=new ur({}),{c(){e=Y("button"),Qe(t.$$.fragment),S(e,"type","button"),S(e,"title",i[10]),S(e,"class","svelte-bz0zu3"),Ie(e,"active",i[0])},m(a,o){te(a,e,o),qe(t,e,null),n=!0,r||(u=he(e,"click",i[79]),r=!0)},p(a,o){(!n||o[0]&1024)&&S(e,"title",a[10]),(!n||o[0]&1)&&Ie(e,"active",a[0])},i(a){n||(re(t.$$.fragment,a),n=!0)},o(a){fe(t.$$.fragment,a),n=!1},d(a){a&&$(e),Fe(t),r=!1,u()}}}function Sr(i){let e,t=[],n=new Map,r,u,a,o=Ti(i[13]);const g=c=>c[97].id+(c[97].address?","+c[97].address:"");for(let c=0;c<o.length;c+=1){let E=Gi(i,o,c),_=g(E);n.set(_,t[c]=qi(_,E))}return{c(){e=Y("ul");for(let c=0;c<t.length;c+=1)t[c].c();S(e,"class","options svelte-bz0zu3"),S(e,"role","listbox")},m(c,E){te(c,e,E);for(let _=0;_<t.length;_+=1)t[_]&&t[_].m(e,null);r=!0,u||(a=[he(e,"mouseleave",i[27]),he(e,"blur",i[83]),he(e,"keydown",i[23])],u=!0)},p(c,E){E[0]&102823936&&(o=Ti(c[13]),yt(),t=Dn(t,E,g,1,c,o,n,e,Gn,qi,null,Gi),vt())},i(c){if(!r){for(let E=0;E<o.length;E+=1)re(t[E]);r=!0}},o(c){for(let E=0;E<t.length;E+=1)fe(t[E]);r=!1},d(c){c&&$(e);for(let E=0;E<t.length;E+=1)t[E].d();u=!1,Ue(a)}}}function xr(i){let e,t,n,r,u,a;return t=new Ci({}),{c(){e=Y("div"),Qe(t.$$.fragment),n=we(),r=Y("div"),u=Ye(i[8]),S(r,"class","svelte-bz0zu3"),S(e,"class","no-results svelte-bz0zu3")},m(o,g){te(o,e,g),qe(t,e,null),V(e,n),V(e,r),V(r,u),a=!0},p(o,g){(!a||g[0]&256)&&gt(u,o[8])},i(o){a||(re(t.$$.fragment,o),a=!0)},o(o){fe(t.$$.fragment,o),a=!1},d(o){o&&$(e),Fe(t)}}}function Tr(i){let e="",t;return{c(){t=Ye(e)},m(n,r){te(n,t,r)},p:ne,i:ne,o:ne,d(n){n&&$(t)}}}function Mr(i){let e,t,n,r,u,a,o,g,c,E,_;return t=new Ci({}),g=new Mi({}),{c(){e=Y("div"),Qe(t.$$.fragment),n=we(),r=Y("div"),u=Ye(i[7]),a=we(),o=Y("button"),Qe(g.$$.fragment),S(r,"class","svelte-bz0zu3"),S(o,"class","svelte-bz0zu3"),S(e,"class","error svelte-bz0zu3")},m(M,R){te(M,e,R),qe(t,e,null),V(e,n),V(e,r),V(r,u),V(e,a),V(e,o),qe(g,o,null),c=!0,E||(_=he(o,"click",i[80]),E=!0)},p(M,R){(!c||R[0]&128)&&gt(u,M[7])},i(M){c||(re(t.$$.fragment,M),re(g.$$.fragment,M),c=!0)},o(M){fe(t.$$.fragment,M),fe(g.$$.fragment,M),c=!1},d(M){M&&$(e),Fe(t),Fe(g),E=!1,_()}}}function qi(i,e){var o;let t,n,r;function u(){return e[81](e[99])}function a(){return e[82](e[97])}return n=new tr({props:{feature:e[97],showPlaceType:e[11],style:e[15]===e[99]?"selected":((o=e[14])==null?void 0:o.id)===e[97].id?"picked":"default",missingIconsCache:e[21],iconsBaseUrl:e[12]}}),n.$on("mouseenter",u),n.$on("select",a),{key:i,first:null,c(){t=Cn(),Qe(n.$$.fragment),this.first=t},m(g,c){te(g,t,c),qe(n,g,c),r=!0},p(g,c){var _;e=g;const E={};c[0]&8192&&(E.feature=e[97]),c[0]&2048&&(E.showPlaceType=e[11]),c[0]&57344&&(E.style=e[15]===e[99]?"selected":((_=e[14])==null?void 0:_.id)===e[97].id?"picked":"default"),c[0]&4096&&(E.iconsBaseUrl=e[12]),n.$set(E)},i(g){r||(re(n.$$.fragment,g),r=!0)},o(g){fe(n.$$.fragment,g),r=!1},d(g){g&&$(t),Fe(n,g)}}}function Cr(i){let e,t,n,r,u,a,o,g,c,E,_,M,R,k,I,C,O,x,N,P=!1;u=new fr({});let B=!i[20]&&Di(i),z=i[20]&&zi(),W=i[6]==="button"&&Ui(i);const s=i[70].default,l=Sn(s,i,i[69],null),f=[Mr,Tr,xr,Sr],m=[];function h(d,v){var p,y;return d[19]?0:!d[16]&&!d[4]?1:((p=d[13])==null?void 0:p.length)===0?2:(y=d[13])!=null&&y.length&&(d[16]||d[4])?3:-1}return~(k=h(i))&&(I=m[k]=f[k](i)),{c(){e=we(),t=Y("form"),n=Y("div"),r=Y("button"),Qe(u.$$.fragment),a=we(),o=Y("input"),g=we(),c=Y("div"),B&&B.c(),E=we(),z&&z.c(),_=we(),W&&W.c(),M=we(),l&&l.c(),R=we(),I&&I.c(),S(r,"class","search-button svelte-bz0zu3"),S(r,"type","button"),S(o,"placeholder",i[9]),S(o,"aria-label",i[9]),S(o,"class","svelte-bz0zu3"),S(c,"class","clear-button-container svelte-bz0zu3"),Ie(c,"displayable",i[1]!==""),S(n,"class","input-group svelte-bz0zu3"),S(t,"class",C=Pt(i[2])+" svelte-bz0zu3"),Ie(t,"can-collapse",i[5]&&i[1]==="")},m(d,v){te(d,e,v),te(d,t,v),V(t,n),V(n,r),qe(u,r,null),V(n,a),V(n,o),i[72](o),Ei(o,i[1]),V(n,g),V(n,c),B&&B.m(c,null),V(c,E),z&&z.m(c,null),V(n,_),W&&W.m(n,null),V(n,M),l&&l.m(n,null),V(t,R),~k&&m[k].m(t,null),O=!0,x||(N=[he(r,"click",i[71]),he(o,"input",i[73]),he(o,"focus",i[74]),he(o,"blur",i[75]),he(o,"click",i[76]),he(o,"keydown",i[23]),he(o,"input",i[24]),he(o,"change",i[77]),he(t,"submit",Nn(i[22]))],x=!0)},p(d,v){(!O||v[0]&512)&&S(o,"placeholder",d[9]),(!O||v[0]&512)&&S(o,"aria-label",d[9]),v[0]&2&&o.value!==d[1]&&Ei(o,d[1]),d[20]?B&&(yt(),fe(B,1,1,()=>{B=null}),vt()):B?(B.p(d,v),v[0]&1048576&&re(B,1)):(B=Di(d),B.c(),re(B,1),B.m(c,E)),d[20]?z?v[0]&1048576&&re(z,1):(z=zi(),z.c(),re(z,1),z.m(c,null)):z&&(yt(),fe(z,1,1,()=>{z=null}),vt()),(!O||v[0]&2)&&Ie(c,"displayable",d[1]!==""),d[6]==="button"?W?(W.p(d,v),v[0]&64&&re(W,1)):(W=Ui(d),W.c(),re(W,1),W.m(n,M)):W&&(yt(),fe(W,1,1,()=>{W=null}),vt()),l&&l.p&&(!O||v[2]&128)&&Tn(l,s,d,d[69],O?xn(s,d[69],v,null):Mn(d[69]),null);let p=k;k=h(d),k===p?~k&&m[k].p(d,v):(I&&(yt(),fe(m[p],1,1,()=>{m[p]=null}),vt()),~k?(I=m[k],I?I.p(d,v):(I=m[k]=f[k](d),I.c()),re(I,1),I.m(t,null)):I=null),(!O||v[0]&4&&C!==(C=Pt(d[2])+" svelte-bz0zu3"))&&S(t,"class",C),(!O||v[0]&38)&&Ie(t,"can-collapse",d[5]&&d[1]==="")},i(d){O||(re(P),re(u.$$.fragment,d),re(B),re(z),re(W),re(l,d),re(I),O=!0)},o(d){fe(P),fe(u.$$.fragment,d),fe(B),fe(z),fe(W),fe(l,d),fe(I),O=!1},d(d){d&&($(e),$(t)),Fe(u),i[72](null),B&&B.d(),z&&z.d(),W&&W.d(),l&&l.d(d),~k&&m[k].d(),x=!1,Ue(N)}}}function Nr(i,e,t){let n,r,u,{$$slots:a={},$$scope:o}=e;const g={continental_marine:4,country:4,major_landform:8,region:5,subregion:6,county:7,joint_municipality:8,joint_submunicipality:9,municipality:10,municipal_district:11,locality:12,neighbourhood:13,place:14,postal_code:14,road:16,poi:17,address:18,"poi.peak":15,"poi.shop":18,"poi.cafe":18,"poi.restaurant":18,"poi.aerodrome":13};let{class:c=void 0}=e,{apiKey:E=void 0}=e,{bbox:_=void 0}=e,{clearButtonTitle:M="clear"}=e,{clearOnBlur:R=!1}=e,{clearListOnPick:k=!1}=e,{keepListOpen:I=!1}=e,{collapsed:C=!1}=e,{country:O=void 0}=e,{debounceSearch:x=200}=e,{enableReverse:N="never"}=e,{errorMessage:P="Something went wrong"}=e,{filter:B=()=>!0}=e,{flyTo:z=!0}=e,{fuzzyMatch:W=!0}=e,{language:s=void 0}=e,{limit:l=void 0}=e;const f=41415112612;let{reverseGeocodingLimit:m=f}=e,{mapController:h=void 0}=e,{minLength:d=2}=e,{noResultsMessage:v="Oops! Looks like you're trying to predict something that's not quite right. We can't seem to find what you're looking for. Maybe try double-checking your spelling or try a different search term. Keep on typing - we'll do our best to get you where you need to go!"}=e,{placeholder:p="Search"}=e,{proximity:y=[{type:"server-geolocation"}]}=e,{reverseActive:b=N==="always"}=e,{reverseButtonTitle:w="toggle reverse geocoding"}=e,{searchValue:T=""}=e,{pickedResultStyle:G="full-geometry"}=e,{showPlaceType:D="if-needed"}=e,{showResultsWhileTyping:H=!0}=e,{selectFirst:Q=!0}=e,{flyToSelected:se=!1}=e,{markerOnSelected:Z=!0}=e,{types:K=void 0}=e;const de=[];let{reverseGeocodingTypes:He=de}=e,{exhaustiveReverseGeocoding:st=!1}=e,{excludeTypes:ot=!1}=e;const Le=void 0;let{reverseGeocodingExcludeTypes:We=Le}=e,{zoom:pe=g}=e,{apiUrl:ge="https://api.maptiler.com/geocoding"}=e,{fetchParameters:ie={}}=e,{iconsBaseUrl:hn="https://cdn.maptiler.com/maptiler-geocoding-control/v2.1.7/icons/"}=e,{adjustUrlQuery:ui=()=>{}}=e,{adjustUrl:ai=()=>{}}=e;function gs(L){Pe.focus(L)}function ms(){Pe.blur()}function dn(L,le=!0,ae=!1){t(1,T=L),le?(t(15,X=-1),mn()):(pn(void 0,!ae,ae),setTimeout(()=>{Pe.focus(),Pe.select()}))}function ps(){t(13,F=void 0),t(14,U=void 0),t(15,X=-1)}function ys(){t(64,ce=[]),t(14,U=void 0)}let F,ce,U,gn="",Pe,X=-1,Ge,Zt=[],lt,ct,ht,fi,Ve=!1;const vs=new Set,tt=_i();Rn(()=>{h&&(h.setEventHandler(void 0),h.indicateReverse(!1),h.setSelectedMarker(-1),h.setFeatures(void 0,void 0,!1))});function mn(L){if(t(17,Ve=!1),ct&&(clearTimeout(ct),ct=void 0),X>-1&&F)t(14,U=F[X]),t(1,T=U.place_type[0]==="reverse"?U.place_name:U.place_name.replace(/,.*/,"")),t(19,Ge=void 0),t(64,ce=void 0),t(15,X=-1);else if(T){const le=L||!ci(T);hi(T,{exact:!0}).then(()=>{t(64,ce=F),t(14,U=void 0),le&&bs()}).catch(ae=>t(19,Ge=ae))}}function ci(L){try{return _r(L,6)}catch{return!1}}async function hi(L,{byId:le=!1,exact:ae=!1}={}){var Se,De,it;t(19,Ge=void 0),lt==null||lt.abort();const _e=new AbortController;t(20,lt=_e);try{const J=ci(L),Mt=new URL(ge+"/"+encodeURIComponent(J?J.decimalLongitude+","+J.decimalLatitude:L)+".json"),Ne=Mt.searchParams;s!==void 0&&Ne.set("language",Array.isArray(s)?s.join(","):s??"");const[mi]=(h==null?void 0:h.getCenterAndZoom())??[];let ze=(Se=!J||He===de?K:He)==null?void 0:Se.map(ve=>typeof ve=="string"?ve:mi===void 0||(ve[0]??0)<=mi&&mi<(ve[1]??1/0)?ve[2]:void 0).filter(ve=>ve!==void 0);ze&&(ze=[...new Set(ze)],Ne.set("types",ze.join(",")));const vn=!J||We===Le?ot:We;if(vn&&Ne.set("excludeTypes",String(vn)),_&&Ne.set("bbox",_.map(ve=>ve.toFixed(6)).join(",")),O&&Ne.set("country",Array.isArray(O)?O.join(","):O),!le&&!J){const ve=await hr(h,y,_e);ve&&Ne.set("proximity",ve),(ae||!H)&&Ne.set("autocomplete","false"),Ne.set("fuzzyMatch",String(W))}const Ct=m===f?l:m;Ct!==void 0&&Ct>1&&(ze==null?void 0:ze.length)!==1&&console.warn("For reverse geocoding when limit > 1 then types must contain single value."),J?(Ct===1||Ct!==void 0&&(st||(ze==null?void 0:ze.length)===1))&&Ne.set("limit",String(Ct)):l!==void 0&&Ne.set("limit",String(l)),E&&Ne.set("key",E),ui(Ne),ai(Mt);const Bs=Mt.searchParams.get("types")===""&&Mt.searchParams.get("excludeTypes")!=="true",Ht=Mt.toString();if(Ht===gn){le?(k&&t(13,F=void 0),t(14,U=Zt[0])):(t(13,F=Zt),((De=F[X])==null?void 0:De.id)!==(r==null?void 0:r.id)&&t(15,X=-1));return}gn=Ht;let Nt;if(Bs)Nt={type:"FeatureCollection",features:[]};else{const ve=await fetch(Ht,{signal:_e.signal,...ie});if(!ve.ok)throw new Error(await ve.text());Nt=await ve.json()}tt("response",{url:Ht,featureCollection:Nt}),le?(k&&t(13,F=void 0),t(14,U=Nt.features[0]),Zt=[U]):(t(13,F=Nt.features.filter(B)),J&&F.unshift({type:"Feature",properties:{},id:"reverse_"+J.decimalLongitude+"_"+J.decimalLatitude,text:J.decimalLatitude+", "+J.decimalLongitude,place_name:J.decimalLatitude+", "+J.decimalLongitude,place_type:["reverse"],center:[J.decimalLongitude,J.decimalLatitude],bbox:[J.decimalLongitude,J.decimalLatitude,J.decimalLongitude,J.decimalLatitude],geometry:{type:"Point",coordinates:[J.decimalLongitude,J.decimalLatitude]}}),Zt=F,((it=F[X])==null?void 0:it.id)!==(r==null?void 0:r.id)&&t(15,X=-1),J&&Pe.focus())}catch(J){if(J&&typeof J=="object"&&"name"in J&&J.name==="AbortError")return;throw J}finally{_e===lt&&t(20,lt=void 0)}}function bs(){var _e;if(!(ce!=null&&ce.length)||!z)return;const L=[180,90,-180,-90],le=!ce.some(Se=>!Se.matching_text);let ae;for(const Se of ce){const De=Tt(Se);if(ae=ae===void 0?De:De===void 0?ae:Math.max(ae,De),le||!Se.matching_text)for(const it of[0,1,2,3])L[it]=Math[it<2?"min":"max"](L[it],((_e=Se.bbox)==null?void 0:_e[it])??Se.center[it%2])}h&&ce.length>0&&(U&&L[0]===L[2]&&L[1]===L[3]?h.flyTo(U.center,Tt(U)):h.fitBounds(Bt(L),50,ae))}function di(){!U||!h||(!U.bbox||U.bbox[0]===U.bbox[2]&&U.bbox[1]===U.bbox[3]?h.flyTo(U.center,Tt(U)):h.fitBounds(Bt(U.bbox),50,Tt(U)))}function Tt(L){var ae;if(!L.bbox||L.bbox[0]!==L.bbox[2]&&L.bbox[1]!==L.bbox[3])return;const le=L.id.replace(/\..*/,"");return(Array.isArray((ae=L.properties)==null?void 0:ae.categories)?L.properties.categories.reduce((_e,Se)=>{const De=pe[le+"."+Se];return _e===void 0?De:De===void 0?_e:Math.max(_e,De)},void 0):void 0)??pe[le]}function ws(L){t(0,b=N==="always"),t(13,F=void 0),t(14,U=void 0),t(15,X=-1),dn(L[1].toFixed(6)+", "+cr(L[0],[-180,180],!0).toFixed(6),!1,!0)}function Es(L){if(!F)return;let le=L.key==="ArrowDown"?1:L.key==="ArrowUp"?-1:0;le&&(Pe.focus(),t(17,Ve=!0),L.preventDefault(),U&&X===-1&&t(15,X=F.findIndex(ae=>ae.id===(U==null?void 0:U.id))),X===(U||Q?0:-1)&&le===-1&&t(15,X=F.length),t(15,X+=le),X>=F.length&&t(15,X=-1),X<0&&(U||Q)&&t(15,X=0))}function pn(L,le=!0,ae=!1){if(t(19,Ge=void 0),t(14,U=void 0),t(17,Ve=!0),H||ae){if(ct&&clearTimeout(ct),T.length<d)return;const _e=T;ct=window.setTimeout(()=>{hi(_e).catch(Se=>t(19,Ge=Se))},le?x:0)}else t(13,F=void 0),t(19,Ge=void 0)}function gi(L){U&&(U==null?void 0:U.id)===(L==null?void 0:L.id)?di():(t(14,U=L),t(1,T=L.place_name))}function yn(L){t(15,X=L)}function Ls(){(!Q||U)&&t(15,X=-1),se&&di()}const _s=()=>Pe.focus();function Ss(L){Yt[L?"unshift":"push"](()=>{Pe=L,t(18,Pe)})}function xs(){T=this.value,t(1,T),t(17,Ve),t(31,R),t(16,ht)}const Ts=()=>t(17,Ve=!0),Ms=()=>t(17,Ve=!1),Cs=()=>t(17,Ve=!0),Ns=()=>t(14,U=void 0),ks=()=>{t(1,T=""),t(14,U=void 0),Pe.focus()},Os=()=>t(0,b=!b),Rs=()=>t(19,Ge=void 0),Ps=L=>yn(L),Is=L=>gi(L),As=()=>{};return i.$$set=L=>{"class"in L&&t(2,c=L.class),"apiKey"in L&&t(29,E=L.apiKey),"bbox"in L&&t(30,_=L.bbox),"clearButtonTitle"in L&&t(3,M=L.clearButtonTitle),"clearOnBlur"in L&&t(31,R=L.clearOnBlur),"clearListOnPick"in L&&t(32,k=L.clearListOnPick),"keepListOpen"in L&&t(4,I=L.keepListOpen),"collapsed"in L&&t(5,C=L.collapsed),"country"in L&&t(33,O=L.country),"debounceSearch"in L&&t(34,x=L.debounceSearch),"enableReverse"in L&&t(6,N=L.enableReverse),"errorMessage"in L&&t(7,P=L.errorMessage),"filter"in L&&t(35,B=L.filter),"flyTo"in L&&t(36,z=L.flyTo),"fuzzyMatch"in L&&t(37,W=L.fuzzyMatch),"language"in L&&t(38,s=L.language),"limit"in L&&t(39,l=L.limit),"reverseGeocodingLimit"in L&&t(40,m=L.reverseGeocodingLimit),"mapController"in L&&t(41,h=L.mapController),"minLength"in L&&t(42,d=L.minLength),"noResultsMessage"in L&&t(8,v=L.noResultsMessage),"placeholder"in L&&t(9,p=L.placeholder),"proximity"in L&&t(43,y=L.proximity),"reverseActive"in L&&t(0,b=L.reverseActive),"reverseButtonTitle"in L&&t(10,w=L.reverseButtonTitle),"searchValue"in L&&t(1,T=L.searchValue),"pickedResultStyle"in L&&t(44,G=L.pickedResultStyle),"showPlaceType"in L&&t(11,D=L.showPlaceType),"showResultsWhileTyping"in L&&t(45,H=L.showResultsWhileTyping),"selectFirst"in L&&t(46,Q=L.selectFirst),"flyToSelected"in L&&t(47,se=L.flyToSelected),"markerOnSelected"in L&&t(48,Z=L.markerOnSelected),"types"in L&&t(49,K=L.types),"reverseGeocodingTypes"in L&&t(50,He=L.reverseGeocodingTypes),"exhaustiveReverseGeocoding"in L&&t(51,st=L.exhaustiveReverseGeocoding),"excludeTypes"in L&&t(52,ot=L.excludeTypes),"reverseGeocodingExcludeTypes"in L&&t(53,We=L.reverseGeocodingExcludeTypes),"zoom"in L&&t(54,pe=L.zoom),"apiUrl"in L&&t(55,ge=L.apiUrl),"fetchParameters"in L&&t(56,ie=L.fetchParameters),"iconsBaseUrl"in L&&t(12,hn=L.iconsBaseUrl),"adjustUrlQuery"in L&&t(57,ui=L.adjustUrlQuery),"adjustUrl"in L&&t(58,ai=L.adjustUrl),"$$scope"in L&&t(69,o=L.$$scope)},i.$$.update=()=>{if(i.$$.dirty[0]&64&&t(0,b=N==="always"),i.$$.dirty[0]&16384|i.$$.dirty[1]&8192&&G!=="marker-only"&&U&&!U.address&&U.geometry.type==="Point"&&U.place_type[0]!=="reverse"&&hi(U.id,{byId:!0}).catch(L=>t(19,Ge=L)),i.$$.dirty[0]&16384|i.$$.dirty[1]&1058|i.$$.dirty[2]&8&&(h&&U&&U.id!==fi&&z&&(di(),k&&t(13,F=void 0),t(64,ce=void 0),t(15,X=-1)),t(65,fi=U==null?void 0:U.id)),i.$$.dirty[0]&196608|i.$$.dirty[1]&1&&setTimeout(()=>{t(16,ht=Ve),R&&!ht&&t(1,T="")}),i.$$.dirty[0]&8194|i.$$.dirty[1]&2048&&T.length<d&&(t(13,F=void 0),t(19,Ge=void 0),t(64,ce=F)),i.$$.dirty[0]&57344|i.$$.dirty[1]&32768&&Q&&F!=null&&F.length&&X==-1&&!U&&t(15,X=0),i.$$.dirty[0]&8192|i.$$.dirty[2]&4&&ce!==F&&t(64,ce=void 0),i.$$.dirty[0]&73729|i.$$.dirty[1]&1024|i.$$.dirty[2]&4&&h&&h.setEventHandler(L=>{switch(L.type){case"mapClick":b&&ws(L.coordinates);break;case"markerClick":{const le=F==null?void 0:F.find(ae=>ae.id===L.id);le&&gi(le)}break;case"markerMouseEnter":ce&&t(15,X=ht?(F==null?void 0:F.findIndex(le=>le.id===L.id))??-1:-1);break;case"markerMouseLeave":ce&&t(15,X=-1);break}}),i.$$.dirty[0]&40960&&t(66,r=F==null?void 0:F[X]),i.$$.dirty[1]&66592|i.$$.dirty[2]&16&&h&&r&&z&&se&&h.flyTo(r.center,Tt(r)),i.$$.dirty[1]&8192&&t(68,n=G==="full-geometry-including-polygon-center-marker"),i.$$.dirty[1]&132096|i.$$.dirty[2]&64&&(Z||h==null||h.setFeatures(void 0,void 0,n)),i.$$.dirty[0]&16384|i.$$.dirty[1]&132096|i.$$.dirty[2]&84&&h&&Z&&!ce&&(h.setFeatures(r?[r]:void 0,U,n),h.setSelectedMarker(r?0:-1)),i.$$.dirty[0]&16384|i.$$.dirty[1]&1024|i.$$.dirty[2]&68&&h&&h.setFeatures(ce,U,n),i.$$.dirty[0]&32768|i.$$.dirty[1]&1024|i.$$.dirty[2]&4&&ce&&h&&h.setSelectedMarker(X),i.$$.dirty[0]&2|i.$$.dirty[1]&1024&&h){const L=ci(T);h.setReverseMarker(L?[L.decimalLongitude,L.decimalLatitude]:void 0)}i.$$.dirty[2]&16&&tt("select",{feature:r}),i.$$.dirty[0]&16384&&tt("pick",{feature:U}),i.$$.dirty[0]&73744&&t(67,u=!!(F!=null&&F.length)&&(ht||I)),i.$$.dirty[2]&32&&tt("optionsvisibilitychange",{optionsVisible:u}),i.$$.dirty[0]&8192&&tt("featureslisted",{features:F}),i.$$.dirty[2]&4&&tt("featuresmarked",{features:ce}),i.$$.dirty[0]&1&&tt("reversetoggle",{reverse:b}),i.$$.dirty[0]&2&&tt("querychange",{query:T}),i.$$.dirty[0]&1|i.$$.dirty[1]&1024&&h&&h.indicateReverse(b)},[b,T,c,M,I,C,N,P,v,p,w,D,hn,F,U,X,ht,Ve,Pe,Ge,lt,vs,mn,Es,pn,gi,yn,Ls,g,E,_,R,k,O,x,B,z,W,s,l,m,h,d,y,G,H,Q,se,Z,K,He,st,ot,We,pe,ge,ie,ui,ai,gs,ms,dn,ps,ys,ce,fi,r,u,n,o,a,_s,Ss,xs,Ts,Ms,Cs,Ns,ks,Os,Rs,Ps,Is,As]}let kr=class extends Je{constructor(e){super(),Xe(this,e,Nr,Cr,Ke,{ZOOM_DEFAULTS:28,class:2,apiKey:29,bbox:30,clearButtonTitle:3,clearOnBlur:31,clearListOnPick:32,keepListOpen:4,collapsed:5,country:33,debounceSearch:34,enableReverse:6,errorMessage:7,filter:35,flyTo:36,fuzzyMatch:37,language:38,limit:39,reverseGeocodingLimit:40,mapController:41,minLength:42,noResultsMessage:8,placeholder:9,proximity:43,reverseActive:0,reverseButtonTitle:10,searchValue:1,pickedResultStyle:44,showPlaceType:11,showResultsWhileTyping:45,selectFirst:46,flyToSelected:47,markerOnSelected:48,types:49,reverseGeocodingTypes:50,exhaustiveReverseGeocoding:51,excludeTypes:52,reverseGeocodingExcludeTypes:53,zoom:54,apiUrl:55,fetchParameters:56,iconsBaseUrl:12,adjustUrlQuery:57,adjustUrl:58,focus:59,blur:60,setQuery:61,clearList:62,clearMap:63},null,[-1,-1,-1,-1])}get ZOOM_DEFAULTS(){return this.$$.ctx[28]}get focus(){return this.$$.ctx[59]}get blur(){return this.$$.ctx[60]}get setQuery(){return this.$$.ctx[61]}get clearList(){return this.$$.ctx[62]}get clearMap(){return this.$$.ctx[63]}};function Et(i,e,t={}){const n={type:"Feature"};return(t.id===0||t.id)&&(n.id=t.id),t.bbox&&(n.bbox=t.bbox),n.properties=e||{},n.geometry=i,n}function ti(i,e,t={}){for(const r of i){if(r.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(r[r.length-1].length!==r[0].length)throw new Error("First and last Position are not equivalent.");for(let u=0;u<r[r.length-1].length;u++)if(r[r.length-1][u]!==r[0][u])throw new Error("First and last Position are not equivalent.")}return Et({type:"Polygon",coordinates:i},e,t)}function Lt(i,e={}){const t={type:"FeatureCollection"};return e.id&&(t.id=e.id),e.bbox&&(t.bbox=e.bbox),t.features=i,t}function Fi(i,e,t={}){return Et({type:"MultiPolygon",coordinates:i},e,t)}var Or=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,ii=Math.ceil,Te=Math.floor,be="[BigNumber Error] ",ji=be+"Number primitive has more than 15 significant digits: ",Re=1e14,q=14,Zi=9007199254740991,ni=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],$e=1e7,Ee=1e9;function Hi(i){var e,t,n,r=x.prototype={constructor:x,toString:null,valueOf:null},u=new x(1),a=20,o=4,g=-7,c=21,E=-1e7,_=1e7,M=!1,R=1,k=0,I={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},C="0123456789abcdefghijklmnopqrstuvwxyz",O=!0;function x(s,l){var f,m,h,d,v,p,y,b,w=this;if(!(w instanceof x))return new x(s,l);if(l==null){if(s&&s._isBigNumber===!0){w.s=s.s,!s.c||s.e>_?w.c=w.e=null:s.e<E?w.c=[w.e=0]:(w.e=s.e,w.c=s.c.slice());return}if((p=typeof s=="number")&&s*0==0){if(w.s=1/s<0?(s=-s,-1):1,s===~~s){for(d=0,v=s;v>=10;v/=10,d++);d>_?w.c=w.e=null:(w.e=d,w.c=[s]);return}b=String(s)}else{if(!Or.test(b=String(s)))return n(w,b,p);w.s=b.charCodeAt(0)==45?(b=b.slice(1),-1):1}(d=b.indexOf("."))>-1&&(b=b.replace(".","")),(v=b.search(/e/i))>0?(d<0&&(d=v),d+=+b.slice(v+1),b=b.substring(0,v)):d<0&&(d=b.length)}else{if(oe(l,2,C.length,"Base"),l==10&&O)return w=new x(s),z(w,a+w.e+1,o);if(b=String(s),p=typeof s=="number"){if(s*0!=0)return n(w,b,p,l);if(w.s=1/s<0?(b=b.slice(1),-1):1,x.DEBUG&&b.replace(/^0\.0*|\./,"").length>15)throw Error(ji+s)}else w.s=b.charCodeAt(0)===45?(b=b.slice(1),-1):1;for(f=C.slice(0,l),d=v=0,y=b.length;v<y;v++)if(f.indexOf(m=b.charAt(v))<0){if(m=="."){if(v>d){d=y;continue}}else if(!h&&(b==b.toUpperCase()&&(b=b.toLowerCase())||b==b.toLowerCase()&&(b=b.toUpperCase()))){h=!0,v=-1,d=0;continue}return n(w,String(s),p,l)}p=!1,b=t(b,l,10,w.s),(d=b.indexOf("."))>-1?b=b.replace(".",""):d=b.length}for(v=0;b.charCodeAt(v)===48;v++);for(y=b.length;b.charCodeAt(--y)===48;);if(b=b.slice(v,++y)){if(y-=v,p&&x.DEBUG&&y>15&&(s>Zi||s!==Te(s)))throw Error(ji+w.s*s);if((d=d-v-1)>_)w.c=w.e=null;else if(d<E)w.c=[w.e=0];else{if(w.e=d,w.c=[],v=(d+1)%q,d<0&&(v+=q),v<y){for(v&&w.c.push(+b.slice(0,v)),y-=q;v<y;)w.c.push(+b.slice(v,v+=q));v=q-(b=b.slice(v)).length}else v-=y;for(;v--;b+="0");w.c.push(+b)}}else w.c=[w.e=0]}x.clone=Hi,x.ROUND_UP=0,x.ROUND_DOWN=1,x.ROUND_CEIL=2,x.ROUND_FLOOR=3,x.ROUND_HALF_UP=4,x.ROUND_HALF_DOWN=5,x.ROUND_HALF_EVEN=6,x.ROUND_HALF_CEIL=7,x.ROUND_HALF_FLOOR=8,x.EUCLID=9,x.config=x.set=function(s){var l,f;if(s!=null)if(typeof s=="object"){if(s.hasOwnProperty(l="DECIMAL_PLACES")&&(f=s[l],oe(f,0,Ee,l),a=f),s.hasOwnProperty(l="ROUNDING_MODE")&&(f=s[l],oe(f,0,8,l),o=f),s.hasOwnProperty(l="EXPONENTIAL_AT")&&(f=s[l],f&&f.pop?(oe(f[0],-1e9,0,l),oe(f[1],0,Ee,l),g=f[0],c=f[1]):(oe(f,-1e9,Ee,l),g=-(c=f<0?-f:f))),s.hasOwnProperty(l="RANGE"))if(f=s[l],f&&f.pop)oe(f[0],-1e9,-1,l),oe(f[1],1,Ee,l),E=f[0],_=f[1];else if(oe(f,-1e9,Ee,l),f)E=-(_=f<0?-f:f);else throw Error(be+l+" cannot be zero: "+f);if(s.hasOwnProperty(l="CRYPTO"))if(f=s[l],f===!!f)if(f)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))M=f;else throw M=!f,Error(be+"crypto unavailable");else M=f;else throw Error(be+l+" not true or false: "+f);if(s.hasOwnProperty(l="MODULO_MODE")&&(f=s[l],oe(f,0,9,l),R=f),s.hasOwnProperty(l="POW_PRECISION")&&(f=s[l],oe(f,0,Ee,l),k=f),s.hasOwnProperty(l="FORMAT"))if(f=s[l],typeof f=="object")I=f;else throw Error(be+l+" not an object: "+f);if(s.hasOwnProperty(l="ALPHABET"))if(f=s[l],typeof f=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(f))O=f.slice(0,10)=="0123456789",C=f;else throw Error(be+l+" invalid: "+f)}else throw Error(be+"Object expected: "+s);return{DECIMAL_PLACES:a,ROUNDING_MODE:o,EXPONENTIAL_AT:[g,c],RANGE:[E,_],CRYPTO:M,MODULO_MODE:R,POW_PRECISION:k,FORMAT:I,ALPHABET:C}},x.isBigNumber=function(s){if(!s||s._isBigNumber!==!0)return!1;if(!x.DEBUG)return!0;var l,f,m=s.c,h=s.e,d=s.s;e:if({}.toString.call(m)=="[object Array]"){if((d===1||d===-1)&&h>=-1e9&&h<=Ee&&h===Te(h)){if(m[0]===0){if(h===0&&m.length===1)return!0;break e}if(l=(h+1)%q,l<1&&(l+=q),String(m[0]).length==l){for(l=0;l<m.length;l++)if(f=m[l],f<0||f>=Re||f!==Te(f))break e;if(f!==0)return!0}}}else if(m===null&&h===null&&(d===null||d===1||d===-1))return!0;throw Error(be+"Invalid BigNumber: "+s)},x.maximum=x.max=function(){return P(arguments,-1)},x.minimum=x.min=function(){return P(arguments,1)},x.random=function(){var s=9007199254740992,l=Math.random()*s&2097151?function(){return Te(Math.random()*s)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(f){var m,h,d,v,p,y=0,b=[],w=new x(u);if(f==null?f=a:oe(f,0,Ee),v=ii(f/q),M)if(crypto.getRandomValues){for(m=crypto.getRandomValues(new Uint32Array(v*=2));y<v;)p=m[y]*131072+(m[y+1]>>>11),p>=9e15?(h=crypto.getRandomValues(new Uint32Array(2)),m[y]=h[0],m[y+1]=h[1]):(b.push(p%1e14),y+=2);y=v/2}else if(crypto.randomBytes){for(m=crypto.randomBytes(v*=7);y<v;)p=(m[y]&31)*281474976710656+m[y+1]*1099511627776+m[y+2]*4294967296+m[y+3]*16777216+(m[y+4]<<16)+(m[y+5]<<8)+m[y+6],p>=9e15?crypto.randomBytes(7).copy(m,y):(b.push(p%1e14),y+=7);y=v/7}else throw M=!1,Error(be+"crypto unavailable");if(!M)for(;y<v;)p=l(),p<9e15&&(b[y++]=p%1e14);for(v=b[--y],f%=q,v&&f&&(p=ni[q-f],b[y]=Te(v/p)*p);b[y]===0;b.pop(),y--);if(y<0)b=[d=0];else{for(d=-1;b[0]===0;b.splice(0,1),d-=q);for(y=1,p=b[0];p>=10;p/=10,y++);y<q&&(d-=q-y)}return w.e=d,w.c=b,w}}(),x.sum=function(){for(var s=1,l=arguments,f=new x(l[0]);s<l.length;)f=f.plus(l[s++]);return f},t=function(){var s="0123456789";function l(f,m,h,d){for(var v,p=[0],y,b=0,w=f.length;b<w;){for(y=p.length;y--;p[y]*=m);for(p[0]+=d.indexOf(f.charAt(b++)),v=0;v<p.length;v++)p[v]>h-1&&(p[v+1]==null&&(p[v+1]=0),p[v+1]+=p[v]/h|0,p[v]%=h)}return p.reverse()}return function(f,m,h,d,v){var p,y,b,w,T,G,D,H,Q=f.indexOf("."),se=a,Z=o;for(Q>=0&&(w=k,k=0,f=f.replace(".",""),H=new x(m),G=H.pow(f.length-Q),k=w,H.c=l(je(Ce(G.c),G.e,"0"),10,h,s),H.e=H.c.length),D=l(f,m,h,v?(p=C,s):(p=s,C)),b=w=D.length;D[--w]==0;D.pop());if(!D[0])return p.charAt(0);if(Q<0?--b:(G.c=D,G.e=b,G.s=d,G=e(G,H,se,Z,h),D=G.c,T=G.r,b=G.e),y=b+se+1,Q=D[y],w=h/2,T=T||y<0||D[y+1]!=null,T=Z<4?(Q!=null||T)&&(Z==0||Z==(G.s<0?3:2)):Q>w||Q==w&&(Z==4||T||Z==6&&D[y-1]&1||Z==(G.s<0?8:7)),y<1||!D[0])f=T?je(p.charAt(1),-se,p.charAt(0)):p.charAt(0);else{if(D.length=y,T)for(--h;++D[--y]>h;)D[y]=0,y||(++b,D=[1].concat(D));for(w=D.length;!D[--w];);for(Q=0,f="";Q<=w;f+=p.charAt(D[Q++]));f=je(f,b,p.charAt(0))}return f}}(),e=function(){function s(m,h,d){var v,p,y,b,w=0,T=m.length,G=h%$e,D=h/$e|0;for(m=m.slice();T--;)y=m[T]%$e,b=m[T]/$e|0,v=D*y+b*G,p=G*y+v%$e*$e+w,w=(p/d|0)+(v/$e|0)+D*b,m[T]=p%d;return w&&(m=[w].concat(m)),m}function l(m,h,d,v){var p,y;if(d!=v)y=d>v?1:-1;else for(p=y=0;p<d;p++)if(m[p]!=h[p]){y=m[p]>h[p]?1:-1;break}return y}function f(m,h,d,v){for(var p=0;d--;)m[d]-=p,p=m[d]<h[d]?1:0,m[d]=p*v+m[d]-h[d];for(;!m[0]&&m.length>1;m.splice(0,1));}return function(m,h,d,v,p){var y,b,w,T,G,D,H,Q,se,Z,K,de,He,st,ot,Le,We,pe=m.s==h.s?1:-1,ge=m.c,ie=h.c;if(!ge||!ge[0]||!ie||!ie[0])return new x(!m.s||!h.s||(ge?ie&&ge[0]==ie[0]:!ie)?NaN:ge&&ge[0]==0||!ie?pe*0:pe/0);for(Q=new x(pe),se=Q.c=[],b=m.e-h.e,pe=d+b+1,p||(p=Re,b=Me(m.e/q)-Me(h.e/q),pe=pe/q|0),w=0;ie[w]==(ge[w]||0);w++);if(ie[w]>(ge[w]||0)&&b--,pe<0)se.push(1),T=!0;else{for(st=ge.length,Le=ie.length,w=0,pe+=2,G=Te(p/(ie[0]+1)),G>1&&(ie=s(ie,G,p),ge=s(ge,G,p),Le=ie.length,st=ge.length),He=Le,Z=ge.slice(0,Le),K=Z.length;K<Le;Z[K++]=0);We=ie.slice(),We=[0].concat(We),ot=ie[0],ie[1]>=p/2&&ot++;do{if(G=0,y=l(ie,Z,Le,K),y<0){if(de=Z[0],Le!=K&&(de=de*p+(Z[1]||0)),G=Te(de/ot),G>1)for(G>=p&&(G=p-1),D=s(ie,G,p),H=D.length,K=Z.length;l(D,Z,H,K)==1;)G--,f(D,Le<H?We:ie,H,p),H=D.length,y=1;else G==0&&(y=G=1),D=ie.slice(),H=D.length;if(H<K&&(D=[0].concat(D)),f(Z,D,K,p),K=Z.length,y==-1)for(;l(ie,Z,Le,K)<1;)G++,f(Z,Le<K?We:ie,K,p),K=Z.length}else y===0&&(G++,Z=[0]);se[w++]=G,Z[0]?Z[K++]=ge[He]||0:(Z=[ge[He]],K=1)}while((He++<st||Z[0]!=null)&&pe--);T=Z[0]!=null,se[0]||se.splice(0,1)}if(p==Re){for(w=1,pe=se[0];pe>=10;pe/=10,w++);z(Q,d+(Q.e=w+b*q-1)+1,v,T)}else Q.e=b,Q.r=+T;return Q}}();function N(s,l,f,m){var h,d,v,p,y;if(f==null?f=o:oe(f,0,8),!s.c)return s.toString();if(h=s.c[0],v=s.e,l==null)y=Ce(s.c),y=m==1||m==2&&(v<=g||v>=c)?Gt(y,v):je(y,v,"0");else if(s=z(new x(s),l,f),d=s.e,y=Ce(s.c),p=y.length,m==1||m==2&&(l<=d||d<=g)){for(;p<l;y+="0",p++);y=Gt(y,d)}else if(l-=v,y=je(y,d,"0"),d+1>p){if(--l>0)for(y+=".";l--;y+="0");}else if(l+=d-p,l>0)for(d+1==p&&(y+=".");l--;y+="0");return s.s<0&&h?"-"+y:y}function P(s,l){for(var f,m,h=1,d=new x(s[0]);h<s.length;h++)m=new x(s[h]),(!m.s||(f=rt(d,m))===l||f===0&&d.s===l)&&(d=m);return d}function B(s,l,f){for(var m=1,h=l.length;!l[--h];l.pop());for(h=l[0];h>=10;h/=10,m++);return(f=m+f*q-1)>_?s.c=s.e=null:f<E?s.c=[s.e=0]:(s.e=f,s.c=l),s}n=function(){var s=/^(-?)0([xbo])(?=\w[\w.]*$)/i,l=/^([^.]+)\.$/,f=/^\.([^.]+)$/,m=/^-?(Infinity|NaN)$/,h=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(d,v,p,y){var b,w=p?v:v.replace(h,"");if(m.test(w))d.s=isNaN(w)?null:w<0?-1:1;else{if(!p&&(w=w.replace(s,function(T,G,D){return b=(D=D.toLowerCase())=="x"?16:D=="b"?2:8,!y||y==b?G:T}),y&&(b=y,w=w.replace(l,"$1").replace(f,"0.$1")),v!=w))return new x(w,b);if(x.DEBUG)throw Error(be+"Not a"+(y?" base "+y:"")+" number: "+v);d.s=null}d.c=d.e=null}}();function z(s,l,f,m){var h,d,v,p,y,b,w,T=s.c,G=ni;if(T){e:{for(h=1,p=T[0];p>=10;p/=10,h++);if(d=l-h,d<0)d+=q,v=l,y=T[b=0],w=Te(y/G[h-v-1]%10);else if(b=ii((d+1)/q),b>=T.length)if(m){for(;T.length<=b;T.push(0));y=w=0,h=1,d%=q,v=d-q+1}else break e;else{for(y=p=T[b],h=1;p>=10;p/=10,h++);d%=q,v=d-q+h,w=v<0?0:Te(y/G[h-v-1]%10)}if(m=m||l<0||T[b+1]!=null||(v<0?y:y%G[h-v-1]),m=f<4?(w||m)&&(f==0||f==(s.s<0?3:2)):w>5||w==5&&(f==4||m||f==6&&(d>0?v>0?y/G[h-v]:0:T[b-1])%10&1||f==(s.s<0?8:7)),l<1||!T[0])return T.length=0,m?(l-=s.e+1,T[0]=G[(q-l%q)%q],s.e=-l||0):T[0]=s.e=0,s;if(d==0?(T.length=b,p=1,b--):(T.length=b+1,p=G[q-d],T[b]=v>0?Te(y/G[h-v]%G[v])*p:0),m)for(;;)if(b==0){for(d=1,v=T[0];v>=10;v/=10,d++);for(v=T[0]+=p,p=1;v>=10;v/=10,p++);d!=p&&(s.e++,T[0]==Re&&(T[0]=1));break}else{if(T[b]+=p,T[b]!=Re)break;T[b--]=0,p=1}for(d=T.length;T[--d]===0;T.pop());}s.e>_?s.c=s.e=null:s.e<E&&(s.c=[s.e=0])}return s}function W(s){var l,f=s.e;return f===null?s.toString():(l=Ce(s.c),l=f<=g||f>=c?Gt(l,f):je(l,f,"0"),s.s<0?"-"+l:l)}return r.absoluteValue=r.abs=function(){var s=new x(this);return s.s<0&&(s.s=1),s},r.comparedTo=function(s,l){return rt(this,new x(s,l))},r.decimalPlaces=r.dp=function(s,l){var f,m,h,d=this;if(s!=null)return oe(s,0,Ee),l==null?l=o:oe(l,0,8),z(new x(d),s+d.e+1,l);if(!(f=d.c))return null;if(m=((h=f.length-1)-Me(this.e/q))*q,h=f[h])for(;h%10==0;h/=10,m--);return m<0&&(m=0),m},r.dividedBy=r.div=function(s,l){return e(this,new x(s,l),a,o)},r.dividedToIntegerBy=r.idiv=function(s,l){return e(this,new x(s,l),0,1)},r.exponentiatedBy=r.pow=function(s,l){var f,m,h,d,v,p,y,b,w,T=this;if(s=new x(s),s.c&&!s.isInteger())throw Error(be+"Exponent not an integer: "+W(s));if(l!=null&&(l=new x(l)),p=s.e>14,!T.c||!T.c[0]||T.c[0]==1&&!T.e&&T.c.length==1||!s.c||!s.c[0])return w=new x(Math.pow(+W(T),p?s.s*(2-Wt(s)):+W(s))),l?w.mod(l):w;if(y=s.s<0,l){if(l.c?!l.c[0]:!l.s)return new x(NaN);m=!y&&T.isInteger()&&l.isInteger(),m&&(T=T.mod(l))}else{if(s.e>9&&(T.e>0||T.e<-1||(T.e==0?T.c[0]>1||p&&T.c[1]>=24e7:T.c[0]<8e13||p&&T.c[0]<=9999975e7)))return d=T.s<0&&Wt(s)?-0:0,T.e>-1&&(d=1/d),new x(y?1/d:d);k&&(d=ii(k/q+2))}for(p?(f=new x(.5),y&&(s.s=1),b=Wt(s)):(h=Math.abs(+W(s)),b=h%2),w=new x(u);;){if(b){if(w=w.times(T),!w.c)break;d?w.c.length>d&&(w.c.length=d):m&&(w=w.mod(l))}if(h){if(h=Te(h/2),h===0)break;b=h%2}else if(s=s.times(f),z(s,s.e+1,1),s.e>14)b=Wt(s);else{if(h=+W(s),h===0)break;b=h%2}T=T.times(T),d?T.c&&T.c.length>d&&(T.c.length=d):m&&(T=T.mod(l))}return m?w:(y&&(w=u.div(w)),l?w.mod(l):d?z(w,k,o,v):w)},r.integerValue=function(s){var l=new x(this);return s==null?s=o:oe(s,0,8),z(l,l.e+1,s)},r.isEqualTo=r.eq=function(s,l){return rt(this,new x(s,l))===0},r.isFinite=function(){return!!this.c},r.isGreaterThan=r.gt=function(s,l){return rt(this,new x(s,l))>0},r.isGreaterThanOrEqualTo=r.gte=function(s,l){return(l=rt(this,new x(s,l)))===1||l===0},r.isInteger=function(){return!!this.c&&Me(this.e/q)>this.c.length-2},r.isLessThan=r.lt=function(s,l){return rt(this,new x(s,l))<0},r.isLessThanOrEqualTo=r.lte=function(s,l){return(l=rt(this,new x(s,l)))===-1||l===0},r.isNaN=function(){return!this.s},r.isNegative=function(){return this.s<0},r.isPositive=function(){return this.s>0},r.isZero=function(){return!!this.c&&this.c[0]==0},r.minus=function(s,l){var f,m,h,d,v=this,p=v.s;if(s=new x(s,l),l=s.s,!p||!l)return new x(NaN);if(p!=l)return s.s=-l,v.plus(s);var y=v.e/q,b=s.e/q,w=v.c,T=s.c;if(!y||!b){if(!w||!T)return w?(s.s=-l,s):new x(T?v:NaN);if(!w[0]||!T[0])return T[0]?(s.s=-l,s):new x(w[0]?v:o==3?-0:0)}if(y=Me(y),b=Me(b),w=w.slice(),p=y-b){for((d=p<0)?(p=-p,h=w):(b=y,h=T),h.reverse(),l=p;l--;h.push(0));h.reverse()}else for(m=(d=(p=w.length)<(l=T.length))?p:l,p=l=0;l<m;l++)if(w[l]!=T[l]){d=w[l]<T[l];break}if(d&&(h=w,w=T,T=h,s.s=-s.s),l=(m=T.length)-(f=w.length),l>0)for(;l--;w[f++]=0);for(l=Re-1;m>p;){if(w[--m]<T[m]){for(f=m;f&&!w[--f];w[f]=l);--w[f],w[m]+=Re}w[m]-=T[m]}for(;w[0]==0;w.splice(0,1),--b);return w[0]?B(s,w,b):(s.s=o==3?-1:1,s.c=[s.e=0],s)},r.modulo=r.mod=function(s,l){var f,m,h=this;return s=new x(s,l),!h.c||!s.s||s.c&&!s.c[0]?new x(NaN):!s.c||h.c&&!h.c[0]?new x(h):(R==9?(m=s.s,s.s=1,f=e(h,s,0,3),s.s=m,f.s*=m):f=e(h,s,0,R),s=h.minus(f.times(s)),!s.c[0]&&R==1&&(s.s=h.s),s)},r.multipliedBy=r.times=function(s,l){var f,m,h,d,v,p,y,b,w,T,G,D,H,Q,se,Z=this,K=Z.c,de=(s=new x(s,l)).c;if(!K||!de||!K[0]||!de[0])return!Z.s||!s.s||K&&!K[0]&&!de||de&&!de[0]&&!K?s.c=s.e=s.s=null:(s.s*=Z.s,!K||!de?s.c=s.e=null:(s.c=[0],s.e=0)),s;for(m=Me(Z.e/q)+Me(s.e/q),s.s*=Z.s,y=K.length,T=de.length,y<T&&(H=K,K=de,de=H,h=y,y=T,T=h),h=y+T,H=[];h--;H.push(0));for(Q=Re,se=$e,h=T;--h>=0;){for(f=0,G=de[h]%se,D=de[h]/se|0,v=y,d=h+v;d>h;)b=K[--v]%se,w=K[v]/se|0,p=D*b+w*G,b=G*b+p%se*se+H[d]+f,f=(b/Q|0)+(p/se|0)+D*w,H[d--]=b%Q;H[d]=f}return f?++m:H.splice(0,1),B(s,H,m)},r.negated=function(){var s=new x(this);return s.s=-s.s||null,s},r.plus=function(s,l){var f,m=this,h=m.s;if(s=new x(s,l),l=s.s,!h||!l)return new x(NaN);if(h!=l)return s.s=-l,m.minus(s);var d=m.e/q,v=s.e/q,p=m.c,y=s.c;if(!d||!v){if(!p||!y)return new x(h/0);if(!p[0]||!y[0])return y[0]?s:new x(p[0]?m:h*0)}if(d=Me(d),v=Me(v),p=p.slice(),h=d-v){for(h>0?(v=d,f=y):(h=-h,f=p),f.reverse();h--;f.push(0));f.reverse()}for(h=p.length,l=y.length,h-l<0&&(f=y,y=p,p=f,l=h),h=0;l;)h=(p[--l]=p[l]+y[l]+h)/Re|0,p[l]=Re===p[l]?0:p[l]%Re;return h&&(p=[h].concat(p),++v),B(s,p,v)},r.precision=r.sd=function(s,l){var f,m,h,d=this;if(s!=null&&s!==!!s)return oe(s,1,Ee),l==null?l=o:oe(l,0,8),z(new x(d),s,l);if(!(f=d.c))return null;if(h=f.length-1,m=h*q+1,h=f[h]){for(;h%10==0;h/=10,m--);for(h=f[0];h>=10;h/=10,m++);}return s&&d.e+1>m&&(m=d.e+1),m},r.shiftedBy=function(s){return oe(s,-9007199254740991,Zi),this.times("1e"+s)},r.squareRoot=r.sqrt=function(){var s,l,f,m,h,d=this,v=d.c,p=d.s,y=d.e,b=a+4,w=new x("0.5");if(p!==1||!v||!v[0])return new x(!p||p<0&&(!v||v[0])?NaN:v?d:1/0);if(p=Math.sqrt(+W(d)),p==0||p==1/0?(l=Ce(v),(l.length+y)%2==0&&(l+="0"),p=Math.sqrt(+l),y=Me((y+1)/2)-(y<0||y%2),p==1/0?l="5e"+y:(l=p.toExponential(),l=l.slice(0,l.indexOf("e")+1)+y),f=new x(l)):f=new x(p+""),f.c[0]){for(y=f.e,p=y+b,p<3&&(p=0);;)if(h=f,f=w.times(h.plus(e(d,h,b,1))),Ce(h.c).slice(0,p)===(l=Ce(f.c)).slice(0,p))if(f.e<y&&--p,l=l.slice(p-3,p+1),l=="9999"||!m&&l=="4999"){if(!m&&(z(h,h.e+a+2,0),h.times(h).eq(d))){f=h;break}b+=4,p+=4,m=1}else{(!+l||!+l.slice(1)&&l.charAt(0)=="5")&&(z(f,f.e+a+2,1),s=!f.times(f).eq(d));break}}return z(f,f.e+a+1,o,s)},r.toExponential=function(s,l){return s!=null&&(oe(s,0,Ee),s++),N(this,s,l,1)},r.toFixed=function(s,l){return s!=null&&(oe(s,0,Ee),s=s+this.e+1),N(this,s,l)},r.toFormat=function(s,l,f){var m,h=this;if(f==null)s!=null&&l&&typeof l=="object"?(f=l,l=null):s&&typeof s=="object"?(f=s,s=l=null):f=I;else if(typeof f!="object")throw Error(be+"Argument not an object: "+f);if(m=h.toFixed(s,l),h.c){var d,v=m.split("."),p=+f.groupSize,y=+f.secondaryGroupSize,b=f.groupSeparator||"",w=v[0],T=v[1],G=h.s<0,D=G?w.slice(1):w,H=D.length;if(y&&(d=p,p=y,y=d,H-=d),p>0&&H>0){for(d=H%p||p,w=D.substr(0,d);d<H;d+=p)w+=b+D.substr(d,p);y>0&&(w+=b+D.slice(d)),G&&(w="-"+w)}m=T?w+(f.decimalSeparator||"")+((y=+f.fractionGroupSize)?T.replace(new RegExp("\\d{"+y+"}\\B","g"),"$&"+(f.fractionGroupSeparator||"")):T):w}return(f.prefix||"")+m+(f.suffix||"")},r.toFraction=function(s){var l,f,m,h,d,v,p,y,b,w,T,G,D=this,H=D.c;if(s!=null&&(p=new x(s),!p.isInteger()&&(p.c||p.s!==1)||p.lt(u)))throw Error(be+"Argument "+(p.isInteger()?"out of range: ":"not an integer: ")+W(p));if(!H)return new x(D);for(l=new x(u),b=f=new x(u),m=y=new x(u),G=Ce(H),d=l.e=G.length-D.e-1,l.c[0]=ni[(v=d%q)<0?q+v:v],s=!s||p.comparedTo(l)>0?d>0?l:b:p,v=_,_=1/0,p=new x(G),y.c[0]=0;w=e(p,l,0,1),h=f.plus(w.times(m)),h.comparedTo(s)!=1;)f=m,m=h,b=y.plus(w.times(h=b)),y=h,l=p.minus(w.times(h=l)),p=h;return h=e(s.minus(f),m,0,1),y=y.plus(h.times(b)),f=f.plus(h.times(m)),y.s=b.s=D.s,d=d*2,T=e(b,m,d,o).minus(D).abs().comparedTo(e(y,f,d,o).minus(D).abs())<1?[b,m]:[y,f],_=v,T},r.toNumber=function(){return+W(this)},r.toPrecision=function(s,l){return s!=null&&oe(s,1,Ee),N(this,s,l,2)},r.toString=function(s){var l,f=this,m=f.s,h=f.e;return h===null?m?(l="Infinity",m<0&&(l="-"+l)):l="NaN":(s==null?l=h<=g||h>=c?Gt(Ce(f.c),h):je(Ce(f.c),h,"0"):s===10&&O?(f=z(new x(f),a+h+1,o),l=je(Ce(f.c),f.e,"0")):(oe(s,2,C.length,"Base"),l=t(je(Ce(f.c),h,"0"),10,s,m,!0)),m<0&&f.c[0]&&(l="-"+l)),l},r.valueOf=r.toJSON=function(){return W(this)},r._isBigNumber=!0,r[Symbol.toStringTag]="BigNumber",r[Symbol.for("nodejs.util.inspect.custom")]=r.valueOf,i!=null&&x.set(i),x}function Me(i){var e=i|0;return i>0||i===e?e:e-1}function Ce(i){for(var e,t,n=1,r=i.length,u=i[0]+"";n<r;){for(e=i[n++]+"",t=q-e.length;t--;e="0"+e);u+=e}for(r=u.length;u.charCodeAt(--r)===48;);return u.slice(0,r+1||1)}function rt(i,e){var t,n,r=i.c,u=e.c,a=i.s,o=e.s,g=i.e,c=e.e;if(!a||!o)return null;if(t=r&&!r[0],n=u&&!u[0],t||n)return t?n?0:-o:a;if(a!=o)return a;if(t=a<0,n=g==c,!r||!u)return n?0:!r^t?1:-1;if(!n)return g>c^t?1:-1;for(o=(g=r.length)<(c=u.length)?g:c,a=0;a<o;a++)if(r[a]!=u[a])return r[a]>u[a]^t?1:-1;return g==c?0:g>c^t?1:-1}function oe(i,e,t,n){if(i<e||i>t||i!==Te(i))throw Error(be+(n||"Argument")+(typeof i=="number"?i<e||i>t?" out of range: ":" not an integer: ":" not a primitive number: ")+String(i))}function Wt(i){var e=i.c.length-1;return Me(i.e/q)==e&&i.c[e]%2!=0}function Gt(i,e){return(i.length>1?i.charAt(0)+"."+i.slice(1):i)+(e<0?"e":"e+")+e}function je(i,e,t){var n,r;if(e<0){for(r=t+".";++e;r+=t);i=r+i}else if(n=i.length,++e>n){for(r=t,e-=n;--e;r+=t);i+=r}else e<n&&(i=i.slice(0,e)+"."+i.slice(e));return i}var Ae=Hi(),Rr=class{constructor(i){A(this,"key");A(this,"left",null);A(this,"right",null);this.key=i}},_t=class extends Rr{constructor(i){super(i)}},Pr=class{constructor(){A(this,"size",0);A(this,"modificationCount",0);A(this,"splayCount",0)}splay(i){const e=this.root;if(e==null)return this.compare(i,i),-1;let t=null,n=null,r=null,u=null,a=e;const o=this.compare;let g;for(;;)if(g=o(a.key,i),g>0){let c=a.left;if(c==null||(g=o(c.key,i),g>0&&(a.left=c.right,c.right=a,a=c,c=a.left,c==null)))break;t==null?n=a:t.left=a,t=a,a=c}else if(g<0){let c=a.right;if(c==null||(g=o(c.key,i),g<0&&(a.right=c.left,c.left=a,a=c,c=a.right,c==null)))break;r==null?u=a:r.right=a,r=a,a=c}else break;return r!=null&&(r.right=a.left,a.left=u),t!=null&&(t.left=a.right,a.right=n),this.root!==a&&(this.root=a,this.splayCount++),g}splayMin(i){let e=i,t=e.left;for(;t!=null;){const n=t;e.left=n.right,n.right=e,e=n,t=e.left}return e}splayMax(i){let e=i,t=e.right;for(;t!=null;){const n=t;e.right=n.left,n.left=e,e=n,t=e.right}return e}_delete(i){if(this.root==null||this.splay(i)!=0)return null;let t=this.root;const n=t,r=t.left;if(this.size--,r==null)this.root=t.right;else{const u=t.right;t=this.splayMax(r),t.right=u,this.root=t}return this.modificationCount++,n}addNewRoot(i,e){this.size++,this.modificationCount++;const t=this.root;if(t==null){this.root=i;return}e<0?(i.left=t,i.right=t.right,t.right=null):(i.right=t,i.left=t.left,t.left=null),this.root=i}_first(){const i=this.root;return i==null?null:(this.root=this.splayMin(i),this.root)}_last(){const i=this.root;return i==null?null:(this.root=this.splayMax(i),this.root)}clear(){this.root=null,this.size=0,this.modificationCount++}has(i){return this.validKey(i)&&this.splay(i)==0}defaultCompare(){return(i,e)=>i<e?-1:i>e?1:0}wrap(){return{getRoot:()=>this.root,setRoot:i=>{this.root=i},getSize:()=>this.size,getModificationCount:()=>this.modificationCount,getSplayCount:()=>this.splayCount,setSplayCount:i=>{this.splayCount=i},splay:i=>this.splay(i),has:i=>this.has(i)}}},Dt=class Ot extends Pr{constructor(t,n){super();A(this,"root",null);A(this,"compare");A(this,"validKey");A(this,fn,"[object Set]");this.compare=t??this.defaultCompare(),this.validKey=n??(r=>r!=null&&r!=null)}delete(t){return this.validKey(t)?this._delete(t)!=null:!1}deleteAll(t){for(const n of t)this.delete(n)}forEach(t){const n=this[Symbol.iterator]();let r;for(;r=n.next(),!r.done;)t(r.value,r.value,this)}add(t){const n=this.splay(t);return n!=0&&this.addNewRoot(new _t(t),n),this}addAndReturn(t){const n=this.splay(t);return n!=0&&this.addNewRoot(new _t(t),n),this.root.key}addAll(t){for(const n of t)this.add(n)}isEmpty(){return this.root==null}isNotEmpty(){return this.root!=null}single(){if(this.size==0)throw"Bad state: No element";if(this.size>1)throw"Bad state: Too many element";return this.root.key}first(){if(this.size==0)throw"Bad state: No element";return this._first().key}last(){if(this.size==0)throw"Bad state: No element";return this._last().key}lastBefore(t){if(t==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(t)<0)return this.root.key;let r=this.root.left;if(r==null)return null;let u=r.right;for(;u!=null;)r=u,u=r.right;return r.key}firstAfter(t){if(t==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(t)>0)return this.root.key;let r=this.root.right;if(r==null)return null;let u=r.left;for(;u!=null;)r=u,u=r.left;return r.key}retainAll(t){const n=new Ot(this.compare,this.validKey),r=this.modificationCount;for(const u of t){if(r!=this.modificationCount)throw"Concurrent modification during iteration.";this.validKey(u)&&this.splay(u)==0&&n.add(this.root.key)}n.size!=this.size&&(this.root=n.root,this.size=n.size,this.modificationCount++)}lookup(t){return!this.validKey(t)||this.splay(t)!=0?null:this.root.key}intersection(t){const n=new Ot(this.compare,this.validKey);for(const r of this)t.has(r)&&n.add(r);return n}difference(t){const n=new Ot(this.compare,this.validKey);for(const r of this)t.has(r)||n.add(r);return n}union(t){const n=this.clone();return n.addAll(t),n}clone(){const t=new Ot(this.compare,this.validKey);return t.size=this.size,t.root=this.copyNode(this.root),t}copyNode(t){if(t==null)return null;function n(u,a){let o,g;do{if(o=u.left,g=u.right,o!=null){const c=new _t(o.key);a.left=c,n(o,c)}if(g!=null){const c=new _t(g.key);a.right=c,u=g,a=c}}while(g!=null)}const r=new _t(t.key);return n(t,r),r}toSet(){return this.clone()}entries(){return new Ar(this.wrap())}keys(){return this[Symbol.iterator]()}values(){return this[Symbol.iterator]()}[(cn=Symbol.iterator,fn=Symbol.toStringTag,cn)](){return new Ir(this.wrap())}},Vi=class{constructor(i){A(this,"tree");A(this,"path",new Array);A(this,"modificationCount",null);A(this,"splayCount");this.tree=i,this.splayCount=i.getSplayCount()}[Symbol.iterator](){return this}next(){return this.moveNext()?{done:!1,value:this.current()}:{done:!0,value:null}}current(){if(!this.path.length)return null;const i=this.path[this.path.length-1];return this.getValue(i)}rebuildPath(i){this.path.splice(0,this.path.length),this.tree.splay(i),this.path.push(this.tree.getRoot()),this.splayCount=this.tree.getSplayCount()}findLeftMostDescendent(i){for(;i!=null;)this.path.push(i),i=i.left}moveNext(){if(this.modificationCount!=this.tree.getModificationCount()){if(this.modificationCount==null){this.modificationCount=this.tree.getModificationCount();let t=this.tree.getRoot();for(;t!=null;)this.path.push(t),t=t.left;return this.path.length>0}throw"Concurrent modification during iteration."}if(!this.path.length)return!1;this.splayCount!=this.tree.getSplayCount()&&this.rebuildPath(this.path[this.path.length-1].key);let i=this.path[this.path.length-1],e=i.right;if(e!=null){for(;e!=null;)this.path.push(e),e=e.left;return!0}for(this.path.pop();this.path.length&&this.path[this.path.length-1].right===i;)i=this.path.pop();return this.path.length>0}},Ir=class extends Vi{getValue(i){return i.key}},Ar=class extends Vi{getValue(i){return[i.key,i.key]}},Ki=i=>()=>i,ri=i=>{const e=i?(t,n)=>n.minus(t).abs().isLessThanOrEqualTo(i):Ki(!1);return(t,n)=>e(t,n)?0:t.comparedTo(n)};function Br(i){const e=i?(t,n,r,u,a)=>t.exponentiatedBy(2).isLessThanOrEqualTo(u.minus(n).exponentiatedBy(2).plus(a.minus(r).exponentiatedBy(2)).times(i)):Ki(!1);return(t,n,r)=>{const u=t.x,a=t.y,o=r.x,g=r.y,c=a.minus(g).times(n.x.minus(o)).minus(u.minus(o).times(n.y.minus(g)));return e(c,u,a,o,g)?0:c.comparedTo(0)}}var Wr=i=>i,Gr=i=>{if(i){const e=new Dt(ri(i)),t=new Dt(ri(i)),n=(u,a)=>a.addAndReturn(u),r=u=>({x:n(u.x,e),y:n(u.y,t)});return r({x:new Ae(0),y:new Ae(0)}),r}return Wr},si=i=>({set:e=>{Ze=si(e)},reset:()=>si(i),compare:ri(i),snap:Gr(i),orient:Br(i)}),Ze=si(),St=(i,e)=>i.ll.x.isLessThanOrEqualTo(e.x)&&e.x.isLessThanOrEqualTo(i.ur.x)&&i.ll.y.isLessThanOrEqualTo(e.y)&&e.y.isLessThanOrEqualTo(i.ur.y),oi=(i,e)=>{if(e.ur.x.isLessThan(i.ll.x)||i.ur.x.isLessThan(e.ll.x)||e.ur.y.isLessThan(i.ll.y)||i.ur.y.isLessThan(e.ll.y))return null;const t=i.ll.x.isLessThan(e.ll.x)?e.ll.x:i.ll.x,n=i.ur.x.isLessThan(e.ur.x)?i.ur.x:e.ur.x,r=i.ll.y.isLessThan(e.ll.y)?e.ll.y:i.ll.y,u=i.ur.y.isLessThan(e.ur.y)?i.ur.y:e.ur.y;return{ll:{x:t,y:r},ur:{x:n,y:u}}},zt=(i,e)=>i.x.times(e.y).minus(i.y.times(e.x)),Yi=(i,e)=>i.x.times(e.x).plus(i.y.times(e.y)),Ut=i=>Yi(i,i).sqrt(),Dr=(i,e,t)=>{const n={x:e.x.minus(i.x),y:e.y.minus(i.y)},r={x:t.x.minus(i.x),y:t.y.minus(i.y)};return zt(r,n).div(Ut(r)).div(Ut(n))},zr=(i,e,t)=>{const n={x:e.x.minus(i.x),y:e.y.minus(i.y)},r={x:t.x.minus(i.x),y:t.y.minus(i.y)};return Yi(r,n).div(Ut(r)).div(Ut(n))},Qi=(i,e,t)=>e.y.isZero()?null:{x:i.x.plus(e.x.div(e.y).times(t.minus(i.y))),y:t},Xi=(i,e,t)=>e.x.isZero()?null:{x:t,y:i.y.plus(e.y.div(e.x).times(t.minus(i.x)))},Ur=(i,e,t,n)=>{if(e.x.isZero())return Xi(t,n,i.x);if(n.x.isZero())return Xi(i,e,t.x);if(e.y.isZero())return Qi(t,n,i.y);if(n.y.isZero())return Qi(i,e,t.y);const r=zt(e,n);if(r.isZero())return null;const u={x:t.x.minus(i.x),y:t.y.minus(i.y)},a=zt(u,e).div(r),o=zt(u,n).div(r),g=i.x.plus(o.times(e.x)),c=t.x.plus(a.times(n.x)),E=i.y.plus(o.times(e.y)),_=t.y.plus(a.times(n.y)),M=g.plus(c).div(2),R=E.plus(_).div(2);return{x:M,y:R}},Be=class En{constructor(e,t){A(this,"point");A(this,"isLeft");A(this,"segment");A(this,"otherSE");A(this,"consumedBy");e.events===void 0?e.events=[this]:e.events.push(this),this.point=e,this.isLeft=t}static compare(e,t){const n=En.comparePoints(e.point,t.point);return n!==0?n:(e.point!==t.point&&e.link(t),e.isLeft!==t.isLeft?e.isLeft?1:-1:Ft.compare(e.segment,t.segment))}static comparePoints(e,t){return e.x.isLessThan(t.x)?-1:e.x.isGreaterThan(t.x)?1:e.y.isLessThan(t.y)?-1:e.y.isGreaterThan(t.y)?1:0}link(e){if(e.point===this.point)throw new Error("Tried to link already linked events");const t=e.point.events;for(let n=0,r=t.length;n<r;n++){const u=t[n];this.point.events.push(u),u.point=this.point}this.checkForConsuming()}checkForConsuming(){const e=this.point.events.length;for(let t=0;t<e;t++){const n=this.point.events[t];if(n.segment.consumedBy===void 0)for(let r=t+1;r<e;r++){const u=this.point.events[r];u.consumedBy===void 0&&n.otherSE.point.events===u.otherSE.point.events&&n.segment.consume(u.segment)}}}getAvailableLinkedEvents(){const e=[];for(let t=0,n=this.point.events.length;t<n;t++){const r=this.point.events[t];r!==this&&!r.segment.ringOut&&r.segment.isInResult()&&e.push(r)}return e}getLeftmostComparator(e){const t=new Map,n=r=>{const u=r.otherSE;t.set(r,{sine:Dr(this.point,e.point,u.point),cosine:zr(this.point,e.point,u.point)})};return(r,u)=>{t.has(r)||n(r),t.has(u)||n(u);const{sine:a,cosine:o}=t.get(r),{sine:g,cosine:c}=t.get(u);return a.isGreaterThanOrEqualTo(0)&&g.isGreaterThanOrEqualTo(0)?o.isLessThan(c)?1:o.isGreaterThan(c)?-1:0:a.isLessThan(0)&&g.isLessThan(0)?o.isLessThan(c)?-1:o.isGreaterThan(c)?1:0:g.isLessThan(a)?-1:g.isGreaterThan(a)?1:0}}},qr=class pi{constructor(e){A(this,"events");A(this,"poly");A(this,"_isExteriorRing");A(this,"_enclosingRing");this.events=e;for(let t=0,n=e.length;t<n;t++)e[t].segment.ringOut=this;this.poly=null}static factory(e){const t=[];for(let n=0,r=e.length;n<r;n++){const u=e[n];if(!u.isInResult()||u.ringOut)continue;let a=null,o=u.leftSE,g=u.rightSE;const c=[o],E=o.point,_=[];for(;a=o,o=g,c.push(o),o.point!==E;)for(;;){const M=o.getAvailableLinkedEvents();if(M.length===0){const I=c[0].point,C=c[c.length-1].point;throw new Error(`Unable to complete output ring starting at [${I.x}, ${I.y}]. Last matching segment found ends at [${C.x}, ${C.y}].`)}if(M.length===1){g=M[0].otherSE;break}let R=null;for(let I=0,C=_.length;I<C;I++)if(_[I].point===o.point){R=I;break}if(R!==null){const I=_.splice(R)[0],C=c.splice(I.index);C.unshift(C[0].otherSE),t.push(new pi(C.reverse()));continue}_.push({index:c.length,point:o.point});const k=o.getLeftmostComparator(a);g=M.sort(k)[0].otherSE;break}t.push(new pi(c))}return t}getGeom(){let e=this.events[0].point;const t=[e];for(let c=1,E=this.events.length-1;c<E;c++){const _=this.events[c].point,M=this.events[c+1].point;Ze.orient(_,e,M)!==0&&(t.push(_),e=_)}if(t.length===1)return null;const n=t[0],r=t[1];Ze.orient(n,e,r)===0&&t.shift(),t.push(t[0]);const u=this.isExteriorRing()?1:-1,a=this.isExteriorRing()?0:t.length-1,o=this.isExteriorRing()?t.length:-1,g=[];for(let c=a;c!=o;c+=u)g.push([t[c].x.toNumber(),t[c].y.toNumber()]);return g}isExteriorRing(){if(this._isExteriorRing===void 0){const e=this.enclosingRing();this._isExteriorRing=e?!e.isExteriorRing():!0}return this._isExteriorRing}enclosingRing(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){var r,u;let e=this.events[0];for(let a=1,o=this.events.length;a<o;a++){const g=this.events[a];Be.compare(e,g)>0&&(e=g)}let t=e.segment.prevInResult(),n=t?t.prevInResult():null;for(;;){if(!t)return null;if(!n)return t.ringOut;if(n.ringOut!==t.ringOut)return((r=n.ringOut)==null?void 0:r.enclosingRing())!==t.ringOut?t.ringOut:(u=t.ringOut)==null?void 0:u.enclosingRing();t=n.prevInResult(),n=t?t.prevInResult():null}}},Ji=class{constructor(i){A(this,"exteriorRing");A(this,"interiorRings");this.exteriorRing=i,i.poly=this,this.interiorRings=[]}addInterior(i){this.interiorRings.push(i),i.poly=this}getGeom(){const i=this.exteriorRing.getGeom();if(i===null)return null;const e=[i];for(let t=0,n=this.interiorRings.length;t<n;t++){const r=this.interiorRings[t].getGeom();r!==null&&e.push(r)}return e}},Fr=class{constructor(i){A(this,"rings");A(this,"polys");this.rings=i,this.polys=this._composePolys(i)}getGeom(){const i=[];for(let e=0,t=this.polys.length;e<t;e++){const n=this.polys[e].getGeom();n!==null&&i.push(n)}return i}_composePolys(i){var t;const e=[];for(let n=0,r=i.length;n<r;n++){const u=i[n];if(!u.poly)if(u.isExteriorRing())e.push(new Ji(u));else{const a=u.enclosingRing();a!=null&&a.poly||e.push(new Ji(a)),(t=a==null?void 0:a.poly)==null||t.addInterior(u)}}return e}},jr=class{constructor(i,e=Ft.compare){A(this,"queue");A(this,"tree");A(this,"segments");this.queue=i,this.tree=new Dt(e),this.segments=[]}process(i){const e=i.segment,t=[];if(i.consumedBy)return i.isLeft?this.queue.delete(i.otherSE):this.tree.delete(e),t;i.isLeft&&this.tree.add(e);let n=e,r=e;do n=this.tree.lastBefore(n);while(n!=null&&n.consumedBy!=null);do r=this.tree.firstAfter(r);while(r!=null&&r.consumedBy!=null);if(i.isLeft){let u=null;if(n){const o=n.getIntersection(e);if(o!==null&&(e.isAnEndpoint(o)||(u=o),!n.isAnEndpoint(o))){const g=this._splitSafely(n,o);for(let c=0,E=g.length;c<E;c++)t.push(g[c])}}let a=null;if(r){const o=r.getIntersection(e);if(o!==null&&(e.isAnEndpoint(o)||(a=o),!r.isAnEndpoint(o))){const g=this._splitSafely(r,o);for(let c=0,E=g.length;c<E;c++)t.push(g[c])}}if(u!==null||a!==null){let o=null;u===null?o=a:a===null?o=u:o=Be.comparePoints(u,a)<=0?u:a,this.queue.delete(e.rightSE),t.push(e.rightSE);const g=e.split(o);for(let c=0,E=g.length;c<E;c++)t.push(g[c])}t.length>0?(this.tree.delete(e),t.push(i)):(this.segments.push(e),e.prev=n)}else{if(n&&r){const u=n.getIntersection(r);if(u!==null){if(!n.isAnEndpoint(u)){const a=this._splitSafely(n,u);for(let o=0,g=a.length;o<g;o++)t.push(a[o])}if(!r.isAnEndpoint(u)){const a=this._splitSafely(r,u);for(let o=0,g=a.length;o<g;o++)t.push(a[o])}}}this.tree.delete(e)}return t}_splitSafely(i,e){this.tree.delete(i);const t=i.rightSE;this.queue.delete(t);const n=i.split(e);return n.push(t),i.consumedBy===void 0&&this.tree.add(i),n}},Zr=class{constructor(){A(this,"type");A(this,"numMultiPolys")}run(i,e,t){xt.type=i;const n=[new en(e,!0)];for(let c=0,E=t.length;c<E;c++)n.push(new en(t[c],!1));if(xt.numMultiPolys=n.length,xt.type==="difference"){const c=n[0];let E=1;for(;E<n.length;)oi(n[E].bbox,c.bbox)!==null?E++:n.splice(E,1)}if(xt.type==="intersection")for(let c=0,E=n.length;c<E;c++){const _=n[c];for(let M=c+1,R=n.length;M<R;M++)if(oi(_.bbox,n[M].bbox)===null)return[]}const r=new Dt(Be.compare);for(let c=0,E=n.length;c<E;c++){const _=n[c].getSweepEvents();for(let M=0,R=_.length;M<R;M++)r.add(_[M])}const u=new jr(r);let a=null;for(r.size!=0&&(a=r.first(),r.delete(a));a;){const c=u.process(a);for(let E=0,_=c.length;E<_;E++){const M=c[E];M.consumedBy===void 0&&r.add(M)}r.size!=0?(a=r.first(),r.delete(a)):a=null}Ze.reset();const o=qr.factory(u.segments);return new Fr(o).getGeom()}},xt=new Zr,qt=xt,Hr=0,Ft=class Kt{constructor(e,t,n,r){A(this,"id");A(this,"leftSE");A(this,"rightSE");A(this,"rings");A(this,"windings");A(this,"ringOut");A(this,"consumedBy");A(this,"prev");A(this,"_prevInResult");A(this,"_beforeState");A(this,"_afterState");A(this,"_isInResult");this.id=++Hr,this.leftSE=e,e.segment=this,e.otherSE=t,this.rightSE=t,t.segment=this,t.otherSE=e,this.rings=n,this.windings=r}static compare(e,t){const n=e.leftSE.point.x,r=t.leftSE.point.x,u=e.rightSE.point.x,a=t.rightSE.point.x;if(a.isLessThan(n))return 1;if(u.isLessThan(r))return-1;const o=e.leftSE.point.y,g=t.leftSE.point.y,c=e.rightSE.point.y,E=t.rightSE.point.y;if(n.isLessThan(r)){if(g.isLessThan(o)&&g.isLessThan(c))return 1;if(g.isGreaterThan(o)&&g.isGreaterThan(c))return-1;const _=e.comparePoint(t.leftSE.point);if(_<0)return 1;if(_>0)return-1;const M=t.comparePoint(e.rightSE.point);return M!==0?M:-1}if(n.isGreaterThan(r)){if(o.isLessThan(g)&&o.isLessThan(E))return-1;if(o.isGreaterThan(g)&&o.isGreaterThan(E))return 1;const _=t.comparePoint(e.leftSE.point);if(_!==0)return _;const M=e.comparePoint(t.rightSE.point);return M<0?1:M>0?-1:1}if(o.isLessThan(g))return-1;if(o.isGreaterThan(g))return 1;if(u.isLessThan(a)){const _=t.comparePoint(e.rightSE.point);if(_!==0)return _}if(u.isGreaterThan(a)){const _=e.comparePoint(t.rightSE.point);if(_<0)return 1;if(_>0)return-1}if(!u.eq(a)){const _=c.minus(o),M=u.minus(n),R=E.minus(g),k=a.minus(r);if(_.isGreaterThan(M)&&R.isLessThan(k))return 1;if(_.isLessThan(M)&&R.isGreaterThan(k))return-1}return u.isGreaterThan(a)?1:u.isLessThan(a)||c.isLessThan(E)?-1:c.isGreaterThan(E)?1:e.id<t.id?-1:e.id>t.id?1:0}static fromRing(e,t,n){let r,u,a;const o=Be.comparePoints(e,t);if(o<0)r=e,u=t,a=1;else if(o>0)r=t,u=e,a=-1;else throw new Error(`Tried to create degenerate segment at [${e.x}, ${e.y}]`);const g=new Be(r,!0),c=new Be(u,!1);return new Kt(g,c,[n],[a])}replaceRightSE(e){this.rightSE=e,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){const e=this.leftSE.point.y,t=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:e.isLessThan(t)?e:t},ur:{x:this.rightSE.point.x,y:e.isGreaterThan(t)?e:t}}}vector(){return{x:this.rightSE.point.x.minus(this.leftSE.point.x),y:this.rightSE.point.y.minus(this.leftSE.point.y)}}isAnEndpoint(e){return e.x.eq(this.leftSE.point.x)&&e.y.eq(this.leftSE.point.y)||e.x.eq(this.rightSE.point.x)&&e.y.eq(this.rightSE.point.y)}comparePoint(e){return Ze.orient(this.leftSE.point,e,this.rightSE.point)}getIntersection(e){const t=this.bbox(),n=e.bbox(),r=oi(t,n);if(r===null)return null;const u=this.leftSE.point,a=this.rightSE.point,o=e.leftSE.point,g=e.rightSE.point,c=St(t,o)&&this.comparePoint(o)===0,E=St(n,u)&&e.comparePoint(u)===0,_=St(t,g)&&this.comparePoint(g)===0,M=St(n,a)&&e.comparePoint(a)===0;if(E&&c)return M&&!_?a:!M&&_?g:null;if(E)return _&&u.x.eq(g.x)&&u.y.eq(g.y)?null:u;if(c)return M&&a.x.eq(o.x)&&a.y.eq(o.y)?null:o;if(M&&_)return null;if(M)return a;if(_)return g;const R=Ur(u,this.vector(),o,e.vector());return R===null||!St(r,R)?null:Ze.snap(R)}split(e){const t=[],n=e.events!==void 0,r=new Be(e,!0),u=new Be(e,!1),a=this.rightSE;this.replaceRightSE(u),t.push(u),t.push(r);const o=new Kt(r,a,this.rings.slice(),this.windings.slice());return Be.comparePoints(o.leftSE.point,o.rightSE.point)>0&&o.swapEvents(),Be.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),n&&(r.checkForConsuming(),u.checkForConsuming()),t}swapEvents(){const e=this.rightSE;this.rightSE=this.leftSE,this.leftSE=e,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let t=0,n=this.windings.length;t<n;t++)this.windings[t]*=-1}consume(e){let t=this,n=e;for(;t.consumedBy;)t=t.consumedBy;for(;n.consumedBy;)n=n.consumedBy;const r=Kt.compare(t,n);if(r!==0){if(r>0){const u=t;t=n,n=u}if(t.prev===n){const u=t;t=n,n=u}for(let u=0,a=n.rings.length;u<a;u++){const o=n.rings[u],g=n.windings[u],c=t.rings.indexOf(o);c===-1?(t.rings.push(o),t.windings.push(g)):t.windings[c]+=g}n.rings=null,n.windings=null,n.consumedBy=t,n.leftSE.consumedBy=t.leftSE,n.rightSE.consumedBy=t.rightSE}}prevInResult(){return this._prevInResult!==void 0?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}beforeState(){if(this._beforeState!==void 0)return this._beforeState;if(!this.prev)this._beforeState={rings:[],windings:[],multiPolys:[]};else{const e=this.prev.consumedBy||this.prev;this._beforeState=e.afterState()}return this._beforeState}afterState(){if(this._afterState!==void 0)return this._afterState;const e=this.beforeState();this._afterState={rings:e.rings.slice(0),windings:e.windings.slice(0),multiPolys:[]};const t=this._afterState.rings,n=this._afterState.windings,r=this._afterState.multiPolys;for(let o=0,g=this.rings.length;o<g;o++){const c=this.rings[o],E=this.windings[o],_=t.indexOf(c);_===-1?(t.push(c),n.push(E)):n[_]+=E}const u=[],a=[];for(let o=0,g=t.length;o<g;o++){if(n[o]===0)continue;const c=t[o],E=c.poly;if(a.indexOf(E)===-1)if(c.isExterior)u.push(E);else{a.indexOf(E)===-1&&a.push(E);const _=u.indexOf(c.poly);_!==-1&&u.splice(_,1)}}for(let o=0,g=u.length;o<g;o++){const c=u[o].multiPoly;r.indexOf(c)===-1&&r.push(c)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;const e=this.beforeState().multiPolys,t=this.afterState().multiPolys;switch(qt.type){case"union":{const n=e.length===0,r=t.length===0;this._isInResult=n!==r;break}case"intersection":{let n,r;e.length<t.length?(n=e.length,r=t.length):(n=t.length,r=e.length),this._isInResult=r===qt.numMultiPolys&&n<r;break}case"xor":{const n=Math.abs(e.length-t.length);this._isInResult=n%2===1;break}case"difference":{const n=r=>r.length===1&&r[0].isSubject;this._isInResult=n(e)!==n(t);break}}return this._isInResult}},$i=class{constructor(i,e,t){A(this,"poly");A(this,"isExterior");A(this,"segments");A(this,"bbox");if(!Array.isArray(i)||i.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=e,this.isExterior=t,this.segments=[],typeof i[0][0]!="number"||typeof i[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");const n=Ze.snap({x:new Ae(i[0][0]),y:new Ae(i[0][1])});this.bbox={ll:{x:n.x,y:n.y},ur:{x:n.x,y:n.y}};let r=n;for(let u=1,a=i.length;u<a;u++){if(typeof i[u][0]!="number"||typeof i[u][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");const o=Ze.snap({x:new Ae(i[u][0]),y:new Ae(i[u][1])});o.x.eq(r.x)&&o.y.eq(r.y)||(this.segments.push(Ft.fromRing(r,o,this)),o.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=o.x),o.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=o.y),o.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=o.x),o.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=o.y),r=o)}(!n.x.eq(r.x)||!n.y.eq(r.y))&&this.segments.push(Ft.fromRing(r,n,this))}getSweepEvents(){const i=[];for(let e=0,t=this.segments.length;e<t;e++){const n=this.segments[e];i.push(n.leftSE),i.push(n.rightSE)}return i}},Vr=class{constructor(i,e){A(this,"multiPoly");A(this,"exteriorRing");A(this,"interiorRings");A(this,"bbox");if(!Array.isArray(i))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new $i(i[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let t=1,n=i.length;t<n;t++){const r=new $i(i[t],this,!1);r.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=r.bbox.ll.x),r.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=r.bbox.ll.y),r.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=r.bbox.ur.x),r.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=r.bbox.ur.y),this.interiorRings.push(r)}this.multiPoly=e}getSweepEvents(){const i=this.exteriorRing.getSweepEvents();for(let e=0,t=this.interiorRings.length;e<t;e++){const n=this.interiorRings[e].getSweepEvents();for(let r=0,u=n.length;r<u;r++)i.push(n[r])}return i}},en=class{constructor(i,e){A(this,"isSubject");A(this,"polys");A(this,"bbox");if(!Array.isArray(i))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof i[0][0][0]=="number"&&(i=[i])}catch{}this.polys=[],this.bbox={ll:{x:new Ae(Number.POSITIVE_INFINITY),y:new Ae(Number.POSITIVE_INFINITY)},ur:{x:new Ae(Number.NEGATIVE_INFINITY),y:new Ae(Number.NEGATIVE_INFINITY)}};for(let t=0,n=i.length;t<n;t++){const r=new Vr(i[t],this);r.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=r.bbox.ll.x),r.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=r.bbox.ll.y),r.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=r.bbox.ur.x),r.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=r.bbox.ur.y),this.polys.push(r)}this.isSubject=e}getSweepEvents(){const i=[];for(let e=0,t=this.polys.length;e<t;e++){const n=this.polys[e].getSweepEvents();for(let r=0,u=n.length;r<u;r++)i.push(n[r])}return i}},Kr=(i,...e)=>qt.run("union",i,e),Yr=(i,...e)=>qt.run("difference",i,e);Ze.set;function tn(i,e,t){if(i!==null)for(var n,r,u,a,o,g,c,E=0,_=0,M,R=i.type,k=R==="FeatureCollection",I=R==="Feature",C=k?i.features.length:1,O=0;O<C;O++){c=k?i.features[O].geometry:I?i.geometry:i,M=c?c.type==="GeometryCollection":!1,o=M?c.geometries.length:1;for(var x=0;x<o;x++){var N=0,P=0;if(a=M?c.geometries[x]:c,a!==null){g=a.coordinates;var B=a.type;switch(E=0,B){case null:break;case"Point":if(e(g,_,O,N,P)===!1)return!1;_++,N++;break;case"LineString":case"MultiPoint":for(n=0;n<g.length;n++){if(e(g[n],_,O,N,P)===!1)return!1;_++,B==="MultiPoint"&&N++}B==="LineString"&&N++;break;case"Polygon":case"MultiLineString":for(n=0;n<g.length;n++){for(r=0;r<g[n].length-E;r++){if(e(g[n][r],_,O,N,P)===!1)return!1;_++}B==="MultiLineString"&&N++,B==="Polygon"&&P++}B==="Polygon"&&N++;break;case"MultiPolygon":for(n=0;n<g.length;n++){for(P=0,r=0;r<g[n].length;r++){for(u=0;u<g[n][r].length-E;u++){if(e(g[n][r][u],_,O,N,P)===!1)return!1;_++}P++}N++}break;case"GeometryCollection":for(n=0;n<a.geometries.length;n++)if(tn(a.geometries[n],e)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function li(i,e){var t,n,r,u,a,o,g,c,E,_,M=0,R=i.type==="FeatureCollection",k=i.type==="Feature",I=R?i.features.length:1;for(t=0;t<I;t++){for(o=R?i.features[t].geometry:k?i.geometry:i,c=R?i.features[t].properties:k?i.properties:{},E=R?i.features[t].bbox:k?i.bbox:void 0,_=R?i.features[t].id:k?i.id:void 0,g=o?o.type==="GeometryCollection":!1,a=g?o.geometries.length:1,r=0;r<a;r++){if(u=g?o.geometries[r]:o,u===null){if(e(null,M,c,E,_)===!1)return!1;continue}switch(u.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(e(u,M,c,E,_)===!1)return!1;break}case"GeometryCollection":{for(n=0;n<u.geometries.length;n++)if(e(u.geometries[n],M,c,E,_)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}M++}}function Qr(i,e){li(i,function(t,n,r,u,a){var o=t===null?null:t.type;switch(o){case null:case"Point":case"LineString":case"Polygon":return e(Et(t,r,{bbox:u,id:a}),n,0)===!1?!1:void 0}var g;switch(o){case"MultiPoint":g="Point";break;case"MultiLineString":g="LineString";break;case"MultiPolygon":g="Polygon";break}for(var c=0;c<t.coordinates.length;c++){var E=t.coordinates[c],_={type:g,coordinates:E};if(e(Et(_,r),n,c)===!1)return!1}})}function Xr(i,e={}){const t=[];if(li(i,r=>{t.push(r.coordinates)}),t.length<2)throw new Error("Must have at least 2 geometries");const n=Kr(t[0],...t.slice(1));return n.length===0?null:n.length===1?ti(n[0],e.properties):Fi(n,e.properties)}var nn=Xr;function Jr(i,e={}){if(i.bbox!=null&&e.recompute!==!0)return i.bbox;const t=[1/0,1/0,-1/0,-1/0];return tn(i,n=>{t[0]>n[0]&&(t[0]=n[0]),t[1]>n[1]&&(t[1]=n[1]),t[2]<n[0]&&(t[2]=n[0]),t[3]<n[1]&&(t[3]=n[1])}),t}var rn=Jr;function $r(i){const e=[];if(li(i,r=>{e.push(r.coordinates)}),e.length<2)throw new Error("Must have at least two features");const t=i.features[0].properties||{},n=Yr(e[0],...e.slice(1));return n.length===0?null:n.length===1?ti(n[0],t):Fi(n,t)}var es=$r;function ts(i){if(!i)throw new Error("geojson is required");var e=[];return Qr(i,function(t){e.push(t)}),Lt(e)}var is=ts;function sn(i,e){const t=es(Lt([ti([[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]]),i]));if(!t)return;t.properties={isMask:!0};const n=Bt(rn(i)),r=(n[2]-n[0])/360/1e3,u=n[0]<-180,a=n[2]>180,o=is(i);if(o.features.length>1&&(u||a))for(const g of o.features){const c=Bt(rn(g));if(a&&c[0]<-180+r)for(const E of g.geometry.coordinates)for(const _ of E)_[0]+=360-r;if(u&&c[2]>180-r)for(const E of g.geometry.coordinates)for(const _ of E)_[0]-=360-r}e(Lt([o.features.length<2?i:nn(o)??i,t]))}const on={fill:{paint:{"fill-color":"#000","fill-opacity":.1},filter:["all",["==",["geometry-type"],"Polygon"],["has","isMask"]]},line:{layout:{"line-cap":"square"},paint:{"line-width":["case",["==",["geometry-type"],"Polygon"],2,3],"line-dasharray":[1,1],"line-color":"#3170fe"},filter:["!",["has","isMask"]]}},jt="mtlr-gc-full-geom",ln="mtlr-gc-full-geom-fill",un="mtlr-gc-full-geom-line";function an(i,e,t=!0,n=!0,r={},u={},a=on){let o;const g=[];let c,E,_;function M(){if(!i.loaded){i.once("load",M);return}const C=a?a===!0?on:a:void 0;if(!(C!=null&&C.fill)&&!(C!=null&&C.line))return;const O=i.getSource(jt);if(O)O.setData(_??Lt([]));else if(_)i.addSource(jt,{type:"geojson",data:_});else return;!i.getLayer(ln)&&(C!=null&&C.fill)&&i.addLayer({...C==null?void 0:C.fill,id:ln,type:"fill",source:jt}),!i.getLayer(un)&&(C!=null&&C.line)&&i.addLayer({...C==null?void 0:C.line,id:un,type:"line",source:jt})}function R(C){_=C,M()}i.on("styledata",()=>{setTimeout(()=>{_&&M()})});const k=C=>{o==null||o({type:"mapClick",coordinates:[C.lngLat.lng,C.lngLat.lat]})};function I(C=!1){if(!e)throw new Error;const O=document.createElement("div");return C&&O.classList.add("marker-interactive"),new or({props:{displayIn:"maplibre"},target:O}),new e.Marker({element:O,offset:[1,-13]})}return{setEventHandler(C){C?(o=C,i.on("click",k)):(o=void 0,i.off("click",k))},flyTo(C,O){i.flyTo({center:C,...O?{zoom:O}:{},...r})},fitBounds(C,O,x){i.fitBounds([[C[0],C[1]],[C[2],C[3]]],{padding:O,...x?{maxZoom:x}:{},...u})},indicateReverse(C){i.getCanvasContainer().style.cursor=C?"crosshair":""},setReverseMarker(C){!e||!t||(E?C?E.setLngLat(C):(E.remove(),E=void 0):C&&(t instanceof Function?E=t(i)??void 0:(E=(typeof t=="object"?new e.Marker(t):I()).setLngLat(C).addTo(i),E.getElement().classList.add("marker-reverse"))))},setFeatures(C,O,x){for(const N of g)N.remove();if(g.length=0,R(void 0),!!e){e:if(O){let N=!1;if(O.geometry.type==="GeometryCollection"){const P=O.geometry.geometries.filter(B=>B.type==="Polygon"||B.type==="MultiPolygon");t:if(P.length>0){const B=nn(Lt(P.map(z=>Et(z))));if(!B)break t;sn({...O,geometry:B.geometry},R),N=!0}else{const B=O.geometry.geometries.filter(z=>z.type==="LineString"||z.type==="MultiLineString");B.length>0&&(R({...O,geometry:{type:"GeometryCollection",geometries:B}}),N=!0)}}if(!N){if(O.geometry.type==="Polygon"||O.geometry.type==="MultiPolygon")sn(O,R);else if(O.geometry.type==="LineString"||O.geometry.type==="MultiLineString"){R(O);break e}}if(!x&&!O.geometry.type.endsWith("Point"))break e;if(t instanceof Function){const P=t(i,O);P&&g.push(P)}else t&&g.push(typeof t=="object"?new e.Marker(t):I().setLngLat(O.center).addTo(i))}if(n)for(const N of C??[]){if(N===O)continue;let P;if(n instanceof Function){if(P=n(i,N),!P)continue}else P=(typeof n=="object"?new e.Marker(n):I(!0)).setLngLat(N.center).setPopup(new e.Popup({offset:[1,-27],closeButton:!1,closeOnMove:!0,className:"maptiler-gc-popup"}).setText(N.place_type[0]==="reverse"?N.place_name:N.place_name.replace(/,.*/,""))).addTo(i);const B=P.getElement();B.addEventListener("click",z=>{z.stopPropagation(),o==null||o({type:"markerClick",id:N.id})}),B.addEventListener("mouseenter",()=>{o==null||o({type:"markerMouseEnter",id:N.id}),P.togglePopup()}),B.addEventListener("mouseleave",()=>{o==null||o({type:"markerMouseLeave",id:N.id}),P.togglePopup()}),g.push(P)}}},setSelectedMarker(C){c&&c.getElement().classList.toggle("marker-selected",!1),c=C>-1?g[C]:void 0,c==null||c.getElement().classList.toggle("marker-selected",!0)},getCenterAndZoom(){const C=i.getCenter();return[i.getZoom(),C.lng,C.lat]}}}function ns(i,e,t){var k,I,C;class n{constructor(x,N){A(this,"type");A(this,"target");this.type=N,this.target=x}}class r extends n{constructor(N,P){super(N,"select");A(this,"feature");Object.assign(this,P)}}class u extends n{constructor(N,P){super(N,"featureslisted");A(this,"features");this.features=P}}class a extends n{constructor(N,P){super(N,"featuresmarked");A(this,"features");this.features=P}}class o extends n{constructor(N,P){super(N,"optionsvisibilitychange");A(this,"optionsVisible");this.optionsVisible=P}}class g extends n{constructor(N,P){super(N,"pick");A(this,"feature");this.feature=P}}class c extends n{constructor(N,P){super(N,"querychange");A(this,"query");this.query=P}}class E extends n{constructor(N,P,B){super(N,"response");A(this,"url");A(this,"featureCollection");this.url=P,this.featureCollection=B}}class _ extends n{constructor(N,P){super(N,"reversetoggle");A(this,"reverse");this.reverse=P}}class M extends i{constructor(N={}){super();Vt(this,k);Vt(this,I);Vt(this,C);kt(this,I,N)}onAddInt(N){const P=document.createElement("div");P.className="mapboxgl-ctrl-geocoder mapboxgl-ctrl maplibregl-ctrl-geocoder maplibregl-ctrl mapboxgl-ctrl-group";const{marker:B,showResultMarkers:z,flyTo:W,fullGeometryStyle:s,...l}=ue(this,I),f=typeof W=="boolean"?{}:W,h={mapController:an(N,e,B,z,f,f,s),flyTo:W===void 0?!0:!!W,apiKey:"",...t==null?void 0:t(N,P),...l};return h.apiKey||console.warn("No MapTiler Cloud API key was provided, some or all geocoding requests may fail"),kt(this,k,new kr({target:P,props:h})),ue(this,k).$on("select",d=>{this.fire(new r(this,d.detail))}),ue(this,k).$on("pick",d=>{this.fire(new g(this,d.detail.feature))}),ue(this,k).$on("featureslisted",d=>{this.fire(new u(this,d.detail.features))}),ue(this,k).$on("featuresmarked",d=>{this.fire(new a(this,d.detail.features))}),ue(this,k).$on("response",d=>{this.fire(new E(this,d.detail.url,d.detail.featureCollection))}),ue(this,k).$on("optionsvisibilitychange",d=>{this.fire(new o(this,d.detail.optionsVisible))}),ue(this,k).$on("reversetoggle",d=>{this.fire(new _(this,d.detail.reverse))}),ue(this,k).$on("querychange",d=>{this.fire(new c(this,d.detail.query))}),kt(this,C,P),P}on(N,P){return super.on(N,P)}once(N,P){return super.once(N,P)}off(N,P){return super.off(N,P)}listens(N){return super.listens(N)}setOptions(N){var l;Object.assign(ue(this,I),N);const{marker:P,showResultMarkers:B,flyTo:z,fullGeometryStyle:W,...s}=ue(this,I);(l=ue(this,k))==null||l.$set(s)}setQuery(N,P=!0){var B;(B=ue(this,k))==null||B.setQuery(N,P)}clearMap(){var N;(N=ue(this,k))==null||N.clearMap()}clearList(){var N;(N=ue(this,k))==null||N.clearList()}setReverseMode(N){var P;(P=ue(this,k))==null||P.$set({reverseActive:N})}focus(N){var P;(P=ue(this,k))==null||P.focus(N)}blur(){var N;(N=ue(this,k))==null||N.blur()}onRemove(){var N,P,B;(N=ue(this,k))==null||N.$destroy(),kt(this,k,void 0),(B=(P=ue(this,C))==null?void 0:P.parentNode)==null||B.removeChild(ue(this,C))}}return k=new WeakMap,I=new WeakMap,C=new WeakMap,{MapLibreBasedGeocodingControl:M,events:{SelectEvent:r,FeaturesListedEvent:u,FeaturesMarkedEvent:a,OptionsVisibilityChangeEvent:o,PickEvent:g,QueryChangeEvent:c,ResponseEvent:E,ReverseToggleEvent:_}}}const{MapLibreBasedGeocodingControl:rs,events:et}=ns(dt.Evented,dt);class ss extends rs{onAdd(e){return super.onAddInt(e)}}const os=et.SelectEvent,ls=et.FeaturesListedEvent,us=et.FeaturesMarkedEvent,as=et.OptionsVisibilityChangeEvent,fs=et.PickEvent,cs=et.QueryChangeEvent,hs=et.ResponseEvent,ds=et.ReverseToggleEvent;j.FeaturesListedEvent=ls,j.FeaturesMarkedEvent=us,j.GeocodingControl=ss,j.OptionsVisibilityChangeEvent=as,j.PickEvent=fs,j.QueryChangeEvent=cs,j.ResponseEvent=hs,j.ReverseToggleEvent=ds,j.SelectEvent=os,j.createMapLibreGlMapController=an,Object.defineProperty(j,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=maplibregl.umd.js.map
</script>
<script>!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).turf={})}(this,(function(t){"use strict";function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function n(t){if(Array.isArray(t))return t}function r(t,e,n){return e=l(e),function(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,c()?Reflect.construct(e,n||[],l(t).constructor):e.apply(t,n))}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,y(r.key),r)}}function s(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function a(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=_(t))||e){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function u(t,e,n){return(e=y(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(c=function(){return!!t})()}function f(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function g(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(t,e){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},p(t,e)}function v(t,e){return n(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,s,a=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(t){l=!0,i=t}finally{try{if(!u&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return a}}(t,e)||_(t,e)||g()}function d(t){return function(t){if(Array.isArray(t))return e(t)}(t)||f(t)||_(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function _(t,n){if(t){if("string"==typeof t)return e(t,n);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}var x=6371008.8,E={centimeters:100*x,centimetres:100*x,degrees:360/(2*Math.PI),feet:3.28084*x,inches:39.37*x,kilometers:x/1e3,kilometres:x/1e3,meters:x,metres:x,miles:x/1609.344,millimeters:1e3*x,millimetres:1e3*x,nauticalmiles:x/1852,radians:1,yards:1.0936*x},k={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function b(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={type:"Feature"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=e||{},r.geometry=t,r}function w(t,e){switch(t){case"Point":return I(e).geometry;case"LineString":return L(e).geometry;case"Polygon":return S(e).geometry;case"MultiPoint":return O(e).geometry;case"MultiLineString":return T(e).geometry;case"MultiPolygon":return R(e).geometry;default:throw new Error(t+" is invalid")}}function I(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!U(t[0])||!U(t[1]))throw new Error("coordinates must contain numbers");return b({type:"Point",coordinates:t},e,n)}function N(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return C(t.map((function(t){return I(t,e)})),n)}function S(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=a(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(o[o.length-1].length!==o[0].length)throw new Error("First and last Position are not equivalent.");for(var s=0;s<o[o.length-1].length;s++)if(o[o.length-1][s]!==o[0][s])throw new Error("First and last Position are not equivalent.")}}catch(t){i.e(t)}finally{i.f()}return b({type:"Polygon",coordinates:t},e,r)}function M(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return C(t.map((function(t){return S(t,e)})),n)}function L(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t.length<2)throw new Error("coordinates must be an array of two or more positions");return b({type:"LineString",coordinates:t},e,n)}function P(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return C(t.map((function(t){return L(t,e)})),n)}function C(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={type:"FeatureCollection"};return e.id&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.features=t,n}function T(t,e){return b({type:"MultiLineString",coordinates:t},e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}function O(t,e){return b({type:"MultiPoint",coordinates:t},e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}function R(t,e){return b({type:"MultiPolygon",coordinates:t},e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}function A(t,e){return b({type:"GeometryCollection",geometries:t},e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}function D(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e&&!(e>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,e||0);return Math.round(t*n)/n}function F(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"kilometers",n=E[e];if(!n)throw new Error(e+" units is invalid");return t*n}function q(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"kilometers",n=E[e];if(!n)throw new Error(e+" units is invalid");return t/n}function V(t,e){return Y(q(t,e))}function G(t){var e=t%360;return e<0&&(e+=360),e}function B(t){return(t%=360)>180?t-360:t<-180?t+360:t}function Y(t){return 180*(t%(2*Math.PI))/Math.PI}function z(t){return t%360*Math.PI/180}function j(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"kilometers",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"kilometers";if(!(t>=0))throw new Error("length must be a positive number");return F(q(t,e),n)}function X(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"meters",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"kilometers";if(!(t>=0))throw new Error("area must be a positive number");var r=k[e];if(!r)throw new Error("invalid original units");var i=k[n];if(!i)throw new Error("invalid final units");return t/r*i}function U(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}function Z(t){return null!==t&&"object"===m(t)&&!Array.isArray(t)}function H(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach((function(t){if(!U(t))throw new Error("bbox must only contain numbers")}))}function W(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(m(t)))throw new Error("id must be a number or a string")}var J=Object.freeze({__proto__:null,areaFactors:k,azimuthToBearing:B,bearingToAzimuth:G,convertArea:X,convertLength:j,degreesToRadians:z,earthRadius:x,factors:E,feature:b,featureCollection:C,geometry:w,geometryCollection:A,isNumber:U,isObject:Z,lengthToDegrees:V,lengthToRadians:q,lineString:L,lineStrings:P,multiLineString:T,multiPoint:O,multiPolygon:R,point:I,points:N,polygon:S,polygons:M,radiansToDegrees:Y,radiansToLength:F,round:D,validateBBox:H,validateId:W});function K(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if("Feature"===t.type&&null!==t.geometry&&"Point"===t.geometry.type)return d(t.geometry.coordinates);if("Point"===t.type)return d(t.coordinates)}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return d(t);throw new Error("coord must be GeoJSON Point or an Array of numbers")}function Q(t){if(Array.isArray(t))return t;if("Feature"===t.type){if(null!==t.geometry)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function $(t){if(t.length>1&&U(t[0])&&U(t[1]))return!0;if(Array.isArray(t[0])&&t[0].length)return $(t[0]);throw new Error("coordinates must only contain numbers")}function tt(t,e,n){if(!e||!n)throw new Error("type and name required");if(!t||t.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.type)}function et(t,e,n){if(!t)throw new Error("No feature passed");if(!n)throw new Error(".featureOf() requires a name");if(!t||"Feature"!==t.type||!t.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!t.geometry||t.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.geometry.type)}function nt(t,e,n){if(!t)throw new Error("No featureCollection passed");if(!n)throw new Error(".collectionOf() requires a name");if(!t||"FeatureCollection"!==t.type)throw new Error("Invalid input to "+n+", FeatureCollection required");var r,i=a(t.features);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(!o||"Feature"!==o.type||!o.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!o.geometry||o.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+o.geometry.type)}}catch(t){i.e(t)}finally{i.f()}}function rt(t){return"Feature"===t.type?t.geometry:t}function it(t,e){return"FeatureCollection"===t.type?"FeatureCollection":"GeometryCollection"===t.type?"GeometryCollection":"Feature"===t.type&&null!==t.geometry?t.geometry.type:t.type}var ot=Object.freeze({__proto__:null,collectionOf:nt,containsNumber:$,featureOf:et,geojsonType:tt,getCoord:K,getCoords:Q,getGeom:rt,getType:it});function st(t,e){if(!0===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).final)return function(t,e){var n=st(e,t);return n=(n+180)%360}(t,e);var n=K(t),r=K(e),i=z(n[0]),o=z(r[0]),s=z(n[1]),a=z(r[1]),u=Math.sin(o-i)*Math.cos(a),l=Math.cos(s)*Math.sin(a)-Math.sin(s)*Math.cos(a)*Math.cos(o-i);return Y(Math.atan2(u,l))}function at(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=K(t),o=z(i[0]),s=z(i[1]),a=z(n),u=q(e,r.units),l=Math.asin(Math.sin(s)*Math.cos(u)+Math.cos(s)*Math.sin(u)*Math.cos(a));return I([Y(o+Math.atan2(Math.sin(a)*Math.sin(u)*Math.cos(s),Math.cos(u)-Math.sin(s)*Math.sin(l))),Y(l)],r.properties)}function ut(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=K(t),i=K(e),o=z(i[1]-r[1]),s=z(i[0]-r[0]),a=z(r[1]),u=z(i[1]),l=Math.pow(Math.sin(o/2),2)+Math.pow(Math.sin(s/2),2)*Math.cos(a)*Math.cos(u);return F(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)),n.units)}function lt(t,e){var n;return(n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).final?ht(K(e),K(t)):ht(K(t),K(e)))>180?-(360-n):n}function ht(t,e){var n=z(t[1]),r=z(e[1]),i=z(e[0]-t[0]);i>Math.PI&&(i-=2*Math.PI),i<-Math.PI&&(i+=2*Math.PI);var o=Math.log(Math.tan(r/2+Math.PI/4)/Math.tan(n/2+Math.PI/4));return(Y(Math.atan2(i,o))+360)%360}function ct(t,e,n){if(null!==t)for(var r,i,o,s,a,u,l,h,c=0,f=0,g=t.type,p="FeatureCollection"===g,v="Feature"===g,d=p?t.features.length:1,y=0;y<d;y++){a=(h=!!(l=p?t.features[y].geometry:v?t.geometry:t)&&"GeometryCollection"===l.type)?l.geometries.length:1;for(var m=0;m<a;m++){var _=0,x=0;if(null!==(s=h?l.geometries[m]:l)){u=s.coordinates;var E=s.type;switch(c=!n||"Polygon"!==E&&"MultiPolygon"!==E?0:1,E){case null:break;case"Point":if(!1===e(u,f,y,_,x))return!1;f++,_++;break;case"LineString":case"MultiPoint":for(r=0;r<u.length;r++){if(!1===e(u[r],f,y,_,x))return!1;f++,"MultiPoint"===E&&_++}"LineString"===E&&_++;break;case"Polygon":case"MultiLineString":for(r=0;r<u.length;r++){for(i=0;i<u[r].length-c;i++){if(!1===e(u[r][i],f,y,_,x))return!1;f++}"MultiLineString"===E&&_++,"Polygon"===E&&x++}"Polygon"===E&&_++;break;case"MultiPolygon":for(r=0;r<u.length;r++){for(x=0,i=0;i<u[r].length;i++){for(o=0;o<u[r][i].length-c;o++){if(!1===e(u[r][i][o],f,y,_,x))return!1;f++}x++}_++}break;case"GeometryCollection":for(r=0;r<s.geometries.length;r++)if(!1===ct(s.geometries[r],e,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function ft(t,e,n,r){var i=n;return ct(t,(function(t,r,o,s,a){i=0===r&&void 0===n?t:e(i,t,r,o,s,a)}),r),i}function gt(t,e){var n;switch(t.type){case"FeatureCollection":for(n=0;n<t.features.length&&!1!==e(t.features[n].properties,n);n++);break;case"Feature":e(t.properties,0)}}function pt(t,e,n){var r=n;return gt(t,(function(t,i){r=0===i&&void 0===n?t:e(r,t,i)})),r}function vt(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length&&!1!==e(t.features[n],n);n++);}function dt(t,e,n){var r=n;return vt(t,(function(t,i){r=0===i&&void 0===n?t:e(r,t,i)})),r}function yt(t){var e=[];return ct(t,(function(t){e.push(t)})),e}function mt(t,e){var n,r,i,o,s,a,u,l,h,c,f=0,g="FeatureCollection"===t.type,p="Feature"===t.type,v=g?t.features.length:1;for(n=0;n<v;n++){for(a=g?t.features[n].geometry:p?t.geometry:t,l=g?t.features[n].properties:p?t.properties:{},h=g?t.features[n].bbox:p?t.bbox:void 0,c=g?t.features[n].id:p?t.id:void 0,s=(u=!!a&&"GeometryCollection"===a.type)?a.geometries.length:1,i=0;i<s;i++)if(null!==(o=u?a.geometries[i]:a))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===e(o,f,l,h,c))return!1;break;case"GeometryCollection":for(r=0;r<o.geometries.length;r++)if(!1===e(o.geometries[r],f,l,h,c))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===e(null,f,l,h,c))return!1;f++}}function _t(t,e,n){var r=n;return mt(t,(function(t,i,o,s,a){r=0===i&&void 0===n?t:e(r,t,i,o,s,a)})),r}function xt(t,e){mt(t,(function(t,n,r,i,o){var s,a=null===t?null:t.type;switch(a){case null:case"Point":case"LineString":case"Polygon":return!1!==e(b(t,r,{bbox:i,id:o}),n,0)&&void 0}switch(a){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var u=0;u<t.coordinates.length;u++){var l=t.coordinates[u];if(!1===e(b({type:s,coordinates:l},r),n,u))return!1}}))}function Et(t,e,n){var r=n;return xt(t,(function(t,i,o){r=0===i&&0===o&&void 0===n?t:e(r,t,i,o)})),r}function kt(t,e){xt(t,(function(t,n,r){var i=0;if(t.geometry){var o=t.geometry.type;if("Point"!==o&&"MultiPoint"!==o){var s,a=0,u=0,l=0;return!1!==ct(t,(function(o,h,c,f,g){if(void 0===s||n>a||f>u||g>l)return s=o,a=n,u=f,l=g,void(i=0);var p=L([s,o],t.properties);if(!1===e(p,n,r,g,i))return!1;i++,s=o}))&&void 0}}}))}function bt(t,e,n){var r=n,i=!1;return kt(t,(function(t,o,s,a,u){r=!1===i&&void 0===n?t:e(r,t,o,s,a,u),i=!0})),r}function wt(t,e){if(!t)throw new Error("geojson is required");xt(t,(function(t,n,r){if(null!==t.geometry){var i=t.geometry.type,o=t.geometry.coordinates;switch(i){case"LineString":if(!1===e(t,n,r,0,0))return!1;break;case"Polygon":for(var s=0;s<o.length;s++)if(!1===e(L(o[s],t.properties),n,r,s))return!1}}}))}function It(t,e,n){var r=n;return wt(t,(function(t,i,o,s){r=0===i&&void 0===n?t:e(r,t,i,o,s)})),r}function Nt(t,e){if(!Z(e=e||{}))throw new Error("options is invalid");var n,r=e.featureIndex||0,i=e.multiFeatureIndex||0,o=e.geometryIndex||0,s=e.segmentIndex||0,a=e.properties;switch(t.type){case"FeatureCollection":r<0&&(r=t.features.length+r),a=a||t.features[r].properties,n=t.features[r].geometry;break;case"Feature":a=a||t.properties,n=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=t;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var u=n.coordinates;switch(n.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=u.length+s-1),L([u[s],u[s+1]],a,e);case"Polygon":return o<0&&(o=u.length+o),s<0&&(s=u[o].length+s-1),L([u[o][s],u[o][s+1]],a,e);case"MultiLineString":return i<0&&(i=u.length+i),s<0&&(s=u[i].length+s-1),L([u[i][s],u[i][s+1]],a,e);case"MultiPolygon":return i<0&&(i=u.length+i),o<0&&(o=u[i].length+o),s<0&&(s=u[i][o].length-s-1),L([u[i][o][s],u[i][o][s+1]],a,e)}throw new Error("geojson is invalid")}function St(t,e){if(!Z(e=e||{}))throw new Error("options is invalid");var n,r=e.featureIndex||0,i=e.multiFeatureIndex||0,o=e.geometryIndex||0,s=e.coordIndex||0,a=e.properties;switch(t.type){case"FeatureCollection":r<0&&(r=t.features.length+r),a=a||t.features[r].properties,n=t.features[r].geometry;break;case"Feature":a=a||t.properties,n=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=t;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var u=n.coordinates;switch(n.type){case"Point":return I(u,a,e);case"MultiPoint":return i<0&&(i=u.length+i),I(u[i],a,e);case"LineString":return s<0&&(s=u.length+s),I(u[s],a,e);case"Polygon":return o<0&&(o=u.length+o),s<0&&(s=u[o].length+s),I(u[o][s],a,e);case"MultiLineString":return i<0&&(i=u.length+i),s<0&&(s=u[i].length+s),I(u[i][s],a,e);case"MultiPolygon":return i<0&&(i=u.length+i),o<0&&(o=u[i].length+o),s<0&&(s=u[i][o].length-s),I(u[i][o][s],a,e)}throw new Error("geojson is invalid")}var Mt=Object.freeze({__proto__:null,coordAll:yt,coordEach:ct,coordReduce:ft,featureEach:vt,featureReduce:dt,findPoint:St,findSegment:Nt,flattenEach:xt,flattenReduce:Et,geomEach:mt,geomReduce:_t,lineEach:wt,lineReduce:It,propEach:gt,propReduce:pt,segmentEach:kt,segmentReduce:bt});function Lt(t){return _t(t,(function(t,e){return t+function(t){var e,n=0;switch(t.type){case"Polygon":return Pt(t.coordinates);case"MultiPolygon":for(e=0;e<t.coordinates.length;e++)n+=Pt(t.coordinates[e]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(e)}),0)}function Pt(t){var e=0;if(t&&t.length>0){e+=Math.abs(Ot(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(Ot(t[n]))}return e}var Ct=x*x/2,Tt=Math.PI/180;function Ot(t){var e=t.length-1;if(e<=2)return 0;for(var n=0,r=0;r<e;){var i=t[r],o=t[r+1===e?0:r+1],s=t[r+2>=e?(r+2)%e:r+2],a=i[0]*Tt,u=o[1]*Tt;n+=(s[0]*Tt-a)*Math.sin(u),r++}return n*Ct}function Rt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null!=t.bbox&&!0!==e.recompute)return t.bbox;var n=[1/0,1/0,-1/0,-1/0];return ct(t,(function(t){n[0]>t[0]&&(n[0]=t[0]),n[1]>t[1]&&(n[1]=t[1]),n[2]<t[0]&&(n[2]=t[0]),n[3]<t[1]&&(n[3]=t[1])})),n}function At(t,e){var n,r,i,o,s,a,u;for(r=1;r<=8;r*=2){for(n=[],o=!(Ft(i=t[t.length-1],e)&r),s=0;s<t.length;s++)(u=!(Ft(a=t[s],e)&r))!==o&&n.push(Dt(i,a,r,e)),u&&n.push(a),i=a,o=u;if(!(t=n).length)break}return n}function Dt(t,e,n,r){return 8&n?[t[0]+(e[0]-t[0])*(r[3]-t[1])/(e[1]-t[1]),r[3]]:4&n?[t[0]+(e[0]-t[0])*(r[1]-t[1])/(e[1]-t[1]),r[1]]:2&n?[r[2],t[1]+(e[1]-t[1])*(r[2]-t[0])/(e[0]-t[0])]:1&n?[r[0],t[1]+(e[1]-t[1])*(r[0]-t[0])/(e[0]-t[0])]:null}function Ft(t,e){var n=0;return t[0]<e[0]?n|=1:t[0]>e[2]&&(n|=2),t[1]<e[1]?n|=4:t[1]>e[3]&&(n|=8),n}function qt(t,e){var n,r=[],i=a(t);try{for(i.s();!(n=i.n()).done;){var o=At(n.value,e);o.length>0&&(o[0][0]===o[o.length-1][0]&&o[0][1]===o[o.length-1][1]||o.push(o[0]),o.length>=4&&r.push(o))}}catch(t){i.e(t)}finally{i.f()}return r}function Vt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Number(t[0]),r=Number(t[1]),i=Number(t[2]),o=Number(t[3]);if(6===t.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var s=[n,r];return S([[s,[i,r],[i,o],[n,o],s]],e.properties,{bbox:t,id:e.id})}var Gt=function(){return s((function t(e){i(this,t),this.points=e.points||[],this.duration=e.duration||1e4,this.sharpness=e.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=e.stepLength||60,this.length=this.points.length,this.delay=0;for(var n=0;n<this.length;n++)this.points[n].z=this.points[n].z||0;for(var r=0;r<this.length-1;r++){var o=this.points[r],s=this.points[r+1];this.centers.push({x:(o.x+s.x)/2,y:(o.y+s.y)/2,z:(o.z+s.z)/2})}this.controls.push([this.points[0],this.points[0]]);for(var a=0;a<this.centers.length-1;a++){var u=this.points[a+1].x-(this.centers[a].x+this.centers[a+1].x)/2,l=this.points[a+1].y-(this.centers[a].y+this.centers[a+1].y)/2,h=this.points[a+1].z-(this.centers[a].y+this.centers[a+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[a+1].x+this.sharpness*(this.centers[a].x+u),y:(1-this.sharpness)*this.points[a+1].y+this.sharpness*(this.centers[a].y+l),z:(1-this.sharpness)*this.points[a+1].z+this.sharpness*(this.centers[a].z+h)},{x:(1-this.sharpness)*this.points[a+1].x+this.sharpness*(this.centers[a+1].x+u),y:(1-this.sharpness)*this.points[a+1].y+this.sharpness*(this.centers[a+1].y+l),z:(1-this.sharpness)*this.points[a+1].z+this.sharpness*(this.centers[a+1].z+h)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this}),[{key:"cacheSteps",value:function(t){var e=[],n=this.pos(0);e.push(0);for(var r=0;r<this.duration;r+=10){var i=this.pos(r);Math.sqrt((i.x-n.x)*(i.x-n.x)+(i.y-n.y)*(i.y-n.y)+(i.z-n.z)*(i.z-n.z))>t&&(e.push(r),n=i)}return e}},{key:"vector",value:function(t){var e=this.pos(t+10),n=this.pos(t-10);return{angle:180*Math.atan2(e.y-n.y,e.x-n.x)/3.14,speed:Math.sqrt((n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y)+(n.z-e.z)*(n.z-e.z))}}},{key:"pos",value:function(t){var e=t-this.delay;e<0&&(e=0),e>this.duration&&(e=this.duration-1);var n=e/this.duration;if(n>=1)return this.points[this.length-1];var r=Math.floor((this.points.length-1)*n);return function(t,e,n,r,i){var o=function(t){var e=t*t,n=e*t;return[n,3*e*(1-t),3*t*(1-t)*(1-t),(1-t)*(1-t)*(1-t)]}(t),s={x:i.x*o[0]+r.x*o[1]+n.x*o[2]+e.x*o[3],y:i.y*o[0]+r.y*o[1]+n.y*o[2]+e.y*o[3],z:i.z*o[0]+r.z*o[1]+n.z*o[2]+e.z*o[3]};return s}((this.length-1)*n-r,this.points[r],this.controls[r][1],this.controls[r+1][0],this.points[r+1])}}])}();function Bt(t){for(var e,n,r=Q(t),i=0,o=1;o<r.length;)e=n||r[0],i+=((n=r[o])[0]-e[0])*(n[1]+e[1]),o++;return i>0}function Yt(t,e){for(var n=0,r=0,i=0,o=0,s=0,a=0,u=0,l=0,h=null,c=null,f=t[0],g=t[1],p=e.length;n<p;n++){r=0;var v=e[n].length-1,d=e[n];if((h=d[0])[0]!==d[v][0]&&h[1]!==d[v][1])throw new Error("First and last coordinates in a ring must be the same");for(s=h[0]-f,a=h[1]-g;r<v;r++)if(l=(c=d[r+1])[1]-g,a<0&&l<0||a>0&&l>0)a=l,s=(h=c)[0]-f;else{if(u=c[0]-t[0],l>0&&a<=0){if((o=s*l-u*a)>0)i+=1;else if(0===o)return 0}else if(a>0&&l<=0){if((o=s*l-u*a)<0)i+=1;else if(0===o)return 0}else if(0===l&&a<0){if(0===(o=s*l-u*a))return 0}else if(0===a&&l<0){if(0===(o=s*l-u*a))return 0}else if(0===a&&0===l){if(u<=0&&s>=0)return 0;if(s<=0&&u>=0)return 0}h=c,a=l,s=u}}return i%2!=0}function zt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");var r=K(t),i=rt(e),o=i.type,s=e.bbox,a=i.coordinates;if(s&&!1===function(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}(r,s))return!1;"Polygon"===o&&(a=[a]);for(var u=!1,l=0;l<a.length;++l){var h=Yt(r,a[l]);if(0===h)return!n.ignoreBoundary;h&&(u=!0)}return u}function jt(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=K(t),i=Q(e),o=0;o<i.length-1;o++){var s=!1;if(n.ignoreEndVertices&&(0===o&&(s="start"),o===i.length-2&&(s="end"),0===o&&o+1===i.length-1&&(s="both")),Xt(i[o],i[o+1],r,s,void 0===n.epsilon?null:n.epsilon))return!0}return!1}function Xt(t,e,n,r,i){var o=n[0],s=n[1],a=t[0],u=t[1],l=e[0],h=e[1],c=l-a,f=h-u,g=(n[0]-a)*f-(n[1]-u)*c;if(null!==i){if(Math.abs(g)>i)return!1}else if(0!==g)return!1;return Math.abs(c)===Math.abs(f)&&0===Math.abs(c)?!r&&(n[0]===t[0]&&n[1]===t[1]):r?"start"===r?Math.abs(c)>=Math.abs(f)?c>0?a<o&&o<=l:l<=o&&o<a:f>0?u<s&&s<=h:h<=s&&s<u:"end"===r?Math.abs(c)>=Math.abs(f)?c>0?a<=o&&o<l:l<o&&o<=a:f>0?u<=s&&s<h:h<s&&s<=u:"both"===r&&(Math.abs(c)>=Math.abs(f)?c>0?a<o&&o<l:l<o&&o<a:f>0?u<s&&s<h:h<s&&s<u):Math.abs(c)>=Math.abs(f)?c>0?a<=o&&o<=l:l<=o&&o<=a:f>0?u<=s&&s<=h:h<=s&&s<=u}function Ut(t,e){if("Feature"===t.type&&null===t.geometry)return!1;if("Feature"===e.type&&null===e.geometry)return!1;if(!Zt(Rt(t),Rt(e)))return!1;var n,r=a(rt(e).coordinates);try{for(r.s();!(n=r.n()).done;){var i,o=a(n.value);try{for(o.s();!(i=o.n()).done;){if(!zt(i.value,t))return!1}}catch(t){o.e(t)}finally{o.f()}}}catch(t){r.e(t)}finally{r.f()}return!0}function Zt(t,e){return!(t[0]>e[0])&&(!(t[2]<e[2])&&(!(t[1]>e[1])&&!(t[3]<e[3])))}function Ht(t,e){return t[0]===e[0]&&t[1]===e[1]}function Wt(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}var Jt=function(){return s((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Kt;if(i(this,t),this.data=e,this.length=this.data.length,this.compare=n,this.length>0)for(var r=(this.length>>1)-1;r>=0;r--)this._down(r)}),[{key:"push",value:function(t){this.data.push(t),this.length++,this._up(this.length-1)}},{key:"pop",value:function(){if(0!==this.length){var t=this.data[0],e=this.data.pop();return this.length--,this.length>0&&(this.data[0]=e,this._down(0)),t}}},{key:"peek",value:function(){return this.data[0]}},{key:"_up",value:function(t){for(var e=this.data,n=this.compare,r=e[t];t>0;){var i=t-1>>1,o=e[i];if(n(r,o)>=0)break;e[t]=o,t=i}e[t]=r}},{key:"_down",value:function(t){for(var e=this.data,n=this.compare,r=this.length>>1,i=e[t];t<r;){var o=1+(t<<1),s=e[o],a=o+1;if(a<this.length&&n(e[a],s)<0&&(o=a,s=e[a]),n(s,i)>=0)break;e[t]=s,t=o}e[t]=i}}])}();function Kt(t,e){return t<e?-1:t>e?1:0}function Qt(t,e){return t.p.x>e.p.x?1:t.p.x<e.p.x?-1:t.p.y!==e.p.y?t.p.y>e.p.y?1:-1:1}function $t(t,e){return t.rightSweepEvent.p.x>e.rightSweepEvent.p.x?1:t.rightSweepEvent.p.x<e.rightSweepEvent.p.x?-1:t.rightSweepEvent.p.y!==e.rightSweepEvent.p.y?t.rightSweepEvent.p.y<e.rightSweepEvent.p.y?1:-1:1}var te=function(){return s((function t(e,n,r,o){i(this,t),this.p={x:e[0],y:e[1]},this.featureId=n,this.ringId=r,this.eventId=o,this.otherEvent=null,this.isLeftEndpoint=null}),[{key:"isSamePoint",value:function(t){return this.p.x===t.p.x&&this.p.y===t.p.y}}])}();var ee=0,ne=0,re=0;function ie(t,e){var n="Feature"===t.type?t.geometry:t,r=n.coordinates;"Polygon"!==n.type&&"MultiLineString"!==n.type||(r=[r]),"LineString"===n.type&&(r=[[r]]);for(var i=0;i<r.length;i++)for(var o=0;o<r[i].length;o++){var s=r[i][o][0],a=null;ne+=1;for(var u=0;u<r[i][o].length-1;u++){a=r[i][o][u+1];var l=new te(s,ee,ne,re),h=new te(a,ee,ne,re+1);l.otherEvent=h,h.otherEvent=l,Qt(l,h)>0?(h.isLeftEndpoint=!0,l.isLeftEndpoint=!1):(l.isLeftEndpoint=!0,h.isLeftEndpoint=!1),e.push(l),e.push(h),s=a,re+=1}}ee+=1}var oe=s((function t(e){i(this,t),this.leftSweepEvent=e,this.rightSweepEvent=e.otherEvent}));function se(t,e){if(null===t||null===e)return!1;if(t.leftSweepEvent.ringId===e.leftSweepEvent.ringId&&(t.rightSweepEvent.isSamePoint(e.leftSweepEvent)||t.rightSweepEvent.isSamePoint(e.leftSweepEvent)||t.rightSweepEvent.isSamePoint(e.rightSweepEvent)||t.leftSweepEvent.isSamePoint(e.leftSweepEvent)||t.leftSweepEvent.isSamePoint(e.rightSweepEvent)))return!1;var n=t.leftSweepEvent.p.x,r=t.leftSweepEvent.p.y,i=t.rightSweepEvent.p.x,o=t.rightSweepEvent.p.y,s=e.leftSweepEvent.p.x,a=e.leftSweepEvent.p.y,u=e.rightSweepEvent.p.x,l=e.rightSweepEvent.p.y,h=(l-a)*(i-n)-(u-s)*(o-r),c=(u-s)*(r-a)-(l-a)*(n-s),f=(i-n)*(r-a)-(o-r)*(n-s);if(0===h)return!1;var g=c/h,p=f/h;return g>=0&&g<=1&&p>=0&&p<=1&&[n+g*(i-n),r+g*(o-r)]}var ae=function(t,e){var n=new Jt([],Qt);return function(t,e){if("FeatureCollection"===t.type)for(var n=t.features,r=0;r<n.length;r++)ie(n[r],e);else ie(t,e)}(t,n),function(t,e){e=e||!1;for(var n=[],r=new Jt([],$t);t.length;){var i=t.pop();if(i.isLeftEndpoint){for(var o=new oe(i),s=0;s<r.data.length;s++){var a=r.data[s];if(!e||a.leftSweepEvent.featureId!==i.featureId){var u=se(o,a);!1!==u&&n.push(u)}}r.push(o)}else!1===i.isLeftEndpoint&&r.pop()}return n}(n,e)};function ue(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.removeDuplicates,i=void 0===r||r,o=n.ignoreSelfIntersections,s=void 0===o||o,a=[];"FeatureCollection"===t.type?a=a.concat(t.features):"Feature"===t.type?a.push(t):"LineString"!==t.type&&"Polygon"!==t.type&&"MultiLineString"!==t.type&&"MultiPolygon"!==t.type||a.push(b(t)),"FeatureCollection"===e.type?a=a.concat(e.features):"Feature"===e.type?a.push(e):"LineString"!==e.type&&"Polygon"!==e.type&&"MultiLineString"!==e.type&&"MultiPolygon"!==e.type||a.push(b(e));var u=ae(C(a),s),l=[];if(i){var h={};u.forEach((function(t){var e=t.join(",");h[e]||(h[e]=!0,l.push(t))}))}else l=u;return C(l.map((function(t){return I(t)})))}function le(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=rt(t);switch(e.properties||"Feature"!==t.type||(e.properties=t.properties),n.type){case"Polygon":return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=rt(t),r=n.coordinates,i=e.properties?e.properties:"Feature"===t.type?t.properties:{};return he(r,i)}(n,e);case"MultiPolygon":return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=rt(t),r=n.coordinates,i=e.properties?e.properties:"Feature"===t.type?t.properties:{},o=[];return r.forEach((function(t){o.push(he(t,i))})),C(o)}(n,e);default:throw new Error("invalid poly")}}function he(t,e){return t.length>1?T(t,e):L(t[0],e)}function ce(t,e){var n=rt(t),r=rt(e),i=n.type,o=r.type;switch(i){case"MultiPoint":switch(o){case"LineString":return fe(n,r);case"Polygon":return pe(n,r);default:throw new Error("feature2 "+o+" geometry not supported")}case"LineString":switch(o){case"MultiPoint":return fe(r,n);case"LineString":return function(t,e){if(ue(t,e).features.length>0)for(var n=0;n<t.coordinates.length-1;n++)for(var r=0;r<e.coordinates.length-1;r++){var i=!0;if(0!==r&&r!==e.coordinates.length-2||(i=!1),ve(t.coordinates[n],t.coordinates[n+1],e.coordinates[r],i))return!0}return!1}(n,r);case"Polygon":return ge(n,r);default:throw new Error("feature2 "+o+" geometry not supported")}case"Polygon":switch(o){case"MultiPoint":return pe(r,n);case"LineString":return ge(r,n);default:throw new Error("feature2 "+o+" geometry not supported")}default:throw new Error("feature1 "+i+" geometry not supported")}}function fe(t,e){for(var n=!1,r=!1,i=t.coordinates.length,o=0;o<i&&!n&&!r;){for(var s=0;s<e.coordinates.length-1;s++){var a=!0;0!==s&&s!==e.coordinates.length-2||(a=!1),ve(e.coordinates[s],e.coordinates[s+1],t.coordinates[o],a)?n=!0:r=!0}o++}return n&&r}function ge(t,e){return ue(t,le(e)).features.length>0}function pe(t,e){for(var n=!1,r=!1,i=t.coordinates.length,o=0;o<i&&(!n||!r);o++)zt(I(t.coordinates[o]),e)?n=!0:r=!0;return r&&n}function ve(t,e,n,r){var i=n[0]-t[0],o=n[1]-t[1],s=e[0]-t[0],a=e[1]-t[1];return 0==i*a-o*s&&(r?Math.abs(s)>=Math.abs(a)?s>0?t[0]<=n[0]&&n[0]<=e[0]:e[0]<=n[0]&&n[0]<=t[0]:a>0?t[1]<=n[1]&&n[1]<=e[1]:e[1]<=n[1]&&n[1]<=t[1]:Math.abs(s)>=Math.abs(a)?s>0?t[0]<n[0]&&n[0]<e[0]:e[0]<n[0]&&n[0]<t[0]:a>0?t[1]<n[1]&&n[1]<e[1]:e[1]<n[1]&&n[1]<t[1])}function de(t,e){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{ignoreSelfIntersections:!0}).ignoreSelfIntersections,r=void 0===n||n,i=!0;return xt(t,(function(t){xt(e,(function(e){if(!1===i)return!1;i=function(t,e,n){switch(t.type){case"Point":switch(e.type){case"Point":return r=t.coordinates,i=e.coordinates,!(r[0]===i[0]&&r[1]===i[1]);case"LineString":return!ye(e,t);case"Polygon":return!zt(t,e)}break;case"LineString":switch(e.type){case"Point":return!ye(t,e);case"LineString":return!function(t,e,n){var r=ue(t,e,{ignoreSelfIntersections:n});if(r.features.length>0)return!0;return!1}(t,e,n);case"Polygon":return!me(e,t,n)}break;case"Polygon":switch(e.type){case"Point":return!zt(e,t);case"LineString":return!me(t,e,n);case"Polygon":return!function(t,e,n){var r,i=a(t.coordinates[0]);try{for(i.s();!(r=i.n()).done;){if(zt(r.value,e))return!0}}catch(t){i.e(t)}finally{i.f()}var o,s=a(e.coordinates[0]);try{for(s.s();!(o=s.n()).done;){if(zt(o.value,t))return!0}}catch(t){s.e(t)}finally{s.f()}var u=ue(le(t),le(e),{ignoreSelfIntersections:n});if(u.features.length>0)return!0;return!1}(e,t,n)}}var r,i;return!1}(t.geometry,e.geometry,r)}))})),i}function ye(t,e){for(var n=0;n<t.coordinates.length-1;n++)if(_e(t.coordinates[n],t.coordinates[n+1],e.coordinates))return!0;return!1}function me(t,e,n){var r,i=a(e.coordinates);try{for(i.s();!(r=i.n()).done;){if(zt(r.value,t))return!0}}catch(t){i.e(t)}finally{i.f()}return ue(e,le(t),{ignoreSelfIntersections:n}).features.length>0}function _e(t,e,n){var r=n[0]-t[0],i=n[1]-t[1],o=e[0]-t[0],s=e[1]-t[1];return 0==r*s-i*o&&(Math.abs(o)>=Math.abs(s)?o>0?t[0]<=n[0]&&n[0]<=e[0]:e[0]<=n[0]&&n[0]<=t[0]:s>0?t[1]<=n[1]&&n[1]<=e[1]:e[1]<=n[1]&&n[1]<=t[1])}var xe=Object.defineProperty,Ee=function(t,e){return xe(t,"name",{value:e,configurable:!0})},ke=function(){return s((function t(e){var n,r,o;i(this,t),this.direction=!1,this.compareProperties=!0,this.precision=Math.pow(10,-(null!=(n=null==e?void 0:e.precision)?n:17)),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(o=null==e?void 0:e.compareProperties)||o}),[{key:"compare",value:function(t,e){var n=this;if(t.type!==e.type)return!1;if(!we(t,e))return!1;switch(t.type){case"Point":return this.compareCoord(t.coordinates,e.coordinates);case"LineString":return this.compareLine(t.coordinates,e.coordinates);case"Polygon":return this.comparePolygon(t,e);case"GeometryCollection":return this.compareGeometryCollection(t,e);case"Feature":return this.compareFeature(t,e);case"FeatureCollection":return this.compareFeatureCollection(t,e);default:if(t.type.startsWith("Multi")){var r=Ie(t),i=Ie(e);return r.every((function(t){return i.some((function(e){return n.compare(t,e)}))}))}}return!1}},{key:"compareCoord",value:function(t,e){var n=this;return t.length===e.length&&t.every((function(t,r){return Math.abs(t-e[r])<n.precision}))}},{key:"compareLine",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!we(t,e))return!1;var i=t,o=e;if(r&&!this.compareCoord(i[0],o[0])){var s=this.fixStartIndex(o,i);if(!s)return!1;o=s}var a=this.compareCoord(i[n],o[n]);return this.direction||a?this.comparePath(i,o):!!this.compareCoord(i[n],o[o.length-(1+n)])&&this.comparePath(i.slice().reverse(),o)}},{key:"fixStartIndex",value:function(t,e){for(var n,r=-1,i=0;i<t.length;i++)if(this.compareCoord(t[i],e[0])){r=i;break}return r>=0&&(n=[].concat(t.slice(r,t.length),t.slice(1,r+1))),n}},{key:"comparePath",value:function(t,e){var n=this;return t.every((function(t,r){return n.compareCoord(t,e[r])}))}},{key:"comparePolygon",value:function(t,e){var n=this;if(this.compareLine(t.coordinates[0],e.coordinates[0],1,!0)){var r=t.coordinates.slice(1,t.coordinates.length),i=e.coordinates.slice(1,e.coordinates.length);return r.every((function(t){return i.some((function(e){return n.compareLine(t,e,1,!0)}))}))}return!1}},{key:"compareGeometryCollection",value:function(t,e){var n=this;return we(t.geometries,e.geometries)&&this.compareBBox(t,e)&&t.geometries.every((function(t,r){return n.compare(t,e.geometries[r])}))}},{key:"compareFeature",value:function(t,e){return t.id===e.id&&(!this.compareProperties||Se(t.properties,e.properties))&&this.compareBBox(t,e)&&this.compare(t.geometry,e.geometry)}},{key:"compareFeatureCollection",value:function(t,e){var n=this;return we(t.features,e.features)&&this.compareBBox(t,e)&&t.features.every((function(t,r){return n.compare(t,e.features[r])}))}},{key:"compareBBox",value:function(t,e){return Boolean(!t.bbox&&!e.bbox)||!(!t.bbox||!e.bbox)&&this.compareCoord(t.bbox,e.bbox)}}])}();Ee(ke,"GeojsonEquality");var be=ke;function we(t,e){return t.coordinates?t.coordinates.length===e.coordinates.length:t.length===e.length}function Ie(t){return t.coordinates.map((function(e){return{type:t.type.replace("Multi",""),coordinates:e}}))}function Ne(t,e,n){return new be(n).compare(t,e)}function Se(t,e){if(null===t&&null===e)return!0;if(null===t||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=0,o=n;i<o.length;i++){var s=o[i],a=t[s],u=e[s],l=Me(a)&&Me(u);if(l&&!Se(a,u)||!l&&a!==u)return!1}return!0}Ee(we,"sameLength"),Ee(Ie,"explode"),Ee(Ne,"geojsonEquality"),Ee(Se,"equal");var Me=Ee((function(t){return null!=t&&"object"===m(t)}),"isObject");function Le(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="object"===m(e)?e.mutate:e;if(!t)throw new Error("geojson is required");var r=it(t),i=[];switch(r){case"LineString":i=Pe(t,r);break;case"MultiLineString":case"Polygon":Q(t).forEach((function(t){i.push(Pe(t,r))}));break;case"MultiPolygon":Q(t).forEach((function(t){var e=[];t.forEach((function(t){e.push(Pe(t,r))})),i.push(e)}));break;case"Point":return t;case"MultiPoint":var o={};Q(t).forEach((function(t){var e=t.join("-");Object.prototype.hasOwnProperty.call(o,e)||(i.push(t),o[e]=!0)}));break;default:throw new Error(r+" geometry not supported")}return t.coordinates?!0===n?(t.coordinates=i,t):{type:r,coordinates:i}:!0===n?(t.geometry.coordinates=i,t):b({type:r,coordinates:i},t.properties,{bbox:t.bbox,id:t.id})}function Pe(t,e){var n=Q(t);if(2===n.length&&!Ce(n[0],n[1]))return n;var r=[],i=n.length-1,o=r.length;r.push(n[0]);for(var s=1;s<i;s++){var a=r[r.length-1];n[s][0]===a[0]&&n[s][1]===a[1]||(r.push(n[s]),(o=r.length)>2&&Te(r[o-3],r[o-1],r[o-2])&&r.splice(r.length-2,1))}if(r.push(n[n.length-1]),o=r.length,("Polygon"===e||"MultiPolygon"===e)&&Ce(n[0],n[n.length-1])&&o<4)throw new Error("invalid polygon");return"LineString"===e&&o<3||Te(r[o-3],r[o-1],r[o-2])&&r.splice(r.length-2,1),r}function Ce(t,e){return t[0]===e[0]&&t[1]===e[1]}function Te(t,e,n){var r=n[0],i=n[1],o=t[0],s=t[1],a=e[0],u=e[1],l=a-o,h=u-s;return 0===(r-o)*h-(i-s)*l&&(Math.abs(l)>=Math.abs(h)?l>0?o<=r&&r<=a:a<=r&&r<=o:h>0?s<=i&&i<=u:u<=i&&i<=s)}function Oe(t,e){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).ignoreSelfIntersections,r=void 0===n||n,i=!1;return xt(t,(function(t){xt(e,(function(e){if(!0===i)return!0;i=!de(t.geometry,e.geometry,{ignoreSelfIntersections:r})}))})),i}function Re(t,e,n,r,i){Ae(t,e,n||0,r||t.length-1,i||Fe)}function Ae(t,e,n,r,i){for(;r>n;){if(r-n>600){var o=r-n+1,s=e-n+1,a=Math.log(o),u=.5*Math.exp(2*a/3),l=.5*Math.sqrt(a*u*(o-u)/o)*(s-o/2<0?-1:1);Ae(t,e,Math.max(n,Math.floor(e-s*u/o+l)),Math.min(r,Math.floor(e+(o-s)*u/o+l)),i)}var h=t[e],c=n,f=r;for(De(t,n,e),i(t[r],h)>0&&De(t,n,r);c<f;){for(De(t,c,f),c++,f--;i(t[c],h)<0;)c++;for(;i(t[f],h)>0;)f--}0===i(t[n],h)?De(t,n,f):De(t,++f,r),f<=e&&(n=f+1),e<=f&&(r=f-1)}}function De(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function Fe(t,e){return t<e?-1:t>e?1:0}var qe=function(){return s((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9;i(this,t),this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()}),[{key:"all",value:function(){return this._all(this.data,[])}},{key:"search",value:function(t){var e=this.data,n=[];if(!He(t,e))return n;for(var r=this.toBBox,i=[];e;){for(var o=0;o<e.children.length;o++){var s=e.children[o],a=e.leaf?r(s):s;He(t,a)&&(e.leaf?n.push(s):Ze(t,a)?this._all(s,n):i.push(s))}e=i.pop()}return n}},{key:"collides",value:function(t){var e=this.data;if(!He(t,e))return!1;for(var n=[];e;){for(var r=0;r<e.children.length;r++){var i=e.children[r],o=e.leaf?this.toBBox(i):i;if(He(t,o)){if(e.leaf||Ze(t,o))return!0;n.push(i)}}e=n.pop()}return!1}},{key:"load",value:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this}},{key:"insert",value:function(t){return t&&this._insert(t,this.data.height-1),this}},{key:"clear",value:function(){return this.data=We([]),this}},{key:"remove",value:function(t,e){if(!t)return this;for(var n,r,i,o=this.data,s=this.toBBox(t),a=[],u=[];o||a.length;){if(o||(o=a.pop(),r=a[a.length-1],n=u.pop(),i=!0),o.leaf){var l=Ve(t,o.children,e);if(-1!==l)return o.children.splice(l,1),a.push(o),this._condense(a),this}i||o.leaf||!Ze(o,s)?r?(n++,o=r.children[n],i=!1):o=null:(a.push(o),u.push(n),n=0,r=o,o=o.children[0])}return this}},{key:"toBBox",value:function(t){return t}},{key:"compareMinX",value:function(t,e){return t.minX-e.minX}},{key:"compareMinY",value:function(t,e){return t.minY-e.minY}},{key:"toJSON",value:function(){return this.data}},{key:"fromJSON",value:function(t){return this.data=t,this}},{key:"_all",value:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,d(t.children)):n.push.apply(n,d(t.children)),t=n.pop();return e}},{key:"_build",value:function(t,e,n,r){var i,o=n-e+1,s=this._maxEntries;if(o<=s)return Ge(i=We(t.slice(e,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,r-1))),(i=We([])).leaf=!1,i.height=r;var a=Math.ceil(o/s),u=a*Math.ceil(Math.sqrt(s));Je(t,e,n,u,this.compareMinX);for(var l=e;l<=n;l+=u){var h=Math.min(l+u-1,n);Je(t,l,h,a,this.compareMinY);for(var c=l;c<=h;c+=a){var f=Math.min(c+a-1,h);i.children.push(this._build(t,c,f,r-1))}}return Ge(i,this.toBBox),i}},{key:"_chooseSubtree",value:function(t,e,n,r){for(;r.push(e),!e.leaf&&r.length-1!==n;){for(var i=1/0,o=1/0,s=void 0,a=0;a<e.children.length;a++){var u=e.children[a],l=Xe(u),h=(c=t,f=u,(Math.max(f.maxX,c.maxX)-Math.min(f.minX,c.minX))*(Math.max(f.maxY,c.maxY)-Math.min(f.minY,c.minY))-l);h<o?(o=h,i=l<i?l:i,s=u):h===o&&l<i&&(i=l,s=u)}e=s||e.children[0]}var c,f;return e}},{key:"_insert",value:function(t,e,n){var r=n?t:this.toBBox(t),i=[],o=this._chooseSubtree(r,this.data,e,i);for(o.children.push(t),Ye(o,r);e>=0&&i[e].children.length>this._maxEntries;)this._split(i,e),e--;this._adjustParentBBoxes(r,i,e)}},{key:"_split",value:function(t,e){var n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var o=this._chooseSplitIndex(n,i,r),s=We(n.children.splice(o,n.children.length-o));s.height=n.height,s.leaf=n.leaf,Ge(n,this.toBBox),Ge(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)}},{key:"_splitRoot",value:function(t,e){this.data=We([t,e]),this.data.height=t.height+1,this.data.leaf=!1,Ge(this.data,this.toBBox)}},{key:"_chooseSplitIndex",value:function(t,e,n){for(var r,i,o,s,a,u,l,h=1/0,c=1/0,f=e;f<=n-e;f++){var g=Be(t,0,f,this.toBBox),p=Be(t,f,n,this.toBBox),v=(i=g,o=p,s=void 0,a=void 0,u=void 0,l=void 0,s=Math.max(i.minX,o.minX),a=Math.max(i.minY,o.minY),u=Math.min(i.maxX,o.maxX),l=Math.min(i.maxY,o.maxY),Math.max(0,u-s)*Math.max(0,l-a)),d=Xe(g)+Xe(p);v<h?(h=v,r=f,c=d<c?d:c):v===h&&d<c&&(c=d,r=f)}return r||n-e}},{key:"_chooseSplitAxis",value:function(t,e,n){var r=t.leaf?this.compareMinX:ze,i=t.leaf?this.compareMinY:je;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)}},{key:"_allDistMargin",value:function(t,e,n,r){t.children.sort(r);for(var i=this.toBBox,o=Be(t,0,e,i),s=Be(t,n-e,n,i),a=Ue(o)+Ue(s),u=e;u<n-e;u++){var l=t.children[u];Ye(o,t.leaf?i(l):l),a+=Ue(o)}for(var h=n-e-1;h>=e;h--){var c=t.children[h];Ye(s,t.leaf?i(c):c),a+=Ue(s)}return a}},{key:"_adjustParentBBoxes",value:function(t,e,n){for(var r=n;r>=0;r--)Ye(e[r],t)}},{key:"_condense",value:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():Ge(t[n],this.toBBox)}}])}();function Ve(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}function Ge(t,e){Be(t,0,t.children.length,e,t)}function Be(t,e,n,r,i){i||(i=We(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o=e;o<n;o++){var s=t.children[o];Ye(i,t.leaf?r(s):s)}return i}function Ye(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function ze(t,e){return t.minX-e.minX}function je(t,e){return t.minY-e.minY}function Xe(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function Ue(t){return t.maxX-t.minX+(t.maxY-t.minY)}function Ze(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function He(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function We(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Je(t,e,n,r,i){for(var o=[e,n];o.length;)if(!((n=o.pop())-(e=o.pop())<=r)){var s=e+Math.ceil((n-e)/r/2)*r;Re(t,s,e,n,i),o.push(e,s,s,n)}}var Ke=Object.freeze({__proto__:null,default:qe});function Qe(t){var e=new qe(t);return e.insert=function(t){if("Feature"!==t.type)throw new Error("invalid feature");return t.bbox=t.bbox?t.bbox:Rt(t),qe.prototype.insert.call(this,t)},e.load=function(t){var e=[];return Array.isArray(t)?t.forEach((function(t){if("Feature"!==t.type)throw new Error("invalid features");t.bbox=t.bbox?t.bbox:Rt(t),e.push(t)})):vt(t,(function(t){if("Feature"!==t.type)throw new Error("invalid features");t.bbox=t.bbox?t.bbox:Rt(t),e.push(t)})),qe.prototype.load.call(this,e)},e.remove=function(t,e){if("Feature"!==t.type)throw new Error("invalid feature");return t.bbox=t.bbox?t.bbox:Rt(t),qe.prototype.remove.call(this,t,e)},e.clear=function(){return qe.prototype.clear.call(this)},e.search=function(t){return C(qe.prototype.search.call(this,this.toBBox(t)))},e.collides=function(t){return qe.prototype.collides.call(this,this.toBBox(t))},e.all=function(){return C(qe.prototype.all.call(this))},e.toJSON=function(){return qe.prototype.toJSON.call(this)},e.fromJSON=function(t){return qe.prototype.fromJSON.call(this,t)},e.toBBox=function(t){var e;if(t.bbox)e=t.bbox;else if(Array.isArray(t)&&4===t.length)e=t;else if(Array.isArray(t)&&6===t.length)e=[t[0],t[1],t[3],t[4]];else if("Feature"===t.type)e=Rt(t);else{if("FeatureCollection"!==t.type)throw new Error("invalid geojson");e=Rt(t)}return{minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}},e}function $e(t){if(!t)throw new Error("geojson is required");var e=[];return xt(t,(function(t){!function(t,e){var n=[],r=t.geometry;if(null!==r){switch(r.type){case"Polygon":n=Q(r);break;case"LineString":n=[Q(r)]}n.forEach((function(n){var r=function(t,e){var n=[];return t.reduce((function(t,r){var i=L([t,r],e);return i.bbox=function(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],s=n<i?n:i,a=r<o?r:o,u=n>i?n:i,l=r>o?r:o;return[s,a,u,l]}(t,r),n.push(i),r})),n}(n,t.properties);r.forEach((function(t){t.id=e.length,e.push(t)}))}))}}(t,e)})),C(e)}var tn,en,nn=Object.defineProperty,rn=Object.defineProperties,on=Object.getOwnPropertyDescriptors,sn=Object.getOwnPropertySymbols,an=Object.prototype.hasOwnProperty,un=Object.prototype.propertyIsEnumerable,ln=function(t,e,n){return e in t?nn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},hn=function(t,e){for(var n in e||(e={}))an.call(e,n)&&ln(t,n,e[n]);if(sn){var r,i=a(sn(e));try{for(i.s();!(r=i.n()).done;){n=r.value;un.call(e,n)&&ln(t,n,e[n])}}catch(t){i.e(t)}finally{i.f()}}return t},cn=function(t,e){return rn(t,on(e))};function fn(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t||!e)throw new Error("lines and pt are required arguments");var r=K(e),i=I([1/0,1/0],{dist:1/0,index:-1,multiFeatureIndex:-1,location:-1}),o=0;return xt(t,(function(t,s,a){for(var u=Q(t),l=0;l<u.length-1;l++){var h=I(u[l]);h.properties.dist=ut(e,h,n);var c=K(h),f=I(u[l+1]);f.properties.dist=ut(e,f,n);var g=K(f),p=ut(h,f,n),d=void 0,y=void 0;if(c[0]===r[0]&&c[1]===r[1]){var m=[c,void 0,!1];d=m[0],y=m[2]}else if(g[0]===r[0]&&g[1]===r[1]){var _=[g,void 0,!0];d=_[0],y=_[2]}else{var x=v(yn(h.geometry.coordinates,f.geometry.coordinates,K(e)),3);d=x[0],y=x[2]}var E=void 0;d&&(E=I(d,{dist:ut(e,d,n),multiFeatureIndex:a,location:o+ut(h,d,n)})),E&&E.properties.dist<i.properties.dist&&(i=cn(hn({},E),{properties:cn(hn({},E.properties),{index:y?l+1:l})})),o+=p}})),i}function gn(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2))}function pn(t,e){var n=function(t,e){var n=v(t,3),r=n[0],i=n[1],o=n[2],s=v(e,3);return r*s[0]+i*s[1]+o*s[2]}(t,e)/(gn(t)*gn(e));return Math.acos(Math.min(Math.max(n,-1),1))}function vn(t){var e=z(t[1]),n=z(t[0]);return[Math.cos(e)*Math.cos(n),Math.cos(e)*Math.sin(n),Math.sin(e)]}function dn(t){var e=v(t,3),n=e[0],r=e[1],i=e[2],o=Y(Math.asin(i));return[Y(Math.atan2(r,n)),o]}function yn(t,e,n){var r,i,o,s,a,u,l,h,c,f,g=vn(t),p=vn(e),d=v(vn(n),3),y=d[0],m=d[1],_=d[2],x=(r=p,i=v(g,3),o=i[0],s=i[1],a=i[2],u=v(r,3),l=u[0],h=u[1],c=u[2],[s*c-a*h,a*l-o*c,o*h-s*l]),E=v(x,3),k=E[0],b=E[1],w=E[2],I=b*_-w*m,N=w*y-k*_,S=k*m-b*y,M=S*b-N*w,L=I*w-S*k,P=N*k-I*b,C=1/Math.sqrt(Math.pow(M,2)+Math.pow(L,2)+Math.pow(P,2)),T=[M*C,L*C,P*C],O=[-1*M*C,-1*L*C,-1*P*C],R=pn(g,p),A=pn(g,T),D=pn(p,T),F=pn(g,O),q=pn(p,O);return pn(g,f=A<F&&A<q||D<F&&D<q?T:O)>R||pn(p,f)>R?ut(dn(f),dn(g))<=ut(dn(f),dn(p))?[dn(g),!0,!1]:[dn(p),!1,!0]:[dn(f),!1,!1]}function mn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function _n(t){if(t.__esModule)return t;var e=t.default;if("function"==typeof e){var n=function t(){return this instanceof t?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach((function(e){var r=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(n,e,r.get?r:{enumerable:!0,get:function(){return t[e]}})})),n}var xn=(en||(en=1,tn=function t(e,n){if(e===n)return!0;if(e&&n&&"object"==m(e)&&"object"==m(n)){if(e.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(e)){if((r=e.length)!=n.length)return!1;for(i=r;0!=i--;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if((r=(o=Object.keys(e)).length)!==Object.keys(n).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!=i--;){var s=o[i];if(!t(e[s],n[s]))return!1}return!0}return e!=e&&n!=n}),tn),En=mn(xn);function kn(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!Z(n=n||{}))throw new Error("options is invalid");var r,i=n.tolerance||0,o=[],s=Qe(),a=$e(t);s.load(a);var u=[];return kt(e,(function(t){var e=!1;t&&(vt(s.search(t),(function(n){if(!1===e){var o=Q(t).sort(),s=Q(n).sort();if(En(o,s))e=!0,r=r?bn(r,t)||r:t;else if(0===i?jt(o[0],n)&&jt(o[1],n):fn(n,o[0]).properties.dist<=i&&fn(n,o[1]).properties.dist<=i)e=!0,r=r?bn(r,t)||r:t;else if(0===i?jt(s[0],t)&&jt(s[1],t):fn(t,s[0]).properties.dist<=i&&fn(t,s[1]).properties.dist<=i)if(r){var a=bn(r,n);a?r=a:u.push(n)}else r=n}})),!1===e&&r&&(o.push(r),u.length&&(o=o.concat(u),u=[]),r=void 0))})),r&&o.push(r),C(o)}function bn(t,e){var n=Q(e),r=Q(t),i=r[0],o=r[r.length-1],s=t.geometry.coordinates;if(En(n[0],i))s.unshift(n[1]);else if(En(n[0],o))s.push(n[1]);else if(En(n[1],i))s.unshift(n[0]);else{if(!En(n[1],o))return;s.push(n[0])}return t}function wn(t,e){var n=G(lt(t[0],t[1])),r=G(lt(e[0],e[1]));return n===r||(r-n)%180==0}function In(t,e){if(t.geometry&&t.geometry.type)return t.geometry.type;if(t.type)return t.type;throw new Error("Invalid GeoJSON object for "+e)}function Nn(t,e){return!!Sn(e.coordinates[0],t.coordinates)||!!Sn(e.coordinates[e.coordinates.length-1],t.coordinates)}function Sn(t,e){return t[0]===e[0]&&t[1]===e[1]}function Mn(t){return t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1]}function Ln(t){for(var e=0;e<t.length-1;e++)for(var n=t[e],r=e+1;r<t.length-2;r++){if(jt(n,L([t[r],t[r+1]])))return!0}return!1}function Pn(t,e,n){for(var r=S(t),i=n+1;i<e.length;i++)if(!de(r,S(e[i]))&&ce(r,L(e[i][0])))return!1;return!0}function Cn(t,e){var n=rt(t),r=rt(e),i=n.type,o=r.type;switch(i){case"Point":switch(o){case"MultiPoint":return function(t,e){var n,r=!1;for(n=0;n<e.coordinates.length;n++)if(On(e.coordinates[n],t.coordinates)){r=!0;break}return r}(n,r);case"LineString":return jt(n,r,{ignoreEndVertices:!0});case"Polygon":case"MultiPolygon":return zt(n,r,{ignoreBoundary:!0});default:throw new Error("feature2 "+o+" geometry not supported")}case"MultiPoint":switch(o){case"MultiPoint":return function(t,e){for(var n=0;n<t.coordinates.length;n++){for(var r=!1,i=0;i<e.coordinates.length;i++)On(t.coordinates[n],e.coordinates[i])&&(r=!0);if(!r)return!1}return!0}(n,r);case"LineString":return function(t,e){for(var n=!1,r=0;r<t.coordinates.length;r++){if(!jt(t.coordinates[r],e))return!1;n||(n=jt(t.coordinates[r],e,{ignoreEndVertices:!0}))}return n}(n,r);case"Polygon":case"MultiPolygon":return function(t,e){for(var n=!0,r=!1,i=0;i<t.coordinates.length;i++){if(!(r=zt(t.coordinates[i],e))){n=!1;break}r=zt(t.coordinates[i],e,{ignoreBoundary:!0})}return n&&r}(n,r);default:throw new Error("feature2 "+o+" geometry not supported")}case"LineString":switch(o){case"LineString":return function(t,e){for(var n=0;n<t.coordinates.length;n++)if(!jt(t.coordinates[n],e))return!1;return!0}(n,r);case"Polygon":case"MultiPolygon":return function(t,e){var n=Rt(e),r=Rt(t);if(!Tn(n,r))return!1;for(var i=!1,o=0;o<t.coordinates.length;o++){if(!zt(t.coordinates[o],e))return!1;if(i||(i=zt(t.coordinates[o],e,{ignoreBoundary:!0})),!i&&o<t.coordinates.length-1)i=zt(Rn(t.coordinates[o],t.coordinates[o+1]),e,{ignoreBoundary:!0})}return i}(n,r);default:throw new Error("feature2 "+o+" geometry not supported")}case"Polygon":switch(o){case"Polygon":case"MultiPolygon":return function(t,e){var n=Rt(t);if(!Tn(Rt(e),n))return!1;for(var r=0;r<t.coordinates[0].length;r++)if(!zt(t.coordinates[0][r],e))return!1;return!0}(n,r);default:throw new Error("feature2 "+o+" geometry not supported")}default:throw new Error("feature1 "+i+" geometry not supported")}}function Tn(t,e){return!(t[0]>e[0])&&(!(t[2]<e[2])&&(!(t[1]>e[1])&&!(t[3]<e[3])))}function On(t,e){return t[0]===e[0]&&t[1]===e[1]}function Rn(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}function An(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Rt(t);return I([(n[0]+n[2])/2,(n[1]+n[3])/2],e.properties,e)}var Dn,Fn={exports:{}};var qn=(Dn||(Dn=1,function(t,e){t.exports=function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}function i(t){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},i(t)}function o(t,e){return o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},o(t,e)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function a(t,e,n){return a=s()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&o(i,n.prototype),i},a.apply(null,arguments)}function u(t){var e="function"==typeof Map?new Map:void 0;return u=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return a(t,arguments,i(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),o(r,t)},u(t)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,e){if(e&&("object"==m(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return l(t)}function c(t){var e=s();return function(){var n,r=i(t);if(e){var o=i(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function f(t,e,n){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=i(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},f(t,e,n||t)}function g(t){return function(t){if(Array.isArray(t))return v(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||p(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){if(t){if("string"==typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(t,e):void 0}}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=p(t))||e){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}var y=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"getEndCapStyle",value:function(){return this._endCapStyle}},{key:"isSingleSided",value:function(){return this._isSingleSided}},{key:"setQuadrantSegments",value:function(t){this._quadrantSegments=t,0===this._quadrantSegments&&(this._joinStyle=e.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=e.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==e.JOIN_ROUND&&(this._quadrantSegments=e.DEFAULT_QUADRANT_SEGMENTS)}},{key:"getJoinStyle",value:function(){return this._joinStyle}},{key:"setJoinStyle",value:function(t){this._joinStyle=t}},{key:"setSimplifyFactor",value:function(t){this._simplifyFactor=t<0?0:t}},{key:"getSimplifyFactor",value:function(){return this._simplifyFactor}},{key:"getQuadrantSegments",value:function(){return this._quadrantSegments}},{key:"setEndCapStyle",value:function(t){this._endCapStyle=t}},{key:"getMitreLimit",value:function(){return this._mitreLimit}},{key:"setMitreLimit",value:function(t){this._mitreLimit=t}},{key:"setSingleSided",value:function(t){this._isSingleSided=t}}],[{key:"constructor_",value:function(){if(this._quadrantSegments=e.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=e.CAP_ROUND,this._joinStyle=e.JOIN_ROUND,this._mitreLimit=e.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=e.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setQuadrantSegments(t)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.setQuadrantSegments(n),this.setEndCapStyle(r)}else if(4===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];this.setQuadrantSegments(i),this.setEndCapStyle(o),this.setJoinStyle(s),this.setMitreLimit(a)}}},{key:"bufferDistanceError",value:function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)}}]),e}();y.CAP_ROUND=1,y.CAP_FLAT=2,y.CAP_SQUARE=3,y.JOIN_ROUND=1,y.JOIN_MITRE=2,y.JOIN_BEVEL=3,y.DEFAULT_QUADRANT_SEGMENTS=8,y.DEFAULT_MITRE_LIMIT=5,y.DEFAULT_SIMPLIFY_FACTOR=.01;var _=function(e){r(o,e);var i=c(o);function o(e){var n;return t(this,o),(n=i.call(this,e)).name=Object.keys({Exception:o})[0],n}return n(o,[{key:"toString",value:function(){return this.message}}]),o}(u(Error)),x=function(e){r(i,e);var n=c(i);function i(e){var r;return t(this,i),(r=n.call(this,e)).name=Object.keys({IllegalArgumentException:i})[0],r}return i}(_),E=function(){function e(){t(this,e)}return n(e,[{key:"filter",value:function(t){}}]),e}();function k(){}function b(){}function w(){}var I,N,S,M,L,P,C,T,O=function(){function e(){t(this,e)}return n(e,null,[{key:"equalsWithTolerance",value:function(t,e,n){return Math.abs(t-e)<=n}}]),e}(),R=function(){function e(n,r){t(this,e),this.low=r||0,this.high=n||0}return n(e,null,[{key:"toBinaryString",value:function(t){var e,n="";for(e=2147483648;e>0;e>>>=1)n+=(t.high&e)===e?"1":"0";for(e=2147483648;e>0;e>>>=1)n+=(t.low&e)===e?"1":"0";return n}}]),e}();function A(){}function D(){}A.NaN=NaN,A.isNaN=function(t){return Number.isNaN(t)},A.isInfinite=function(t){return!Number.isFinite(t)},A.MAX_VALUE=Number.MAX_VALUE,A.POSITIVE_INFINITY=Number.POSITIVE_INFINITY,A.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,"function"==typeof Float64Array&&"function"==typeof Int32Array?(P=2146435072,C=new Float64Array(1),T=new Int32Array(C.buffer),A.doubleToLongBits=function(t){C[0]=t;var e=0|T[0],n=0|T[1];return(n&P)===P&&0!=(1048575&n)&&0!==e&&(e=0,n=2146959360),new R(n,e)},A.longBitsToDouble=function(t){return T[0]=t.low,T[1]=t.high,C[0]}):(I=1023,N=Math.log2,S=Math.floor,M=Math.pow,L=function(){for(var t=53;t>0;t--){var e=M(2,t)-1;if(S(N(e))+1===t)return e}return 0}(),A.doubleToLongBits=function(t){var e,n,r,i,o,s,a,u,l;if(t<0||1/t===Number.NEGATIVE_INFINITY?(s=1<<31,t=-t):s=0,0===t)return new R(u=s,l=0);if(t===1/0)return new R(u=2146435072|s,l=0);if(t!=t)return new R(u=2146959360,l=0);if(i=0,l=0,(e=S(t))>1)if(e<=L)(i=S(N(e)))<=20?(l=0,u=e<<20-i&1048575):(l=e%(n=M(2,r=i-20))<<32-r,u=e/n&1048575);else for(r=e,l=0;0!==(r=S(n=r/2));)i++,l>>>=1,l|=(1&u)<<31,u>>>=1,n!==r&&(u|=524288);if(a=i+I,o=0===e,e=t-e,i<52&&0!==e)for(r=0;;){if((n=2*e)>=1?(e=n-1,o?(a--,o=!1):(r<<=1,r|=1,i++)):(e=n,o?0==--a&&(i++,o=!1):(r<<=1,i++)),20===i)u|=r,r=0;else if(52===i){l|=r;break}if(1===n){i<20?u|=r<<20-i:i<52&&(l|=r<<52-i);break}}return u|=a<<20,new R(u|=s,l)},A.longBitsToDouble=function(t){var e,n,r,i,o=t.high,s=t.low,a=o&1<<31?-1:1;for(r=((2146435072&o)>>20)-I,i=0,n=1<<19,e=1;e<=20;e++)o&n&&(i+=M(2,-e)),n>>>=1;for(n=1<<31,e=21;e<=52;e++)s&n&&(i+=M(2,-e)),n>>>=1;if(-1023===r){if(0===i)return 0*a;r=-1022}else{if(1024===r)return 0===i?a/0:NaN;i+=1}return a*i*M(2,r)});var F=function(e){r(i,e);var n=c(i);function i(e){var r;return t(this,i),(r=n.call(this,e)).name=Object.keys({RuntimeException:i})[0],r}return i}(_),q=function(e){r(o,e);var i=c(o);function o(){var e;return t(this,o),e=i.call(this),o.constructor_.apply(l(e),arguments),e}return n(o,null,[{key:"constructor_",value:function(){if(0===arguments.length)F.constructor_.call(this);else if(1===arguments.length){var t=arguments[0];F.constructor_.call(this,t)}}}]),o}(F),V=function(){function e(){t(this,e)}return n(e,null,[{key:"shouldNeverReachHere",value:function(){if(0===arguments.length)e.shouldNeverReachHere(null);else if(1===arguments.length){var t=arguments[0];throw new q("Should never reach here"+(null!==t?": "+t:""))}}},{key:"isTrue",value:function(){if(1===arguments.length){var t=arguments[0];e.isTrue(t,null)}else if(2===arguments.length){var n=arguments[1];if(!arguments[0])throw null===n?new q:new q(n)}}},{key:"equals",value:function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];e.equals(t,n,null)}else if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];if(!i.equals(r))throw new q("Expected "+r+" but encountered "+i+(null!==o?": "+o:""))}}}]),e}(),G=new ArrayBuffer(8),B=new Float64Array(G),Y=new Int32Array(G),z=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"getM",value:function(){return A.NaN}},{key:"setOrdinate",value:function(t,n){switch(t){case e.X:this.x=n;break;case e.Y:this.y=n;break;case e.Z:this.setZ(n);break;default:throw new x("Invalid ordinate index: "+t)}}},{key:"equals2D",value:function(){if(1===arguments.length){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!O.equalsWithTolerance(this.x,e.x,n)&&!!O.equalsWithTolerance(this.y,e.y,n)}}},{key:"setM",value:function(t){throw new x("Invalid ordinate index: "+e.M)}},{key:"getZ",value:function(){return this.z}},{key:"getOrdinate",value:function(t){switch(t){case e.X:return this.x;case e.Y:return this.y;case e.Z:return this.getZ()}throw new x("Invalid ordinate index: "+t)}},{key:"equals3D",value:function(t){return this.x===t.x&&this.y===t.y&&(this.getZ()===t.getZ()||A.isNaN(this.getZ())&&A.isNaN(t.getZ()))}},{key:"equals",value:function(t){return t instanceof e&&this.equals2D(t)}},{key:"equalInZ",value:function(t,e){return O.equalsWithTolerance(this.getZ(),t.getZ(),e)}},{key:"setX",value:function(t){this.x=t}},{key:"compareTo",value:function(t){var e=t;return this.x<e.x?-1:this.x>e.x?1:this.y<e.y?-1:this.y>e.y?1:0}},{key:"getX",value:function(){return this.x}},{key:"setZ",value:function(t){this.z=t}},{key:"clone",value:function(){try{return null}catch(t){if(t instanceof CloneNotSupportedException)return V.shouldNeverReachHere("this shouldn't happen because this class is Cloneable"),null;throw t}}},{key:"copy",value:function(){return new e(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+")"}},{key:"distance3D",value:function(t){var e=this.x-t.x,n=this.y-t.y,r=this.getZ()-t.getZ();return Math.sqrt(e*e+n*n+r*r)}},{key:"getY",value:function(){return this.y}},{key:"setY",value:function(t){this.y=t}},{key:"distance",value:function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)}},{key:"hashCode",value:function(){var t=17;return 37*(t=37*t+e.hashCode(this.x))+e.hashCode(this.y)}},{key:"setCoordinate",value:function(t){this.x=t.x,this.y=t.y,this.z=t.getZ()}},{key:"interfaces_",get:function(){return[k,b,w]}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)e.constructor_.call(this,0,0);else if(1===arguments.length){var t=arguments[0];e.constructor_.call(this,t.x,t.y,t.getZ())}else if(2===arguments.length){var n=arguments[0],r=arguments[1];e.constructor_.call(this,n,r,e.NULL_ORDINATE)}else if(3===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2];this.x=i,this.y=o,this.z=s}}},{key:"hashCode",value:function(t){return B[0]=t,Y[0]^Y[1]}}]),e}(),j=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"compare",value:function(t,n){var r=e.compare(t.x,n.x);if(0!==r)return r;var i=e.compare(t.y,n.y);return 0!==i?i:this._dimensionsToTest<=2?0:e.compare(t.getZ(),n.getZ())}},{key:"interfaces_",get:function(){return[D]}}],[{key:"constructor_",value:function(){if(this._dimensionsToTest=2,0===arguments.length)e.constructor_.call(this,2);else if(1===arguments.length){var t=arguments[0];if(2!==t&&3!==t)throw new x("only 2 or 3 dimensions may be specified");this._dimensionsToTest=t}}},{key:"compare",value:function(t,e){return t<e?-1:t>e?1:A.isNaN(t)?A.isNaN(e)?0:-1:A.isNaN(e)?1:0}}]),e}();z.DimensionalComparator=j,z.NULL_ORDINATE=A.NaN,z.X=0,z.Y=1,z.Z=2,z.M=3;var X=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"getArea",value:function(){return this.getWidth()*this.getHeight()}},{key:"equals",value:function(t){if(!(t instanceof e))return!1;var n=t;return this.isNull()?n.isNull():this._maxx===n.getMaxX()&&this._maxy===n.getMaxY()&&this._minx===n.getMinX()&&this._miny===n.getMinY()}},{key:"intersection",value:function(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new e;var n=this._minx>t._minx?this._minx:t._minx,r=this._miny>t._miny?this._miny:t._miny;return new e(n,this._maxx<t._maxx?this._maxx:t._maxx,r,this._maxy<t._maxy?this._maxy:t._maxy)}},{key:"isNull",value:function(){return this._maxx<this._minx}},{key:"getMaxX",value:function(){return this._maxx}},{key:"covers",value:function(){if(1===arguments.length){if(arguments[0]instanceof z){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof e){var n=arguments[0];return!this.isNull()&&!n.isNull()&&n.getMinX()>=this._minx&&n.getMaxX()<=this._maxx&&n.getMinY()>=this._miny&&n.getMaxY()<=this._maxy}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];return!this.isNull()&&r>=this._minx&&r<=this._maxx&&i>=this._miny&&i<=this._maxy}}},{key:"intersects",value:function(){if(1===arguments.length){if(arguments[0]instanceof e){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}if(arguments[0]instanceof z){var n=arguments[0];return this.intersects(n.x,n.y)}}else if(2===arguments.length){if(arguments[0]instanceof z&&arguments[1]instanceof z){var r=arguments[0],i=arguments[1];return!(this.isNull()||(r.x<i.x?r.x:i.x)>this._maxx||(r.x>i.x?r.x:i.x)<this._minx||(r.y<i.y?r.y:i.y)>this._maxy||(r.y>i.y?r.y:i.y)<this._miny)}if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var o=arguments[0],s=arguments[1];return!this.isNull()&&!(o>this._maxx||o<this._minx||s>this._maxy||s<this._miny)}}}},{key:"getMinY",value:function(){return this._miny}},{key:"getDiameter",value:function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return Math.sqrt(t*t+e*e)}},{key:"getMinX",value:function(){return this._minx}},{key:"expandToInclude",value:function(){if(1===arguments.length){if(arguments[0]instanceof z){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof e){var n=arguments[0];if(n.isNull())return null;this.isNull()?(this._minx=n.getMinX(),this._maxx=n.getMaxX(),this._miny=n.getMinY(),this._maxy=n.getMaxY()):(n._minx<this._minx&&(this._minx=n._minx),n._maxx>this._maxx&&(this._maxx=n._maxx),n._miny<this._miny&&(this._miny=n._miny),n._maxy>this._maxy&&(this._maxy=n._maxy))}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.isNull()?(this._minx=r,this._maxx=r,this._miny=i,this._maxy=i):(r<this._minx&&(this._minx=r),r>this._maxx&&(this._maxx=r),i<this._miny&&(this._miny=i),i>this._maxy&&(this._maxy=i))}}},{key:"minExtent",value:function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t<e?t:e}},{key:"getWidth",value:function(){return this.isNull()?0:this._maxx-this._minx}},{key:"compareTo",value:function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this._minx<e._minx?-1:this._minx>e._minx?1:this._miny<e._miny?-1:this._miny>e._miny?1:this._maxx<e._maxx?-1:this._maxx>e._maxx?1:this._maxy<e._maxy?-1:this._maxy>e._maxy?1:0}},{key:"translate",value:function(t,e){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)}},{key:"copy",value:function(){return new e(this)}},{key:"toString",value:function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"}},{key:"setToNull",value:function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1}},{key:"disjoint",value:function(t){return!(!this.isNull()&&!t.isNull())||t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny}},{key:"getHeight",value:function(){return this.isNull()?0:this._maxy-this._miny}},{key:"maxExtent",value:function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e}},{key:"expandBy",value:function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this.isNull())return null;this._minx-=e,this._maxx+=e,this._miny-=n,this._maxy+=n,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}}},{key:"contains",value:function(){if(1===arguments.length){if(arguments[0]instanceof e){var t=arguments[0];return this.covers(t)}if(arguments[0]instanceof z){var n=arguments[0];return this.covers(n)}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];return this.covers(r,i)}}},{key:"centre",value:function(){return this.isNull()?null:new z((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)}},{key:"init",value:function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof z){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof e){var n=arguments[0];this._minx=n._minx,this._maxx=n._maxx,this._miny=n._miny,this._maxy=n._maxy}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.init(r.x,i.x,r.y,i.y)}else if(4===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2],u=arguments[3];o<s?(this._minx=o,this._maxx=s):(this._minx=s,this._maxx=o),a<u?(this._miny=a,this._maxy=u):(this._miny=u,this._maxy=a)}}},{key:"getMaxY",value:function(){return this._maxy}},{key:"distance",value:function(t){if(this.intersects(t))return 0;var e=0;this._maxx<t._minx?e=t._minx-this._maxx:this._minx>t._maxx&&(e=this._minx-t._maxx);var n=0;return this._maxy<t._miny?n=t._miny-this._maxy:this._miny>t._maxy&&(n=this._miny-t._maxy),0===e?n:0===n?e:Math.sqrt(e*e+n*n)}},{key:"hashCode",value:function(){var t=17;return 37*(t=37*(t=37*(t=37*t+z.hashCode(this._minx))+z.hashCode(this._maxx))+z.hashCode(this._miny))+z.hashCode(this._maxy)}},{key:"interfaces_",get:function(){return[k,w]}}],[{key:"constructor_",value:function(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof z){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof e){var n=arguments[0];this.init(n)}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.init(r.x,i.x,r.y,i.y)}else if(4===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2],u=arguments[3];this.init(o,s,a,u)}}},{key:"intersects",value:function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];return n.x>=(t.x<e.x?t.x:e.x)&&n.x<=(t.x>e.x?t.x:e.x)&&n.y>=(t.y<e.y?t.y:e.y)&&n.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],s=arguments[3],a=Math.min(o.x,s.x),u=Math.max(o.x,s.x),l=Math.min(r.x,i.x),h=Math.max(r.x,i.x);return!(l>u||h<a||(a=Math.min(o.y,s.y),u=Math.max(o.y,s.y),l=Math.min(r.y,i.y),h=Math.max(r.y,i.y),l>u||h<a))}}}]),e}(),U=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"isGeometryCollection",value:function(){return this.getTypeCode()===e.TYPECODE_GEOMETRYCOLLECTION}},{key:"getFactory",value:function(){return this._factory}},{key:"getGeometryN",value:function(t){return this}},{key:"getArea",value:function(){return 0}},{key:"isRectangle",value:function(){return!1}},{key:"equalsExact",value:function(t){return this===t||this.equalsExact(t,0)}},{key:"geometryChanged",value:function(){this.apply(e.geometryChangedFilter)}},{key:"geometryChangedAction",value:function(){this._envelope=null}},{key:"equalsNorm",value:function(t){return null!==t&&this.norm().equalsExact(t.norm())}},{key:"getLength",value:function(){return 0}},{key:"getNumGeometries",value:function(){return 1}},{key:"compareTo",value:function(){var t;if(1===arguments.length){var e=arguments[0];return t=e,this.getTypeCode()!==t.getTypeCode()?this.getTypeCode()-t.getTypeCode():this.isEmpty()&&t.isEmpty()?0:this.isEmpty()?-1:t.isEmpty()?1:this.compareToSameClass(e)}if(2===arguments.length){var n=arguments[0],r=arguments[1];return t=n,this.getTypeCode()!==t.getTypeCode()?this.getTypeCode()-t.getTypeCode():this.isEmpty()&&t.isEmpty()?0:this.isEmpty()?-1:t.isEmpty()?1:this.compareToSameClass(n,r)}}},{key:"getUserData",value:function(){return this._userData}},{key:"getSRID",value:function(){return this._SRID}},{key:"getEnvelope",value:function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())}},{key:"checkNotGeometryCollection",value:function(t){if(t.getTypeCode()===e.TYPECODE_GEOMETRYCOLLECTION)throw new x("This method does not support GeometryCollection arguments")}},{key:"equal",value:function(t,e,n){return 0===n?t.equals(e):t.distance(e)<=n}},{key:"norm",value:function(){var t=this.copy();return t.normalize(),t}},{key:"reverse",value:function(){var t=this.reverseInternal();return null!=this.envelope&&(t.envelope=this.envelope.copy()),t.setSRID(this.getSRID()),t}},{key:"copy",value:function(){var t=this.copyInternal();return t.envelope=null==this._envelope?null:this._envelope.copy(),t._SRID=this._SRID,t._userData=this._userData,t}},{key:"getPrecisionModel",value:function(){return this._factory.getPrecisionModel()}},{key:"getEnvelopeInternal",value:function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new X(this._envelope)}},{key:"setSRID",value:function(t){this._SRID=t}},{key:"setUserData",value:function(t){this._userData=t}},{key:"compare",value:function(t,e){for(var n=t.iterator(),r=e.iterator();n.hasNext()&&r.hasNext();){var i=n.next(),o=r.next(),s=i.compareTo(o);if(0!==s)return s}return n.hasNext()?1:r.hasNext()?-1:0}},{key:"hashCode",value:function(){return this.getEnvelopeInternal().hashCode()}},{key:"isEquivalentClass",value:function(t){return this.getClass()===t.getClass()}},{key:"isGeometryCollectionOrDerived",value:function(){return this.getTypeCode()===e.TYPECODE_GEOMETRYCOLLECTION||this.getTypeCode()===e.TYPECODE_MULTIPOINT||this.getTypeCode()===e.TYPECODE_MULTILINESTRING||this.getTypeCode()===e.TYPECODE_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[b,k,w]}},{key:"getClass",value:function(){return e}}],[{key:"hasNonEmptyElements",value:function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1}},{key:"hasNullElements",value:function(t){for(var e=0;e<t.length;e++)if(null===t[e])return!0;return!1}}]),e}();U.constructor_=function(t){t&&(this._envelope=null,this._userData=null,this._factory=t,this._SRID=t.getSRID())},U.TYPECODE_POINT=0,U.TYPECODE_MULTIPOINT=1,U.TYPECODE_LINESTRING=2,U.TYPECODE_LINEARRING=3,U.TYPECODE_MULTILINESTRING=4,U.TYPECODE_POLYGON=5,U.TYPECODE_MULTIPOLYGON=6,U.TYPECODE_GEOMETRYCOLLECTION=7,U.TYPENAME_POINT="Point",U.TYPENAME_MULTIPOINT="MultiPoint",U.TYPENAME_LINESTRING="LineString",U.TYPENAME_LINEARRING="LinearRing",U.TYPENAME_MULTILINESTRING="MultiLineString",U.TYPENAME_POLYGON="Polygon",U.TYPENAME_MULTIPOLYGON="MultiPolygon",U.TYPENAME_GEOMETRYCOLLECTION="GeometryCollection",U.geometryChangedFilter={get interfaces_(){return[E]},filter:function(t){t.geometryChangedAction()}};var Z=function(){function e(){t(this,e)}return n(e,null,[{key:"toLocationSymbol",value:function(t){switch(t){case e.EXTERIOR:return"e";case e.BOUNDARY:return"b";case e.INTERIOR:return"i";case e.NONE:return"-"}throw new x("Unknown location value: "+t)}}]),e}();Z.INTERIOR=0,Z.BOUNDARY=1,Z.EXTERIOR=2,Z.NONE=-1;var H=function(){function e(){t(this,e)}return n(e,[{key:"add",value:function(){}},{key:"addAll",value:function(){}},{key:"isEmpty",value:function(){}},{key:"iterator",value:function(){}},{key:"size",value:function(){}},{key:"toArray",value:function(){}},{key:"remove",value:function(){}}]),e}(),W=function(e){r(i,e);var n=c(i);function i(e){var r;return t(this,i),(r=n.call(this,e)).name=Object.keys({NoSuchElementException:i})[0],r}return i}(_),J=function(e){r(i,e);var n=c(i);function i(e){var r;return t(this,i),(r=n.call(this,e)).name=Object.keys({UnsupportedOperationException:i})[0],r}return i}(_),K=function(e){r(o,e);var i=c(o);function o(){return t(this,o),i.apply(this,arguments)}return n(o,[{key:"contains",value:function(){}}]),o}(H),Q=function(e,i){r(s,e);var o=c(s);function s(e){var n;return t(this,s),(n=o.call(this)).map=new Map,e instanceof H&&n.addAll(e),n}return n(s,[{key:"contains",value:function(t){var e=t.hashCode?t.hashCode():t;return!!this.map.has(e)}},{key:"add",value:function(t){var e=t.hashCode?t.hashCode():t;return!this.map.has(e)&&!!this.map.set(e,t)}},{key:"addAll",value:function(t){var e,n=d(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;this.add(r)}}catch(t){n.e(t)}finally{n.f()}return!0}},{key:"remove",value:function(){throw new J}},{key:"size",value:function(){return this.map.size}},{key:"isEmpty",value:function(){return 0===this.map.size}},{key:"toArray",value:function(){return Array.from(this.map.values())}},{key:"iterator",value:function(){return new $(this.map)}},{key:i,value:function(){return this.map}}]),s}(K,Symbol.iterator),$=function(){function e(n){t(this,e),this.iterator=n.values();var r=this.iterator.next(),i=r.done,o=r.value;this.done=i,this.value=o}return n(e,[{key:"next",value:function(){if(this.done)throw new W;var t=this.value,e=this.iterator.next(),n=e.done,r=e.value;return this.done=n,this.value=r,t}},{key:"hasNext",value:function(){return!this.done}},{key:"remove",value:function(){throw new J}}]),e}(),tt=function(){function e(){t(this,e)}return n(e,null,[{key:"opposite",value:function(t){return t===e.LEFT?e.RIGHT:t===e.RIGHT?e.LEFT:t}}]),e}();tt.ON=0,tt.LEFT=1,tt.RIGHT=2;var et=function(e){r(i,e);var n=c(i);function i(e){var r;return t(this,i),(r=n.call(this,e)).name=Object.keys({EmptyStackException:i})[0],r}return i}(_),nt=function(e){r(i,e);var n=c(i);function i(e){var r;return t(this,i),(r=n.call(this,e)).name=Object.keys({IndexOutOfBoundsException:i})[0],r}return i}(_),rt=function(e){r(o,e);var i=c(o);function o(){return t(this,o),i.apply(this,arguments)}return n(o,[{key:"get",value:function(){}},{key:"set",value:function(){}},{key:"isEmpty",value:function(){}}]),o}(H),it=function(e){r(o,e);var i=c(o);function o(){var e;return t(this,o),(e=i.call(this)).array=[],e}return n(o,[{key:"add",value:function(t){return this.array.push(t),!0}},{key:"get",value:function(t){if(t<0||t>=this.size())throw new nt;return this.array[t]}},{key:"push",value:function(t){return this.array.push(t),t}},{key:"pop",value:function(){if(0===this.array.length)throw new et;return this.array.pop()}},{key:"peek",value:function(){if(0===this.array.length)throw new et;return this.array[this.array.length-1]}},{key:"empty",value:function(){return 0===this.array.length}},{key:"isEmpty",value:function(){return this.empty()}},{key:"search",value:function(t){return this.array.indexOf(t)}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}}]),o}(rt);function ot(t,e){return t.interfaces_&&t.interfaces_.indexOf(e)>-1}var st=function(){function e(n){t(this,e),this.str=n}return n(e,[{key:"append",value:function(t){this.str+=t}},{key:"setCharAt",value:function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)}},{key:"toString",value:function(){return this.str}}]),e}(),at=function(){function e(n){t(this,e),this.value=n}return n(e,[{key:"intValue",value:function(){return this.value}},{key:"compareTo",value:function(t){return this.value<t?-1:this.value>t?1:0}}],[{key:"compare",value:function(t,e){return t<e?-1:t>e?1:0}},{key:"isNan",value:function(t){return Number.isNaN(t)}},{key:"valueOf",value:function(t){return new e(t)}}]),e}(),ut=function(){function e(){t(this,e)}return n(e,null,[{key:"isWhitespace",value:function(t){return t<=32&&t>=0||127===t}},{key:"toUpperCase",value:function(t){return t.toUpperCase()}}]),e}(),lt=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"le",value:function(t){return this._hi<t._hi||this._hi===t._hi&&this._lo<=t._lo}},{key:"extractSignificantDigits",value:function(t,n){var r=this.abs(),i=e.magnitude(r._hi),o=e.TEN.pow(i);(r=r.divide(o)).gt(e.TEN)?(r=r.divide(e.TEN),i+=1):r.lt(e.ONE)&&(r=r.multiply(e.TEN),i-=1);for(var s=i+1,a=new st,u=e.MAX_PRINT_DIGITS-1,l=0;l<=u;l++){t&&l===s&&a.append(".");var h=Math.trunc(r._hi);if(h<0)break;var c=!1,f=0;h>9?(c=!0,f="9"):f="0"+h,a.append(f),r=r.subtract(e.valueOf(h)).multiply(e.TEN),c&&r.selfAdd(e.TEN);var g=!0,p=e.magnitude(r._hi);if(p<0&&Math.abs(p)>=u-l&&(g=!1),!g)break}return n[0]=i,a.toString()}},{key:"sqr",value:function(){return this.multiply(this)}},{key:"doubleValue",value:function(){return this._hi+this._lo}},{key:"subtract",value:function(){if(arguments[0]instanceof e){var t=arguments[0];return this.add(t.negate())}if("number"==typeof arguments[0]){var n=arguments[0];return this.add(-n)}}},{key:"equals",value:function(){if(1===arguments.length&&arguments[0]instanceof e){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}}},{key:"isZero",value:function(){return 0===this._hi&&0===this._lo}},{key:"selfSubtract",value:function(){if(arguments[0]instanceof e){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}if("number"==typeof arguments[0]){var n=arguments[0];return this.isNaN()?this:this.selfAdd(-n,0)}}},{key:"getSpecialNumberString",value:function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null}},{key:"min",value:function(t){return this.le(t)?this:t}},{key:"selfDivide",value:function(){if(1===arguments.length){if(arguments[0]instanceof e){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}if("number"==typeof arguments[0]){var n=arguments[0];return this.selfDivide(n,0)}}else if(2===arguments.length){var r=arguments[0],i=arguments[1],o=null,s=null,a=null,u=null,l=null,h=null,c=null,f=null;return l=this._hi/r,f=(o=(h=e.SPLIT*l)-(o=h-l))*(a=(f=e.SPLIT*r)-(a=f-r))-(c=l*r)+o*(u=r-a)+(s=l-o)*a+s*u,f=l+(h=(this._hi-c-f+this._lo-l*i)/r),this._hi=f,this._lo=l-f+h,this}}},{key:"dump",value:function(){return"DD<"+this._hi+", "+this._lo+">"}},{key:"divide",value:function(){if(arguments[0]instanceof e){var t=arguments[0],n=null,r=null,i=null,o=null,s=null,a=null,u=null,l=null;return r=(s=this._hi/t._hi)-(n=(a=e.SPLIT*s)-(n=a-s)),l=n*(i=(l=e.SPLIT*t._hi)-(i=l-t._hi))-(u=s*t._hi)+n*(o=t._hi-i)+r*i+r*o,new e(l=s+(a=(this._hi-u-l+this._lo-s*t._lo)/t._hi),s-l+a)}if("number"==typeof arguments[0]){var h=arguments[0];return A.isNaN(h)?e.createNaN():e.copy(this).selfDivide(h,0)}}},{key:"ge",value:function(t){return this._hi>t._hi||this._hi===t._hi&&this._lo>=t._lo}},{key:"pow",value:function(t){if(0===t)return e.valueOf(1);var n=new e(this),r=e.valueOf(1),i=Math.abs(t);if(i>1)for(;i>0;)i%2==1&&r.selfMultiply(n),(i/=2)>0&&(n=n.sqr());else r=n;return t<0?r.reciprocal():r}},{key:"ceil",value:function(){if(this.isNaN())return e.NaN;var t=Math.ceil(this._hi),n=0;return t===this._hi&&(n=Math.ceil(this._lo)),new e(t,n)}},{key:"compareTo",value:function(t){var e=t;return this._hi<e._hi?-1:this._hi>e._hi?1:this._lo<e._lo?-1:this._lo>e._lo?1:0}},{key:"rint",value:function(){return this.isNaN()?this:this.add(.5).floor()}},{key:"setValue",value:function(){if(arguments[0]instanceof e){var t=arguments[0];return this.init(t),this}if("number"==typeof arguments[0]){var n=arguments[0];return this.init(n),this}}},{key:"max",value:function(t){return this.ge(t)?this:t}},{key:"sqrt",value:function(){if(this.isZero())return e.valueOf(0);if(this.isNegative())return e.NaN;var t=1/Math.sqrt(this._hi),n=this._hi*t,r=e.valueOf(n),i=this.subtract(r.sqr())._hi*(.5*t);return r.add(i)}},{key:"selfAdd",value:function(){if(1===arguments.length){if(arguments[0]instanceof e){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}if("number"==typeof arguments[0]){var n=arguments[0],r=null,i=null,o=null,s=null,a=null,u=null;return s=(o=this._hi+n)-(a=o-this._hi),i=(u=(s=n-a+(this._hi-s))+this._lo)+(o-(r=o+u)),this._hi=r+i,this._lo=i+(r-this._hi),this}}else if(2===arguments.length){var l=arguments[0],h=arguments[1],c=null,f=null,g=null,p=null,v=null,d=null,y=null;p=this._hi+l,f=this._lo+h,v=p-(d=p-this._hi),g=f-(y=f-this._lo);var m=(c=p+(d=(v=l-d+(this._hi-v))+f))+(d=(g=h-y+(this._lo-g))+(d+(p-c))),_=d+(c-m);return this._hi=m,this._lo=_,this}}},{key:"selfMultiply",value:function(){if(1===arguments.length){if(arguments[0]instanceof e){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}if("number"==typeof arguments[0]){var n=arguments[0];return this.selfMultiply(n,0)}}else if(2===arguments.length){var r=arguments[0],i=arguments[1],o=null,s=null,a=null,u=null,l=null,h=null;o=(l=e.SPLIT*this._hi)-this._hi,h=e.SPLIT*r,o=l-o,s=this._hi-o,a=h-r;var c=(l=this._hi*r)+(h=o*(a=h-a)-l+o*(u=r-a)+s*a+s*u+(this._hi*i+this._lo*r)),f=h+(o=l-c);return this._hi=c,this._lo=f,this}}},{key:"selfSqr",value:function(){return this.selfMultiply(this)}},{key:"floor",value:function(){if(this.isNaN())return e.NaN;var t=Math.floor(this._hi),n=0;return t===this._hi&&(n=Math.floor(this._lo)),new e(t,n)}},{key:"negate",value:function(){return this.isNaN()?this:new e(-this._hi,-this._lo)}},{key:"clone",value:function(){try{return null}catch(t){if(t instanceof CloneNotSupportedException)return null;throw t}}},{key:"multiply",value:function(){if(arguments[0]instanceof e){var t=arguments[0];return t.isNaN()?e.createNaN():e.copy(this).selfMultiply(t)}if("number"==typeof arguments[0]){var n=arguments[0];return A.isNaN(n)?e.createNaN():e.copy(this).selfMultiply(n,0)}}},{key:"isNaN",value:function(){return A.isNaN(this._hi)}},{key:"intValue",value:function(){return Math.trunc(this._hi)}},{key:"toString",value:function(){var t=e.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()}},{key:"toStandardNotation",value:function(){var t=this.getSpecialNumberString();if(null!==t)return t;var n=new Array(1).fill(null),r=this.extractSignificantDigits(!0,n),i=n[0]+1,o=r;if("."===r.charAt(0))o="0"+r;else if(i<0)o="0."+e.stringOfChar("0",-i)+r;else if(-1===r.indexOf(".")){var s=i-r.length;o=r+e.stringOfChar("0",s)+".0"}return this.isNegative()?"-"+o:o}},{key:"reciprocal",value:function(){var t,n,r,i,o=null,s=null,a=null,u=null;t=(r=1/this._hi)-(o=(a=e.SPLIT*r)-(o=a-r)),s=(u=e.SPLIT*this._hi)-this._hi;var l=r+(a=(1-(i=r*this._hi)-(u=o*(s=u-s)-i+o*(n=this._hi-s)+t*s+t*n)-r*this._lo)/this._hi);return new e(l,r-l+a)}},{key:"toSciNotation",value:function(){if(this.isZero())return e.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var n=new Array(1).fill(null),r=this.extractSignificantDigits(!1,n),i=e.SCI_NOT_EXPONENT_CHAR+n[0];if("0"===r.charAt(0))throw new IllegalStateException("Found leading zero: "+r);var o="";r.length>1&&(o=r.substring(1));var s=r.charAt(0)+"."+o;return this.isNegative()?"-"+s+i:s+i}},{key:"abs",value:function(){return this.isNaN()?e.NaN:this.isNegative()?this.negate():new e(this)}},{key:"isPositive",value:function(){return this._hi>0||0===this._hi&&this._lo>0}},{key:"lt",value:function(t){return this._hi<t._hi||this._hi===t._hi&&this._lo<t._lo}},{key:"add",value:function(){if(arguments[0]instanceof e){var t=arguments[0];return e.copy(this).selfAdd(t)}if("number"==typeof arguments[0]){var n=arguments[0];return e.copy(this).selfAdd(n)}}},{key:"init",value:function(){if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this._hi=t,this._lo=0}else if(arguments[0]instanceof e){var n=arguments[0];this._hi=n._hi,this._lo=n._lo}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this._hi=r,this._lo=i}}},{key:"gt",value:function(t){return this._hi>t._hi||this._hi===t._hi&&this._lo>t._lo}},{key:"isNegative",value:function(){return this._hi<0||0===this._hi&&this._lo<0}},{key:"trunc",value:function(){return this.isNaN()?e.NaN:this.isPositive()?this.floor():this.ceil()}},{key:"signum",value:function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0}},{key:"interfaces_",get:function(){return[w,k,b]}}],[{key:"constructor_",value:function(){if(this._hi=0,this._lo=0,0===arguments.length)this.init(0);else if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this.init(t)}else if(arguments[0]instanceof e){var n=arguments[0];this.init(n)}else if("string"==typeof arguments[0]){var r=arguments[0];e.constructor_.call(this,e.parse(r))}}else if(2===arguments.length){var i=arguments[0],o=arguments[1];this.init(i,o)}}},{key:"determinant",value:function(){if("number"==typeof arguments[3]&&"number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],n=arguments[1],r=arguments[2],i=arguments[3];return e.determinant(e.valueOf(t),e.valueOf(n),e.valueOf(r),e.valueOf(i))}if(arguments[3]instanceof e&&arguments[2]instanceof e&&arguments[0]instanceof e&&arguments[1]instanceof e){var o=arguments[1],s=arguments[2],a=arguments[3];return arguments[0].multiply(a).selfSubtract(o.multiply(s))}}},{key:"sqr",value:function(t){return e.valueOf(t).selfMultiply(t)}},{key:"valueOf",value:function(){if("string"==typeof arguments[0]){var t=arguments[0];return e.parse(t)}if("number"==typeof arguments[0])return new e(arguments[0])}},{key:"sqrt",value:function(t){return e.valueOf(t).sqrt()}},{key:"parse",value:function(t){for(var n=0,r=t.length;ut.isWhitespace(t.charAt(n));)n++;var i=!1;if(n<r){var o=t.charAt(n);"-"!==o&&"+"!==o||(n++,"-"===o&&(i=!0))}for(var s=new e,a=0,u=0,l=0,h=!1;!(n>=r);){var c=t.charAt(n);if(n++,ut.isDigit(c)){var f=c-"0";s.selfMultiply(e.TEN),s.selfAdd(f),a++}else{if("."!==c){if("e"===c||"E"===c){var g=t.substring(n);try{l=at.parseInt(g)}catch(e){throw e instanceof NumberFormatException?new NumberFormatException("Invalid exponent "+g+" in string "+t):e}break}throw new NumberFormatException("Unexpected character '"+c+"' at position "+n+" in string "+t)}u=a,h=!0}}var p=s;h||(u=a);var v=a-u-l;if(0===v)p=s;else if(v>0){var d=e.TEN.pow(v);p=s.divide(d)}else if(v<0){var y=e.TEN.pow(-v);p=s.multiply(y)}return i?p.negate():p}},{key:"createNaN",value:function(){return new e(A.NaN,A.NaN)}},{key:"copy",value:function(t){return new e(t)}},{key:"magnitude",value:function(t){var e=Math.abs(t),n=Math.log(e)/Math.log(10),r=Math.trunc(Math.floor(n));return 10*Math.pow(10,r)<=e&&(r+=1),r}},{key:"stringOfChar",value:function(t,e){for(var n=new st,r=0;r<e;r++)n.append(t);return n.toString()}}]),e}();lt.PI=new lt(3.141592653589793,12246467991473532e-32),lt.TWO_PI=new lt(6.283185307179586,24492935982947064e-32),lt.PI_2=new lt(1.5707963267948966,6123233995736766e-32),lt.E=new lt(2.718281828459045,14456468917292502e-32),lt.NaN=new lt(A.NaN,A.NaN),lt.EPS=123259516440783e-46,lt.SPLIT=134217729,lt.MAX_PRINT_DIGITS=32,lt.TEN=lt.valueOf(10),lt.ONE=lt.valueOf(1),lt.SCI_NOT_EXPONENT_CHAR="E",lt.SCI_NOT_ZERO="0.0E0";var ht=function(){function e(){t(this,e)}return n(e,null,[{key:"orientationIndex",value:function(t,n,r){var i=e.orientationIndexFilter(t,n,r);if(i<=1)return i;var o=lt.valueOf(n.x).selfAdd(-t.x),s=lt.valueOf(n.y).selfAdd(-t.y),a=lt.valueOf(r.x).selfAdd(-n.x),u=lt.valueOf(r.y).selfAdd(-n.y);return o.selfMultiply(u).selfSubtract(s.selfMultiply(a)).signum()}},{key:"signOfDet2x2",value:function(){if(arguments[3]instanceof lt&&arguments[2]instanceof lt&&arguments[0]instanceof lt&&arguments[1]instanceof lt){var t=arguments[1],e=arguments[2],n=arguments[3];return arguments[0].multiply(n).selfSubtract(t.multiply(e)).signum()}if("number"==typeof arguments[3]&&"number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var r=arguments[0],i=arguments[1],o=arguments[2],s=arguments[3],a=lt.valueOf(r),u=lt.valueOf(i),l=lt.valueOf(o),h=lt.valueOf(s);return a.multiply(h).selfSubtract(u.multiply(l)).signum()}}},{key:"intersection",value:function(t,e,n,r){var i=new lt(t.y).selfSubtract(e.y),o=new lt(e.x).selfSubtract(t.x),s=new lt(t.x).selfMultiply(e.y).selfSubtract(new lt(e.x).selfMultiply(t.y)),a=new lt(n.y).selfSubtract(r.y),u=new lt(r.x).selfSubtract(n.x),l=new lt(n.x).selfMultiply(r.y).selfSubtract(new lt(r.x).selfMultiply(n.y)),h=o.multiply(l).selfSubtract(u.multiply(s)),c=a.multiply(s).selfSubtract(i.multiply(l)),f=i.multiply(u).selfSubtract(a.multiply(o)),g=h.selfDivide(f).doubleValue(),p=c.selfDivide(f).doubleValue();return A.isNaN(g)||A.isInfinite(g)||A.isNaN(p)||A.isInfinite(p)?null:new z(g,p)}},{key:"orientationIndexFilter",value:function(t,n,r){var i=null,o=(t.x-r.x)*(n.y-r.y),s=(t.y-r.y)*(n.x-r.x),a=o-s;if(o>0){if(s<=0)return e.signum(a);i=o+s}else{if(!(o<0))return e.signum(a);if(s>=0)return e.signum(a);i=-o-s}var u=e.DP_SAFE_EPSILON*i;return a>=u||-a>=u?e.signum(a):2}},{key:"signum",value:function(t){return t>0?1:t<0?-1:0}}]),e}();ht.DP_SAFE_EPSILON=1e-15;var ct=function(){function e(){t(this,e)}return n(e,[{key:"getM",value:function(t){if(this.hasM()){var e=this.getDimension()-this.getMeasures();return this.getOrdinate(t,e)}return A.NaN}},{key:"setOrdinate",value:function(t,e,n){}},{key:"getZ",value:function(t){return this.hasZ()?this.getOrdinate(t,2):A.NaN}},{key:"size",value:function(){}},{key:"getOrdinate",value:function(t,e){}},{key:"getCoordinate",value:function(){}},{key:"getCoordinateCopy",value:function(t){}},{key:"createCoordinate",value:function(){}},{key:"getDimension",value:function(){}},{key:"hasM",value:function(){return this.getMeasures()>0}},{key:"getX",value:function(t){}},{key:"hasZ",value:function(){return this.getDimension()-this.getMeasures()>2}},{key:"getMeasures",value:function(){return 0}},{key:"expandEnvelope",value:function(t){}},{key:"copy",value:function(){}},{key:"getY",value:function(t){}},{key:"toCoordinateArray",value:function(){}},{key:"interfaces_",get:function(){return[b]}}]),e}();ct.X=0,ct.Y=1,ct.Z=2,ct.M=3;var ft=function(){function e(){t(this,e)}return n(e,null,[{key:"index",value:function(t,e,n){return ht.orientationIndex(t,e,n)}},{key:"isCCW",value:function(){if(arguments[0]instanceof Array){var t=arguments[0],n=t.length-1;if(n<3)throw new x("Ring has fewer than 4 points, so orientation cannot be determined");for(var r=t[0],i=0,o=1;o<=n;o++){var s=t[o];s.y>r.y&&(r=s,i=o)}var a=i;do{(a-=1)<0&&(a=n)}while(t[a].equals2D(r)&&a!==i);var u=i;do{u=(u+1)%n}while(t[u].equals2D(r)&&u!==i);var l=t[a],h=t[u];if(l.equals2D(r)||h.equals2D(r)||l.equals2D(h))return!1;var c=e.index(l,r,h);return 0===c?l.x>h.x:c>0}if(ot(arguments[0],ct)){var f=arguments[0],g=f.size()-1;if(g<3)throw new x("Ring has fewer than 4 points, so orientation cannot be determined");for(var p=f.getCoordinate(0),v=0,d=1;d<=g;d++){var y=f.getCoordinate(d);y.y>p.y&&(p=y,v=d)}var m=null,_=v;do{(_-=1)<0&&(_=g),m=f.getCoordinate(_)}while(m.equals2D(p)&&_!==v);var E=null,k=v;do{k=(k+1)%g,E=f.getCoordinate(k)}while(E.equals2D(p)&&k!==v);if(m.equals2D(p)||E.equals2D(p)||m.equals2D(E))return!1;var b=e.index(m,p,E);return 0===b?m.x>E.x:b>0}}}]),e}();ft.CLOCKWISE=-1,ft.RIGHT=ft.CLOCKWISE,ft.COUNTERCLOCKWISE=1,ft.LEFT=ft.COUNTERCLOCKWISE,ft.COLLINEAR=0,ft.STRAIGHT=ft.COLLINEAR;var gt=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"getCoordinate",value:function(){return this._minCoord}},{key:"getRightmostSide",value:function(t,e){var n=this.getRightmostSideOfSegment(t,e);return n<0&&(n=this.getRightmostSideOfSegment(t,e-1)),n<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),n}},{key:"findRightmostEdgeAtVertex",value:function(){var t=this._minDe.getEdge().getCoordinates();V.isTrue(this._minIndex>0&&this._minIndex<t.length,"rightmost point expected to be interior vertex of edge");var e=t[this._minIndex-1],n=t[this._minIndex+1],r=ft.index(this._minCoord,n,e),i=!1;(e.y<this._minCoord.y&&n.y<this._minCoord.y&&r===ft.COUNTERCLOCKWISE||e.y>this._minCoord.y&&n.y>this._minCoord.y&&r===ft.CLOCKWISE)&&(i=!0),i&&(this._minIndex=this._minIndex-1)}},{key:"getRightmostSideOfSegment",value:function(t,e){var n=t.getEdge().getCoordinates();if(e<0||e+1>=n.length)return-1;if(n[e].y===n[e+1].y)return-1;var r=tt.LEFT;return n[e].y<n[e+1].y&&(r=tt.RIGHT),r}},{key:"getEdge",value:function(){return this._orientedDe}},{key:"checkForRightmostCoordinate",value:function(t){for(var e=t.getEdge().getCoordinates(),n=0;n<e.length-1;n++)(null===this._minCoord||e[n].x>this._minCoord.x)&&(this._minDe=t,this._minIndex=n,this._minCoord=e[n])}},{key:"findRightmostEdgeAtNode",value:function(){var t=this._minDe.getNode().getEdges();this._minDe=t.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)}},{key:"findEdge",value:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();n.isForward()&&this.checkForRightmostCoordinate(n)}V.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===tt.LEFT&&(this._orientedDe=this._minDe.getSym())}}],[{key:"constructor_",value:function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null}}]),e}(),pt=function(e){r(o,e);var i=c(o);function o(e,n){var r;return t(this,o),(r=i.call(this,n?e+" [ "+n+" ]":e)).pt=n?new z(n):void 0,r.name=Object.keys({TopologyException:o})[0],r}return n(o,[{key:"getCoordinate",value:function(){return this.pt}}]),o}(F),vt=function(){function e(){t(this,e),this.array=[]}return n(e,[{key:"addLast",value:function(t){this.array.push(t)}},{key:"removeFirst",value:function(){return this.array.shift()}},{key:"isEmpty",value:function(){return 0===this.array.length}}]),e}(),dt=function(e,i){r(s,e);var o=c(s);function s(e){var n;return t(this,s),(n=o.call(this)).array=[],e instanceof H&&n.addAll(e),n}return n(s,[{key:"interfaces_",get:function(){return[rt,H]}},{key:"ensureCapacity",value:function(){}},{key:"add",value:function(t){return 1===arguments.length?this.array.push(t):this.array.splice(arguments[0],0,arguments[1]),!0}},{key:"clear",value:function(){this.array=[]}},{key:"addAll",value:function(t){var e,n=d(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;this.array.push(r)}}catch(t){n.e(t)}finally{n.f()}}},{key:"set",value:function(t,e){var n=this.array[t];return this.array[t]=e,n}},{key:"iterator",value:function(){return new yt(this)}},{key:"get",value:function(t){if(t<0||t>=this.size())throw new nt;return this.array[t]}},{key:"isEmpty",value:function(){return 0===this.array.length}},{key:"sort",value:function(t){t?this.array.sort((function(e,n){return t.compare(e,n)})):this.array.sort()}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}},{key:"remove",value:function(t){for(var e=0,n=this.array.length;e<n;e++)if(this.array[e]===t)return!!this.array.splice(e,1);return!1}},{key:i,value:function(){return this.array.values()}}]),s}(rt,Symbol.iterator),yt=function(){function e(n){t(this,e),this.arrayList=n,this.position=0}return n(e,[{key:"next",value:function(){if(this.position===this.arrayList.size())throw new W;return this.arrayList.get(this.position++)}},{key:"hasNext",value:function(){return this.position<this.arrayList.size()}},{key:"set",value:function(t){return this.arrayList.set(this.position-1,t)}},{key:"remove",value:function(){this.arrayList.remove(this.arrayList.get(this.position))}}]),e}(),mt=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"clearVisitedEdges",value:function(){for(var t=this._dirEdgeList.iterator();t.hasNext();)t.next().setVisited(!1)}},{key:"getRightmostCoordinate",value:function(){return this._rightMostCoord}},{key:"computeNodeDepth",value:function(t){for(var e=null,n=t.getEdges().iterator();n.hasNext();){var r=n.next();if(r.isVisited()||r.getSym().isVisited()){e=r;break}}if(null===e)throw new pt("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(e);for(var i=t.getEdges().iterator();i.hasNext();){var o=i.next();o.setVisited(!0),this.copySymDepths(o)}}},{key:"computeDepth",value:function(t){this.clearVisitedEdges();var e=this._finder.getEdge();e.getNode(),e.getLabel(),e.setEdgeDepths(tt.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)}},{key:"create",value:function(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()}},{key:"findResultEdges",value:function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var e=t.next();e.getDepth(tt.RIGHT)>=1&&e.getDepth(tt.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}}},{key:"computeDepths",value:function(t){var e=new Q,n=new vt,r=t.getNode();for(n.addLast(r),e.add(r),t.setVisited(!0);!n.isEmpty();){var i=n.removeFirst();e.add(i),this.computeNodeDepth(i);for(var o=i.getEdges().iterator();o.hasNext();){var s=o.next().getSym();if(!s.isVisited()){var a=s.getNode();e.contains(a)||(n.addLast(a),e.add(a))}}}}},{key:"compareTo",value:function(t){var e=t;return this._rightMostCoord.x<e._rightMostCoord.x?-1:this._rightMostCoord.x>e._rightMostCoord.x?1:0}},{key:"getEnvelope",value:function(){if(null===this._env){for(var t=new X,e=this._dirEdgeList.iterator();e.hasNext();)for(var n=e.next().getEdge().getCoordinates(),r=0;r<n.length-1;r++)t.expandToInclude(n[r]);this._env=t}return this._env}},{key:"addReachable",value:function(t){var e=new it;for(e.add(t);!e.empty();){var n=e.pop();this.add(n,e)}}},{key:"copySymDepths",value:function(t){var e=t.getSym();e.setDepth(tt.LEFT,t.getDepth(tt.RIGHT)),e.setDepth(tt.RIGHT,t.getDepth(tt.LEFT))}},{key:"add",value:function(t,e){t.setVisited(!0),this._nodes.add(t);for(var n=t.getEdges().iterator();n.hasNext();){var r=n.next();this._dirEdgeList.add(r);var i=r.getSym().getNode();i.isVisited()||e.push(i)}}},{key:"getNodes",value:function(){return this._nodes}},{key:"getDirectedEdges",value:function(){return this._dirEdgeList}},{key:"interfaces_",get:function(){return[k]}}],[{key:"constructor_",value:function(){this._finder=null,this._dirEdgeList=new dt,this._nodes=new dt,this._rightMostCoord=null,this._env=null,this._finder=new gt}}]),e}(),_t=function(){function e(){t(this,e)}return n(e,null,[{key:"intersection",value:function(t,e,n,r){var i=t.x<e.x?t.x:e.x,o=t.y<e.y?t.y:e.y,s=t.x>e.x?t.x:e.x,a=t.y>e.y?t.y:e.y,u=n.x<r.x?n.x:r.x,l=n.y<r.y?n.y:r.y,h=n.x>r.x?n.x:r.x,c=n.y>r.y?n.y:r.y,f=((i>u?i:u)+(s<h?s:h))/2,g=((o>l?o:l)+(a<c?a:c))/2,p=t.x-f,v=t.y-g,d=e.x-f,y=e.y-g,m=n.x-f,_=n.y-g,x=r.x-f,E=r.y-g,k=v-y,b=d-p,w=p*y-d*v,I=_-E,N=x-m,S=m*E-x*_,M=k*N-I*b,L=(b*S-N*w)/M,P=(I*w-k*S)/M;return A.isNaN(L)||A.isInfinite(L)||A.isNaN(P)||A.isInfinite(P)?null:new z(L+f,P+g)}}]),e}(),xt=function(){function e(){t(this,e)}return n(e,null,[{key:"arraycopy",value:function(t,e,n,r,i){for(var o=0,s=e;s<e+i;s++)n[r+o]=t[s],o++}},{key:"getProperty",value:function(t){return{"line.separator":"\n"}[t]}}]),e}(),Et=function(){function e(){t(this,e)}return n(e,null,[{key:"log10",value:function(t){var n=Math.log(t);return A.isInfinite(n)||A.isNaN(n)?n:n/e.LOG_10}},{key:"min",value:function(t,e,n,r){var i=t;return e<i&&(i=e),n<i&&(i=n),r<i&&(i=r),i}},{key:"clamp",value:function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1],n=arguments[2];return t<e?e:t>n?n:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var r=arguments[0],i=arguments[1],o=arguments[2];return r<i?i:r>o?o:r}}},{key:"wrap",value:function(t,e){return t<0?e- -t%e:t%e}},{key:"max",value:function(){if(3===arguments.length){var t=arguments[1],e=arguments[2],n=arguments[0];return t>n&&(n=t),e>n&&(n=e),n}if(4===arguments.length){var r=arguments[1],i=arguments[2],o=arguments[3],s=arguments[0];return r>s&&(s=r),i>s&&(s=i),o>s&&(s=o),s}}},{key:"average",value:function(t,e){return(t+e)/2}}]),e}();Et.LOG_10=Math.log(10);var kt=function(){function e(){t(this,e)}return n(e,null,[{key:"segmentToSegment",value:function(t,n,r,i){if(t.equals(n))return e.pointToSegment(t,r,i);if(r.equals(i))return e.pointToSegment(i,t,n);var o=!1;if(X.intersects(t,n,r,i)){var s=(n.x-t.x)*(i.y-r.y)-(n.y-t.y)*(i.x-r.x);if(0===s)o=!0;else{var a=(t.y-r.y)*(i.x-r.x)-(t.x-r.x)*(i.y-r.y),u=((t.y-r.y)*(n.x-t.x)-(t.x-r.x)*(n.y-t.y))/s,l=a/s;(l<0||l>1||u<0||u>1)&&(o=!0)}}else o=!0;return o?Et.min(e.pointToSegment(t,r,i),e.pointToSegment(n,r,i),e.pointToSegment(r,t,n),e.pointToSegment(i,t,n)):0}},{key:"pointToSegment",value:function(t,e,n){if(e.x===n.x&&e.y===n.y)return t.distance(e);var r=(n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y),i=((t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y))/r;if(i<=0)return t.distance(e);if(i>=1)return t.distance(n);var o=((e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y))/r;return Math.abs(o)*Math.sqrt(r)}},{key:"pointToLinePerpendicular",value:function(t,e,n){var r=(n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y),i=((e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y))/r;return Math.abs(i)*Math.sqrt(r)}},{key:"pointToSegmentString",value:function(t,n){if(0===n.length)throw new x("Line array must contain at least one vertex");for(var r=t.distance(n[0]),i=0;i<n.length-1;i++){var o=e.pointToSegment(t,n[i],n[i+1]);o<r&&(r=o)}return r}}]),e}(),bt=function(){function e(){t(this,e)}return n(e,[{key:"create",value:function(){if(1===arguments.length)arguments[0]instanceof Array||ot(arguments[0],ct);else if(2===arguments.length);else if(3===arguments.length){var t=arguments[0],e=arguments[1];return this.create(t,e)}}}]),e}(),wt=function(){function e(){t(this,e)}return n(e,[{key:"filter",value:function(t){}}]),e}(),It=function(){function e(){t(this,e)}return n(e,null,[{key:"ofLine",value:function(t){var e=t.size();if(e<=1)return 0;var n=0,r=new z;t.getCoordinate(0,r);for(var i=r.x,o=r.y,s=1;s<e;s++){t.getCoordinate(s,r);var a=r.x,u=r.y,l=a-i,h=u-o;n+=Math.sqrt(l*l+h*h),i=a,o=u}return n}}]),e}(),Nt=function e(){t(this,e)},St=function(){function e(){t(this,e)}return n(e,null,[{key:"copyCoord",value:function(t,e,n,r){for(var i=Math.min(t.getDimension(),n.getDimension()),o=0;o<i;o++)n.setOrdinate(r,o,t.getOrdinate(e,o))}},{key:"isRing",value:function(t){var e=t.size();return 0===e||!(e<=3)&&t.getOrdinate(0,ct.X)===t.getOrdinate(e-1,ct.X)&&t.getOrdinate(0,ct.Y)===t.getOrdinate(e-1,ct.Y)}},{key:"scroll",value:function(){if(2===arguments.length){if(ot(arguments[0],ct)&&Number.isInteger(arguments[1])){var t=arguments[0],n=arguments[1];e.scroll(t,n,e.isRing(t))}else if(ot(arguments[0],ct)&&arguments[1]instanceof z){var r=arguments[0],i=arguments[1],o=e.indexOf(i,r);if(o<=0)return null;e.scroll(r,o)}}else if(3===arguments.length){var s=arguments[0],a=arguments[1],u=arguments[2];if(a<=0)return null;for(var l=s.copy(),h=u?s.size()-1:s.size(),c=0;c<h;c++)for(var f=0;f<s.getDimension();f++)s.setOrdinate(c,f,l.getOrdinate((a+c)%h,f));if(u)for(var g=0;g<s.getDimension();g++)s.setOrdinate(h,g,s.getOrdinate(0,g))}}},{key:"isEqual",value:function(t,e){var n=t.size();if(n!==e.size())return!1;for(var r=Math.min(t.getDimension(),e.getDimension()),i=0;i<n;i++)for(var o=0;o<r;o++){var s=t.getOrdinate(i,o),a=e.getOrdinate(i,o);if(!(t.getOrdinate(i,o)===e.getOrdinate(i,o)||A.isNaN(s)&&A.isNaN(a)))return!1}return!0}},{key:"minCoordinateIndex",value:function(){if(1===arguments.length){var t=arguments[0];return e.minCoordinateIndex(t,0,t.size()-1)}if(3===arguments.length){for(var n=arguments[0],r=arguments[2],i=-1,o=null,s=arguments[1];s<=r;s++){var a=n.getCoordinate(s);(null===o||o.compareTo(a)>0)&&(o=a,i=s)}return i}}},{key:"extend",value:function(t,n,r){var i=t.create(r,n.getDimension()),o=n.size();if(e.copy(n,0,i,0,o),o>0)for(var s=o;s<r;s++)e.copy(n,o-1,i,s,1);return i}},{key:"reverse",value:function(t){for(var n=t.size()-1,r=Math.trunc(n/2),i=0;i<=r;i++)e.swap(t,i,n-i)}},{key:"swap",value:function(t,e,n){if(e===n)return null;for(var r=0;r<t.getDimension();r++){var i=t.getOrdinate(e,r);t.setOrdinate(e,r,t.getOrdinate(n,r)),t.setOrdinate(n,r,i)}}},{key:"copy",value:function(t,n,r,i,o){for(var s=0;s<o;s++)e.copyCoord(t,n+s,r,i+s)}},{key:"ensureValidRing",value:function(t,n){var r=n.size();return 0===r?n:r<=3?e.createClosedRing(t,n,4):n.getOrdinate(0,ct.X)===n.getOrdinate(r-1,ct.X)&&n.getOrdinate(0,ct.Y)===n.getOrdinate(r-1,ct.Y)?n:e.createClosedRing(t,n,r+1)}},{key:"indexOf",value:function(t,e){for(var n=0;n<e.size();n++)if(t.x===e.getOrdinate(n,ct.X)&&t.y===e.getOrdinate(n,ct.Y))return n;return-1}},{key:"createClosedRing",value:function(t,n,r){var i=t.create(r,n.getDimension()),o=n.size();e.copy(n,0,i,0,o);for(var s=o;s<r;s++)e.copy(n,0,i,s,1);return i}},{key:"minCoordinate",value:function(t){for(var e=null,n=0;n<t.size();n++){var r=t.getCoordinate(n);(null===e||e.compareTo(r)>0)&&(e=r)}return e}}]),e}(),Mt=function(){function e(){t(this,e)}return n(e,null,[{key:"toDimensionSymbol",value:function(t){switch(t){case e.FALSE:return e.SYM_FALSE;case e.TRUE:return e.SYM_TRUE;case e.DONTCARE:return e.SYM_DONTCARE;case e.P:return e.SYM_P;case e.L:return e.SYM_L;case e.A:return e.SYM_A}throw new x("Unknown dimension value: "+t)}},{key:"toDimensionValue",value:function(t){switch(ut.toUpperCase(t)){case e.SYM_FALSE:return e.FALSE;case e.SYM_TRUE:return e.TRUE;case e.SYM_DONTCARE:return e.DONTCARE;case e.SYM_P:return e.P;case e.SYM_L:return e.L;case e.SYM_A:return e.A}throw new x("Unknown dimension symbol: "+t)}}]),e}();Mt.P=0,Mt.L=1,Mt.A=2,Mt.FALSE=-1,Mt.TRUE=-2,Mt.DONTCARE=-3,Mt.SYM_FALSE="F",Mt.SYM_TRUE="T",Mt.SYM_DONTCARE="*",Mt.SYM_P="0",Mt.SYM_L="1",Mt.SYM_A="2";var Lt=function(){function e(){t(this,e)}return n(e,[{key:"filter",value:function(t){}}]),e}(),Pt=function(){function e(){t(this,e)}return n(e,[{key:"filter",value:function(t,e){}},{key:"isDone",value:function(){}},{key:"isGeometryChanged",value:function(){}}]),e}(),Ct=function(e){r(s,e);var o=c(s);function s(){var e;return t(this,s),e=o.call(this),s.constructor_.apply(l(e),arguments),e}return n(s,[{key:"computeEnvelopeInternal",value:function(){return this.isEmpty()?new X:this._points.expandEnvelope(new X)}},{key:"isRing",value:function(){return this.isClosed()&&this.isSimple()}},{key:"getCoordinates",value:function(){return this._points.toCoordinateArray()}},{key:"copyInternal",value:function(){return new s(this._points.copy(),this._factory)}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof U){var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var n=t;if(this._points.size()!==n._points.size())return!1;for(var r=0;r<this._points.size();r++)if(!this.equal(this._points.getCoordinate(r),n._points.getCoordinate(r),e))return!1;return!0}return f(i(s.prototype),"equalsExact",this).apply(this,arguments)}},{key:"normalize",value:function(){for(var t=0;t<Math.trunc(this._points.size()/2);t++){var e=this._points.size()-1-t;if(!this._points.getCoordinate(t).equals(this._points.getCoordinate(e))){if(this._points.getCoordinate(t).compareTo(this._points.getCoordinate(e))>0){var n=this._points.copy();St.reverse(n),this._points=n}return null}}}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._points.getCoordinate(0)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?Mt.FALSE:0}},{key:"isClosed",value:function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))}},{key:"reverseInternal",value:function(){var t=this._points.copy();return St.reverse(t),this.getFactory().createLineString(t)}},{key:"getEndPoint",value:function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)}},{key:"getTypeCode",value:function(){return U.TYPECODE_LINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getLength",value:function(){return It.ofLine(this._points)}},{key:"getNumPoints",value:function(){return this._points.size()}},{key:"compareToSameClass",value:function(){if(1===arguments.length){for(var t=arguments[0],e=0,n=0;e<this._points.size()&&n<t._points.size();){var r=this._points.getCoordinate(e).compareTo(t._points.getCoordinate(n));if(0!==r)return r;e++,n++}return e<this._points.size()?1:n<t._points.size()?-1:0}if(2===arguments.length){var i=arguments[0];return arguments[1].compare(this._points,i._points)}}},{key:"apply",value:function(){if(ot(arguments[0],wt))for(var t=arguments[0],e=0;e<this._points.size();e++)t.filter(this._points.getCoordinate(e));else if(ot(arguments[0],Pt)){var n=arguments[0];if(0===this._points.size())return null;for(var r=0;r<this._points.size()&&(n.filter(this._points,r),!n.isDone());r++);n.isGeometryChanged()&&this.geometryChanged()}else(ot(arguments[0],Lt)||ot(arguments[0],E))&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){throw new J}},{key:"isEquivalentClass",value:function(t){return t instanceof s}},{key:"getCoordinateN",value:function(t){return this._points.getCoordinate(t)}},{key:"getGeometryType",value:function(){return U.TYPENAME_LINESTRING}},{key:"getCoordinateSequence",value:function(){return this._points}},{key:"isEmpty",value:function(){return 0===this._points.size()}},{key:"init",value:function(t){if(null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),1===t.size())throw new x("Invalid number of points in LineString (found "+t.size()+" - must be 0 or >= 2)");this._points=t}},{key:"isCoordinate",value:function(t){for(var e=0;e<this._points.size();e++)if(this._points.getCoordinate(e).equals(t))return!0;return!1}},{key:"getStartPoint",value:function(){return this.isEmpty()?null:this.getPointN(0)}},{key:"getPointN",value:function(t){return this.getFactory().createPoint(this._points.getCoordinate(t))}},{key:"interfaces_",get:function(){return[Nt]}}],[{key:"constructor_",value:function(){if(this._points=null,0===arguments.length);else if(2===arguments.length){var t=arguments[0],e=arguments[1];U.constructor_.call(this,e),this.init(t)}}}]),s}(U),Tt=function e(){t(this,e)},Ot=function(e){r(s,e);var o=c(s);function s(){var e;return t(this,s),e=o.call(this),s.constructor_.apply(l(e),arguments),e}return n(s,[{key:"computeEnvelopeInternal",value:function(){if(this.isEmpty())return new X;var t=new X;return t.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),t}},{key:"getCoordinates",value:function(){return this.isEmpty()?[]:[this.getCoordinate()]}},{key:"copyInternal",value:function(){return new s(this._coordinates.copy(),this._factory)}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof U){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&(!(!this.isEmpty()||!t.isEmpty())||this.isEmpty()===t.isEmpty()&&this.equal(t.getCoordinate(),this.getCoordinate(),e))}return f(i(s.prototype),"equalsExact",this).apply(this,arguments)}},{key:"normalize",value:function(){}},{key:"getCoordinate",value:function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null}},{key:"getBoundaryDimension",value:function(){return Mt.FALSE}},{key:"reverseInternal",value:function(){return this.getFactory().createPoint(this._coordinates.copy())}},{key:"getTypeCode",value:function(){return U.TYPECODE_POINT}},{key:"getDimension",value:function(){return 0}},{key:"getNumPoints",value:function(){return this.isEmpty()?0:1}},{key:"getX",value:function(){if(null===this.getCoordinate())throw new IllegalStateException("getX called on empty Point");return this.getCoordinate().x}},{key:"compareToSameClass",value:function(){if(1===arguments.length){var t=arguments[0];return this.getCoordinate().compareTo(t.getCoordinate())}if(2===arguments.length){var e=arguments[0];return arguments[1].compare(this._coordinates,e._coordinates)}}},{key:"apply",value:function(){if(ot(arguments[0],wt)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this.getCoordinate())}else if(ot(arguments[0],Pt)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this._coordinates,0),e.isGeometryChanged()&&this.geometryChanged()}else(ot(arguments[0],Lt)||ot(arguments[0],E))&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return U.TYPENAME_POINT}},{key:"getCoordinateSequence",value:function(){return this._coordinates}},{key:"getY",value:function(){if(null===this.getCoordinate())throw new IllegalStateException("getY called on empty Point");return this.getCoordinate().y}},{key:"isEmpty",value:function(){return 0===this._coordinates.size()}},{key:"init",value:function(t){null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),V.isTrue(t.size()<=1),this._coordinates=t}},{key:"isSimple",value:function(){return!0}},{key:"interfaces_",get:function(){return[Tt]}}],[{key:"constructor_",value:function(){this._coordinates=null;var t=arguments[0],e=arguments[1];U.constructor_.call(this,e),this.init(t)}}]),s}(U),Rt=function(){function e(){t(this,e)}return n(e,null,[{key:"ofRing",value:function(){if(arguments[0]instanceof Array){var t=arguments[0];return Math.abs(e.ofRingSigned(t))}if(ot(arguments[0],ct)){var n=arguments[0];return Math.abs(e.ofRingSigned(n))}}},{key:"ofRingSigned",value:function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,n=t[0].x,r=1;r<t.length-1;r++){var i=t[r].x-n,o=t[r+1].y;e+=i*(t[r-1].y-o)}return e/2}if(ot(arguments[0],ct)){var s=arguments[0],a=s.size();if(a<3)return 0;var u=new z,l=new z,h=new z;s.getCoordinate(0,l),s.getCoordinate(1,h);var c=l.x;h.x-=c;for(var f=0,g=1;g<a-1;g++)u.y=l.y,l.x=h.x,l.y=h.y,s.getCoordinate(g+1,h),h.x-=c,f+=l.x*(u.y-h.y);return f/2}}}]),e}(),At=function(){function e(){t(this,e)}return n(e,null,[{key:"sort",value:function(){var t=arguments,e=arguments[0];if(1===arguments.length)e.sort((function(t,e){return t.compareTo(e)}));else if(2===arguments.length)e.sort((function(e,n){return t[1].compare(e,n)}));else if(3===arguments.length){var n=e.slice(arguments[1],arguments[2]);n.sort();var r=e.slice(0,arguments[1]).concat(n,e.slice(arguments[2],e.length));e.splice(0,e.length);var i,o=d(r);try{for(o.s();!(i=o.n()).done;){var s=i.value;e.push(s)}}catch(t){o.e(t)}finally{o.f()}}else if(4===arguments.length){var a=e.slice(arguments[1],arguments[2]);a.sort((function(e,n){return t[3].compare(e,n)}));var u=e.slice(0,arguments[1]).concat(a,e.slice(arguments[2],e.length));e.splice(0,e.length);var l,h=d(u);try{for(h.s();!(l=h.n()).done;){var c=l.value;e.push(c)}}catch(t){h.e(t)}finally{h.f()}}}},{key:"asList",value:function(t){var e,n=new dt,r=d(t);try{for(r.s();!(e=r.n()).done;){var i=e.value;n.add(i)}}catch(t){r.e(t)}finally{r.f()}return n}},{key:"copyOf",value:function(t,e){return t.slice(0,e)}}]),e}(),Dt=function e(){t(this,e)},Ft=function(e){r(s,e);var o=c(s);function s(){var e;return t(this,s),e=o.call(this),s.constructor_.apply(l(e),arguments),e}return n(s,[{key:"computeEnvelopeInternal",value:function(){return this._shell.getEnvelopeInternal()}},{key:"getCoordinates",value:function(){if(this.isEmpty())return[];for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=this._shell.getCoordinates(),r=0;r<n.length;r++)t[++e]=n[r];for(var i=0;i<this._holes.length;i++)for(var o=this._holes[i].getCoordinates(),s=0;s<o.length;s++)t[++e]=o[s];return t}},{key:"getArea",value:function(){var t=0;t+=Rt.ofRing(this._shell.getCoordinateSequence());for(var e=0;e<this._holes.length;e++)t-=Rt.ofRing(this._holes[e].getCoordinateSequence());return t}},{key:"copyInternal",value:function(){for(var t=this._shell.copy(),e=new Array(this._holes.length).fill(null),n=0;n<this._holes.length;n++)e[n]=this._holes[n].copy();return new s(t,e,this._factory)}},{key:"isRectangle",value:function(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;for(var t=this._shell.getCoordinateSequence(),e=this.getEnvelopeInternal(),n=0;n<5;n++){var r=t.getX(n);if(r!==e.getMinX()&&r!==e.getMaxX())return!1;var i=t.getY(n);if(i!==e.getMinY()&&i!==e.getMaxY())return!1}for(var o=t.getX(0),s=t.getY(0),a=1;a<=4;a++){var u=t.getX(a),l=t.getY(a);if(u!==o==(l!==s))return!1;o=u,s=l}return!0}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof U){var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var n=t,r=this._shell,o=n._shell;if(!r.equalsExact(o,e))return!1;if(this._holes.length!==n._holes.length)return!1;for(var a=0;a<this._holes.length;a++)if(!this._holes[a].equalsExact(n._holes[a],e))return!1;return!0}return f(i(s.prototype),"equalsExact",this).apply(this,arguments)}},{key:"normalize",value:function(){if(0===arguments.length){this._shell=this.normalized(this._shell,!0);for(var t=0;t<this._holes.length;t++)this._holes[t]=this.normalized(this._holes[t],!1);At.sort(this._holes)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(e.isEmpty())return null;var r=e.getCoordinateSequence(),i=St.minCoordinateIndex(r,0,r.size()-2);St.scroll(r,i,!0),ft.isCCW(r)===n&&St.reverse(r)}}},{key:"getCoordinate",value:function(){return this._shell.getCoordinate()}},{key:"getNumInteriorRing",value:function(){return this._holes.length}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"reverseInternal",value:function(){for(var t=this.getExteriorRing().reverse(),e=new Array(this.getNumInteriorRing()).fill(null),n=0;n<e.length;n++)e[n]=this.getInteriorRingN(n).reverse();return this.getFactory().createPolygon(t,e)}},{key:"getTypeCode",value:function(){return U.TYPECODE_POLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getLength",value:function(){var t=0;t+=this._shell.getLength();for(var e=0;e<this._holes.length;e++)t+=this._holes[e].getLength();return t}},{key:"getNumPoints",value:function(){for(var t=this._shell.getNumPoints(),e=0;e<this._holes.length;e++)t+=this._holes[e].getNumPoints();return t}},{key:"convexHull",value:function(){return this.getExteriorRing().convexHull()}},{key:"normalized",value:function(t,e){var n=t.copy();return this.normalize(n,e),n}},{key:"compareToSameClass",value:function(){if(1===arguments.length){var t=arguments[0],e=this._shell,n=t._shell;return e.compareToSameClass(n)}if(2===arguments.length){var r=arguments[1],i=arguments[0],o=this._shell,s=i._shell,a=o.compareToSameClass(s,r);if(0!==a)return a;for(var u=this.getNumInteriorRing(),l=i.getNumInteriorRing(),h=0;h<u&&h<l;){var c=this.getInteriorRingN(h),f=i.getInteriorRingN(h),g=c.compareToSameClass(f,r);if(0!==g)return g;h++}return h<u?1:h<l?-1:0}}},{key:"apply",value:function(){if(ot(arguments[0],wt)){var t=arguments[0];this._shell.apply(t);for(var e=0;e<this._holes.length;e++)this._holes[e].apply(t)}else if(ot(arguments[0],Pt)){var n=arguments[0];if(this._shell.apply(n),!n.isDone())for(var r=0;r<this._holes.length&&(this._holes[r].apply(n),!n.isDone());r++);n.isGeometryChanged()&&this.geometryChanged()}else if(ot(arguments[0],Lt))arguments[0].filter(this);else if(ot(arguments[0],E)){var i=arguments[0];i.filter(this),this._shell.apply(i);for(var o=0;o<this._holes.length;o++)this._holes[o].apply(i)}}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var t=new Array(this._holes.length+1).fill(null);t[0]=this._shell;for(var e=0;e<this._holes.length;e++)t[e+1]=this._holes[e];return t.length<=1?this.getFactory().createLinearRing(t[0].getCoordinateSequence()):this.getFactory().createMultiLineString(t)}},{key:"getGeometryType",value:function(){return U.TYPENAME_POLYGON}},{key:"getExteriorRing",value:function(){return this._shell}},{key:"isEmpty",value:function(){return this._shell.isEmpty()}},{key:"getInteriorRingN",value:function(t){return this._holes[t]}},{key:"interfaces_",get:function(){return[Dt]}}],[{key:"constructor_",value:function(){this._shell=null,this._holes=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(U.constructor_.call(this,n),null===t&&(t=this.getFactory().createLinearRing()),null===e&&(e=[]),U.hasNullElements(e))throw new x("holes must not contain null elements");if(t.isEmpty()&&U.hasNonEmptyElements(e))throw new x("shell is empty but holes are not");this._shell=t,this._holes=e}}]),s}(U),qt=function(e){r(i,e);var n=c(i);function i(){return t(this,i),n.apply(this,arguments)}return i}(K),Vt=function(e){r(o,e);var i=c(o);function o(e){var n;return t(this,o),(n=i.call(this)).array=[],e instanceof H&&n.addAll(e),n}return n(o,[{key:"contains",value:function(t){var e,n=d(this.array);try{for(n.s();!(e=n.n()).done;)if(0===e.value.compareTo(t))return!0}catch(t){n.e(t)}finally{n.f()}return!1}},{key:"add",value:function(t){if(this.contains(t))return!1;for(var e=0,n=this.array.length;e<n;e++)if(1===this.array[e].compareTo(t))return!!this.array.splice(e,0,t);return this.array.push(t),!0}},{key:"addAll",value:function(t){var e,n=d(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;this.add(r)}}catch(t){n.e(t)}finally{n.f()}return!0}},{key:"remove",value:function(){throw new J}},{key:"size",value:function(){return this.array.length}},{key:"isEmpty",value:function(){return 0===this.array.length}},{key:"toArray",value:function(){return this.array.slice()}},{key:"iterator",value:function(){return new Gt(this.array)}}]),o}(qt),Gt=function(){function e(n){t(this,e),this.array=n,this.position=0}return n(e,[{key:"next",value:function(){if(this.position===this.array.length)throw new W;return this.array[this.position++]}},{key:"hasNext",value:function(){return this.position<this.array.length}},{key:"remove",value:function(){throw new J}}]),e}(),Bt=function(e){r(s,e);var o=c(s);function s(){var e;return t(this,s),e=o.call(this),s.constructor_.apply(l(e),arguments),e}return n(s,[{key:"computeEnvelopeInternal",value:function(){for(var t=new X,e=0;e<this._geometries.length;e++)t.expandToInclude(this._geometries[e].getEnvelopeInternal());return t}},{key:"getGeometryN",value:function(t){return this._geometries[t]}},{key:"getCoordinates",value:function(){for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=0;n<this._geometries.length;n++)for(var r=this._geometries[n].getCoordinates(),i=0;i<r.length;i++)t[++e]=r[i];return t}},{key:"getArea",value:function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getArea();return t}},{key:"copyInternal",value:function(){for(var t=new Array(this._geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this._geometries[e].copy();return new s(t,this._factory)}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof U){var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var n=t;if(this._geometries.length!==n._geometries.length)return!1;for(var r=0;r<this._geometries.length;r++)if(!this._geometries[r].equalsExact(n._geometries[r],e))return!1;return!0}return f(i(s.prototype),"equalsExact",this).apply(this,arguments)}},{key:"normalize",value:function(){for(var t=0;t<this._geometries.length;t++)this._geometries[t].normalize();At.sort(this._geometries)}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()}},{key:"getBoundaryDimension",value:function(){for(var t=Mt.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getBoundaryDimension());return t}},{key:"reverseInternal",value:function(){for(var t=this._geometries.length,e=new dt(t),n=0;n<t;n++)e.add(this._geometries[n].reverse());return this.getFactory().buildGeometry(e)}},{key:"getTypeCode",value:function(){return U.TYPECODE_GEOMETRYCOLLECTION}},{key:"getDimension",value:function(){for(var t=Mt.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getDimension());return t}},{key:"getLength",value:function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getLength();return t}},{key:"getNumPoints",value:function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getNumPoints();return t}},{key:"getNumGeometries",value:function(){return this._geometries.length}},{key:"compareToSameClass",value:function(){if(1===arguments.length){var t=arguments[0],e=new Vt(At.asList(this._geometries)),n=new Vt(At.asList(t._geometries));return this.compare(e,n)}if(2===arguments.length){for(var r=arguments[1],i=arguments[0],o=this.getNumGeometries(),s=i.getNumGeometries(),a=0;a<o&&a<s;){var u=this.getGeometryN(a),l=i.getGeometryN(a),h=u.compareToSameClass(l,r);if(0!==h)return h;a++}return a<o?1:a<s?-1:0}}},{key:"apply",value:function(){if(ot(arguments[0],wt))for(var t=arguments[0],e=0;e<this._geometries.length;e++)this._geometries[e].apply(t);else if(ot(arguments[0],Pt)){var n=arguments[0];if(0===this._geometries.length)return null;for(var r=0;r<this._geometries.length&&(this._geometries[r].apply(n),!n.isDone());r++);n.isGeometryChanged()&&this.geometryChanged()}else if(ot(arguments[0],Lt)){var i=arguments[0];i.filter(this);for(var o=0;o<this._geometries.length;o++)this._geometries[o].apply(i)}else if(ot(arguments[0],E)){var s=arguments[0];s.filter(this);for(var a=0;a<this._geometries.length;a++)this._geometries[a].apply(s)}}},{key:"getBoundary",value:function(){return U.checkNotGeometryCollection(this),V.shouldNeverReachHere(),null}},{key:"getGeometryType",value:function(){return U.TYPENAME_GEOMETRYCOLLECTION}},{key:"isEmpty",value:function(){for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isEmpty())return!1;return!0}}],[{key:"constructor_",value:function(){if(this._geometries=null,0===arguments.length);else if(2===arguments.length){var t=arguments[0],e=arguments[1];if(U.constructor_.call(this,e),null===t&&(t=[]),U.hasNullElements(t))throw new x("geometries must not contain null elements");this._geometries=t}}}]),s}(U),Yt=function(e){r(s,e);var o=c(s);function s(){var e;return t(this,s),e=o.call(this),s.constructor_.apply(l(e),arguments),e}return n(s,[{key:"copyInternal",value:function(){for(var t=new Array(this._geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this._geometries[e].copy();return new s(t,this._factory)}},{key:"isValid",value:function(){return!0}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof U){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&f(i(s.prototype),"equalsExact",this).call(this,t,e)}return f(i(s.prototype),"equalsExact",this).apply(this,arguments)}},{key:"getCoordinate",value:function(){if(1===arguments.length&&Number.isInteger(arguments[0])){var t=arguments[0];return this._geometries[t].getCoordinate()}return f(i(s.prototype),"getCoordinate",this).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return Mt.FALSE}},{key:"getTypeCode",value:function(){return U.TYPECODE_MULTIPOINT}},{key:"getDimension",value:function(){return 0}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return U.TYPENAME_MULTIPOINT}},{key:"interfaces_",get:function(){return[Tt]}}],[{key:"constructor_",value:function(){var t=arguments[0],e=arguments[1];Bt.constructor_.call(this,t,e)}}]),s}(Bt),zt=function(e){r(s,e);var o=c(s);function s(){var e;return t(this,s),e=o.call(this),s.constructor_.apply(l(e),arguments),e}return n(s,[{key:"copyInternal",value:function(){return new s(this._points.copy(),this._factory)}},{key:"getBoundaryDimension",value:function(){return Mt.FALSE}},{key:"isClosed",value:function(){return!!this.isEmpty()||f(i(s.prototype),"isClosed",this).call(this)}},{key:"reverseInternal",value:function(){var t=this._points.copy();return St.reverse(t),this.getFactory().createLinearRing(t)}},{key:"getTypeCode",value:function(){return U.TYPECODE_LINEARRING}},{key:"validateConstruction",value:function(){if(!this.isEmpty()&&!f(i(s.prototype),"isClosed",this).call(this))throw new x("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<s.MINIMUM_VALID_SIZE)throw new x("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")}},{key:"getGeometryType",value:function(){return U.TYPENAME_LINEARRING}}],[{key:"constructor_",value:function(){var t=arguments[0],e=arguments[1];Ct.constructor_.call(this,t,e),this.validateConstruction()}}]),s}(Ct);zt.MINIMUM_VALID_SIZE=4;var jt=function(e){r(o,e);var i=c(o);function o(){var e;return t(this,o),e=i.call(this),o.constructor_.apply(l(e),arguments),e}return n(o,[{key:"setOrdinate",value:function(t,e){switch(t){case o.X:this.x=e;break;case o.Y:this.y=e;break;default:throw new x("Invalid ordinate index: "+t)}}},{key:"getZ",value:function(){return z.NULL_ORDINATE}},{key:"getOrdinate",value:function(t){switch(t){case o.X:return this.x;case o.Y:return this.y}throw new x("Invalid ordinate index: "+t)}},{key:"setZ",value:function(t){throw new x("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new o(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+")"}},{key:"setCoordinate",value:function(t){this.x=t.x,this.y=t.y,this.z=t.getZ()}}],[{key:"constructor_",value:function(){if(0===arguments.length)z.constructor_.call(this);else if(1===arguments.length){if(arguments[0]instanceof o){var t=arguments[0];z.constructor_.call(this,t.x,t.y)}else if(arguments[0]instanceof z){var e=arguments[0];z.constructor_.call(this,e.x,e.y)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];z.constructor_.call(this,n,r,z.NULL_ORDINATE)}}}]),o}(z);jt.X=0,jt.Y=1,jt.Z=-1,jt.M=-1;var Xt=function(e){r(o,e);var i=c(o);function o(){var e;return t(this,o),e=i.call(this),o.constructor_.apply(l(e),arguments),e}return n(o,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(t,e){switch(t){case o.X:this.x=e;break;case o.Y:this.y=e;break;case o.M:this._m=e;break;default:throw new x("Invalid ordinate index: "+t)}}},{key:"setM",value:function(t){this._m=t}},{key:"getZ",value:function(){return z.NULL_ORDINATE}},{key:"getOrdinate",value:function(t){switch(t){case o.X:return this.x;case o.Y:return this.y;case o.M:return this._m}throw new x("Invalid ordinate index: "+t)}},{key:"setZ",value:function(t){throw new x("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new o(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(t){this.x=t.x,this.y=t.y,this.z=t.getZ(),this._m=t.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,0===arguments.length)z.constructor_.call(this),this._m=0;else if(1===arguments.length){if(arguments[0]instanceof o){var t=arguments[0];z.constructor_.call(this,t.x,t.y),this._m=t._m}else if(arguments[0]instanceof z){var e=arguments[0];z.constructor_.call(this,e.x,e.y),this._m=this.getM()}}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];z.constructor_.call(this,n,r,z.NULL_ORDINATE),this._m=i}}}]),o}(z);Xt.X=0,Xt.Y=1,Xt.Z=-1,Xt.M=2;var Ut=function(e){r(o,e);var i=c(o);function o(){var e;return t(this,o),e=i.call(this),o.constructor_.apply(l(e),arguments),e}return n(o,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(t,e){switch(t){case z.X:this.x=e;break;case z.Y:this.y=e;break;case z.Z:this.z=e;break;case z.M:this._m=e;break;default:throw new x("Invalid ordinate index: "+t)}}},{key:"setM",value:function(t){this._m=t}},{key:"getOrdinate",value:function(t){switch(t){case z.X:return this.x;case z.Y:return this.y;case z.Z:return this.getZ();case z.M:return this.getM()}throw new x("Invalid ordinate index: "+t)}},{key:"copy",value:function(){return new o(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(t){this.x=t.x,this.y=t.y,this.z=t.getZ(),this._m=t.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,0===arguments.length)z.constructor_.call(this),this._m=0;else if(1===arguments.length){if(arguments[0]instanceof o){var t=arguments[0];z.constructor_.call(this,t),this._m=t._m}else if(arguments[0]instanceof z){var e=arguments[0];z.constructor_.call(this,e),this._m=this.getM()}}else if(4===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],s=arguments[3];z.constructor_.call(this,n,r,i),this._m=s}}}]),o}(z),Zt=function(){function e(){t(this,e)}return n(e,null,[{key:"measures",value:function(t){return t instanceof jt?0:t instanceof Xt||t instanceof Ut?1:0}},{key:"dimension",value:function(t){return t instanceof jt?2:t instanceof Xt?3:t instanceof Ut?4:3}},{key:"create",value:function(){if(1===arguments.length){var t=arguments[0];return e.create(t,0)}if(2===arguments.length){var n=arguments[0],r=arguments[1];return 2===n?new jt:3===n&&0===r?new z:3===n&&1===r?new Xt:4===n&&1===r?new Ut:new z}}}]),e}(),Ht=function(e){r(s,e);var o=c(s);function s(){var e;return t(this,s),e=o.call(this),s.constructor_.apply(l(e),arguments),e}return n(s,[{key:"getCoordinate",value:function(t){return this.get(t)}},{key:"addAll",value:function(){if(2===arguments.length&&"boolean"==typeof arguments[1]&&ot(arguments[0],H)){for(var t=arguments[1],e=!1,n=arguments[0].iterator();n.hasNext();)this.add(n.next(),t),e=!0;return e}return f(i(s.prototype),"addAll",this).apply(this,arguments)}},{key:"clone",value:function(){for(var t=f(i(s.prototype),"clone",this).call(this),e=0;e<this.size();e++)t.add(e,this.get(e).clone());return t}},{key:"toCoordinateArray",value:function(){if(0===arguments.length)return this.toArray(s.coordArrayType);if(1===arguments.length){if(arguments[0])return this.toArray(s.coordArrayType);for(var t=this.size(),e=new Array(t).fill(null),n=0;n<t;n++)e[n]=this.get(t-n-1);return e}}},{key:"add",value:function(){if(1===arguments.length){var t=arguments[0];return f(i(s.prototype),"add",this).call(this,t)}if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var e=arguments[0],n=arguments[1];return this.add(e,n,!0),!0}if(arguments[0]instanceof z&&"boolean"==typeof arguments[1]){var r=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(r))return null;f(i(s.prototype),"add",this).call(this,r)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var o=arguments[0],a=arguments[1];return this.add(o,a),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var u=arguments[0],l=arguments[1];if(arguments[2])for(var h=0;h<u.length;h++)this.add(u[h],l);else for(var c=u.length-1;c>=0;c--)this.add(u[c],l);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof z){var g=arguments[0],p=arguments[1];if(!arguments[2]){var v=this.size();if(v>0){if(g>0&&this.get(g-1).equals2D(p))return null;if(g<v&&this.get(g).equals2D(p))return null}}f(i(s.prototype),"add",this).call(this,g,p)}}else if(4===arguments.length){var d=arguments[0],y=arguments[1],m=arguments[2],_=arguments[3],x=1;m>_&&(x=-1);for(var E=m;E!==_;E+=x)this.add(d[E],y);return!0}}},{key:"closeRing",value:function(){if(this.size()>0){var t=this.get(0).copy();this.add(t,!1)}}}],[{key:"constructor_",value:function(){if(0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.ensureCapacity(t.length),this.add(t,!0)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.ensureCapacity(e.length),this.add(e,n)}}}]),s}(dt);Ht.coordArrayType=new Array(0).fill(null);var Wt=function(){function e(){t(this,e)}return n(e,null,[{key:"isRing",value:function(t){return!(t.length<4||!t[0].equals2D(t[t.length-1]))}},{key:"ptNotInList",value:function(t,n){for(var r=0;r<t.length;r++){var i=t[r];if(e.indexOf(i,n)<0)return i}return null}},{key:"scroll",value:function(t,n){var r=e.indexOf(n,t);if(r<0)return null;var i=new Array(t.length).fill(null);xt.arraycopy(t,r,i,0,t.length-r),xt.arraycopy(t,0,i,t.length-r,r),xt.arraycopy(i,0,t,0,t.length)}},{key:"equals",value:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];if(r===i)return!0;if(null===r||null===i)return!1;if(r.length!==i.length)return!1;for(var s=0;s<r.length;s++)if(0!==o.compare(r[s],i[s]))return!1;return!0}}},{key:"intersection",value:function(t,e){for(var n=new Ht,r=0;r<t.length;r++)e.intersects(t[r])&&n.add(t[r],!0);return n.toCoordinateArray()}},{key:"measures",value:function(t){if(null===t||0===t.length)return 0;var e,n=0,r=d(t);try{for(r.s();!(e=r.n()).done;){var i=e.value;n=Math.max(n,Zt.measures(i))}}catch(t){r.e(t)}finally{r.f()}return n}},{key:"hasRepeatedPoints",value:function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1}},{key:"removeRepeatedPoints",value:function(t){return e.hasRepeatedPoints(t)?new Ht(t,!1).toCoordinateArray():t}},{key:"reverse",value:function(t){for(var e=t.length-1,n=Math.trunc(e/2),r=0;r<=n;r++){var i=t[r];t[r]=t[e-r],t[e-r]=i}}},{key:"removeNull",value:function(t){for(var e=0,n=0;n<t.length;n++)null!==t[n]&&e++;var r=new Array(e).fill(null);if(0===e)return r;for(var i=0,o=0;o<t.length;o++)null!==t[o]&&(r[i++]=t[o]);return r}},{key:"copyDeep",value:function(){if(1===arguments.length){for(var t=arguments[0],e=new Array(t.length).fill(null),n=0;n<t.length;n++)e[n]=t[n].copy();return e}if(5===arguments.length)for(var r=arguments[0],i=arguments[1],o=arguments[2],s=arguments[3],a=arguments[4],u=0;u<a;u++)o[s+u]=r[i+u].copy()}},{key:"isEqualReversed",value:function(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=e[t.length-n-1];if(0!==r.compareTo(i))return!1}return!0}},{key:"envelope",value:function(t){for(var e=new X,n=0;n<t.length;n++)e.expandToInclude(t[n]);return e}},{key:"toCoordinateArray",value:function(t){return t.toArray(e.coordArrayType)}},{key:"dimension",value:function(t){if(null===t||0===t.length)return 3;var e,n=0,r=d(t);try{for(r.s();!(e=r.n()).done;){var i=e.value;n=Math.max(n,Zt.dimension(i))}}catch(t){r.e(t)}finally{r.f()}return n}},{key:"atLeastNCoordinatesOrNothing",value:function(t,e){return e.length>=t?e:[]}},{key:"indexOf",value:function(t,e){for(var n=0;n<e.length;n++)if(t.equals(e[n]))return n;return-1}},{key:"increasingDirection",value:function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var n=t.length-1-e,r=t[e].compareTo(t[n]);if(0!==r)return r}return 1}},{key:"compare",value:function(t,e){for(var n=0;n<t.length&&n<e.length;){var r=t[n].compareTo(e[n]);if(0!==r)return r;n++}return n<e.length?-1:n<t.length?1:0}},{key:"minCoordinate",value:function(t){for(var e=null,n=0;n<t.length;n++)(null===e||e.compareTo(t[n])>0)&&(e=t[n]);return e}},{key:"extract",value:function(t,e,n){e=Et.clamp(e,0,t.length);var r=(n=Et.clamp(n,-1,t.length))-e+1;n<0&&(r=0),e>=t.length&&(r=0),n<e&&(r=0);var i=new Array(r).fill(null);if(0===r)return i;for(var o=0,s=e;s<=n;s++)i[o++]=t[s];return i}}]),e}(),Jt=function(){function e(){t(this,e)}return n(e,[{key:"compare",value:function(t,e){var n=t,r=e;return Wt.compare(n,r)}},{key:"interfaces_",get:function(){return[D]}}]),e}(),Kt=function(){function e(){t(this,e)}return n(e,[{key:"compare",value:function(t,e){var n=t,r=e;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;var i=Wt.compare(n,r);return Wt.isEqualReversed(n,r)?0:i}},{key:"OLDcompare",value:function(t,e){var n=t,r=e;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;for(var i=Wt.increasingDirection(n),o=Wt.increasingDirection(r),s=i>0?0:n.length-1,a=o>0?0:n.length-1,u=0;u<n.length;u++){var l=n[s].compareTo(r[a]);if(0!==l)return l;s+=i,a+=o}return 0}},{key:"interfaces_",get:function(){return[D]}}]),e}();Wt.ForwardComparator=Jt,Wt.BidirectionalComparator=Kt,Wt.coordArrayType=new Array(0).fill(null);var Qt=function(){function e(n){t(this,e),this.str=n}return n(e,[{key:"append",value:function(t){this.str+=t}},{key:"setCharAt",value:function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)}},{key:"toString",value:function(){return this.str}}]),e}(),$t=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"getM",value:function(t){return this.hasM()?this._coordinates[t].getM():A.NaN}},{key:"setOrdinate",value:function(t,e,n){switch(e){case ct.X:this._coordinates[t].x=n;break;case ct.Y:this._coordinates[t].y=n;break;default:this._coordinates[t].setOrdinate(e,n)}}},{key:"getZ",value:function(t){return this.hasZ()?this._coordinates[t].getZ():A.NaN}},{key:"size",value:function(){return this._coordinates.length}},{key:"getOrdinate",value:function(t,e){switch(e){case ct.X:return this._coordinates[t].x;case ct.Y:return this._coordinates[t].y;default:return this._coordinates[t].getOrdinate(e)}}},{key:"getCoordinate",value:function(){if(1===arguments.length){var t=arguments[0];return this._coordinates[t]}if(2===arguments.length){var e=arguments[0];arguments[1].setCoordinate(this._coordinates[e])}}},{key:"getCoordinateCopy",value:function(t){var e=this.createCoordinate();return e.setCoordinate(this._coordinates[t]),e}},{key:"createCoordinate",value:function(){return Zt.create(this.getDimension(),this.getMeasures())}},{key:"getDimension",value:function(){return this._dimension}},{key:"getX",value:function(t){return this._coordinates[t].x}},{key:"getMeasures",value:function(){return this._measures}},{key:"expandEnvelope",value:function(t){for(var e=0;e<this._coordinates.length;e++)t.expandToInclude(this._coordinates[e]);return t}},{key:"copy",value:function(){for(var t=new Array(this.size()).fill(null),n=0;n<this._coordinates.length;n++){var r=this.createCoordinate();r.setCoordinate(this._coordinates[n]),t[n]=r}return new e(t,this._dimension,this._measures)}},{key:"toString",value:function(){if(this._coordinates.length>0){var t=new Qt(17*this._coordinates.length);t.append("("),t.append(this._coordinates[0]);for(var e=1;e<this._coordinates.length;e++)t.append(", "),t.append(this._coordinates[e]);return t.append(")"),t.toString()}return"()"}},{key:"getY",value:function(t){return this._coordinates[t].y}},{key:"toCoordinateArray",value:function(){return this._coordinates}},{key:"interfaces_",get:function(){return[ct,w]}}],[{key:"constructor_",value:function(){if(this._dimension=3,this._measures=0,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];e.constructor_.call(this,t,Wt.dimension(t),Wt.measures(t))}else if(Number.isInteger(arguments[0])){var n=arguments[0];this._coordinates=new Array(n).fill(null);for(var r=0;r<n;r++)this._coordinates[r]=new z}else if(ot(arguments[0],ct)){var i=arguments[0];if(null===i)return this._coordinates=new Array(0).fill(null),null;this._dimension=i.getDimension(),this._measures=i.getMeasures(),this._coordinates=new Array(i.size()).fill(null);for(var o=0;o<this._coordinates.length;o++)this._coordinates[o]=i.getCoordinateCopy(o)}}else if(2===arguments.length){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var s=arguments[0],a=arguments[1];e.constructor_.call(this,s,a,Wt.measures(s))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var u=arguments[0],l=arguments[1];this._coordinates=new Array(u).fill(null),this._dimension=l;for(var h=0;h<u;h++)this._coordinates[h]=Zt.create(l)}}else if(3===arguments.length)if(Number.isInteger(arguments[2])&&arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var c=arguments[0],f=arguments[1],g=arguments[2];this._dimension=f,this._measures=g,this._coordinates=null===c?new Array(0).fill(null):c}else if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var p=arguments[0],v=arguments[1],d=arguments[2];this._coordinates=new Array(p).fill(null),this._dimension=v,this._measures=d;for(var y=0;y<p;y++)this._coordinates[y]=this.createCoordinate()}}}]),e}(),te=function(){function e(){t(this,e)}return n(e,[{key:"readResolve",value:function(){return e.instance()}},{key:"create",value:function(){if(1===arguments.length){if(arguments[0]instanceof Array)return new $t(arguments[0]);if(ot(arguments[0],ct))return new $t(arguments[0])}else{if(2===arguments.length){var t=arguments[1];return t>3&&(t=3),t<2&&(t=2),new $t(arguments[0],t)}if(3===arguments.length){var e=arguments[2],n=arguments[1]-e;return e>1&&(e=1),n>3&&(n=3),n<2&&(n=2),new $t(arguments[0],n+e,e)}}}},{key:"interfaces_",get:function(){return[bt,w]}}],[{key:"instance",value:function(){return e.instanceObject}}]),e}();te.instanceObject=new te;var ee=function(e){r(s,e);var o=c(s);function s(){var e;return t(this,s),e=o.call(this),s.constructor_.apply(l(e),arguments),e}return n(s,[{key:"copyInternal",value:function(){for(var t=new Array(this._geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this._geometries[e].copy();return new s(t,this._factory)}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof U){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&f(i(s.prototype),"equalsExact",this).call(this,t,e)}return f(i(s.prototype),"equalsExact",this).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"getTypeCode",value:function(){return U.TYPECODE_MULTIPOLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var t=new dt,e=0;e<this._geometries.length;e++)for(var n=this._geometries[e].getBoundary(),r=0;r<n.getNumGeometries();r++)t.add(n.getGeometryN(r));var i=new Array(t.size()).fill(null);return this.getFactory().createMultiLineString(t.toArray(i))}},{key:"getGeometryType",value:function(){return U.TYPENAME_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[Dt]}}],[{key:"constructor_",value:function(){var t=arguments[0],e=arguments[1];Bt.constructor_.call(this,t,e)}}]),s}(Bt),ne=function(){function e(){t(this,e)}return n(e,[{key:"get",value:function(){}},{key:"put",value:function(){}},{key:"size",value:function(){}},{key:"values",value:function(){}},{key:"entrySet",value:function(){}}]),e}(),re=function(e){r(o,e);var i=c(o);function o(){var e;return t(this,o),(e=i.call(this)).map=new Map,e}return n(o,[{key:"get",value:function(t){return this.map.get(t)||null}},{key:"put",value:function(t,e){return this.map.set(t,e),e}},{key:"values",value:function(){for(var t=new dt,e=this.map.values(),n=e.next();!n.done;)t.add(n.value),n=e.next();return t}},{key:"entrySet",value:function(){var t=new Q;return this.map.entries().forEach((function(e){return t.add(e)})),t}},{key:"size",value:function(){return this.map.size()}}]),o}(ne),ie=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"equals",value:function(t){if(!(t instanceof e))return!1;var n=t;return this._modelType===n._modelType&&this._scale===n._scale}},{key:"compareTo",value:function(t){var e=t,n=this.getMaximumSignificantDigits(),r=e.getMaximumSignificantDigits();return at.compare(n,r)}},{key:"getScale",value:function(){return this._scale}},{key:"isFloating",value:function(){return this._modelType===e.FLOATING||this._modelType===e.FLOATING_SINGLE}},{key:"getType",value:function(){return this._modelType}},{key:"toString",value:function(){var t="UNKNOWN";return this._modelType===e.FLOATING?t="Floating":this._modelType===e.FLOATING_SINGLE?t="Floating-Single":this._modelType===e.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t}},{key:"makePrecise",value:function(){if("number"==typeof arguments[0]){var t=arguments[0];return A.isNaN(t)||this._modelType===e.FLOATING_SINGLE?t:this._modelType===e.FIXED?Math.round(t*this._scale)/this._scale:t}if(arguments[0]instanceof z){var n=arguments[0];if(this._modelType===e.FLOATING)return null;n.x=this.makePrecise(n.x),n.y=this.makePrecise(n.y)}}},{key:"getMaximumSignificantDigits",value:function(){var t=16;return this._modelType===e.FLOATING?t=16:this._modelType===e.FLOATING_SINGLE?t=6:this._modelType===e.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t}},{key:"setScale",value:function(t){this._scale=Math.abs(t)}},{key:"interfaces_",get:function(){return[w,k]}}],[{key:"constructor_",value:function(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=e.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof oe){var t=arguments[0];this._modelType=t,t===e.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var n=arguments[0];this._modelType=e.FIXED,this.setScale(n)}else if(arguments[0]instanceof e){var r=arguments[0];this._modelType=r._modelType,this._scale=r._scale}}},{key:"mostPrecise",value:function(t,e){return t.compareTo(e)>=0?t:e}}]),e}(),oe=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"readResolve",value:function(){return e.nameToTypeMap.get(this._name)}},{key:"toString",value:function(){return this._name}},{key:"interfaces_",get:function(){return[w]}}],[{key:"constructor_",value:function(){this._name=null;var t=arguments[0];this._name=t,e.nameToTypeMap.put(t,this)}}]),e}();oe.nameToTypeMap=new re,ie.Type=oe,ie.FIXED=new oe("FIXED"),ie.FLOATING=new oe("FLOATING"),ie.FLOATING_SINGLE=new oe("FLOATING SINGLE"),ie.maximumPreciseValue=9007199254740992;var se=function(e){r(s,e);var o=c(s);function s(){var e;return t(this,s),e=o.call(this),s.constructor_.apply(l(e),arguments),e}return n(s,[{key:"copyInternal",value:function(){for(var t=new Array(this._geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this._geometries[e].copy();return new s(t,this._factory)}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof U){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&f(i(s.prototype),"equalsExact",this).call(this,t,e)}return f(i(s.prototype),"equalsExact",this).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?Mt.FALSE:0}},{key:"isClosed",value:function(){if(this.isEmpty())return!1;for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isClosed())return!1;return!0}},{key:"getTypeCode",value:function(){return U.TYPECODE_MULTILINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getBoundary",value:function(){throw new J}},{key:"getGeometryType",value:function(){return U.TYPENAME_MULTILINESTRING}},{key:"interfaces_",get:function(){return[Nt]}}],[{key:"constructor_",value:function(){var t=arguments[0],e=arguments[1];Bt.constructor_.call(this,t,e)}}]),s}(Bt),ae=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"createEmpty",value:function(t){switch(t){case-1:return this.createGeometryCollection();case 0:return this.createPoint();case 1:return this.createLineString();case 2:return this.createPolygon();default:throw new x("Invalid dimension: "+t)}}},{key:"toGeometry",value:function(t){return t.isNull()?this.createPoint():t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new z(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new z(t.getMinX(),t.getMinY()),new z(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new z(t.getMinX(),t.getMinY()),new z(t.getMinX(),t.getMaxY()),new z(t.getMaxX(),t.getMaxY()),new z(t.getMaxX(),t.getMinY()),new z(t.getMinX(),t.getMinY())]),null)}},{key:"createLineString",value:function(){if(0===arguments.length)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLineString(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(ot(arguments[0],ct))return new Ct(arguments[0],this)}}},{key:"createMultiLineString",value:function(){return 0===arguments.length?new se(null,this):1===arguments.length?new se(arguments[0],this):void 0}},{key:"buildGeometry",value:function(t){for(var n=null,r=!1,i=!1,o=t.iterator();o.hasNext();){var s=o.next(),a=s.getTypeCode();null===n&&(n=a),a!==n&&(r=!0),s instanceof Bt&&(i=!0)}if(null===n)return this.createGeometryCollection();if(r||i)return this.createGeometryCollection(e.toGeometryArray(t));var u=t.iterator().next();if(t.size()>1){if(u instanceof Ft)return this.createMultiPolygon(e.toPolygonArray(t));if(u instanceof Ct)return this.createMultiLineString(e.toLineStringArray(t));if(u instanceof Ot)return this.createMultiPoint(e.toPointArray(t));V.shouldNeverReachHere("Unhandled geometry type: "+u.getGeometryType())}return u}},{key:"createMultiPointFromCoords",value:function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)}},{key:"createPoint",value:function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof z){var t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if(ot(arguments[0],ct))return new Ot(arguments[0],this)}}},{key:"getCoordinateSequenceFactory",value:function(){return this._coordinateSequenceFactory}},{key:"createPolygon",value:function(){if(0===arguments.length)return this.createPolygon(null,null);if(1===arguments.length){if(ot(arguments[0],ct)){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof Array){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof zt){var n=arguments[0];return this.createPolygon(n,null)}}else if(2===arguments.length)return new Ft(arguments[0],arguments[1],this)}},{key:"getSRID",value:function(){return this._SRID}},{key:"createGeometryCollection",value:function(){return 0===arguments.length?new Bt(null,this):1===arguments.length?new Bt(arguments[0],this):void 0}},{key:"getPrecisionModel",value:function(){return this._precisionModel}},{key:"createLinearRing",value:function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(ot(arguments[0],ct))return new zt(arguments[0],this)}}},{key:"createMultiPolygon",value:function(){return 0===arguments.length?new ee(null,this):1===arguments.length?new ee(arguments[0],this):void 0}},{key:"createMultiPoint",value:function(){if(0===arguments.length)return new Yt(null,this);if(1===arguments.length){if(arguments[0]instanceof Array)return new Yt(arguments[0],this);if(ot(arguments[0],ct)){var t=arguments[0];if(null===t)return this.createMultiPoint(new Array(0).fill(null));for(var e=new Array(t.size()).fill(null),n=0;n<t.size();n++){var r=this.getCoordinateSequenceFactory().create(1,t.getDimension(),t.getMeasures());St.copy(t,n,r,0,1),e[n]=this.createPoint(r)}return this.createMultiPoint(e)}}}},{key:"interfaces_",get:function(){return[w]}}],[{key:"constructor_",value:function(){if(this._precisionModel=null,this._coordinateSequenceFactory=null,this._SRID=null,0===arguments.length)e.constructor_.call(this,new ie,0);else if(1===arguments.length){if(ot(arguments[0],bt)){var t=arguments[0];e.constructor_.call(this,new ie,0,t)}else if(arguments[0]instanceof ie){var n=arguments[0];e.constructor_.call(this,n,0,e.getDefaultCoordinateSequenceFactory())}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];e.constructor_.call(this,r,i,e.getDefaultCoordinateSequenceFactory())}else if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];this._precisionModel=o,this._coordinateSequenceFactory=a,this._SRID=s}}},{key:"toMultiPolygonArray",value:function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)}},{key:"toGeometryArray",value:function(t){if(null===t)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)}},{key:"getDefaultCoordinateSequenceFactory",value:function(){return te.instance()}},{key:"toMultiLineStringArray",value:function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)}},{key:"toLineStringArray",value:function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)}},{key:"toMultiPointArray",value:function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)}},{key:"toLinearRingArray",value:function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)}},{key:"toPointArray",value:function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)}},{key:"toPolygonArray",value:function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)}},{key:"createPointFromInternalCoord",value:function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)}}]),e}(),ue="XY",le="XYZ",he="XYM",ce="XYZM",fe={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},ge="EMPTY",pe=1,ve=2,de=3,ye=4,me=5,_e=6;for(var xe in fe)fe[xe].toUpperCase();var Ee=function(){function e(n){t(this,e),this.wkt=n,this.index_=-1}return n(e,[{key:"isAlpha_",value:function(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"}},{key:"isNumeric_",value:function(t,e){return t>="0"&&t<="9"||"."==t&&!(void 0!==e&&e)}},{key:"isWhiteSpace_",value:function(t){return" "==t||"\t"==t||"\r"==t||"\n"==t}},{key:"nextChar_",value:function(){return this.wkt.charAt(++this.index_)}},{key:"nextToken",value:function(){var t,e=this.nextChar_(),n=this.index_,r=e;if("("==e)t=ve;else if(","==e)t=me;else if(")"==e)t=de;else if(this.isNumeric_(e)||"-"==e)t=ye,r=this.readNumber_();else if(this.isAlpha_(e))t=pe,r=this.readText_();else{if(this.isWhiteSpace_(e))return this.nextToken();if(""!==e)throw new Error("Unexpected character: "+e);t=_e}return{position:n,value:r,type:t}}},{key:"readNumber_",value:function(){var t,e=this.index_,n=!1,r=!1;do{"."==t?n=!0:"e"!=t&&"E"!=t||(r=!0),t=this.nextChar_()}while(this.isNumeric_(t,n)||!r&&("e"==t||"E"==t)||r&&("-"==t||"+"==t));return parseFloat(this.wkt.substring(e,this.index_--))}},{key:"readText_",value:function(){var t,e=this.index_;do{t=this.nextChar_()}while(this.isAlpha_(t));return this.wkt.substring(e,this.index_--).toUpperCase()}}]),e}(),ke=function(){function e(n,r){t(this,e),this.lexer_=n,this.token_,this.layout_=ue,this.factory=r}return n(e,[{key:"consume_",value:function(){this.token_=this.lexer_.nextToken()}},{key:"isTokenType",value:function(t){return this.token_.type==t}},{key:"match",value:function(t){var e=this.isTokenType(t);return e&&this.consume_(),e}},{key:"parse",value:function(){return this.consume_(),this.parseGeometry_()}},{key:"parseGeometryLayout_",value:function(){var t=ue,e=this.token_;if(this.isTokenType(pe)){var n=e.value;"Z"===n?t=le:"M"===n?t=he:"ZM"===n&&(t=ce),t!==ue&&this.consume_()}return t}},{key:"parseGeometryCollectionText_",value:function(){if(this.match(ve)){var t=[];do{t.push(this.parseGeometry_())}while(this.match(me));if(this.match(de))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePointText_",value:function(){if(this.match(ve)){var t=this.parsePoint_();if(this.match(de))return t}else if(this.isEmptyGeometry_())return null;throw new Error(this.formatErrorMessage_())}},{key:"parseLineStringText_",value:function(){if(this.match(ve)){var t=this.parsePointList_();if(this.match(de))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePolygonText_",value:function(){if(this.match(ve)){var t=this.parseLineStringTextList_();if(this.match(de))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPointText_",value:function(){var t;if(this.match(ve)){if(t=this.token_.type==ve?this.parsePointTextList_():this.parsePointList_(),this.match(de))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiLineStringText_",value:function(){if(this.match(ve)){var t=this.parseLineStringTextList_();if(this.match(de))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPolygonText_",value:function(){if(this.match(ve)){var t=this.parsePolygonTextList_();if(this.match(de))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePoint_",value:function(){for(var t=[],e=this.layout_.length,n=0;n<e;++n){var r=this.token_;if(!this.match(ye))break;t.push(r.value)}if(t.length==e)return t;throw new Error(this.formatErrorMessage_())}},{key:"parsePointList_",value:function(){for(var t=[this.parsePoint_()];this.match(me);)t.push(this.parsePoint_());return t}},{key:"parsePointTextList_",value:function(){for(var t=[this.parsePointText_()];this.match(me);)t.push(this.parsePointText_());return t}},{key:"parseLineStringTextList_",value:function(){for(var t=[this.parseLineStringText_()];this.match(me);)t.push(this.parseLineStringText_());return t}},{key:"parsePolygonTextList_",value:function(){for(var t=[this.parsePolygonText_()];this.match(me);)t.push(this.parsePolygonText_());return t}},{key:"isEmptyGeometry_",value:function(){var t=this.isTokenType(pe)&&this.token_.value==ge;return t&&this.consume_(),t}},{key:"formatErrorMessage_",value:function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"}},{key:"parseGeometry_",value:function(){var t=this.factory,e=function(t){return a(z,g(t))},n=function(n){var r=n.map((function(n){return t.createLinearRing(n.map(e))}));return r.length>1?t.createPolygon(r[0],r.slice(1)):t.createPolygon(r[0])},r=this.token_;if(this.match(pe)){var i=r.value;if(this.layout_=this.parseGeometryLayout_(),"GEOMETRYCOLLECTION"==i){var o=this.parseGeometryCollectionText_();return t.createGeometryCollection(o)}switch(i){case"POINT":var s=this.parsePointText_();return s?t.createPoint(a(z,g(s))):t.createPoint();case"LINESTRING":var u=this.parseLineStringText_().map(e);return t.createLineString(u);case"LINEARRING":var l=this.parseLineStringText_().map(e);return t.createLinearRing(l);case"POLYGON":var h=this.parsePolygonText_();return h&&0!==h.length?n(h):t.createPolygon();case"MULTIPOINT":var c=this.parseMultiPointText_();if(!c||0===c.length)return t.createMultiPoint();var f=c.map(e).map((function(e){return t.createPoint(e)}));return t.createMultiPoint(f);case"MULTILINESTRING":var p=this.parseMultiLineStringText_().map((function(n){return t.createLineString(n.map(e))}));return t.createMultiLineString(p);case"MULTIPOLYGON":var v=this.parseMultiPolygonText_();if(!v||0===v.length)return t.createMultiPolygon();var d=v.map(n);return t.createMultiPolygon(d);default:throw new Error("Invalid geometry type: "+i)}}throw new Error(this.formatErrorMessage_())}}]),e}();function be(t){if(t.isEmpty())return"";var e=t.getCoordinate(),n=[e.x,e.y];return void 0===e.z||Number.isNaN(e.z)||n.push(e.z),void 0===e.m||Number.isNaN(e.m)||n.push(e.m),n.join(" ")}function we(t){for(var e=t.getCoordinates().map((function(t){var e=[t.x,t.y];return void 0===t.z||Number.isNaN(t.z)||e.push(t.z),void 0===t.m||Number.isNaN(t.m)||e.push(t.m),e})),n=[],r=0,i=e.length;r<i;++r)n.push(e[r].join(" "));return n.join(", ")}function Ie(t){var e=[];e.push("("+we(t.getExteriorRing())+")");for(var n=0,r=t.getNumInteriorRing();n<r;++n)e.push("("+we(t.getInteriorRingN(n))+")");return e.join(", ")}var Ne={Point:be,LineString:we,LinearRing:we,Polygon:Ie,MultiPoint:function(t){for(var e=[],n=0,r=t.getNumGeometries();n<r;++n)e.push("("+be(t.getGeometryN(n))+")");return e.join(", ")},MultiLineString:function(t){for(var e=[],n=0,r=t.getNumGeometries();n<r;++n)e.push("("+we(t.getGeometryN(n))+")");return e.join(", ")},MultiPolygon:function(t){for(var e=[],n=0,r=t.getNumGeometries();n<r;++n)e.push("("+Ie(t.getGeometryN(n))+")");return e.join(", ")},GeometryCollection:function(t){for(var e=[],n=0,r=t.getNumGeometries();n<r;++n)e.push(Se(t.getGeometryN(n)));return e.join(", ")}};function Se(t){var e=t.getGeometryType(),n=Ne[e];e=e.toUpperCase();var r=function(t){var e="";if(t.isEmpty())return e;var n=t.getCoordinate();return void 0===n.z||Number.isNaN(n.z)||(e+="Z"),void 0===n.m||Number.isNaN(n.m)||(e+="M"),e}(t);return r.length>0&&(e+=" "+r),t.isEmpty()?e+" "+ge:e+" ("+n(t)+")"}var Me=function(){function e(n){t(this,e),this.geometryFactory=n||new ae,this.precisionModel=this.geometryFactory.getPrecisionModel()}return n(e,[{key:"read",value:function(t){var e=new Ee(t);return new ke(e,this.geometryFactory).parse()}},{key:"write",value:function(t){return Se(t)}}]),e}(),Le=function(){function e(n){t(this,e),this.parser=new Me(n)}return n(e,[{key:"write",value:function(t){return this.parser.write(t)}}],[{key:"toLineString",value:function(t,e){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"}}]),e}(),Pe=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"getIndexAlongSegment",value:function(t,e){return this.computeIntLineIndex(),this._intLineIndex[t][e]}},{key:"getTopologySummary",value:function(){var t=new Qt;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()}},{key:"computeIntersection",value:function(t,e,n,r){this._inputLines[0][0]=t,this._inputLines[0][1]=e,this._inputLines[1][0]=n,this._inputLines[1][1]=r,this._result=this.computeIntersect(t,e,n,r)}},{key:"getIntersectionNum",value:function(){return this._result}},{key:"computeIntLineIndex",value:function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map((function(){return Array(2)})),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var t=arguments[0];this.getEdgeDistance(t,0)>this.getEdgeDistance(t,1)?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}}},{key:"isProper",value:function(){return this.hasIntersection()&&this._isProper}},{key:"setPrecisionModel",value:function(t){this._precisionModel=t}},{key:"isInteriorIntersection",value:function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var t=arguments[0],e=0;e<this._result;e++)if(!this._intPt[e].equals2D(this._inputLines[t][0])&&!this._intPt[e].equals2D(this._inputLines[t][1]))return!0;return!1}}},{key:"getIntersection",value:function(t){return this._intPt[t]}},{key:"isEndPoint",value:function(){return this.hasIntersection()&&!this._isProper}},{key:"hasIntersection",value:function(){return this._result!==e.NO_INTERSECTION}},{key:"getEdgeDistance",value:function(t,n){return e.computeEdgeDistance(this._intPt[n],this._inputLines[t][0],this._inputLines[t][1])}},{key:"isCollinear",value:function(){return this._result===e.COLLINEAR_INTERSECTION}},{key:"toString",value:function(){return Le.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+Le.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()}},{key:"getEndpoint",value:function(t,e){return this._inputLines[t][e]}},{key:"isIntersection",value:function(t){for(var e=0;e<this._result;e++)if(this._intPt[e].equals2D(t))return!0;return!1}},{key:"getIntersectionAlongSegment",value:function(t,e){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][e]]}}],[{key:"constructor_",value:function(){this._result=null,this._inputLines=Array(2).fill().map((function(){return Array(2)})),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new z,this._intPt[1]=new z,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0}},{key:"computeEdgeDistance",value:function(t,e,n){var r=Math.abs(n.x-e.x),i=Math.abs(n.y-e.y),o=-1;if(t.equals(e))o=0;else if(t.equals(n))o=r>i?r:i;else{var s=Math.abs(t.x-e.x),a=Math.abs(t.y-e.y);0!==(o=r>i?s:a)||t.equals(e)||(o=Math.max(s,a))}return V.isTrue(!(0===o&&!t.equals(e)),"Bad distance calculation"),o}},{key:"nonRobustComputeEdgeDistance",value:function(t,e,n){var r=t.x-e.x,i=t.y-e.y,o=Math.sqrt(r*r+i*i);return V.isTrue(!(0===o&&!t.equals(e)),"Invalid distance calculation"),o}}]),e}();Pe.DONT_INTERSECT=0,Pe.DO_INTERSECT=1,Pe.COLLINEAR=2,Pe.NO_INTERSECTION=0,Pe.POINT_INTERSECTION=1,Pe.COLLINEAR_INTERSECTION=2;var Ce=function(e){r(s,e);var o=c(s);function s(){return t(this,s),o.call(this)}return n(s,[{key:"isInSegmentEnvelopes",value:function(t){var e=new X(this._inputLines[0][0],this._inputLines[0][1]),n=new X(this._inputLines[1][0],this._inputLines[1][1]);return e.contains(t)&&n.contains(t)}},{key:"computeIntersection",value:function(){if(3!==arguments.length)return f(i(s.prototype),"computeIntersection",this).apply(this,arguments);var t=arguments[0],e=arguments[1],n=arguments[2];if(this._isProper=!1,X.intersects(e,n,t)&&0===ft.index(e,n,t)&&0===ft.index(n,e,t))return this._isProper=!0,(t.equals(e)||t.equals(n))&&(this._isProper=!1),this._result=Pe.POINT_INTERSECTION,null;this._result=Pe.NO_INTERSECTION}},{key:"intersection",value:function(t,e,n,r){var i=this.intersectionSafe(t,e,n,r);return this.isInSegmentEnvelopes(i)||(i=new z(s.nearestEndpoint(t,e,n,r))),null!==this._precisionModel&&this._precisionModel.makePrecise(i),i}},{key:"checkDD",value:function(t,e,n,r,i){var o=ht.intersection(t,e,n,r),s=this.isInSegmentEnvelopes(o);xt.out.println("DD in env = "+s+"  --------------------- "+o),i.distance(o)>1e-4&&xt.out.println("Distance = "+i.distance(o))}},{key:"intersectionSafe",value:function(t,e,n,r){var i=_t.intersection(t,e,n,r);return null===i&&(i=s.nearestEndpoint(t,e,n,r)),i}},{key:"computeCollinearIntersection",value:function(t,e,n,r){var i=X.intersects(t,e,n),o=X.intersects(t,e,r),s=X.intersects(n,r,t),a=X.intersects(n,r,e);return i&&o?(this._intPt[0]=n,this._intPt[1]=r,Pe.COLLINEAR_INTERSECTION):s&&a?(this._intPt[0]=t,this._intPt[1]=e,Pe.COLLINEAR_INTERSECTION):i&&s?(this._intPt[0]=n,this._intPt[1]=t,!n.equals(t)||o||a?Pe.COLLINEAR_INTERSECTION:Pe.POINT_INTERSECTION):i&&a?(this._intPt[0]=n,this._intPt[1]=e,!n.equals(e)||o||s?Pe.COLLINEAR_INTERSECTION:Pe.POINT_INTERSECTION):o&&s?(this._intPt[0]=r,this._intPt[1]=t,!r.equals(t)||i||a?Pe.COLLINEAR_INTERSECTION:Pe.POINT_INTERSECTION):o&&a?(this._intPt[0]=r,this._intPt[1]=e,!r.equals(e)||i||s?Pe.COLLINEAR_INTERSECTION:Pe.POINT_INTERSECTION):Pe.NO_INTERSECTION}},{key:"computeIntersect",value:function(t,e,n,r){if(this._isProper=!1,!X.intersects(t,e,n,r))return Pe.NO_INTERSECTION;var i=ft.index(t,e,n),o=ft.index(t,e,r);if(i>0&&o>0||i<0&&o<0)return Pe.NO_INTERSECTION;var s=ft.index(n,r,t),a=ft.index(n,r,e);return s>0&&a>0||s<0&&a<0?Pe.NO_INTERSECTION:0===i&&0===o&&0===s&&0===a?this.computeCollinearIntersection(t,e,n,r):(0===i||0===o||0===s||0===a?(this._isProper=!1,t.equals2D(n)||t.equals2D(r)?this._intPt[0]=t:e.equals2D(n)||e.equals2D(r)?this._intPt[0]=e:0===i?this._intPt[0]=new z(n):0===o?this._intPt[0]=new z(r):0===s?this._intPt[0]=new z(t):0===a&&(this._intPt[0]=new z(e))):(this._isProper=!0,this._intPt[0]=this.intersection(t,e,n,r)),Pe.POINT_INTERSECTION)}}],[{key:"nearestEndpoint",value:function(t,e,n,r){var i=t,o=kt.pointToSegment(t,n,r),s=kt.pointToSegment(e,n,r);return s<o&&(o=s,i=e),(s=kt.pointToSegment(n,t,e))<o&&(o=s,i=n),(s=kt.pointToSegment(r,t,e))<o&&(o=s,i=r),i}}]),s}(Pe),Te=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"countSegment",value:function(t,e){if(t.x<this._p.x&&e.x<this._p.x)return null;if(this._p.x===e.x&&this._p.y===e.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&e.y===this._p.y){var n=t.x,r=e.x;return n>r&&(n=e.x,r=t.x),this._p.x>=n&&this._p.x<=r&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&e.y<=this._p.y||e.y>this._p.y&&t.y<=this._p.y){var i=ft.index(t,e,this._p);if(i===ft.COLLINEAR)return this._isPointOnSegment=!0,null;e.y<t.y&&(i=-i),i===ft.LEFT&&this._crossingCount++}}},{key:"isPointInPolygon",value:function(){return this.getLocation()!==Z.EXTERIOR}},{key:"getLocation",value:function(){return this._isPointOnSegment?Z.BOUNDARY:this._crossingCount%2==1?Z.INTERIOR:Z.EXTERIOR}},{key:"isOnSegment",value:function(){return this._isPointOnSegment}}],[{key:"constructor_",value:function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var t=arguments[0];this._p=t}},{key:"locatePointInRing",value:function(){if(arguments[0]instanceof z&&ot(arguments[1],ct)){for(var t=arguments[1],n=new e(arguments[0]),r=new z,i=new z,o=1;o<t.size();o++)if(t.getCoordinate(o,r),t.getCoordinate(o-1,i),n.countSegment(r,i),n.isOnSegment())return n.getLocation();return n.getLocation()}if(arguments[0]instanceof z&&arguments[1]instanceof Array){for(var s=arguments[1],a=new e(arguments[0]),u=1;u<s.length;u++){var l=s[u],h=s[u-1];if(a.countSegment(l,h),a.isOnSegment())return a.getLocation()}return a.getLocation()}}}]),e}(),Oe=function(){function e(){t(this,e)}return n(e,null,[{key:"isOnLine",value:function(){if(arguments[0]instanceof z&&ot(arguments[1],ct)){for(var t=arguments[0],e=arguments[1],n=new Ce,r=new z,i=new z,o=e.size(),s=1;s<o;s++)if(e.getCoordinate(s-1,r),e.getCoordinate(s,i),n.computeIntersection(t,r,i),n.hasIntersection())return!0;return!1}if(arguments[0]instanceof z&&arguments[1]instanceof Array){for(var a=arguments[0],u=arguments[1],l=new Ce,h=1;h<u.length;h++){var c=u[h-1],f=u[h];if(l.computeIntersection(a,c,f),l.hasIntersection())return!0}return!1}}},{key:"locateInRing",value:function(t,e){return Te.locatePointInRing(t,e)}},{key:"isInRing",value:function(t,n){return e.locateInRing(t,n)!==Z.EXTERIOR}}]),e}(),Re=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"setAllLocations",value:function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t}},{key:"isNull",value:function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==Z.NONE)return!1;return!0}},{key:"setAllLocationsIfNull",value:function(t){for(var e=0;e<this.location.length;e++)this.location[e]===Z.NONE&&(this.location[e]=t)}},{key:"isLine",value:function(){return 1===this.location.length}},{key:"merge",value:function(t){if(t.location.length>this.location.length){var e=new Array(3).fill(null);e[tt.ON]=this.location[tt.ON],e[tt.LEFT]=Z.NONE,e[tt.RIGHT]=Z.NONE,this.location=e}for(var n=0;n<this.location.length;n++)this.location[n]===Z.NONE&&n<t.location.length&&(this.location[n]=t.location[n])}},{key:"getLocations",value:function(){return this.location}},{key:"flip",value:function(){if(this.location.length<=1)return null;var t=this.location[tt.LEFT];this.location[tt.LEFT]=this.location[tt.RIGHT],this.location[tt.RIGHT]=t}},{key:"toString",value:function(){var t=new st;return this.location.length>1&&t.append(Z.toLocationSymbol(this.location[tt.LEFT])),t.append(Z.toLocationSymbol(this.location[tt.ON])),this.location.length>1&&t.append(Z.toLocationSymbol(this.location[tt.RIGHT])),t.toString()}},{key:"setLocations",value:function(t,e,n){this.location[tt.ON]=t,this.location[tt.LEFT]=e,this.location[tt.RIGHT]=n}},{key:"get",value:function(t){return t<this.location.length?this.location[t]:Z.NONE}},{key:"isArea",value:function(){return this.location.length>1}},{key:"isAnyNull",value:function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===Z.NONE)return!0;return!1}},{key:"setLocation",value:function(){if(1===arguments.length){var t=arguments[0];this.setLocation(tt.ON,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.location[e]=n}}},{key:"init",value:function(t){this.location=new Array(t).fill(null),this.setAllLocations(Z.NONE)}},{key:"isEqualOnSide",value:function(t,e){return this.location[e]===t.location[e]}},{key:"allPositionsEqual",value:function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0}}],[{key:"constructor_",value:function(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];this.init(t.length)}else if(Number.isInteger(arguments[0])){var n=arguments[0];this.init(1),this.location[tt.ON]=n}else if(arguments[0]instanceof e){var r=arguments[0];if(this.init(r.location.length),null!==r)for(var i=0;i<this.location.length;i++)this.location[i]=r.location[i]}}else if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];this.init(3),this.location[tt.ON]=o,this.location[tt.LEFT]=s,this.location[tt.RIGHT]=a}}}]),e}(),Ae=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"getGeometryCount",value:function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t}},{key:"setAllLocations",value:function(t,e){this.elt[t].setAllLocations(e)}},{key:"isNull",value:function(t){return this.elt[t].isNull()}},{key:"setAllLocationsIfNull",value:function(){if(1===arguments.length){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.elt[e].setAllLocationsIfNull(n)}}},{key:"isLine",value:function(t){return this.elt[t].isLine()}},{key:"merge",value:function(t){for(var e=0;e<2;e++)null===this.elt[e]&&null!==t.elt[e]?this.elt[e]=new Re(t.elt[e]):this.elt[e].merge(t.elt[e])}},{key:"flip",value:function(){this.elt[0].flip(),this.elt[1].flip()}},{key:"getLocation",value:function(){if(1===arguments.length){var t=arguments[0];return this.elt[t].get(tt.ON)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return this.elt[e].get(n)}}},{key:"toString",value:function(){var t=new st;return null!==this.elt[0]&&(t.append("A:"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()}},{key:"isArea",value:function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var t=arguments[0];return this.elt[t].isArea()}}},{key:"isAnyNull",value:function(t){return this.elt[t].isAnyNull()}},{key:"setLocation",value:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.elt[t].setLocation(tt.ON,e)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this.elt[n].setLocation(r,i)}}},{key:"isEqualOnSide",value:function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)}},{key:"allPositionsEqual",value:function(t,e){return this.elt[t].allPositionsEqual(e)}},{key:"toLine",value:function(t){this.elt[t].isArea()&&(this.elt[t]=new Re(this.elt[t].location[0]))}}],[{key:"constructor_",value:function(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var t=arguments[0];this.elt[0]=new Re(t),this.elt[1]=new Re(t)}else if(arguments[0]instanceof e){var n=arguments[0];this.elt[0]=new Re(n.elt[0]),this.elt[1]=new Re(n.elt[1])}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.elt[0]=new Re(Z.NONE),this.elt[1]=new Re(Z.NONE),this.elt[r].setLocation(i)}else if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];this.elt[0]=new Re(o,s,a),this.elt[1]=new Re(o,s,a)}else if(4===arguments.length){var u=arguments[0],l=arguments[1],h=arguments[2],c=arguments[3];this.elt[0]=new Re(Z.NONE,Z.NONE,Z.NONE),this.elt[1]=new Re(Z.NONE,Z.NONE,Z.NONE),this.elt[u].setLocations(l,h,c)}}},{key:"toLineLabel",value:function(t){for(var n=new e(Z.NONE),r=0;r<2;r++)n.setLocation(r,t.getLocation(r));return n}}]),e}(),De=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"computeRing",value:function(){if(null!==this._ring)return null;for(var t=new Array(this._pts.size()).fill(null),e=0;e<this._pts.size();e++)t[e]=this._pts.get(e);this._ring=this._geometryFactory.createLinearRing(t),this._isHole=ft.isCCW(this._ring.getCoordinates())}},{key:"isIsolated",value:function(){return 1===this._label.getGeometryCount()}},{key:"computePoints",value:function(t){this._startDe=t;var e=t,n=!0;do{if(null===e)throw new pt("Found null DirectedEdge");if(e.getEdgeRing()===this)throw new pt("Directed Edge visited twice during ring-building at "+e.getCoordinate());this._edges.add(e);var r=e.getLabel();V.isTrue(r.isArea()),this.mergeLabel(r),this.addPoints(e.getEdge(),e.isForward(),n),n=!1,this.setEdgeRing(e,this),e=this.getNext(e)}while(e!==this._startDe)}},{key:"getLinearRing",value:function(){return this._ring}},{key:"getCoordinate",value:function(t){return this._pts.get(t)}},{key:"computeMaxNodeDegree",value:function(){this._maxNodeDegree=0;var t=this._startDe;do{var e=t.getNode().getEdges().getOutgoingDegree(this);e>this._maxNodeDegree&&(this._maxNodeDegree=e),t=this.getNext(t)}while(t!==this._startDe);this._maxNodeDegree*=2}},{key:"addPoints",value:function(t,e,n){var r=t.getCoordinates();if(e){var i=1;n&&(i=0);for(var o=i;o<r.length;o++)this._pts.add(r[o])}else{var s=r.length-2;n&&(s=r.length-1);for(var a=s;a>=0;a--)this._pts.add(r[a])}}},{key:"isHole",value:function(){return this._isHole}},{key:"setInResult",value:function(){var t=this._startDe;do{t.getEdge().setInResult(!0),t=t.getNext()}while(t!==this._startDe)}},{key:"containsPoint",value:function(t){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(t))return!1;if(!Oe.isInRing(t,e.getCoordinates()))return!1;for(var n=this._holes.iterator();n.hasNext();)if(n.next().containsPoint(t))return!1;return!0}},{key:"addHole",value:function(t){this._holes.add(t)}},{key:"isShell",value:function(){return null===this._shell}},{key:"getLabel",value:function(){return this._label}},{key:"getEdges",value:function(){return this._edges}},{key:"getMaxNodeDegree",value:function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree}},{key:"getShell",value:function(){return this._shell}},{key:"mergeLabel",value:function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){var e=arguments[1],n=arguments[0].getLocation(e,tt.RIGHT);if(n===Z.NONE)return null;if(this._label.getLocation(e)===Z.NONE)return this._label.setLocation(e,n),null}}},{key:"setShell",value:function(t){this._shell=t,null!==t&&t.addHole(this)}},{key:"toPolygon",value:function(t){for(var e=new Array(this._holes.size()).fill(null),n=0;n<this._holes.size();n++)e[n]=this._holes.get(n).getLinearRing();return t.createPolygon(this.getLinearRing(),e)}}],[{key:"constructor_",value:function(){if(this._startDe=null,this._maxNodeDegree=-1,this._edges=new dt,this._pts=new dt,this._label=new Ae(Z.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new dt,this._geometryFactory=null,0===arguments.length);else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._geometryFactory=e,this.computePoints(t),this.computeRing()}}}]),e}(),Fe=function(e){r(o,e);var i=c(o);function o(){var e;return t(this,o),e=i.call(this),o.constructor_.apply(l(e),arguments),e}return n(o,[{key:"setEdgeRing",value:function(t,e){t.setMinEdgeRing(e)}},{key:"getNext",value:function(t){return t.getNextMin()}}],[{key:"constructor_",value:function(){var t=arguments[0],e=arguments[1];De.constructor_.call(this,t,e)}}]),o}(De),qe=function(e){r(o,e);var i=c(o);function o(){var e;return t(this,o),e=i.call(this),o.constructor_.apply(l(e),arguments),e}return n(o,[{key:"buildMinimalRings",value:function(){var t=new dt,e=this._startDe;do{if(null===e.getMinEdgeRing()){var n=new Fe(e,this._geometryFactory);t.add(n)}e=e.getNext()}while(e!==this._startDe);return t}},{key:"setEdgeRing",value:function(t,e){t.setEdgeRing(e)}},{key:"linkDirectedEdgesForMinimalEdgeRings",value:function(){var t=this._startDe;do{t.getNode().getEdges().linkMinimalDirectedEdges(this),t=t.getNext()}while(t!==this._startDe)}},{key:"getNext",value:function(t){return t.getNext()}}],[{key:"constructor_",value:function(){var t=arguments[0],e=arguments[1];De.constructor_.call(this,t,e)}}]),o}(De),Ve=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"setVisited",value:function(t){this._isVisited=t}},{key:"setInResult",value:function(t){this._isInResult=t}},{key:"isCovered",value:function(){return this._isCovered}},{key:"isCoveredSet",value:function(){return this._isCoveredSet}},{key:"setLabel",value:function(t){this._label=t}},{key:"getLabel",value:function(){return this._label}},{key:"setCovered",value:function(t){this._isCovered=t,this._isCoveredSet=!0}},{key:"updateIM",value:function(t){V.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)}},{key:"isInResult",value:function(){return this._isInResult}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._label=t}}}]),e}(),Ge=function(e){r(s,e);var o=c(s);function s(){var e;return t(this,s),e=o.call(this),s.constructor_.apply(l(e),arguments),e}return n(s,[{key:"isIncidentEdgeInResult",value:function(){for(var t=this.getEdges().getEdges().iterator();t.hasNext();)if(t.next().getEdge().isInResult())return!0;return!1}},{key:"isIsolated",value:function(){return 1===this._label.getGeometryCount()}},{key:"getCoordinate",value:function(){return this._coord}},{key:"print",value:function(t){t.println("node "+this._coord+" lbl: "+this._label)}},{key:"computeIM",value:function(t){}},{key:"computeMergedLocation",value:function(t,e){var n=Z.NONE;if(n=this._label.getLocation(e),!t.isNull(e)){var r=t.getLocation(e);n!==Z.BOUNDARY&&(n=r)}return n}},{key:"setLabel",value:function(){if(2!==arguments.length||!Number.isInteger(arguments[1])||!Number.isInteger(arguments[0]))return f(i(s.prototype),"setLabel",this).apply(this,arguments);var t=arguments[0],e=arguments[1];null===this._label?this._label=new Ae(t,e):this._label.setLocation(t,e)}},{key:"getEdges",value:function(){return this._edges}},{key:"mergeLabel",value:function(){if(arguments[0]instanceof s){var t=arguments[0];this.mergeLabel(t._label)}else if(arguments[0]instanceof Ae)for(var e=arguments[0],n=0;n<2;n++){var r=this.computeMergedLocation(e,n);this._label.getLocation(n)===Z.NONE&&this._label.setLocation(n,r)}}},{key:"add",value:function(t){this._edges.insert(t),t.setNode(this)}},{key:"setLabelBoundary",value:function(t){if(null===this._label)return null;var e=Z.NONE;null!==this._label&&(e=this._label.getLocation(t));var n=null;switch(e){case Z.BOUNDARY:n=Z.INTERIOR;break;case Z.INTERIOR:default:n=Z.BOUNDARY}this._label.setLocation(t,n)}}],[{key:"constructor_",value:function(){this._coord=null,this._edges=null;var t=arguments[0],e=arguments[1];this._coord=t,this._edges=e,this._label=new Ae(0,Z.NONE)}}]),s}(Ve),Be=function(e){r(i,e);var n=c(i);function i(){return t(this,i),n.apply(this,arguments)}return i}(ne);function Ye(t){return null==t?0:t.color}function ze(t){return null==t?null:t.parent}function je(t,e){null!==t&&(t.color=e)}function Xe(t){return null==t?null:t.left}function Ue(t){return null==t?null:t.right}var Ze=function(e){r(o,e);var i=c(o);function o(){var e;return t(this,o),(e=i.call(this)).root_=null,e.size_=0,e}return n(o,[{key:"get",value:function(t){for(var e=this.root_;null!==e;){var n=t.compareTo(e.key);if(n<0)e=e.left;else{if(!(n>0))return e.value;e=e.right}}return null}},{key:"put",value:function(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:0,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,r,i=this.root_;do{if(n=i,(r=t.compareTo(i.key))<0)i=i.left;else{if(!(r>0)){var o=i.value;return i.value=e,o}i=i.right}}while(null!==i);var s={key:t,left:null,right:null,value:e,parent:n,color:0,getValue:function(){return this.value},getKey:function(){return this.key}};return r<0?n.left=s:n.right=s,this.fixAfterInsertion(s),this.size_++,null}},{key:"fixAfterInsertion",value:function(t){var e;for(t.color=1;null!=t&&t!==this.root_&&1===t.parent.color;)ze(t)===Xe(ze(ze(t)))?1===Ye(e=Ue(ze(ze(t))))?(je(ze(t),0),je(e,0),je(ze(ze(t)),1),t=ze(ze(t))):(t===Ue(ze(t))&&(t=ze(t),this.rotateLeft(t)),je(ze(t),0),je(ze(ze(t)),1),this.rotateRight(ze(ze(t)))):1===Ye(e=Xe(ze(ze(t))))?(je(ze(t),0),je(e,0),je(ze(ze(t)),1),t=ze(ze(t))):(t===Xe(ze(t))&&(t=ze(t),this.rotateRight(t)),je(ze(t),0),je(ze(ze(t)),1),this.rotateLeft(ze(ze(t))));this.root_.color=0}},{key:"values",value:function(){var t=new dt,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=o.successor(e));)t.add(e.value);return t}},{key:"entrySet",value:function(){var t=new Q,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=o.successor(e));)t.add(e);return t}},{key:"rotateLeft",value:function(t){if(null!=t){var e=t.right;t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null==t.parent?this.root_=e:t.parent.left===t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}}},{key:"rotateRight",value:function(t){if(null!=t){var e=t.left;t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null==t.parent?this.root_=e:t.parent.right===t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}}},{key:"getFirstEntry",value:function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t}},{key:"size",value:function(){return this.size_}},{key:"containsKey",value:function(t){for(var e=this.root_;null!==e;){var n=t.compareTo(e.key);if(n<0)e=e.left;else{if(!(n>0))return!0;e=e.right}}return!1}}],[{key:"successor",value:function(t){var e;if(null===t)return null;if(null!==t.right){for(e=t.right;null!==e.left;)e=e.left;return e}e=t.parent;for(var n=t;null!==e&&n===e.right;)n=e,e=e.parent;return e}}]),o}(Be),He=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"find",value:function(t){return this.nodeMap.get(t)}},{key:"addNode",value:function(){if(arguments[0]instanceof z){var t=arguments[0],e=this.nodeMap.get(t);return null===e&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}if(arguments[0]instanceof Ge){var n=arguments[0],r=this.nodeMap.get(n.getCoordinate());return null===r?(this.nodeMap.put(n.getCoordinate(),n),n):(r.mergeLabel(n),r)}}},{key:"print",value:function(t){for(var e=this.iterator();e.hasNext();)e.next().print(t)}},{key:"iterator",value:function(){return this.nodeMap.values().iterator()}},{key:"values",value:function(){return this.nodeMap.values()}},{key:"getBoundaryNodes",value:function(t){for(var e=new dt,n=this.iterator();n.hasNext();){var r=n.next();r.getLabel().getLocation(t)===Z.BOUNDARY&&e.add(r)}return e}},{key:"add",value:function(t){var e=t.getCoordinate();this.addNode(e).add(t)}}],[{key:"constructor_",value:function(){this.nodeMap=new Ze,this.nodeFact=null;var t=arguments[0];this.nodeFact=t}}]),e}(),We=function(){function e(){t(this,e)}return n(e,null,[{key:"isNorthern",value:function(t){return t===e.NE||t===e.NW}},{key:"isOpposite",value:function(t,e){return t!==e&&2==(t-e+4)%4}},{key:"commonHalfPlane",value:function(t,e){if(t===e)return t;if(2==(t-e+4)%4)return-1;var n=t<e?t:e;return 0===n&&3===(t>e?t:e)?3:n}},{key:"isInHalfPlane",value:function(t,n){return n===e.SE?t===e.SE||t===e.SW:t===n||t===n+1}},{key:"quadrant",value:function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],n=arguments[1];if(0===t&&0===n)throw new x("Cannot compute the quadrant for point ( "+t+", "+n+" )");return t>=0?n>=0?e.NE:e.SE:n>=0?e.NW:e.SW}if(arguments[0]instanceof z&&arguments[1]instanceof z){var r=arguments[0],i=arguments[1];if(i.x===r.x&&i.y===r.y)throw new x("Cannot compute the quadrant for two identical points "+r);return i.x>=r.x?i.y>=r.y?e.NE:e.SE:i.y>=r.y?e.NW:e.SW}}}]),e}();We.NE=0,We.NW=1,We.SW=2,We.SE=3;var Je=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"compareDirection",value:function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:ft.index(t._p0,t._p1,this._p1)}},{key:"getDy",value:function(){return this._dy}},{key:"getCoordinate",value:function(){return this._p0}},{key:"setNode",value:function(t){this._node=t}},{key:"print",value:function(t){var e=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),r=n.lastIndexOf("."),i=n.substring(r+1);t.print("  "+i+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label)}},{key:"compareTo",value:function(t){var e=t;return this.compareDirection(e)}},{key:"getDirectedCoordinate",value:function(){return this._p1}},{key:"getDx",value:function(){return this._dx}},{key:"getLabel",value:function(){return this._label}},{key:"getEdge",value:function(){return this._edge}},{key:"getQuadrant",value:function(){return this._quadrant}},{key:"getNode",value:function(){return this._node}},{key:"toString",value:function(){var t=Math.atan2(this._dy,this._dx),e=this.getClass().getName(),n=e.lastIndexOf(".");return"  "+e.substring(n+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label}},{key:"computeLabel",value:function(t){}},{key:"init",value:function(t,e){this._p0=t,this._p1=e,this._dx=e.x-t.x,this._dy=e.y-t.y,this._quadrant=We.quadrant(this._dx,this._dy),V.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")}},{key:"interfaces_",get:function(){return[k]}}],[{key:"constructor_",value:function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length){var t=arguments[0];this._edge=t}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];e.constructor_.call(this,n,r,i,null)}else if(4===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2],u=arguments[3];e.constructor_.call(this,o),this.init(s,a),this._label=u}}}]),e}(),Ke=function(e){r(s,e);var o=c(s);function s(){var e;return t(this,s),e=o.call(this),s.constructor_.apply(l(e),arguments),e}return n(s,[{key:"getNextMin",value:function(){return this._nextMin}},{key:"getDepth",value:function(t){return this._depth[t]}},{key:"setVisited",value:function(t){this._isVisited=t}},{key:"computeDirectedLabel",value:function(){this._label=new Ae(this._edge.getLabel()),this._isForward||this._label.flip()}},{key:"getNext",value:function(){return this._next}},{key:"setDepth",value:function(t,e){if(-999!==this._depth[t]&&this._depth[t]!==e)throw new pt("assigned depths do not match",this.getCoordinate());this._depth[t]=e}},{key:"isInteriorAreaEdge",value:function(){for(var t=!0,e=0;e<2;e++)this._label.isArea(e)&&this._label.getLocation(e,tt.LEFT)===Z.INTERIOR&&this._label.getLocation(e,tt.RIGHT)===Z.INTERIOR||(t=!1);return t}},{key:"setNextMin",value:function(t){this._nextMin=t}},{key:"print",value:function(t){f(i(s.prototype),"print",this).call(this,t),t.print(" "+this._depth[tt.LEFT]+"/"+this._depth[tt.RIGHT]),t.print(" ("+this.getDepthDelta()+")"),this._isInResult&&t.print(" inResult")}},{key:"setMinEdgeRing",value:function(t){this._minEdgeRing=t}},{key:"isLineEdge",value:function(){var t=this._label.isLine(0)||this._label.isLine(1),e=!this._label.isArea(0)||this._label.allPositionsEqual(0,Z.EXTERIOR),n=!this._label.isArea(1)||this._label.allPositionsEqual(1,Z.EXTERIOR);return t&&e&&n}},{key:"setEdgeRing",value:function(t){this._edgeRing=t}},{key:"getMinEdgeRing",value:function(){return this._minEdgeRing}},{key:"getDepthDelta",value:function(){var t=this._edge.getDepthDelta();return this._isForward||(t=-t),t}},{key:"setInResult",value:function(t){this._isInResult=t}},{key:"getSym",value:function(){return this._sym}},{key:"isForward",value:function(){return this._isForward}},{key:"getEdge",value:function(){return this._edge}},{key:"printEdge",value:function(t){this.print(t),t.print(" "),this._isForward?this._edge.print(t):this._edge.printReverse(t)}},{key:"setSym",value:function(t){this._sym=t}},{key:"setVisitedEdge",value:function(t){this.setVisited(t),this._sym.setVisited(t)}},{key:"setEdgeDepths",value:function(t,e){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var r=1;t===tt.LEFT&&(r=-1);var i=tt.opposite(t),o=e+n*r;this.setDepth(t,e),this.setDepth(i,o)}},{key:"getEdgeRing",value:function(){return this._edgeRing}},{key:"isInResult",value:function(){return this._isInResult}},{key:"setNext",value:function(t){this._next=t}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999];var t=arguments[0],e=arguments[1];if(Je.constructor_.call(this,t),this._isForward=e,e)this.init(t.getCoordinate(0),t.getCoordinate(1));else{var n=t.getNumPoints()-1;this.init(t.getCoordinate(n),t.getCoordinate(n-1))}this.computeDirectedLabel()}},{key:"depthFactor",value:function(t,e){return t===Z.EXTERIOR&&e===Z.INTERIOR?1:t===Z.INTERIOR&&e===Z.EXTERIOR?-1:0}}]),s}(Je),Qe=function(){function e(){t(this,e)}return n(e,[{key:"createNode",value:function(t){return new Ge(t,null)}}]),e}(),$e=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"printEdges",value:function(t){t.println("Edges:");for(var e=0;e<this._edges.size();e++){t.println("edge "+e+":");var n=this._edges.get(e);n.print(t),n.eiList.print(t)}}},{key:"find",value:function(t){return this._nodes.find(t)}},{key:"addNode",value:function(){if(arguments[0]instanceof Ge){var t=arguments[0];return this._nodes.addNode(t)}if(arguments[0]instanceof z){var e=arguments[0];return this._nodes.addNode(e)}}},{key:"getNodeIterator",value:function(){return this._nodes.iterator()}},{key:"linkResultDirectedEdges",value:function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()}},{key:"debugPrintln",value:function(t){xt.out.println(t)}},{key:"isBoundaryNode",value:function(t,e){var n=this._nodes.find(e);if(null===n)return!1;var r=n.getLabel();return null!==r&&r.getLocation(t)===Z.BOUNDARY}},{key:"linkAllDirectedEdges",value:function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkAllDirectedEdges()}},{key:"matchInSameDirection",value:function(t,e,n,r){return!!t.equals(n)&&ft.index(t,e,r)===ft.COLLINEAR&&We.quadrant(t,e)===We.quadrant(n,r)}},{key:"getEdgeEnds",value:function(){return this._edgeEndList}},{key:"debugPrint",value:function(t){xt.out.print(t)}},{key:"getEdgeIterator",value:function(){return this._edges.iterator()}},{key:"findEdgeInSameDirection",value:function(t,e){for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n),i=r.getCoordinates();if(this.matchInSameDirection(t,e,i[0],i[1]))return r;if(this.matchInSameDirection(t,e,i[i.length-1],i[i.length-2]))return r}return null}},{key:"insertEdge",value:function(t){this._edges.add(t)}},{key:"findEdgeEnd",value:function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var n=e.next();if(n.getEdge()===t)return n}return null}},{key:"addEdges",value:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this._edges.add(n);var r=new Ke(n,!0),i=new Ke(n,!1);r.setSym(i),i.setSym(r),this.add(r),this.add(i)}}},{key:"add",value:function(t){this._nodes.add(t),this._edgeEndList.add(t)}},{key:"getNodes",value:function(){return this._nodes.values()}},{key:"findEdge",value:function(t,e){for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n),i=r.getCoordinates();if(t.equals(i[0])&&e.equals(i[1]))return r}return null}}],[{key:"constructor_",value:function(){if(this._edges=new dt,this._nodes=null,this._edgeEndList=new dt,0===arguments.length)this._nodes=new He(new Qe);else if(1===arguments.length){var t=arguments[0];this._nodes=new He(t)}}},{key:"linkResultDirectedEdges",value:function(t){for(var e=t.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()}}]),e}(),tn=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"sortShellsAndHoles",value:function(t,e,n){for(var r=t.iterator();r.hasNext();){var i=r.next();i.isHole()?n.add(i):e.add(i)}}},{key:"computePolygons",value:function(t){for(var e=new dt,n=t.iterator();n.hasNext();){var r=n.next().toPolygon(this._geometryFactory);e.add(r)}return e}},{key:"placeFreeHoles",value:function(t,n){for(var r=n.iterator();r.hasNext();){var i=r.next();if(null===i.getShell()){var o=e.findEdgeRingContaining(i,t);if(null===o)throw new pt("unable to assign hole to a shell",i.getCoordinate(0));i.setShell(o)}}}},{key:"buildMinimalEdgeRings",value:function(t,e,n){for(var r=new dt,i=t.iterator();i.hasNext();){var o=i.next();if(o.getMaxNodeDegree()>2){o.linkDirectedEdgesForMinimalEdgeRings();var s=o.buildMinimalRings(),a=this.findShell(s);null!==a?(this.placePolygonHoles(a,s),e.add(a)):n.addAll(s)}else r.add(o)}return r}},{key:"buildMaximalEdgeRings",value:function(t){for(var e=new dt,n=t.iterator();n.hasNext();){var r=n.next();if(r.isInResult()&&r.getLabel().isArea()&&null===r.getEdgeRing()){var i=new qe(r,this._geometryFactory);e.add(i),i.setInResult()}}return e}},{key:"placePolygonHoles",value:function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();r.isHole()&&r.setShell(t)}}},{key:"getPolygons",value:function(){return this.computePolygons(this._shellList)}},{key:"findShell",value:function(t){for(var e=0,n=null,r=t.iterator();r.hasNext();){var i=r.next();i.isHole()||(n=i,e++)}return V.isTrue(e<=1,"found two shells in MinimalEdgeRing list"),n}},{key:"add",value:function(){if(1===arguments.length){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(2===arguments.length){var e=arguments[0],n=arguments[1];$e.linkResultDirectedEdges(n);var r=this.buildMaximalEdgeRings(e),i=new dt,o=this.buildMinimalEdgeRings(r,this._shellList,i);this.sortShellsAndHoles(o,this._shellList,i),this.placeFreeHoles(this._shellList,i)}}}],[{key:"constructor_",value:function(){this._geometryFactory=null,this._shellList=new dt;var t=arguments[0];this._geometryFactory=t}},{key:"findEdgeRingContaining",value:function(t,e){for(var n=t.getLinearRing(),r=n.getEnvelopeInternal(),i=n.getCoordinateN(0),o=null,s=null,a=e.iterator();a.hasNext();){var u=a.next(),l=u.getLinearRing(),h=l.getEnvelopeInternal();if(!h.equals(r)&&h.contains(r)){i=Wt.ptNotInList(n.getCoordinates(),l.getCoordinates());var c=!1;Oe.isInRing(i,l.getCoordinates())&&(c=!0),c&&(null===o||s.contains(h))&&(s=(o=u).getLinearRing().getEnvelopeInternal())}}return o}}]),e}(),en=function(){function e(){t(this,e)}return n(e,[{key:"getBounds",value:function(){}}]),e}(),nn=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"getItem",value:function(){return this._item}},{key:"getBounds",value:function(){return this._bounds}},{key:"interfaces_",get:function(){return[en,w]}}],[{key:"constructor_",value:function(){this._bounds=null,this._item=null;var t=arguments[0],e=arguments[1];this._bounds=t,this._item=e}}]),e}(),rn=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"poll",value:function(){if(this.isEmpty())return null;var t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t}},{key:"size",value:function(){return this._size}},{key:"reorder",value:function(t){for(var e=null,n=this._items.get(t);2*t<=this._size&&((e=2*t)!==this._size&&this._items.get(e+1).compareTo(this._items.get(e))<0&&e++,this._items.get(e).compareTo(n)<0);t=e)this._items.set(t,this._items.get(e));this._items.set(t,n)}},{key:"clear",value:function(){this._size=0,this._items.clear()}},{key:"peek",value:function(){return this.isEmpty()?null:this._items.get(1)}},{key:"isEmpty",value:function(){return 0===this._size}},{key:"add",value:function(t){this._items.add(null),this._size+=1;var e=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(e/2)))<0;e/=2)this._items.set(e,this._items.get(Math.trunc(e/2)));this._items.set(e,t)}}],[{key:"constructor_",value:function(){this._size=null,this._items=null,this._size=0,this._items=new dt,this._items.add(null)}}]),e}(),on=function(){function e(){t(this,e)}return n(e,[{key:"insert",value:function(t,e){}},{key:"remove",value:function(t,e){}},{key:"query",value:function(){}}]),e}(),sn=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"getLevel",value:function(){return this._level}},{key:"size",value:function(){return this._childBoundables.size()}},{key:"getChildBoundables",value:function(){return this._childBoundables}},{key:"addChildBoundable",value:function(t){V.isTrue(null===this._bounds),this._childBoundables.add(t)}},{key:"isEmpty",value:function(){return this._childBoundables.isEmpty()}},{key:"getBounds",value:function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds}},{key:"interfaces_",get:function(){return[en,w]}}],[{key:"constructor_",value:function(){if(this._childBoundables=new dt,this._bounds=null,this._level=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._level=t}}}]),e}(),an={reverseOrder:function(){return{compare:function(t,e){return e.compareTo(t)}}},min:function(t){return an.sort(t),t.get(0)},sort:function(t,e){var n=t.toArray();e?At.sort(n,e):At.sort(n);for(var r=t.iterator(),i=0,o=n.length;i<o;i++)r.next(),r.set(n[i])},singletonList:function(t){var e=new dt;return e.add(t),e}},un=function(){function e(){t(this,e)}return n(e,null,[{key:"maxDistance",value:function(t,n,r,i,o,s,a,u){var l=e.distance(t,n,o,s);return l=Math.max(l,e.distance(t,n,a,u)),l=Math.max(l,e.distance(r,i,o,s)),Math.max(l,e.distance(r,i,a,u))}},{key:"distance",value:function(t,e,n,r){var i=n-t,o=r-e;return Math.sqrt(i*i+o*o)}},{key:"maximumDistance",value:function(t,n){var r=Math.min(t.getMinX(),n.getMinX()),i=Math.min(t.getMinY(),n.getMinY()),o=Math.max(t.getMaxX(),n.getMaxX()),s=Math.max(t.getMaxY(),n.getMaxY());return e.distance(r,i,o,s)}},{key:"minMaxDistance",value:function(t,n){var r=t.getMinX(),i=t.getMinY(),o=t.getMaxX(),s=t.getMaxY(),a=n.getMinX(),u=n.getMinY(),l=n.getMaxX(),h=n.getMaxY(),c=e.maxDistance(r,i,r,s,a,u,a,h);return c=Math.min(c,e.maxDistance(r,i,r,s,a,u,l,u)),c=Math.min(c,e.maxDistance(r,i,r,s,l,h,a,h)),c=Math.min(c,e.maxDistance(r,i,r,s,l,h,l,u)),c=Math.min(c,e.maxDistance(r,i,o,i,a,u,a,h)),c=Math.min(c,e.maxDistance(r,i,o,i,a,u,l,u)),c=Math.min(c,e.maxDistance(r,i,o,i,l,h,a,h)),c=Math.min(c,e.maxDistance(r,i,o,i,l,h,l,u)),c=Math.min(c,e.maxDistance(o,s,r,s,a,u,a,h)),c=Math.min(c,e.maxDistance(o,s,r,s,a,u,l,u)),c=Math.min(c,e.maxDistance(o,s,r,s,l,h,a,h)),c=Math.min(c,e.maxDistance(o,s,r,s,l,h,l,u)),c=Math.min(c,e.maxDistance(o,s,o,i,a,u,a,h)),c=Math.min(c,e.maxDistance(o,s,o,i,a,u,l,u)),c=Math.min(c,e.maxDistance(o,s,o,i,l,h,a,h)),Math.min(c,e.maxDistance(o,s,o,i,l,h,l,u))}}]),e}(),ln=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"maximumDistance",value:function(){return un.maximumDistance(this._boundable1.getBounds(),this._boundable2.getBounds())}},{key:"expandToQueue",value:function(t,n){var r=e.isComposite(this._boundable1),i=e.isComposite(this._boundable2);if(r&&i)return e.area(this._boundable1)>e.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,!1,t,n),null):(this.expand(this._boundable2,this._boundable1,!0,t,n),null);if(r)return this.expand(this._boundable1,this._boundable2,!1,t,n),null;if(i)return this.expand(this._boundable2,this._boundable1,!0,t,n),null;throw new x("neither boundable is composite")}},{key:"isLeaves",value:function(){return!(e.isComposite(this._boundable1)||e.isComposite(this._boundable2))}},{key:"compareTo",value:function(t){var e=t;return this._distance<e._distance?-1:this._distance>e._distance?1:0}},{key:"expand",value:function(t,n,r,i,o){for(var s=t.getChildBoundables().iterator();s.hasNext();){var a=s.next(),u=null;(u=r?new e(n,a,this._itemDistance):new e(a,n,this._itemDistance)).getDistance()<o&&i.add(u)}}},{key:"getBoundable",value:function(t){return 0===t?this._boundable1:this._boundable2}},{key:"getDistance",value:function(){return this._distance}},{key:"distance",value:function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())}},{key:"interfaces_",get:function(){return[k]}}],[{key:"constructor_",value:function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var t=arguments[0],e=arguments[1],n=arguments[2];this._boundable1=t,this._boundable2=e,this._itemDistance=n,this._distance=this.distance()}},{key:"area",value:function(t){return t.getBounds().getArea()}},{key:"isComposite",value:function(t){return t instanceof sn}}]),e}(),hn=function(){function e(){t(this,e)}return n(e,[{key:"visitItem",value:function(t){}}]),e}(),cn=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"queryInternal",value:function(){if(ot(arguments[2],hn)&&arguments[0]instanceof Object&&arguments[1]instanceof sn)for(var t=arguments[0],e=arguments[2],n=arguments[1].getChildBoundables(),r=0;r<n.size();r++){var i=n.get(r);this.getIntersectsOp().intersects(i.getBounds(),t)&&(i instanceof sn?this.queryInternal(t,i,e):i instanceof nn?e.visitItem(i.getItem()):V.shouldNeverReachHere())}else if(ot(arguments[2],rt)&&arguments[0]instanceof Object&&arguments[1]instanceof sn)for(var o=arguments[0],s=arguments[2],a=arguments[1].getChildBoundables(),u=0;u<a.size();u++){var l=a.get(u);this.getIntersectsOp().intersects(l.getBounds(),o)&&(l instanceof sn?this.queryInternal(o,l,s):l instanceof nn?s.add(l.getItem()):V.shouldNeverReachHere())}}},{key:"getNodeCapacity",value:function(){return this._nodeCapacity}},{key:"lastNode",value:function(t){return t.get(t.size()-1)}},{key:"size",value:function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();n instanceof sn?t+=this.size(n):n instanceof nn&&(t+=1)}return t}}},{key:"removeItem",value:function(t,e){for(var n=null,r=t.getChildBoundables().iterator();r.hasNext();){var i=r.next();i instanceof nn&&i.getItem()===e&&(n=i)}return null!==n&&(t.getChildBoundables().remove(n),!0)}},{key:"itemsTree",value:function(){if(0===arguments.length){this.build();var t=this.itemsTree(this._root);return null===t?new dt:t}if(1===arguments.length){for(var e=arguments[0],n=new dt,r=e.getChildBoundables().iterator();r.hasNext();){var i=r.next();if(i instanceof sn){var o=this.itemsTree(i);null!==o&&n.add(o)}else i instanceof nn?n.add(i.getItem()):V.shouldNeverReachHere()}return n.size()<=0?null:n}}},{key:"insert",value:function(t,e){V.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new nn(t,e))}},{key:"boundablesAtLevel",value:function(){if(1===arguments.length){var t=arguments[0],e=new dt;return this.boundablesAtLevel(t,this._root,e),e}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];if(V.isTrue(n>-2),r.getLevel()===n)return i.add(r),null;for(var o=r.getChildBoundables().iterator();o.hasNext();){var s=o.next();s instanceof sn?this.boundablesAtLevel(n,s,i):(V.isTrue(s instanceof nn),-1===n&&i.add(s))}return null}}},{key:"query",value:function(){if(1===arguments.length){var t=arguments[0];this.build();var e=new dt;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.queryInternal(t,this._root,e),e}if(2===arguments.length){var n=arguments[0],r=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.queryInternal(n,this._root,r)}}},{key:"build",value:function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0}},{key:"getRoot",value:function(){return this.build(),this._root}},{key:"remove",value:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.remove(t,this._root,e)}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=this.removeItem(r,i);if(o)return!0;for(var s=null,a=r.getChildBoundables().iterator();a.hasNext();){var u=a.next();if(this.getIntersectsOp().intersects(u.getBounds(),n)&&u instanceof sn&&(o=this.remove(n,u,i))){s=u;break}}return null!==s&&s.getChildBoundables().isEmpty()&&r.getChildBoundables().remove(s),o}}},{key:"createHigherLevels",value:function(t,e){V.isTrue(!t.isEmpty());var n=this.createParentBoundables(t,e+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,e+1)}},{key:"depth",value:function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();if(n instanceof sn){var r=this.depth(n);r>t&&(t=r)}}return t+1}}},{key:"createParentBoundables",value:function(t,e){V.isTrue(!t.isEmpty());var n=new dt;n.add(this.createNode(e));var r=new dt(t);an.sort(r,this.getComparator());for(var i=r.iterator();i.hasNext();){var o=i.next();this.lastNode(n).getChildBoundables().size()===this.getNodeCapacity()&&n.add(this.createNode(e)),this.lastNode(n).addChildBoundable(o)}return n}},{key:"isEmpty",value:function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()}},{key:"interfaces_",get:function(){return[w]}}],[{key:"constructor_",value:function(){if(this._root=null,this._built=!1,this._itemBoundables=new dt,this._nodeCapacity=null,0===arguments.length)e.constructor_.call(this,e.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){var t=arguments[0];V.isTrue(t>1,"Node capacity must be greater than 1"),this._nodeCapacity=t}}},{key:"compareDoubles",value:function(t,e){return t>e?1:t<e?-1:0}}]),e}();cn.IntersectsOp=function(){},cn.DEFAULT_NODE_CAPACITY=10;var fn=function(){function e(){t(this,e)}return n(e,[{key:"distance",value:function(t,e){}}]),e}(),gn=function(e){r(s,e);var o=c(s);function s(){var e;return t(this,s),e=o.call(this),s.constructor_.apply(l(e),arguments),e}return n(s,[{key:"createParentBoundablesFromVerticalSlices",value:function(t,e){V.isTrue(t.length>0);for(var n=new dt,r=0;r<t.length;r++)n.addAll(this.createParentBoundablesFromVerticalSlice(t[r],e));return n}},{key:"nearestNeighbourK",value:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.nearestNeighbourK(t,A.POSITIVE_INFINITY,e)}if(3===arguments.length){var n=arguments[0],r=arguments[2],i=arguments[1],o=new rn;o.add(n);for(var a=new rn;!o.isEmpty()&&i>=0;){var u=o.poll(),l=u.getDistance();if(l>=i)break;u.isLeaves()?a.size()<r?a.add(u):(a.peek().getDistance()>l&&(a.poll(),a.add(u)),i=a.peek().getDistance()):u.expandToQueue(o,i)}return s.getItems(a)}}},{key:"createNode",value:function(t){return new pn(t)}},{key:"size",value:function(){return 0===arguments.length?f(i(s.prototype),"size",this).call(this):f(i(s.prototype),"size",this).apply(this,arguments)}},{key:"insert",value:function(){if(!(2===arguments.length&&arguments[1]instanceof Object&&arguments[0]instanceof X))return f(i(s.prototype),"insert",this).apply(this,arguments);var t=arguments[0],e=arguments[1];if(t.isNull())return null;f(i(s.prototype),"insert",this).call(this,t,e)}},{key:"getIntersectsOp",value:function(){return s.intersectsOp}},{key:"verticalSlices",value:function(t,e){for(var n=Math.trunc(Math.ceil(t.size()/e)),r=new Array(e).fill(null),i=t.iterator(),o=0;o<e;o++){r[o]=new dt;for(var s=0;i.hasNext()&&s<n;){var a=i.next();r[o].add(a),s++}}return r}},{key:"query",value:function(){if(1===arguments.length){var t=arguments[0];return f(i(s.prototype),"query",this).call(this,t)}if(2===arguments.length){var e=arguments[0],n=arguments[1];f(i(s.prototype),"query",this).call(this,e,n)}}},{key:"getComparator",value:function(){return s.yComparator}},{key:"createParentBoundablesFromVerticalSlice",value:function(t,e){return f(i(s.prototype),"createParentBoundables",this).call(this,t,e)}},{key:"remove",value:function(){if(2===arguments.length&&arguments[1]instanceof Object&&arguments[0]instanceof X){var t=arguments[0],e=arguments[1];return f(i(s.prototype),"remove",this).call(this,t,e)}return f(i(s.prototype),"remove",this).apply(this,arguments)}},{key:"depth",value:function(){return 0===arguments.length?f(i(s.prototype),"depth",this).call(this):f(i(s.prototype),"depth",this).apply(this,arguments)}},{key:"createParentBoundables",value:function(t,e){V.isTrue(!t.isEmpty());var n=Math.trunc(Math.ceil(t.size()/this.getNodeCapacity())),r=new dt(t);an.sort(r,s.xComparator);var i=this.verticalSlices(r,Math.trunc(Math.ceil(Math.sqrt(n))));return this.createParentBoundablesFromVerticalSlices(i,e)}},{key:"nearestNeighbour",value:function(){if(1===arguments.length){if(ot(arguments[0],fn)){var t=arguments[0];if(this.isEmpty())return null;var e=new ln(this.getRoot(),this.getRoot(),t);return this.nearestNeighbour(e)}if(arguments[0]instanceof ln){var n=arguments[0],r=A.POSITIVE_INFINITY,i=null,o=new rn;for(o.add(n);!o.isEmpty()&&r>0;){var s=o.poll(),a=s.getDistance();if(a>=r)break;s.isLeaves()?(r=a,i=s):s.expandToQueue(o,r)}return null===i?null:[i.getBoundable(0).getItem(),i.getBoundable(1).getItem()]}}else{if(2===arguments.length){var u=arguments[0],l=arguments[1];if(this.isEmpty()||u.isEmpty())return null;var h=new ln(this.getRoot(),u.getRoot(),l);return this.nearestNeighbour(h)}if(3===arguments.length){var c=arguments[2],f=new nn(arguments[0],arguments[1]),g=new ln(this.getRoot(),f,c);return this.nearestNeighbour(g)[0]}if(4===arguments.length){var p=arguments[2],v=arguments[3],d=new nn(arguments[0],arguments[1]),y=new ln(this.getRoot(),d,p);return this.nearestNeighbourK(y,v)}}}},{key:"isWithinDistance",value:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=A.POSITIVE_INFINITY,r=new rn;for(r.add(t);!r.isEmpty();){var i=r.poll(),o=i.getDistance();if(o>e)return!1;if(i.maximumDistance()<=e)return!0;if(i.isLeaves()){if((n=o)<=e)return!0}else i.expandToQueue(r,n)}return!1}if(3===arguments.length){var s=arguments[0],a=arguments[1],u=arguments[2],l=new ln(this.getRoot(),s.getRoot(),a);return this.isWithinDistance(l,u)}}},{key:"interfaces_",get:function(){return[on,w]}}],[{key:"constructor_",value:function(){if(0===arguments.length)s.constructor_.call(this,s.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){var t=arguments[0];cn.constructor_.call(this,t)}}},{key:"centreX",value:function(t){return s.avg(t.getMinX(),t.getMaxX())}},{key:"avg",value:function(t,e){return(t+e)/2}},{key:"getItems",value:function(t){for(var e=new Array(t.size()).fill(null),n=0;!t.isEmpty();){var r=t.poll();e[n]=r.getBoundable(0).getItem(),n++}return e}},{key:"centreY",value:function(t){return s.avg(t.getMinY(),t.getMaxY())}}]),s}(cn),pn=function(e){r(o,e);var i=c(o);function o(){var e;return t(this,o),e=i.call(this),o.constructor_.apply(l(e),arguments),e}return n(o,[{key:"computeBounds",value:function(){for(var t=null,e=this.getChildBoundables().iterator();e.hasNext();){var n=e.next();null===t?t=new X(n.getBounds()):t.expandToInclude(n.getBounds())}return t}}],[{key:"constructor_",value:function(){var t=arguments[0];sn.constructor_.call(this,t)}}]),o}(sn);gn.STRtreeNode=pn,gn.xComparator=new(function(){function e(){t(this,e)}return n(e,[{key:"interfaces_",get:function(){return[D]}},{key:"compare",value:function(t,e){return cn.compareDoubles(gn.centreX(t.getBounds()),gn.centreX(e.getBounds()))}}]),e}()),gn.yComparator=new(function(){function e(){t(this,e)}return n(e,[{key:"interfaces_",get:function(){return[D]}},{key:"compare",value:function(t,e){return cn.compareDoubles(gn.centreY(t.getBounds()),gn.centreY(e.getBounds()))}}]),e}()),gn.intersectsOp=new(function(){function e(){t(this,e)}return n(e,[{key:"interfaces_",get:function(){return[IntersectsOp]}},{key:"intersects",value:function(t,e){return t.intersects(e)}}]),e}()),gn.DEFAULT_NODE_CAPACITY=10;var vn=function(){function e(){t(this,e)}return n(e,null,[{key:"relativeSign",value:function(t,e){return t<e?-1:t>e?1:0}},{key:"compare",value:function(t,n,r){if(n.equals2D(r))return 0;var i=e.relativeSign(n.x,r.x),o=e.relativeSign(n.y,r.y);switch(t){case 0:return e.compareValue(i,o);case 1:return e.compareValue(o,i);case 2:return e.compareValue(o,-i);case 3:return e.compareValue(-i,o);case 4:return e.compareValue(-i,-o);case 5:return e.compareValue(-o,-i);case 6:return e.compareValue(-o,i);case 7:return e.compareValue(i,-o)}return V.shouldNeverReachHere("invalid octant value"),0}},{key:"compareValue",value:function(t,e){return t<0?-1:t>0?1:e<0?-1:e>0?1:0}}]),e}(),dn=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)}},{key:"compareTo",value:function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:this._isInterior?e._isInterior?vn.compare(this._segmentOctant,this.coord,e.coord):1:-1}},{key:"isEndPoint",value:function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t}},{key:"toString",value:function(){return this.segmentIndex+":"+this.coord.toString()}},{key:"isInterior",value:function(){return this._isInterior}},{key:"interfaces_",get:function(){return[k]}}],[{key:"constructor_",value:function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this._segString=t,this.coord=new z(e),this.segmentIndex=n,this._segmentOctant=r,this._isInterior=!e.equals2D(t.getCoordinate(n))}}]),e}(),yn=function(){function e(){t(this,e)}return n(e,[{key:"hasNext",value:function(){}},{key:"next",value:function(){}},{key:"remove",value:function(){}}]),e}(),mn=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"getSplitCoordinates",value:function(){var t=new Ht;this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next();this.addEdgeCoordinates(n,r,t),n=r}return t.toCoordinateArray()}},{key:"addCollapsedNodes",value:function(){var t=new dt;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var n=e.next().intValue();this.add(this._edge.getCoordinate(n),n)}}},{key:"createSplitEdgePts",value:function(t,e){var n=e.segmentIndex-t.segmentIndex+2;if(2===n)return[new z(t.coord),new z(e.coord)];var r=this._edge.getCoordinate(e.segmentIndex),i=e.isInterior()||!e.coord.equals2D(r);i||n--;var o=new Array(n).fill(null),s=0;o[s++]=new z(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)o[s++]=this._edge.getCoordinate(a);return i&&(o[s]=new z(e.coord)),o}},{key:"print",value:function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)}},{key:"findCollapsesFromExistingVertices",value:function(t){for(var e=0;e<this._edge.size()-2;e++){var n=this._edge.getCoordinate(e);this._edge.getCoordinate(e+1);var r=this._edge.getCoordinate(e+2);n.equals2D(r)&&t.add(at.valueOf(e+1))}}},{key:"addEdgeCoordinates",value:function(t,e,n){var r=this.createSplitEdgePts(t,e);n.add(r,!1)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next(),i=this.createSplitEdge(n,r);t.add(i),n=r}}},{key:"findCollapseIndex",value:function(t,e,n){if(!t.coord.equals2D(e.coord))return!1;var r=e.segmentIndex-t.segmentIndex;return e.isInterior()||r--,1===r&&(n[0]=t.segmentIndex+1,!0)}},{key:"findCollapsesFromInsertedNodes",value:function(t){for(var e=new Array(1).fill(null),n=this.iterator(),r=n.next();n.hasNext();){var i=n.next();this.findCollapseIndex(r,i,e)&&t.add(at.valueOf(e[0])),r=i}}},{key:"getEdge",value:function(){return this._edge}},{key:"addEndpoints",value:function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)}},{key:"createSplitEdge",value:function(t,e){var n=this.createSplitEdgePts(t,e);return new kn(n,this._edge.getData())}},{key:"add",value:function(t,e){var n=new dn(this._edge,t,e,this._edge.getSegmentOctant(e)),r=this._nodeMap.get(n);return null!==r?(V.isTrue(r.coord.equals2D(t),"Found equal nodes with different coordinates"),r):(this._nodeMap.put(n,n),n)}},{key:"checkSplitEdgesCorrectness",value:function(t){var e=this._edge.getCoordinates(),n=t.get(0).getCoordinate(0);if(!n.equals2D(e[0]))throw new F("bad split edge start point at "+n);var r=t.get(t.size()-1).getCoordinates(),i=r[r.length-1];if(!i.equals2D(e[e.length-1]))throw new F("bad split edge end point at "+i)}}],[{key:"constructor_",value:function(){this._nodeMap=new Ze,this._edge=null;var t=arguments[0];this._edge=t}}]),e}(),_n=function(){function e(){t(this,e)}return n(e,null,[{key:"octant",value:function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],n=arguments[1];if(0===t&&0===n)throw new x("Cannot compute the octant for point ( "+t+", "+n+" )");var r=Math.abs(t),i=Math.abs(n);return t>=0?n>=0?r>=i?0:1:r>=i?7:6:n>=0?r>=i?3:2:r>=i?4:5}if(arguments[0]instanceof z&&arguments[1]instanceof z){var o=arguments[0],s=arguments[1],a=s.x-o.x,u=s.y-o.y;if(0===a&&0===u)throw new x("Cannot compute the octant for two identical points "+o);return e.octant(a,u)}}}]),e}(),xn=function(){function e(){t(this,e)}return n(e,[{key:"getCoordinates",value:function(){}},{key:"size",value:function(){}},{key:"getCoordinate",value:function(t){}},{key:"isClosed",value:function(){}},{key:"setData",value:function(t){}},{key:"getData",value:function(){}}]),e}(),En=function(){function e(){t(this,e)}return n(e,[{key:"addIntersection",value:function(t,e){}},{key:"interfaces_",get:function(){return[xn]}}]),e}(),kn=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"getCoordinates",value:function(){return this._pts}},{key:"size",value:function(){return this._pts.length}},{key:"getCoordinate",value:function(t){return this._pts[t]}},{key:"isClosed",value:function(){return this._pts[0].equals(this._pts[this._pts.length-1])}},{key:"getSegmentOctant",value:function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))}},{key:"setData",value:function(t){this._data=t}},{key:"safeOctant",value:function(t,e){return t.equals2D(e)?0:_n.octant(t,e)}},{key:"getData",value:function(){return this._data}},{key:"addIntersection",value:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.addIntersectionNode(t,e)}else if(4===arguments.length){var n=arguments[1],r=arguments[3],i=new z(arguments[0].getIntersection(r));this.addIntersection(i,n)}}},{key:"toString",value:function(){return Le.toLineString(new $t(this._pts))}},{key:"getNodeList",value:function(){return this._nodeList}},{key:"addIntersectionNode",value:function(t,e){var n=e,r=n+1;if(r<this._pts.length){var i=this._pts[r];t.equals2D(i)&&(n=r)}return this._nodeList.add(t,n)}},{key:"addIntersections",value:function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++)this.addIntersection(t,e,n,r)}},{key:"interfaces_",get:function(){return[En]}}],[{key:"constructor_",value:function(){this._nodeList=new mn(this),this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e}},{key:"getNodedSubstrings",value:function(){if(1===arguments.length){var t=arguments[0],n=new dt;return e.getNodedSubstrings(t,n),n}if(2===arguments.length)for(var r=arguments[1],i=arguments[0].iterator();i.hasNext();)i.next().getNodeList().addSplitEdges(r)}}]),e}(),bn=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"minX",value:function(){return Math.min(this.p0.x,this.p1.x)}},{key:"orientationIndex",value:function(){if(arguments[0]instanceof e){var t=arguments[0],n=ft.index(this.p0,this.p1,t.p0),r=ft.index(this.p0,this.p1,t.p1);return n>=0&&r>=0||n<=0&&r<=0?Math.max(n,r):0}if(arguments[0]instanceof z){var i=arguments[0];return ft.index(this.p0,this.p1,i)}}},{key:"toGeometry",value:function(t){return t.createLineString([this.p0,this.p1])}},{key:"isVertical",value:function(){return this.p0.x===this.p1.x}},{key:"equals",value:function(t){if(!(t instanceof e))return!1;var n=t;return this.p0.equals(n.p0)&&this.p1.equals(n.p1)}},{key:"intersection",value:function(t){var e=new Ce;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null}},{key:"project",value:function(){if(arguments[0]instanceof z){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new z(t);var n=this.projectionFactor(t),r=new z;return r.x=this.p0.x+n*(this.p1.x-this.p0.x),r.y=this.p0.y+n*(this.p1.y-this.p0.y),r}if(arguments[0]instanceof e){var i=arguments[0],o=this.projectionFactor(i.p0),s=this.projectionFactor(i.p1);if(o>=1&&s>=1)return null;if(o<=0&&s<=0)return null;var a=this.project(i.p0);o<0&&(a=this.p0),o>1&&(a=this.p1);var u=this.project(i.p1);return s<0&&(u=this.p0),s>1&&(u=this.p1),new e(a,u)}}},{key:"normalize",value:function(){this.p1.compareTo(this.p0)<0&&this.reverse()}},{key:"angle",value:function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)}},{key:"getCoordinate",value:function(t){return 0===t?this.p0:this.p1}},{key:"distancePerpendicular",value:function(t){return kt.pointToLinePerpendicular(t,this.p0,this.p1)}},{key:"minY",value:function(){return Math.min(this.p0.y,this.p1.y)}},{key:"midPoint",value:function(){return e.midPoint(this.p0,this.p1)}},{key:"projectionFactor",value:function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,r=e*e+n*n;return r<=0?A.NaN:((t.x-this.p0.x)*e+(t.y-this.p0.y)*n)/r}},{key:"closestPoints",value:function(t){var e=this.intersection(t);if(null!==e)return[e,e];var n=new Array(2).fill(null),r=A.MAX_VALUE,i=null,o=this.closestPoint(t.p0);r=o.distance(t.p0),n[0]=o,n[1]=t.p0;var s=this.closestPoint(t.p1);(i=s.distance(t.p1))<r&&(r=i,n[0]=s,n[1]=t.p1);var a=t.closestPoint(this.p0);(i=a.distance(this.p0))<r&&(r=i,n[0]=this.p0,n[1]=a);var u=t.closestPoint(this.p1);return(i=u.distance(this.p1))<r&&(r=i,n[0]=this.p1,n[1]=u),n}},{key:"closestPoint",value:function(t){var e=this.projectionFactor(t);return e>0&&e<1?this.project(t):this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1}},{key:"maxX",value:function(){return Math.max(this.p0.x,this.p1.x)}},{key:"getLength",value:function(){return this.p0.distance(this.p1)}},{key:"compareTo",value:function(t){var e=t,n=this.p0.compareTo(e.p0);return 0!==n?n:this.p1.compareTo(e.p1)}},{key:"reverse",value:function(){var t=this.p0;this.p0=this.p1,this.p1=t}},{key:"equalsTopo",value:function(t){return this.p0.equals(t.p0)&&this.p1.equals(t.p1)||this.p0.equals(t.p1)&&this.p1.equals(t.p0)}},{key:"lineIntersection",value:function(t){return _t.intersection(this.p0,this.p1,t.p0,t.p1)}},{key:"maxY",value:function(){return Math.max(this.p0.y,this.p1.y)}},{key:"pointAlongOffset",value:function(t,e){var n=this.p0.x+t*(this.p1.x-this.p0.x),r=this.p0.y+t*(this.p1.y-this.p0.y),i=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,s=Math.sqrt(i*i+o*o),a=0,u=0;if(0!==e){if(s<=0)throw new IllegalStateException("Cannot compute offset from zero-length line segment");a=e*i/s,u=e*o/s}return new z(n-u,r+a)}},{key:"setCoordinates",value:function(){if(1===arguments.length){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=n.x,this.p1.y=n.y}}},{key:"segmentFraction",value:function(t){var e=this.projectionFactor(t);return e<0?e=0:(e>1||A.isNaN(e))&&(e=1),e}},{key:"toString",value:function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"}},{key:"isHorizontal",value:function(){return this.p0.y===this.p1.y}},{key:"reflect",value:function(t){var e=this.p1.getY()-this.p0.getY(),n=this.p0.getX()-this.p1.getX(),r=this.p0.getY()*(this.p1.getX()-this.p0.getX())-this.p0.getX()*(this.p1.getY()-this.p0.getY()),i=e*e+n*n,o=e*e-n*n,s=t.getX(),a=t.getY();return new z((-o*s-2*e*n*a-2*e*r)/i,(o*a-2*e*n*s-2*n*r)/i)}},{key:"distance",value:function(){if(arguments[0]instanceof e){var t=arguments[0];return kt.segmentToSegment(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof z){var n=arguments[0];return kt.pointToSegment(n,this.p0,this.p1)}}},{key:"pointAlong",value:function(t){var e=new z;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e}},{key:"hashCode",value:function(){var t=A.doubleToLongBits(this.p0.x);t^=31*A.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),n=A.doubleToLongBits(this.p1.x);return n^=31*A.doubleToLongBits(this.p1.y),e^Math.trunc(n)^Math.trunc(n>>32)}},{key:"interfaces_",get:function(){return[k,w]}}],[{key:"constructor_",value:function(){if(this.p0=null,this.p1=null,0===arguments.length)e.constructor_.call(this,new z,new z);else if(1===arguments.length){var t=arguments[0];e.constructor_.call(this,t.p0,t.p1)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.p0=n,this.p1=r}else if(4===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];e.constructor_.call(this,new z(i,o),new z(s,a))}}},{key:"midPoint",value:function(t,e){return new z((t.x+e.x)/2,(t.y+e.y)/2)}}]),e}(),wn=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"overlap",value:function(){if(2===arguments.length);else if(4===arguments.length){var t=arguments[1],e=arguments[2],n=arguments[3];arguments[0].getLineSegment(t,this._overlapSeg1),e.getLineSegment(n,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}}],[{key:"constructor_",value:function(){this._overlapSeg1=new bn,this._overlapSeg2=new bn}}]),e}(),In=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"getLineSegment",value:function(t,e){e.p0=this._pts[t],e.p1=this._pts[t+1]}},{key:"computeSelect",value:function(t,e,n,r){var i=this._pts[e],o=this._pts[n];if(n-e==1)return r.select(this,e),null;if(!t.intersects(i,o))return null;var s=Math.trunc((e+n)/2);e<s&&this.computeSelect(t,e,s,r),s<n&&this.computeSelect(t,s,n,r)}},{key:"getCoordinates",value:function(){for(var t=new Array(this._end-this._start+1).fill(null),e=0,n=this._start;n<=this._end;n++)t[e++]=this._pts[n];return t}},{key:"computeOverlaps",value:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.computeOverlaps(this._start,this._end,t,t._start,t._end,e)}else if(6===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=arguments[3],s=arguments[4],a=arguments[5];if(r-n==1&&s-o==1)return a.overlap(this,n,i,o),null;if(!this.overlaps(n,r,i,o,s))return null;var u=Math.trunc((n+r)/2),l=Math.trunc((o+s)/2);n<u&&(o<l&&this.computeOverlaps(n,u,i,o,l,a),l<s&&this.computeOverlaps(n,u,i,l,s,a)),u<r&&(o<l&&this.computeOverlaps(u,r,i,o,l,a),l<s&&this.computeOverlaps(u,r,i,l,s,a))}}},{key:"setId",value:function(t){this._id=t}},{key:"select",value:function(t,e){this.computeSelect(t,this._start,this._end,e)}},{key:"getEnvelope",value:function(){if(null===this._env){var t=this._pts[this._start],e=this._pts[this._end];this._env=new X(t,e)}return this._env}},{key:"overlaps",value:function(t,e,n,r,i){return X.intersects(this._pts[t],this._pts[e],n._pts[r],n._pts[i])}},{key:"getEndIndex",value:function(){return this._end}},{key:"getStartIndex",value:function(){return this._start}},{key:"getContext",value:function(){return this._context}},{key:"getId",value:function(){return this._id}}],[{key:"constructor_",value:function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this._pts=t,this._start=e,this._end=n,this._context=r}}]),e}(),Nn=function(){function e(){t(this,e)}return n(e,null,[{key:"findChainEnd",value:function(t,e){for(var n=e;n<t.length-1&&t[n].equals2D(t[n+1]);)n++;if(n>=t.length-1)return t.length-1;for(var r=We.quadrant(t[n],t[n+1]),i=e+1;i<t.length&&(t[i-1].equals2D(t[i])||We.quadrant(t[i-1],t[i])===r);)i++;return i-1}},{key:"getChains",value:function(){if(1===arguments.length){var t=arguments[0];return e.getChains(t,null)}if(2===arguments.length){var n=arguments[0],r=arguments[1],i=new dt,o=0;do{var s=e.findChainEnd(n,o),a=new In(n,o,s,r);i.add(a),o=s}while(o<n.length-1);return i}}}]),e}(),Sn=function(){function e(){t(this,e)}return n(e,[{key:"computeNodes",value:function(t){}},{key:"getNodedSubstrings",value:function(){}}]),e}(),Mn=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"setSegmentIntersector",value:function(t){this._segInt=t}},{key:"interfaces_",get:function(){return[Sn]}}],[{key:"constructor_",value:function(){if(this._segInt=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setSegmentIntersector(t)}}}]),e}(),Ln=function(e){r(o,e);var i=c(o);function o(){var e;return t(this,o),e=i.call(this),o.constructor_.apply(l(e),arguments),e}return n(o,[{key:"getMonotoneChains",value:function(){return this._monoChains}},{key:"getNodedSubstrings",value:function(){return kn.getNodedSubstrings(this._nodedSegStrings)}},{key:"getIndex",value:function(){return this._index}},{key:"add",value:function(t){for(var e=Nn.getChains(t.getCoordinates(),t).iterator();e.hasNext();){var n=e.next();n.setId(this._idCounter++),this._index.insert(n.getEnvelope(),n),this._monoChains.add(n)}}},{key:"computeNodes",value:function(t){this._nodedSegStrings=t;for(var e=t.iterator();e.hasNext();)this.add(e.next());this.intersectChains()}},{key:"intersectChains",value:function(){for(var t=new Pn(this._segInt),e=this._monoChains.iterator();e.hasNext();)for(var n=e.next(),r=this._index.query(n.getEnvelope()).iterator();r.hasNext();){var i=r.next();if(i.getId()>n.getId()&&(n.computeOverlaps(i,t),this._nOverlaps++),this._segInt.isDone())return null}}}],[{key:"constructor_",value:function(){if(this._monoChains=new dt,this._index=new gn,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0,0===arguments.length);else if(1===arguments.length){var t=arguments[0];Mn.constructor_.call(this,t)}}}]),o}(Mn),Pn=function(e){r(s,e);var o=c(s);function s(){var e;return t(this,s),e=o.call(this),s.constructor_.apply(l(e),arguments),e}return n(s,[{key:"overlap",value:function(){if(4!==arguments.length)return f(i(s.prototype),"overlap",this).apply(this,arguments);var t=arguments[1],e=arguments[2],n=arguments[3],r=arguments[0].getContext(),o=e.getContext();this._si.processIntersections(r,t,o,n)}}],[{key:"constructor_",value:function(){this._si=null;var t=arguments[0];this._si=t}}]),s}(wn);Ln.SegmentOverlapAction=Pn;var Cn=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"isDeletable",value:function(t,e,n,r){var i=this._inputLine[t],o=this._inputLine[e],s=this._inputLine[n];return!!this.isConcave(i,o,s)&&!!this.isShallow(i,o,s,r)&&this.isShallowSampled(i,o,t,n,r)}},{key:"deleteShallowConcavities",value:function(){for(var t=1,n=this.findNextNonDeletedIndex(t),r=this.findNextNonDeletedIndex(n),i=!1;r<this._inputLine.length;){var o=!1;this.isDeletable(t,n,r,this._distanceTol)&&(this._isDeleted[n]=e.DELETE,o=!0,i=!0),t=o?r:n,n=this.findNextNonDeletedIndex(t),r=this.findNextNonDeletedIndex(n)}return i}},{key:"isShallowConcavity",value:function(t,e,n,r){return ft.index(t,e,n)===this._angleOrientation&&kt.pointToSegment(e,t,n)<r}},{key:"isShallowSampled",value:function(t,n,r,i,o){var s=Math.trunc((i-r)/e.NUM_PTS_TO_CHECK);s<=0&&(s=1);for(var a=r;a<i;a+=s)if(!this.isShallow(t,n,this._inputLine[a],o))return!1;return!0}},{key:"isConcave",value:function(t,e,n){return ft.index(t,e,n)===this._angleOrientation}},{key:"simplify",value:function(t){this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=ft.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var e=!1;do{e=this.deleteShallowConcavities()}while(e);return this.collapseLine()}},{key:"findNextNonDeletedIndex",value:function(t){for(var n=t+1;n<this._inputLine.length&&this._isDeleted[n]===e.DELETE;)n++;return n}},{key:"isShallow",value:function(t,e,n,r){return kt.pointToSegment(e,t,n)<r}},{key:"collapseLine",value:function(){for(var t=new Ht,n=0;n<this._inputLine.length;n++)this._isDeleted[n]!==e.DELETE&&t.add(this._inputLine[n]);return t.toCoordinateArray()}}],[{key:"constructor_",value:function(){this._inputLine=null,this._distanceTol=null,this._isDeleted=null,this._angleOrientation=ft.COUNTERCLOCKWISE;var t=arguments[0];this._inputLine=t}},{key:"simplify",value:function(t,n){return new e(t).simplify(n)}}]),e}();Cn.INIT=0,Cn.DELETE=1,Cn.KEEP=1,Cn.NUM_PTS_TO_CHECK=10;var Tn=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"getCoordinates",value:function(){return this._ptList.toArray(e.COORDINATE_ARRAY_TYPE)}},{key:"setPrecisionModel",value:function(t){this._precisionModel=t}},{key:"addPt",value:function(t){var e=new z(t);if(this._precisionModel.makePrecise(e),this.isRedundant(e))return null;this._ptList.add(e)}},{key:"reverse",value:function(){}},{key:"addPts",value:function(t,e){if(e)for(var n=0;n<t.length;n++)this.addPt(t[n]);else for(var r=t.length-1;r>=0;r--)this.addPt(t[r])}},{key:"isRedundant",value:function(t){if(this._ptList.size()<1)return!1;var e=this._ptList.get(this._ptList.size()-1);return t.distance(e)<this._minimimVertexDistance}},{key:"toString",value:function(){return(new ae).createLineString(this.getCoordinates()).toString()}},{key:"closeRing",value:function(){if(this._ptList.size()<1)return null;var t=new z(this._ptList.get(0)),e=this._ptList.get(this._ptList.size()-1);if(t.equals(e))return null;this._ptList.add(t)}},{key:"setMinimumVertexDistance",value:function(t){this._minimimVertexDistance=t}}],[{key:"constructor_",value:function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new dt}}]),e}();Tn.COORDINATE_ARRAY_TYPE=new Array(0).fill(null);var On=function(){function e(){t(this,e)}return n(e,null,[{key:"toDegrees",value:function(t){return 180*t/Math.PI}},{key:"normalize",value:function(t){for(;t>Math.PI;)t-=e.PI_TIMES_2;for(;t<=-Math.PI;)t+=e.PI_TIMES_2;return t}},{key:"angle",value:function(){if(1===arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){var e=arguments[0],n=arguments[1],r=n.x-e.x,i=n.y-e.y;return Math.atan2(i,r)}}},{key:"isAcute",value:function(t,e,n){var r=t.x-e.x,i=t.y-e.y;return r*(n.x-e.x)+i*(n.y-e.y)>0}},{key:"isObtuse",value:function(t,e,n){var r=t.x-e.x,i=t.y-e.y;return r*(n.x-e.x)+i*(n.y-e.y)<0}},{key:"interiorAngle",value:function(t,n,r){var i=e.angle(n,t),o=e.angle(n,r);return Math.abs(o-i)}},{key:"normalizePositive",value:function(t){if(t<0){for(;t<0;)t+=e.PI_TIMES_2;t>=e.PI_TIMES_2&&(t=0)}else{for(;t>=e.PI_TIMES_2;)t-=e.PI_TIMES_2;t<0&&(t=0)}return t}},{key:"angleBetween",value:function(t,n,r){var i=e.angle(n,t),o=e.angle(n,r);return e.diff(i,o)}},{key:"diff",value:function(t,e){var n=null;return(n=t<e?e-t:t-e)>Math.PI&&(n=2*Math.PI-n),n}},{key:"toRadians",value:function(t){return t*Math.PI/180}},{key:"getTurn",value:function(t,n){var r=Math.sin(n-t);return r>0?e.COUNTERCLOCKWISE:r<0?e.CLOCKWISE:e.NONE}},{key:"angleBetweenOriented",value:function(t,n,r){var i=e.angle(n,t),o=e.angle(n,r)-i;return o<=-Math.PI?o+e.PI_TIMES_2:o>Math.PI?o-e.PI_TIMES_2:o}}]),e}();On.PI_TIMES_2=2*Math.PI,On.PI_OVER_2=Math.PI/2,On.PI_OVER_4=Math.PI/4,On.COUNTERCLOCKWISE=ft.COUNTERCLOCKWISE,On.CLOCKWISE=ft.CLOCKWISE,On.NONE=ft.COLLINEAR;var Rn=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"addNextSegment",value:function(t,e){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var n=ft.index(this._s0,this._s1,this._s2),r=n===ft.CLOCKWISE&&this._side===tt.LEFT||n===ft.COUNTERCLOCKWISE&&this._side===tt.RIGHT;0===n?this.addCollinear(e):r?this.addOutsideTurn(n,e):this.addInsideTurn(n,e)}},{key:"addLineEndCap",value:function(t,e){var n=new bn(t,e),r=new bn;this.computeOffsetSegment(n,tt.LEFT,this._distance,r);var i=new bn;this.computeOffsetSegment(n,tt.RIGHT,this._distance,i);var o=e.x-t.x,s=e.y-t.y,a=Math.atan2(s,o);switch(this._bufParams.getEndCapStyle()){case y.CAP_ROUND:this._segList.addPt(r.p1),this.addDirectedFillet(e,a+Math.PI/2,a-Math.PI/2,ft.CLOCKWISE,this._distance),this._segList.addPt(i.p1);break;case y.CAP_FLAT:this._segList.addPt(r.p1),this._segList.addPt(i.p1);break;case y.CAP_SQUARE:var u=new z;u.x=Math.abs(this._distance)*Math.cos(a),u.y=Math.abs(this._distance)*Math.sin(a);var l=new z(r.p1.x+u.x,r.p1.y+u.y),h=new z(i.p1.x+u.x,i.p1.y+u.y);this._segList.addPt(l),this._segList.addPt(h)}}},{key:"getCoordinates",value:function(){return this._segList.getCoordinates()}},{key:"addMitreJoin",value:function(t,e,n,r){var i=_t.intersection(e.p0,e.p1,n.p0,n.p1);if(null!==i&&(r<=0?1:i.distance(t)/Math.abs(r))<=this._bufParams.getMitreLimit())return this._segList.addPt(i),null;this.addLimitedMitreJoin(e,n,r,this._bufParams.getMitreLimit())}},{key:"addOutsideTurn",value:function(t,n){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*e.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===y.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===y.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(n&&this._segList.addPt(this._offset0.p1),this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))}},{key:"createSquare",value:function(t){this._segList.addPt(new z(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new z(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new z(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new z(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()}},{key:"addSegments",value:function(t,e){this._segList.addPts(t,e)}},{key:"addFirstSegment",value:function(){this._segList.addPt(this._offset1.p0)}},{key:"addCornerFillet",value:function(t,e,n,r,i){var o=e.x-t.x,s=e.y-t.y,a=Math.atan2(s,o),u=n.x-t.x,l=n.y-t.y,h=Math.atan2(l,u);r===ft.CLOCKWISE?a<=h&&(a+=2*Math.PI):a>=h&&(a-=2*Math.PI),this._segList.addPt(e),this.addDirectedFillet(t,a,h,r,i),this._segList.addPt(n)}},{key:"addLastSegment",value:function(){this._segList.addPt(this._offset1.p1)}},{key:"initSideSegments",value:function(t,e,n){this._s1=t,this._s2=e,this._side=n,this._seg1.setCoordinates(t,e),this.computeOffsetSegment(this._seg1,n,this._distance,this._offset1)}},{key:"addLimitedMitreJoin",value:function(t,e,n,r){var i=this._seg0.p1,o=On.angle(i,this._seg0.p0),s=On.angleBetweenOriented(this._seg0.p0,i,this._seg1.p1)/2,a=On.normalize(o+s),u=On.normalize(a+Math.PI),l=r*n,h=n-l*Math.abs(Math.sin(s)),c=i.x+l*Math.cos(u),f=i.y+l*Math.sin(u),g=new z(c,f),p=new bn(i,g),v=p.pointAlongOffset(1,h),d=p.pointAlongOffset(1,-h);this._side===tt.LEFT?(this._segList.addPt(v),this._segList.addPt(d)):(this._segList.addPt(d),this._segList.addPt(v))}},{key:"addDirectedFillet",value:function(t,e,n,r,i){var o=r===ft.CLOCKWISE?-1:1,s=Math.abs(e-n),a=Math.trunc(s/this._filletAngleQuantum+.5);if(a<1)return null;for(var u=s/a,l=new z,h=0;h<a;h++){var c=e+o*h*u;l.x=t.x+i*Math.cos(c),l.y=t.y+i*Math.sin(c),this._segList.addPt(l)}}},{key:"computeOffsetSegment",value:function(t,e,n,r){var i=e===tt.LEFT?1:-1,o=t.p1.x-t.p0.x,s=t.p1.y-t.p0.y,a=Math.sqrt(o*o+s*s),u=i*n*o/a,l=i*n*s/a;r.p0.x=t.p0.x-l,r.p0.y=t.p0.y+u,r.p1.x=t.p1.x-l,r.p1.y=t.p1.y+u}},{key:"addInsideTurn",value:function(t,n){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*e.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var r=new z((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(r);var i=new z((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(i)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}}},{key:"createCircle",value:function(t){var e=new z(t.x+this._distance,t.y);this._segList.addPt(e),this.addDirectedFillet(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()}},{key:"addBevelJoin",value:function(t,e){this._segList.addPt(t.p1),this._segList.addPt(e.p0)}},{key:"init",value:function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Tn,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*e.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)}},{key:"addCollinear",value:function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===y.JOIN_BEVEL||this._bufParams.getJoinStyle()===y.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,ft.CLOCKWISE,this._distance))}},{key:"closeRing",value:function(){this._segList.closeRing()}},{key:"hasNarrowConcaveAngle",value:function(){return this._hasNarrowConcaveAngle}}],[{key:"constructor_",value:function(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new bn,this._seg1=new bn,this._offset0=new bn,this._offset1=new bn,this._side=0,this._hasNarrowConcaveAngle=!1;var t=arguments[0],n=arguments[1],r=arguments[2];this._precisionModel=t,this._bufParams=n,this._li=new Ce,this._filletAngleQuantum=Math.PI/2/n.getQuadrantSegments(),n.getQuadrantSegments()>=8&&n.getJoinStyle()===y.JOIN_ROUND&&(this._closingSegLengthFactor=e.MAX_CLOSING_SEG_LEN_FACTOR),this.init(r)}}]),e}();Rn.OFFSET_SEGMENT_SEPARATION_FACTOR=.001,Rn.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001,Rn.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6,Rn.MAX_CLOSING_SEG_LEN_FACTOR=80;var An=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"getOffsetCurve",value:function(t,e){if(this._distance=e,0===e)return null;var n=e<0,r=Math.abs(e),i=this.getSegGen(r);t.length<=1?this.computePointCurve(t[0],i):this.computeOffsetCurve(t,n,i);var o=i.getCoordinates();return n&&Wt.reverse(o),o}},{key:"computeSingleSidedBufferCurve",value:function(t,e,n){var r=this.simplifyTolerance(this._distance);if(e){n.addSegments(t,!0);var i=Cn.simplify(t,-r),o=i.length-1;n.initSideSegments(i[o],i[o-1],tt.LEFT),n.addFirstSegment();for(var s=o-2;s>=0;s--)n.addNextSegment(i[s],!0)}else{n.addSegments(t,!1);var a=Cn.simplify(t,r),u=a.length-1;n.initSideSegments(a[0],a[1],tt.LEFT),n.addFirstSegment();for(var l=2;l<=u;l++)n.addNextSegment(a[l],!0)}n.addLastSegment(),n.closeRing()}},{key:"computeRingBufferCurve",value:function(t,e,n){var r=this.simplifyTolerance(this._distance);e===tt.RIGHT&&(r=-r);var i=Cn.simplify(t,r),o=i.length-1;n.initSideSegments(i[o-1],i[0],e);for(var s=1;s<=o;s++){var a=1!==s;n.addNextSegment(i[s],a)}n.closeRing()}},{key:"computeLineBufferCurve",value:function(t,e){var n=this.simplifyTolerance(this._distance),r=Cn.simplify(t,n),i=r.length-1;e.initSideSegments(r[0],r[1],tt.LEFT);for(var o=2;o<=i;o++)e.addNextSegment(r[o],!0);e.addLastSegment(),e.addLineEndCap(r[i-1],r[i]);var s=Cn.simplify(t,-n),a=s.length-1;e.initSideSegments(s[a],s[a-1],tt.LEFT);for(var u=a-2;u>=0;u--)e.addNextSegment(s[u],!0);e.addLastSegment(),e.addLineEndCap(s[1],s[0]),e.closeRing()}},{key:"computePointCurve",value:function(t,e){switch(this._bufParams.getEndCapStyle()){case y.CAP_ROUND:e.createCircle(t);break;case y.CAP_SQUARE:e.createSquare(t)}}},{key:"getLineCurve",value:function(t,e){if(this._distance=e,this.isLineOffsetEmpty(e))return null;var n=Math.abs(e),r=this.getSegGen(n);if(t.length<=1)this.computePointCurve(t[0],r);else if(this._bufParams.isSingleSided()){var i=e<0;this.computeSingleSidedBufferCurve(t,i,r)}else this.computeLineBufferCurve(t,r);return r.getCoordinates()}},{key:"getBufferParameters",value:function(){return this._bufParams}},{key:"simplifyTolerance",value:function(t){return t*this._bufParams.getSimplifyFactor()}},{key:"getRingCurve",value:function(t,n,r){if(this._distance=r,t.length<=2)return this.getLineCurve(t,r);if(0===r)return e.copyCoordinates(t);var i=this.getSegGen(r);return this.computeRingBufferCurve(t,n,i),i.getCoordinates()}},{key:"computeOffsetCurve",value:function(t,e,n){var r=this.simplifyTolerance(this._distance);if(e){var i=Cn.simplify(t,-r),o=i.length-1;n.initSideSegments(i[o],i[o-1],tt.LEFT),n.addFirstSegment();for(var s=o-2;s>=0;s--)n.addNextSegment(i[s],!0)}else{var a=Cn.simplify(t,r),u=a.length-1;n.initSideSegments(a[0],a[1],tt.LEFT),n.addFirstSegment();for(var l=2;l<=u;l++)n.addNextSegment(a[l],!0)}n.addLastSegment()}},{key:"isLineOffsetEmpty",value:function(t){return 0===t||t<0&&!this._bufParams.isSingleSided()}},{key:"getSegGen",value:function(t){return new Rn(this._precisionModel,this._bufParams,t)}}],[{key:"constructor_",value:function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var t=arguments[0],e=arguments[1];this._precisionModel=t,this._bufParams=e}},{key:"copyCoordinates",value:function(t){for(var e=new Array(t.length).fill(null),n=0;n<e.length;n++)e[n]=new z(t[n]);return e}}]),e}(),Dn=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"findStabbedSegments",value:function(){if(1===arguments.length){for(var t=arguments[0],e=new dt,n=this._subgraphs.iterator();n.hasNext();){var r=n.next(),i=r.getEnvelope();t.y<i.getMinY()||t.y>i.getMaxY()||this.findStabbedSegments(t,r.getDirectedEdges(),e)}return e}if(3===arguments.length)if(ot(arguments[2],rt)&&arguments[0]instanceof z&&arguments[1]instanceof Ke){for(var o=arguments[0],s=arguments[1],a=arguments[2],u=s.getEdge().getCoordinates(),l=0;l<u.length-1;l++)if(this._seg.p0=u[l],this._seg.p1=u[l+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<o.x||this._seg.isHorizontal()||o.y<this._seg.p0.y||o.y>this._seg.p1.y||ft.index(this._seg.p0,this._seg.p1,o)===ft.RIGHT)){var h=s.getDepth(tt.LEFT);this._seg.p0.equals(u[l])||(h=s.getDepth(tt.RIGHT));var c=new Fn(this._seg,h);a.add(c)}}else if(ot(arguments[2],rt)&&arguments[0]instanceof z&&ot(arguments[1],rt))for(var f=arguments[0],g=arguments[2],p=arguments[1].iterator();p.hasNext();){var v=p.next();v.isForward()&&this.findStabbedSegments(f,v,g)}}},{key:"getDepth",value:function(t){var e=this.findStabbedSegments(t);return 0===e.size()?0:an.min(e)._leftDepth}}],[{key:"constructor_",value:function(){this._subgraphs=null,this._seg=new bn;var t=arguments[0];this._subgraphs=t}}]),e}(),Fn=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"compareTo",value:function(t){var e=t;if(this._upwardSeg.minX()>=e._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=e._upwardSeg.minX())return-1;var n=this._upwardSeg.orientationIndex(e._upwardSeg);return 0!==n||0!=(n=-1*e._upwardSeg.orientationIndex(this._upwardSeg))?n:this._upwardSeg.compareTo(e._upwardSeg)}},{key:"compareX",value:function(t,e){var n=t.p0.compareTo(e.p0);return 0!==n?n:t.p1.compareTo(e.p1)}},{key:"toString",value:function(){return this._upwardSeg.toString()}},{key:"interfaces_",get:function(){return[k]}}],[{key:"constructor_",value:function(){this._upwardSeg=null,this._leftDepth=null;var t=arguments[0],e=arguments[1];this._upwardSeg=new bn(t),this._leftDepth=e}}]),e}();Dn.DepthSegment=Fn;var qn=function(e){r(o,e);var i=c(o);function o(){var e;return t(this,o),e=i.call(this),o.constructor_.apply(l(e),arguments),e}return n(o,null,[{key:"constructor_",value:function(){_.constructor_.call(this,"Projective point not representable on the Cartesian plane.")}}]),o}(_),Vn=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"getY",value:function(){var t=this.y/this.w;if(A.isNaN(t)||A.isInfinite(t))throw new qn;return t}},{key:"getX",value:function(){var t=this.x/this.w;if(A.isNaN(t)||A.isInfinite(t))throw new qn;return t}},{key:"getCoordinate",value:function(){var t=new z;return t.x=this.getX(),t.y=this.getY(),t}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var t=arguments[0];this.x=t.x,this.y=t.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var n=arguments[0],r=arguments[1];this.x=n,this.y=r,this.w=1}else if(arguments[0]instanceof e&&arguments[1]instanceof e){var i=arguments[0],o=arguments[1];this.x=i.y*o.w-o.y*i.w,this.y=o.x*i.w-i.x*o.w,this.w=i.x*o.y-o.x*i.y}else if(arguments[0]instanceof z&&arguments[1]instanceof z){var s=arguments[0],a=arguments[1];this.x=s.y-a.y,this.y=a.x-s.x,this.w=s.x*a.y-a.x*s.y}}else if(3===arguments.length){var u=arguments[0],l=arguments[1],h=arguments[2];this.x=u,this.y=l,this.w=h}else if(4===arguments.length){var c=arguments[0],f=arguments[1],g=arguments[2],p=arguments[3],v=c.y-f.y,d=f.x-c.x,y=c.x*f.y-f.x*c.y,m=g.y-p.y,_=p.x-g.x,x=g.x*p.y-p.x*g.y;this.x=d*x-_*y,this.y=m*y-v*x,this.w=v*_-m*d}}}]),e}(),Gn=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"area",value:function(){return e.area(this.p0,this.p1,this.p2)}},{key:"signedArea",value:function(){return e.signedArea(this.p0,this.p1,this.p2)}},{key:"interpolateZ",value:function(t){if(null===t)throw new x("Supplied point is null.");return e.interpolateZ(t,this.p0,this.p1,this.p2)}},{key:"longestSideLength",value:function(){return e.longestSideLength(this.p0,this.p1,this.p2)}},{key:"isAcute",value:function(){return e.isAcute(this.p0,this.p1,this.p2)}},{key:"circumcentre",value:function(){return e.circumcentre(this.p0,this.p1,this.p2)}},{key:"area3D",value:function(){return e.area3D(this.p0,this.p1,this.p2)}},{key:"centroid",value:function(){return e.centroid(this.p0,this.p1,this.p2)}},{key:"inCentre",value:function(){return e.inCentre(this.p0,this.p1,this.p2)}}],[{key:"constructor_",value:function(){this.p0=null,this.p1=null,this.p2=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.p0=t,this.p1=e,this.p2=n}},{key:"area",value:function(t,e,n){return Math.abs(((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2)}},{key:"signedArea",value:function(t,e,n){return((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2}},{key:"det",value:function(t,e,n,r){return t*r-e*n}},{key:"interpolateZ",value:function(t,e,n,r){var i=e.x,o=e.y,s=n.x-i,a=r.x-i,u=n.y-o,l=r.y-o,h=s*l-a*u,c=t.x-i,f=t.y-o,g=(l*c-a*f)/h,p=(-u*c+s*f)/h;return e.getZ()+g*(n.getZ()-e.getZ())+p*(r.getZ()-e.getZ())}},{key:"longestSideLength",value:function(t,e,n){var r=t.distance(e),i=e.distance(n),o=n.distance(t),s=r;return i>s&&(s=i),o>s&&(s=o),s}},{key:"circumcentreDD",value:function(t,e,n){var r=lt.valueOf(t.x).subtract(n.x),i=lt.valueOf(t.y).subtract(n.y),o=lt.valueOf(e.x).subtract(n.x),s=lt.valueOf(e.y).subtract(n.y),a=lt.determinant(r,i,o,s).multiply(2),u=r.sqr().add(i.sqr()),l=o.sqr().add(s.sqr()),h=lt.determinant(i,u,s,l),c=lt.determinant(r,u,o,l),f=lt.valueOf(n.x).subtract(h.divide(a)).doubleValue(),g=lt.valueOf(n.y).add(c.divide(a)).doubleValue();return new z(f,g)}},{key:"isAcute",value:function(t,e,n){return!!On.isAcute(t,e,n)&&!!On.isAcute(e,n,t)&&!!On.isAcute(n,t,e)}},{key:"circumcentre",value:function(t,n,r){var i=r.x,o=r.y,s=t.x-i,a=t.y-o,u=n.x-i,l=n.y-o,h=2*e.det(s,a,u,l),c=e.det(a,s*s+a*a,l,u*u+l*l),f=e.det(s,s*s+a*a,u,u*u+l*l);return new z(i-c/h,o+f/h)}},{key:"perpendicularBisector",value:function(t,e){var n=e.x-t.x,r=e.y-t.y,i=new Vn(t.x+n/2,t.y+r/2,1),o=new Vn(t.x-r+n/2,t.y+n+r/2,1);return new Vn(i,o)}},{key:"angleBisector",value:function(t,e,n){var r=e.distance(t),i=r/(r+e.distance(n)),o=n.x-t.x,s=n.y-t.y;return new z(t.x+i*o,t.y+i*s)}},{key:"area3D",value:function(t,e,n){var r=e.x-t.x,i=e.y-t.y,o=e.getZ()-t.getZ(),s=n.x-t.x,a=n.y-t.y,u=n.getZ()-t.getZ(),l=i*u-o*a,h=o*s-r*u,c=r*a-i*s,f=l*l+h*h+c*c;return Math.sqrt(f)/2}},{key:"centroid",value:function(t,e,n){var r=(t.x+e.x+n.x)/3,i=(t.y+e.y+n.y)/3;return new z(r,i)}},{key:"inCentre",value:function(t,e,n){var r=e.distance(n),i=t.distance(n),o=t.distance(e),s=r+i+o,a=(r*t.x+i*e.x+o*n.x)/s,u=(r*t.y+i*e.y+o*n.y)/s;return new z(a,u)}}]),e}(),Bn=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"addRingSide",value:function(t,e,n,r,i){if(0===e&&t.length<zt.MINIMUM_VALID_SIZE)return null;var o=r,s=i;t.length>=zt.MINIMUM_VALID_SIZE&&ft.isCCW(t)&&(o=i,s=r,n=tt.opposite(n));var a=this._curveBuilder.getRingCurve(t,n,e);this.addCurve(a,o,s)}},{key:"addRingBothSides",value:function(t,e){this.addRingSide(t,e,tt.LEFT,Z.EXTERIOR,Z.INTERIOR),this.addRingSide(t,e,tt.RIGHT,Z.INTERIOR,Z.EXTERIOR)}},{key:"addPoint",value:function(t){if(this._distance<=0)return null;var e=t.getCoordinates(),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,Z.EXTERIOR,Z.INTERIOR)}},{key:"addPolygon",value:function(t){var e=this._distance,n=tt.LEFT;this._distance<0&&(e=-this._distance,n=tt.RIGHT);var r=t.getExteriorRing(),i=Wt.removeRepeatedPoints(r.getCoordinates());if(this._distance<0&&this.isErodedCompletely(r,this._distance))return null;if(this._distance<=0&&i.length<3)return null;this.addRingSide(i,e,n,Z.EXTERIOR,Z.INTERIOR);for(var o=0;o<t.getNumInteriorRing();o++){var s=t.getInteriorRingN(o),a=Wt.removeRepeatedPoints(s.getCoordinates());this._distance>0&&this.isErodedCompletely(s,-this._distance)||this.addRingSide(a,e,tt.opposite(n),Z.INTERIOR,Z.EXTERIOR)}}},{key:"isTriangleErodedCompletely",value:function(t,e){var n=new Gn(t[0],t[1],t[2]),r=n.inCentre();return kt.pointToSegment(r,n.p0,n.p1)<Math.abs(e)}},{key:"addLineString",value:function(t){if(this._curveBuilder.isLineOffsetEmpty(this._distance))return null;var e=Wt.removeRepeatedPoints(t.getCoordinates());if(Wt.isRing(e)&&!this._curveBuilder.getBufferParameters().isSingleSided())this.addRingBothSides(e,this._distance);else{var n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,Z.EXTERIOR,Z.INTERIOR)}}},{key:"addCurve",value:function(t,e,n){if(null===t||t.length<2)return null;var r=new kn(t,new Ae(0,Z.BOUNDARY,e,n));this._curveList.add(r)}},{key:"getCurves",value:function(){return this.add(this._inputGeom),this._curveList}},{key:"add",value:function(t){if(t.isEmpty())return null;if(t instanceof Ft)this.addPolygon(t);else if(t instanceof Ct)this.addLineString(t);else if(t instanceof Ot)this.addPoint(t);else if(t instanceof Yt)this.addCollection(t);else if(t instanceof se)this.addCollection(t);else if(t instanceof ee)this.addCollection(t);else{if(!(t instanceof Bt))throw new J(t.getGeometryType());this.addCollection(t)}}},{key:"isErodedCompletely",value:function(t,e){var n=t.getCoordinates();if(n.length<4)return e<0;if(4===n.length)return this.isTriangleErodedCompletely(n,e);var r=t.getEnvelopeInternal(),i=Math.min(r.getHeight(),r.getWidth());return e<0&&2*Math.abs(e)>i}},{key:"addCollection",value:function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}}}],[{key:"constructor_",value:function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new dt;var t=arguments[0],e=arguments[1],n=arguments[2];this._inputGeom=t,this._distance=e,this._curveBuilder=n}}]),e}(),Yn=function(){function e(){t(this,e)}return n(e,[{key:"locate",value:function(t){}}]),e}(),zn=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"next",value:function(){if(this._atStart)return this._atStart=!1,e.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new W;var t=this._parent.getGeometryN(this._index++);return t instanceof Bt?(this._subcollectionIterator=new e(t),this._subcollectionIterator.next()):t}},{key:"remove",value:function(){throw new J(this.getClass().getName())}},{key:"hasNext",value:function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)}},{key:"interfaces_",get:function(){return[yn]}}],[{key:"constructor_",value:function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()}},{key:"isAtomic",value:function(t){return!(t instanceof Bt)}}]),e}(),jn=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"locate",value:function(t){return e.locate(t,this._geom)}},{key:"interfaces_",get:function(){return[Yn]}}],[{key:"constructor_",value:function(){this._geom=null;var t=arguments[0];this._geom=t}},{key:"locatePointInPolygon",value:function(t,n){if(n.isEmpty())return Z.EXTERIOR;var r=n.getExteriorRing(),i=e.locatePointInRing(t,r);if(i!==Z.INTERIOR)return i;for(var o=0;o<n.getNumInteriorRing();o++){var s=n.getInteriorRingN(o),a=e.locatePointInRing(t,s);if(a===Z.BOUNDARY)return Z.BOUNDARY;if(a===Z.INTERIOR)return Z.EXTERIOR}return Z.INTERIOR}},{key:"locatePointInRing",value:function(t,e){return e.getEnvelopeInternal().intersects(t)?Oe.locateInRing(t,e.getCoordinates()):Z.EXTERIOR}},{key:"containsPointInPolygon",value:function(t,n){return Z.EXTERIOR!==e.locatePointInPolygon(t,n)}},{key:"locateInGeometry",value:function(t,n){if(n instanceof Ft)return e.locatePointInPolygon(t,n);if(n instanceof Bt)for(var r=new zn(n);r.hasNext();){var i=r.next();if(i!==n){var o=e.locateInGeometry(t,i);if(o!==Z.EXTERIOR)return o}}return Z.EXTERIOR}},{key:"isContained",value:function(t,n){return Z.EXTERIOR!==e.locate(t,n)}},{key:"locate",value:function(t,n){return n.isEmpty()?Z.EXTERIOR:n.getEnvelopeInternal().intersects(t)?e.locateInGeometry(t,n):Z.EXTERIOR}}]),e}(),Xn=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"getNextCW",value:function(t){this.getEdges();var e=this._edgeList.indexOf(t),n=e-1;return 0===e&&(n=this._edgeList.size()-1),this._edgeList.get(n)}},{key:"propagateSideLabels",value:function(t){for(var e=Z.NONE,n=this.iterator();n.hasNext();){var r=n.next().getLabel();r.isArea(t)&&r.getLocation(t,tt.LEFT)!==Z.NONE&&(e=r.getLocation(t,tt.LEFT))}if(e===Z.NONE)return null;for(var i=e,o=this.iterator();o.hasNext();){var s=o.next(),a=s.getLabel();if(a.getLocation(t,tt.ON)===Z.NONE&&a.setLocation(t,tt.ON,i),a.isArea(t)){var u=a.getLocation(t,tt.LEFT),l=a.getLocation(t,tt.RIGHT);if(l!==Z.NONE){if(l!==i)throw new pt("side location conflict",s.getCoordinate());u===Z.NONE&&V.shouldNeverReachHere("found single null side (at "+s.getCoordinate()+")"),i=u}else V.isTrue(a.getLocation(t,tt.LEFT)===Z.NONE,"found single null side"),a.setLocation(t,tt.RIGHT,i),a.setLocation(t,tt.LEFT,i)}}}},{key:"getCoordinate",value:function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null}},{key:"print",value:function(t){xt.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();)e.next().print(t)}},{key:"isAreaLabelsConsistent",value:function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)}},{key:"checkAreaLabelsConsistent",value:function(t){var e=this.getEdges();if(e.size()<=0)return!0;var n=e.size()-1,r=e.get(n).getLabel().getLocation(t,tt.LEFT);V.isTrue(r!==Z.NONE,"Found unlabelled area edge");for(var i=r,o=this.iterator();o.hasNext();){var s=o.next().getLabel();V.isTrue(s.isArea(t),"Found non-area edge");var a=s.getLocation(t,tt.LEFT),u=s.getLocation(t,tt.RIGHT);if(a===u)return!1;if(u!==i)return!1;i=a}return!0}},{key:"findIndex",value:function(t){this.iterator();for(var e=0;e<this._edgeList.size();e++)if(this._edgeList.get(e)===t)return e;return-1}},{key:"iterator",value:function(){return this.getEdges().iterator()}},{key:"getEdges",value:function(){return null===this._edgeList&&(this._edgeList=new dt(this._edgeMap.values())),this._edgeList}},{key:"getLocation",value:function(t,e,n){return this._ptInAreaLocation[t]===Z.NONE&&(this._ptInAreaLocation[t]=jn.locate(e,n[t].getGeometry())),this._ptInAreaLocation[t]}},{key:"toString",value:function(){var t=new st;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append("\n");for(var e=this.iterator();e.hasNext();){var n=e.next();t.append(n),t.append("\n")}return t.toString()}},{key:"computeEdgeEndLabels",value:function(t){for(var e=this.iterator();e.hasNext();)e.next().computeLabel(t)}},{key:"computeLabelling",value:function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],n=this.iterator();n.hasNext();)for(var r=n.next().getLabel(),i=0;i<2;i++)r.isLine(i)&&r.getLocation(i)===Z.BOUNDARY&&(e[i]=!0);for(var o=this.iterator();o.hasNext();)for(var s=o.next(),a=s.getLabel(),u=0;u<2;u++)if(a.isAnyNull(u)){var l=Z.NONE;if(e[u])l=Z.EXTERIOR;else{var h=s.getCoordinate();l=this.getLocation(u,h,t)}a.setAllLocationsIfNull(u,l)}}},{key:"getDegree",value:function(){return this._edgeMap.size()}},{key:"insertEdgeEnd",value:function(t,e){this._edgeMap.put(t,e),this._edgeList=null}}],[{key:"constructor_",value:function(){this._edgeMap=new Ze,this._edgeList=null,this._ptInAreaLocation=[Z.NONE,Z.NONE]}}]),e}(),Un=function(e){r(s,e);var o=c(s);function s(){var e;return t(this,s),e=o.call(this),s.constructor_.apply(l(e),arguments),e}return n(s,[{key:"linkResultDirectedEdges",value:function(){this.getResultAreaEdges();for(var t=null,e=null,n=this._SCANNING_FOR_INCOMING,r=0;r<this._resultAreaEdgeList.size();r++){var i=this._resultAreaEdgeList.get(r),o=i.getSym();if(i.getLabel().isArea())switch(null===t&&i.isInResult()&&(t=i),n){case this._SCANNING_FOR_INCOMING:if(!o.isInResult())continue;e=o,n=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!i.isInResult())continue;e.setNext(i),n=this._SCANNING_FOR_INCOMING}}if(n===this._LINKING_TO_OUTGOING){if(null===t)throw new pt("no outgoing dirEdge found",this.getCoordinate());V.isTrue(t.isInResult(),"unable to link last incoming dirEdge"),e.setNext(t)}}},{key:"insert",value:function(t){var e=t;this.insertEdgeEnd(e,e)}},{key:"getRightmostEdge",value:function(){var t=this.getEdges(),e=t.size();if(e<1)return null;var n=t.get(0);if(1===e)return n;var r=t.get(e-1),i=n.getQuadrant(),o=r.getQuadrant();return We.isNorthern(i)&&We.isNorthern(o)?n:We.isNorthern(i)||We.isNorthern(o)?0!==n.getDy()?n:0!==r.getDy()?r:(V.shouldNeverReachHere("found two horizontal edges incident on node"),null):r}},{key:"print",value:function(t){xt.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){var n=e.next();t.print("out "),n.print(t),t.println(),t.print("in "),n.getSym().print(t),t.println()}}},{key:"getResultAreaEdges",value:function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new dt;for(var t=this.iterator();t.hasNext();){var e=t.next();(e.isInResult()||e.getSym().isInResult())&&this._resultAreaEdgeList.add(e)}return this._resultAreaEdgeList}},{key:"updateLabelling",value:function(t){for(var e=this.iterator();e.hasNext();){var n=e.next().getLabel();n.setAllLocationsIfNull(0,t.getLocation(0)),n.setAllLocationsIfNull(1,t.getLocation(1))}}},{key:"linkAllDirectedEdges",value:function(){this.getEdges();for(var t=null,e=null,n=this._edgeList.size()-1;n>=0;n--){var r=this._edgeList.get(n),i=r.getSym();null===e&&(e=i),null!==t&&i.setNext(t),t=r}e.setNext(t)}},{key:"computeDepths",value:function(){if(1===arguments.length){var t=arguments[0],e=this.findIndex(t),n=t.getDepth(tt.LEFT),r=t.getDepth(tt.RIGHT),i=this.computeDepths(e+1,this._edgeList.size(),n);if(this.computeDepths(0,e,i)!==r)throw new pt("depth mismatch at "+t.getCoordinate())}else if(3===arguments.length){for(var o=arguments[1],s=arguments[2],a=arguments[0];a<o;a++){var u=this._edgeList.get(a);u.setEdgeDepths(tt.RIGHT,s),s=u.getDepth(tt.LEFT)}return s}}},{key:"mergeSymLabels",value:function(){for(var t=this.iterator();t.hasNext();){var e=t.next();e.getLabel().merge(e.getSym().getLabel())}}},{key:"linkMinimalDirectedEdges",value:function(t){for(var e=null,n=null,r=this._SCANNING_FOR_INCOMING,i=this._resultAreaEdgeList.size()-1;i>=0;i--){var o=this._resultAreaEdgeList.get(i),s=o.getSym();switch(null===e&&o.getEdgeRing()===t&&(e=o),r){case this._SCANNING_FOR_INCOMING:if(s.getEdgeRing()!==t)continue;n=s,r=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(o.getEdgeRing()!==t)continue;n.setNextMin(o),r=this._SCANNING_FOR_INCOMING}}r===this._LINKING_TO_OUTGOING&&(V.isTrue(null!==e,"found null for first outgoing dirEdge"),V.isTrue(e.getEdgeRing()===t,"unable to link last incoming dirEdge"),n.setNextMin(e))}},{key:"getOutgoingDegree",value:function(){if(0===arguments.length){for(var t=0,e=this.iterator();e.hasNext();)e.next().isInResult()&&t++;return t}if(1===arguments.length){for(var n=arguments[0],r=0,i=this.iterator();i.hasNext();)i.next().getEdgeRing()===n&&r++;return r}}},{key:"getLabel",value:function(){return this._label}},{key:"findCoveredLineEdges",value:function(){for(var t=Z.NONE,e=this.iterator();e.hasNext();){var n=e.next(),r=n.getSym();if(!n.isLineEdge()){if(n.isInResult()){t=Z.INTERIOR;break}if(r.isInResult()){t=Z.EXTERIOR;break}}}if(t===Z.NONE)return null;for(var i=t,o=this.iterator();o.hasNext();){var s=o.next(),a=s.getSym();s.isLineEdge()?s.getEdge().setCovered(i===Z.INTERIOR):(s.isInResult()&&(i=Z.EXTERIOR),a.isInResult()&&(i=Z.INTERIOR))}}},{key:"computeLabelling",value:function(t){f(i(s.prototype),"computeLabelling",this).call(this,t),this._label=new Ae(Z.NONE);for(var e=this.iterator();e.hasNext();)for(var n=e.next().getEdge().getLabel(),r=0;r<2;r++){var o=n.getLocation(r);o!==Z.INTERIOR&&o!==Z.BOUNDARY||this._label.setLocation(r,Z.INTERIOR)}}}],[{key:"constructor_",value:function(){this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}}]),s}(Xn),Zn=function(e){r(o,e);var i=c(o);function o(){return t(this,o),i.call(this)}return n(o,[{key:"createNode",value:function(t){return new Ge(t,new Un)}}]),o}(Qe),Hn=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"compareTo",value:function(t){var n=t;return e.compareOriented(this._pts,this._orientation,n._pts,n._orientation)}},{key:"interfaces_",get:function(){return[k]}}],[{key:"constructor_",value:function(){this._pts=null,this._orientation=null;var t=arguments[0];this._pts=t,this._orientation=e.orientation(t)}},{key:"orientation",value:function(t){return 1===Wt.increasingDirection(t)}},{key:"compareOriented",value:function(t,e,n,r){for(var i=e?1:-1,o=r?1:-1,s=e?t.length:-1,a=r?n.length:-1,u=e?0:t.length-1,l=r?0:n.length-1;;){var h=t[u].compareTo(n[l]);if(0!==h)return h;var c=(u+=i)===s,f=(l+=o)===a;if(c&&!f)return-1;if(!c&&f)return 1;if(c&&f)return 0}}}]),e}(),Wn=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"print",value:function(t){t.print("MULTILINESTRING ( ");for(var e=0;e<this._edges.size();e++){var n=this._edges.get(e);e>0&&t.print(","),t.print("(");for(var r=n.getCoordinates(),i=0;i<r.length;i++)i>0&&t.print(","),t.print(r[i].x+" "+r[i].y);t.println(")")}t.print(")  ")}},{key:"addAll",value:function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())}},{key:"findEdgeIndex",value:function(t){for(var e=0;e<this._edges.size();e++)if(this._edges.get(e).equals(t))return e;return-1}},{key:"iterator",value:function(){return this._edges.iterator()}},{key:"getEdges",value:function(){return this._edges}},{key:"get",value:function(t){return this._edges.get(t)}},{key:"findEqualEdge",value:function(t){var e=new Hn(t.getCoordinates());return this._ocaMap.get(e)}},{key:"add",value:function(t){this._edges.add(t);var e=new Hn(t.getCoordinates());this._ocaMap.put(e,t)}}],[{key:"constructor_",value:function(){this._edges=new dt,this._ocaMap=new Ze}}]),e}(),Jn=function(){function e(){t(this,e)}return n(e,[{key:"processIntersections",value:function(t,e,n,r){}},{key:"isDone",value:function(){}}]),e}(),Kn=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"isTrivialIntersection",value:function(t,n,r,i){if(t===r&&1===this._li.getIntersectionNum()){if(e.isAdjacentSegments(n,i))return!0;if(t.isClosed()){var o=t.size()-1;if(0===n&&i===o||0===i&&n===o)return!0}}return!1}},{key:"getProperIntersectionPoint",value:function(){return this._properIntersectionPoint}},{key:"hasProperInteriorIntersection",value:function(){return this._hasProperInterior}},{key:"getLineIntersector",value:function(){return this._li}},{key:"hasProperIntersection",value:function(){return this._hasProper}},{key:"processIntersections",value:function(t,e,n,r){if(t===n&&e===r)return null;this.numTests++;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[r],a=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,s,a),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,e,n,r)||(this._hasIntersection=!0,t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))}},{key:"hasIntersection",value:function(){return this._hasIntersection}},{key:"isDone",value:function(){return!1}},{key:"hasInteriorIntersection",value:function(){return this._hasInterior}},{key:"interfaces_",get:function(){return[Jn]}}],[{key:"constructor_",value:function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var t=arguments[0];this._li=t}},{key:"isAdjacentSegments",value:function(t,e){return 1===Math.abs(t-e)}}]),e}(),Qn=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"getSegmentIndex",value:function(){return this.segmentIndex}},{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)}},{key:"compareTo",value:function(t){var e=t;return this.compare(e.segmentIndex,e.dist)}},{key:"isEndPoint",value:function(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t}},{key:"toString",value:function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist}},{key:"getDistance",value:function(){return this.dist}},{key:"compare",value:function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0}},{key:"interfaces_",get:function(){return[k]}}],[{key:"constructor_",value:function(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.coord=new z(t),this.segmentIndex=e,this.dist=n}}]),e}(),$n=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"print",value:function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(t){this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next(),i=this.createSplitEdge(n,r);t.add(i),n=r}}},{key:"addEndpoints",value:function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)}},{key:"createSplitEdge",value:function(t,e){var n=e.segmentIndex-t.segmentIndex+2,r=this.edge.pts[e.segmentIndex],i=e.dist>0||!e.coord.equals2D(r);i||n--;var o=new Array(n).fill(null),s=0;o[s++]=new z(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)o[s++]=this.edge.pts[a];return i&&(o[s]=e.coord),new or(o,new Ae(this.edge._label))}},{key:"add",value:function(t,e,n){var r=new Qn(t,e,n),i=this._nodeMap.get(r);return null!==i?i:(this._nodeMap.put(r,r),r)}},{key:"isIntersection",value:function(t){for(var e=this.iterator();e.hasNext();)if(e.next().coord.equals(t))return!0;return!1}}],[{key:"constructor_",value:function(){this._nodeMap=new Ze,this.edge=null;var t=arguments[0];this.edge=t}}]),e}(),tr=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"isIntersects",value:function(){return!this.isDisjoint()}},{key:"isCovers",value:function(){return(e.isTrue(this._matrix[Z.INTERIOR][Z.INTERIOR])||e.isTrue(this._matrix[Z.INTERIOR][Z.BOUNDARY])||e.isTrue(this._matrix[Z.BOUNDARY][Z.INTERIOR])||e.isTrue(this._matrix[Z.BOUNDARY][Z.BOUNDARY]))&&this._matrix[Z.EXTERIOR][Z.INTERIOR]===Mt.FALSE&&this._matrix[Z.EXTERIOR][Z.BOUNDARY]===Mt.FALSE}},{key:"isCoveredBy",value:function(){return(e.isTrue(this._matrix[Z.INTERIOR][Z.INTERIOR])||e.isTrue(this._matrix[Z.INTERIOR][Z.BOUNDARY])||e.isTrue(this._matrix[Z.BOUNDARY][Z.INTERIOR])||e.isTrue(this._matrix[Z.BOUNDARY][Z.BOUNDARY]))&&this._matrix[Z.INTERIOR][Z.EXTERIOR]===Mt.FALSE&&this._matrix[Z.BOUNDARY][Z.EXTERIOR]===Mt.FALSE}},{key:"set",value:function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<t.length;e++){var n=Math.trunc(e/3),r=e%3;this._matrix[n][r]=Mt.toDimensionValue(t.charAt(e))}else if(3===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2];this._matrix[i][o]=s}}},{key:"isContains",value:function(){return e.isTrue(this._matrix[Z.INTERIOR][Z.INTERIOR])&&this._matrix[Z.EXTERIOR][Z.INTERIOR]===Mt.FALSE&&this._matrix[Z.EXTERIOR][Z.BOUNDARY]===Mt.FALSE}},{key:"setAtLeast",value:function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<t.length;e++){var n=Math.trunc(e/3),r=e%3;this.setAtLeast(n,r,Mt.toDimensionValue(t.charAt(e)))}else if(3===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2];this._matrix[i][o]<s&&(this._matrix[i][o]=s)}}},{key:"setAtLeastIfValid",value:function(t,e,n){t>=0&&e>=0&&this.setAtLeast(t,e,n)}},{key:"isWithin",value:function(){return e.isTrue(this._matrix[Z.INTERIOR][Z.INTERIOR])&&this._matrix[Z.INTERIOR][Z.EXTERIOR]===Mt.FALSE&&this._matrix[Z.BOUNDARY][Z.EXTERIOR]===Mt.FALSE}},{key:"isTouches",value:function(t,n){return t>n?this.isTouches(n,t):(t===Mt.A&&n===Mt.A||t===Mt.L&&n===Mt.L||t===Mt.L&&n===Mt.A||t===Mt.P&&n===Mt.A||t===Mt.P&&n===Mt.L)&&this._matrix[Z.INTERIOR][Z.INTERIOR]===Mt.FALSE&&(e.isTrue(this._matrix[Z.INTERIOR][Z.BOUNDARY])||e.isTrue(this._matrix[Z.BOUNDARY][Z.INTERIOR])||e.isTrue(this._matrix[Z.BOUNDARY][Z.BOUNDARY]))}},{key:"isOverlaps",value:function(t,n){return t===Mt.P&&n===Mt.P||t===Mt.A&&n===Mt.A?e.isTrue(this._matrix[Z.INTERIOR][Z.INTERIOR])&&e.isTrue(this._matrix[Z.INTERIOR][Z.EXTERIOR])&&e.isTrue(this._matrix[Z.EXTERIOR][Z.INTERIOR]):t===Mt.L&&n===Mt.L&&1===this._matrix[Z.INTERIOR][Z.INTERIOR]&&e.isTrue(this._matrix[Z.INTERIOR][Z.EXTERIOR])&&e.isTrue(this._matrix[Z.EXTERIOR][Z.INTERIOR])}},{key:"isEquals",value:function(t,n){return t===n&&e.isTrue(this._matrix[Z.INTERIOR][Z.INTERIOR])&&this._matrix[Z.INTERIOR][Z.EXTERIOR]===Mt.FALSE&&this._matrix[Z.BOUNDARY][Z.EXTERIOR]===Mt.FALSE&&this._matrix[Z.EXTERIOR][Z.INTERIOR]===Mt.FALSE&&this._matrix[Z.EXTERIOR][Z.BOUNDARY]===Mt.FALSE}},{key:"toString",value:function(){for(var t=new Qt("123456789"),e=0;e<3;e++)for(var n=0;n<3;n++)t.setCharAt(3*e+n,Mt.toDimensionSymbol(this._matrix[e][n]));return t.toString()}},{key:"setAll",value:function(t){for(var e=0;e<3;e++)for(var n=0;n<3;n++)this._matrix[e][n]=t}},{key:"get",value:function(t,e){return this._matrix[t][e]}},{key:"transpose",value:function(){var t=this._matrix[1][0];return this._matrix[1][0]=this._matrix[0][1],this._matrix[0][1]=t,t=this._matrix[2][0],this._matrix[2][0]=this._matrix[0][2],this._matrix[0][2]=t,t=this._matrix[2][1],this._matrix[2][1]=this._matrix[1][2],this._matrix[1][2]=t,this}},{key:"matches",value:function(t){if(9!==t.length)throw new x("Should be length 9: "+t);for(var n=0;n<3;n++)for(var r=0;r<3;r++)if(!e.matches(this._matrix[n][r],t.charAt(3*n+r)))return!1;return!0}},{key:"add",value:function(t){for(var e=0;e<3;e++)for(var n=0;n<3;n++)this.setAtLeast(e,n,t.get(e,n))}},{key:"isDisjoint",value:function(){return this._matrix[Z.INTERIOR][Z.INTERIOR]===Mt.FALSE&&this._matrix[Z.INTERIOR][Z.BOUNDARY]===Mt.FALSE&&this._matrix[Z.BOUNDARY][Z.INTERIOR]===Mt.FALSE&&this._matrix[Z.BOUNDARY][Z.BOUNDARY]===Mt.FALSE}},{key:"isCrosses",value:function(t,n){return t===Mt.P&&n===Mt.L||t===Mt.P&&n===Mt.A||t===Mt.L&&n===Mt.A?e.isTrue(this._matrix[Z.INTERIOR][Z.INTERIOR])&&e.isTrue(this._matrix[Z.INTERIOR][Z.EXTERIOR]):t===Mt.L&&n===Mt.P||t===Mt.A&&n===Mt.P||t===Mt.A&&n===Mt.L?e.isTrue(this._matrix[Z.INTERIOR][Z.INTERIOR])&&e.isTrue(this._matrix[Z.EXTERIOR][Z.INTERIOR]):t===Mt.L&&n===Mt.L&&0===this._matrix[Z.INTERIOR][Z.INTERIOR]}},{key:"interfaces_",get:function(){return[b]}}],[{key:"constructor_",value:function(){if(this._matrix=null,0===arguments.length)this._matrix=Array(3).fill().map((function(){return Array(3)})),this.setAll(Mt.FALSE);else if(1===arguments.length)if("string"==typeof arguments[0]){var t=arguments[0];e.constructor_.call(this),this.set(t)}else if(arguments[0]instanceof e){var n=arguments[0];e.constructor_.call(this),this._matrix[Z.INTERIOR][Z.INTERIOR]=n._matrix[Z.INTERIOR][Z.INTERIOR],this._matrix[Z.INTERIOR][Z.BOUNDARY]=n._matrix[Z.INTERIOR][Z.BOUNDARY],this._matrix[Z.INTERIOR][Z.EXTERIOR]=n._matrix[Z.INTERIOR][Z.EXTERIOR],this._matrix[Z.BOUNDARY][Z.INTERIOR]=n._matrix[Z.BOUNDARY][Z.INTERIOR],this._matrix[Z.BOUNDARY][Z.BOUNDARY]=n._matrix[Z.BOUNDARY][Z.BOUNDARY],this._matrix[Z.BOUNDARY][Z.EXTERIOR]=n._matrix[Z.BOUNDARY][Z.EXTERIOR],this._matrix[Z.EXTERIOR][Z.INTERIOR]=n._matrix[Z.EXTERIOR][Z.INTERIOR],this._matrix[Z.EXTERIOR][Z.BOUNDARY]=n._matrix[Z.EXTERIOR][Z.BOUNDARY],this._matrix[Z.EXTERIOR][Z.EXTERIOR]=n._matrix[Z.EXTERIOR][Z.EXTERIOR]}}},{key:"matches",value:function(){if(Number.isInteger(arguments[0])&&"string"==typeof arguments[1]){var t=arguments[0],n=arguments[1];return n===Mt.SYM_DONTCARE||n===Mt.SYM_TRUE&&(t>=0||t===Mt.TRUE)||n===Mt.SYM_FALSE&&t===Mt.FALSE||n===Mt.SYM_P&&t===Mt.P||n===Mt.SYM_L&&t===Mt.L||n===Mt.SYM_A&&t===Mt.A}if("string"==typeof arguments[0]&&"string"==typeof arguments[1]){var r=arguments[1];return new e(arguments[0]).matches(r)}}},{key:"isTrue",value:function(t){return t>=0||t===Mt.TRUE}}]),e}(),er=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"size",value:function(){return this._size}},{key:"addAll",value:function(t){return null===t||0===t.length?null:(this.ensureCapacity(this._size+t.length),xt.arraycopy(t,0,this._data,this._size,t.length),void(this._size+=t.length))}},{key:"ensureCapacity",value:function(t){if(t<=this._data.length)return null;var e=Math.max(t,2*this._data.length);this._data=At.copyOf(this._data,e)}},{key:"toArray",value:function(){var t=new Array(this._size).fill(null);return xt.arraycopy(this._data,0,t,0,this._size),t}},{key:"add",value:function(t){this.ensureCapacity(this._size+1),this._data[this._size]=t,++this._size}}],[{key:"constructor_",value:function(){if(this._data=null,this._size=0,0===arguments.length)e.constructor_.call(this,10);else if(1===arguments.length){var t=arguments[0];this._data=new Array(t).fill(null)}}}]),e}(),nr=function(){function e(){t(this,e)}return n(e,[{key:"getChainStartIndices",value:function(t){var e=0,n=new er(Math.trunc(t.length/2));n.add(e);do{var r=this.findChainEnd(t,e);n.add(r),e=r}while(e<t.length-1);return n.toArray()}},{key:"findChainEnd",value:function(t,e){for(var n=We.quadrant(t[e],t[e+1]),r=e+1;r<t.length&&We.quadrant(t[r-1],t[r])===n;)r++;return r-1}},{key:"OLDgetChainStartIndices",value:function(t){var n=0,r=new dt;r.add(n);do{var i=this.findChainEnd(t,n);r.add(i),n=i}while(n<t.length-1);return e.toIntArray(r)}}],[{key:"toIntArray",value:function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e}}]),e}(),rr=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"getCoordinates",value:function(){return this.pts}},{key:"getMaxX",value:function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e>n?e:n}},{key:"getMinX",value:function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e<n?e:n}},{key:"computeIntersectsForChain",value:function(){if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[n],e.startIndex[n+1],r)}else if(6===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3],u=arguments[4],l=arguments[5];if(o-i==1&&u-a==1)return l.addIntersections(this.e,i,s.e,a),null;if(!this.overlaps(i,o,s,a,u))return null;var h=Math.trunc((i+o)/2),c=Math.trunc((a+u)/2);i<h&&(a<c&&this.computeIntersectsForChain(i,h,s,a,c,l),c<u&&this.computeIntersectsForChain(i,h,s,c,u,l)),h<o&&(a<c&&this.computeIntersectsForChain(h,o,s,a,c,l),c<u&&this.computeIntersectsForChain(h,o,s,c,u,l))}}},{key:"overlaps",value:function(t,e,n,r,i){return X.intersects(this.pts[t],this.pts[e],n.pts[r],n.pts[i])}},{key:"getStartIndexes",value:function(){return this.startIndex}},{key:"computeIntersects",value:function(t,e){for(var n=0;n<this.startIndex.length-1;n++)for(var r=0;r<t.startIndex.length-1;r++)this.computeIntersectsForChain(n,t,r,e)}}],[{key:"constructor_",value:function(){this.e=null,this.pts=null,this.startIndex=null;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new nr;this.startIndex=e.getChainStartIndices(this.pts)}}]),e}(),ir=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"getDepth",value:function(t,e){return this._depth[t][e]}},{key:"setDepth",value:function(t,e,n){this._depth[t][e]=n}},{key:"isNull",value:function(){if(0===arguments.length){for(var t=0;t<2;t++)for(var n=0;n<3;n++)if(this._depth[t][n]!==e.NULL_VALUE)return!1;return!0}if(1===arguments.length){var r=arguments[0];return this._depth[r][1]===e.NULL_VALUE}if(2===arguments.length){var i=arguments[0],o=arguments[1];return this._depth[i][o]===e.NULL_VALUE}}},{key:"normalize",value:function(){for(var t=0;t<2;t++)if(!this.isNull(t)){var e=this._depth[t][1];this._depth[t][2]<e&&(e=this._depth[t][2]),e<0&&(e=0);for(var n=1;n<3;n++){var r=0;this._depth[t][n]>e&&(r=1),this._depth[t][n]=r}}}},{key:"getDelta",value:function(t){return this._depth[t][tt.RIGHT]-this._depth[t][tt.LEFT]}},{key:"getLocation",value:function(t,e){return this._depth[t][e]<=0?Z.EXTERIOR:Z.INTERIOR}},{key:"toString",value:function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]}},{key:"add",value:function(){if(1===arguments.length)for(var t=arguments[0],n=0;n<2;n++)for(var r=1;r<3;r++){var i=t.getLocation(n,r);i!==Z.EXTERIOR&&i!==Z.INTERIOR||(this.isNull(n,r)?this._depth[n][r]=e.depthAtLocation(i):this._depth[n][r]+=e.depthAtLocation(i))}else if(3===arguments.length){var o=arguments[0],s=arguments[1];arguments[2]===Z.INTERIOR&&this._depth[o][s]++}}}],[{key:"constructor_",value:function(){this._depth=Array(2).fill().map((function(){return Array(3)}));for(var t=0;t<2;t++)for(var n=0;n<3;n++)this._depth[t][n]=e.NULL_VALUE}},{key:"depthAtLocation",value:function(t){return t===Z.EXTERIOR?0:t===Z.INTERIOR?1:e.NULL_VALUE}}]),e}();ir.NULL_VALUE=-1;var or=function(e){r(s,e);var o=c(s);function s(){var e;return t(this,s),e=o.call(this),s.constructor_.apply(l(e),arguments),e}return n(s,[{key:"getDepth",value:function(){return this._depth}},{key:"getCollapsedEdge",value:function(){var t=new Array(2).fill(null);return t[0]=this.pts[0],t[1]=this.pts[1],new s(t,Ae.toLineLabel(this._label))}},{key:"isIsolated",value:function(){return this._isIsolated}},{key:"getCoordinates",value:function(){return this.pts}},{key:"setIsolated",value:function(t){this._isIsolated=t}},{key:"setName",value:function(t){this._name=t}},{key:"equals",value:function(t){if(!(t instanceof s))return!1;var e=t;if(this.pts.length!==e.pts.length)return!1;for(var n=!0,r=!0,i=this.pts.length,o=0;o<this.pts.length;o++)if(this.pts[o].equals2D(e.pts[o])||(n=!1),this.pts[o].equals2D(e.pts[--i])||(r=!1),!n&&!r)return!1;return!0}},{key:"getCoordinate",value:function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var t=arguments[0];return this.pts[t]}}},{key:"print",value:function(t){t.print("edge "+this._name+": "),t.print("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.print(","),t.print(this.pts[e].x+" "+this.pts[e].y);t.print(")  "+this._label+" "+this._depthDelta)}},{key:"computeIM",value:function(t){s.updateIM(this._label,t)}},{key:"isCollapsed",value:function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])}},{key:"isClosed",value:function(){return this.pts[0].equals(this.pts[this.pts.length-1])}},{key:"getMaximumSegmentIndex",value:function(){return this.pts.length-1}},{key:"getDepthDelta",value:function(){return this._depthDelta}},{key:"getNumPoints",value:function(){return this.pts.length}},{key:"printReverse",value:function(t){t.print("edge "+this._name+": ");for(var e=this.pts.length-1;e>=0;e--)t.print(this.pts[e]+" ");t.println("")}},{key:"getMonotoneChainEdge",value:function(){return null===this._mce&&(this._mce=new rr(this)),this._mce}},{key:"getEnvelope",value:function(){if(null===this._env){this._env=new X;for(var t=0;t<this.pts.length;t++)this._env.expandToInclude(this.pts[t])}return this._env}},{key:"addIntersection",value:function(t,e,n,r){var i=new z(t.getIntersection(r)),o=e,s=t.getEdgeDistance(n,r),a=o+1;if(a<this.pts.length){var u=this.pts[a];i.equals2D(u)&&(o=a,s=0)}this.eiList.add(i,o,s)}},{key:"toString",value:function(){var t=new Qt;t.append("edge "+this._name+": "),t.append("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.append(","),t.append(this.pts[e].x+" "+this.pts[e].y);return t.append(")  "+this._label+" "+this._depthDelta),t.toString()}},{key:"isPointwiseEqual",value:function(t){if(this.pts.length!==t.pts.length)return!1;for(var e=0;e<this.pts.length;e++)if(!this.pts[e].equals2D(t.pts[e]))return!1;return!0}},{key:"setDepthDelta",value:function(t){this._depthDelta=t}},{key:"getEdgeIntersectionList",value:function(){return this.eiList}},{key:"addIntersections",value:function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++)this.addIntersection(t,e,n,r)}}],[{key:"constructor_",value:function(){if(this.pts=null,this._env=null,this.eiList=new $n(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new ir,this._depthDelta=0,1===arguments.length){var t=arguments[0];s.constructor_.call(this,t,null)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.pts=e,this._label=n}}},{key:"updateIM",value:function(){if(!(2===arguments.length&&arguments[1]instanceof tr&&arguments[0]instanceof Ae))return f(i(s),"updateIM",this).apply(this,arguments);var t=arguments[0],e=arguments[1];e.setAtLeastIfValid(t.getLocation(0,tt.ON),t.getLocation(1,tt.ON),1),t.isArea()&&(e.setAtLeastIfValid(t.getLocation(0,tt.LEFT),t.getLocation(1,tt.LEFT),2),e.setAtLeastIfValid(t.getLocation(0,tt.RIGHT),t.getLocation(1,tt.RIGHT),2))}}]),s}(Ve),sr=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"setWorkingPrecisionModel",value:function(t){this._workingPrecisionModel=t}},{key:"insertUniqueEdge",value:function(t){var n=this._edgeList.findEqualEdge(t);if(null!==n){var r=n.getLabel(),i=t.getLabel();n.isPointwiseEqual(t)||(i=new Ae(t.getLabel())).flip(),r.merge(i);var o=e.depthDelta(i),s=n.getDepthDelta()+o;n.setDepthDelta(s)}else this._edgeList.add(t),t.setDepthDelta(e.depthDelta(t.getLabel()))}},{key:"buildSubgraphs",value:function(t,e){for(var n=new dt,r=t.iterator();r.hasNext();){var i=r.next(),o=i.getRightmostCoordinate(),s=new Dn(n).getDepth(o);i.computeDepth(s),i.findResultEdges(),n.add(i),e.add(i.getDirectedEdges(),i.getNodes())}}},{key:"createSubgraphs",value:function(t){for(var e=new dt,n=t.getNodes().iterator();n.hasNext();){var r=n.next();if(!r.isVisited()){var i=new mt;i.create(r),e.add(i)}}return an.sort(e,an.reverseOrder()),e}},{key:"createEmptyResultGeometry",value:function(){return this._geomFact.createPolygon()}},{key:"getNoder",value:function(t){if(null!==this._workingNoder)return this._workingNoder;var e=new Ln,n=new Ce;return n.setPrecisionModel(t),e.setSegmentIntersector(new Kn(n)),e}},{key:"buffer",value:function(t,e){var n=this._workingPrecisionModel;null===n&&(n=t.getPrecisionModel()),this._geomFact=t.getFactory();var r=new An(n,this._bufParams),i=new Bn(t,e,r).getCurves();if(i.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(i,n),this._graph=new $e(new Zn),this._graph.addEdges(this._edgeList.getEdges());var o=this.createSubgraphs(this._graph),s=new tn(this._geomFact);this.buildSubgraphs(o,s);var a=s.getPolygons();return a.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(a)}},{key:"computeNodedEdges",value:function(t,e){var n=this.getNoder(e);n.computeNodes(t);for(var r=n.getNodedSubstrings().iterator();r.hasNext();){var i=r.next(),o=i.getCoordinates();if(2!==o.length||!o[0].equals2D(o[1])){var s=i.getData(),a=new or(i.getCoordinates(),new Ae(s));this.insertUniqueEdge(a)}}}},{key:"setNoder",value:function(t){this._workingNoder=t}}],[{key:"constructor_",value:function(){this._bufParams=null,this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Wn;var t=arguments[0];this._bufParams=t}},{key:"depthDelta",value:function(t){var e=t.getLocation(0,tt.LEFT),n=t.getLocation(0,tt.RIGHT);return e===Z.INTERIOR&&n===Z.EXTERIOR?1:e===Z.EXTERIOR&&n===Z.INTERIOR?-1:0}},{key:"convertSegStrings",value:function(t){for(var e=new ae,n=new dt;t.hasNext();){var r=t.next(),i=e.createLineString(r.getCoordinates());n.add(i)}return e.buildGeometry(n)}}]),e}(),ar=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"rescale",value:function(){if(ot(arguments[0],H))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.rescale(e.getCoordinates())}else if(arguments[0]instanceof Array){for(var n=arguments[0],r=0;r<n.length;r++)n[r].x=n[r].x/this._scaleFactor+this._offsetX,n[r].y=n[r].y/this._scaleFactor+this._offsetY;2===n.length&&n[0].equals2D(n[1])&&xt.out.println(n)}}},{key:"scale",value:function(){if(ot(arguments[0],H)){for(var t=arguments[0],e=new dt(t.size()),n=t.iterator();n.hasNext();){var r=n.next();e.add(new kn(this.scale(r.getCoordinates()),r.getData()))}return e}if(arguments[0]instanceof Array){for(var i=arguments[0],o=new Array(i.length).fill(null),s=0;s<i.length;s++)o[s]=new z(Math.round((i[s].x-this._offsetX)*this._scaleFactor),Math.round((i[s].y-this._offsetY)*this._scaleFactor),i[s].getZ());return Wt.removeRepeatedPoints(o)}}},{key:"isIntegerPrecision",value:function(){return 1===this._scaleFactor}},{key:"getNodedSubstrings",value:function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t}},{key:"computeNodes",value:function(t){var e=t;this._isScaled&&(e=this.scale(t)),this._noder.computeNodes(e)}},{key:"interfaces_",get:function(){return[Sn]}}],[{key:"constructor_",value:function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var t=arguments[0],n=arguments[1];e.constructor_.call(this,t,n,0,0)}else if(4===arguments.length){var r=arguments[0],i=arguments[1];this._noder=r,this._scaleFactor=i,this._isScaled=!this.isIntegerPrecision()}}}]),e}(),ur=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"checkEndPtVertexIntersections",value:function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next().getCoordinates();this.checkEndPtVertexIntersections(e[0],this._segStrings),this.checkEndPtVertexIntersections(e[e.length-1],this._segStrings)}else if(2===arguments.length)for(var n=arguments[0],r=arguments[1].iterator();r.hasNext();)for(var i=r.next().getCoordinates(),o=1;o<i.length-1;o++)if(i[o].equals(n))throw new F("found endpt/interior pt intersection at index "+o+" :pt "+n)}},{key:"checkInteriorIntersections",value:function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();)for(var e=t.next(),n=this._segStrings.iterator();n.hasNext();){var r=n.next();this.checkInteriorIntersections(e,r)}else if(2===arguments.length)for(var i=arguments[0],o=arguments[1],s=i.getCoordinates(),a=o.getCoordinates(),u=0;u<s.length-1;u++)for(var l=0;l<a.length-1;l++)this.checkInteriorIntersections(i,u,o,l);else if(4===arguments.length){var h=arguments[0],c=arguments[1],f=arguments[2],g=arguments[3];if(h===f&&c===g)return null;var p=h.getCoordinates()[c],v=h.getCoordinates()[c+1],d=f.getCoordinates()[g],y=f.getCoordinates()[g+1];if(this._li.computeIntersection(p,v,d,y),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,p,v)||this.hasInteriorIntersection(this._li,d,y)))throw new F("found non-noded intersection at "+p+"-"+v+" and "+d+"-"+y)}}},{key:"checkValid",value:function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()}},{key:"checkCollapses",value:function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next();this.checkCollapses(e)}else if(1===arguments.length)for(var n=arguments[0].getCoordinates(),r=0;r<n.length-2;r++)this.checkCollapse(n[r],n[r+1],n[r+2])}},{key:"hasInteriorIntersection",value:function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++){var i=t.getIntersection(r);if(!i.equals(e)&&!i.equals(n))return!0}return!1}},{key:"checkCollapse",value:function(t,n,r){if(t.equals(r))throw new F("found non-noded collapse at "+e.fact.createLineString([t,n,r]))}}],[{key:"constructor_",value:function(){this._li=new Ce,this._segStrings=null;var t=arguments[0];this._segStrings=t}}]),e}();ur.fact=new ae;var lr=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"intersectsScaled",value:function(t,e){var n=Math.min(t.x,e.x),r=Math.max(t.x,e.x),i=Math.min(t.y,e.y),o=Math.max(t.y,e.y),s=this._maxx<n||this._minx>r||this._maxy<i||this._miny>o;if(s)return!1;var a=this.intersectsToleranceSquare(t,e);return V.isTrue(!(s&&a),"Found bad envelope test"),a}},{key:"initCorners",value:function(t){var e=.5;this._minx=t.x-e,this._maxx=t.x+e,this._miny=t.y-e,this._maxy=t.y+e,this._corner[0]=new z(this._maxx,this._maxy),this._corner[1]=new z(this._minx,this._maxy),this._corner[2]=new z(this._minx,this._miny),this._corner[3]=new z(this._maxx,this._miny)}},{key:"intersects",value:function(t,e){return 1===this._scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this._p0Scaled),this.copyScaled(e,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))}},{key:"scale",value:function(t){return Math.round(t*this._scaleFactor)}},{key:"getCoordinate",value:function(){return this._originalPt}},{key:"copyScaled",value:function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)}},{key:"getSafeEnvelope",value:function(){if(null===this._safeEnv){var t=e.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new X(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv}},{key:"intersectsPixelClosure",value:function(t,e){return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.hasIntersection()))))}},{key:"intersectsToleranceSquare",value:function(t,e){var n=!1,r=!1;return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.isProper()||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.isProper()||(this._li.hasIntersection()&&(r=!0),this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.isProper()||n&&r||t.equals(this._pt)||e.equals(this._pt)))))}},{key:"addSnappedNode",value:function(t,e){var n=t.getCoordinate(e),r=t.getCoordinate(e+1);return!!this.intersects(n,r)&&(t.addIntersection(this.getCoordinate(),e),!0)}}],[{key:"constructor_",value:function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=e,this._li=n,e<=0)throw new x("Scale factor must be non-zero");1!==e&&(this._pt=new z(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new z,this._p1Scaled=new z),this.initCorners(this._pt)}}]),e}();lr.SAFE_ENV_EXPANSION_FACTOR=.75;var hr=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"select",value:function(){if(1===arguments.length);else if(2===arguments.length){var t=arguments[1];arguments[0].getLineSegment(t,this.selectedSegment),this.select(this.selectedSegment)}}}],[{key:"constructor_",value:function(){this.selectedSegment=new bn}}]),e}(),cr=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"snap",value:function(){if(1===arguments.length){var e=arguments[0];return this.snap(e,null,-1)}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],s=r.getSafeEnvelope(),a=new fr(r,i,o);return this._index.query(s,new(function(){function e(){t(this,e)}return n(e,[{key:"interfaces_",get:function(){return[hn]}},{key:"visitItem",value:function(t){t.select(s,a)}}]),e}())),a.isNodeAdded()}}}],[{key:"constructor_",value:function(){this._index=null;var t=arguments[0];this._index=t}}]),e}(),fr=function(e){r(s,e);var o=c(s);function s(){var e;return t(this,s),e=o.call(this),s.constructor_.apply(l(e),arguments),e}return n(s,[{key:"isNodeAdded",value:function(){return this._isNodeAdded}},{key:"select",value:function(){if(!(2===arguments.length&&Number.isInteger(arguments[1])&&arguments[0]instanceof In))return f(i(s.prototype),"select",this).apply(this,arguments);var t=arguments[1],e=arguments[0].getContext();if(this._parentEdge===e&&(t===this._hotPixelVertexIndex||t+1===this._hotPixelVertexIndex))return null;this._isNodeAdded|=this._hotPixel.addSnappedNode(e,t)}}],[{key:"constructor_",value:function(){this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this._hotPixel=t,this._parentEdge=e,this._hotPixelVertexIndex=n}}]),s}(hr);cr.HotPixelSnapAction=fr;var gr=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"processIntersections",value:function(t,e,n,r){if(t===n&&e===r)return null;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[r],a=n.getCoordinates()[r+1];if(this._li.computeIntersection(i,o,s,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var u=0;u<this._li.getIntersectionNum();u++)this._interiorIntersections.add(this._li.getIntersection(u));t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1)}}},{key:"isDone",value:function(){return!1}},{key:"getInteriorIntersections",value:function(){return this._interiorIntersections}},{key:"interfaces_",get:function(){return[Jn]}}],[{key:"constructor_",value:function(){this._li=null,this._interiorIntersections=null;var t=arguments[0];this._li=t,this._interiorIntersections=new dt}}]),e}(),pr=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"checkCorrectness",value:function(t){var e=kn.getNodedSubstrings(t),n=new ur(e);try{n.checkValid()}catch(t){if(!(t instanceof _))throw t;t.printStackTrace()}}},{key:"getNodedSubstrings",value:function(){return kn.getNodedSubstrings(this._nodedSegStrings)}},{key:"snapRound",value:function(t,e){var n=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(n),this.computeVertexSnaps(t)}},{key:"findInteriorIntersections",value:function(t,e){var n=new gr(e);return this._noder.setSegmentIntersector(n),this._noder.computeNodes(t),n.getInteriorIntersections()}},{key:"computeVertexSnaps",value:function(){if(ot(arguments[0],H))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.computeVertexSnaps(e)}else if(arguments[0]instanceof kn)for(var n=arguments[0],r=n.getCoordinates(),i=0;i<r.length;i++){var o=new lr(r[i],this._scaleFactor,this._li);this._pointSnapper.snap(o,n,i)&&n.addIntersection(r[i],i)}}},{key:"computeNodes",value:function(t){this._nodedSegStrings=t,this._noder=new Ln,this._pointSnapper=new cr(this._noder.getIndex()),this.snapRound(t,this._li)}},{key:"computeIntersectionSnaps",value:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),r=new lr(n,this._scaleFactor,this._li);this._pointSnapper.snap(r)}}},{key:"interfaces_",get:function(){return[Sn]}}],[{key:"constructor_",value:function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new Ce,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()}}]),e}(),vr=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"bufferFixedPrecision",value:function(t){var e=new ar(new pr(new ie(1)),t.getScale()),n=new sr(this._bufParams);n.setWorkingPrecisionModel(t),n.setNoder(e),this._resultGeometry=n.buffer(this._argGeom,this._distance)}},{key:"bufferReducedPrecision",value:function(){if(0===arguments.length){for(var t=e.MAX_PRECISION_DIGITS;t>=0;t--){try{this.bufferReducedPrecision(t)}catch(t){if(!(t instanceof pt))throw t;this._saveException=t}if(null!==this._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var n=arguments[0],r=e.precisionScaleFactor(this._argGeom,this._distance,n),i=new ie(r);this.bufferFixedPrecision(i)}}},{key:"computeGeometry",value:function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===ie.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()}},{key:"setQuadrantSegments",value:function(t){this._bufParams.setQuadrantSegments(t)}},{key:"bufferOriginalPrecision",value:function(){try{var t=new sr(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(t){if(!(t instanceof F))throw t;this._saveException=t}}},{key:"getResultGeometry",value:function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry}},{key:"setEndCapStyle",value:function(t){this._bufParams.setEndCapStyle(t)}}],[{key:"constructor_",value:function(){if(this._argGeom=null,this._distance=null,this._bufParams=new y,this._resultGeometry=null,this._saveException=null,1===arguments.length){var t=arguments[0];this._argGeom=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._argGeom=e,this._bufParams=n}}},{key:"bufferOp",value:function(){if(2===arguments.length){var t=arguments[1];return new e(arguments[0]).getResultGeometry(t)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof U&&"number"==typeof arguments[1]){var n=arguments[1],r=arguments[2],i=new e(arguments[0]);return i.setQuadrantSegments(r),i.getResultGeometry(n)}if(arguments[2]instanceof y&&arguments[0]instanceof U&&"number"==typeof arguments[1]){var o=arguments[1];return new e(arguments[0],arguments[2]).getResultGeometry(o)}}else if(4===arguments.length){var s=arguments[1],a=arguments[2],u=arguments[3],l=new e(arguments[0]);return l.setQuadrantSegments(a),l.setEndCapStyle(u),l.getResultGeometry(s)}}},{key:"precisionScaleFactor",value:function(t,e,n){var r=t.getEnvelopeInternal(),i=Et.max(Math.abs(r.getMaxX()),Math.abs(r.getMaxY()),Math.abs(r.getMinX()),Math.abs(r.getMinY()))+2*(e>0?e:0),o=n-Math.trunc(Math.log(i)/Math.log(10)+1);return Math.pow(10,o)}}]),e}();vr.CAP_ROUND=y.CAP_ROUND,vr.CAP_BUTT=y.CAP_FLAT,vr.CAP_FLAT=y.CAP_FLAT,vr.CAP_SQUARE=y.CAP_SQUARE,vr.MAX_PRECISION_DIGITS=12;var dr=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],yr=function(){function e(n){t(this,e),this.geometryFactory=n||new ae}return n(e,[{key:"read",value:function(t){var e,n=(e="string"==typeof t?JSON.parse(t):t).type;if(!mr[n])throw new Error("Unknown GeoJSON type: "+e.type);return-1!==dr.indexOf(n)?mr[n].call(this,e.coordinates):"GeometryCollection"===n?mr[n].call(this,e.geometries):mr[n].call(this,e)}},{key:"write",value:function(t){var e=t.getGeometryType();if(!_r[e])throw new Error("Geometry is not supported");return _r[e].call(this,t)}}]),e}(),mr={Feature:function(t){var e={};for(var n in t)e[n]=t[n];if(t.geometry){var r=t.geometry.type;if(!mr[r])throw new Error("Unknown GeoJSON type: "+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=mr.bbox.call(this,t.bbox)),e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var n=0;n<t.features.length;++n)e.features.push(this.read(t.features[n]))}return t.bbox&&(e.bbox=this.parse.bbox.call(this,t.bbox)),e},coordinates:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(a(z,g(r)))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new z(t[0],t[1]),new z(t[2],t[1]),new z(t[2],t[3]),new z(t[0],t[3]),new z(t[0],t[1])])},Point:function(t){var e=a(z,g(t));return this.geometryFactory.createPoint(e)},MultiPoint:function(t){for(var e=[],n=0;n<t.length;++n)e.push(mr.Point.call(this,t[n]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=mr.coordinates.call(this,t);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){for(var e=[],n=0;n<t.length;++n)e.push(mr.LineString.call(this,t[n]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=mr.coordinates.call(this,t[0]),n=this.geometryFactory.createLinearRing(e),r=[],i=1;i<t.length;++i){var o=t[i],s=mr.coordinates.call(this,o),a=this.geometryFactory.createLinearRing(s);r.push(a)}return this.geometryFactory.createPolygon(n,r)},MultiPolygon:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(mr.Polygon.call(this,r))}return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(this.read(r))}return this.geometryFactory.createGeometryCollection(e)}},_r={coordinate:function(t){var e=[t.x,t.y];return t.z&&e.push(t.z),t.m&&e.push(t.m),e},Point:function(t){return{type:"Point",coordinates:_r.coordinate.call(this,t.getCoordinate())}},MultiPoint:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=_r.Point.call(this,r);e.push(i.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(t){for(var e=[],n=t.getCoordinates(),r=0;r<n.length;++r){var i=n[r];e.push(_r.coordinate.call(this,i))}return{type:"LineString",coordinates:e}},MultiLineString:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=_r.LineString.call(this,r);e.push(i.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(t){var e=[],n=_r.LineString.call(this,t._shell);e.push(n.coordinates);for(var r=0;r<t._holes.length;++r){var i=t._holes[r],o=_r.LineString.call(this,i);e.push(o.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=_r.Polygon.call(this,r);e.push(i.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=r.getGeometryType();e.push(_r[i].call(this,r))}return{type:"GeometryCollection",geometries:e}}};return{BufferOp:vr,GeoJSONReader:function(){function e(n){t(this,e),this.parser=new yr(n||new ae)}return n(e,[{key:"read",value:function(t){return this.parser.read(t)}}]),e}(),GeoJSONWriter:function(){function e(){t(this,e),this.parser=new yr(this.geometryFactory)}return n(e,[{key:"write",value:function(t){return this.parser.write(t)}}]),e}()}}()}(Fn)),Fn.exports),Vn=mn(qn);function Gn(){return new Bn}function Bn(){this.reset()}Bn.prototype={constructor:Bn,reset:function(){this.s=this.t=0},add:function(t){zn(Yn,t,this.t),zn(this,Yn.s,this.s),this.s?this.t+=Yn.t:this.s=Yn.t},valueOf:function(){return this.s}};var Yn=new Bn;function zn(t,e,n){var r=t.s=e+n,i=r-e,o=r-i;t.t=e-o+(n-i)}var jn=1e-6,Xn=Math.PI,Un=Xn/2,Zn=Xn/4,Hn=2*Xn,Wn=180/Xn,Jn=Xn/180,Kn=Math.abs,Qn=Math.atan,$n=Math.atan2,tr=Math.cos,er=Math.sin,nr=Math.sqrt;function rr(t){return t>1?0:t<-1?Xn:Math.acos(t)}function ir(t){return t>1?Un:t<-1?-Un:Math.asin(t)}function or(){}function sr(t,e){t&&ur.hasOwnProperty(t.type)&&ur[t.type](t,e)}var ar={Feature:function(t,e){sr(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)sr(n[r].geometry,e)}},ur={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){lr(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)lr(n[r],e,0)},Polygon:function(t,e){hr(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)hr(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)sr(n[r],e)}};function lr(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function hr(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)lr(t[n],e,1);e.polygonEnd()}function cr(t){return[$n(t[1],t[0]),ir(t[2])]}function fr(t){var e=t[0],n=t[1],r=tr(n);return[r*tr(e),r*er(e),er(n)]}function gr(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function pr(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function vr(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function dr(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function yr(t){var e=nr(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function mr(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function _r(t,e){return[t>Xn?t-Hn:t<-Xn?t+Hn:t,e]}function xr(t){return function(e,n){return[(e+=t)>Xn?e-Hn:e<-Xn?e+Hn:e,n]}}function Er(t){var e=xr(t);return e.invert=xr(-t),e}function kr(t,e){var n=tr(t),r=er(t),i=tr(e),o=er(e);function s(t,e){var s=tr(e),a=tr(t)*s,u=er(t)*s,l=er(e),h=l*n+a*r;return[$n(u*i-h*o,a*n-l*r),ir(h*i+u*o)]}return s.invert=function(t,e){var s=tr(e),a=tr(t)*s,u=er(t)*s,l=er(e),h=l*i-u*o;return[$n(u*i+l*o,a*n+h*r),ir(h*n-a*r)]},s}function br(t,e){(e=fr(e))[0]-=t,yr(e);var n=rr(-e[1]);return((-e[2]<0?-n:n)+Hn-jn)%Hn}function wr(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:or,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Ir(t,e){return Kn(t[0]-e[0])<jn&&Kn(t[1]-e[1])<jn}function Nr(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Sr(t,e,n,r,i){var o,s,a=[],u=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],s=t[e];if(Ir(r,s)){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);i.lineEnd()}else a.push(n=new Nr(r,t,null,!0)),u.push(n.o=new Nr(r,null,n,!1)),a.push(n=new Nr(s,t,null,!1)),u.push(n.o=new Nr(s,null,n,!0))}})),a.length){for(u.sort(e),Mr(a),Mr(u),o=0,s=u.length;o<s;++o)u[o].e=n=!n;for(var l,h,c=a[0];;){for(var f=c,g=!0;f.v;)if((f=f.n)===c)return;l=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(g)for(o=0,s=l.length;o<s;++o)i.point((h=l[o])[0],h[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(g)for(l=f.p.z,o=l.length-1;o>=0;--o)i.point((h=l[o])[0],h[1]);else r(f.x,f.p.x,-1,i);f=f.p}l=(f=f.o).z,g=!g}while(!f.v);i.lineEnd()}}}function Mr(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function Lr(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Pr(t){for(var e,n,r,i=t.length,o=-1,s=0;++o<i;)s+=t[o].length;for(n=new Array(s);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--s]=r[e];return n}Gn(),Gn(),Gn(),_r.invert=_r,function(t){var e;1===t.length&&(e=t,t=function(t,n){return Lr(e(t),n)})}(Lr);var Cr=1e9,Tr=-Cr;function Or(t,e,n,r){function i(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function o(i,o,a,l){var h=0,c=0;if(null==i||(h=s(i,a))!==(c=s(o,a))||u(i,o)<0^a>0)do{l.point(0===h||3===h?t:n,h>1?r:e)}while((h=(h+a+4)%4)!==c);else l.point(o[0],o[1])}function s(r,i){return Kn(r[0]-t)<jn?i>0?0:3:Kn(r[0]-n)<jn?i>0?2:1:Kn(r[1]-e)<jn?i>0?1:0:i>0?3:2}function a(t,e){return u(t.x,e.x)}function u(t,e){var n=s(t,1),r=s(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){var u,l,h,c,f,g,p,v,d,y,m,_=s,x=wr(),E={point:k,lineStart:function(){E.point=b,l&&l.push(h=[]);y=!0,d=!1,p=v=NaN},lineEnd:function(){u&&(b(c,f),g&&d&&x.rejoin(),u.push(x.result()));E.point=k,d&&_.lineEnd()},polygonStart:function(){_=x,u=[],l=[],m=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=l.length;n<i;++n)for(var o,s,a=l[n],u=1,h=a.length,c=a[0],f=c[0],g=c[1];u<h;++u)o=f,s=g,f=(c=a[u])[0],g=c[1],s<=r?g>r&&(f-o)*(r-s)>(g-s)*(t-o)&&++e:g<=r&&(f-o)*(r-s)<(g-s)*(t-o)&&--e;return e}(),n=m&&e,i=(u=Pr(u)).length;(n||i)&&(s.polygonStart(),n&&(s.lineStart(),o(null,null,1,s),s.lineEnd()),i&&Sr(u,a,e,o,s),s.polygonEnd());_=s,u=l=h=null}};function k(t,e){i(t,e)&&_.point(t,e)}function b(o,s){var a=i(o,s);if(l&&h.push([o,s]),y)c=o,f=s,g=a,y=!1,a&&(_.lineStart(),_.point(o,s));else if(a&&d)_.point(o,s);else{var u=[p=Math.max(Tr,Math.min(Cr,p)),v=Math.max(Tr,Math.min(Cr,v))],x=[o=Math.max(Tr,Math.min(Cr,o)),s=Math.max(Tr,Math.min(Cr,s))];!function(t,e,n,r,i,o){var s,a=t[0],u=t[1],l=0,h=1,c=e[0]-a,f=e[1]-u;if(s=n-a,c||!(s>0)){if(s/=c,c<0){if(s<l)return;s<h&&(h=s)}else if(c>0){if(s>h)return;s>l&&(l=s)}if(s=i-a,c||!(s<0)){if(s/=c,c<0){if(s>h)return;s>l&&(l=s)}else if(c>0){if(s<l)return;s<h&&(h=s)}if(s=r-u,f||!(s>0)){if(s/=f,f<0){if(s<l)return;s<h&&(h=s)}else if(f>0){if(s>h)return;s>l&&(l=s)}if(s=o-u,f||!(s<0)){if(s/=f,f<0){if(s>h)return;s>l&&(l=s)}else if(f>0){if(s<l)return;s<h&&(h=s)}return l>0&&(t[0]=a+l*c,t[1]=u+l*f),h<1&&(e[0]=a+h*c,e[1]=u+h*f),!0}}}}}(u,x,t,e,n,r)?a&&(_.lineStart(),_.point(o,s),m=!1):(d||(_.lineStart(),_.point(u[0],u[1])),_.point(x[0],x[1]),a||_.lineEnd(),m=!1)}p=o,v=s,d=a}return E}}var Rr=Gn();function Ar(t){return t}Gn(),Gn(),Gn();var Dr=1/0,Fr=Dr,qr=-Dr,Vr=qr,Gr={point:function(t,e){t<Dr&&(Dr=t);t>qr&&(qr=t);e<Fr&&(Fr=e);e>Vr&&(Vr=e)},lineStart:or,lineEnd:or,polygonStart:or,polygonEnd:or,result:function(){var t=[[Dr,Fr],[qr,Vr]];return qr=Vr=-(Fr=Dr=1/0),t}};function Br(t,e,n,r){return function(i,o){var s,a,u,l=e(o),h=i.invert(r[0],r[1]),c=wr(),f=e(c),g=!1,p={point:v,lineStart:y,lineEnd:m,polygonStart:function(){p.point=_,p.lineStart=x,p.lineEnd=E,a=[],s=[]},polygonEnd:function(){p.point=v,p.lineStart=y,p.lineEnd=m,a=Pr(a);var t=function(t,e){var n=e[0],r=e[1],i=[er(n),-tr(n),0],o=0,s=0;Rr.reset();for(var a=0,u=t.length;a<u;++a)if(h=(l=t[a]).length)for(var l,h,c=l[h-1],f=c[0],g=c[1]/2+Zn,p=er(g),v=tr(g),d=0;d<h;++d,f=m,p=x,v=E,c=y){var y=l[d],m=y[0],_=y[1]/2+Zn,x=er(_),E=tr(_),k=m-f,b=k>=0?1:-1,w=b*k,I=w>Xn,N=p*x;if(Rr.add($n(N*b*er(w),v*E+N*tr(w))),o+=I?k+b*Hn:k,I^f>=n^m>=n){var S=pr(fr(c),fr(y));yr(S);var M=pr(i,S);yr(M);var L=(I^k>=0?-1:1)*ir(M[2]);(r>L||r===L&&(S[0]||S[1]))&&(s+=I^k>=0?1:-1)}}return(o<-jn||o<jn&&Rr<-jn)^1&s}(s,h);a.length?(g||(o.polygonStart(),g=!0),Sr(a,zr,t,n,o)):t&&(g||(o.polygonStart(),g=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),g&&(o.polygonEnd(),g=!1),a=s=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function v(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&o.point(e,n)}function d(t,e){var n=i(t,e);l.point(n[0],n[1])}function y(){p.point=d,l.lineStart()}function m(){p.point=v,l.lineEnd()}function _(t,e){u.push([t,e]);var n=i(t,e);f.point(n[0],n[1])}function x(){f.lineStart(),u=[]}function E(){_(u[0][0],u[0][1]),f.lineEnd();var t,e,n,r,i=f.clean(),l=c.result(),h=l.length;if(u.pop(),s.push(u),u=null,h)if(1&i){if((e=(n=l[0]).length-1)>0){for(g||(o.polygonStart(),g=!0),o.lineStart(),t=0;t<e;++t)o.point((r=n[t])[0],r[1]);o.lineEnd()}}else h>1&&2&i&&l.push(l.pop().concat(l.shift())),a.push(l.filter(Yr))}return p}}function Yr(t){return t.length>1}function zr(t,e){return((t=t.x)[0]<0?t[1]-Un-jn:Un-t[1])-((e=e.x)[0]<0?e[1]-Un-jn:Un-e[1])}Gn();var jr=Br((function(){return!0}),(function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,s){var a=o>0?Xn:-Xn,u=Kn(o-n);Kn(u-Xn)<jn?(t.point(n,r=(r+s)/2>0?Un:-Un),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),t.point(o,r),e=0):i!==a&&u>=Xn&&(Kn(n-i)<jn&&(n-=i*jn),Kn(o-a)<jn&&(o-=a*jn),r=function(t,e,n,r){var i,o,s=er(t-n);return Kn(s)>jn?Qn((er(e)*(o=tr(r))*er(n)-er(r)*(i=tr(e))*er(t))/(i*o*s)):(e+r)/2}(n,r,o,s),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),e=0),t.point(n=o,r=s),i=a},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}),(function(t,e,n,r){var i;if(null==t)i=n*Un,r.point(-Xn,i),r.point(0,i),r.point(Xn,i),r.point(Xn,0),r.point(Xn,-i),r.point(0,-i),r.point(-Xn,-i),r.point(-Xn,0),r.point(-Xn,i);else if(Kn(t[0]-e[0])>jn){var o=t[0]<e[0]?Xn:-Xn;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}),[-Xn,-Un]);function Xr(t,e){var n=tr(t),r=n>0,i=Kn(n)>jn;function o(t,e){return tr(t)*tr(e)>n}function s(t,e,r){var i=[1,0,0],o=pr(fr(t),fr(e)),s=gr(o,o),a=o[0],u=s-a*a;if(!u)return!r&&t;var l=n*s/u,h=-n*a/u,c=pr(i,o),f=dr(i,l);vr(f,dr(o,h));var g=c,p=gr(f,g),v=gr(g,g),d=p*p-v*(gr(f,f)-1);if(!(d<0)){var y=nr(d),m=dr(g,(-p-y)/v);if(vr(m,f),m=cr(m),!r)return m;var _,x=t[0],E=e[0],k=t[1],b=e[1];E<x&&(_=x,x=E,E=_);var w=E-x,I=Kn(w-Xn)<jn;if(!I&&b<k&&(_=k,k=b,b=_),I||w<jn?I?k+b>0^m[1]<(Kn(m[0]-x)<jn?k:b):k<=m[1]&&m[1]<=b:w>Xn^(x<=m[0]&&m[0]<=E)){var N=dr(g,(-p+y)/v);return vr(N,f),[m,cr(N)]}}}function a(e,n){var i=r?t:Xn-t,o=0;return e<-i?o|=1:e>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return Br(o,(function(t){var e,n,u,l,h;return{lineStart:function(){l=u=!1,h=1},point:function(c,f){var g,p=[c,f],v=o(c,f),d=r?v?0:a(c,f):v?a(c+(c<0?Xn:-Xn),f):0;if(!e&&(l=u=v)&&t.lineStart(),v!==u&&(!(g=s(e,p))||Ir(e,g)||Ir(p,g))&&(p[0]+=jn,p[1]+=jn,v=o(p[0],p[1])),v!==u)h=0,v?(t.lineStart(),g=s(p,e),t.point(g[0],g[1])):(g=s(e,p),t.point(g[0],g[1]),t.lineEnd()),e=g;else if(i&&e&&r^v){var y;d&n||!(y=s(p,e,!0))||(h=0,r?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1])))}!v||e&&Ir(e,p)||t.point(p[0],p[1]),e=p,u=v,n=d},lineEnd:function(){u&&t.lineEnd(),e=null},clean:function(){return h|(l&&u)<<1}}}),(function(n,r,i,o){!function(t,e,n,r,i,o){if(n){var s=tr(e),a=er(e),u=r*n;null==i?(i=e+r*Hn,o=e-u/2):(i=br(s,i),o=br(s,o),(r>0?i<o:i>o)&&(i+=r*Hn));for(var l,h=i;r>0?h>o:h<o;h-=u)l=cr([s,-a*tr(h),-a*er(h)]),t.point(l[0],l[1])}}(o,t,e,i,n,r)}),r?[0,-t]:[-Xn,t-Xn])}function Ur(t){return function(e){var n=new Zr;for(var r in t)n[r]=t[r];return n.stream=e,n}}function Zr(){}function Hr(t,e,n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=o&&t.clipExtent(null),function(t,e){t&&ar.hasOwnProperty(t.type)?ar[t.type](t,e):sr(t,e)}(n,t.stream(Gr));var s=Gr.result(),a=Math.min(r/(s[1][0]-s[0][0]),i/(s[1][1]-s[0][1])),u=+e[0][0]+(r-a*(s[1][0]+s[0][0]))/2,l=+e[0][1]+(i-a*(s[1][1]+s[0][1]))/2;return null!=o&&t.clipExtent(o),t.scale(150*a).translate([u,l])}Zr.prototype={constructor:Zr,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Wr=16,Jr=tr(30*Jn);function Kr(t,e){return+e?function(t,e){function n(r,i,o,s,a,u,l,h,c,f,g,p,v,d){var y=l-r,m=h-i,_=y*y+m*m;if(_>4*e&&v--){var x=s+f,E=a+g,k=u+p,b=nr(x*x+E*E+k*k),w=ir(k/=b),I=Kn(Kn(k)-1)<jn||Kn(o-c)<jn?(o+c)/2:$n(E,x),N=t(I,w),S=N[0],M=N[1],L=S-r,P=M-i,C=m*L-y*P;(C*C/_>e||Kn((y*L+m*P)/_-.5)>.3||s*f+a*g+u*p<Jr)&&(n(r,i,o,s,a,u,S,M,I,x/=b,E/=b,k,v,d),d.point(S,M),n(S,M,I,x,E,k,l,h,c,f,g,p,v,d))}}return function(e){var r,i,o,s,a,u,l,h,c,f,g,p,v={point:d,lineStart:y,lineEnd:_,polygonStart:function(){e.polygonStart(),v.lineStart=x},polygonEnd:function(){e.polygonEnd(),v.lineStart=y}};function d(n,r){n=t(n,r),e.point(n[0],n[1])}function y(){h=NaN,v.point=m,e.lineStart()}function m(r,i){var o=fr([r,i]),s=t(r,i);n(h,c,l,f,g,p,h=s[0],c=s[1],l=r,f=o[0],g=o[1],p=o[2],Wr,e),e.point(h,c)}function _(){v.point=d,e.lineEnd()}function x(){y(),v.point=E,v.lineEnd=k}function E(t,e){m(r=t,e),i=h,o=c,s=f,a=g,u=p,v.point=m}function k(){n(h,c,l,f,g,p,i,o,r,s,a,u,Wr,e),v.lineEnd=_,_()}return v}}(t,e):function(t){return Ur({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)}var Qr=Ur({point:function(t,e){this.stream.point(t*Jn,e*Jn)}});function $r(t){return function(t){var e,n,r,i,o,s,a,u,l,h,c=150,f=480,g=250,p=0,v=0,d=0,y=0,m=0,_=null,x=jr,E=null,k=Ar,b=.5,w=Kr(S,b);function I(t){return[(t=o(t[0]*Jn,t[1]*Jn))[0]*c+n,r-t[1]*c]}function N(t){return(t=o.invert((t[0]-n)/c,(r-t[1])/c))&&[t[0]*Wn,t[1]*Wn]}function S(t,i){return[(t=e(t,i))[0]*c+n,r-t[1]*c]}function M(){o=mr(i=function(t,e,n){return(t%=Hn)?e||n?mr(Er(t),kr(e,n)):Er(t):e||n?kr(e,n):_r}(d,y,m),e);var t=e(p,v);return n=f-t[0]*c,r=g+t[1]*c,L()}function L(){return l=h=null,I}return I.stream=function(t){return l&&h===t?l:l=Qr(x(i,w(k(h=t))))},I.clipAngle=function(t){return arguments.length?(x=+t?Xr(_=t*Jn,6*Jn):(_=null,jr),L()):_*Wn},I.clipExtent=function(t){return arguments.length?(k=null==t?(E=s=a=u=null,Ar):Or(E=+t[0][0],s=+t[0][1],a=+t[1][0],u=+t[1][1]),L()):null==E?null:[[E,s],[a,u]]},I.scale=function(t){return arguments.length?(c=+t,M()):c},I.translate=function(t){return arguments.length?(f=+t[0],g=+t[1],M()):[f,g]},I.center=function(t){return arguments.length?(p=t[0]%360*Jn,v=t[1]%360*Jn,M()):[p*Wn,v*Wn]},I.rotate=function(t){return arguments.length?(d=t[0]%360*Jn,y=t[1]%360*Jn,m=t.length>2?t[2]%360*Jn:0,M()):[d*Wn,y*Wn,m*Wn]},I.precision=function(t){return arguments.length?(w=Kr(S,b=t*t),L()):nr(b)},I.fitExtent=function(t,e){return Hr(I,t,e)},I.fitSize=function(t,e){return function(t,e,n){return Hr(t,[[0,0],e],n)}(I,t,e)},function(){return e=t.apply(this,arguments),I.invert=e.invert&&N,M()}}((function(){return t}))()}function ti(t){return function(e,n){var r=tr(e),i=tr(n),o=t(r*i);return[o*i*er(e),o*er(n)]}}function ei(t){return function(e,n){var r=nr(e*e+n*n),i=t(r),o=er(i),s=tr(i);return[$n(e*o,r*s),ir(r&&n*o/r)]}}ti((function(t){return nr(2/(1+t))})).invert=ei((function(t){return 2*ir(t/2)}));var ni=ti((function(t){return(t=rr(t))&&t/er(t)}));function ri(){return $r(ni).scale(79.4188).clipAngle(179.999)}function ii(t,e){return[t,e]}ni.invert=ei((function(t){return t})),ii.invert=ii;var oi=Vn.BufferOp,si=Vn.GeoJSONReader,ai=Vn.GeoJSONWriter;function ui(t,e,n,r){var i=t.properties||{},o="Feature"===t.type?t.geometry:t;if("GeometryCollection"===o.type){var s=[];return mt(t,(function(t){var i=ui(t,e,n,r);i&&s.push(i)})),C(s)}var a=function(t){var e=An(t).geometry.coordinates,n=[-e[0],-e[1]];return ri().rotate(n).scale(x)}(o),u={type:o.type,coordinates:hi(o.coordinates,a)},l=(new si).read(u),h=F(q(e,n),"meters"),c=oi.bufferOp(l,h,r);if(!li((c=(new ai).write(c)).coordinates))return b({type:c.type,coordinates:ci(c.coordinates,a)},i)}function li(t){return Array.isArray(t[0])?li(t[0]):isNaN(t[0])}function hi(t,e){return"object"!==m(t[0])?e(t):t.map((function(t){return hi(t,e)}))}function ci(t,e){return"object"!==m(t[0])?e.invert(t):t.map((function(t){return ci(t,e)}))}function fi(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=0,r=0,i=0;return mt(t,(function(t,o,s){var a=e.weight?null==s?void 0:s[e.weight]:void 0;if(!U(a=null==a?1:a))throw new Error("weight value must be a number for feature index "+o);(a=Number(a))>0&&ct(t,(function(t){n+=t[0]*a,r+=t[1]*a,i+=a}))})),I([n/i,r/i],e.properties,e)}function gi(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=0,r=0,i=0;return ct(t,(function(t){n+=t[0],r+=t[1],i++}),!0),I([n/i,r/i],e.properties)}function pi(t,e,n,r,i){var o=r.tolerance||.001,s=0,a=0,u=0,l=0;if(vt(n,(function(e){var n,r=null==(n=e.properties)?void 0:n.weight,i=null==r?1:r;if(!U(i=Number(i)))throw new Error("weight value must be a number");if(i>0){l+=1;var o=i*ut(e,t);0===o&&(o=1);var h=i/o;s+=e.geometry.coordinates[0]*h,a+=e.geometry.coordinates[1]*h,u+=h}})),l<1)throw new Error("no features to measure");var h=s/u,c=a/u;return 1===l||0===i||Math.abs(h-e[0])<o&&Math.abs(c-e[1])<o?I([h,c],{medianCandidates:r.medianCandidates}):(r.medianCandidates.push([h,c]),pi([h,c],t,n,r,i-1))}var vi={exports:{}},di=_n(Ke),yi=function(){return s((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mi;if(i(this,t),this.data=e,this.length=this.data.length,this.compare=n,this.length>0)for(var r=(this.length>>1)-1;r>=0;r--)this._down(r)}),[{key:"push",value:function(t){this.data.push(t),this.length++,this._up(this.length-1)}},{key:"pop",value:function(){if(0!==this.length){var t=this.data[0],e=this.data.pop();return this.length--,this.length>0&&(this.data[0]=e,this._down(0)),t}}},{key:"peek",value:function(){return this.data[0]}},{key:"_up",value:function(t){for(var e=this.data,n=this.compare,r=e[t];t>0;){var i=t-1>>1,o=e[i];if(n(r,o)>=0)break;e[t]=o,t=i}e[t]=r}},{key:"_down",value:function(t){for(var e=this.data,n=this.compare,r=this.length>>1,i=e[t];t<r;){var o=1+(t<<1),s=e[o],a=o+1;if(a<this.length&&n(e[a],s)<0&&(o=a,s=e[a]),n(s,i)>=0)break;e[t]=s,t=o}e[t]=i}}])}();function mi(t,e){return t<e?-1:t>e?1:0}var _i,xi,Ei,ki,bi,wi=_n(Object.freeze({__proto__:null,default:yi})),Ii={exports:{}};function Ni(){if(bi)return Ii.exports;bi=1;var t=(xi||(xi=1,_i=function(t,e,n,r){var i=t[0],o=t[1],s=!1;void 0===n&&(n=0),void 0===r&&(r=e.length);for(var a=(r-n)/2,u=0,l=a-1;u<a;l=u++){var h=e[n+2*u+0],c=e[n+2*u+1],f=e[n+2*l+0],g=e[n+2*l+1];c>o!=g>o&&i<(f-h)*(o-c)/(g-c)+h&&(s=!s)}return s}),_i),e=(ki||(ki=1,Ei=function(t,e,n,r){var i=t[0],o=t[1],s=!1;void 0===n&&(n=0),void 0===r&&(r=e.length);for(var a=r-n,u=0,l=a-1;u<a;l=u++){var h=e[u+n][0],c=e[u+n][1],f=e[l+n][0],g=e[l+n][1];c>o!=g>o&&i<(f-h)*(o-c)/(g-c)+h&&(s=!s)}return s}),Ei);return Ii.exports=function(n,r,i,o){return r.length>0&&Array.isArray(r[0])?e(n,r,i,o):t(n,r,i,o)},Ii.exports.nested=e,Ii.exports.flat=t,Ii.exports}var Si,Mi,Li={exports:{}};Li.exports;function Pi(){return Si||(Si=1,function(t,e){!function(t){var e=134217729,n=33306690738754706e-32;function r(t,e,n,r,i){var o,s,a,u,l=e[0],h=r[0],c=0,f=0;h>l==h>-l?(o=l,l=e[++c]):(o=h,h=r[++f]);var g=0;if(c<t&&f<n)for(h>l==h>-l?(a=o-((s=l+o)-l),l=e[++c]):(a=o-((s=h+o)-h),h=r[++f]),o=s,0!==a&&(i[g++]=a);c<t&&f<n;)h>l==h>-l?(a=o-((s=o+l)-(u=s-o))+(l-u),l=e[++c]):(a=o-((s=o+h)-(u=s-o))+(h-u),h=r[++f]),o=s,0!==a&&(i[g++]=a);for(;c<t;)a=o-((s=o+l)-(u=s-o))+(l-u),l=e[++c],o=s,0!==a&&(i[g++]=a);for(;f<n;)a=o-((s=o+h)-(u=s-o))+(h-u),h=r[++f],o=s,0!==a&&(i[g++]=a);return 0===o&&0!==g||(i[g++]=o),g}function i(t){return new Float64Array(t)}var o=33306690738754716e-32,s=22204460492503146e-32,a=11093356479670487e-47,u=i(4),l=i(8),h=i(12),c=i(16),f=i(4);t.orient2d=function(t,i,g,p,v,d){var y=(i-d)*(g-v),m=(t-v)*(p-d),_=y-m;if(0===y||0===m||y>0!=m>0)return _;var x=Math.abs(y+m);return Math.abs(_)>=o*x?_:-function(t,i,o,g,p,v,d){var y,m,_,x,E,k,b,w,I,N,S,M,L,P,C,T,O,R,A=t-p,D=o-p,F=i-v,q=g-v;E=(C=(w=A-(b=(k=e*A)-(k-A)))*(N=q-(I=(k=e*q)-(k-q)))-((P=A*q)-b*I-w*I-b*N))-(S=C-(O=(w=F-(b=(k=e*F)-(k-F)))*(N=D-(I=(k=e*D)-(k-D)))-((T=F*D)-b*I-w*I-b*N))),u[0]=C-(S+E)+(E-O),E=(L=P-((M=P+S)-(E=M-P))+(S-E))-(S=L-T),u[1]=L-(S+E)+(E-T),E=(R=M+S)-M,u[2]=M-(R-E)+(S-E),u[3]=R;var V=function(t,e){for(var n=e[0],r=1;r<t;r++)n+=e[r];return n}(4,u),G=s*d;if(V>=G||-V>=G)return V;if(y=t-(A+(E=t-A))+(E-p),_=o-(D+(E=o-D))+(E-p),m=i-(F+(E=i-F))+(E-v),x=g-(q+(E=g-q))+(E-v),0===y&&0===m&&0===_&&0===x)return V;if(G=a*d+n*Math.abs(V),(V+=A*x+q*y-(F*_+D*m))>=G||-V>=G)return V;E=(C=(w=y-(b=(k=e*y)-(k-y)))*(N=q-(I=(k=e*q)-(k-q)))-((P=y*q)-b*I-w*I-b*N))-(S=C-(O=(w=m-(b=(k=e*m)-(k-m)))*(N=D-(I=(k=e*D)-(k-D)))-((T=m*D)-b*I-w*I-b*N))),f[0]=C-(S+E)+(E-O),E=(L=P-((M=P+S)-(E=M-P))+(S-E))-(S=L-T),f[1]=L-(S+E)+(E-T),E=(R=M+S)-M,f[2]=M-(R-E)+(S-E),f[3]=R;var B=r(4,u,4,f,l);E=(C=(w=A-(b=(k=e*A)-(k-A)))*(N=x-(I=(k=e*x)-(k-x)))-((P=A*x)-b*I-w*I-b*N))-(S=C-(O=(w=F-(b=(k=e*F)-(k-F)))*(N=_-(I=(k=e*_)-(k-_)))-((T=F*_)-b*I-w*I-b*N))),f[0]=C-(S+E)+(E-O),E=(L=P-((M=P+S)-(E=M-P))+(S-E))-(S=L-T),f[1]=L-(S+E)+(E-T),E=(R=M+S)-M,f[2]=M-(R-E)+(S-E),f[3]=R;var Y=r(B,l,4,f,h);E=(C=(w=y-(b=(k=e*y)-(k-y)))*(N=x-(I=(k=e*x)-(k-x)))-((P=y*x)-b*I-w*I-b*N))-(S=C-(O=(w=m-(b=(k=e*m)-(k-m)))*(N=_-(I=(k=e*_)-(k-_)))-((T=m*_)-b*I-w*I-b*N))),f[0]=C-(S+E)+(E-O),E=(L=P-((M=P+S)-(E=M-P))+(S-E))-(S=L-T),f[1]=L-(S+E)+(E-T),E=(R=M+S)-M,f[2]=M-(R-E)+(S-E),f[3]=R;var z=r(Y,h,4,f,c);return c[z-1]}(t,i,g,p,v,d,x)},t.orient2dfast=function(t,e,n,r,i,o){return(e-o)*(n-i)-(t-i)*(r-o)},Object.defineProperty(t,"__esModule",{value:!0})}(e)}(0,Li.exports)),Li.exports}var Ci=function(){if(Mi)return vi.exports;Mi=1;var t=di,e=wi,n=Ni(),r=Pi().orient2d;function i(e,r,i){r=Math.max(0,void 0===r?2:r),i=i||0;var s=function(t){for(var e=t[0],r=t[0],i=t[0],o=t[0],s=0;s<t.length;s++){var a=t[s];a[0]<e[0]&&(e=a),a[0]>i[0]&&(i=a),a[1]<r[1]&&(r=a),a[1]>o[1]&&(o=a)}var u=[e,r,i,o],l=u.slice();for(s=0;s<t.length;s++)n(t[s],u)||l.push(t[s]);return function(t){t.sort(d);for(var e=[],n=0;n<t.length;n++){for(;e.length>=2&&h(e[e.length-2],e[e.length-1],t[n])<=0;)e.pop();e.push(t[n])}for(var r=[],i=t.length-1;i>=0;i--){for(;r.length>=2&&h(r[r.length-2],r[r.length-1],t[i])<=0;)r.pop();r.push(t[i])}return r.pop(),e.pop(),e.concat(r)}(l)}(e),a=new t(16);a.toBBox=function(t){return{minX:t[0],minY:t[1],maxX:t[0],maxY:t[1]}},a.compareMinX=function(t,e){return t[0]-e[0]},a.compareMinY=function(t,e){return t[1]-e[1]},a.load(e);for(var u,l=[],p=0;p<s.length;p++){var v=s[p];a.remove(v),u=f(v,u),l.push(u)}var y=new t(16);for(p=0;p<l.length;p++)y.insert(c(l[p]));for(var m=r*r,_=i*i;l.length;){var x=l.shift(),E=x.p,k=x.next.p,b=g(E,k);if(!(b<_)){var w=b/m;(v=o(a,x.prev.p,E,k,x.next.next.p,w,y))&&Math.min(g(v,E),g(v,k))<=w&&(l.push(x),l.push(f(v,x)),a.remove(v),y.remove(x),y.insert(c(x)),y.insert(c(x.next)))}}x=u;var I=[];do{I.push(x.p),x=x.next}while(x!==u);return I.push(x.p),I}function o(t,n,r,i,o,u,h){for(var c=new e([],s),f=t.data;f;){for(var g=0;g<f.children.length;g++){var v=f.children[g],d=f.leaf?p(v,r,i):a(r,i,v);d>u||c.push({node:v,dist:d})}for(;c.length&&!c.peek().node.children;){var y=c.pop(),m=y.node,_=p(m,n,r),x=p(m,i,o);if(y.dist<_&&y.dist<x&&l(r,m,h)&&l(i,m,h))return m}(f=c.pop())&&(f=f.node)}return null}function s(t,e){return t.dist-e.dist}function a(t,e,n){if(u(t,n)||u(e,n))return 0;var r=v(t[0],t[1],e[0],e[1],n.minX,n.minY,n.maxX,n.minY);if(0===r)return 0;var i=v(t[0],t[1],e[0],e[1],n.minX,n.minY,n.minX,n.maxY);if(0===i)return 0;var o=v(t[0],t[1],e[0],e[1],n.maxX,n.minY,n.maxX,n.maxY);if(0===o)return 0;var s=v(t[0],t[1],e[0],e[1],n.minX,n.maxY,n.maxX,n.maxY);return 0===s?0:Math.min(r,i,o,s)}function u(t,e){return t[0]>=e.minX&&t[0]<=e.maxX&&t[1]>=e.minY&&t[1]<=e.maxY}function l(t,e,n){for(var r,i,o,s,a=Math.min(t[0],e[0]),u=Math.min(t[1],e[1]),l=Math.max(t[0],e[0]),c=Math.max(t[1],e[1]),f=n.search({minX:a,minY:u,maxX:l,maxY:c}),g=0;g<f.length;g++)if(r=f[g].p,i=f[g].next.p,o=t,r!==(s=e)&&i!==o&&h(r,i,o)>0!=h(r,i,s)>0&&h(o,s,r)>0!=h(o,s,i)>0)return!1;return!0}function h(t,e,n){return r(t[0],t[1],e[0],e[1],n[0],n[1])}function c(t){var e=t.p,n=t.next.p;return t.minX=Math.min(e[0],n[0]),t.minY=Math.min(e[1],n[1]),t.maxX=Math.max(e[0],n[0]),t.maxY=Math.max(e[1],n[1]),t}function f(t,e){var n={p:t,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return e?(n.next=e.next,n.prev=e,e.next.prev=n,e.next=n):(n.prev=n,n.next=n),n}function g(t,e){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function p(t,e,n){var r=e[0],i=e[1],o=n[0]-r,s=n[1]-i;if(0!==o||0!==s){var a=((t[0]-r)*o+(t[1]-i)*s)/(o*o+s*s);a>1?(r=n[0],i=n[1]):a>0&&(r+=o*a,i+=s*a)}return(o=t[0]-r)*o+(s=t[1]-i)*s}function v(t,e,n,r,i,o,s,a){var u,l,h,c,f=n-t,g=r-e,p=s-i,v=a-o,d=t-i,y=e-o,m=f*f+g*g,_=f*p+g*v,x=p*p+v*v,E=f*d+g*y,k=p*d+v*y,b=m*x-_*_,w=b,I=b;0===b?(l=0,w=1,c=k,I=x):(c=m*k-_*E,(l=_*k-x*E)<0?(l=0,c=k,I=x):l>w&&(l=w,c=k+_,I=x)),c<0?(c=0,-E<0?l=0:-E>m?l=w:(l=-E,w=m)):c>I&&(c=I,-E+_<0?l=0:-E+_>m?l=w:(l=-E+_,w=m));var N=(1-(h=0===c?0:c/I))*i+h*s-((1-(u=0===l?0:l/w))*t+u*n),S=(1-h)*o+h*a-((1-u)*e+u*r);return N*N+S*S}function d(t,e){return t[0]===e[0]?t[1]-e[1]:t[0]-e[0]}return e.default&&(e=e.default),vi.exports=i,vi.exports.default=i,vi.exports}(),Ti=mn(Ci);function Oi(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.concavity=e.concavity||1/0;var n=[];if(ct(t,(function(t){n.push([t[0],t[1]])})),!n.length)return null;var r=Ti(n,e.concavity);return r.length>3?S([r]):null}function Ri(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.steps||64,i=n.properties?n.properties:!Array.isArray(t)&&"Feature"===t.type&&t.properties?t.properties:{},o=[],s=0;s<r;s++)o.push(at(t,e,-360*s/r,n).geometry.coordinates);return o.push(o[0]),S([o],i)}function Ai(t){if(!t)throw new Error("geojson is required");switch(t.type){case"Feature":return Di(t);case"FeatureCollection":return function(t){var e={type:"FeatureCollection"};return Object.keys(t).forEach((function(n){switch(n){case"type":case"features":return;default:e[n]=t[n]}})),e.features=t.features.map((function(t){return Di(t)})),e}(t);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return qi(t);default:throw new Error("unknown GeoJSON type")}}function Di(t){var e={type:"Feature"};return Object.keys(t).forEach((function(n){switch(n){case"type":case"properties":case"geometry":return;default:e[n]=t[n]}})),e.properties=Fi(t.properties),null==t.geometry?e.geometry=null:e.geometry=qi(t.geometry),e}function Fi(t){var e={};return t?(Object.keys(t).forEach((function(n){var r=t[n];"object"===m(r)?null===r?e[n]=null:Array.isArray(r)?e[n]=r.map((function(t){return t})):e[n]=Fi(r):e[n]=r})),e):e}function qi(t){var e={type:t.type};return t.bbox&&(e.bbox=t.bbox),"GeometryCollection"===t.type?(e.geometries=t.geometries.map((function(t){return qi(t)})),e):(e.coordinates=Vi(t.coordinates),e)}function Vi(t){var e=t;return"object"!==m(e[0])?e.slice():e.map((function(t){return Vi(t)}))}function Gi(t,e){if(!t)throw new Error("geojson is required");if("FeatureCollection"!==t.type)throw new Error("geojson must be a FeatureCollection");if(null==e)throw new Error("filter is required");var n=[];return vt(t,(function(t){ji(t.properties,e)&&n.push(t)})),C(n)}function Bi(t,e,n){if(!t)throw new Error("geojson is required");if("FeatureCollection"!==t.type)throw new Error("geojson must be a FeatureCollection");if(null==e)throw new Error("property is required");for(var r=zi(t,e),i=Object.keys(r),o=0;o<i.length;o++){for(var s=i[o],a=r[s],u=[],l=0;l<a.length;l++)u.push(t.features[a[l]]);n(C(u),s,o)}}function Yi(t,e,n,r){var i=r;return Bi(t,e,(function(t,e,o){i=0===o&&void 0===r?t:n(i,t,e,o)})),i}function zi(t,e){var n={};return vt(t,(function(t,r){var i=t.properties||{};if(Object.prototype.hasOwnProperty.call(i,String(e))){var o=i[e];Object.prototype.hasOwnProperty.call(n,o)?n[o].push(r):n[o]=[r]}})),n}function ji(t,e){if(void 0===t)return!1;var n=m(e);if("number"===n||"string"===n)return Object.prototype.hasOwnProperty.call(t,e);if(Array.isArray(e)){for(var r=0;r<e.length;r++)if(!ji(t,e[r]))return!1;return!0}return Xi(t,e)}function Xi(t,e){for(var n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];if(t[i]!==e[i])return!1}return!0}function Ui(t,e){if(!e)return{};if(!e.length)return{};for(var n={},r=0;r<e.length;r++){var i=e[r];Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n}var Zi,Hi,Wi,Ji,Ki,Qi,$i=Object.freeze({__proto__:null,applyFilter:ji,clusterEach:Bi,clusterReduce:Yi,createBins:zi,filterProperties:Ui,getCluster:Gi,propertiesContainsFilter:Xi}),to=qe;function eo(){return Hi||(Hi=1,Zi={eudist:function(t,e,n){for(var r=t.length,i=0,o=0;o<r;o++){var s=(t[o]||0)-(e[o]||0);i+=s*s}return n?Math.sqrt(i):i},mandist:function(t,e,n){for(var r=t.length,i=0,o=0;o<r;o++)i+=Math.abs((t[o]||0)-(e[o]||0));return n?Math.sqrt(i):i},dist:function(t,e,n){var r=Math.abs(t-e);return n?r:r*r}}),Zi}var no=function(){if(Qi)return Ki;Qi=1;var t=eo(),e=function(){if(Ji)return Wi;Ji=1;var t=eo(),e=t.eudist,n=t.dist;return Wi={kmrand:function(t,e){for(var n={},r=[],i=e<<2,o=t.length,s=t[0].length>0;r.length<e&&i-- >0;){var a=t[Math.floor(Math.random()*o)],u=s?a.join("_"):""+a;n[u]||(n[u]=!0,r.push(a))}if(r.length<e)throw new Error("Error initializating clusters");return r},kmpp:function(t,r){var i=t[0].length?e:n,o=[],s=t.length,a=t[0].length>0,u=t[Math.floor(Math.random()*s)];for(a&&u.join("_"),o.push(u);o.length<r;){for(var l=[],h=o.length,c=0,f=[],g=0;g<s;g++){for(var p=1/0,v=0;v<h;v++){var d=i(t[g],o[v]);d<=p&&(p=d)}l[g]=p}for(var y=0;y<s;y++)c+=l[y];for(var m=0;m<s;m++)f[m]={i:m,v:t[m],pr:l[m]/c,cs:0};f.sort((function(t,e){return t.pr-e.pr})),f[0].cs=f[0].pr;for(var _=1;_<s;_++)f[_].cs=f[_-1].cs+f[_].pr;for(var x=Math.random(),E=0;E<s-1&&f[E++].cs<x;);o.push(f[E-1].v)}return o}},Wi}(),n=t.eudist;t.mandist,t.dist;var r=e.kmrand,i=e.kmpp;function o(t,e,n){n=n||[];for(var r=0;r<t;r++)n[r]=e;return n}return Ki=function(t,e,s,a){var u=[],l=[],h=[],c=[],f=!1,g=a||1e4,p=t.length,v=t[0].length,d=v>0,y=[];if(s)u="kmrand"==s?r(t,e):"kmpp"==s?i(t,e):s;else for(var m={};u.length<e;){var _=Math.floor(Math.random()*p);m[_]||(m[_]=!0,u.push(t[_]))}do{o(e,0,y);for(var x=0;x<p;x++){for(var E=1/0,k=0,b=0;b<e;b++){(c=d?n(t[x],u[b]):Math.abs(t[x]-u[b]))<=E&&(E=c,k=b)}h[x]=k,y[k]++}for(var w=[],I=(l=[],0);I<e;I++)w[I]=d?o(v,0,w[I]):0,l[I]=u[I];if(d){for(var N=0;N<e;N++)u[N]=[];for(var S=0;S<p;S++)for(var M=w[h[S]],L=t[S],P=0;P<v;P++)M[P]+=L[P];f=!0;for(var C=0;C<e;C++){for(var T=u[C],O=w[C],R=l[C],A=y[C],D=0;D<v;D++)T[D]=O[D]/A||0;if(f)for(var F=0;F<v;F++)if(R[F]!=T[F]){f=!1;break}}}else{for(var q=0;q<p;q++){w[h[q]]+=t[q]}for(var V=0;V<e;V++)u[V]=w[V]/y[V]||0;f=!0;for(var G=0;G<e;G++)if(l[G]!=u[G]){f=!1;break}}f=f||--g<=0}while(!f);return{it:1e4-g,k:e,idxs:h,centroids:u}},Ki}(),ro=mn(no);var io=qe;function oo(t,e){var n=!1;return C(function(t){if(t.length<3)return[];t.sort(ao);var e,n,r,i,o,s,a=t.length-1,u=t[a].x,l=t[0].x,h=t[a].y,c=h,f=1e-12;for(;a--;)t[a].y<h&&(h=t[a].y),t[a].y>c&&(c=t[a].y);var g,p=l-u,v=c-h,d=p>v?p:v,y=.5*(l+u),m=.5*(c+h),_=[new so({__sentinel:!0,x:y-20*d,y:m-d},{__sentinel:!0,x:y,y:m+20*d},{__sentinel:!0,x:y+20*d,y:m-d})],x=[],E=[];a=t.length;for(;a--;){for(E.length=0,g=_.length;g--;)(p=t[a].x-_[g].x)>0&&p*p>_[g].r?(x.push(_[g]),_.splice(g,1)):p*p+(v=t[a].y-_[g].y)*v>_[g].r||(E.push(_[g].a,_[g].b,_[g].b,_[g].c,_[g].c,_[g].a),_.splice(g,1));for(uo(E),g=E.length;g;)n=E[--g],e=E[--g],r=t[a],i=n.x-e.x,o=n.y-e.y,s=2*(i*(r.y-n.y)-o*(r.x-n.x)),Math.abs(s)>f&&_.push(new so(e,n,r))}Array.prototype.push.apply(x,_),a=x.length;for(;a--;)(x[a].a.__sentinel||x[a].b.__sentinel||x[a].c.__sentinel)&&x.splice(a,1);return x}(t.features.map((function(t){var r={x:t.geometry.coordinates[0],y:t.geometry.coordinates[1]};return e?r.z=t.properties[e]:3===t.geometry.coordinates.length&&(n=!0,r.z=t.geometry.coordinates[2]),r}))).map((function(t){var e=[t.a.x,t.a.y],r=[t.b.x,t.b.y],i=[t.c.x,t.c.y],o={};return n?(e.push(t.a.z),r.push(t.b.z),i.push(t.c.z)):o={a:t.a.z,b:t.b.z,c:t.c.z},S([[e,r,i,e]],o)})))}var so=s((function t(e,n,r){i(this,t),this.a=e,this.b=n,this.c=r;var o,s,a=n.x-e.x,u=n.y-e.y,l=r.x-e.x,h=r.y-e.y,c=a*(e.x+n.x)+u*(e.y+n.y),f=l*(e.x+r.x)+h*(e.y+r.y),g=2*(a*(r.y-n.y)-u*(r.x-n.x));this.x=(h*c-u*f)/g,this.y=(a*f-l*c)/g,o=this.x-e.x,s=this.y-e.y,this.r=o*o+s*s}));function ao(t,e){return e.x-t.x}function uo(t){var e,n,r,i,o,s=t.length;t:for(;s;)for(n=t[--s],e=t[--s],r=s;r;)if(o=t[--r],e===(i=t[--r])&&n===o||e===o&&n===i){t.splice(s,2),t.splice(r,2),s-=2;continue t}}function lo(t){return t}function ho(t,e){var n=function(t){if(null==t)return lo;var e,n,r=t.scale[0],i=t.scale[1],o=t.translate[0],s=t.translate[1];return function(t,a){a||(e=n=0);var u=2,l=t.length,h=new Array(l);for(h[0]=(e+=t[0])*r+o,h[1]=(n+=t[1])*i+s;u<l;)h[u]=t[u],++u;return h}}(t.transform),r=t.arcs;function i(t,e){e.length&&e.pop();for(var i=r[t<0?~t:t],o=0,s=i.length;o<s;++o)e.push(n(i[o],o));t<0&&function(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n}(e,s)}function o(t){return n(t)}function s(t){for(var e=[],n=0,r=t.length;n<r;++n)i(t[n],e);return e.length<2&&e.push(e[0]),e}function a(t){for(var e=s(t);e.length<4;)e.push(e[0]);return e}function u(t){return t.map(a)}return function t(e){var n,r=e.type;switch(r){case"GeometryCollection":return{type:r,geometries:e.geometries.map(t)};case"Point":n=o(e.coordinates);break;case"MultiPoint":n=e.coordinates.map(o);break;case"LineString":n=s(e.arcs);break;case"MultiLineString":n=e.arcs.map(s);break;case"Polygon":n=u(e.arcs);break;case"MultiPolygon":n=e.arcs.map(u);break;default:return null}return{type:r,coordinates:n}}(e)}function co(t,e){var n={},r={},i={},o=[],s=-1;function a(t,e){for(var r in t){var i=t[r];delete e[i.start],delete i.start,delete i.end,i.forEach((function(t){n[t<0?~t:t]=1})),o.push(i)}}return e.forEach((function(n,r){var i,o=t.arcs[n<0?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(i=e[++s],e[s]=n,e[r]=i)})),e.forEach((function(e){var n,o,s=function(e){var n,r=t.arcs[e<0?~e:e],i=r[0];t.transform?(n=[0,0],r.forEach((function(t){n[0]+=t[0],n[1]+=t[1]}))):n=r[r.length-1];return e<0?[n,i]:[i,n]}(e),a=s[0],u=s[1];if(n=i[a])if(delete i[n.end],n.push(e),n.end=u,o=r[u]){delete r[o.start];var l=o===n?n:n.concat(o);r[l.start=n.start]=i[l.end=o.end]=l}else r[n.start]=i[n.end]=n;else if(n=r[u])if(delete r[n.start],n.unshift(e),n.start=a,o=i[a]){delete i[o.end];var h=o===n?n:o.concat(n);r[h.start=o.start]=i[h.end=n.end]=h}else r[n.start]=i[n.end]=n;else r[(n=[e]).start=a]=i[n.end=u]=n})),a(i,r),a(r,i),e.forEach((function(t){n[t<0?~t:t]||o.push([t])})),o}function fo(t){return ho(t,go.apply(this,arguments))}function go(t,e){var n={},r=[],i=[];function o(t){t.forEach((function(e){e.forEach((function(e){(n[e=e<0?~e:e]||(n[e]=[])).push(t)}))})),r.push(t)}function s(e){return function(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)e=i,i=t[n],o+=e[0]*i[1]-e[1]*i[0];return Math.abs(o)}(ho(t,{type:"Polygon",arcs:[e]}).coordinates[0])}return e.forEach((function t(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"Polygon":o(e.arcs);break;case"MultiPolygon":e.arcs.forEach(o)}})),r.forEach((function(t){if(!t._){var e=[],r=[t];for(t._=1,i.push(e);t=r.pop();)e.push(t),t.forEach((function(t){t.forEach((function(t){n[t<0?~t:t].forEach((function(t){t._||(t._=1,r.push(t))}))}))}))}})),r.forEach((function(t){delete t._})),{type:"MultiPolygon",arcs:i.map((function(e){var r,i=[];if(e.forEach((function(t){t.forEach((function(t){t.forEach((function(t){n[t<0?~t:t].length<2&&i.push(t)}))}))})),(r=(i=co(t,i)).length)>1)for(var o,a,u=1,l=s(i[0]);u<r;++u)(o=s(i[u]))>l&&(a=i[0],i[0]=i[u],i[u]=a,l=o);return i})).filter((function(t){return t.length>0}))}}var po=Object.prototype.hasOwnProperty;function vo(t,e,n,r,i,o){3===arguments.length&&(r=o=Array,i=null);for(var s=new r(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),a=new o(t),u=t-1,l=0;l<t;++l)s[l]=i;return{set:function(r,o){for(var l=e(r)&u,h=s[l],c=0;h!=i;){if(n(h,r))return a[l]=o;if(++c>=t)throw new Error("full hashmap");h=s[l=l+1&u]}return s[l]=r,a[l]=o,o},maybeSet:function(r,o){for(var l=e(r)&u,h=s[l],c=0;h!=i;){if(n(h,r))return a[l];if(++c>=t)throw new Error("full hashmap");h=s[l=l+1&u]}return s[l]=r,a[l]=o,o},get:function(r,o){for(var l=e(r)&u,h=s[l],c=0;h!=i;){if(n(h,r))return a[l];if(++c>=t)break;h=s[l=l+1&u]}return o},keys:function(){for(var t=[],e=0,n=s.length;e<n;++e){var r=s[e];r!=i&&t.push(r)}return t}}}function yo(t,e){return t[0]===e[0]&&t[1]===e[1]}var mo=new ArrayBuffer(16),_o=new Float64Array(mo),xo=new Uint32Array(mo);function Eo(t){_o[0]=t[0],_o[1]=t[1];var e=xo[0]^xo[1];return 2147483647&(e=e<<5^e>>7^xo[2]^xo[3])}function ko(t){var e,n,r,i,o=t.coordinates,s=t.lines,a=t.rings,u=function(){for(var t=vo(1.4*o.length,E,k,Int32Array,-1,Int32Array),e=new Int32Array(o.length),n=0,r=o.length;n<r;++n)e[n]=t.maybeSet(n,n);return e}(),l=new Int32Array(o.length),h=new Int32Array(o.length),c=new Int32Array(o.length),f=new Int8Array(o.length),g=0;for(e=0,n=o.length;e<n;++e)l[e]=h[e]=c[e]=-1;for(e=0,n=s.length;e<n;++e){var p=s[e],v=p[0],d=p[1];for(r=u[v],i=u[++v],++g,f[r]=1;++v<=d;)x(e,r,r=i,i=u[v]);++g,f[i]=1}for(e=0,n=o.length;e<n;++e)l[e]=-1;for(e=0,n=a.length;e<n;++e){var y=a[e],m=y[0]+1,_=y[1];for(x(e,u[_-1],r=u[m-1],i=u[m]);++m<=_;)x(e,r,r=i,i=u[m])}function x(t,e,n,r){if(l[n]!==t){l[n]=t;var i=h[n];if(i>=0){var o=c[n];i===e&&o===r||i===r&&o===e||(++g,f[n]=1)}else h[n]=e,c[n]=r}}function E(t){return Eo(o[t])}function k(t,e){return yo(o[t],o[e])}l=h=c=null;var b,w=function(t,e,n,r,i){3===arguments.length&&(r=Array,i=null);for(var o=new r(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),s=t-1,a=0;a<t;++a)o[a]=i;return{add:function(r){for(var a=e(r)&s,u=o[a],l=0;u!=i;){if(n(u,r))return!0;if(++l>=t)throw new Error("full hashset");u=o[a=a+1&s]}return o[a]=r,!0},has:function(r){for(var a=e(r)&s,u=o[a],l=0;u!=i;){if(n(u,r))return!0;if(++l>=t)break;u=o[a=a+1&s]}return!1},values:function(){for(var t=[],e=0,n=o.length;e<n;++e){var r=o[e];r!=i&&t.push(r)}return t}}}(1.4*g,Eo,yo);for(e=0,n=o.length;e<n;++e)f[b=u[e]]&&w.add(o[b]);return w}function bo(t,e,n,r){wo(t,e,n),wo(t,e,e+r),wo(t,e+r,n)}function wo(t,e,n){for(var r,i=e+(n---e>>1);e<i;++e,--n)r=t[e],t[e]=t[n],t[n]=r}function Io(t){var e,n,r={};for(e in t)r[e]=null==(n=t[e])?{type:null}:("FeatureCollection"===n.type?No:"Feature"===n.type?So:Mo)(n);return r}function No(t){var e={type:"GeometryCollection",geometries:t.features.map(So)};return null!=t.bbox&&(e.bbox=t.bbox),e}function So(t){var e,n=Mo(t.geometry);for(e in null!=t.id&&(n.id=t.id),null!=t.bbox&&(n.bbox=t.bbox),t.properties){n.properties=t.properties;break}return n}function Mo(t){if(null==t)return{type:null};var e="GeometryCollection"===t.type?{type:"GeometryCollection",geometries:t.geometries.map(Mo)}:"Point"===t.type||"MultiPoint"===t.type?{type:t.type,coordinates:t.coordinates}:{type:t.type,arcs:t.coordinates};return null!=t.bbox&&(e.bbox=t.bbox),e}function Lo(t,e){var n=function(t){var e=1/0,n=1/0,r=-1/0,i=-1/0;function o(t){null!=t&&po.call(s,t.type)&&s[t.type](t)}var s={GeometryCollection:function(t){t.geometries.forEach(o)},Point:function(t){a(t.coordinates)},MultiPoint:function(t){t.coordinates.forEach(a)},LineString:function(t){u(t.arcs)},MultiLineString:function(t){t.arcs.forEach(u)},Polygon:function(t){t.arcs.forEach(u)},MultiPolygon:function(t){t.arcs.forEach(l)}};function a(t){var o=t[0],s=t[1];o<e&&(e=o),o>r&&(r=o),s<n&&(n=s),s>i&&(i=s)}function u(t){t.forEach(a)}function l(t){t.forEach(u)}for(var h in t)o(t[h]);return r>=e&&i>=n?[e,n,r,i]:void 0}(t=Io(t)),r=function(t){var e,n,r,i,o=t.coordinates,s=t.lines,a=t.rings,u=s.length+a.length;for(delete t.lines,delete t.rings,r=0,i=s.length;r<i;++r)for(e=s[r];e=e.next;)++u;for(r=0,i=a.length;r<i;++r)for(n=a[r];n=n.next;)++u;var l=vo(2*u*1.4,Eo,yo),h=t.arcs=[];for(r=0,i=s.length;r<i;++r){e=s[r];do{c(e)}while(e=e.next)}for(r=0,i=a.length;r<i;++r)if((n=a[r]).next)do{c(n)}while(n=n.next);else f(n);function c(t){var e,n,r,i,s,a,u,c;if(r=l.get(e=o[t[0]]))for(u=0,c=r.length;u<c;++u)if(g(i=r[u],t))return t[0]=i[0],void(t[1]=i[1]);if(s=l.get(n=o[t[1]]))for(u=0,c=s.length;u<c;++u)if(p(a=s[u],t))return t[1]=a[0],void(t[0]=a[1]);r?r.push(t):l.set(e,[t]),s?s.push(t):l.set(n,[t]),h.push(t)}function f(t){var e,n,r,i,s;if(n=l.get(o[t[0]]))for(i=0,s=n.length;i<s;++i){if(v(r=n[i],t))return t[0]=r[0],void(t[1]=r[1]);if(d(r,t))return t[0]=r[1],void(t[1]=r[0])}if(n=l.get(e=o[t[0]+y(t)]))for(i=0,s=n.length;i<s;++i){if(v(r=n[i],t))return t[0]=r[0],void(t[1]=r[1]);if(d(r,t))return t[0]=r[1],void(t[1]=r[0])}n?n.push(t):l.set(e,[t]),h.push(t)}function g(t,e){var n=t[0],r=e[0],i=t[1];if(n-i!=r-e[1])return!1;for(;n<=i;++n,++r)if(!yo(o[n],o[r]))return!1;return!0}function p(t,e){var n=t[0],r=e[0],i=t[1],s=e[1];if(n-i!=r-s)return!1;for(;n<=i;++n,--s)if(!yo(o[n],o[s]))return!1;return!0}function v(t,e){var n=t[0],r=e[0],i=t[1]-n;if(i!==e[1]-r)return!1;for(var s=y(t),a=y(e),u=0;u<i;++u)if(!yo(o[n+(u+s)%i],o[r+(u+a)%i]))return!1;return!0}function d(t,e){var n=t[0],r=e[0],i=t[1],s=e[1],a=i-n;if(a!==s-r)return!1;for(var u=y(t),l=a-y(e),h=0;h<a;++h)if(!yo(o[n+(h+u)%a],o[s-(h+l)%a]))return!1;return!0}function y(t){for(var e=t[0],n=t[1],r=e,i=r,s=o[r];++r<n;){var a=o[r];(a[0]<s[0]||a[0]===s[0]&&a[1]<s[1])&&(i=r,s=a)}return i-e}return t}(function(t){var e,n,r,i=ko(t),o=t.coordinates,s=t.lines,a=t.rings;for(n=0,r=s.length;n<r;++n)for(var u=s[n],l=u[0],h=u[1];++l<h;)i.has(o[l])&&(e={0:l,1:u[1]},u[1]=l,u=u.next=e);for(n=0,r=a.length;n<r;++n)for(var c=a[n],f=c[0],g=f,p=c[1],v=i.has(o[f]);++g<p;)i.has(o[g])&&(v?(e={0:g,1:c[1]},c[1]=g,c=c.next=e):(bo(o,f,p,p-g),o[p]=o[f],v=!0,g=f));return t}(function(t){var e=-1,n=[],r=[],i=[];function o(t){t&&po.call(s,t.type)&&s[t.type](t)}var s={GeometryCollection:function(t){t.geometries.forEach(o)},LineString:function(t){t.arcs=a(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(a)},Polygon:function(t){t.arcs=t.arcs.map(u)},MultiPolygon:function(t){t.arcs=t.arcs.map(l)}};function a(t){for(var r=0,o=t.length;r<o;++r)i[++e]=t[r];var s={0:e-o+1,1:e};return n.push(s),s}function u(t){for(var n=0,o=t.length;n<o;++n)i[++e]=t[n];var s={0:e-o+1,1:e};return r.push(s),s}function l(t){return t.map(u)}for(var h in t)o(t[h]);return{type:"Topology",coordinates:i,lines:n,rings:r,objects:t}}(t))),i=r.coordinates,o=vo(1.4*r.arcs.length,Po,Co);function s(t){t&&po.call(a,t.type)&&a[t.type](t)}t=r.objects,r.bbox=n,r.arcs=r.arcs.map((function(t,e){return o.set(t,e),i.slice(t[0],t[1]+1)})),delete r.coordinates,i=null;var a={GeometryCollection:function(t){t.geometries.forEach(s)},LineString:function(t){t.arcs=u(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(u)},Polygon:function(t){t.arcs=t.arcs.map(u)},MultiPolygon:function(t){t.arcs=t.arcs.map(l)}};function u(t){var e=[];do{var n=o.get(t);e.push(t[0]<t[1]?n:~n)}while(t=t.next);return e}function l(t){return t.map(u)}for(var h in t)s(t[h]);return r}function Po(t){var e,n=t[0],r=t[1];return r<n&&(e=n,n=r,r=e),n+31*r}function Co(t,e){var n,r=t[0],i=t[1],o=e[0],s=e[1];return i<r&&(n=r,r=i,i=n),s<o&&(n=o,o=s,s=n),r===o&&i===s}function To(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Z(e=e||{}))throw new Error("options is invalid");var n=e.mutate;if("FeatureCollection"!==it(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(t=Ai(t));var r=[],i=It(t,(function(t,e){var n=function(t,e){var n,r=t.geometry.coordinates,i=e.geometry.coordinates,o=Oo(r[0]),s=Oo(r[r.length-1]),a=Oo(i[0]),u=Oo(i[i.length-1]);if(o===u)n=i.concat(r.slice(1));else if(a===s)n=r.concat(i.slice(1));else if(o===a)n=r.slice(1).reverse().concat(i);else{if(s!==u)return null;n=r.concat(i.reverse().slice(1))}return L(n)}(t,e);return n||(r.push(t),e)}));return i&&r.push(i),r.length?1===r.length?r[0]:T(r.map((function(t){return t.coordinates}))):null}function Oo(t){return t[0].toString()+","+t[1].toString()}function Ro(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Z(e=e||{}))throw new Error("options is invalid");var n=e.mutate;if("FeatureCollection"!==it(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(t=Ai(t));var r=function(t){var e={};xt(t,(function(t){e[t.geometry.type]=!0}));var n=Object.keys(e);if(1===n.length)return n[0];return null}(t);if(!r)throw new Error("geojson must be homogenous");var i=t;switch(r){case"LineString":return To(i,e);case"Polygon":return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("FeatureCollection"!==it(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==e.mutate&&void 0!==e.mutate||(t=Ai(t));var n=[];xt(t,(function(t){n.push(t.geometry)}));var r=Lo({geoms:A(n).geometry});return fo(r,r.objects.geoms.geometries)}(i,e);default:throw new Error(r+" is not supported")}}var Ao=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,Do=Math.ceil,Fo=Math.floor,qo="[BigNumber Error] ",Vo=qo+"Number primitive has more than 15 significant digits: ",Go=1e14,Bo=14,Yo=9007199254740991,zo=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],jo=1e7,Xo=1e9;function Uo(t){var e=0|t;return t>0||t===e?e:e-1}function Zo(t){for(var e,n,r=1,i=t.length,o=t[0]+"";r<i;){for(e=t[r++]+"",n=Bo-e.length;n--;e="0"+e);o+=e}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function Ho(t,e){var n,r,i=t.c,o=e.c,s=t.s,a=e.s,u=t.e,l=e.e;if(!s||!a)return null;if(n=i&&!i[0],r=o&&!o[0],n||r)return n?r?0:-a:s;if(s!=a)return s;if(n=s<0,r=u==l,!i||!o)return r?0:!i^n?1:-1;if(!r)return u>l^n?1:-1;for(a=(u=i.length)<(l=o.length)?u:l,s=0;s<a;s++)if(i[s]!=o[s])return i[s]>o[s]^n?1:-1;return u==l?0:u>l^n?1:-1}function Wo(t,e,n,r){if(t<e||t>n||t!==Fo(t))throw Error(qo+(r||"Argument")+("number"==typeof t?t<e||t>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function Jo(t){var e=t.c.length-1;return Uo(t.e/Bo)==e&&t.c[e]%2!=0}function Ko(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function Qo(t,e,n){var r,i;if(e<0){for(i=n+".";++e;i+=n);t=i+t}else if(++e>(r=t.length)){for(i=n,e-=r;--e;i+=n);t+=i}else e<r&&(t=t.slice(0,e)+"."+t.slice(e));return t}var $o=function t(e){var n,r,i,o,s,a,u,l,h,c,f=S.prototype={constructor:S,toString:null,valueOf:null},g=new S(1),p=20,v=4,d=-7,y=21,_=-1e7,x=1e7,E=!1,k=1,b=0,w={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},I="0123456789abcdefghijklmnopqrstuvwxyz",N=!0;function S(t,e){var n,o,s,a,u,l,h,c,f=this;if(!(f instanceof S))return new S(t,e);if(null==e){if(t&&!0===t._isBigNumber)return f.s=t.s,void(!t.c||t.e>x?f.c=f.e=null:t.e<_?f.c=[f.e=0]:(f.e=t.e,f.c=t.c.slice()));if((l="number"==typeof t)&&0*t==0){if(f.s=1/t<0?(t=-t,-1):1,t===~~t){for(a=0,u=t;u>=10;u/=10,a++);return void(a>x?f.c=f.e=null:(f.e=a,f.c=[t]))}c=String(t)}else{if(!Ao.test(c=String(t)))return i(f,c,l);f.s=45==c.charCodeAt(0)?(c=c.slice(1),-1):1}(a=c.indexOf("."))>-1&&(c=c.replace(".","")),(u=c.search(/e/i))>0?(a<0&&(a=u),a+=+c.slice(u+1),c=c.substring(0,u)):a<0&&(a=c.length)}else{if(Wo(e,2,I.length,"Base"),10==e&&N)return C(f=new S(t),p+f.e+1,v);if(c=String(t),l="number"==typeof t){if(0*t!=0)return i(f,c,l,e);if(f.s=1/t<0?(c=c.slice(1),-1):1,S.DEBUG&&c.replace(/^0\.0*|\./,"").length>15)throw Error(Vo+t)}else f.s=45===c.charCodeAt(0)?(c=c.slice(1),-1):1;for(n=I.slice(0,e),a=u=0,h=c.length;u<h;u++)if(n.indexOf(o=c.charAt(u))<0){if("."==o){if(u>a){a=h;continue}}else if(!s&&(c==c.toUpperCase()&&(c=c.toLowerCase())||c==c.toLowerCase()&&(c=c.toUpperCase()))){s=!0,u=-1,a=0;continue}return i(f,String(t),l,e)}l=!1,(a=(c=r(c,e,10,f.s)).indexOf("."))>-1?c=c.replace(".",""):a=c.length}for(u=0;48===c.charCodeAt(u);u++);for(h=c.length;48===c.charCodeAt(--h););if(c=c.slice(u,++h)){if(h-=u,l&&S.DEBUG&&h>15&&(t>Yo||t!==Fo(t)))throw Error(Vo+f.s*t);if((a=a-u-1)>x)f.c=f.e=null;else if(a<_)f.c=[f.e=0];else{if(f.e=a,f.c=[],u=(a+1)%Bo,a<0&&(u+=Bo),u<h){for(u&&f.c.push(+c.slice(0,u)),h-=Bo;u<h;)f.c.push(+c.slice(u,u+=Bo));u=Bo-(c=c.slice(u)).length}else u-=h;for(;u--;c+="0");f.c.push(+c)}}else f.c=[f.e=0]}function M(t,e,n,r){var i,o,s,a,u;if(null==n?n=v:Wo(n,0,8),!t.c)return t.toString();if(i=t.c[0],s=t.e,null==e)u=Zo(t.c),u=1==r||2==r&&(s<=d||s>=y)?Ko(u,s):Qo(u,s,"0");else if(o=(t=C(new S(t),e,n)).e,a=(u=Zo(t.c)).length,1==r||2==r&&(e<=o||o<=d)){for(;a<e;u+="0",a++);u=Ko(u,o)}else if(e-=s,u=Qo(u,o,"0"),o+1>a){if(--e>0)for(u+=".";e--;u+="0");}else if((e+=o-a)>0)for(o+1==a&&(u+=".");e--;u+="0");return t.s<0&&i?"-"+u:u}function L(t,e){for(var n,r,i=1,o=new S(t[0]);i<t.length;i++)(!(r=new S(t[i])).s||(n=Ho(o,r))===e||0===n&&o.s===e)&&(o=r);return o}function P(t,e,n){for(var r=1,i=e.length;!e[--i];e.pop());for(i=e[0];i>=10;i/=10,r++);return(n=r+n*Bo-1)>x?t.c=t.e=null:n<_?t.c=[t.e=0]:(t.e=n,t.c=e),t}function C(t,e,n,r){var i,o,s,a,u,l,h,c=t.c,f=zo;if(c){t:{for(i=1,a=c[0];a>=10;a/=10,i++);if((o=e-i)<0)o+=Bo,s=e,u=c[l=0],h=Fo(u/f[i-s-1]%10);else if((l=Do((o+1)/Bo))>=c.length){if(!r)break t;for(;c.length<=l;c.push(0));u=h=0,i=1,s=(o%=Bo)-Bo+1}else{for(u=a=c[l],i=1;a>=10;a/=10,i++);h=(s=(o%=Bo)-Bo+i)<0?0:Fo(u/f[i-s-1]%10)}if(r=r||e<0||null!=c[l+1]||(s<0?u:u%f[i-s-1]),r=n<4?(h||r)&&(0==n||n==(t.s<0?3:2)):h>5||5==h&&(4==n||r||6==n&&(o>0?s>0?u/f[i-s]:0:c[l-1])%10&1||n==(t.s<0?8:7)),e<1||!c[0])return c.length=0,r?(e-=t.e+1,c[0]=f[(Bo-e%Bo)%Bo],t.e=-e||0):c[0]=t.e=0,t;if(0==o?(c.length=l,a=1,l--):(c.length=l+1,a=f[Bo-o],c[l]=s>0?Fo(u/f[i-s]%f[s])*a:0),r)for(;;){if(0==l){for(o=1,s=c[0];s>=10;s/=10,o++);for(s=c[0]+=a,a=1;s>=10;s/=10,a++);o!=a&&(t.e++,c[0]==Go&&(c[0]=1));break}if(c[l]+=a,c[l]!=Go)break;c[l--]=0,a=1}for(o=c.length;0===c[--o];c.pop());}t.e>x?t.c=t.e=null:t.e<_&&(t.c=[t.e=0])}return t}function T(t){var e,n=t.e;return null===n?t.toString():(e=Zo(t.c),e=n<=d||n>=y?Ko(e,n):Qo(e,n,"0"),t.s<0?"-"+e:e)}return S.clone=t,S.ROUND_UP=0,S.ROUND_DOWN=1,S.ROUND_CEIL=2,S.ROUND_FLOOR=3,S.ROUND_HALF_UP=4,S.ROUND_HALF_DOWN=5,S.ROUND_HALF_EVEN=6,S.ROUND_HALF_CEIL=7,S.ROUND_HALF_FLOOR=8,S.EUCLID=9,S.config=S.set=function(t){var e,n;if(null!=t){if("object"!=m(t))throw Error(qo+"Object expected: "+t);if(t.hasOwnProperty(e="DECIMAL_PLACES")&&(Wo(n=t[e],0,Xo,e),p=n),t.hasOwnProperty(e="ROUNDING_MODE")&&(Wo(n=t[e],0,8,e),v=n),t.hasOwnProperty(e="EXPONENTIAL_AT")&&((n=t[e])&&n.pop?(Wo(n[0],-Xo,0,e),Wo(n[1],0,Xo,e),d=n[0],y=n[1]):(Wo(n,-Xo,Xo,e),d=-(y=n<0?-n:n))),t.hasOwnProperty(e="RANGE"))if((n=t[e])&&n.pop)Wo(n[0],-Xo,-1,e),Wo(n[1],1,Xo,e),_=n[0],x=n[1];else{if(Wo(n,-Xo,Xo,e),!n)throw Error(qo+e+" cannot be zero: "+n);_=-(x=n<0?-n:n)}if(t.hasOwnProperty(e="CRYPTO")){if((n=t[e])!==!!n)throw Error(qo+e+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw E=!n,Error(qo+"crypto unavailable");E=n}else E=n}if(t.hasOwnProperty(e="MODULO_MODE")&&(Wo(n=t[e],0,9,e),k=n),t.hasOwnProperty(e="POW_PRECISION")&&(Wo(n=t[e],0,Xo,e),b=n),t.hasOwnProperty(e="FORMAT")){if("object"!=m(n=t[e]))throw Error(qo+e+" not an object: "+n);w=n}if(t.hasOwnProperty(e="ALPHABET")){if("string"!=typeof(n=t[e])||/^.?$|[+\-.\s]|(.).*\1/.test(n))throw Error(qo+e+" invalid: "+n);N="0123456789"==n.slice(0,10),I=n}}return{DECIMAL_PLACES:p,ROUNDING_MODE:v,EXPONENTIAL_AT:[d,y],RANGE:[_,x],CRYPTO:E,MODULO_MODE:k,POW_PRECISION:b,FORMAT:w,ALPHABET:I}},S.isBigNumber=function(t){if(!t||!0!==t._isBigNumber)return!1;if(!S.DEBUG)return!0;var e,n,r=t.c,i=t.e,o=t.s;t:if("[object Array]"=={}.toString.call(r)){if((1===o||-1===o)&&i>=-Xo&&i<=Xo&&i===Fo(i)){if(0===r[0]){if(0===i&&1===r.length)return!0;break t}if((e=(i+1)%Bo)<1&&(e+=Bo),String(r[0]).length==e){for(e=0;e<r.length;e++)if((n=r[e])<0||n>=Go||n!==Fo(n))break t;if(0!==n)return!0}}}else if(null===r&&null===i&&(null===o||1===o||-1===o))return!0;throw Error(qo+"Invalid BigNumber: "+t)},S.maximum=S.max=function(){return L(arguments,-1)},S.minimum=S.min=function(){return L(arguments,1)},S.random=(o=9007199254740992,s=Math.random()*o&2097151?function(){return Fo(Math.random()*o)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(t){var e,n,r,i,o,a=0,u=[],l=new S(g);if(null==t?t=p:Wo(t,0,Xo),i=Do(t/Bo),E)if(crypto.getRandomValues){for(e=crypto.getRandomValues(new Uint32Array(i*=2));a<i;)(o=131072*e[a]+(e[a+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),e[a]=n[0],e[a+1]=n[1]):(u.push(o%1e14),a+=2);a=i/2}else{if(!crypto.randomBytes)throw E=!1,Error(qo+"crypto unavailable");for(e=crypto.randomBytes(i*=7);a<i;)(o=281474976710656*(31&e[a])+1099511627776*e[a+1]+4294967296*e[a+2]+16777216*e[a+3]+(e[a+4]<<16)+(e[a+5]<<8)+e[a+6])>=9e15?crypto.randomBytes(7).copy(e,a):(u.push(o%1e14),a+=7);a=i/7}if(!E)for(;a<i;)(o=s())<9e15&&(u[a++]=o%1e14);for(i=u[--a],t%=Bo,i&&t&&(o=zo[Bo-t],u[a]=Fo(i/o)*o);0===u[a];u.pop(),a--);if(a<0)u=[r=0];else{for(r=-1;0===u[0];u.splice(0,1),r-=Bo);for(a=1,o=u[0];o>=10;o/=10,a++);a<Bo&&(r-=Bo-a)}return l.e=r,l.c=u,l}),S.sum=function(){for(var t=1,e=arguments,n=new S(e[0]);t<e.length;)n=n.plus(e[t++]);return n},r=function(){var t="0123456789";function e(t,e,n,r){for(var i,o,s=[0],a=0,u=t.length;a<u;){for(o=s.length;o--;s[o]*=e);for(s[0]+=r.indexOf(t.charAt(a++)),i=0;i<s.length;i++)s[i]>n-1&&(null==s[i+1]&&(s[i+1]=0),s[i+1]+=s[i]/n|0,s[i]%=n)}return s.reverse()}return function(r,i,o,s,a){var u,l,h,c,f,g,d,y,m=r.indexOf("."),_=p,x=v;for(m>=0&&(c=b,b=0,r=r.replace(".",""),g=(y=new S(i)).pow(r.length-m),b=c,y.c=e(Qo(Zo(g.c),g.e,"0"),10,o,t),y.e=y.c.length),h=c=(d=e(r,i,o,a?(u=I,t):(u=t,I))).length;0==d[--c];d.pop());if(!d[0])return u.charAt(0);if(m<0?--h:(g.c=d,g.e=h,g.s=s,d=(g=n(g,y,_,x,o)).c,f=g.r,h=g.e),m=d[l=h+_+1],c=o/2,f=f||l<0||null!=d[l+1],f=x<4?(null!=m||f)&&(0==x||x==(g.s<0?3:2)):m>c||m==c&&(4==x||f||6==x&&1&d[l-1]||x==(g.s<0?8:7)),l<1||!d[0])r=f?Qo(u.charAt(1),-_,u.charAt(0)):u.charAt(0);else{if(d.length=l,f)for(--o;++d[--l]>o;)d[l]=0,l||(++h,d=[1].concat(d));for(c=d.length;!d[--c];);for(m=0,r="";m<=c;r+=u.charAt(d[m++]));r=Qo(r,h,u.charAt(0))}return r}}(),n=function(){function t(t,e,n){var r,i,o,s,a=0,u=t.length,l=e%jo,h=e/jo|0;for(t=t.slice();u--;)a=((i=l*(o=t[u]%jo)+(r=h*o+(s=t[u]/jo|0)*l)%jo*jo+a)/n|0)+(r/jo|0)+h*s,t[u]=i%n;return a&&(t=[a].concat(t)),t}function e(t,e,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(t[i]!=e[i]){o=t[i]>e[i]?1:-1;break}return o}function n(t,e,n,r){for(var i=0;n--;)t[n]-=i,i=t[n]<e[n]?1:0,t[n]=i*r+t[n]-e[n];for(;!t[0]&&t.length>1;t.splice(0,1));}return function(r,i,o,s,a){var u,l,h,c,f,g,p,v,d,y,m,_,x,E,k,b,w,I=r.s==i.s?1:-1,N=r.c,M=i.c;if(!(N&&N[0]&&M&&M[0]))return new S(r.s&&i.s&&(N?!M||N[0]!=M[0]:M)?N&&0==N[0]||!M?0*I:I/0:NaN);for(d=(v=new S(I)).c=[],I=o+(l=r.e-i.e)+1,a||(a=Go,l=Uo(r.e/Bo)-Uo(i.e/Bo),I=I/Bo|0),h=0;M[h]==(N[h]||0);h++);if(M[h]>(N[h]||0)&&l--,I<0)d.push(1),c=!0;else{for(E=N.length,b=M.length,h=0,I+=2,(f=Fo(a/(M[0]+1)))>1&&(M=t(M,f,a),N=t(N,f,a),b=M.length,E=N.length),x=b,m=(y=N.slice(0,b)).length;m<b;y[m++]=0);w=M.slice(),w=[0].concat(w),k=M[0],M[1]>=a/2&&k++;do{if(f=0,(u=e(M,y,b,m))<0){if(_=y[0],b!=m&&(_=_*a+(y[1]||0)),(f=Fo(_/k))>1)for(f>=a&&(f=a-1),p=(g=t(M,f,a)).length,m=y.length;1==e(g,y,p,m);)f--,n(g,b<p?w:M,p,a),p=g.length,u=1;else 0==f&&(u=f=1),p=(g=M.slice()).length;if(p<m&&(g=[0].concat(g)),n(y,g,m,a),m=y.length,-1==u)for(;e(M,y,b,m)<1;)f++,n(y,b<m?w:M,m,a),m=y.length}else 0===u&&(f++,y=[0]);d[h++]=f,y[0]?y[m++]=N[x]||0:(y=[N[x]],m=1)}while((x++<E||null!=y[0])&&I--);c=null!=y[0],d[0]||d.splice(0,1)}if(a==Go){for(h=1,I=d[0];I>=10;I/=10,h++);C(v,o+(v.e=h+l*Bo-1)+1,s,c)}else v.e=l,v.r=+c;return v}}(),a=/^(-?)0([xbo])(?=\w[\w.]*$)/i,u=/^([^.]+)\.$/,l=/^\.([^.]+)$/,h=/^-?(Infinity|NaN)$/,c=/^\s*\+(?=[\w.])|^\s+|\s+$/g,i=function(t,e,n,r){var i,o=n?e:e.replace(c,"");if(h.test(o))t.s=isNaN(o)?null:o<0?-1:1;else{if(!n&&(o=o.replace(a,(function(t,e,n){return i="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=i?t:e})),r&&(i=r,o=o.replace(u,"$1").replace(l,"0.$1")),e!=o))return new S(o,i);if(S.DEBUG)throw Error(qo+"Not a"+(r?" base "+r:"")+" number: "+e);t.s=null}t.c=t.e=null},f.absoluteValue=f.abs=function(){var t=new S(this);return t.s<0&&(t.s=1),t},f.comparedTo=function(t,e){return Ho(this,new S(t,e))},f.decimalPlaces=f.dp=function(t,e){var n,r,i,o=this;if(null!=t)return Wo(t,0,Xo),null==e?e=v:Wo(e,0,8),C(new S(o),t+o.e+1,e);if(!(n=o.c))return null;if(r=((i=n.length-1)-Uo(this.e/Bo))*Bo,i=n[i])for(;i%10==0;i/=10,r--);return r<0&&(r=0),r},f.dividedBy=f.div=function(t,e){return n(this,new S(t,e),p,v)},f.dividedToIntegerBy=f.idiv=function(t,e){return n(this,new S(t,e),0,1)},f.exponentiatedBy=f.pow=function(t,e){var n,r,i,o,s,a,u,l,h=this;if((t=new S(t)).c&&!t.isInteger())throw Error(qo+"Exponent not an integer: "+T(t));if(null!=e&&(e=new S(e)),s=t.e>14,!h.c||!h.c[0]||1==h.c[0]&&!h.e&&1==h.c.length||!t.c||!t.c[0])return l=new S(Math.pow(+T(h),s?t.s*(2-Jo(t)):+T(t))),e?l.mod(e):l;if(a=t.s<0,e){if(e.c?!e.c[0]:!e.s)return new S(NaN);(r=!a&&h.isInteger()&&e.isInteger())&&(h=h.mod(e))}else{if(t.e>9&&(h.e>0||h.e<-1||(0==h.e?h.c[0]>1||s&&h.c[1]>=24e7:h.c[0]<8e13||s&&h.c[0]<=9999975e7)))return o=h.s<0&&Jo(t)?-0:0,h.e>-1&&(o=1/o),new S(a?1/o:o);b&&(o=Do(b/Bo+2))}for(s?(n=new S(.5),a&&(t.s=1),u=Jo(t)):u=(i=Math.abs(+T(t)))%2,l=new S(g);;){if(u){if(!(l=l.times(h)).c)break;o?l.c.length>o&&(l.c.length=o):r&&(l=l.mod(e))}if(i){if(0===(i=Fo(i/2)))break;u=i%2}else if(C(t=t.times(n),t.e+1,1),t.e>14)u=Jo(t);else{if(0===(i=+T(t)))break;u=i%2}h=h.times(h),o?h.c&&h.c.length>o&&(h.c.length=o):r&&(h=h.mod(e))}return r?l:(a&&(l=g.div(l)),e?l.mod(e):o?C(l,b,v,undefined):l)},f.integerValue=function(t){var e=new S(this);return null==t?t=v:Wo(t,0,8),C(e,e.e+1,t)},f.isEqualTo=f.eq=function(t,e){return 0===Ho(this,new S(t,e))},f.isFinite=function(){return!!this.c},f.isGreaterThan=f.gt=function(t,e){return Ho(this,new S(t,e))>0},f.isGreaterThanOrEqualTo=f.gte=function(t,e){return 1===(e=Ho(this,new S(t,e)))||0===e},f.isInteger=function(){return!!this.c&&Uo(this.e/Bo)>this.c.length-2},f.isLessThan=f.lt=function(t,e){return Ho(this,new S(t,e))<0},f.isLessThanOrEqualTo=f.lte=function(t,e){return-1===(e=Ho(this,new S(t,e)))||0===e},f.isNaN=function(){return!this.s},f.isNegative=function(){return this.s<0},f.isPositive=function(){return this.s>0},f.isZero=function(){return!!this.c&&0==this.c[0]},f.minus=function(t,e){var n,r,i,o,s=this,a=s.s;if(e=(t=new S(t,e)).s,!a||!e)return new S(NaN);if(a!=e)return t.s=-e,s.plus(t);var u=s.e/Bo,l=t.e/Bo,h=s.c,c=t.c;if(!u||!l){if(!h||!c)return h?(t.s=-e,t):new S(c?s:NaN);if(!h[0]||!c[0])return c[0]?(t.s=-e,t):new S(h[0]?s:3==v?-0:0)}if(u=Uo(u),l=Uo(l),h=h.slice(),a=u-l){for((o=a<0)?(a=-a,i=h):(l=u,i=c),i.reverse(),e=a;e--;i.push(0));i.reverse()}else for(r=(o=(a=h.length)<(e=c.length))?a:e,a=e=0;e<r;e++)if(h[e]!=c[e]){o=h[e]<c[e];break}if(o&&(i=h,h=c,c=i,t.s=-t.s),(e=(r=c.length)-(n=h.length))>0)for(;e--;h[n++]=0);for(e=Go-1;r>a;){if(h[--r]<c[r]){for(n=r;n&&!h[--n];h[n]=e);--h[n],h[r]+=Go}h[r]-=c[r]}for(;0==h[0];h.splice(0,1),--l);return h[0]?P(t,h,l):(t.s=3==v?-1:1,t.c=[t.e=0],t)},f.modulo=f.mod=function(t,e){var r,i,o=this;return t=new S(t,e),!o.c||!t.s||t.c&&!t.c[0]?new S(NaN):!t.c||o.c&&!o.c[0]?new S(o):(9==k?(i=t.s,t.s=1,r=n(o,t,0,3),t.s=i,r.s*=i):r=n(o,t,0,k),(t=o.minus(r.times(t))).c[0]||1!=k||(t.s=o.s),t)},f.multipliedBy=f.times=function(t,e){var n,r,i,o,s,a,u,l,h,c,f,g,p,v,d,y=this,m=y.c,_=(t=new S(t,e)).c;if(!(m&&_&&m[0]&&_[0]))return!y.s||!t.s||m&&!m[0]&&!_||_&&!_[0]&&!m?t.c=t.e=t.s=null:(t.s*=y.s,m&&_?(t.c=[0],t.e=0):t.c=t.e=null),t;for(r=Uo(y.e/Bo)+Uo(t.e/Bo),t.s*=y.s,(u=m.length)<(c=_.length)&&(p=m,m=_,_=p,i=u,u=c,c=i),i=u+c,p=[];i--;p.push(0));for(v=Go,d=jo,i=c;--i>=0;){for(n=0,f=_[i]%d,g=_[i]/d|0,o=i+(s=u);o>i;)n=((l=f*(l=m[--s]%d)+(a=g*l+(h=m[s]/d|0)*f)%d*d+p[o]+n)/v|0)+(a/d|0)+g*h,p[o--]=l%v;p[o]=n}return n?++r:p.splice(0,1),P(t,p,r)},f.negated=function(){var t=new S(this);return t.s=-t.s||null,t},f.plus=function(t,e){var n,r=this,i=r.s;if(e=(t=new S(t,e)).s,!i||!e)return new S(NaN);if(i!=e)return t.s=-e,r.minus(t);var o=r.e/Bo,s=t.e/Bo,a=r.c,u=t.c;if(!o||!s){if(!a||!u)return new S(i/0);if(!a[0]||!u[0])return u[0]?t:new S(a[0]?r:0*i)}if(o=Uo(o),s=Uo(s),a=a.slice(),i=o-s){for(i>0?(s=o,n=u):(i=-i,n=a),n.reverse();i--;n.push(0));n.reverse()}for((i=a.length)-(e=u.length)<0&&(n=u,u=a,a=n,e=i),i=0;e;)i=(a[--e]=a[e]+u[e]+i)/Go|0,a[e]=Go===a[e]?0:a[e]%Go;return i&&(a=[i].concat(a),++s),P(t,a,s)},f.precision=f.sd=function(t,e){var n,r,i,o=this;if(null!=t&&t!==!!t)return Wo(t,1,Xo),null==e?e=v:Wo(e,0,8),C(new S(o),t,e);if(!(n=o.c))return null;if(r=(i=n.length-1)*Bo+1,i=n[i]){for(;i%10==0;i/=10,r--);for(i=n[0];i>=10;i/=10,r++);}return t&&o.e+1>r&&(r=o.e+1),r},f.shiftedBy=function(t){return Wo(t,-9007199254740991,Yo),this.times("1e"+t)},f.squareRoot=f.sqrt=function(){var t,e,r,i,o,s=this,a=s.c,u=s.s,l=s.e,h=p+4,c=new S("0.5");if(1!==u||!a||!a[0])return new S(!u||u<0&&(!a||a[0])?NaN:a?s:1/0);if(0==(u=Math.sqrt(+T(s)))||u==1/0?(((e=Zo(a)).length+l)%2==0&&(e+="0"),u=Math.sqrt(+e),l=Uo((l+1)/2)-(l<0||l%2),r=new S(e=u==1/0?"5e"+l:(e=u.toExponential()).slice(0,e.indexOf("e")+1)+l)):r=new S(u+""),r.c[0])for((u=(l=r.e)+h)<3&&(u=0);;)if(o=r,r=c.times(o.plus(n(s,o,h,1))),Zo(o.c).slice(0,u)===(e=Zo(r.c)).slice(0,u)){if(r.e<l&&--u,"9999"!=(e=e.slice(u-3,u+1))&&(i||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(C(r,r.e+p+2,1),t=!r.times(r).eq(s));break}if(!i&&(C(o,o.e+p+2,0),o.times(o).eq(s))){r=o;break}h+=4,u+=4,i=1}return C(r,r.e+p+1,v,t)},f.toExponential=function(t,e){return null!=t&&(Wo(t,0,Xo),t++),M(this,t,e,1)},f.toFixed=function(t,e){return null!=t&&(Wo(t,0,Xo),t=t+this.e+1),M(this,t,e)},f.toFormat=function(t,e,n){var r,i=this;if(null==n)null!=t&&e&&"object"==m(e)?(n=e,e=null):t&&"object"==m(t)?(n=t,t=e=null):n=w;else if("object"!=m(n))throw Error(qo+"Argument not an object: "+n);if(r=i.toFixed(t,e),i.c){var o,s=r.split("."),a=+n.groupSize,u=+n.secondaryGroupSize,l=n.groupSeparator||"",h=s[0],c=s[1],f=i.s<0,g=f?h.slice(1):h,p=g.length;if(u&&(o=a,a=u,u=o,p-=o),a>0&&p>0){for(o=p%a||a,h=g.substr(0,o);o<p;o+=a)h+=l+g.substr(o,a);u>0&&(h+=l+g.slice(o)),f&&(h="-"+h)}r=c?h+(n.decimalSeparator||"")+((u=+n.fractionGroupSize)?c.replace(new RegExp("\\d{"+u+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):c):h}return(n.prefix||"")+r+(n.suffix||"")},f.toFraction=function(t){var e,r,i,o,s,a,u,l,h,c,f,p,d=this,y=d.c;if(null!=t&&(!(u=new S(t)).isInteger()&&(u.c||1!==u.s)||u.lt(g)))throw Error(qo+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+T(u));if(!y)return new S(d);for(e=new S(g),h=r=new S(g),i=l=new S(g),p=Zo(y),s=e.e=p.length-d.e-1,e.c[0]=zo[(a=s%Bo)<0?Bo+a:a],t=!t||u.comparedTo(e)>0?s>0?e:h:u,a=x,x=1/0,u=new S(p),l.c[0]=0;c=n(u,e,0,1),1!=(o=r.plus(c.times(i))).comparedTo(t);)r=i,i=o,h=l.plus(c.times(o=h)),l=o,e=u.minus(c.times(o=e)),u=o;return o=n(t.minus(r),i,0,1),l=l.plus(o.times(h)),r=r.plus(o.times(i)),l.s=h.s=d.s,f=n(h,i,s*=2,v).minus(d).abs().comparedTo(n(l,r,s,v).minus(d).abs())<1?[h,i]:[l,r],x=a,f},f.toNumber=function(){return+T(this)},f.toPrecision=function(t,e){return null!=t&&Wo(t,1,Xo),M(this,t,e,2)},f.toString=function(t){var e,n=this,i=n.s,o=n.e;return null===o?i?(e="Infinity",i<0&&(e="-"+e)):e="NaN":(null==t?e=o<=d||o>=y?Ko(Zo(n.c),o):Qo(Zo(n.c),o,"0"):10===t&&N?e=Qo(Zo((n=C(new S(n),p+o+1,v)).c),n.e,"0"):(Wo(t,2,I.length,"Base"),e=r(Qo(Zo(n.c),o,"0"),10,t,i,!0)),i<0&&n.c[0]&&(e="-"+e)),e},f.valueOf=f.toJSON=function(){return T(this)},f._isBigNumber=!0,f[Symbol.toStringTag]="BigNumber",f[Symbol.for("nodejs.util.inspect.custom")]=f.valueOf,null!=e&&S.set(e),S}(),ts=function(t){function e(t){return i(this,e),r(this,e,[t])}return h(e,t),s(e)}(s((function t(e){i(this,t),u(this,"key",void 0),u(this,"left",null),u(this,"right",null),this.key=e}))),es=function(){return s((function t(){i(this,t),u(this,"size",0),u(this,"modificationCount",0),u(this,"splayCount",0)}),[{key:"splay",value:function(t){var e=this.root;if(null==e)return this.compare(t,t),-1;for(var n,r=null,i=null,o=null,s=null,a=e,u=this.compare;;)if((n=u(a.key,t))>0){var l=a.left;if(null==l)break;if((n=u(l.key,t))>0&&(a.left=l.right,l.right=a,null==(l=(a=l).left)))break;null==r?i=a:r.left=a,r=a,a=l}else{if(!(n<0))break;var h=a.right;if(null==h)break;if((n=u(h.key,t))<0&&(a.right=h.left,h.left=a,null==(h=(a=h).right)))break;null==o?s=a:o.right=a,o=a,a=h}return null!=o&&(o.right=a.left,a.left=s),null!=r&&(r.left=a.right,a.right=i),this.root!==a&&(this.root=a,this.splayCount++),n}},{key:"splayMin",value:function(t){for(var e=t,n=e.left;null!=n;){var r=n;e.left=r.right,r.right=e,n=(e=r).left}return e}},{key:"splayMax",value:function(t){for(var e=t,n=e.right;null!=n;){var r=n;e.right=r.left,r.left=e,n=(e=r).right}return e}},{key:"_delete",value:function(t){if(null==this.root)return null;if(0!=this.splay(t))return null;var e=this.root,n=e,r=e.left;if(this.size--,null==r)this.root=e.right;else{var i=e.right;(e=this.splayMax(r)).right=i,this.root=e}return this.modificationCount++,n}},{key:"addNewRoot",value:function(t,e){this.size++,this.modificationCount++;var n=this.root;null!=n?(e<0?(t.left=n,t.right=n.right,n.right=null):(t.right=n,t.left=n.left,n.left=null),this.root=t):this.root=t}},{key:"_first",value:function(){var t=this.root;return null==t?null:(this.root=this.splayMin(t),this.root)}},{key:"_last",value:function(){var t=this.root;return null==t?null:(this.root=this.splayMax(t),this.root)}},{key:"clear",value:function(){this.root=null,this.size=0,this.modificationCount++}},{key:"has",value:function(t){return this.validKey(t)&&0==this.splay(t)}},{key:"defaultCompare",value:function(){return function(t,e){return t<e?-1:t>e?1:0}}},{key:"wrap",value:function(){var t=this;return{getRoot:function(){return t.root},setRoot:function(e){t.root=e},getSize:function(){return t.size},getModificationCount:function(){return t.modificationCount},getSplayCount:function(){return t.splayCount},setSplayCount:function(e){t.splayCount=e},splay:function(e){return t.splay(e)},has:function(e){return t.has(e)}}}}])}(),ns=function(t){function e(t,n){var o;return i(this,e),u(o=r(this,e),"root",null),u(o,"compare",void 0),u(o,"validKey",void 0),u(o,Symbol.toStringTag,"[object Set]"),o.compare=null!=t?t:o.defaultCompare(),o.validKey=null!=n?n:function(t){return null!=t&&null!=t},o}return h(e,t),s(e,[{key:"delete",value:function(t){return!!this.validKey(t)&&null!=this._delete(t)}},{key:"deleteAll",value:function(t){var e,n=a(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;this.delete(r)}}catch(t){n.e(t)}finally{n.f()}}},{key:"forEach",value:function(t){for(var e,n=this[Symbol.iterator]();!(e=n.next()).done;)t(e.value,e.value,this)}},{key:"add",value:function(t){var e=this.splay(t);return 0!=e&&this.addNewRoot(new ts(t),e),this}},{key:"addAndReturn",value:function(t){var e=this.splay(t);return 0!=e&&this.addNewRoot(new ts(t),e),this.root.key}},{key:"addAll",value:function(t){var e,n=a(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;this.add(r)}}catch(t){n.e(t)}finally{n.f()}}},{key:"isEmpty",value:function(){return null==this.root}},{key:"isNotEmpty",value:function(){return null!=this.root}},{key:"single",value:function(){if(0==this.size)throw"Bad state: No element";if(this.size>1)throw"Bad state: Too many element";return this.root.key}},{key:"first",value:function(){if(0==this.size)throw"Bad state: No element";return this._first().key}},{key:"last",value:function(){if(0==this.size)throw"Bad state: No element";return this._last().key}},{key:"lastBefore",value:function(t){if(null==t)throw"Invalid arguments(s)";if(null==this.root)return null;if(this.splay(t)<0)return this.root.key;var e=this.root.left;if(null==e)return null;for(var n=e.right;null!=n;)n=(e=n).right;return e.key}},{key:"firstAfter",value:function(t){if(null==t)throw"Invalid arguments(s)";if(null==this.root)return null;if(this.splay(t)>0)return this.root.key;var e=this.root.right;if(null==e)return null;for(var n=e.left;null!=n;)n=(e=n).left;return e.key}},{key:"retainAll",value:function(t){var n,r=new e(this.compare,this.validKey),i=this.modificationCount,o=a(t);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(i!=this.modificationCount)throw"Concurrent modification during iteration.";this.validKey(s)&&0==this.splay(s)&&r.add(this.root.key)}}catch(t){o.e(t)}finally{o.f()}r.size!=this.size&&(this.root=r.root,this.size=r.size,this.modificationCount++)}},{key:"lookup",value:function(t){return this.validKey(t)?0!=this.splay(t)?null:this.root.key:null}},{key:"intersection",value:function(t){var n,r=new e(this.compare,this.validKey),i=a(this);try{for(i.s();!(n=i.n()).done;){var o=n.value;t.has(o)&&r.add(o)}}catch(t){i.e(t)}finally{i.f()}return r}},{key:"difference",value:function(t){var n,r=new e(this.compare,this.validKey),i=a(this);try{for(i.s();!(n=i.n()).done;){var o=n.value;t.has(o)||r.add(o)}}catch(t){i.e(t)}finally{i.f()}return r}},{key:"union",value:function(t){var e=this.clone();return e.addAll(t),e}},{key:"clone",value:function(){var t=new e(this.compare,this.validKey);return t.size=this.size,t.root=this.copyNode(this.root),t}},{key:"copyNode",value:function(t){if(null==t)return null;var e=new ts(t.key);return function t(e,n){var r,i;do{if(r=e.left,i=e.right,null!=r){var o=new ts(r.key);n.left=o,t(r,o)}if(null!=i){var s=new ts(i.key);n.right=s,e=i,n=s}}while(null!=i)}(t,e),e}},{key:"toSet",value:function(){return this.clone()}},{key:"entries",value:function(){return new os(this.wrap())}},{key:"keys",value:function(){return this[Symbol.iterator]()}},{key:"values",value:function(){return this[Symbol.iterator]()}},{key:Symbol.iterator,value:function(){return new is(this.wrap())}}])}(es),rs=function(){return s((function t(e){i(this,t),u(this,"tree",void 0),u(this,"path",new Array),u(this,"modificationCount",null),u(this,"splayCount",void 0),this.tree=e,this.splayCount=e.getSplayCount()}),[{key:Symbol.iterator,value:function(){return this}},{key:"next",value:function(){return this.moveNext()?{done:!1,value:this.current()}:{done:!0,value:null}}},{key:"current",value:function(){if(!this.path.length)return null;var t=this.path[this.path.length-1];return this.getValue(t)}},{key:"rebuildPath",value:function(t){this.path.splice(0,this.path.length),this.tree.splay(t),this.path.push(this.tree.getRoot()),this.splayCount=this.tree.getSplayCount()}},{key:"findLeftMostDescendent",value:function(t){for(;null!=t;)this.path.push(t),t=t.left}},{key:"moveNext",value:function(){if(this.modificationCount!=this.tree.getModificationCount()){if(null==this.modificationCount){this.modificationCount=this.tree.getModificationCount();for(var t=this.tree.getRoot();null!=t;)this.path.push(t),t=t.left;return this.path.length>0}throw"Concurrent modification during iteration."}if(!this.path.length)return!1;this.splayCount!=this.tree.getSplayCount()&&this.rebuildPath(this.path[this.path.length-1].key);var e=this.path[this.path.length-1],n=e.right;if(null!=n){for(;null!=n;)this.path.push(n),n=n.left;return!0}for(this.path.pop();this.path.length&&this.path[this.path.length-1].right===e;)e=this.path.pop();return this.path.length>0}}])}(),is=function(t){function e(){return i(this,e),r(this,e,arguments)}return h(e,t),s(e,[{key:"getValue",value:function(t){return t.key}}])}(rs),os=function(t){function e(){return i(this,e),r(this,e,arguments)}return h(e,t),s(e,[{key:"getValue",value:function(t){return[t.key,t.key]}}])}(rs),ss=function(t){return function(){return t}},as=function(t){var e=t?function(e,n){return n.minus(e).abs().isLessThanOrEqualTo(t)}:ss(!1);return function(t,n){return e(t,n)?0:t.comparedTo(n)}};function us(t){var e=t?function(e,n,r,i,o){return e.exponentiatedBy(2).isLessThanOrEqualTo(i.minus(n).exponentiatedBy(2).plus(o.minus(r).exponentiatedBy(2)).times(t))}:ss(!1);return function(t,n,r){var i=t.x,o=t.y,s=r.x,a=r.y,u=o.minus(a).times(n.x.minus(s)).minus(i.minus(s).times(n.y.minus(a)));return e(u,i,o,s,a)?0:u.comparedTo(0)}}var ls=function(t){return t},hs=function(t){if(t){var e=new ns(as(t)),n=new ns(as(t)),r=function(t,e){return e.addAndReturn(t)},i=function(t){return{x:r(t.x,e),y:r(t.y,n)}};return i({x:new $o(0),y:new $o(0)}),i}return ls},cs=function(t){return{set:function(t){fs=cs(t)},reset:function(){return cs(t)},compare:as(t),snap:hs(t),orient:us(t)}},fs=cs(),gs=function(t,e){return t.ll.x.isLessThanOrEqualTo(e.x)&&e.x.isLessThanOrEqualTo(t.ur.x)&&t.ll.y.isLessThanOrEqualTo(e.y)&&e.y.isLessThanOrEqualTo(t.ur.y)},ps=function(t,e){if(e.ur.x.isLessThan(t.ll.x)||t.ur.x.isLessThan(e.ll.x)||e.ur.y.isLessThan(t.ll.y)||t.ur.y.isLessThan(e.ll.y))return null;var n=t.ll.x.isLessThan(e.ll.x)?e.ll.x:t.ll.x,r=t.ur.x.isLessThan(e.ur.x)?t.ur.x:e.ur.x;return{ll:{x:n,y:t.ll.y.isLessThan(e.ll.y)?e.ll.y:t.ll.y},ur:{x:r,y:t.ur.y.isLessThan(e.ur.y)?t.ur.y:e.ur.y}}},vs=function(t,e){return t.x.times(e.y).minus(t.y.times(e.x))},ds=function(t,e){return t.x.times(e.x).plus(t.y.times(e.y))},ys=function(t){return ds(t,t).sqrt()},ms=function(t,e,n){var r={x:e.x.minus(t.x),y:e.y.minus(t.y)},i={x:n.x.minus(t.x),y:n.y.minus(t.y)};return ds(i,r).div(ys(i)).div(ys(r))},_s=function(t,e,n){return e.y.isZero()?null:{x:t.x.plus(e.x.div(e.y).times(n.minus(t.y))),y:n}},xs=function(t,e,n){return e.x.isZero()?null:{x:n,y:t.y.plus(e.y.div(e.x).times(n.minus(t.x)))}},Es=function(){function t(e,n){i(this,t),u(this,"point",void 0),u(this,"isLeft",void 0),u(this,"segment",void 0),u(this,"otherSE",void 0),u(this,"consumedBy",void 0),void 0===e.events?e.events=[this]:e.events.push(this),this.point=e,this.isLeft=n}return s(t,[{key:"link",value:function(t){if(t.point===this.point)throw new Error("Tried to link already linked events");for(var e=t.point.events,n=0,r=e.length;n<r;n++){var i=e[n];this.point.events.push(i),i.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var t=this.point.events.length,e=0;e<t;e++){var n=this.point.events[e];if(void 0===n.segment.consumedBy)for(var r=e+1;r<t;r++){var i=this.point.events[r];void 0===i.consumedBy&&(n.otherSE.point.events===i.otherSE.point.events&&n.segment.consume(i.segment))}}}},{key:"getAvailableLinkedEvents",value:function(){for(var t=[],e=0,n=this.point.events.length;e<n;e++){var r=this.point.events[e];r!==this&&!r.segment.ringOut&&r.segment.isInResult()&&t.push(r)}return t}},{key:"getLeftmostComparator",value:function(t){var e=this,n=new Map,r=function(r){var i,o,s,a,u,l=r.otherSE;n.set(r,{sine:(i=e.point,o=t.point,s=l.point,a={x:o.x.minus(i.x),y:o.y.minus(i.y)},u={x:s.x.minus(i.x),y:s.y.minus(i.y)},vs(u,a).div(ys(u)).div(ys(a))),cosine:ms(e.point,t.point,l.point)})};return function(t,e){n.has(t)||r(t),n.has(e)||r(e);var i=n.get(t),o=i.sine,s=i.cosine,a=n.get(e),u=a.sine,l=a.cosine;return o.isGreaterThanOrEqualTo(0)&&u.isGreaterThanOrEqualTo(0)?s.isLessThan(l)?1:s.isGreaterThan(l)?-1:0:o.isLessThan(0)&&u.isLessThan(0)?s.isLessThan(l)?-1:s.isGreaterThan(l)?1:0:u.isLessThan(o)?-1:u.isGreaterThan(o)?1:0}}}],[{key:"compare",value:function(e,n){var r=t.comparePoints(e.point,n.point);return 0!==r?r:(e.point!==n.point&&e.link(n),e.isLeft!==n.isLeft?e.isLeft?1:-1:Ls.compare(e.segment,n.segment))}},{key:"comparePoints",value:function(t,e){return t.x.isLessThan(e.x)?-1:t.x.isGreaterThan(e.x)?1:t.y.isLessThan(e.y)?-1:t.y.isGreaterThan(e.y)?1:0}}])}(),ks=function(){function t(e){i(this,t),u(this,"events",void 0),u(this,"poly",void 0),u(this,"_isExteriorRing",void 0),u(this,"_enclosingRing",void 0),this.events=e;for(var n=0,r=e.length;n<r;n++)e[n].segment.ringOut=this;this.poly=null}return s(t,[{key:"getGeom",value:function(){for(var t=this.events[0].point,e=[t],n=1,r=this.events.length-1;n<r;n++){var i=this.events[n].point,o=this.events[n+1].point;0!==fs.orient(i,t,o)&&(e.push(i),t=i)}if(1===e.length)return null;var s=e[0],a=e[1];0===fs.orient(s,t,a)&&e.shift(),e.push(e[0]);for(var u=this.isExteriorRing()?1:-1,l=this.isExteriorRing()?0:e.length-1,h=this.isExteriorRing()?e.length:-1,c=[],f=l;f!=h;f+=u)c.push([e[f].x.toNumber(),e[f].y.toNumber()]);return c}},{key:"isExteriorRing",value:function(){if(void 0===this._isExteriorRing){var t=this.enclosingRing();this._isExteriorRing=!t||!t.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var t=this.events[0],e=1,n=this.events.length;e<n;e++){var r=this.events[e];Es.compare(t,r)>0&&(t=r)}for(var i=t.segment.prevInResult(),o=i?i.prevInResult():null;;){if(!i)return null;if(!o)return i.ringOut;var s,a;if(o.ringOut!==i.ringOut)return(null===(s=o.ringOut)||void 0===s?void 0:s.enclosingRing())!==i.ringOut?i.ringOut:null===(a=i.ringOut)||void 0===a?void 0:a.enclosingRing();i=o.prevInResult(),o=i?i.prevInResult():null}}}],[{key:"factory",value:function(e){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r];if(o.isInResult()&&!o.ringOut){for(var s=null,a=o.leftSE,u=o.rightSE,l=[a],h=a.point,c=[];s=a,a=u,l.push(a),a.point!==h;)for(;;){var f=a.getAvailableLinkedEvents();if(0===f.length){var g=l[0].point,p=l[l.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(g.x,", ").concat(g.y,"]. Last matching segment found ends at [").concat(p.x,", ").concat(p.y,"]."))}if(1===f.length){u=f[0].otherSE;break}for(var v=null,d=0,y=c.length;d<y;d++)if(c[d].point===a.point){v=d;break}if(null===v){c.push({index:l.length,point:a.point});var m=a.getLeftmostComparator(s);u=f.sort(m)[0].otherSE;break}var _=c.splice(v)[0],x=l.splice(_.index);x.unshift(x[0].otherSE),n.push(new t(x.reverse()))}n.push(new t(l))}}return n}}])}(),bs=function(){return s((function t(e){i(this,t),u(this,"exteriorRing",void 0),u(this,"interiorRings",void 0),this.exteriorRing=e,e.poly=this,this.interiorRings=[]}),[{key:"addInterior",value:function(t){this.interiorRings.push(t),t.poly=this}},{key:"getGeom",value:function(){var t=this.exteriorRing.getGeom();if(null===t)return null;for(var e=[t],n=0,r=this.interiorRings.length;n<r;n++){var i=this.interiorRings[n].getGeom();null!==i&&e.push(i)}return e}}])}(),ws=function(){return s((function t(e){i(this,t),u(this,"rings",void 0),u(this,"polys",void 0),this.rings=e,this.polys=this._composePolys(e)}),[{key:"getGeom",value:function(){for(var t=[],e=0,n=this.polys.length;e<n;e++){var r=this.polys[e].getGeom();null!==r&&t.push(r)}return t}},{key:"_composePolys",value:function(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n];if(!i.poly)if(i.isExteriorRing())e.push(new bs(i));else{var o,s=i.enclosingRing();null!=s&&s.poly||e.push(new bs(s)),null==s||null===(o=s.poly)||void 0===o||o.addInterior(i)}}return e}}])}(),Is=function(){return s((function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ls.compare;i(this,t),u(this,"queue",void 0),u(this,"tree",void 0),u(this,"segments",void 0),this.queue=e,this.tree=new ns(n),this.segments=[]}),[{key:"process",value:function(t){var e=t.segment,n=[];if(t.consumedBy)return t.isLeft?this.queue.delete(t.otherSE):this.tree.delete(e),n;t.isLeft&&this.tree.add(e);var r=e,i=e;do{r=this.tree.lastBefore(r)}while(null!=r&&null!=r.consumedBy);do{i=this.tree.firstAfter(i)}while(null!=i&&null!=i.consumedBy);if(t.isLeft){var o=null;if(r){var s=r.getIntersection(e);if(null!==s&&(e.isAnEndpoint(s)||(o=s),!r.isAnEndpoint(s)))for(var a=this._splitSafely(r,s),u=0,l=a.length;u<l;u++)n.push(a[u])}var h=null;if(i){var c=i.getIntersection(e);if(null!==c&&(e.isAnEndpoint(c)||(h=c),!i.isAnEndpoint(c)))for(var f=this._splitSafely(i,c),g=0,p=f.length;g<p;g++)n.push(f[g])}if(null!==o||null!==h){var v=null;if(null===o)v=h;else if(null===h)v=o;else{v=Es.comparePoints(o,h)<=0?o:h}this.queue.delete(e.rightSE),n.push(e.rightSE);for(var d=e.split(v),y=0,m=d.length;y<m;y++)n.push(d[y])}n.length>0?(this.tree.delete(e),n.push(t)):(this.segments.push(e),e.prev=r)}else{if(r&&i){var _=r.getIntersection(i);if(null!==_){if(!r.isAnEndpoint(_))for(var x=this._splitSafely(r,_),E=0,k=x.length;E<k;E++)n.push(x[E]);if(!i.isAnEndpoint(_))for(var b=this._splitSafely(i,_),w=0,I=b.length;w<I;w++)n.push(b[w])}}this.tree.delete(e)}return n}},{key:"_splitSafely",value:function(t,e){this.tree.delete(t);var n=t.rightSE;this.queue.delete(n);var r=t.split(e);return r.push(n),void 0===t.consumedBy&&this.tree.add(t),r}}])}(),Ns=new(function(){return s((function t(){i(this,t),u(this,"type",void 0),u(this,"numMultiPolys",void 0)}),[{key:"run",value:function(t,e,n){Ns.type=t;for(var r=[new Ts(e,!0)],i=0,o=n.length;i<o;i++)r.push(new Ts(n[i],!1));if(Ns.numMultiPolys=r.length,"difference"===Ns.type)for(var s=r[0],a=1;a<r.length;)null!==ps(r[a].bbox,s.bbox)?a++:r.splice(a,1);if("intersection"===Ns.type)for(var u=0,l=r.length;u<l;u++)for(var h=r[u],c=u+1,f=r.length;c<f;c++)if(null===ps(h.bbox,r[c].bbox))return[];for(var g=new ns(Es.compare),p=0,v=r.length;p<v;p++)for(var d=r[p].getSweepEvents(),y=0,m=d.length;y<m;y++)g.add(d[y]);var _=new Is(g),x=null;for(0!=g.size&&(x=g.first(),g.delete(x));x;){for(var E=_.process(x),k=0,b=E.length;k<b;k++){var w=E[k];void 0===w.consumedBy&&g.add(w)}0!=g.size?(x=g.first(),g.delete(x)):x=null}fs.reset();var I=ks.factory(_.segments);return new ws(I).getGeom()}}])}()),Ss=Ns,Ms=0,Ls=function(){function t(e,n,r,o){i(this,t),u(this,"id",void 0),u(this,"leftSE",void 0),u(this,"rightSE",void 0),u(this,"rings",void 0),u(this,"windings",void 0),u(this,"ringOut",void 0),u(this,"consumedBy",void 0),u(this,"prev",void 0),u(this,"_prevInResult",void 0),u(this,"_beforeState",void 0),u(this,"_afterState",void 0),u(this,"_isInResult",void 0),this.id=++Ms,this.leftSE=e,e.segment=this,e.otherSE=n,this.rightSE=n,n.segment=this,n.otherSE=e,this.rings=r,this.windings=o}return s(t,[{key:"replaceRightSE",value:function(t){this.rightSE=t,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var t=this.leftSE.point.y,e=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:t.isLessThan(e)?t:e},ur:{x:this.rightSE.point.x,y:t.isGreaterThan(e)?t:e}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x.minus(this.leftSE.point.x),y:this.rightSE.point.y.minus(this.leftSE.point.y)}}},{key:"isAnEndpoint",value:function(t){return t.x.eq(this.leftSE.point.x)&&t.y.eq(this.leftSE.point.y)||t.x.eq(this.rightSE.point.x)&&t.y.eq(this.rightSE.point.y)}},{key:"comparePoint",value:function(t){return fs.orient(this.leftSE.point,t,this.rightSE.point)}},{key:"getIntersection",value:function(t){var e=this.bbox(),n=t.bbox(),r=ps(e,n);if(null===r)return null;var i=this.leftSE.point,o=this.rightSE.point,s=t.leftSE.point,a=t.rightSE.point,u=gs(e,s)&&0===this.comparePoint(s),l=gs(n,i)&&0===t.comparePoint(i),h=gs(e,a)&&0===this.comparePoint(a),c=gs(n,o)&&0===t.comparePoint(o);if(l&&u)return c&&!h?o:!c&&h?a:null;if(l)return h&&i.x.eq(a.x)&&i.y.eq(a.y)?null:i;if(u)return c&&o.x.eq(s.x)&&o.y.eq(s.y)?null:s;if(c&&h)return null;if(c)return o;if(h)return a;var f=function(t,e,n,r){if(e.x.isZero())return xs(n,r,t.x);if(r.x.isZero())return xs(t,e,n.x);if(e.y.isZero())return _s(n,r,t.y);if(r.y.isZero())return _s(t,e,n.y);var i=vs(e,r);if(i.isZero())return null;var o={x:n.x.minus(t.x),y:n.y.minus(t.y)},s=vs(o,e).div(i),a=vs(o,r).div(i),u=t.x.plus(a.times(e.x)),l=n.x.plus(s.times(r.x)),h=t.y.plus(a.times(e.y)),c=n.y.plus(s.times(r.y));return{x:u.plus(l).div(2),y:h.plus(c).div(2)}}(i,this.vector(),s,t.vector());return null===f?null:gs(r,f)?fs.snap(f):null}},{key:"split",value:function(e){var n=[],r=void 0!==e.events,i=new Es(e,!0),o=new Es(e,!1),s=this.rightSE;this.replaceRightSE(o),n.push(o),n.push(i);var a=new t(i,s,this.rings.slice(),this.windings.slice());return Es.comparePoints(a.leftSE.point,a.rightSE.point)>0&&a.swapEvents(),Es.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),r&&(i.checkForConsuming(),o.checkForConsuming()),n}},{key:"swapEvents",value:function(){var t=this.rightSE;this.rightSE=this.leftSE,this.leftSE=t,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var e=0,n=this.windings.length;e<n;e++)this.windings[e]*=-1}},{key:"consume",value:function(e){for(var n=this,r=e;n.consumedBy;)n=n.consumedBy;for(;r.consumedBy;)r=r.consumedBy;var i=t.compare(n,r);if(0!==i){if(i>0){var o=n;n=r,r=o}if(n.prev===r){var s=n;n=r,r=s}for(var a=0,u=r.rings.length;a<u;a++){var l=r.rings[a],h=r.windings[a],c=n.rings.indexOf(l);-1===c?(n.rings.push(l),n.windings.push(h)):n.windings[c]+=h}r.rings=null,r.windings=null,r.consumedBy=n,r.leftSE.consumedBy=n.leftSE,r.rightSE.consumedBy=n.rightSE}}},{key:"prevInResult",value:function(){return void 0!==this._prevInResult||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}},{key:"beforeState",value:function(){if(void 0!==this._beforeState)return this._beforeState;if(this.prev){var t=this.prev.consumedBy||this.prev;this._beforeState=t.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:"afterState",value:function(){if(void 0!==this._afterState)return this._afterState;var t=this.beforeState();this._afterState={rings:t.rings.slice(0),windings:t.windings.slice(0),multiPolys:[]};for(var e=this._afterState.rings,n=this._afterState.windings,r=this._afterState.multiPolys,i=0,o=this.rings.length;i<o;i++){var s=this.rings[i],a=this.windings[i],u=e.indexOf(s);-1===u?(e.push(s),n.push(a)):n[u]+=a}for(var l=[],h=[],c=0,f=e.length;c<f;c++)if(0!==n[c]){var g=e[c],p=g.poly;if(-1===h.indexOf(p))if(g.isExterior)l.push(p);else{-1===h.indexOf(p)&&h.push(p);var v=l.indexOf(g.poly);-1!==v&&l.splice(v,1)}}for(var d=0,y=l.length;d<y;d++){var m=l[d].multiPoly;-1===r.indexOf(m)&&r.push(m)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;var t=this.beforeState().multiPolys,e=this.afterState().multiPolys;switch(Ss.type){case"union":var n=0===t.length,r=0===e.length;this._isInResult=n!==r;break;case"intersection":var i,o;t.length<e.length?(i=t.length,o=e.length):(i=e.length,o=t.length),this._isInResult=o===Ss.numMultiPolys&&i<o;break;case"xor":var s=Math.abs(t.length-e.length);this._isInResult=s%2==1;break;case"difference":var a=function(t){return 1===t.length&&t[0].isSubject};this._isInResult=a(t)!==a(e)}return this._isInResult}}],[{key:"compare",value:function(t,e){var n=t.leftSE.point.x,r=e.leftSE.point.x,i=t.rightSE.point.x,o=e.rightSE.point.x;if(o.isLessThan(n))return 1;if(i.isLessThan(r))return-1;var s=t.leftSE.point.y,a=e.leftSE.point.y,u=t.rightSE.point.y,l=e.rightSE.point.y;if(n.isLessThan(r)){if(a.isLessThan(s)&&a.isLessThan(u))return 1;if(a.isGreaterThan(s)&&a.isGreaterThan(u))return-1;var h=t.comparePoint(e.leftSE.point);if(h<0)return 1;if(h>0)return-1;var c=e.comparePoint(t.rightSE.point);return 0!==c?c:-1}if(n.isGreaterThan(r)){if(s.isLessThan(a)&&s.isLessThan(l))return-1;if(s.isGreaterThan(a)&&s.isGreaterThan(l))return 1;var f=e.comparePoint(t.leftSE.point);if(0!==f)return f;var g=t.comparePoint(e.rightSE.point);return g<0?1:g>0?-1:1}if(s.isLessThan(a))return-1;if(s.isGreaterThan(a))return 1;if(i.isLessThan(o)){var p=e.comparePoint(t.rightSE.point);if(0!==p)return p}if(i.isGreaterThan(o)){var v=t.comparePoint(e.rightSE.point);if(v<0)return 1;if(v>0)return-1}if(!i.eq(o)){var d=u.minus(s),y=i.minus(n),m=l.minus(a),_=o.minus(r);if(d.isGreaterThan(y)&&m.isLessThan(_))return 1;if(d.isLessThan(y)&&m.isGreaterThan(_))return-1}return i.isGreaterThan(o)?1:i.isLessThan(o)||u.isLessThan(l)?-1:u.isGreaterThan(l)?1:t.id<e.id?-1:t.id>e.id?1:0}},{key:"fromRing",value:function(e,n,r){var i,o,s,a=Es.comparePoints(e,n);if(a<0)i=e,o=n,s=1;else{if(!(a>0))throw new Error("Tried to create degenerate segment at [".concat(e.x,", ").concat(e.y,"]"));i=n,o=e,s=-1}return new t(new Es(i,!0),new Es(o,!1),[r],[s])}}])}(),Ps=function(){return s((function t(e,n,r){if(i(this,t),u(this,"poly",void 0),u(this,"isExterior",void 0),u(this,"segments",void 0),u(this,"bbox",void 0),!Array.isArray(e)||0===e.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=n,this.isExterior=r,this.segments=[],"number"!=typeof e[0][0]||"number"!=typeof e[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var o=fs.snap({x:new $o(e[0][0]),y:new $o(e[0][1])});this.bbox={ll:{x:o.x,y:o.y},ur:{x:o.x,y:o.y}};for(var s=o,a=1,l=e.length;a<l;a++){if("number"!=typeof e[a][0]||"number"!=typeof e[a][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var h=fs.snap({x:new $o(e[a][0]),y:new $o(e[a][1])});h.x.eq(s.x)&&h.y.eq(s.y)||(this.segments.push(Ls.fromRing(s,h,this)),h.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=h.x),h.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=h.y),h.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=h.x),h.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=h.y),s=h)}o.x.eq(s.x)&&o.y.eq(s.y)||this.segments.push(Ls.fromRing(s,o,this))}),[{key:"getSweepEvents",value:function(){for(var t=[],e=0,n=this.segments.length;e<n;e++){var r=this.segments[e];t.push(r.leftSE),t.push(r.rightSE)}return t}}])}(),Cs=function(){return s((function t(e,n){if(i(this,t),u(this,"multiPoly",void 0),u(this,"exteriorRing",void 0),u(this,"interiorRings",void 0),u(this,"bbox",void 0),!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new Ps(e[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var r=1,o=e.length;r<o;r++){var s=new Ps(e[r],this,!1);s.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=s.bbox.ll.x),s.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=s.bbox.ll.y),s.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=s.bbox.ur.x),s.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=s.bbox.ur.y),this.interiorRings.push(s)}this.multiPoly=n}),[{key:"getSweepEvents",value:function(){for(var t=this.exteriorRing.getSweepEvents(),e=0,n=this.interiorRings.length;e<n;e++)for(var r=this.interiorRings[e].getSweepEvents(),i=0,o=r.length;i<o;i++)t.push(r[i]);return t}}])}(),Ts=function(){return s((function t(e,n){if(i(this,t),u(this,"isSubject",void 0),u(this,"polys",void 0),u(this,"bbox",void 0),!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"==typeof e[0][0][0]&&(e=[e])}catch(t){}this.polys=[],this.bbox={ll:{x:new $o(Number.POSITIVE_INFINITY),y:new $o(Number.POSITIVE_INFINITY)},ur:{x:new $o(Number.NEGATIVE_INFINITY),y:new $o(Number.NEGATIVE_INFINITY)}};for(var r=0,o=e.length;r<o;r++){var s=new Cs(e[r],this);s.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=s.bbox.ll.x),s.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=s.bbox.ll.y),s.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=s.bbox.ur.x),s.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=s.bbox.ur.y),this.polys.push(s)}this.isSubject=n}),[{key:"getSweepEvents",value:function(){for(var t=[],e=0,n=this.polys.length;e<n;e++)for(var r=this.polys[e].getSweepEvents(),i=0,o=r.length;i<o;i++)t.push(r[i]);return t}}])}(),Os=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Ss.run("union",t,n)},Rs=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Ss.run("intersection",t,n)},As=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Ss.run("difference",t,n)},Ds=fs.set,Fs=Object.freeze({__proto__:null,difference:As,intersection:Rs,setPrecision:Ds,union:Os,xor:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Ss.run("xor",t,n)}});function qs(t){if(!t)throw new Error("geojson is required");var e=[];return xt(t,(function(t){e.push(t)})),C(e)}function Vs(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=K(t),i=K(e),o=r[0]-i[0],s=r[1]-i[1];return 1===n?Math.abs(o)+Math.abs(s):Math.pow(Math.pow(o,n)+Math.pow(s,n),1/n)}function Gs(t,e){var n,r,i=(e=e||{}).threshold||1e4,o=e.p||2,s=null!=(n=e.binary)&&n,a=e.alpha||-1,u=null!=(r=e.standardization)&&r,l=[];vt(t,(function(t){l.push(gi(t))}));for(var h=[],c=0;c<l.length;c++)h[c]=[];for(var f=0;f<l.length;f++)for(var g=f;g<l.length;g++){f===g&&(h[f][g]=0);var p=Vs(l[f],l[g],o);h[f][g]=p,h[g][f]=p}for(var v=0;v<l.length;v++)for(var d=0;d<l.length;d++){var y=h[v][d];0!==y&&(h[v][d]=s?y<=i?1:0:y<=i?Math.pow(y,a):0)}if(u)for(var m=0;m<l.length;m++)for(var _=h[m].reduce((function(t,e){return t+e}),0),x=0;x<l.length;x++)h[m][x]=h[m][x]/_;return h}function Bs(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=e<0,o=j(Math.abs(e),r.units,"meters");i&&(o=-Math.abs(o));var s=K(t),a=function(t,e,n,r){r=void 0===r?x:Number(r);var i=e/r,o=t[0]*Math.PI/180,s=z(t[1]),a=z(n),u=i*Math.cos(a),l=s+u;Math.abs(l)>Math.PI/2&&(l=l>0?Math.PI-l:-Math.PI-l);var h=Math.log(Math.tan(l/2+Math.PI/4)/Math.tan(s/2+Math.PI/4)),c=Math.abs(h)>1e-11?u/h:Math.cos(s),f=i*Math.sin(a)/c;return[(180*(o+f)/Math.PI+540)%360-180,180*l/Math.PI]}(s,o,n);return a[0]+=a[0]-s[0]>180?-360:s[0]-a[0]>180?360:0,I(a,r.properties)}function Ys(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=K(t),i=K(e);i[0]+=i[0]-r[0]>180?-360:r[0]-i[0]>180?360:0;var o=function(t,e,n){var r=n=void 0===n?x:Number(n),i=t[1]*Math.PI/180,o=e[1]*Math.PI/180,s=o-i,a=Math.abs(e[0]-t[0])*Math.PI/180;a>Math.PI&&(a-=2*Math.PI);var u=Math.log(Math.tan(o/2+Math.PI/4)/Math.tan(i/2+Math.PI/4)),l=Math.abs(u)>1e-11?s/u:Math.cos(i);return Math.sqrt(s*s+l*l*a*a)*r}(r,i);return j(o,"meters",n.units)}function zs(t,e,n){if(!Z(n=n||{}))throw new Error("options is invalid");var r=n.pivot,i=n.mutate;if(!t)throw new Error("geojson is required");if(null==e||isNaN(e))throw new Error("angle is required");if(0===e)return t;var o=null!=r?r:gi(t);return!1!==i&&void 0!==i||(t=Ai(t)),ct(t,(function(t){var n=lt(o,t)+e,r=Ys(o,t),i=Q(Bs(o,r,n));t[0]=i[0],t[1]=i[1]})),t}function js(t,e,n,r){var i=(r=r||{}).steps||64,o=r.units||"kilometers",s=r.angle||0,a=r.pivot||t,u=r.properties||{};if(!t)throw new Error("center is required");if(!e)throw new Error("xSemiAxis is required");if(!n)throw new Error("ySemiAxis is required");if(!Z(r))throw new Error("options must be an object");if(!U(i))throw new Error("steps must be a number");if(!U(s))throw new Error("angle must be a number");var l=K(t);if("degrees"!==o){var h=Bs(t,e,90,{units:o}),c=Bs(t,n,0,{units:o});e=K(h)[0]-l[0],n=K(c)[1]-l[1]}for(var f=[],g=0;g<i;g+=1){var p=-360*g/i,v=e*n/Math.sqrt(Math.pow(n,2)+Math.pow(e,2)*Math.pow(Xs(p),2)),d=e*n/Math.sqrt(Math.pow(e,2)+Math.pow(n,2)/Math.pow(Xs(p),2));if(p<-90&&p>=-270&&(v=-v),p<-180&&p>=-360&&(d=-d),"degrees"===o){var y=z(s),m=v*Math.cos(y)+d*Math.sin(y),_=d*Math.cos(y)-v*Math.sin(y);v=m,d=_}f.push([v+l[0],d+l[1]])}return f.push(f[0]),"degrees"===o?S([f],u):zs(S([f],u),s,{pivot:a})}function Xs(t){var e=t*Math.PI/180;return Math.tan(e)}function Us(t){return Vt(Rt(t))}function Zs(t){var e=[];return"FeatureCollection"===t.type?vt(t,(function(t){ct(t,(function(n){e.push(I(n,t.properties))}))})):"Feature"===t.type?ct(t,(function(n){e.push(I(n,t.properties))})):ct(t,(function(t){e.push(I(t))})),C(e)}var Hs=Math.PI/180,Ws=180/Math.PI,Js=function(t,e){this.lon=t,this.lat=e,this.x=Hs*t,this.y=Hs*e};Js.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},Js.prototype.antipode=function(){var t=-1*this.lat,e=this.lon<0?180+this.lon:-1*(180-this.lon);return new Js(e,t)};var Ks=function(){this.coords=[],this.length=0};Ks.prototype.move_to=function(t){this.length++,this.coords.push(t)};var Qs=function(t){this.properties=t||{},this.geometries=[]};Qs.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var t=[],e=0;e<this.geometries.length;e++)t.push(this.geometries[e].coords);return{geometry:{type:"MultiLineString",coordinates:t},type:"Feature",properties:this.properties}},Qs.prototype.wkt=function(){for(var t="",e="LINESTRING(",n=function(t){e+=t[0]+" "+t[1]+","},r=0;r<this.geometries.length;r++){if(0===this.geometries[r].coords.length)return"LINESTRING(empty)";this.geometries[r].coords.forEach(n),t+=e.substring(0,e.length-1)+")"}return t};var $s=function(t,e,n){if(!t||void 0===t.x||void 0===t.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!e||void 0===e.x||void 0===e.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new Js(t.x,t.y),this.end=new Js(e.x,e.y),this.properties=n||{};var r=this.start.x-this.end.x,i=this.start.y-this.end.y,o=Math.pow(Math.sin(i/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(r/2),2);if(this.g=2*Math.asin(Math.sqrt(o)),this.g===Math.PI)throw new Error("it appears "+t.view()+" and "+e.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+t+" and "+e)};
/*!
   * Copyright (c) 2019, Dane Springmeyer
   *
   * Redistribution and use in source and binary forms, with or without
   * modification, are permitted provided that the following conditions are
   * met:
   *
   *     * Redistributions of source code must retain the above copyright
   *       notice, this list of conditions and the following disclaimer.
   *     * Redistributions in binary form must reproduce the above copyright
   *       notice, this list of conditions and the following disclaimer in
   *       the documentation and/or other materials provided with the
   *       distribution.
   *
   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
   * IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
   * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
   * PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR
   * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
   * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
   * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
   * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
   * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
   * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
   * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
   */
function ta(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];if(mt(t,(function(t){n.push(t.coordinates)})),n.length<2)throw new Error("Must specify at least 2 geometries");var r=Rs.apply(Fs,[n[0]].concat(d(n.slice(1))));return 0===r.length?null:1===r.length?S(r[0],e.properties):R(r,e.properties)}function ea(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=JSON.stringify(n.properties||{}),i=v(t,4),o=i[0],s=i[1],a=i[2],u=i[3],l=(s+u)/2,h=(o+a)/2,c=2*e/ut([o,l],[a,l],n)*(a-o),f=2*e/ut([h,s],[h,u],n)*(u-s),g=c/2,p=2*g,d=Math.sqrt(3)/2*f,y=a-o,m=u-s,_=3/4*p,x=d,E=(y-p)/(p-g/2),k=Math.floor(E),b=(k*_-g/2-y)/2-g/2+_/2,w=Math.floor((m-d)/d),I=(m-w*d)/2,N=w*d-m>d/2;N&&(I-=d/4);for(var S=[],M=[],L=0;L<6;L++){var P=2*Math.PI/6*L;S.push(Math.cos(P)),M.push(Math.sin(P))}for(var T=[],O=0;O<=k;O++)for(var R=0;R<=w;R++){var A=O%2==1;if((0!==R||!A)&&(0!==R||!N)){var D=O*_+o-b,F=R*x+s+I;if(A&&(F-=d/2),!0===n.triangles)ra([D,F],c/2,f/2,JSON.parse(r),S,M).forEach((function(t){n.mask?ta(C([n.mask,t]))&&T.push(t):T.push(t)}));else{var q=na([D,F],c/2,f/2,JSON.parse(r),S,M);n.mask?ta(C([n.mask,q]))&&T.push(q):T.push(q)}}}return C(T)}function na(t,e,n,r,i,o){for(var s=[],a=0;a<6;a++){var u=t[0]+e*i[a],l=t[1]+n*o[a];s.push([u,l])}return s.push(s[0].slice()),S([s],r)}function ra(t,e,n,r,i,o){for(var s=[],a=0;a<6;a++){var u=[];u.push(t),u.push([t[0]+e*i[a],t[1]+n*o[a]]),u.push([t[0]+e*i[(a+1)%6],t[1]+n*o[(a+1)%6]]),u.push(t),s.push(S([u],r))}return s}function ia(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n.mask&&!n.units&&(n.units="kilometers");for(var r=[],i=t[0],o=t[1],s=t[2],a=t[3],u=e/ut([i,o],[s,o],n)*(s-i),l=e/ut([i,o],[i,a],n)*(a-o),h=s-i,c=a-o,f=Math.floor(h/u),g=(c-Math.floor(c/l)*l)/2,p=i+(h-f*u)/2;p<=s;){for(var v=o+g;v<=a;){var d=I([p,v],n.properties);n.mask?Cn(d,n.mask)&&r.push(d):r.push(d),v+=l}p+=u}return C(r)}function oa(t,e,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=[],o=t[0],s=t[1],a=t[2],u=t[3],l=a-o,h=j(e,r.units,"degrees"),c=u-s,f=j(n,r.units,"degrees"),g=Math.floor(Math.abs(l)/h),p=Math.floor(Math.abs(c)/f),v=(c-p*f)/2,d=o+(l-g*h)/2,y=0;y<g;y++){for(var m=s+v,_=0;_<p;_++){var x=S([[[d,m],[d,m+f],[d+h,m+f],[d+h,m],[d,m]]],r.properties);r.mask?Oe(r.mask,x)&&i.push(x):i.push(x),m+=f}d+=h}return C(i)}function sa(t,e){return oa(t,e,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}function aa(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=[],i=e/ut([t[0],t[1]],[t[2],t[1]],n)*(t[2]-t[0]),o=e/ut([t[0],t[1]],[t[0],t[3]],n)*(t[3]-t[1]),s=0,a=t[0];a<=t[2];){for(var u=0,l=t[1];l<=t[3];){var h=null,c=null;s%2==0&&u%2==0?(h=S([[[a,l],[a,l+o],[a+i,l],[a,l]]],n.properties),c=S([[[a,l+o],[a+i,l+o],[a+i,l],[a,l+o]]],n.properties)):s%2==0&&u%2==1?(h=S([[[a,l],[a+i,l+o],[a+i,l],[a,l]]],n.properties),c=S([[[a,l],[a,l+o],[a+i,l+o],[a,l]]],n.properties)):u%2==0&&s%2==1?(h=S([[[a,l],[a,l+o],[a+i,l+o],[a,l]]],n.properties),c=S([[[a,l],[a+i,l+o],[a+i,l],[a,l]]],n.properties)):u%2==1&&s%2==1&&(h=S([[[a,l],[a,l+o],[a+i,l],[a,l]]],n.properties),c=S([[[a,l+o],[a+i,l+o],[a+i,l],[a,l+o]]],n.properties)),n.mask?(ta(C([n.mask,h]))&&r.push(h),ta(C([n.mask,c]))&&r.push(c)):(r.push(h),r.push(c)),l+=o,u++}s++,a+=i}return C(r)}
/*!
  * MarchingSquaresJS
  * version 1.3.3
  * https://github.com/RaumZeit/MarchingSquares.js
  *
  * @license GNU Affero General Public License.
  * Copyright (c) 2015-2019 Ronny Lorenz <ronny@tbi.univie.ac.at>
  */
function ua(t,e,n){return t<e?(n-t)/(e-t):(t-n)/(t-e)}function la(t,e,n,r){var i;return n>r&&(i=n,n=r,r=i),t<e?t<n?(n-t)/(e-t):(r-t)/(e-t):t>r?(t-r)/(t-e):(t-n)/(t-e)}function ha(t,e,n,r){return t<e?(n-t)/(e-t):(t-r)/(t-e)}function ca(t,e,n,r){return t<e?(r-t)/(e-t):(t-n)/(t-e)}function fa(){this.successCallback=null,this.verbose=!1,this.polygons=!1,this.polygons_full=!1,this.linearRing=!0,this.noQuadTree=!1,this.noFrame=!1}function ga(t,e,n,r){var i=[];return t.polygons.forEach((function(t){t.forEach((function(t){t[0]+=e,t[1]+=n})),r.linearRing&&t.push(t[0]),i.push(t)})),i}function pa(t,e,n,r){return 0===n?(t+=1,e+=r[0][1]):1===n?t+=r[0][0]:2===n?e+=r[0][1]:3===n&&(t+=r[0][0],e+=1),[t,e]}function va(t,e,n){return 0===n?t++:1===n||(2===n?e++:3===n&&(t++,e++)),[t,e]}function da(t,e,n,r,i){var o=r,s=i,a=0,u=0;if(this.x=e,this.y=n,this.lowerBound=null,this.upperBound=null,this.childA=null,this.childB=null,this.childC=null,this.childD=null,1===r&&1===i)this.lowerBound=Math.min(t[n][e],t[n][e+1],t[n+1][e+1],t[n+1][e]),this.upperBound=Math.max(t[n][e],t[n][e+1],t[n+1][e+1],t[n+1][e]);else{if(r>1){for(;0!==o;)o>>=1,a++;r===1<<a-1&&a--,o=1<<a-1}if(i>1){for(;0!==s;)s>>=1,u++;i===1<<u-1&&u--,s=1<<u-1}this.childA=new da(t,e,n,o,s),this.lowerBound=this.childA.lowerBound,this.upperBound=this.childA.upperBound,r-o>0&&(this.childB=new da(t,e+o,n,r-o,s),this.lowerBound=Math.min(this.lowerBound,this.childB.lowerBound),this.upperBound=Math.max(this.upperBound,this.childB.upperBound),i-s>0&&(this.childC=new da(t,e+o,n+s,r-o,i-s),this.lowerBound=Math.min(this.lowerBound,this.childC.lowerBound),this.upperBound=Math.max(this.upperBound,this.childC.upperBound))),i-s>0&&(this.childD=new da(t,e,n+s,o,i-s),this.lowerBound=Math.min(this.lowerBound,this.childD.lowerBound),this.upperBound=Math.max(this.upperBound,this.childD.upperBound))}}function ya(t){var e,n;if(!t)throw new Error("data is required");if(!Array.isArray(t)||!Array.isArray(t[0]))throw new Error("data must be scalar field, i.e. array of arrays");if(t.length<2)throw new Error("data must contain at least two rows");if((n=t[0].length)<2)throw new Error("data must contain at least two columns");for(e=1;e<t.length;e++){if(!Array.isArray(t[e]))throw new Error("Row "+e+" is not an array");if(t[e].length!=n)throw new Error("unequal row lengths detected, please provide a regular grid")}this.data=t,this.root=new da(t,0,0,t[0].length-1,t.length-1)}function ma(t,e,n){var r,i,o,s=!1,a=!1,u=null,l=null,h=null,c=null,f=null,g=[];if(!t)throw new Error("data is required");if(null==e)throw new Error("threshold is required");if(n&&"object"!==m(n))throw new Error("options must be an object");if(r=function(t){var e,n,r,i,o;for(i=new fa,t=t||{},o=Object.keys(i),e=0;e<o.length;e++)null!=(r=t[n=o[e]])&&(i[n]=r);return i.polygons_full=!i.polygons,i.interpolate=ua,i}(n),t instanceof ya)u=t,l=t.root,h=t.data,r.noQuadTree||(s=!0);else{if(!Array.isArray(t)||!Array.isArray(t[0]))throw new Error("input is neither array of arrays nor object retrieved from 'QuadTree()'");h=t}if(Array.isArray(e)){for(a=!0,r.noQuadTree||(s=!0),i=0;i<e.length;i++)if(isNaN(+e[i]))throw new Error("threshold["+i+"] is not a number")}else{if(isNaN(+e))throw new Error("threshold must be a number or array of numbers");e=[e]}return s&&!l&&(u=new ya(h),l=u.root,h=u.data),r.verbose&&(r.polygons?console.log("MarchingSquaresJS-isoLines: returning single lines (polygons) for each grid cell"):console.log("MarchingSquaresJS-isoLines: returning line paths (polygons) for entire data grid"),a&&console.log("MarchingSquaresJS-isoLines: multiple lines requested, returning array of line paths instead of lines for a single threshold")),e.forEach((function(t,e){if(f=[],r.threshold=t,r.verbose&&console.log("MarchingSquaresJS-isoLines: computing iso lines for threshold "+t),r.polygons)if(s)l.cellsBelowThreshold(r.threshold,!0).forEach((function(t){f=f.concat(ga(_a(h,t.x,t.y,r),t.x,t.y,r))}));else for(o=0;o<h.length-1;++o)for(e=0;e<h[0].length-1;++e)f=f.concat(ga(_a(h,e,o,r),e,o,r));else{for(c=[],e=0;e<h[0].length-1;++e)c[e]=[];if(s)l.cellsBelowThreshold(r.threshold,!1).forEach((function(t){c[t.x][t.y]=_a(h,t.x,t.y,r)}));else for(e=0;e<h[0].length-1;++e)for(o=0;o<h.length-1;++o)c[e][o]=_a(h,e,o,r);f=function(t,e,n){var r,i,o,s,a,u,l,h,c,f,g,p,v,d,y,_=[],x=t.length-1,E=t[0].length-1,k=["right","bottom","left","top"],b=[0,-1,0,1],w=[-1,0,1,0],I={bottom:1,left:2,top:3,right:0};return n.noFrame||function(t,e){var n,r,i,o,s;for(n=!0,r=t[0].length,i=t.length,s=0;s<i;s++)if(t[s][0]>=e||t[s][r-1]>=e){n=!1;break}if(n&&(t[i-1][0]>=e||t[i-1][r-1]>=e)&&(n=!1),n)for(o=0;o<r-1;o++)if(t[0][o]>=e||t[i-1][o]>e){n=!1;break}return n}(t,n.threshold)&&(n.linearRing?_.push([[0,0],[0,x],[E,x],[E,0],[0,0]]):_.push([[0,0],[0,x],[E,x],[E,0]])),e.forEach((function(t,N){t.forEach((function(t,S){for(r=null,i=0;i<4;i++)if(r=k[i],"object"===m(t.edges[r])){for(a=[],o=t.edges[r],u=r,l=N,h=S,c=!1,f=[N+o.path[0][0],S+o.path[0][1]],a.push(f);!c&&"object"===m((s=e[l][h]).edges[u]);)if(o=s.edges[u],delete s.edges[u],(g=o.path[1])[0]+=l,g[1]+=h,a.push(g),u=o.move.enter,l+=o.move.x,h+=o.move.y,void 0===e[l]||void 0===e[l][h]){if(!n.linearRing)break;if(p=0,v=0,l===E?(l--,p=0):l<0?(l++,p=2):h===x?(h--,p=3):h<0&&(h++,p=1),l===N&&h===S&&p===I[r]){c=!0,u=r;break}for(;;){if(d=!1,v>4)throw new Error("Direction change counter overflow! This should never happen!");if(void 0!==e[l]&&void 0!==e[l][h]&&(s=e[l][h],y=k[p],"object"===m(s.edges[y]))){o=s.edges[y],a.push(pa(l,h,p,o.path)),u=y,d=!0;break}if(d)break;if(a.push(va(l,h,p)),h+=w[p],void 0!==e[l+=b[p]]&&void 0!==e[l][h]||(0===p&&h<0||1===p&&l<0||2===p&&h===x||3===p&&l===E)&&(l-=b[p],h-=w[p],p=(p+1)%4,v++),l===N&&h===S&&p===I[r]){c=!0,u=r;break}}}!n.linearRing||a[a.length-1][0]===f[0]&&a[a.length-1][1]===f[1]||a.push(f),_.push(a)}}))})),_}(h,c,r)}a?g.push(f):g=f,"function"==typeof r.successCallback&&r.successCallback(g,t)})),g}function _a(t,e,n,r){var i,o,s,a,u,l,h=0,c=t[n+1][e],f=t[n+1][e+1],g=t[n][e+1],p=t[n][e],v=r.threshold;if(!(isNaN(p)||isNaN(g)||isNaN(f)||isNaN(c))){switch(h|=c>=v?8:0,h|=f>=v?4:0,h|=g>=v?2:0,l={cval:h=+(h|=p>=v?1:0),polygons:[],edges:{},x0:p,x1:g,x2:f,x3:c},h){case 0:r.polygons&&l.polygons.push([[0,0],[0,1],[1,1],[1,0]]);break;case 15:break;case 14:i=r.interpolate(p,c,v),a=r.interpolate(p,g,v),r.polygons_full&&(l.edges.left={path:[[0,i],[a,0]],move:{x:0,y:-1,enter:"top"}}),r.polygons&&l.polygons.push([[0,0],[0,i],[a,0]]);break;case 13:a=r.interpolate(p,g,v),o=r.interpolate(g,f,v),r.polygons_full&&(l.edges.bottom={path:[[a,0],[1,o]],move:{x:1,y:0,enter:"left"}}),r.polygons&&l.polygons.push([[a,0],[1,o],[1,0]]);break;case 11:o=r.interpolate(g,f,v),s=r.interpolate(c,f,v),r.polygons_full&&(l.edges.right={path:[[1,o],[s,1]],move:{x:0,y:1,enter:"bottom"}}),r.polygons&&l.polygons.push([[1,o],[s,1],[1,1]]);break;case 7:i=r.interpolate(p,c,v),s=r.interpolate(c,f,v),r.polygons_full&&(l.edges.top={path:[[s,1],[0,i]],move:{x:-1,y:0,enter:"right"}}),r.polygons&&l.polygons.push([[s,1],[0,i],[0,1]]);break;case 1:i=r.interpolate(p,c,v),a=r.interpolate(p,g,v),r.polygons_full&&(l.edges.bottom={path:[[a,0],[0,i]],move:{x:-1,y:0,enter:"right"}}),r.polygons&&l.polygons.push([[a,0],[0,i],[0,1],[1,1],[1,0]]);break;case 2:a=r.interpolate(p,g,v),o=r.interpolate(g,f,v),r.polygons_full&&(l.edges.right={path:[[1,o],[a,0]],move:{x:0,y:-1,enter:"top"}}),r.polygons&&l.polygons.push([[0,0],[0,1],[1,1],[1,o],[a,0]]);break;case 4:o=r.interpolate(g,f,v),s=r.interpolate(c,f,v),r.polygons_full&&(l.edges.top={path:[[s,1],[1,o]],move:{x:1,y:0,enter:"left"}}),r.polygons&&l.polygons.push([[0,0],[0,1],[s,1],[1,o],[1,0]]);break;case 8:i=r.interpolate(p,c,v),s=r.interpolate(c,f,v),r.polygons_full&&(l.edges.left={path:[[0,i],[s,1]],move:{x:0,y:1,enter:"bottom"}}),r.polygons&&l.polygons.push([[0,0],[0,i],[s,1],[1,1],[1,0]]);break;case 12:i=r.interpolate(p,c,v),o=r.interpolate(g,f,v),r.polygons_full&&(l.edges.left={path:[[0,i],[1,o]],move:{x:1,y:0,enter:"left"}}),r.polygons&&l.polygons.push([[0,0],[0,i],[1,o],[1,0]]);break;case 9:a=r.interpolate(p,g,v),s=r.interpolate(c,f,v),r.polygons_full&&(l.edges.bottom={path:[[a,0],[s,1]],move:{x:0,y:1,enter:"bottom"}}),r.polygons&&l.polygons.push([[a,0],[s,1],[1,1],[1,0]]);break;case 3:i=r.interpolate(p,c,v),o=r.interpolate(g,f,v),r.polygons_full&&(l.edges.right={path:[[1,o],[0,i]],move:{x:-1,y:0,enter:"right"}}),r.polygons&&l.polygons.push([[0,i],[0,1],[1,1],[1,o]]);break;case 6:a=r.interpolate(p,g,v),s=r.interpolate(c,f,v),r.polygons_full&&(l.edges.top={path:[[s,1],[a,0]],move:{x:0,y:-1,enter:"top"}}),r.polygons&&l.polygons.push([[0,0],[0,1],[s,1],[a,0]]);break;case 10:i=r.interpolate(p,c,v),o=r.interpolate(g,f,v),a=r.interpolate(p,g,v),s=r.interpolate(c,f,v),u=(p+g+f+c)/4,r.polygons_full&&(u<v?(l.edges.left={path:[[0,i],[s,1]],move:{x:0,y:1,enter:"bottom"}},l.edges.right={path:[[1,o],[a,0]],move:{x:0,y:-1,enter:"top"}}):(l.edges.right={path:[[1,o],[s,1]],move:{x:0,y:1,enter:"bottom"}},l.edges.left={path:[[0,i],[a,0]],move:{x:0,y:-1,enter:"top"}})),r.polygons&&(u<v?l.polygons.push([[0,0],[0,i],[s,1],[1,1],[1,o],[a,0]]):(l.polygons.push([[0,0],[0,i],[a,0]]),l.polygons.push([[s,1],[1,1],[1,o]])));break;case 5:i=r.interpolate(p,c,v),o=r.interpolate(g,f,v),a=r.interpolate(p,g,v),s=r.interpolate(c,f,v),u=(p+g+f+c)/4,r.polygons_full&&(u<v?(l.edges.bottom={path:[[a,0],[0,i]],move:{x:-1,y:0,enter:"right"}},l.edges.top={path:[[s,1],[1,o]],move:{x:1,y:0,enter:"left"}}):(l.edges.top={path:[[s,1],[0,i]],move:{x:-1,y:0,enter:"right"}},l.edges.bottom={path:[[a,0],[1,o]],move:{x:1,y:0,enter:"left"}})),r.polygons&&(u<v?l.polygons.push([[0,i],[0,1],[s,1],[1,o],[1,0],[a,0]]):(l.polygons.push([[0,i],[0,1],[s,1]]),l.polygons.push([[a,0],[1,o],[1,0]])))}return l}}$s.prototype.interpolate=function(t){var e=Math.sin((1-t)*this.g)/Math.sin(this.g),n=Math.sin(t*this.g)/Math.sin(this.g),r=e*Math.cos(this.start.y)*Math.cos(this.start.x)+n*Math.cos(this.end.y)*Math.cos(this.end.x),i=e*Math.cos(this.start.y)*Math.sin(this.start.x)+n*Math.cos(this.end.y)*Math.sin(this.end.x),o=e*Math.sin(this.start.y)+n*Math.sin(this.end.y),s=Ws*Math.atan2(o,Math.sqrt(Math.pow(r,2)+Math.pow(i,2)));return[Ws*Math.atan2(i,r),s]},$s.prototype.Arc=function(t,e){var n=[];if(!t||t<=2)n.push([this.start.lon,this.start.lat]),n.push([this.end.lon,this.end.lat]);else for(var r=1/(t-1),i=0;i<t;++i){var o=r*i,s=this.interpolate(o);n.push(s)}for(var a=!1,u=0,l=e&&e.offset?e.offset:10,h=180-l,c=-180+l,f=360-l,g=1;g<n.length;++g){var p=n[g-1][0],v=n[g][0],d=Math.abs(v-p);d>f&&(v>h&&p<c||p>h&&v<c)?a=!0:d>u&&(u=d)}var y=[];if(a&&u<l){var m=[];y.push(m);for(var _=0;_<n.length;++_){var x=parseFloat(n[_][0]);if(_>0&&Math.abs(x-n[_-1][0])>f){var E=parseFloat(n[_-1][0]),k=parseFloat(n[_-1][1]),b=parseFloat(n[_][0]),w=parseFloat(n[_][1]);if(E>-180&&E<c&&180===b&&_+1<n.length&&n[_-1][0]>-180&&n[_-1][0]<c){m.push([-180,n[_][1]]),_++,m.push([n[_][0],n[_][1]]);continue}if(E>h&&E<180&&-180===b&&_+1<n.length&&n[_-1][0]>h&&n[_-1][0]<180){m.push([180,n[_][1]]),_++,m.push([n[_][0],n[_][1]]);continue}if(E<c&&b>h){var I=E;E=b,b=I;var N=k;k=w,w=N}if(E>h&&b<c&&(b+=360),E<=180&&b>=180&&E<b){var S=(180-E)/(b-E),M=S*w+(1-S)*k;m.push([n[_-1][0]>h?180:-180,M]),(m=[]).push([n[_-1][0]>h?-180:180,M]),y.push(m)}else m=[],y.push(m);m.push([x,n[_][1]])}else m.push([n[_][0],n[_][1]])}}else{var L=[];y.push(L);for(var P=0;P<n.length;++P)L.push([n[P][0],n[P][1]])}for(var C=new Qs(this.properties),T=0;T<y.length;++T){var O=new Ks;C.geometries.push(O);for(var R=y[T],A=0;A<R.length;++A)O.move_to(R[A])}return C},da.prototype.cellsInBand=function(t,e,n){var r=[];return n=void 0===n||n,this.lowerBound>e||this.upperBound<t||(this.childA||this.childB||this.childC||this.childD?(this.childA&&(r=r.concat(this.childA.cellsInBand(t,e,n))),this.childB&&(r=r.concat(this.childB.cellsInBand(t,e,n))),this.childD&&(r=r.concat(this.childD.cellsInBand(t,e,n))),this.childC&&(r=r.concat(this.childC.cellsInBand(t,e,n)))):(n||this.lowerBound<=t||this.upperBound>=e)&&r.push({x:this.x,y:this.y})),r},da.prototype.cellsBelowThreshold=function(t,e){var n=[];return e=void 0===e||e,this.lowerBound>t||(this.childA||this.childB||this.childC||this.childD?(this.childA&&(n=n.concat(this.childA.cellsBelowThreshold(t,e))),this.childB&&(n=n.concat(this.childB.cellsBelowThreshold(t,e))),this.childD&&(n=n.concat(this.childD.cellsBelowThreshold(t,e))),this.childC&&(n=n.concat(this.childC.cellsBelowThreshold(t,e)))):(e||this.upperBound>=t)&&n.push({x:this.x,y:this.y})),n};var xa={square:function(t,e,n,r,i,o){o.polygons&&t.polygons.push([[0,0],[0,1],[1,1],[1,0]])},triangle_bl:function(t,e,n,r,i,o){var s=o.interpolate(e,n,o.minV,o.maxV),a=o.interpolate(e,i,o.minV,o.maxV);o.polygons_full&&(t.edges.lb={path:[[0,a],[s,0]],move:{x:0,y:-1,enter:"tl"}}),o.polygons&&t.polygons.push([[0,a],[s,0],[0,0]])},triangle_br:function(t,e,n,r,i,o){var s=o.interpolate(e,n,o.minV,o.maxV),a=o.interpolate(n,r,o.minV,o.maxV);o.polygons_full&&(t.edges.br={path:[[s,0],[1,a]],move:{x:1,y:0,enter:"lb"}}),o.polygons&&t.polygons.push([[s,0],[1,a],[1,0]])},triangle_tr:function(t,e,n,r,i,o){var s=o.interpolate(n,r,o.minV,o.maxV),a=o.interpolate(i,r,o.minV,o.maxV);o.polygons_full&&(t.edges.rt={path:[[1,s],[a,1]],move:{x:0,y:1,enter:"br"}}),o.polygons&&t.polygons.push([[1,s],[a,1],[1,1]])},triangle_tl:function(t,e,n,r,i,o){var s=o.interpolate(i,r,o.minV,o.maxV),a=o.interpolate(e,i,o.minV,o.maxV);o.polygons_full&&(t.edges.tl={path:[[s,1],[0,a]],move:{x:-1,y:0,enter:"rt"}}),o.polygons&&t.polygons.push([[0,a],[0,1],[s,1]])},tetragon_t:function(t,e,n,r,i,o){var s=o.interpolate(n,r,o.minV,o.maxV),a=o.interpolate(e,i,o.minV,o.maxV);o.polygons_full&&(t.edges.rt={path:[[1,s],[0,a]],move:{x:-1,y:0,enter:"rt"}}),o.polygons&&t.polygons.push([[0,a],[0,1],[1,1],[1,s]])},tetragon_r:function(t,e,n,r,i,o){var s=o.interpolate(e,n,o.minV,o.maxV),a=o.interpolate(i,r,o.minV,o.maxV);o.polygons_full&&(t.edges.br={path:[[s,0],[a,1]],move:{x:0,y:1,enter:"br"}}),o.polygons&&t.polygons.push([[s,0],[a,1],[1,1],[1,0]])},tetragon_b:function(t,e,n,r,i,o){var s=o.interpolate(e,i,o.minV,o.maxV),a=o.interpolate(n,r,o.minV,o.maxV);o.polygons_full&&(t.edges.lb={path:[[0,s],[1,a]],move:{x:1,y:0,enter:"lb"}}),o.polygons&&t.polygons.push([[0,0],[0,s],[1,a],[1,0]])},tetragon_l:function(t,e,n,r,i,o){var s=o.interpolate(i,r,o.minV,o.maxV),a=o.interpolate(e,n,o.minV,o.maxV);o.polygons_full&&(t.edges.tl={path:[[s,1],[a,0]],move:{x:0,y:-1,enter:"tl"}}),o.polygons&&t.polygons.push([[0,0],[0,1],[s,1],[a,0]])},tetragon_bl:function(t,e,n,r,i,o){var s=o.interpolate_a(e,n,o.minV,o.maxV),a=o.interpolate_b(e,n,o.minV,o.maxV),u=o.interpolate_a(e,i,o.minV,o.maxV),l=o.interpolate_b(e,i,o.minV,o.maxV);o.polygons_full&&(t.edges.bl={path:[[s,0],[0,u]],move:{x:-1,y:0,enter:"rb"}},t.edges.lt={path:[[0,l],[a,0]],move:{x:0,y:-1,enter:"tr"}}),o.polygons&&t.polygons.push([[s,0],[0,u],[0,l],[a,0]])},tetragon_br:function(t,e,n,r,i,o){var s=o.interpolate_a(e,n,o.minV,o.maxV),a=o.interpolate_b(e,n,o.minV,o.maxV),u=o.interpolate_a(n,r,o.minV,o.maxV),l=o.interpolate_b(n,r,o.minV,o.maxV);o.polygons_full&&(t.edges.bl={path:[[s,0],[1,l]],move:{x:1,y:0,enter:"lt"}},t.edges.rb={path:[[1,u],[a,0]],move:{x:0,y:-1,enter:"tr"}}),o.polygons&&t.polygons.push([[s,0],[1,l],[1,u],[a,0]])},tetragon_tr:function(t,e,n,r,i,o){var s=o.interpolate_a(i,r,o.minV,o.maxV),a=o.interpolate_b(i,r,o.minV,o.maxV),u=o.interpolate_b(n,r,o.minV,o.maxV),l=o.interpolate_a(n,r,o.minV,o.maxV);o.polygons_full&&(t.edges.rb={path:[[1,l],[s,1]],move:{x:0,y:1,enter:"bl"}},t.edges.tr={path:[[a,1],[1,u]],move:{x:1,y:0,enter:"lt"}}),o.polygons&&t.polygons.push([[1,l],[s,1],[a,1],[1,u]])},tetragon_tl:function(t,e,n,r,i,o){var s=o.interpolate_a(i,r,o.minV,o.maxV),a=o.interpolate_b(i,r,o.minV,o.maxV),u=o.interpolate_b(e,i,o.minV,o.maxV),l=o.interpolate_a(e,i,o.minV,o.maxV);o.polygons_full&&(t.edges.tr={path:[[a,1],[0,l]],move:{x:-1,y:0,enter:"rb"}},t.edges.lt={path:[[0,u],[s,1]],move:{x:0,y:1,enter:"bl"}}),o.polygons&&t.polygons.push([[a,1],[0,l],[0,u],[s,1]])},tetragon_lr:function(t,e,n,r,i,o){var s=o.interpolate_a(e,i,o.minV,o.maxV),a=o.interpolate_b(e,i,o.minV,o.maxV),u=o.interpolate_b(n,r,o.minV,o.maxV),l=o.interpolate_a(n,r,o.minV,o.maxV);o.polygons_full&&(t.edges.lt={path:[[0,a],[1,u]],move:{x:1,y:0,enter:"lt"}},t.edges.rb={path:[[1,l],[0,s]],move:{x:-1,y:0,enter:"rb"}}),o.polygons&&t.polygons.push([[0,s],[0,a],[1,u],[1,l]])},tetragon_tb:function(t,e,n,r,i,o){var s=o.interpolate_a(i,r,o.minV,o.maxV),a=o.interpolate_b(i,r,o.minV,o.maxV),u=o.interpolate_b(e,n,o.minV,o.maxV),l=o.interpolate_a(e,n,o.minV,o.maxV);o.polygons_full&&(t.edges.tr={path:[[a,1],[u,0]],move:{x:0,y:-1,enter:"tr"}},t.edges.bl={path:[[l,0],[s,1]],move:{x:0,y:1,enter:"bl"}}),o.polygons&&t.polygons.push([[l,0],[s,1],[a,1],[u,0]])},pentagon_tr:function(t,e,n,r,i,o){var s=o.interpolate(i,r,o.minV,o.maxV),a=o.interpolate(n,r,o.minV,o.maxV);o.polygons_full&&(t.edges.tl={path:[[s,1],[1,a]],move:{x:1,y:0,enter:"lb"}}),o.polygons&&t.polygons.push([[0,0],[0,1],[s,1],[1,a],[1,0]])},pentagon_tl:function(t,e,n,r,i,o){var s=o.interpolate(e,i,o.minV,o.maxV),a=o.interpolate(i,r,o.minV,o.maxV);o.polygons_full&&(t.edges.lb={path:[[0,s],[a,1]],move:{x:0,y:1,enter:"br"}}),o.polygons&&t.polygons.push([[0,0],[0,s],[a,1],[1,1],[1,0]])},pentagon_br:function(t,e,n,r,i,o){var s=o.interpolate(e,n,o.minV,o.maxV),a=o.interpolate(n,r,o.minV,o.maxV);o.polygons_full&&(t.edges.rt={path:[[1,a],[s,0]],move:{x:0,y:-1,enter:"tl"}}),o.polygons&&t.polygons.push([[0,0],[0,1],[1,1],[1,a],[s,0]])},pentagon_bl:function(t,e,n,r,i,o){var s=o.interpolate(e,i,o.minV,o.maxV),a=o.interpolate(e,n,o.minV,o.maxV);o.polygons_full&&(t.edges.br={path:[[a,0],[0,s]],move:{x:-1,y:0,enter:"rt"}}),o.polygons&&t.polygons.push([[0,s],[0,1],[1,1],[1,0],[a,0]])},pentagon_tr_rl:function(t,e,n,r,i,o){var s=o.interpolate(e,i,o.minV,o.maxV),a=o.interpolate(i,r,o.minV,o.maxV),u=o.interpolate_b(n,r,o.minV,o.maxV),l=o.interpolate_a(n,r,o.minV,o.maxV);o.polygons_full&&(t.edges.tl={path:[[a,1],[1,u]],move:{x:1,y:0,enter:"lt"}},t.edges.rb={path:[[1,l],[0,s]],move:{x:-1,y:0,enter:"rt"}}),o.polygons&&t.polygons.push([[0,s],[0,1],[a,1],[1,u],[1,l]])},pentagon_rb_bt:function(t,e,n,r,i,o){var s=o.interpolate(n,r,o.minV,o.maxV),a=o.interpolate_b(e,n,o.minV,o.maxV),u=o.interpolate_a(e,n,o.minV,o.maxV),l=o.interpolate(i,r,o.minV,o.maxV);o.polygons_full&&(t.edges.rt={path:[[1,s],[a,0]],move:{x:0,y:-1,enter:"tr"}},t.edges.bl={path:[[u,0],[l,1]],move:{x:0,y:1,enter:"br"}}),o.polygons&&t.polygons.push([[l,1],[1,1],[1,s],[a,0],[u,0]])},pentagon_bl_lr:function(t,e,n,r,i,o){var s=o.interpolate(e,n,o.minV,o.maxV),a=o.interpolate_a(e,i,o.minV,o.maxV),u=o.interpolate_b(e,i,o.minV,o.maxV),l=o.interpolate(n,r,o.minV,o.maxV);o.polygons_full&&(t.edges.br={path:[[s,0],[0,a]],move:{x:-1,y:0,enter:"rb"}},t.edges.lt={path:[[0,u],[1,l]],move:{x:1,y:0,enter:"lb"}}),o.polygons&&t.polygons.push([[s,0],[0,a],[0,u],[1,l],[1,0]])},pentagon_lt_tb:function(t,e,n,r,i,o){var s=o.interpolate(e,i,o.minV,o.maxV),a=o.interpolate_a(i,r,o.minV,o.maxV),u=o.interpolate_b(i,r,o.minV,o.maxV),l=o.interpolate(e,n,o.minV,o.maxV);o.polygons_full&&(t.edges.lb={path:[[0,s],[a,1]],move:{x:0,y:1,enter:"bl"}},t.edges.tr={path:[[u,1],[l,0]],move:{x:0,y:-1,enter:"tl"}}),o.polygons&&t.polygons.push([[0,0],[0,s],[a,1],[u,1],[l,0]])},pentagon_bl_tb:function(t,e,n,r,i,o){var s=o.interpolate(e,i,o.minV,o.maxV),a=o.interpolate(i,r,o.minV,o.maxV),u=o.interpolate_b(e,n,o.minV,o.maxV),l=o.interpolate_a(e,n,o.minV,o.maxV);o.polygons_full&&(t.edges.bl={path:[[l,0],[0,s]],move:{x:-1,y:0,enter:"rt"}},t.edges.tl={path:[[a,1],[u,0]],move:{x:0,y:-1,enter:"tr"}}),o.polygons&&t.polygons.push([[0,s],[0,1],[a,1],[u,0],[l,0]])},pentagon_lt_rl:function(t,e,n,r,i,o){var s=o.interpolate_a(e,i,o.minV,o.maxV),a=o.interpolate_b(e,i,o.minV,o.maxV),u=o.interpolate(i,r,o.minV,o.maxV),l=o.interpolate(n,i,o.minV,o.maxV);o.polygons_full&&(t.edges.lt={path:[[0,a],[u,1]],move:{x:0,y:1,enter:"br"}},t.edges.rt={path:[[1,l],[0,s]],move:{x:-1,y:0,enter:"rb"}}),o.polygons&&t.polygons.push([[0,s],[0,a],[u,1],[1,1],[1,l]])},pentagon_tr_bt:function(t,e,n,r,i,o){var s=o.interpolate_a(i,r,o.minV,o.maxV),a=o.interpolate_b(i,r,o.minV,o.maxV),u=o.interpolate(n,r,o.minV,o.maxV),l=o.interpolate(e,n,o.minV,o.maxV);o.polygons_full&&(t.edges.br={path:[[l,0],[s,1]],move:{x:0,y:1,enter:"bl"}},t.edges.tr={path:[[a,1],[1,u]],move:{x:1,y:0,enter:"lb"}}),o.polygons&&t.polygons.push([[s,1],[a,1],[1,u],[1,0],[l,0]])},pentagon_rb_lr:function(t,e,n,r,i,o){var s=o.interpolate(e,i,o.minV,o.maxV),a=o.interpolate_b(n,r,o.minV,o.maxV),u=o.interpolate_a(n,r,o.minV,o.maxV),l=o.interpolate(e,n,o.minV,o.maxV);o.polygons_full&&(t.edges.lb={path:[[0,s],[1,a]],move:{x:1,y:0,enter:"lt"}},t.edges.rb={path:[[1,u],[l,0]],move:{x:0,y:-1,enter:"tl"}}),o.polygons&&t.polygons.push([[0,0],[0,s],[1,a],[1,u],[l,0]])},hexagon_lt_tr:function(t,e,n,r,i,o){var s=o.interpolate(e,i,o.minV,o.maxV),a=o.interpolate_a(i,r,o.minV,o.maxV),u=o.interpolate_b(i,r,o.minV,o.maxV),l=o.interpolate(n,r,o.minV,o.maxV);o.polygons_full&&(t.edges.lb={path:[[0,s],[a,1]],move:{x:0,y:1,enter:"bl"}},t.edges.tr={path:[[u,1],[1,l]],move:{x:1,y:0,enter:"lb"}}),o.polygons&&t.polygons.push([[0,0],[0,s],[a,1],[u,1],[1,l],[1,0]])},hexagon_bl_lt:function(t,e,n,r,i,o){var s=o.interpolate(e,n,o.minV,o.maxV),a=o.interpolate_a(e,i,o.minV,o.maxV),u=o.interpolate_b(e,i,o.minV,o.maxV),l=o.interpolate(i,r,o.minV,o.maxV);o.polygons_full&&(t.edges.br={path:[[s,0],[0,a]],move:{x:-1,y:0,enter:"rb"}},t.edges.lt={path:[[0,u],[l,1]],move:{x:0,y:1,enter:"br"}}),o.polygons&&t.polygons.push([[s,0],[0,a],[0,u],[l,1],[1,1],[1,0]])},hexagon_bl_rb:function(t,e,n,r,i,o){var s=o.interpolate_a(e,n,o.minV,o.maxV),a=o.interpolate_b(e,n,o.minV,o.maxV),u=o.interpolate(e,i,o.minV,o.maxV),l=o.interpolate(n,r,o.minV,o.maxV);o.polygons_full&&(t.edges.bl={path:[[s,0],[0,u]],move:{x:-1,y:0,enter:"rt"}},t.edges.rt={path:[[1,l],[a,0]],move:{x:0,y:-1,enter:"tr"}}),o.polygons&&t.polygons.push([[s,0],[0,u],[0,1],[1,1],[1,l],[a,0]])},hexagon_tr_rb:function(t,e,n,r,i,o){var s=o.interpolate(e,n,o.minV,o.maxV),a=o.interpolate(i,r,o.minV,o.maxV),u=o.interpolate_b(n,r,o.minV,o.maxV),l=o.interpolate_a(n,r,o.minV,o.maxV);o.polygons_full&&(t.edges.tl={path:[[a,1],[1,u]],move:{x:1,y:0,enter:"lt"}},t.edges.rb={path:[[1,l],[s,0]],move:{x:0,y:-1,enter:"tl"}}),o.polygons&&t.polygons.push([[0,0],[0,1],[a,1],[1,u],[1,l],[s,0]])},hexagon_lt_rb:function(t,e,n,r,i,o){var s=o.interpolate(e,i,o.minV,o.maxV),a=o.interpolate(i,r,o.minV,o.maxV),u=o.interpolate(n,r,o.minV,o.maxV),l=o.interpolate(e,n,o.minV,o.maxV);o.polygons_full&&(t.edges.lb={path:[[0,s],[a,1]],move:{x:0,y:1,enter:"br"}},t.edges.rt={path:[[1,u],[l,0]],move:{x:0,y:-1,enter:"tl"}}),o.polygons&&t.polygons.push([[0,0],[0,s],[a,1],[1,1],[1,u],[l,0]])},hexagon_bl_tr:function(t,e,n,r,i,o){var s=o.interpolate(e,n,o.minV,o.maxV),a=o.interpolate(e,i,o.minV,o.maxV),u=o.interpolate(i,r,o.minV,o.maxV),l=o.interpolate(n,r,o.minV,o.maxV);o.polygons_full&&(t.edges.br={path:[[s,0],[0,a]],move:{x:-1,y:0,enter:"rt"}},t.edges.tl={path:[[u,1],[1,l]],move:{x:1,y:0,enter:"lb"}}),o.polygons&&t.polygons.push([[s,0],[0,a],[0,1],[u,1],[1,l],[1,0]])},heptagon_tr:function(t,e,n,r,i,o){var s=o.interpolate_a(e,n,o.minV,o.maxV),a=o.interpolate_b(e,n,o.minV,o.maxV),u=o.interpolate_a(e,i,o.minV,o.maxV),l=o.interpolate_b(e,i,o.minV,o.maxV),h=o.interpolate(i,r,o.minV,o.maxV),c=o.interpolate(n,r,o.minV,o.maxV);o.polygons_full&&(t.edges.bl={path:[[s,0],[0,u]],move:{x:-1,y:0,enter:"rb"}},t.edges.lt={path:[[0,l],[h,1]],move:{x:0,y:1,enter:"br"}},t.edges.rt={path:[[1,c],[a,0]],move:{x:0,y:-1,enter:"tr"}}),o.polygons&&t.polygons.push([[s,0],[0,u],[0,l],[h,1],[1,1],[1,c],[a,0]])},heptagon_bl:function(t,e,n,r,i,o){var s=o.interpolate(e,n,o.minV,o.maxV),a=o.interpolate(e,i,o.minV,o.maxV),u=o.interpolate_a(i,r,o.minV,o.maxV),l=o.interpolate_b(i,r,o.minV,o.maxV),h=o.interpolate_b(n,r,o.minV,o.maxV),c=o.interpolate_a(n,r,o.minV,o.maxV);o.polygons_full&&(t.edges.lb={path:[[0,a],[u,1]],move:{x:0,y:1,enter:"bl"}},t.edges.tr={path:[[l,1],[1,h]],move:{x:1,y:0,enter:"lt"}},t.edges.rb={path:[[1,c],[s,0]],move:{x:0,y:-1,enter:"tl"}}),o.polygons&&t.polygons.push([[0,0],[0,a],[u,1],[l,1],[1,h],[1,c],[s,0]])},heptagon_tl:function(t,e,n,r,i,o){var s=o.interpolate_a(e,n,o.minV,o.maxV),a=o.interpolate_b(e,n,o.minV,o.maxV),u=o.interpolate(e,i,o.minV,o.maxV),l=o.interpolate(i,r,o.minV,o.maxV),h=o.interpolate_b(n,r,o.minV,o.maxV),c=o.interpolate_a(n,r,o.minV,o.maxV);o.polygons_full&&(t.edges.bl={path:[[s,0],[0,u]],move:{x:-1,y:0,enter:"rt"}},t.edges.tl={path:[[l,1],[1,h]],move:{x:1,y:0,enter:"lt"}},t.edges.rb={path:[[1,c],[a,0]],move:{x:0,y:-1,enter:"tr"}}),o.polygons&&t.polygons.push([[s,0],[0,u],[0,1],[l,1],[1,h],[1,c],[a,0]])},heptagon_br:function(t,e,n,r,i,o){var s=o.interpolate(e,n,o.minV,o.maxV),a=o.interpolate_a(e,i,o.minV,o.maxV),u=o.interpolate_b(e,i,o.minV,o.maxV),l=o.interpolate_a(i,r,o.minV,o.maxV),h=o.interpolate_b(i,r,o.minV,o.maxV),c=o.interpolate(n,r,o.minV,o.maxV);o.polygons_full&&(t.edges.br={path:[[s,0],[0,a]],move:{x:-1,y:0,enter:"rb"}},t.edges.lt={path:[[0,u],[l,1]],move:{x:0,y:1,enter:"bl"}},t.edges.tr={path:[[h,1],[1,c]],move:{x:1,y:0,enter:"lb"}}),o.polygons&&t.polygons.push([[s,0],[0,a],[0,u],[l,1],[h,1],[1,c],[1,0]])},octagon:function(t,e,n,r,i,o){var s=o.interpolate_a(e,n,o.minV,o.maxV),a=o.interpolate_b(e,n,o.minV,o.maxV),u=o.interpolate_a(e,i,o.minV,o.maxV),l=o.interpolate_b(e,i,o.minV,o.maxV),h=o.interpolate_a(i,r,o.minV,o.maxV),c=o.interpolate_b(i,r,o.minV,o.maxV),f=o.interpolate_b(n,r,o.minV,o.maxV),g=o.interpolate_a(n,r,o.minV,o.maxV);o.polygons_full&&(t.edges.bl={path:[[s,0],[0,u]],move:{x:-1,y:0,enter:"rb"}},t.edges.lt={path:[[0,l],[h,1]],move:{x:0,y:1,enter:"bl"}},t.edges.tr={path:[[c,1],[1,f]],move:{x:1,y:0,enter:"lt"}},t.edges.rb={path:[[1,g],[a,0]],move:{x:0,y:-1,enter:"tr"}}),o.polygons&&t.polygons.push([[s,0],[0,u],[0,l],[h,1],[c,1],[1,f],[1,g],[a,0]])}};function Ea(t,e,n,r){var i,o,s,a=!1,u=null,l=null,h=null,c=null,f=!1,g=[],p=[],v=[];if(!t)throw new Error("data is required");if(null==e)throw new Error("lowerBound is required");if(null==n)throw new Error("bandWidth is required");if(s=function(t){var e,n,r,i,o;for(i=new fa,t=t||{},o=Object.keys(i),e=0;e<o.length;e++)null!=(r=t[n=o[e]])&&(i[n]=r);return i.polygons_full=!i.polygons,i.interpolate=la,i.interpolate_a=ha,i.interpolate_b=ca,i}(r),t instanceof ya)u=t,l=t.root,h=t.data,s.noQuadTree||(a=!0);else{if(!Array.isArray(t)||!Array.isArray(t[0]))throw new Error("input is neither array of arrays nor object retrieved from 'QuadTree()'");h=t}if(Array.isArray(e)){for(f=!0,s.noQuadTree||(a=!0),i=0;i<e.length;i++)if(isNaN(+e[i]))throw new Error("lowerBound["+i+"] is not a number");if(Array.isArray(n)){if(e.length!==n.length)throw new Error("lowerBound and bandWidth have unequal lengths");for(i=0;i<n.length;i++)if(isNaN(+n[i]))throw new Error("bandWidth["+i+"] is not a number")}else{if(isNaN(+n))throw new Error("bandWidth must be a number");for(g=[],i=0;i<e.length;i++)g.push(n);n=g}}else{if(isNaN(+e))throw new Error("lowerBound must be a number");if(e=[e],isNaN(+n))throw new Error("bandWidth must be a number");n=[n]}return a&&!l&&(u=new ya(h),l=u.root,h=u.data),s.verbose&&(s.polygons?console.log("MarchingSquaresJS-isoBands: returning single polygons for each grid cell"):console.log("MarchingSquaresJS-isoBands: returning polygon paths for entire data grid"),f&&console.log("MarchingSquaresJS-isoBands: multiple bands requested, returning array of band polygons instead of polygons for a single band")),e.forEach((function(t,e){if(p=[],s.minV=t,s.maxV=t+n[e],s.verbose&&console.log("MarchingSquaresJS-isoBands: computing isobands for ["+t+":"+(t+n[e])+"]"),s.polygons)if(a)l.cellsInBand(s.minV,s.maxV,!0).forEach((function(t){p=p.concat(ga(ba(h,t.x,t.y,s),t.x,t.y,s))}));else for(o=0;o<h.length-1;++o)for(i=0;i<h[0].length-1;++i)p=p.concat(ga(ba(h,i,o,s),i,o,s));else{for(c=[],i=0;i<h[0].length-1;++i)c[i]=[];if(a)l.cellsInBand(s.minV,s.maxV,!1).forEach((function(t){c[t.x][t.y]=ba(h,t.x,t.y,s)}));else for(i=0;i<h[0].length-1;++i)for(o=0;o<h.length-1;++o)c[i][o]=ba(h,i,o,s);p=function(t,e,n){var r,i,o,s,a,u,l,h,c,f,g,p,v,d,y,_,x=[],E=t.length-1,k=t[0].length-1,b=[["rt","rb"],["br","bl"],["lb","lt"],["tl","tr"]],w=[0,-1,0,1],I=[-1,0,1,0],N=["bl","lb","lt","tl","tr","rt","rb","br"],S={bl:1,br:1,lb:2,lt:2,tl:3,tr:3,rt:0,rb:0};return function(t,e,n){var r,i,o,s,a;for(r=!0,i=t[0].length,o=t.length,a=0;a<o;a++)if(t[a][0]<e||t[a][0]>n||t[a][i-1]<e||t[a][i-1]>n){r=!1;break}if(r&&(t[o-1][0]<e||t[o-1][0]>n||t[o-1][i-1]<e||t[o-1][i-1]>n)&&(r=!1),r)for(s=0;s<i-1;s++)if(t[0][s]<e||t[0][s]>n||t[o-1][s]<e||t[o-1][s]>n){r=!1;break}return r}(t,n.minV,n.maxV)&&(n.linearRing?x.push([[0,0],[0,E],[k,E],[k,0],[0,0]]):x.push([[0,0],[0,E],[k,E],[k,0]])),e.forEach((function(t,M){t.forEach((function(t,L){for(r=null,o=0;o<8;o++)if(r=N[o],"object"===m(t.edges[r])){for(i=[],s=t.edges[r],l=r,h=M,c=L,f=!1,g=[M+s.path[0][0],L+s.path[0][1]],i.push(g);!f&&"object"===m((p=e[h][c]).edges[l]);)if(s=p.edges[l],delete p.edges[l],(y=s.path[1])[0]+=h,y[1]+=c,i.push(y),l=s.move.enter,h+=s.move.x,c+=s.move.y,void 0===e[h]||void 0===e[h][c]){if(v=0,d=0,h===k)h--,v=0;else if(h<0)h++,v=2;else if(c===E)c--,v=3;else{if(!(c<0))throw new Error("Left the grid somewhere in the interior!");c++,v=1}if(h===M&&c===L&&v===S[r]){f=!0,l=r;break}for(;;){if(_=!1,d>4)throw new Error("Direction change counter overflow! This should never happen!");if(void 0!==e[h]&&void 0!==e[h][c])for(p=e[h][c],a=0;a<b[v].length;a++)if(u=b[v][a],"object"===m(p.edges[u])){s=p.edges[u],i.push(pa(h,c,v,s.path)),l=u,_=!0;break}if(_)break;if(i.push(va(h,c,v)),c+=I[v],void 0!==e[h+=w[v]]&&void 0!==e[h][c]||(0===v&&c<0||1===v&&h<0||2===v&&c===E||3===v&&h===k)&&(h-=w[v],c-=I[v],v=(v+1)%4,d++),h===M&&c===L&&v===S[r]){f=!0,l=r;break}}}!n.linearRing||i[i.length-1][0]===g[0]&&i[i.length-1][1]===g[1]||i.push(g),x.push(i)}}))})),x}(h,c,s)}f?v.push(p):v=p,"function"==typeof s.successCallback&&s.successCallback(v,t,n[e])})),v}function ka(t,e,n,r,i,o){var s=(r+n+e+t)/4;return s>o?2:s<i?0:1}function ba(t,e,n,r){var i,o,s=0,a=t[n+1][e],u=t[n+1][e+1],l=t[n][e+1],h=t[n][e],c=r.minV,f=r.maxV;if(!(isNaN(h)||isNaN(l)||isNaN(u)||isNaN(a))){switch(s|=a<c?0:a>f?128:64,s|=u<c?0:u>f?32:16,s|=l<c?0:l>f?8:4,o=0,i={cval:s=+(s|=h<c?0:h>f?2:1),polygons:[],edges:{},x0:h,x1:l,x2:u,x3:a,x:e,y:n},s){case 85:xa.square(i,h,l,u,a,r);case 0:case 170:break;case 169:xa.triangle_bl(i,h,l,u,a,r);break;case 166:xa.triangle_br(i,h,l,u,a,r);break;case 154:xa.triangle_tr(i,h,l,u,a,r);break;case 106:xa.triangle_tl(i,h,l,u,a,r);break;case 1:xa.triangle_bl(i,h,l,u,a,r);break;case 4:xa.triangle_br(i,h,l,u,a,r);break;case 16:xa.triangle_tr(i,h,l,u,a,r);break;case 64:xa.triangle_tl(i,h,l,u,a,r);break;case 168:xa.tetragon_bl(i,h,l,u,a,r);break;case 162:xa.tetragon_br(i,h,l,u,a,r);break;case 138:xa.tetragon_tr(i,h,l,u,a,r);break;case 42:xa.tetragon_tl(i,h,l,u,a,r);break;case 2:xa.tetragon_bl(i,h,l,u,a,r);break;case 8:xa.tetragon_br(i,h,l,u,a,r);break;case 32:xa.tetragon_tr(i,h,l,u,a,r);break;case 128:xa.tetragon_tl(i,h,l,u,a,r);break;case 5:xa.tetragon_b(i,h,l,u,a,r);break;case 20:xa.tetragon_r(i,h,l,u,a,r);break;case 80:xa.tetragon_t(i,h,l,u,a,r);break;case 65:xa.tetragon_l(i,h,l,u,a,r);break;case 165:xa.tetragon_b(i,h,l,u,a,r);break;case 150:xa.tetragon_r(i,h,l,u,a,r);break;case 90:xa.tetragon_t(i,h,l,u,a,r);break;case 105:xa.tetragon_l(i,h,l,u,a,r);break;case 160:xa.tetragon_lr(i,h,l,u,a,r);break;case 130:xa.tetragon_tb(i,h,l,u,a,r);break;case 10:xa.tetragon_lr(i,h,l,u,a,r);break;case 40:xa.tetragon_tb(i,h,l,u,a,r);break;case 101:xa.pentagon_tr(i,h,l,u,a,r);break;case 149:xa.pentagon_tl(i,h,l,u,a,r);break;case 86:xa.pentagon_bl(i,h,l,u,a,r);break;case 89:xa.pentagon_br(i,h,l,u,a,r);break;case 69:xa.pentagon_tr(i,h,l,u,a,r);break;case 21:xa.pentagon_tl(i,h,l,u,a,r);break;case 84:xa.pentagon_bl(i,h,l,u,a,r);break;case 81:xa.pentagon_br(i,h,l,u,a,r);break;case 96:xa.pentagon_tr_rl(i,h,l,u,a,r);break;case 24:xa.pentagon_rb_bt(i,h,l,u,a,r);break;case 6:xa.pentagon_bl_lr(i,h,l,u,a,r);break;case 129:xa.pentagon_lt_tb(i,h,l,u,a,r);break;case 74:xa.pentagon_tr_rl(i,h,l,u,a,r);break;case 146:xa.pentagon_rb_bt(i,h,l,u,a,r);break;case 164:xa.pentagon_bl_lr(i,h,l,u,a,r);break;case 41:xa.pentagon_lt_tb(i,h,l,u,a,r);break;case 66:xa.pentagon_bl_tb(i,h,l,u,a,r);break;case 144:xa.pentagon_lt_rl(i,h,l,u,a,r);break;case 36:xa.pentagon_tr_bt(i,h,l,u,a,r);break;case 9:xa.pentagon_rb_lr(i,h,l,u,a,r);break;case 104:xa.pentagon_bl_tb(i,h,l,u,a,r);break;case 26:xa.pentagon_lt_rl(i,h,l,u,a,r);break;case 134:xa.pentagon_tr_bt(i,h,l,u,a,r);break;case 161:xa.pentagon_rb_lr(i,h,l,u,a,r);break;case 37:xa.hexagon_lt_tr(i,h,l,u,a,r);break;case 148:xa.hexagon_bl_lt(i,h,l,u,a,r);break;case 82:xa.hexagon_bl_rb(i,h,l,u,a,r);break;case 73:xa.hexagon_tr_rb(i,h,l,u,a,r);break;case 133:xa.hexagon_lt_tr(i,h,l,u,a,r);break;case 22:xa.hexagon_bl_lt(i,h,l,u,a,r);break;case 88:xa.hexagon_bl_rb(i,h,l,u,a,r);break;case 97:xa.hexagon_tr_rb(i,h,l,u,a,r);break;case 145:case 25:xa.hexagon_lt_rb(i,h,l,u,a,r);break;case 70:case 100:xa.hexagon_bl_tr(i,h,l,u,a,r);break;case 17:0===(o=ka(h,l,u,a,c,f))?(xa.triangle_bl(i,h,l,u,a,r),xa.triangle_tr(i,h,l,u,a,r)):xa.hexagon_lt_rb(i,h,l,u,a,r);break;case 68:0===(o=ka(h,l,u,a,c,f))?(xa.triangle_tl(i,h,l,u,a,r),xa.triangle_br(i,h,l,u,a,r)):xa.hexagon_bl_tr(i,h,l,u,a,r);break;case 153:2===(o=ka(h,l,u,a,c,f))?(xa.triangle_bl(i,h,l,u,a,r),xa.triangle_tr(i,h,l,u,a,r)):xa.hexagon_lt_rb(i,h,l,u,a,r);break;case 102:2===(o=ka(h,l,u,a,c,f))?(xa.triangle_tl(i,h,l,u,a,r),xa.triangle_br(i,h,l,u,a,r)):xa.hexagon_bl_tr(i,h,l,u,a,r);break;case 152:2===(o=ka(h,l,u,a,c,f))?(xa.triangle_tr(i,h,l,u,a,r),xa.tetragon_bl(i,h,l,u,a,r)):xa.heptagon_tr(i,h,l,u,a,r);break;case 137:2===(o=ka(h,l,u,a,c,f))?(xa.triangle_bl(i,h,l,u,a,r),xa.tetragon_tr(i,h,l,u,a,r)):xa.heptagon_bl(i,h,l,u,a,r);break;case 98:2===(o=ka(h,l,u,a,c,f))?(xa.triangle_tl(i,h,l,u,a,r),xa.tetragon_br(i,h,l,u,a,r)):xa.heptagon_tl(i,h,l,u,a,r);break;case 38:2===(o=ka(h,l,u,a,c,f))?(xa.triangle_br(i,h,l,u,a,r),xa.tetragon_tl(i,h,l,u,a,r)):xa.heptagon_br(i,h,l,u,a,r);break;case 18:0===(o=ka(h,l,u,a,c,f))?(xa.triangle_tr(i,h,l,u,a,r),xa.tetragon_bl(i,h,l,u,a,r)):xa.heptagon_tr(i,h,l,u,a,r);break;case 33:0===(o=ka(h,l,u,a,c,f))?(xa.triangle_bl(i,h,l,u,a,r),xa.tetragon_tr(i,h,l,u,a,r)):xa.heptagon_bl(i,h,l,u,a,r);break;case 72:0===(o=ka(h,l,u,a,c,f))?(xa.triangle_tl(i,h,l,u,a,r),xa.tetragon_br(i,h,l,u,a,r)):xa.heptagon_tl(i,h,l,u,a,r);break;case 132:0===(o=ka(h,l,u,a,c,f))?(xa.triangle_br(i,h,l,u,a,r),xa.tetragon_tl(i,h,l,u,a,r)):xa.heptagon_br(i,h,l,u,a,r);break;case 136:0===(o=ka(h,l,u,a,c,f))?(xa.tetragon_tl(i,h,l,u,a,r),xa.tetragon_br(i,h,l,u,a,r)):1===o?xa.octagon(i,h,l,u,a,r):(xa.tetragon_bl(i,h,l,u,a,r),xa.tetragon_tr(i,h,l,u,a,r));break;case 34:0===(o=ka(h,l,u,a,c,f))?(xa.tetragon_bl(i,h,l,u,a,r),xa.tetragon_tr(i,h,l,u,a,r)):1===o?xa.octagon(i,h,l,u,a,r):(xa.tetragon_tl(i,h,l,u,a,r),xa.tetragon_br(i,h,l,u,a,r))}return i}}var wa=Object.defineProperty,Ia=Object.getOwnPropertySymbols,Na=Object.prototype.hasOwnProperty,Sa=Object.prototype.propertyIsEnumerable,Ma=function(t,e,n){return e in t?wa(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},La=function(t,e){for(var n in e||(e={}))Na.call(e,n)&&Ma(t,n,e[n]);if(Ia){var r,i=a(Ia(e));try{for(i.s();!(r=i.n()).done;){n=r.value;Sa.call(e,n)&&Ma(t,n,e[n])}}catch(t){i.e(t)}finally{i.f()}}return t};function Pa(t,e){if(!Z(e=e||{}))throw new Error("options is invalid");var n=e.zProperty||"elevation",r=e.flip,i=e.flags;nt(t,"Point","input must contain Points");for(var o=function(t,e){var n={};vt(t,(function(t){var e=Q(t)[1];n[e]||(n[e]=[]),n[e].push(t)}));var r=Object.keys(n).map((function(t){return n[t].sort((function(t,e){return Q(t)[0]-Q(e)[0]}))})),i=r.sort((function(t,n){return e?Q(t[0])[1]-Q(n[0])[1]:Q(n[0])[1]-Q(t[0])[1]}));return i}(t,r),s=[],a=0;a<o.length;a++){for(var u=o[a],l=[],h=0;h<u.length;h++){var c=u[h];c.properties[n]?l.push(c.properties[n]):l.push(0),!0===i&&(c.properties.matrixPosition=[a,h])}s.push(l)}return s}function Ca(t){var e=t.map((function(t){return{ring:t,area:Lt(S([t]))}}));return e.sort((function(t,e){return e.area-t.area})),e.map((function(t){return t.ring}))}function Ta(t){for(var e=t.map((function(t){return{lrCoordinates:t,grouped:!1}})),n=[];!Ra(e);)for(var r=0;r<e.length;r++)if(!e[r].grouped){var i=[];i.push(e[r].lrCoordinates),e[r].grouped=!0;for(var o=S([e[r].lrCoordinates]),s=r+1;s<e.length;s++){if(!e[s].grouped)Oa(S([e[s].lrCoordinates]),o)&&(i.push(e[s].lrCoordinates),e[s].grouped=!0)}n.push(i)}return n}function Oa(t,e){for(var n=Zs(t),r=0;r<n.features.length;r++)if(!zt(n.features[r],e))return!1;return!0}function Ra(t){for(var e=0;e<t.length;e++)if(!1===t[e].grouped)return!1;return!0}var Aa=Object.defineProperty,Da=Object.getOwnPropertySymbols,Fa=Object.prototype.hasOwnProperty,qa=Object.prototype.propertyIsEnumerable,Va=function(t,e,n){return e in t?Aa(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},Ga=function(t,e){for(var n in e||(e={}))Fa.call(e,n)&&Va(t,n,e[n]);if(Da){var r,i=a(Da(e));try{for(i.s();!(r=i.n()).done;){n=r.value;qa.call(e,n)&&Va(t,n,e[n])}}catch(t){i.e(t)}finally{i.f()}}return t};function Ba(t,e){if(!Z(e=e||{}))throw new Error("options is invalid");var n=e.zProperty||"elevation",r=e.flip,i=e.flags;nt(t,"Point","input must contain Points");for(var o=function(t,e){var n={};vt(t,(function(t){var e=Q(t)[1];n[e]||(n[e]=[]),n[e].push(t)}));var r=Object.keys(n).map((function(t){return n[t].sort((function(t,e){return Q(t)[0]-Q(e)[0]}))})),i=r.sort((function(t,n){return e?Q(t[0])[1]-Q(n[0])[1]:Q(n[0])[1]-Q(t[0])[1]}));return i}(t,r),s=[],a=0;a<o.length;a++){for(var u=o[a],l=[],h=0;h<u.length;h++){var c=u[h];c.properties[n]?l.push(c.properties[n]):l.push(0),!0===i&&(c.properties.matrixPosition=[a,h])}s.push(l)}return s}function Ya(t,e,n,r,i,o,s,a){var u,l,h,c,f={x:null,y:null,onLine1:!1,onLine2:!1};return 0===(u=(a-o)*(n-t)-(s-i)*(r-e))?null!==f.x&&null!==f.y&&f:(c=(n-t)*(l=e-o)-(r-e)*(h=t-i),l=((s-i)*l-(a-o)*h)/u,h=c/u,f.x=t+l*(n-t),f.y=e+l*(r-e),l>=0&&l<=1&&(f.onLine1=!0),h>=0&&h<=1&&(f.onLine2=!0),!(!f.onLine1||!f.onLine2)&&[f.x,f.y])}function za(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return bt(t,(function(t,n){var r=n.geometry.coordinates;return t+ut(r[0],r[1],e)}),0)}function ja(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=i.steps||64,s=Xa(n),a=Xa(r),u=Array.isArray(t)||"Feature"!==t.type?{}:t.properties;if(s===a)return L(Ri(t,e,i).geometry.coordinates[0],u);for(var l=s,h=s<a?a:a+360,c=l,f=[],g=0,p=(h-l)/o;c<=h;)f.push(at(t,e,c,i).geometry.coordinates),c=l+ ++g*p;return L(f,u)}function Xa(t){var e=t%360;return e<0&&(e+=360),e}function Ua(t,e,n,r){if(!Z(r=r||{}))throw new Error("options is invalid");var i,o=[];if("Feature"===t.type)i=t.geometry.coordinates;else{if("LineString"!==t.type)throw new Error("input must be a LineString Feature or Geometry");i=t.coordinates}for(var s,a,u,l=i.length,h=0,c=0;c<i.length&&!(e>=h&&c===i.length-1);c++){if(h>e&&0===o.length){if(!(s=e-h))return o.push(i[c]),L(o);a=st(i[c],i[c-1])-180,u=at(i[c],s,a,r),o.push(u.geometry.coordinates)}if(h>=n)return(s=n-h)?(a=st(i[c],i[c-1])-180,u=at(i[c],s,a,r),o.push(u.geometry.coordinates),L(o)):(o.push(i[c]),L(o));if(h>=e&&o.push(i[c]),c===i.length-1)return L(o);h+=ut(i[c],i[c+1],r)}if(h<e&&i.length===l)throw new Error("Start position is beyond line");var f=i[i.length-1];return L([f,f])}function Za(t){var e=t[0],n=t[1];return[n[0]-e[0],n[1]-e[1]]}function Ha(t,e){return t[0]*e[1]-e[0]*t[1]}function Wa(t,e){return!function(t,e){return 0===Ha(Za(t),Za(e))}(t,e)&&function(t,e){var n,r,i=t[0],o=Za(t),s=e[0],a=Za(e),u=Ha(o,a),l=function(t,e){return[t[0]+e[0],t[1]+e[1]]}(i,function(t,e){return[t*e[0],t*e[1]]}(Ha((r=i,[(n=s)[0]-r[0],n[1]-r[1]]),a)/u,o));return l}(t,e)}function Ja(t,e,n){var r=[],i=V(e,n),o=Q(t),s=[];return o.forEach((function(t,e){if(e!==o.length-1){var n=(l=t,h=o[e+1],c=i,f=Math.sqrt((l[0]-h[0])*(l[0]-h[0])+(l[1]-h[1])*(l[1]-h[1])),g=l[0]+c*(h[1]-l[1])/f,p=h[0]+c*(h[1]-l[1])/f,v=l[1]+c*(l[0]-h[0])/f,d=h[1]+c*(l[0]-h[0])/f,[[g,v],[p,d]]);if(r.push(n),e>0){var a=r[e-1],u=Wa(n,a);!1!==u&&(a[1]=u,n[0]=u),s.push(a[0]),e===o.length-2&&(s.push(n[0]),s.push(n[1]))}2===o.length&&(s.push(n[0]),s.push(n[1]))}var l,h,c,f,g,p,v,d})),L(s,t.properties)}function Ka(t){var e=t[0],n=t[1],r=t[2],i=t[3];if(ut(t.slice(0,2),[r,n])>=ut(t.slice(0,2),[e,i])){var o=(n+i)/2;return[e,o-(r-e)/2,r,o+(r-e)/2]}var s=(e+r)/2;return[s-(i-n)/2,n,s+(i-n)/2,i]}function Qa(t,e){if(!Z(e=null!=e?e:{}))throw new Error("options is invalid");var n=e.precision,r=e.coordinates,i=e.mutate;if(n=null==n||isNaN(n)?6:n,r=null==r||isNaN(r)?3:r,!t)throw new Error("<geojson> is required");if("number"!=typeof n)throw new Error("<precision> must be a number");if("number"!=typeof r)throw new Error("<coordinates> must be a number");!1!==i&&void 0!==i||(t=JSON.parse(JSON.stringify(t)));var o=Math.pow(10,n);return ct(t,(function(t){!function(t,e,n){t.length>n&&t.splice(n,t.length);for(var r=0;r<t.length;r++)t[r]=Math.round(t[r]*e)/e}(t,o,r)})),t}function $a(t,e){var n=[],r=Qe();return xt(e,(function(e){if(n.forEach((function(t,e){t.id=e})),n.length){var i=r.search(e);if(i.features.length){var o=eu(e,i);n=n.filter((function(t){return t.id!==o.id})),r.remove(o),vt(tu(o,e),(function(t){n.push(t),r.insert(t)}))}}else(n=tu(t,e).features).forEach((function(t){t.bbox||(t.bbox=Ka(Rt(t)))})),r.load(C(n))})),C(n)}function tu(t,e){var n=[],r=Q(t)[0],i=Q(t)[t.geometry.coordinates.length-1];if(nu(r,K(e))||nu(i,K(e)))return C([t]);var o=Qe(),s=$e(t);o.load(s);var a=o.search(e);if(!a.features.length)return C([t]);var u=eu(e,a),l=dt(s,(function(t,r,i){var o=Q(r)[1],s=K(e);return i===u.id?(t.push(s),n.push(L(t)),nu(s,o)?[s]:[s,o]):(t.push(o),t)}),[r]);return l.length>1&&n.push(L(l)),C(n)}function eu(t,e){if(!e.features.length)throw new Error("lines must contain features");if(1===e.features.length)return e.features[0];var n,r=1/0;return vt(e,(function(e){var i=fn(e,t).properties.dist;i<r&&(n=e,r=i)})),n}function nu(t,e){return t[0]===e[0]&&t[1]===e[1]}function ru(t,e,n,r){e=e||("Feature"===t.type?t.properties:{});var i=rt(t),o=i.coordinates,s=i.type;if(!o.length)throw new Error("line must contain coordinates");switch(s){case"LineString":return n&&(o=iu(o)),S([o],e);case"MultiLineString":var a=[],u=0;return o.forEach((function(t){if(n&&(t=iu(t)),r){var e=function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.abs(e-r)*Math.abs(n-i)}(Rt(L(t)));e>u?(a.unshift(t),u=e):a.push(t)}else a.push(t)})),S(a,e);default:throw new Error("geometry type "+s+" is not supported")}}function iu(t){var e=t[0],n=e[0],r=e[1],i=t[t.length-1],o=i[0],s=i[1];return n===o&&r===s||t.push(e),t}function ou(t){return R(t)}function su(t){var e=[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]];return t&&(e="Feature"===t.type?t.geometry.coordinates:t.coordinates),S(e)}function au(t){var e,n=0,r=a(t);try{for(r.s();!(e=r.n()).done;){n+=e.value}}catch(t){r.e(t)}finally{r.f()}return n/t.length}var uu=Object.defineProperty,lu=Object.defineProperties,hu=Object.getOwnPropertyDescriptors,cu=Object.getOwnPropertySymbols,fu=Object.prototype.hasOwnProperty,gu=Object.prototype.propertyIsEnumerable,pu=function(t,e,n){return e in t?uu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},vu=function(t,e){for(var n in e||(e={}))fu.call(e,n)&&pu(t,n,e[n]);if(cu){var r,i=a(cu(e));try{for(i.s();!(r=i.n()).done;){n=r.value;gu.call(e,n)&&pu(t,n,e[n])}}catch(t){i.e(t)}finally{i.f()}}return t},du=function(t,e){return lu(t,hu(e))};function yu(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t)throw new Error("targetPoint is required");if(!e)throw new Error("points is required");var r=1/0,i=0;vt(e,(function(e,o){var s=ut(t,e,n);s<r&&(i=o,r=s)}));var o=Ai(e.features[i]);return du(vu({},o),{properties:du(vu({},o.properties),{featureIndex:i,distanceToPoint:r})})}function mu(t,e){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=null!=(n=i.method)?n:"geodesic",s=null!=(r=i.units)?r:"kilometers";if(!t)throw new Error("pt is required");if(Array.isArray(t)?t=I(t):"Point"===t.type?t=b(t):et(t,"Point","point"),!e)throw new Error("line is required");Array.isArray(e)?e=L(e):"LineString"===e.type?e=b(e):et(e,"LineString","line");var a=1/0,u=t.geometry.coordinates;return kt(e,(function(t){if(t){var e=t.geometry.coordinates[0],n=t.geometry.coordinates[1],r=function(t,e,n,r){if("geodesic"===r.method){return fn(L([e,n]).geometry,t,{units:"degrees"}).properties.dist}var i=[n[0]-e[0],n[1]-e[1]],o=[t[0]-e[0],t[1]-e[1]],s=_u(o,i);if(s<=0)return Ys(t,e,{units:"degrees"});var a=_u(i,i);if(a<=s)return Ys(t,n,{units:"degrees"});var u=s/a,l=[e[0]+u*i[0],e[1]+u*i[1]];return Ys(t,l,{units:"degrees"})}(u,e,n,{method:o});r<a&&(a=r)}})),j(a,"degrees",s)}function _u(t,e){return t[0]*e[0]+t[1]*e[1]}var xu=Object.defineProperty,Eu=Object.getOwnPropertySymbols,ku=Object.prototype.hasOwnProperty,bu=Object.prototype.propertyIsEnumerable,wu=function(t,e,n){return e in t?xu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},Iu=function(t,e){for(var n in e||(e={}))ku.call(e,n)&&wu(t,n,e[n]);if(Eu){var r,i=a(Eu(e));try{for(i.s();!(r=i.n()).done;){n=r.value;bu.call(e,n)&&wu(t,n,e[n])}}catch(t){i.e(t)}finally{i.f()}}return t};function Nu(t,e,n,r,i,o){return Math.sqrt((i-n)*(i-n)+(o-r)*(o-r))===Math.sqrt((t-n)*(t-n)+(e-r)*(e-r))+Math.sqrt((i-t)*(i-t)+(o-e)*(o-e))}function Su(t,e){var n=[];return vt(t,(function(t){var r=!1;if("Point"===t.geometry.type)mt(e,(function(e){zt(t,e)&&(r=!0)})),r&&n.push(t);else{if("MultiPoint"!==t.geometry.type)throw new Error("Input geometry must be a Point or MultiPoint");var i=[];mt(e,(function(e){ct(t,(function(t){zt(t,e)&&(r=!0,i.push(t))}))})),r&&n.push(O(i,t.properties))}})),C(n)}function Mu(t,e,n){var r=e[0]-t[0],i=e[1]-t[1],o=n[0]-e[0];return function(t){return(t>0)-(t<0)||+t}(r*(n[1]-e[1])-o*i)}function Lu(t,e){return e.geometry.coordinates[0].every((function(e){return zt(I(e),t)}))}var Pu=function(){return s((function t(e){i(this,t),this.id=t.buildId(e),this.coordinates=e,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}),[{key:"removeInnerEdge",value:function(t){this.innerEdges=this.innerEdges.filter((function(e){return e.from.id!==t.from.id}))}},{key:"removeOuterEdge",value:function(t){this.outerEdges=this.outerEdges.filter((function(e){return e.to.id!==t.to.id}))}},{key:"addOuterEdge",value:function(t){this.outerEdges.push(t),this.outerEdgesSorted=!1}},{key:"sortOuterEdges",value:function(){var t=this;this.outerEdgesSorted||(this.outerEdges.sort((function(e,n){var r=e.to,i=n.to;if(r.coordinates[0]-t.coordinates[0]>=0&&i.coordinates[0]-t.coordinates[0]<0)return 1;if(r.coordinates[0]-t.coordinates[0]<0&&i.coordinates[0]-t.coordinates[0]>=0)return-1;if(r.coordinates[0]-t.coordinates[0]==0&&i.coordinates[0]-t.coordinates[0]==0)return r.coordinates[1]-t.coordinates[1]>=0||i.coordinates[1]-t.coordinates[1]>=0?r.coordinates[1]-i.coordinates[1]:i.coordinates[1]-r.coordinates[1];var o=Mu(t.coordinates,r.coordinates,i.coordinates);return o<0?1:o>0?-1:Math.pow(r.coordinates[0]-t.coordinates[0],2)+Math.pow(r.coordinates[1]-t.coordinates[1],2)-(Math.pow(i.coordinates[0]-t.coordinates[0],2)+Math.pow(i.coordinates[1]-t.coordinates[1],2))})),this.outerEdgesSorted=!0)}},{key:"getOuterEdges",value:function(){return this.sortOuterEdges(),this.outerEdges}},{key:"getOuterEdge",value:function(t){return this.sortOuterEdges(),this.outerEdges[t]}},{key:"addInnerEdge",value:function(t){this.innerEdges.push(t)}}],[{key:"buildId",value:function(t){return t.join(",")}}])}(),Cu=function(){function t(e,n){i(this,t),this.from=e,this.to=n,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}return s(t,[{key:"getSymetric",value:function(){return this.symetric||(this.symetric=new t(this.to,this.from),this.symetric.symetric=this),this.symetric}},{key:"deleteEdge",value:function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)}},{key:"isEqual",value:function(t){return this.from.id===t.from.id&&this.to.id===t.to.id}},{key:"toString",value:function(){return"Edge { ".concat(this.from.id," -> ").concat(this.to.id," }")}},{key:"toLineString",value:function(){return L([this.from.coordinates,this.to.coordinates])}},{key:"compareTo",value:function(t){return Mu(t.from.coordinates,t.to.coordinates,this.to.coordinates)}}])}(),Tu=function(){return s((function t(){i(this,t),this.edges=[],this.polygon=void 0,this.envelope=void 0}),[{key:"push",value:function(t){this.edges.push(t),this.polygon=this.envelope=void 0}},{key:"get",value:function(t){return this.edges[t]}},{key:"length",get:function(){return this.edges.length}},{key:"forEach",value:function(t){this.edges.forEach(t)}},{key:"map",value:function(t){return this.edges.map(t)}},{key:"some",value:function(t){return this.edges.some(t)}},{key:"isValid",value:function(){return!0}},{key:"isHole",value:function(){var t=this,e=this.edges.reduce((function(e,n,r){return n.from.coordinates[1]>t.edges[e].from.coordinates[1]&&(e=r),e}),0),n=(0===e?this.length:e)-1,r=(e+1)%this.length,i=Mu(this.edges[n].from.coordinates,this.edges[e].from.coordinates,this.edges[r].from.coordinates);return 0===i?this.edges[n].from.coordinates[0]>this.edges[r].from.coordinates[0]:i>0}},{key:"toMultiPoint",value:function(){return O(this.edges.map((function(t){return t.from.coordinates})))}},{key:"toPolygon",value:function(){if(this.polygon)return this.polygon;var t=this.edges.map((function(t){return t.from.coordinates}));return t.push(this.edges[0].from.coordinates),this.polygon=S([t])}},{key:"getEnvelope",value:function(){return this.envelope?this.envelope:this.envelope=Us(this.toPolygon())}},{key:"inside",value:function(t){return zt(t,this.toPolygon())}}],[{key:"findEdgeRingContaining",value:function(t,e){var n,r,i=t.getEnvelope();return e.forEach((function(e){var o,s,u,l,h,c,f=e.getEnvelope();if((r&&(n=r.getEnvelope()),s=i,u=(o=f).geometry.coordinates[0].map((function(t){return t[0]})),l=o.geometry.coordinates[0].map((function(t){return t[1]})),h=s.geometry.coordinates[0].map((function(t){return t[0]})),c=s.geometry.coordinates[0].map((function(t){return t[1]})),Math.max.apply(null,u)!==Math.max.apply(null,h)||Math.max.apply(null,l)!==Math.max.apply(null,c)||Math.min.apply(null,u)!==Math.min.apply(null,h)||Math.min.apply(null,l)!==Math.min.apply(null,c))&&Lu(f,i)){var g,p,v=a(t.map((function(t){return t.from.coordinates})));try{var d=function(){var t=p.value;e.some((function(e){return n=t,r=e.from.coordinates,n[0]===r[0]&&n[1]===r[1];var n,r}))||(g=t)};for(v.s();!(p=v.n()).done;)d()}catch(t){v.e(t)}finally{v.f()}g&&e.inside(I(g))&&(r&&!Lu(n,f)||(r=e))}})),r}}])}();var Ou=function(){function t(){i(this,t),this.edges=[],this.nodes={}}return s(t,[{key:"getNode",value:function(t){var e=Pu.buildId(t),n=this.nodes[e];return n||(n=this.nodes[e]=new Pu(t)),n}},{key:"addEdge",value:function(t,e){var n=new Cu(t,e),r=n.getSymetric();this.edges.push(n),this.edges.push(r)}},{key:"deleteDangles",value:function(){var t=this;Object.keys(this.nodes).map((function(e){return t.nodes[e]})).forEach((function(e){return t._removeIfDangle(e)}))}},{key:"_removeIfDangle",value:function(t){var e=this;if(t.innerEdges.length<=1){var n=t.getOuterEdges().map((function(t){return t.to}));this.removeNode(t),n.forEach((function(t){return e._removeIfDangle(t)}))}}},{key:"deleteCutEdges",value:function(){var t=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach((function(e){e.label===e.symetric.label&&(t.removeEdge(e.symetric),t.removeEdge(e))}))}},{key:"_computeNextCWEdges",value:function(t){var e=this;void 0===t?Object.keys(this.nodes).forEach((function(t){return e._computeNextCWEdges(e.nodes[t])})):t.getOuterEdges().forEach((function(e,n){t.getOuterEdge((0===n?t.getOuterEdges().length:n)-1).symetric.next=e}))}},{key:"_computeNextCCWEdges",value:function(t,e){for(var n,r,i=t.getOuterEdges(),o=i.length-1;o>=0;--o){var s=i[o],a=s.symetric,u=void 0,l=void 0;s.label===e&&(u=s),a.label===e&&(l=a),u&&l&&(l&&(r=l),u&&(r&&(r.next=u,r=void 0),n||(n=u)))}r&&(r.next=n)}},{key:"_findLabeledEdgeRings",value:function(){var t=[],e=0;return this.edges.forEach((function(n){if(!(n.label>=0)){t.push(n);var r=n;do{r.label=e,r=r.next}while(!n.isEqual(r));e++}})),t}},{key:"getEdgeRings",value:function(){var t=this;this._computeNextCWEdges(),this.edges.forEach((function(t){t.label=void 0})),this._findLabeledEdgeRings().forEach((function(e){t._findIntersectionNodes(e).forEach((function(n){t._computeNextCCWEdges(n,e.label)}))}));var e=[];return this.edges.forEach((function(n){n.ring||e.push(t._findEdgeRing(n))})),e}},{key:"_findIntersectionNodes",value:function(t){var e=[],n=t,r=function(){var r=0;n.from.getOuterEdges().forEach((function(e){e.label===t.label&&++r})),r>1&&e.push(n.from),n=n.next};do{r()}while(!t.isEqual(n));return e}},{key:"_findEdgeRing",value:function(t){var e=t,n=new Tu;do{n.push(e),e.ring=n,e=e.next}while(!t.isEqual(e));return n}},{key:"removeNode",value:function(t){var e=this;t.getOuterEdges().forEach((function(t){return e.removeEdge(t)})),t.innerEdges.forEach((function(t){return e.removeEdge(t)})),delete this.nodes[t.id]}},{key:"removeEdge",value:function(t){this.edges=this.edges.filter((function(e){return!e.isEqual(t)})),t.deleteEdge()}}],[{key:"fromGeoJson",value:function(e){!function(t){if(!t)throw new Error("No geojson passed");if("FeatureCollection"!==t.type&&"GeometryCollection"!==t.type&&"MultiLineString"!==t.type&&"LineString"!==t.type&&"Feature"!==t.type)throw new Error("Invalid input type '".concat(t.type,"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature"))}(e);var n=new t;return xt(e,(function(t){et(t,"LineString","Graph::fromGeoJson"),ft(t,(function(t,e){if(t){var r=n.getNode(t),i=n.getNode(e);n.addEdge(r,i)}return e}))})),n}}])}();function Ru(t,e){var n,r;ct(t,(function(t,i,o,s,a){if(r!==a)e.push([]);else{var u=n[0],l=n[1],h=t[0],c=t[1];e[a].push([.75*u+.25*h,.75*l+.25*c]),e[a].push([.25*u+.75*h,.25*l+.75*c])}n=t,r=a}),!1),e.forEach((function(t){t.push(t[0])}))}function Au(t,e){var n,r,i;ct(t,(function(t,o,s,a,u){if(r!==a)e.push([[]]);else if(i!==u)e[a].push([]);else{var l=n[0],h=n[1],c=t[0],f=t[1];e[a][u].push([.75*l+.25*c,.75*h+.25*f]),e[a][u].push([.25*l+.75*c,.25*h+.75*f])}n=t,r=a,i=u}),!1),e.forEach((function(t){t.forEach((function(t){t.push(t[0])}))}))}function Du(t,e,n,r,i){for(var o=0;o<t.length;o++){var s=t[o],a=t[o+1];o===t.length-1&&(a=t[0]);var u=qu(s,a,e);n<=0&&u>0?qu(e,s,r)<0||(r=s):n>0&&u<=0&&(Fu(e,s,i)||(i=s)),n=u}return[r,i]}function Fu(t,e,n){return qu(t,e,n)>0}function qu(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(n[0]-t[0])*(e[1]-t[1])}function Vu(t){return Bu(t,"mercator",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}function Gu(t){return Bu(t,"wgs84",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}function Bu(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(n=n||{}).mutate;if(!t)throw new Error("geojson is required");return Array.isArray(t)&&U(t[0])?t="mercator"===e?Yu(t):zu(t):(!0!==r&&(t=Ai(t)),ct(t,(function(t){var n="mercator"===e?Yu(t):zu(t);t[0]=n[0],t[1]=n[1]}))),t}function Yu(t){var e=Math.PI/180,n=6378137,r=20037508.342789244,i=Math.abs(t[0])<=180?t[0]:t[0]-360*function(t){return t<0?-1:t>0?1:0}(t[0]),o=[n*i*e,n*Math.log(Math.tan(.25*Math.PI+.5*t[1]*e))];return o[0]>r&&(o[0]=r),o[0]<-r&&(o[0]=-r),o[1]>r&&(o[1]=r),o[1]<-r&&(o[1]=-r),o}function zu(t){var e=180/Math.PI,n=6378137;return[t[0]*e/n,(.5*Math.PI-2*Math.atan(Math.exp(-t[1]/n)))*e]}var ju=Object.freeze({__proto__:null,toMercator:Vu,toWgs84:Gu});var Xu={20:1.07275,15:1.13795,10:1.22385,5:1.3581,2:1.51743,1:1.62762};function Uu(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}function Zu(t){var e=[];return function t(n){return 0===n||1===n?1:e[n]>0?e[n]:e[n]=t(n-1)*n}(t)}function Hu(t){return Ju(t),Wu(t)}function Wu(t){return Array.isArray(t)?el(t):t&&t.bbox?el(t.bbox):[360*tl(),180*tl()]}function Ju(t){null!=t&&(Array.isArray(t)?H(t):null!=t.bbox&&H(t.bbox))}function Ku(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ju(e.bbox),null==t&&(t=1);for(var n=[],r=0;r<t;r++)n.push(I(Wu(e.bbox)));return C(n)}function Qu(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ju(e.bbox),null==t&&(t=1),void 0!==e.bbox&&null!==e.bbox||(e.bbox=[-180,-90,180,90]),U(e.num_vertices)&&void 0!==e.num_vertices||(e.num_vertices=10),U(e.max_radial_length)&&void 0!==e.max_radial_length||(e.max_radial_length=10);var n=Math.abs(e.bbox[0]-e.bbox[2]),r=Math.abs(e.bbox[1]-e.bbox[3]),i=Math.min(n/2,r/2);if(e.max_radial_length>i)throw new Error("max_radial_length is greater than the radius of the bbox");for(var o=[e.bbox[0]+e.max_radial_length,e.bbox[1]+e.max_radial_length,e.bbox[2]-e.max_radial_length,e.bbox[3]-e.max_radial_length],s=[],a=function(){var t,n=[],r=d(Array(e.num_vertices+1)).map(Math.random);r.forEach((function(t,e,n){n[e]=e>0?t+n[e-1]:t})),r.forEach((function(t){t=2*t*Math.PI/r[r.length-1];var i=Math.random();n.push([i*(e.max_radial_length||10)*Math.sin(t),i*(e.max_radial_length||10)*Math.cos(t)])})),n[n.length-1]=n[0],n=n.reverse().map((t=Wu(o),function(e){return[e[0]+t[0],e[1]+t[1]]})),s.push(S([n]))},u=0;u<t;u++)a();return C(s)}function $u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Z(e=e||{}))throw new Error("options is invalid");var n=e.bbox;Ju(n);var r=e.num_vertices,i=e.max_length,o=e.max_rotation;null==t&&(t=1),(!U(r)||void 0===r||r<2)&&(r=10),U(i)&&void 0!==i||(i=1e-4),U(o)&&void 0!==o||(o=Math.PI/8);for(var s=[],a=0;a<t;a++){for(var u=[Wu(n)],l=0;l<r-1;l++){var h=(0===l?2*Math.random()*Math.PI:Math.tan((u[l][1]-u[l-1][1])/(u[l][0]-u[l-1][0])))+(Math.random()-.5)*o*2,c=Math.random()*i;u.push([u[l][0]+c*Math.cos(h),u[l][1]+c*Math.sin(h)])}s.push(L(u))}return C(s)}function tl(){return Math.random()-.5}function el(t){return[Math.random()*(t[2]-t[0])+t[0],Math.random()*(t[3]-t[1])+t[1]]}var nl=Object.freeze({__proto__:null,randomLineString:$u,randomPoint:Ku,randomPolygon:Qu,randomPosition:Hu});function rl(t,e){switch("Feature"===t.type?t.geometry.type:t.type){case"GeometryCollection":return mt(t,(function(t){rl(t,e)})),t;case"LineString":return il(Q(t),e),t;case"Polygon":return ol(Q(t),e),t;case"MultiLineString":return Q(t).forEach((function(t){il(t,e)})),t;case"MultiPolygon":return Q(t).forEach((function(t){ol(t,e)})),t;case"Point":case"MultiPoint":return t}}function il(t,e){Bt(t)===e&&t.reverse()}function ol(t,e){Bt(t[0])!==e&&t[0].reverse();for(var n=1;n<t.length;n++)Bt(t[n])===e&&t[n].reverse()}function sl(t){var e=t%360;return e<0&&(e+=360),e}function al(t,e,n){if(!Z(n=n||{}))throw new Error("options is invalid");var r=n.origin||"centroid",i=n.mutate||!1;if(!t)throw new Error("geojson required");if("number"!=typeof e||e<=0)throw new Error("invalid factor");var o=Array.isArray(r)||"object"===m(r);return!0!==i&&(t=Ai(t)),"FeatureCollection"!==t.type||o?ul(t,e,r):(vt(t,(function(n,i){t.features[i]=ul(n,e,r)})),t)}function ul(t,e,n){var r="Point"===it(t),i=function(t,e){null==e&&(e="centroid");if(Array.isArray(e)||"object"===m(e))return K(e);var n=t.bbox?t.bbox:Rt(t,{recompute:!0}),r=n[0],i=n[1],o=n[2],s=n[3];switch(e){case"sw":case"southwest":case"westsouth":case"bottomleft":return I([r,i]);case"se":case"southeast":case"eastsouth":case"bottomright":return I([o,i]);case"nw":case"northwest":case"westnorth":case"topleft":return I([r,s]);case"ne":case"northeast":case"eastnorth":case"topright":return I([o,s]);case"center":return An(t);case void 0:case null:case"centroid":return gi(t);default:throw new Error("invalid origin")}}(t,n);return 1===e||r||(ct(t,(function(t){var n=Ys(i,t),r=lt(i,t),o=Q(Bs(i,n*e,r));t[0]=o[0],t[1]=o[1],3===t.length&&(t[2]*=e)})),delete t.bbox),t}function ll(t){for(var e=t,n=[];e.parent;)n.unshift(e),e=e.parent;return n}var hl={search:function(t,e,n,r){var i;t.cleanDirty();var o=(r=r||{}).heuristic||hl.heuristics.manhattan,s=null!=(i=r.closest)&&i,a=new gl((function(t){return t.f})),u=e;for(e.h=o(e,n),a.push(e);a.size()>0;){var l=a.pop();if(l===n)return ll(l);l.closed=!0;for(var h=t.neighbors(l),c=0,f=h.length;c<f;++c){var g=h[c];if(!g.closed&&!g.isWall()){var p=l.g+g.getCost(l),v=g.visited;(!v||p<g.g)&&(g.visited=!0,g.parent=l,g.h=g.h||o(g,n),g.g=p,g.f=g.g+g.h,t.markDirty(g),s&&(g.h<u.h||g.h===u.h&&g.g<u.g)&&(u=g),v?a.rescoreElement(g):a.push(g))}}}return s?ll(u):[]},heuristics:{manhattan:function(t,e){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},diagonal:function(t,e){var n=Math.sqrt(2),r=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y);return 1*(r+i)+(n-2)*Math.min(r,i)}},cleanNode:function(t){t.f=0,t.g=0,t.h=0,t.visited=!1,t.closed=!1,t.parent=null}};function cl(t,e){e=e||{},this.nodes=[],this.diagonal=!!e.diagonal,this.grid=[];for(var n=0;n<t.length;n++){this.grid[n]=[];for(var r=0,i=t[n];r<i.length;r++){var o=new fl(n,r,i[r]);this.grid[n][r]=o,this.nodes.push(o)}}this.init()}function fl(t,e,n){this.x=t,this.y=e,this.weight=n}function gl(t){this.content=[],this.scoreFunction=t}function pl(t,e){for(var n=0;n<e.features.length;n++)if(zt(t,e.features[n]))return!0;return!1}function vl(t,e,n){var r=e[0],i=e[1],o=n[0]-r,s=n[1]-i;if(0!==o||0!==s){var a=((t[0]-r)*o+(t[1]-i)*s)/(o*o+s*s);a>1?(r=n[0],i=n[1]):a>0&&(r+=o*a,i+=s*a)}return(o=t[0]-r)*o+(s=t[1]-i)*s}function dl(t,e,n,r,i){for(var o,s=r,a=e+1;a<n;a++){var u=vl(t[a],t[e],t[n]);u>s&&(o=a,s=u)}s>r&&(o-e>1&&dl(t,e,o,r,i),i.push(t[o]),n-o>1&&dl(t,o,n,r,i))}function yl(t,e){var n=t.length-1,r=[t[0]];return dl(t,0,n,e,r),r.push(t[n]),r}function ml(t,e,n){if(t.length<=2)return t;var r=void 0!==e?e*e:1;return t=n?t:function(t,e){for(var n,r,i,o,s,a=t[0],u=[a],l=1,h=t.length;l<h;l++)n=t[l],i=a,o=void 0,s=void 0,o=(r=n)[0]-i[0],s=r[1]-i[1],o*o+s*s>e&&(u.push(n),a=n);return a!==n&&u.push(n),u}(t,r),t=yl(t,r)}function _l(t,e,n){return t.map((function(t){if(t.length<4)throw new Error("invalid polygon");for(var r=e,i=ml(t,r,n);!xl(i);)i=ml(t,r-=.01*r,n);return i[i.length-1][0]===i[0][0]&&i[i.length-1][1]===i[0][1]||i.push(i[0]),i}))}function xl(t){return!(t.length<3)&&!(3===t.length&&t[2][0]===t[0][0]&&t[2][1]===t[0][1])}function El(t,e){return{x:t[0]-e[0],y:t[1]-e[1]}}cl.prototype.init=function(){this.dirtyNodes=[];for(var t=0;t<this.nodes.length;t++)hl.cleanNode(this.nodes[t])},cl.prototype.cleanDirty=function(){for(var t=0;t<this.dirtyNodes.length;t++)hl.cleanNode(this.dirtyNodes[t]);this.dirtyNodes=[]},cl.prototype.markDirty=function(t){this.dirtyNodes.push(t)},cl.prototype.neighbors=function(t){var e=[],n=t.x,r=t.y,i=this.grid;return i[n-1]&&i[n-1][r]&&e.push(i[n-1][r]),i[n+1]&&i[n+1][r]&&e.push(i[n+1][r]),i[n]&&i[n][r-1]&&e.push(i[n][r-1]),i[n]&&i[n][r+1]&&e.push(i[n][r+1]),this.diagonal&&(i[n-1]&&i[n-1][r-1]&&e.push(i[n-1][r-1]),i[n+1]&&i[n+1][r-1]&&e.push(i[n+1][r-1]),i[n-1]&&i[n-1][r+1]&&e.push(i[n-1][r+1]),i[n+1]&&i[n+1][r+1]&&e.push(i[n+1][r+1])),e},cl.prototype.toString=function(){for(var t,e,n,r,i=[],o=this.grid,s=0,a=o.length;s<a;s++){for(t=[],n=0,r=(e=o[s]).length;n<r;n++)t.push(e[n].weight);i.push(t.join(" "))}return i.join("\n")},fl.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},fl.prototype.getCost=function(t){return t&&t.x!==this.x&&t.y!==this.y?1.41421*this.weight:this.weight},fl.prototype.isWall=function(){return 0===this.weight},gl.prototype={push:function(t){this.content.push(t),this.sinkDown(this.content.length-1)},pop:function(){var t=this.content[0],e=this.content.pop();return this.content.length>0&&(this.content[0]=e,this.bubbleUp(0)),t},remove:function(t){var e=this.content.indexOf(t),n=this.content.pop();e!==this.content.length-1&&(this.content[e]=n,this.scoreFunction(n)<this.scoreFunction(t)?this.sinkDown(e):this.bubbleUp(e))},size:function(){return this.content.length},rescoreElement:function(t){this.sinkDown(this.content.indexOf(t))},sinkDown:function(t){for(var e=this.content[t];t>0;){var n=(t+1>>1)-1,r=this.content[n];if(!(this.scoreFunction(e)<this.scoreFunction(r)))break;this.content[n]=e,this.content[t]=r,t=n}},bubbleUp:function(t){for(var e=this.content.length,n=this.content[t],r=this.scoreFunction(n);;){var i,o=t+1<<1,s=o-1,a=null;if(s<e){var u=this.content[s];(i=this.scoreFunction(u))<r&&(a=s)}if(o<e){var l=this.content[o];this.scoreFunction(l)<(null===a?r:i)&&(a=o)}if(null===a)break;this.content[t]=this.content[a],this.content[a]=n,t=a}}};var kl,bl={exports:{}};var wl=function(){if(kl)return bl.exports;function t(t,n,i){i=i||2;var o,s,a,h,c,g,p,v=n&&n.length,d=v?n[0]*i:t.length,y=e(t,0,d,i,!0),m=[];if(!y||y.next===y.prev)return m;if(v&&(y=function(t,n,r,i){var o,s,a,h=[];for(o=0,s=n.length;o<s;o++)(a=e(t,n[o]*i,o<s-1?n[o+1]*i:t.length,i,!1))===a.next&&(a.steiner=!0),h.push(f(a));for(h.sort(u),o=0;o<h.length;o++)r=l(h[o],r);return r}(t,n,y,i)),t.length>80*i){o=a=t[0],s=h=t[1];for(var _=i;_<d;_+=i)(c=t[_])<o&&(o=c),(g=t[_+1])<s&&(s=g),c>a&&(a=c),g>h&&(h=g);p=0!==(p=Math.max(a-o,h-s))?32767/p:0}return r(y,m,i,o,s,p,0),m}function e(t,e,n,r,i){var o,s;if(i===I(t,e,n,r)>0)for(o=e;o<n;o+=r)s=k(o,t[o],t[o+1],s);else for(o=n-r;o>=e;o-=r)s=k(o,t[o],t[o+1],s);return s&&d(s,s.next)&&(b(s),s=s.next),s}function n(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!d(r,r.next)&&0!==v(r.prev,r,r.next))r=r.next;else{if(b(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function r(t,e,u,l,h,f,g){if(t){!g&&f&&function(t,e,n,r){var i=t;do{0===i.z&&(i.z=c(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,o,s,a,u,l=1;do{for(n=t,t=null,o=null,s=0;n;){for(s++,r=n,a=0,e=0;e<l&&(a++,r=r.nextZ);e++);for(u=l;a>0||u>0&&r;)0!==a&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,u--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,l*=2}while(s>1)}(i)}(t,l,h,f);for(var p,v,d=t;t.prev!==t.next;)if(p=t.prev,v=t.next,f?o(t,l,h,f):i(t))e.push(p.i/u|0),e.push(t.i/u|0),e.push(v.i/u|0),b(t),t=v.next,d=v.next;else if((t=v)===d){g?1===g?r(t=s(n(t),e,u),e,u,l,h,f,2):2===g&&a(t,e,u,l,h,f):r(n(t),e,u,l,h,f,1);break}}}function i(t){var e=t.prev,n=t,r=t.next;if(v(e,n,r)>=0)return!1;for(var i=e.x,o=n.x,s=r.x,a=e.y,u=n.y,l=r.y,h=i<o?i<s?i:s:o<s?o:s,c=a<u?a<l?a:l:u<l?u:l,f=i>o?i>s?i:s:o>s?o:s,p=a>u?a>l?a:l:u>l?u:l,d=r.next;d!==e;){if(d.x>=h&&d.x<=f&&d.y>=c&&d.y<=p&&g(i,a,o,u,s,l,d.x,d.y)&&v(d.prev,d,d.next)>=0)return!1;d=d.next}return!0}function o(t,e,n,r){var i=t.prev,o=t,s=t.next;if(v(i,o,s)>=0)return!1;for(var a=i.x,u=o.x,l=s.x,h=i.y,f=o.y,p=s.y,d=a<u?a<l?a:l:u<l?u:l,y=h<f?h<p?h:p:f<p?f:p,m=a>u?a>l?a:l:u>l?u:l,_=h>f?h>p?h:p:f>p?f:p,x=c(d,y,e,n,r),E=c(m,_,e,n,r),k=t.prevZ,b=t.nextZ;k&&k.z>=x&&b&&b.z<=E;){if(k.x>=d&&k.x<=m&&k.y>=y&&k.y<=_&&k!==i&&k!==s&&g(a,h,u,f,l,p,k.x,k.y)&&v(k.prev,k,k.next)>=0)return!1;if(k=k.prevZ,b.x>=d&&b.x<=m&&b.y>=y&&b.y<=_&&b!==i&&b!==s&&g(a,h,u,f,l,p,b.x,b.y)&&v(b.prev,b,b.next)>=0)return!1;b=b.nextZ}for(;k&&k.z>=x;){if(k.x>=d&&k.x<=m&&k.y>=y&&k.y<=_&&k!==i&&k!==s&&g(a,h,u,f,l,p,k.x,k.y)&&v(k.prev,k,k.next)>=0)return!1;k=k.prevZ}for(;b&&b.z<=E;){if(b.x>=d&&b.x<=m&&b.y>=y&&b.y<=_&&b!==i&&b!==s&&g(a,h,u,f,l,p,b.x,b.y)&&v(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function s(t,e,r){var i=t;do{var o=i.prev,s=i.next.next;!d(o,s)&&y(o,i,i.next,s)&&x(o,s)&&x(s,o)&&(e.push(o.i/r|0),e.push(i.i/r|0),e.push(s.i/r|0),b(i),b(i.next),i=t=s),i=i.next}while(i!==t);return n(i)}function a(t,e,i,o,s,a){var u=t;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&p(u,l)){var h=E(u,l);return u=n(u,u.next),h=n(h,h.next),r(u,e,i,o,s,a,0),void r(h,e,i,o,s,a,0)}l=l.next}u=u.next}while(u!==t)}function u(t,e){return t.x-e.x}function l(t,e){var r=function(t,e){var n,r=e,i=t.x,o=t.y,s=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var a=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=i&&a>s&&(s=a,n=r.x<r.next.x?r:r.next,a===i))return n}r=r.next}while(r!==e);if(!n)return null;var u,l=n,c=n.x,f=n.y,p=1/0;r=n;do{i>=r.x&&r.x>=c&&i!==r.x&&g(o<f?i:s,o,c,f,o<f?s:i,o,r.x,r.y)&&(u=Math.abs(o-r.y)/(i-r.x),x(r,t)&&(u<p||u===p&&(r.x>n.x||r.x===n.x&&h(n,r)))&&(n=r,p=u)),r=r.next}while(r!==l);return n}(t,e);if(!r)return e;var i=E(r,t);return n(i,i.next),n(r,r.next)}function h(t,e){return v(t.prev,t,e.prev)<0&&v(e.next,t,t.next)<0}function c(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-n)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-r)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function f(t){var e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function g(t,e,n,r,i,o,s,a){return(i-s)*(e-a)>=(t-s)*(o-a)&&(t-s)*(r-a)>=(n-s)*(e-a)&&(n-s)*(o-a)>=(i-s)*(r-a)}function p(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&y(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(x(t,e)&&x(e,t)&&function(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)&&(v(t.prev,t,e.prev)||v(t,e.prev,e))||d(t,e)&&v(t.prev,t,t.next)>0&&v(e.prev,e,e.next)>0)}function v(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function d(t,e){return t.x===e.x&&t.y===e.y}function y(t,e,n,r){var i=_(v(t,e,n)),o=_(v(t,e,r)),s=_(v(n,r,t)),a=_(v(n,r,e));return i!==o&&s!==a||(!(0!==i||!m(t,n,e))||(!(0!==o||!m(t,r,e))||(!(0!==s||!m(n,t,r))||!(0!==a||!m(n,e,r)))))}function m(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function _(t){return t>0?1:t<0?-1:0}function x(t,e){return v(t.prev,t,t.next)<0?v(t,e,t.next)>=0&&v(t,t.prev,e)>=0:v(t,e,t.prev)<0||v(t,t.next,e)<0}function E(t,e){var n=new w(t.i,t.x,t.y),r=new w(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function k(t,e,n,r){var i=new w(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function b(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function w(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function I(t,e,n,r){for(var i=0,o=e,s=n-r;o<n;o+=r)i+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return i}return kl=1,bl.exports=t,bl.exports.default=t,t.deviation=function(t,e,n,r){var i=e&&e.length,o=i?e[0]*n:t.length,s=Math.abs(I(t,0,o,n));if(i)for(var a=0,u=e.length;a<u;a++){var l=e[a]*n,h=a<u-1?e[a+1]*n:t.length;s-=Math.abs(I(t,l,h,n))}var c=0;for(a=0;a<r.length;a+=3){var f=r[a]*n,g=r[a+1]*n,p=r[a+2]*n;c+=Math.abs((t[f]-t[p])*(t[g+1]-t[f+1])-(t[f]-t[g])*(t[p+1]-t[f+1]))}return 0===s&&0===c?0:Math.abs((c-s)/s)},t.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var s=0;s<e;s++)n.vertices.push(t[i][o][s]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n},bl.exports}(),Il=mn(wl);function Nl(t){var e=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var s=0;s<e;s++)n.vertices.push(t[i][o][s]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n}(t),n=Il(e.vertices,e.holes,2),r=[],i=[];n.forEach((function(t,r){var o=n[r];i.push([e.vertices[2*o],e.vertices[2*o+1]])}));for(var o=0;o<i.length;o+=3){var s=i.slice(o,o+3);s.push(i[o]),r.push(S([s]))}return r}function Sl(t,e,n){if("Polygon"!==t.geometry.type)throw new Error("The input feature must be a Polygon");void 0===n&&(n=1);var r=t.geometry.coordinates,i=[],o={};if(n){for(var s=[],a=0;a<r.length;a++)for(var u=0;u<r[a].length-1;u++)s.push(v(a,u));var l=new qe;l.load(s)}for(var h=0;h<r.length;h++)for(var c=0;c<r[h].length-1;c++){if(n)l.search(v(h,c)).forEach((function(t){var e=t.ring,n=t.edge;p(h,c,e,n)}));else for(var f=0;f<r.length;f++)for(var g=0;g<r[f].length-1;g++)p(h,c,f,g)}return e||(i={type:"Feature",geometry:{type:"MultiPoint",coordinates:i}}),i;function p(t,n,s,a){var u,l,h=r[t][n],c=r[t][n+1],f=r[s][a],g=r[s][a+1],p=function(t,e,n,r){if(Ml(t,n)||Ml(t,r)||Ml(e,n)||Ml(r,n))return null;var i=t[0],o=t[1],s=e[0],a=e[1],u=n[0],l=n[1],h=r[0],c=r[1],f=(i-s)*(l-c)-(o-a)*(u-h);if(0===f)return null;var g=((i*a-o*s)*(u-h)-(i-s)*(u*c-l*h))/f,p=((i*a-o*s)*(l-c)-(o-a)*(u*c-l*h))/f;return[g,p]}(h,c,f,g);if(null!==p&&(u=c[0]!==h[0]?(p[0]-h[0])/(c[0]-h[0]):(p[1]-h[1])/(c[1]-h[1]),l=g[0]!==f[0]?(p[0]-f[0])/(g[0]-f[0]):(p[1]-f[1])/(g[1]-f[1]),!(u>=1||u<=0||l>=1||l<=0))){var v=p,d=!o[v];d&&(o[v]=!0),e?i.push(e(p,t,n,h,c,u,s,a,f,g,l,d)):i.push(p)}}function v(t,e){var n,i,o,s,a=r[t][e],u=r[t][e+1];return a[0]<u[0]?(n=a[0],i=u[0]):(n=u[0],i=a[0]),a[1]<u[1]?(o=a[1],s=u[1]):(o=u[1],s=a[1]),{minX:n,minY:o,maxX:i,maxY:s,ring:t,edge:e}}}function Ml(t,e){if(!t||!e)return!1;if(t.length!==e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!Ml(t[n],e[n]))return!1}else if(t[n]!==e[n])return!1;return!0}function Ll(t){if("Feature"!=t.type)throw new Error("The input must a geojson object of type Feature");if(void 0===t.geometry||null==t.geometry)throw new Error("The input must a geojson object with a non-empty geometry");if("Polygon"!=t.geometry.type)throw new Error("The input must be a geojson Polygon");for(var e=t.geometry.coordinates.length,n=[],r=0;r<e;r++){var i=t.geometry.coordinates[r];Rl(i[0],i[i.length-1])||i.push(i[0]);for(var o=0;o<i.length-1;o++)n.push(i[o])}if(!function(t){for(var e={},n=1,r=0,i=t.length;r<i;++r){if(Object.prototype.hasOwnProperty.call(e,t[r])){n=0;break}e[t[r]]=1}return n}(n))throw new Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)");var s=n.length,a=Sl(t,(function(t,e,n,r,i,o,s,a,u,l,h,c){return[t,e,n,r,i,o,s,a,u,l,h,c]})),u=a.length;if(0==u){var l=[];for(r=0;r<e;r++)l.push(S([t.geometry.coordinates[r]],{parent:-1,winding:Ol(t.geometry.coordinates[r])}));var h=C(l);return q(),V(),h}var c=[],f=[];for(r=0;r<e;r++){c.push([]);for(o=0;o<t.geometry.coordinates[r].length-1;o++)c[r].push([new Pl(t.geometry.coordinates[r][Al(o+1,t.geometry.coordinates[r].length-1)],1,[r,o],[r,Al(o+1,t.geometry.coordinates[r].length-1)],void 0)]),f.push(new Cl(t.geometry.coordinates[r][o],[r,Al(o-1,t.geometry.coordinates[r].length-1)],[r,o],void 0,void 0,!1,!0))}for(r=0;r<u;r++)c[a[r][1]][a[r][2]].push(new Pl(a[r][0],a[r][5],[a[r][1],a[r][2]],[a[r][6],a[r][7]],void 0)),a[r][11]&&f.push(new Cl(a[r][0],[a[r][1],a[r][2]],[a[r][6],a[r][7]],void 0,void 0,!0,!0));var g=f.length;for(r=0;r<c.length;r++)for(o=0;o<c[r].length;o++)c[r][o].sort((function(t,e){return t.param<e.param?-1:1}));var p=[];for(r=0;r<g;r++)p.push({minX:f[r].coord[0],minY:f[r].coord[1],maxX:f[r].coord[0],maxY:f[r].coord[1],index:r});var v=new qe;v.load(p);for(r=0;r<c.length;r++)for(o=0;o<c[r].length;o++)for(var d=0;d<c[r][o].length;d++){m=d==c[r][o].length-1?c[r][Al(o+1,t.geometry.coordinates[r].length-1)][0].coord:c[r][o][d+1].coord;var y=v.search({minX:m[0],minY:m[1],maxX:m[0],maxY:m[1]})[0];c[r][o][d].nxtIsectAlongEdgeIn=y.index}for(r=0;r<c.length;r++)for(o=0;o<c[r].length;o++)for(d=0;d<c[r][o].length;d++){var m=c[r][o][d].coord,_=(y=v.search({minX:m[0],minY:m[1],maxX:m[0],maxY:m[1]})[0]).index;_<s?f[_].nxtIsectAlongRingAndEdge2=c[r][o][d].nxtIsectAlongEdgeIn:Rl(f[_].ringAndEdge1,c[r][o][d].ringAndEdgeIn)?f[_].nxtIsectAlongRingAndEdge1=c[r][o][d].nxtIsectAlongEdgeIn:f[_].nxtIsectAlongRingAndEdge2=c[r][o][d].nxtIsectAlongEdgeIn}var x=[];for(r=0,o=0;o<e;o++){var E=r;for(d=0;d<t.geometry.coordinates[o].length-1;d++)f[r].coord[0]<f[E].coord[0]&&(E=r),r++;var k=f[E].nxtIsectAlongRingAndEdge2;for(d=0;d<f.length;d++)if(f[d].nxtIsectAlongRingAndEdge1==E||f[d].nxtIsectAlongRingAndEdge2==E){var b=d;break}var w=Tl([f[b].coord,f[E].coord,f[k].coord],!0)?1:-1;x.push({isect:E,parent:-1,winding:w})}x.sort((function(t,e){return f[t.isect].coord>f[e.isect].coord?-1:1}));for(l=[];x.length>0;){var I=x.pop(),N=I.isect,M=I.parent,L=I.winding,P=l.length,T=[f[N].coord],O=N;if(f[N].ringAndEdge1Walkable)var R=f[N].ringAndEdge1,A=f[N].nxtIsectAlongRingAndEdge1;else R=f[N].ringAndEdge2,A=f[N].nxtIsectAlongRingAndEdge2;for(;!Rl(f[N].coord,f[A].coord);){T.push(f[A].coord);var D=void 0;for(r=0;r<x.length;r++)if(x[r].isect==A){D=r;break}if(null!=D&&x.splice(D,1),Rl(R,f[A].ringAndEdge1)){if(R=f[A].ringAndEdge2,f[A].ringAndEdge2Walkable=!1,f[A].ringAndEdge1Walkable){var F={isect:A};Tl([f[O].coord,f[A].coord,f[f[A].nxtIsectAlongRingAndEdge2].coord],1==L)?(F.parent=M,F.winding=-L):(F.parent=P,F.winding=L),x.push(F)}O=A,A=f[A].nxtIsectAlongRingAndEdge2}else{if(R=f[A].ringAndEdge1,f[A].ringAndEdge1Walkable=!1,f[A].ringAndEdge2Walkable){F={isect:A};Tl([f[O].coord,f[A].coord,f[f[A].nxtIsectAlongRingAndEdge1].coord],1==L)?(F.parent=M,F.winding=-L):(F.parent=P,F.winding=L),x.push(F)}O=A,A=f[A].nxtIsectAlongRingAndEdge1}}T.push(f[A].coord),l.push(S([T],{index:P,parent:M,winding:L,netWinding:void 0}))}h=C(l);function q(){for(var t=[],e=0;e<h.features.length;e++)-1==h.features[e].properties.parent&&t.push(e);if(t.length>1)for(e=0;e<t.length;e++){for(var n=-1,r=0;r<h.features.length;r++)t[e]!=r&&zt(h.features[t[e]].geometry.coordinates[0][0],h.features[r],{ignoreBoundary:!0})&&Lt(h.features[r])<Infinity&&(n=r);h.features[t[e]].properties.parent=n}}function V(){for(var t=0;t<h.features.length;t++)if(-1==h.features[t].properties.parent){var e=h.features[t].properties.winding;h.features[t].properties.netWinding=e,G(t,e)}}function G(t,e){for(var n=0;n<h.features.length;n++)if(h.features[n].properties.parent==t){var r=e+h.features[n].properties.winding;h.features[n].properties.netWinding=r,G(n,r)}}return q(),V(),h}var Pl=function(t,e,n,r,i){this.coord=t,this.param=e,this.ringAndEdgeIn=n,this.ringAndEdgeOut=r,this.nxtIsectAlongEdgeIn=i},Cl=function(t,e,n,r,i,o,s){this.coord=t,this.ringAndEdge1=e,this.ringAndEdge2=n,this.nxtIsectAlongRingAndEdge1=r,this.nxtIsectAlongRingAndEdge2=i,this.ringAndEdge1Walkable=o,this.ringAndEdge2Walkable=s};function Tl(t,e){if(void 0===e&&(e=!0),3!=t.length)throw new Error("This function requires an array of three points [x,y]");return(t[1][0]-t[0][0])*(t[2][1]-t[0][1])-(t[1][1]-t[0][1])*(t[2][0]-t[0][0])>=0==e}function Ol(t){for(var e=0,n=0;n<t.length-1;n++)t[n][0]<t[e][0]&&(e=n);if(Tl([t[Al(e-1,t.length-1)],t[e],t[Al(e+1,t.length-1)]],!0))var r=1;else r=-1;return r}function Rl(t,e){if(!t||!e)return!1;if(t.length!=e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!Rl(t[n],e[n]))return!1}else if(t[n]!=e[n])return!1;return!0}function Al(t,e){return(t%e+e)%e}function Dl(t){return function(){return t}}function Fl(t){return t[0]}function ql(t){return t[1]}function Vl(){this._=null}function Gl(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Bl(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Yl(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function zl(t){for(;t.L;)t=t.L;return t}function jl(t,e,n,r){var i=[null,null],o=ph.push(i)-1;return i.left=t,i.right=e,n&&Ul(i,t,e,n),r&&Ul(i,e,t,r),fh[t.index].halfedges.push(o),fh[e.index].halfedges.push(o),i}function Xl(t,e,n){var r=[e,n];return r.left=t,r}function Ul(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function Zl(t,e,n,r,i){var o,s=t[0],a=t[1],u=s[0],l=s[1],h=0,c=1,f=a[0]-u,g=a[1]-l;if(o=e-u,f||!(o>0)){if(o/=f,f<0){if(o<h)return;o<c&&(c=o)}else if(f>0){if(o>c)return;o>h&&(h=o)}if(o=r-u,f||!(o<0)){if(o/=f,f<0){if(o>c)return;o>h&&(h=o)}else if(f>0){if(o<h)return;o<c&&(c=o)}if(o=n-l,g||!(o>0)){if(o/=g,g<0){if(o<h)return;o<c&&(c=o)}else if(g>0){if(o>c)return;o>h&&(h=o)}if(o=i-l,g||!(o<0)){if(o/=g,g<0){if(o>c)return;o>h&&(h=o)}else if(g>0){if(o<h)return;o<c&&(c=o)}return!(h>0||c<1)||(h>0&&(t[0]=[u+h*f,l+h*g]),c<1&&(t[1]=[u+c*f,l+c*g]),!0)}}}}}function Hl(t,e,n,r,i){var o=t[1];if(o)return!0;var s,a,u=t[0],l=t.left,h=t.right,c=l[0],f=l[1],g=h[0],p=h[1],v=(c+g)/2,d=(f+p)/2;if(p===f){if(v<e||v>=r)return;if(c>g){if(u){if(u[1]>=i)return}else u=[v,n];o=[v,i]}else{if(u){if(u[1]<n)return}else u=[v,i];o=[v,n]}}else if(a=d-(s=(c-g)/(p-f))*v,s<-1||s>1)if(c>g){if(u){if(u[1]>=i)return}else u=[(n-a)/s,n];o=[(i-a)/s,i]}else{if(u){if(u[1]<n)return}else u=[(i-a)/s,i];o=[(n-a)/s,n]}else if(f<p){if(u){if(u[0]>=r)return}else u=[e,s*e+a];o=[r,s*r+a]}else{if(u){if(u[0]<e)return}else u=[r,s*r+a];o=[e,s*e+a]}return t[0]=u,t[1]=o,!0}function Wl(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function Jl(t,e){return e[+(e.left!==t.site)]}function Kl(t,e){return e[+(e.left===t.site)]}Vl.prototype={constructor:Vl,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=zl(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(Bl(this,n),n=(t=n).U),n.C=!1,r.C=!0,Yl(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(Yl(this,n),n=(t=n).U),n.C=!1,r.C=!0,Bl(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,s=t.R;if(n=o?s?zl(s):o:s,i?i.L===t?i.L=n:i.R=n:this._=n,o&&s?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==s?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=s,s.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,Bl(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Yl(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,Bl(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,Yl(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Bl(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,Yl(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var Ql,$l=[];function th(){Gl(this),this.x=this.y=this.arc=this.site=this.cy=null}function eh(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var s=i[0],a=i[1],u=r[0]-s,l=r[1]-a,h=o[0]-s,c=o[1]-a,f=2*(u*c-l*h);if(!(f>=-dh)){var g=u*u+l*l,p=h*h+c*c,v=(c*g-l*p)/f,d=(u*p-h*g)/f,y=$l.pop()||new th;y.arc=t,y.site=i,y.x=v+s,y.y=(y.cy=d+a)+Math.sqrt(v*v+d*d),t.circle=y;for(var m=null,_=gh._;_;)if(y.y<_.y||y.y===_.y&&y.x<=_.x){if(!_.L){m=_.P;break}_=_.L}else{if(!_.R){m=_;break}_=_.R}gh.insert(m,y),m||(Ql=y)}}}}function nh(t){var e=t.circle;e&&(e.P||(Ql=e.N),gh.remove(e),$l.push(e),Gl(e),t.circle=null)}var rh=[];function ih(){Gl(this),this.edge=this.site=this.circle=null}function oh(t){var e=rh.pop()||new ih;return e.site=t,e}function sh(t){nh(t),ch.remove(t),rh.push(t),Gl(t)}function ah(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],o=t.P,s=t.N,a=[t];sh(t);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<vh&&Math.abs(r-u.circle.cy)<vh;)o=u.P,a.unshift(u),sh(u),u=o;a.unshift(u),nh(u);for(var l=s;l.circle&&Math.abs(n-l.circle.x)<vh&&Math.abs(r-l.circle.cy)<vh;)s=l.N,a.push(l),sh(l),l=s;a.push(l),nh(l);var h,c=a.length;for(h=1;h<c;++h)l=a[h],u=a[h-1],Ul(l.edge,u.site,l.site,i);u=a[0],(l=a[c-1]).edge=jl(u.site,l.site,null,i),eh(u),eh(l)}function uh(t){for(var e,n,r,i,o=t[0],s=t[1],a=ch._;a;)if((r=lh(a,s)-o)>vh)a=a.L;else{if(!((i=o-hh(a,s))>vh)){r>-vh?(e=a.P,n=a):i>-vh?(e=a,n=a.N):e=n=a;break}if(!a.R){e=a;break}a=a.R}!function(t){fh[t.index]={site:t,halfedges:[]}}(t);var u=oh(t);if(ch.insert(e,u),e||n){if(e===n)return nh(e),n=oh(e.site),ch.insert(u,n),u.edge=n.edge=jl(e.site,u.site),eh(e),void eh(n);if(n){nh(e),nh(n);var l=e.site,h=l[0],c=l[1],f=t[0]-h,g=t[1]-c,p=n.site,v=p[0]-h,d=p[1]-c,y=2*(f*d-g*v),m=f*f+g*g,_=v*v+d*d,x=[(d*m-g*_)/y+h,(f*_-v*m)/y+c];Ul(n.edge,l,p,x),u.edge=jl(l,t,null,x),n.edge=jl(t,p,null,x),eh(e),eh(n)}else u.edge=jl(e.site,u.site)}}function lh(t,e){var n=t.site,r=n[0],i=n[1],o=i-e;if(!o)return r;var s=t.P;if(!s)return-1/0;var a=(n=s.site)[0],u=n[1],l=u-e;if(!l)return a;var h=a-r,c=1/o-1/l,f=h/l;return c?(-f+Math.sqrt(f*f-2*c*(h*h/(-2*l)-u+l/2+i-o/2)))/c+r:(r+a)/2}function hh(t,e){var n=t.N;if(n)return lh(n,e);var r=t.site;return r[1]===e?r[0]:1/0}var ch,fh,gh,ph,vh=1e-6,dh=1e-12;function yh(t,e){return e[1]-t[1]||e[0]-t[0]}function mh(t,e){var n,r,i,o=t.sort(yh).pop();for(ph=[],fh=new Array(t.length),ch=new Vl,gh=new Vl;;)if(i=Ql,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===n&&o[1]===r||(uh(o),n=o[0],r=o[1]),o=t.pop();else{if(!i)break;ah(i.arc)}if(function(){for(var t,e,n,r,i=0,o=fh.length;i<o;++i)if((t=fh[i])&&(r=(e=t.halfedges).length)){var s=new Array(r),a=new Array(r);for(n=0;n<r;++n)s[n]=n,a[n]=Wl(t,ph[e[n]]);for(s.sort((function(t,e){return a[e]-a[t]})),n=0;n<r;++n)a[n]=e[s[n]];for(n=0;n<r;++n)e[n]=a[n]}}(),e){var s=+e[0][0],a=+e[0][1],u=+e[1][0],l=+e[1][1];!function(t,e,n,r){for(var i,o=ph.length;o--;)Hl(i=ph[o],t,e,n,r)&&Zl(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>vh||Math.abs(i[0][1]-i[1][1])>vh)||delete ph[o]}(s,a,u,l),function(t,e,n,r){var i,o,s,a,u,l,h,c,f,g,p,v,d=fh.length,y=!0;for(i=0;i<d;++i)if(o=fh[i]){for(s=o.site,a=(u=o.halfedges).length;a--;)ph[u[a]]||u.splice(a,1);for(a=0,l=u.length;a<l;)p=(g=Kl(o,ph[u[a]]))[0],v=g[1],c=(h=Jl(o,ph[u[++a%l]]))[0],f=h[1],(Math.abs(p-c)>vh||Math.abs(v-f)>vh)&&(u.splice(a,0,ph.push(Xl(s,g,Math.abs(p-t)<vh&&r-v>vh?[t,Math.abs(c-t)<vh?f:r]:Math.abs(v-r)<vh&&n-p>vh?[Math.abs(f-r)<vh?c:n,r]:Math.abs(p-n)<vh&&v-e>vh?[n,Math.abs(c-n)<vh?f:e]:Math.abs(v-e)<vh&&p-t>vh?[Math.abs(f-e)<vh?c:t,e]:null))-1),++l);l&&(y=!1)}if(y){var m,_,x,E=1/0;for(i=0,y=null;i<d;++i)(o=fh[i])&&(x=(m=(s=o.site)[0]-t)*m+(_=s[1]-e)*_)<E&&(E=x,y=o);if(y){var k=[t,e],b=[t,r],w=[n,r],I=[n,e];y.halfedges.push(ph.push(Xl(s=y.site,k,b))-1,ph.push(Xl(s,b,w))-1,ph.push(Xl(s,w,I))-1,ph.push(Xl(s,I,k))-1)}}for(i=0;i<d;++i)(o=fh[i])&&(o.halfedges.length||delete fh[i])}(s,a,u,l)}this.edges=ph,this.cells=fh,ch=gh=ph=fh=null}mh.prototype={constructor:mh,polygons:function(){var t=this.edges;return this.cells.map((function(e){var n=e.halfedges.map((function(n){return Jl(e,t[n])}));return n.data=e.site.data,n}))},triangles:function(){var t=[],e=this.edges;return this.cells.forEach((function(n,r){if(o=(i=n.halfedges).length)for(var i,o,s,a,u,l,h=n.site,c=-1,f=e[i[o-1]],g=f.left===h?f.right:f.left;++c<o;)s=g,g=(f=e[i[c]]).left===h?f.right:f.left,s&&g&&r<s.index&&r<g.index&&(u=s,l=g,((a=h)[0]-l[0])*(u[1]-a[1])-(a[0]-u[0])*(l[1]-a[1])<0)&&t.push([h.data,s.data,g.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,e,n){for(var r,i,o=this,s=o._found||0,a=o.cells.length;!(i=o.cells[s]);)if(++s>=a)return null;var u=t-i.site[0],l=e-i.site[1],h=u*u+l*l;do{i=o.cells[r=s],s=null,i.halfedges.forEach((function(n){var r=o.edges[n],a=r.left;if(a!==i.site&&a||(a=r.right)){var u=t-a[0],l=e-a[1],c=u*u+l*l;c<h&&(h=c,s=a.index)}}))}while(null!==s);return o._found=r,null==n||h<=n*n?i.site:null}},t.along=function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=rt(t).coordinates,i=0,o=0;o<r.length&&!(e>=i&&o===r.length-1);o++){if(i>=e){var s=e-i;if(s){var a=st(r[o],r[o-1])-180;return at(r[o],s,a,n)}return I(r[o])}i+=ut(r[o],r[o+1],n)}return I(r[r.length-1])},t.angle=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!Z(r))throw new Error("options is invalid");if(!t)throw new Error("startPoint is required");if(!e)throw new Error("midPoint is required");if(!n)throw new Error("endPoint is required");var i=t,o=e,s=n,a=G(!0!==r.mercator?st(o,i):lt(o,i)),u=G(!0!==r.mercator?st(o,s):lt(o,s));u<a&&(u+=360);var l=u-a;return!0===r.explementary?360-l:l},t.applyFilter=ji,t.area=Lt,t.areaFactors=k,t.azimuthToBearing=B,t.bbox=Rt,t.bboxClip=function(t,e){var n=rt(t),r=n.type,i="Feature"===t.type?t.properties:{},o=n.coordinates;switch(r){case"LineString":case"MultiLineString":var s=[];return"LineString"===r&&(o=[o]),o.forEach((function(t){!function(t,e,n){var r,i,o,s,a,u=t.length,l=Ft(t[0],e),h=[];for(n||(n=[]),r=1;r<u;r++){for(s=t[r-1],i=o=Ft(a=t[r],e);;){if(!(l|i)){h.push(s),i!==o?(h.push(a),r<u-1&&(n.push(h),h=[])):r===u-1&&h.push(a);break}if(l&i)break;l?l=Ft(s=Dt(s,a,l,e),e):i=Ft(a=Dt(s,a,i,e),e)}l=o}h.length&&n.push(h)}(t,e,s)})),1===s.length?L(s[0],i):T(s,i);case"Polygon":return S(qt(o,e),i);case"MultiPolygon":return R(o.map((function(t){return qt(t,e)})),i);default:throw new Error("geometry "+r+" not supported")}},t.bboxPolygon=Vt,t.bearing=st,t.bearingToAzimuth=G,t.bezierSpline=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.resolution||1e4,r=e.sharpness||.85,i=[],o=rt(t).coordinates.map((function(t){return{x:t[0],y:t[1]}})),s=new Gt({duration:n,points:o,sharpness:r}),a=function(t){var e=s.pos(t);Math.floor(t/100)%2==0&&i.push([e.x,e.y])},u=0;u<s.duration;u+=10)a(u);return a(s.duration),L(i,e.properties)},t.booleanClockwise=Bt,t.booleanConcave=function(t){var e=rt(t).coordinates;if(e[0].length<=4)return!1;for(var n=!1,r=e[0].length-1,i=0;i<r;i++){var o=e[0][(i+2)%r][0]-e[0][(i+1)%r][0],s=e[0][(i+2)%r][1]-e[0][(i+1)%r][1],a=e[0][i][0]-e[0][(i+1)%r][0],u=o*(e[0][i][1]-e[0][(i+1)%r][1])-s*a;if(0===i)n=u>0;else if(n!==u>0)return!0}return!1},t.booleanContains=function(t,e){var n=rt(t),r=rt(e),i=n.type,o=r.type,s=n.coordinates,u=r.coordinates;switch(i){case"Point":if("Point"===o)return Ht(s,u);throw new Error("feature2 "+o+" geometry not supported");case"MultiPoint":switch(o){case"Point":return function(t,e){var n,r=!1;for(n=0;n<t.coordinates.length;n++)if(Ht(t.coordinates[n],e.coordinates)){r=!0;break}return r}(n,r);case"MultiPoint":return function(t,e){var n,r=a(e.coordinates);try{for(r.s();!(n=r.n()).done;){var i,o=n.value,s=!1,u=a(t.coordinates);try{for(u.s();!(i=u.n()).done;){if(Ht(o,i.value)){s=!0;break}}}catch(t){u.e(t)}finally{u.f()}if(!s)return!1}}catch(t){r.e(t)}finally{r.f()}return!0}(n,r);default:throw new Error("feature2 "+o+" geometry not supported")}case"LineString":switch(o){case"Point":return jt(r,n,{ignoreEndVertices:!0});case"LineString":return function(t,e){var n,r=!1,i=a(e.coordinates);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(jt({type:"Point",coordinates:o},t,{ignoreEndVertices:!0})&&(r=!0),!jt({type:"Point",coordinates:o},t,{ignoreEndVertices:!1}))return!1}}catch(t){i.e(t)}finally{i.f()}return r}(n,r);case"MultiPoint":return function(t,e){var n,r=!1,i=a(e.coordinates);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(jt(o,t,{ignoreEndVertices:!0})&&(r=!0),!jt(o,t))return!1}}catch(t){i.e(t)}finally{i.f()}if(r)return!0;return!1}(n,r);default:throw new Error("feature2 "+o+" geometry not supported")}case"Polygon":switch(o){case"Point":return zt(r,n,{ignoreBoundary:!0});case"LineString":return function(t,e){var n=!1,r=0,i=Rt(t),o=Rt(e);if(!Zt(i,o))return!1;for(;r<e.coordinates.length-1;r++){if(zt({type:"Point",coordinates:Wt(e.coordinates[r],e.coordinates[r+1])},t,{ignoreBoundary:!0})){n=!0;break}}return n}(n,r);case"Polygon":return Ut(n,r);case"MultiPoint":return function(t,e){var n,r=a(e.coordinates);try{for(r.s();!(n=r.n()).done;){if(!zt(n.value,t,{ignoreBoundary:!0}))return!1}}catch(t){r.e(t)}finally{r.f()}return!0}(n,r);default:throw new Error("feature2 "+o+" geometry not supported")}case"MultiPolygon":if("Polygon"===o)return function(t,e){return t.coordinates.some((function(t){return Ut({type:"Polygon",coordinates:t},e)}))}(n,r);throw new Error("feature2 "+o+" geometry not supported");default:throw new Error("feature1 "+i+" geometry not supported")}},t.booleanCrosses=ce,t.booleanDisjoint=de,t.booleanEqual=function(t,e){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).precision;if("number"!=typeof(n=null==n||isNaN(n)?6:n)||!(n>=0))throw new Error("precision must be a positive number");return rt(t).type===rt(e).type&&Ne(Le(t),Le(e),{precision:n})},t.booleanIntersects=Oe,t.booleanOverlap=function(t,e){var n=rt(t),r=rt(e),i=n.type,o=r.type;if("MultiPoint"===i&&"MultiPoint"!==o||("LineString"===i||"MultiLineString"===i)&&"LineString"!==o&&"MultiLineString"!==o||("Polygon"===i||"MultiPolygon"===i)&&"Polygon"!==o&&"MultiPolygon"!==o)throw new Error("features must be of the same type");if("Point"===i)throw new Error("Point geometry not supported");if(Ne(t,e,{precision:6}))return!1;var s=0;switch(i){case"MultiPoint":for(var a=0;a<n.coordinates.length;a++)for(var u=0;u<r.coordinates.length;u++){var l=n.coordinates[a],h=r.coordinates[u];if(l[0]===h[0]&&l[1]===h[1])return!0}return!1;case"LineString":case"MultiLineString":kt(t,(function(t){kt(e,(function(e){kn(t,e).features.length&&s++}))}));break;case"Polygon":case"MultiPolygon":kt(t,(function(t){kt(e,(function(e){ue(t,e).features.length&&s++}))}))}return s>0},t.booleanParallel=function(t,e){if(!t)throw new Error("line1 is required");if(!e)throw new Error("line2 is required");if("LineString"!==In(t,"line1"))throw new Error("line1 must be a LineString");if("LineString"!==In(e,"line2"))throw new Error("line2 must be a LineString");for(var n=$e(Le(t)).features,r=$e(Le(e)).features,i=0;i<n.length;i++){var o=n[i].geometry.coordinates;if(!r[i])break;if(!wn(o,r[i].geometry.coordinates))return!1}return!0},t.booleanPointInPolygon=zt,t.booleanPointOnLine=jt,t.booleanTouches=function(t,e){var n=rt(t),r=rt(e),i=n.type,o=r.type;switch(i){case"Point":switch(o){case"LineString":return Nn(n,r);case"MultiLineString":for(var s=!1,a=0;a<r.coordinates.length;a++)Nn(n,{type:"LineString",coordinates:r.coordinates[a]})&&(s=!0);return s;case"Polygon":for(var u=0;u<r.coordinates.length;u++)if(jt(n,{type:"LineString",coordinates:r.coordinates[u]}))return!0;return!1;case"MultiPolygon":for(u=0;u<r.coordinates.length;u++)for(a=0;a<r.coordinates[u].length;a++)if(jt(n,{type:"LineString",coordinates:r.coordinates[u][a]}))return!0;return!1;default:throw new Error("feature2 "+o+" geometry not supported")}case"MultiPoint":switch(o){case"LineString":for(s=!1,u=0;u<n.coordinates.length;u++)if(s||Nn({type:"Point",coordinates:n.coordinates[u]},r)&&(s=!0),jt({type:"Point",coordinates:n.coordinates[u]},r,{ignoreEndVertices:!0}))return!1;return s;case"MultiLineString":for(s=!1,u=0;u<n.coordinates.length;u++)for(a=0;a<r.coordinates.length;a++)if(s||Nn({type:"Point",coordinates:n.coordinates[u]},{type:"LineString",coordinates:r.coordinates[a]})&&(s=!0),jt({type:"Point",coordinates:n.coordinates[u]},{type:"LineString",coordinates:r.coordinates[a]},{ignoreEndVertices:!0}))return!1;return s;case"Polygon":for(s=!1,u=0;u<n.coordinates.length;u++)if(s||jt({type:"Point",coordinates:n.coordinates[u]},{type:"LineString",coordinates:r.coordinates[0]})&&(s=!0),zt({type:"Point",coordinates:n.coordinates[u]},r,{ignoreBoundary:!0}))return!1;return s;case"MultiPolygon":for(s=!1,u=0;u<n.coordinates.length;u++)for(a=0;a<r.coordinates.length;a++)if(s||jt({type:"Point",coordinates:n.coordinates[u]},{type:"LineString",coordinates:r.coordinates[a][0]})&&(s=!0),zt({type:"Point",coordinates:n.coordinates[u]},{type:"Polygon",coordinates:r.coordinates[a]},{ignoreBoundary:!0}))return!1;return s;default:throw new Error("feature2 "+o+" geometry not supported")}case"LineString":switch(o){case"Point":return Nn(r,n);case"MultiPoint":for(s=!1,u=0;u<r.coordinates.length;u++)if(s||Nn({type:"Point",coordinates:r.coordinates[u]},n)&&(s=!0),jt({type:"Point",coordinates:r.coordinates[u]},n,{ignoreEndVertices:!0}))return!1;return s;case"LineString":var l=!1;if(Nn({type:"Point",coordinates:n.coordinates[0]},r)&&(l=!0),Nn({type:"Point",coordinates:n.coordinates[n.coordinates.length-1]},r)&&(l=!0),!1===l)return!1;for(u=0;u<n.coordinates.length;u++)if(jt({type:"Point",coordinates:n.coordinates[u]},r,{ignoreEndVertices:!0}))return!1;return l;case"MultiLineString":for(l=!1,u=0;u<r.coordinates.length;u++){Nn({type:"Point",coordinates:n.coordinates[0]},{type:"LineString",coordinates:r.coordinates[u]})&&(l=!0),Nn({type:"Point",coordinates:n.coordinates[n.coordinates.length-1]},{type:"LineString",coordinates:r.coordinates[u]})&&(l=!0);for(a=0;a<n.coordinates[u].length;a++)if(jt({type:"Point",coordinates:n.coordinates[a]},{type:"LineString",coordinates:r.coordinates[u]},{ignoreEndVertices:!0}))return!1}return l;case"Polygon":for(s=!1,u=0;u<n.coordinates.length;u++)if(s||jt({type:"Point",coordinates:n.coordinates[u]},{type:"LineString",coordinates:r.coordinates[0]})&&(s=!0),zt({type:"Point",coordinates:n.coordinates[u]},r,{ignoreBoundary:!0}))return!1;return s;case"MultiPolygon":for(s=!1,u=0;u<n.coordinates.length;u++){for(a=0;a<r.coordinates.length;a++)s||jt({type:"Point",coordinates:n.coordinates[u]},{type:"LineString",coordinates:r.coordinates[a][0]})&&(s=!0);if(zt({type:"Point",coordinates:n.coordinates[u]},r,{ignoreBoundary:!0}))return!1}return s;default:throw new Error("feature2 "+o+" geometry not supported")}case"MultiLineString":switch(o){case"Point":for(u=0;u<n.coordinates.length;u++)if(Nn(r,{type:"LineString",coordinates:n.coordinates[u]}))return!0;return!1;case"MultiPoint":for(s=!1,u=0;u<n.coordinates.length;u++)for(a=0;a<r.coordinates.length;a++)if(s||Nn({type:"Point",coordinates:r.coordinates[a]},{type:"LineString",coordinates:n.coordinates[a]})&&(s=!0),jt({type:"Point",coordinates:r.coordinates[a]},{type:"LineString",coordinates:n.coordinates[a]},{ignoreEndVertices:!0}))return!1;return s;case"LineString":for(l=!1,u=0;u<n.coordinates.length;u++){Nn({type:"Point",coordinates:n.coordinates[u][0]},r)&&(l=!0),Nn({type:"Point",coordinates:n.coordinates[u][n.coordinates[u].length-1]},r)&&(l=!0);for(a=0;a<r.coordinates.length;a++)if(jt({type:"Point",coordinates:r.coordinates[a]},{type:"LineString",coordinates:n.coordinates[u]},{ignoreEndVertices:!0}))return!1}return l;case"MultiLineString":for(l=!1,u=0;u<n.coordinates.length;u++)for(a=0;a<r.coordinates.length;a++){Nn({type:"Point",coordinates:n.coordinates[u][0]},{type:"LineString",coordinates:r.coordinates[a]})&&(l=!0),Nn({type:"Point",coordinates:n.coordinates[u][n.coordinates[u].length-1]},{type:"LineString",coordinates:r.coordinates[a]})&&(l=!0);for(var h=0;h<n.coordinates[u].length;h++)if(jt({type:"Point",coordinates:n.coordinates[u][h]},{type:"LineString",coordinates:r.coordinates[a]},{ignoreEndVertices:!0}))return!1}return l;case"Polygon":for(s=!1,u=0;u<n.coordinates.length;u++)for(a=0;a<n.coordinates.length;a++)if(s||jt({type:"Point",coordinates:n.coordinates[u][a]},{type:"LineString",coordinates:r.coordinates[0]})&&(s=!0),zt({type:"Point",coordinates:n.coordinates[u][a]},r,{ignoreBoundary:!0}))return!1;return s;case"MultiPolygon":for(s=!1,u=0;u<r.coordinates[0].length;u++)for(a=0;a<n.coordinates.length;a++)for(h=0;h<n.coordinates[a].length;h++)if(s||jt({type:"Point",coordinates:n.coordinates[a][h]},{type:"LineString",coordinates:r.coordinates[0][u]})&&(s=!0),zt({type:"Point",coordinates:n.coordinates[a][h]},{type:"Polygon",coordinates:[r.coordinates[0][u]]},{ignoreBoundary:!0}))return!1;return s;default:throw new Error("feature2 "+o+" geometry not supported")}case"Polygon":switch(o){case"Point":for(u=0;u<n.coordinates.length;u++)if(jt(r,{type:"LineString",coordinates:n.coordinates[u]}))return!0;return!1;case"MultiPoint":for(s=!1,u=0;u<r.coordinates.length;u++)if(s||jt({type:"Point",coordinates:r.coordinates[u]},{type:"LineString",coordinates:n.coordinates[0]})&&(s=!0),zt({type:"Point",coordinates:r.coordinates[u]},n,{ignoreBoundary:!0}))return!1;return s;case"LineString":for(s=!1,u=0;u<r.coordinates.length;u++)if(s||jt({type:"Point",coordinates:r.coordinates[u]},{type:"LineString",coordinates:n.coordinates[0]})&&(s=!0),zt({type:"Point",coordinates:r.coordinates[u]},n,{ignoreBoundary:!0}))return!1;return s;case"MultiLineString":for(s=!1,u=0;u<r.coordinates.length;u++)for(a=0;a<r.coordinates[u].length;a++)if(s||jt({type:"Point",coordinates:r.coordinates[u][a]},{type:"LineString",coordinates:n.coordinates[0]})&&(s=!0),zt({type:"Point",coordinates:r.coordinates[u][a]},n,{ignoreBoundary:!0}))return!1;return s;case"Polygon":for(s=!1,u=0;u<n.coordinates[0].length;u++)if(s||jt({type:"Point",coordinates:n.coordinates[0][u]},{type:"LineString",coordinates:r.coordinates[0]})&&(s=!0),zt({type:"Point",coordinates:n.coordinates[0][u]},r,{ignoreBoundary:!0}))return!1;return s;case"MultiPolygon":for(s=!1,u=0;u<r.coordinates[0].length;u++)for(a=0;a<n.coordinates[0].length;a++)if(s||jt({type:"Point",coordinates:n.coordinates[0][a]},{type:"LineString",coordinates:r.coordinates[0][u]})&&(s=!0),zt({type:"Point",coordinates:n.coordinates[0][a]},{type:"Polygon",coordinates:r.coordinates[0][u]},{ignoreBoundary:!0}))return!1;return s;default:throw new Error("feature2 "+o+" geometry not supported")}case"MultiPolygon":switch(o){case"Point":for(u=0;u<n.coordinates[0].length;u++)if(jt(r,{type:"LineString",coordinates:n.coordinates[0][u]}))return!0;return!1;case"MultiPoint":for(s=!1,u=0;u<n.coordinates[0].length;u++)for(a=0;a<r.coordinates.length;a++)if(s||jt({type:"Point",coordinates:r.coordinates[a]},{type:"LineString",coordinates:n.coordinates[0][u]})&&(s=!0),zt({type:"Point",coordinates:r.coordinates[a]},{type:"Polygon",coordinates:n.coordinates[0][u]},{ignoreBoundary:!0}))return!1;return s;case"LineString":for(s=!1,u=0;u<n.coordinates[0].length;u++)for(a=0;a<r.coordinates.length;a++)if(s||jt({type:"Point",coordinates:r.coordinates[a]},{type:"LineString",coordinates:n.coordinates[0][u]})&&(s=!0),zt({type:"Point",coordinates:r.coordinates[a]},{type:"Polygon",coordinates:n.coordinates[0][u]},{ignoreBoundary:!0}))return!1;return s;case"MultiLineString":for(s=!1,u=0;u<n.coordinates.length;u++)for(a=0;a<r.coordinates.length;a++)for(h=0;h<r.coordinates[a].length;h++)if(s||jt({type:"Point",coordinates:r.coordinates[a][h]},{type:"LineString",coordinates:n.coordinates[u][0]})&&(s=!0),zt({type:"Point",coordinates:r.coordinates[a][h]},{type:"Polygon",coordinates:[n.coordinates[u][0]]},{ignoreBoundary:!0}))return!1;return s;case"Polygon":for(s=!1,u=0;u<n.coordinates[0].length;u++)for(a=0;a<n.coordinates[0][u].length;a++)if(s||jt({type:"Point",coordinates:n.coordinates[0][u][a]},{type:"LineString",coordinates:r.coordinates[0]})&&(s=!0),zt({type:"Point",coordinates:n.coordinates[0][u][a]},r,{ignoreBoundary:!0}))return!1;return s;case"MultiPolygon":for(s=!1,u=0;u<n.coordinates[0].length;u++)for(a=0;a<r.coordinates[0].length;a++)for(h=0;h<n.coordinates[0].length;h++)if(s||jt({type:"Point",coordinates:n.coordinates[0][u][h]},{type:"LineString",coordinates:r.coordinates[0][a]})&&(s=!0),zt({type:"Point",coordinates:n.coordinates[0][u][h]},{type:"Polygon",coordinates:r.coordinates[0][a]},{ignoreBoundary:!0}))return!1;return s;default:throw new Error("feature2 "+o+" geometry not supported")}default:throw new Error("feature1 "+i+" geometry not supported")}},t.booleanValid=function(t){if(!t.type)return!1;var e=rt(t),n=e.type,r=e.coordinates;switch(n){case"Point":return r.length>1;case"MultiPoint":for(var i=0;i<r.length;i++)if(r[i].length<2)return!1;return!0;case"LineString":if(r.length<2)return!1;for(i=0;i<r.length;i++)if(r[i].length<2)return!1;return!0;case"MultiLineString":if(r.length<2)return!1;for(i=0;i<r.length;i++)if(r[i].length<2)return!1;return!0;case"Polygon":for(i=0;i<e.coordinates.length;i++){if(r[i].length<4)return!1;if(!Mn(r[i]))return!1;if(Ln(r[i]))return!1;if(i>0&&ue(S([r[0]]),S([r[i]])).features.length>1)return!1}return!0;case"MultiPolygon":for(i=0;i<e.coordinates.length;i++)for(var o=e.coordinates[i],s=0;s<o.length;s++){if(o[s].length<4)return!1;if(!Mn(o[s]))return!1;if(Ln(o[s]))return!1;if(0===s&&!Pn(o,e.coordinates,i))return!1;if(s>0&&ue(S([o[0]]),S([o[s]])).features.length>1)return!1}return!0;default:return!1}},t.booleanWithin=Cn,t.buffer=function(t,e,n){var r=(n=n||{}).units||"kilometers",i=n.steps||8;if(!t)throw new Error("geojson is required");if("object"!==m(n))throw new Error("options must be an object");if("number"!=typeof i)throw new Error("steps must be an number");if(void 0===e)throw new Error("radius is required");if(i<=0)throw new Error("steps must be greater than 0");var o=[];switch(t.type){case"GeometryCollection":return mt(t,(function(t){var n=ui(t,e,r,i);n&&o.push(n)})),C(o);case"FeatureCollection":return vt(t,(function(t){var n=ui(t,e,r,i);n&&vt(n,(function(t){t&&o.push(t)}))})),C(o)}return ui(t,e,r,i)},t.center=An,t.centerMean=fi,t.centerMedian=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Z(e=e||{}))throw new Error("options is invalid");var n=e.counter||10;if(!U(n))throw new Error("counter must be a number");var r=e.weight,i=fi(t,{weight:e.weight}),o=C([]);vt(t,(function(t){var e;o.features.push(gi(t,{properties:{weight:null==(e=t.properties)?void 0:e[r]}}))}));var s={tolerance:e.tolerance,medianCandidates:[]};return pi(i.geometry.coordinates,[0,0],o,s,n)},t.centerOfMass=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(it(e)){case"Point":return I(K(e),n.properties);case"Polygon":var r=[];ct(e,(function(t){r.push(t)}));var i,o,s,a,u,l,h,c,f=gi(e,{properties:n.properties}),g=f.geometry.coordinates,p=0,v=0,d=0,y=r.map((function(t){return[t[0]-g[0],t[1]-g[1]]}));for(i=0;i<r.length-1;i++)a=(o=y[i])[0],l=o[1],u=(s=y[i+1])[0],d+=c=a*(h=s[1])-u*l,p+=(a+u)*c,v+=(l+h)*c;if(0===d)return f;var m=1/(6*(.5*d));return I([g[0]+m*p,g[1]+m*v],n.properties);default:var _=Oi(e);return _?t(_,{properties:n.properties}):gi(e,{properties:n.properties})}},t.centroid=gi,t.circle=Ri,t.cleanCoords=Le,t.clone=Ai,t.cloneProperties=Fi,t.clusterEach=Bi,t.clusterReduce=Yi,t.clusters=$i,t.clustersDbscan=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!0!==n.mutate&&(t=Ai(t));var r=n.minPoints||3,i=V(e,n.units),o=new to(t.features.length),s=t.features.map((function(t){return!1})),a=t.features.map((function(t){return!1})),u=t.features.map((function(t){return!1})),l=t.features.map((function(t){return-1}));o.load(t.features.map((function(t,e){var n=v(t.geometry.coordinates,2),r=n[0],i=n[1];return{minX:r,minY:i,maxX:r,maxY:i,index:e}})));var h=function(n){var r=t.features[n],s=v(r.geometry.coordinates,2),a=s[0],u=s[1],l=Math.max(u-i,-90),h=Math.min(u+i,90),c=l<0&&h>0?i:Math.abs(l)<Math.abs(h)?i/Math.cos(z(h)):i/Math.cos(z(l)),f=Math.max(a-c,-360),g=Math.min(a+c,360),p={minX:f,minY:l,maxX:g,maxY:h};return o.search(p).filter((function(n){var i=n.index,o=t.features[i];return ut(r,o,{units:"kilometers"})<=e}))},c=0;return t.features.forEach((function(t,e){if(!s[e]){var n=h(e);if(n.length>=r){var i=c;c++,s[e]=!0,function(t,e){for(var n=0;n<e.length;n++){var i=e[n].index;if(!s[i]){s[i]=!0;var o=h(i);o.length>=r&&e.push.apply(e,d(o))}a[i]||(a[i]=!0,l[i]=t)}}(i,n)}else u[e]=!0}})),t.features.forEach((function(e,n){var r=t.features[n];r.properties||(r.properties={}),l[n]>=0?(r.properties.dbscan=u[n]?"edge":"core",r.properties.cluster=l[n]):r.properties.dbscan="noise"})),t},t.clustersKmeans=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.features.length;e.numberOfClusters=e.numberOfClusters||Math.round(Math.sqrt(n/2)),e.numberOfClusters>n&&(e.numberOfClusters=n),!0!==e.mutate&&(t=Ai(t));var r=yt(t),i=r.slice(0,e.numberOfClusters),o=ro(r,e.numberOfClusters,i),s={};return o.centroids.forEach((function(t,e){s[e]=t})),vt(t,(function(t,e){var n=o.idxs[e];t.properties.cluster=n,t.properties.centroid=s[n]})),t},t.collect=function(t,e,n,r){var i=new io(6),o=e.features.map((function(t){var e;return{minX:t.geometry.coordinates[0],minY:t.geometry.coordinates[1],maxX:t.geometry.coordinates[0],maxY:t.geometry.coordinates[1],property:null==(e=t.properties)?void 0:e[n]}}));return i.load(o),t.features.forEach((function(t){t.properties||(t.properties={});var e=Rt(t),n=i.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}),o=[];n.forEach((function(e){zt([e.minX,e.minY],t)&&o.push(e.property)})),t.properties[r]=o})),t},t.collectionOf=nt,t.combine=function(t){var e={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}};return vt(t,(function(t){var n,r,i,o;switch(null==(o=t.geometry)?void 0:o.type){case"Point":e.MultiPoint.coordinates.push(t.geometry.coordinates),e.MultiPoint.properties.push(t.properties);break;case"MultiPoint":(n=e.MultiPoint.coordinates).push.apply(n,d(t.geometry.coordinates)),e.MultiPoint.properties.push(t.properties);break;case"LineString":e.MultiLineString.coordinates.push(t.geometry.coordinates),e.MultiLineString.properties.push(t.properties);break;case"MultiLineString":(r=e.MultiLineString.coordinates).push.apply(r,d(t.geometry.coordinates)),e.MultiLineString.properties.push(t.properties);break;case"Polygon":e.MultiPolygon.coordinates.push(t.geometry.coordinates),e.MultiPolygon.properties.push(t.properties);break;case"MultiPolygon":(i=e.MultiPolygon.coordinates).push.apply(i,d(t.geometry.coordinates)),e.MultiPolygon.properties.push(t.properties)}})),C(Object.keys(e).filter((function(t){return e[t].coordinates.length})).sort().map((function(t){return b({type:t,coordinates:e[t].coordinates},{collectedProperties:e[t].properties})})))},t.concave=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.maxEdge||1/0,r=function(t){var e=[],n={};return vt(t,(function(t){if(t.geometry){var r=t.geometry.coordinates.join("-");Object.prototype.hasOwnProperty.call(n,r)||(e.push(t),n[r]=!0)}})),C(e)}(t),i=oo(r);if(i.features=i.features.filter((function(t){var r=t.geometry.coordinates[0][0],i=t.geometry.coordinates[0][1],o=t.geometry.coordinates[0][2],s=ut(r,i,e),a=ut(i,o,e),u=ut(r,o,e);return s<=n&&a<=n&&u<=n})),i.features.length<1)return null;var o=Ro(i);return 1===o.coordinates.length&&(o.coordinates=o.coordinates[0],o.type="Polygon"),b(o)},t.containsNumber=$,t.convertArea=X,t.convertLength=j,t.convex=Oi,t.coordAll=yt,t.coordEach=ct,t.coordReduce=ft,t.createBins=zi,t.degreesToRadians=z,t.destination=at,t.difference=function(t){var e=[];if(mt(t,(function(t){e.push(t.coordinates)})),e.length<2)throw new Error("Must have at least two features");var n=t.features[0].properties||{},r=As.apply(Fs,[e[0]].concat(d(e.slice(1))));return 0===r.length?null:1===r.length?S(r[0],n):R(r,n)},t.dissolve=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Z(e=e||{}))throw new Error("options is invalid");var n=e.propertyName;nt(t,"Polygon","dissolve");var r=[];if(!n)return qs(R(Os.apply(null,t.features.map((function(t){return t.geometry.coordinates})))));var i={};vt(t,(function(t){t.properties&&(Object.prototype.hasOwnProperty.call(i,t.properties[n])||(i[t.properties[n]]=[]),i[t.properties[n]].push(t))}));for(var o=Object.keys(i),s=0;s<o.length;s++){var a=R(Os.apply(null,i[o[s]].map((function(t){return t.geometry.coordinates}))));a&&a.properties&&(a.properties[n]=o[s],r.push(a))}return qs(C(r))},t.distance=ut,t.distanceWeight=Gs,t.earthRadius=x,t.ellipse=js,t.envelope=Us,t.explode=Zs,t.factors=E,t.feature=b,t.featureCollection=C,t.featureEach=vt,t.featureOf=et,t.featureReduce=dt,t.filterProperties=Ui,t.findPoint=St,t.findSegment=Nt,t.flatten=qs,t.flattenEach=xt,t.flattenReduce=Et,t.flip=function(t,e){var n;if(!Z(e=e||{}))throw new Error("options is invalid");var r=null!=(n=e.mutate)&&n;if(!t)throw new Error("geojson is required");return!1!==r&&void 0!==r||(t=Ai(t)),ct(t,(function(t){var e=t[0],n=t[1];t[0]=n,t[1]=e})),t},t.geojsonRbush=Qe,t.geojsonType=tt,t.geomEach=mt,t.geomReduce=_t,t.geometry=w,t.geometryCollection=A,t.getCluster=Gi,t.getCoord=K,t.getCoords=Q,t.getGeom=rt,t.getType=it,t.greatCircle=function(t,e,n){if("object"!==m(n=n||{}))throw new Error("options is invalid");var r=n.properties,i=n.npoints,o=n.offset;if(t=K(t),e=K(e),r=r||{},i=i||100,t[0]===e[0]&&t[1]===e[1]){var s=Array(i);return s.fill([t[0],t[1]]),L(s,r)}return o=o||10,new $s({x:t[0],y:t[1]},{x:e[0],y:e[1]},r).Arc(i,{offset:o}).json()},t.helpers=J,t.hexGrid=ea,t.interpolate=function(t,e,n){if("object"!==m(n=n||{}))throw new Error("options is invalid");var r,i=n.gridType,o=n.property,s=n.weight,a=n.bbox;if(!t)throw new Error("points is required");if(nt(t,"Point","input must contain Points"),!e)throw new Error("cellSize is required");if(void 0!==s&&"number"!=typeof s)throw new Error("weight must be a number");switch(o=o||"elevation",i=i||"square",s=s||1,H(a=null!=a?a:Rt(t)),i){case"point":case"points":r=ia(a,e,n);break;case"square":case"squares":r=sa(a,e,n);break;case"hex":case"hexes":r=ea(a,e,n);break;case"triangle":case"triangles":r=aa(a,e,n);break;default:throw new Error("invalid gridType")}var u=[];return vt(r,(function(e){var r=0,a=0;vt(t,(function(t){var u,l=ut("point"===i?e:gi(e),t,n);if(void 0!==o&&(u=t.properties[o]),void 0===u&&(u=t.geometry.coordinates[2]),void 0===u)throw new Error("zValue is missing");0===l&&(r=u);var h=1/Math.pow(l,s);a+=h,r+=h*u}));var l=Ai(e);l.properties[o]=r/a,u.push(l)})),C(u)},t.intersect=ta,t.invariant=ot,t.isNumber=U,t.isObject=Z,t.isobands=function(t,e,n){if(!Z(n=n||{}))throw new Error("options is invalid");var r=n.zProperty||"elevation",i=n.commonProperties||{},o=n.breaksProperties||[];if(nt(t,"Point","Input must contain Points"),!e)throw new Error("breaks is required");if(!Array.isArray(e))throw new Error("breaks is not an Array");if(!Z(i))throw new Error("commonProperties is not an Object");if(!Array.isArray(o))throw new Error("breaksProperties is not an Array");var s=Pa(t,{zProperty:r,flip:!0}),a=function(t,e,n){for(var r=[],i=1;i<e.length;i++){var o=+e[i-1],s=+e[i],a=Ta(Ca(Ea(t,o,s-o)));r.push(u({groupedRings:a},n,o+"-"+s))}return r}(s,e,r);a=function(t,e,n){var r=Rt(n),i=r[2]-r[0],o=r[3]-r[1],s=r[0],a=r[1],u=e[0].length-1,l=e.length-1,h=i/u,c=o/l;return t.map((function(t){return t.groupedRings=t.groupedRings.map((function(t){return t.map((function(t){return t.map((function(t){return[t[0]*h+s,t[1]*c+a]}))}))})),t}))}(a,s,t);var l=a.map((function(t,e){if(o[e]&&!Z(o[e]))throw new Error("Each mappedProperty is required to be an Object");var n=La(La({},i),o[e]);return n[r]=t[r],R(t.groupedRings,n)}));return C(l)},t.isolines=function(t,e,n){if(!Z(n=n||{}))throw new Error("options is invalid");var r=n.zProperty||"elevation",i=n.commonProperties||{},o=n.breaksProperties||[];if(nt(t,"Point","Input must contain Points"),!e)throw new Error("breaks is required");if(!Array.isArray(e))throw new Error("breaks must be an Array");if(!Z(i))throw new Error("commonProperties must be an Object");if(!Array.isArray(o))throw new Error("breaksProperties must be an Array");var s=Ba(t,{zProperty:r,flip:!0}),a=function(t,e,n){var r=Rt(n),i=r[2]-r[0],o=r[3]-r[1],s=r[0],a=r[1],u=e[0].length-1,l=e.length-1,h=i/u,c=o/l,f=function(t){t[0]=t[0]*h+s,t[1]=t[1]*c+a};return t.forEach((function(t){ct(t,f)})),t}(function(t,e,n,r,i){for(var o=[],s=0;s<e.length;s++){var a=+e[s],u=Ga(Ga({},r),i[s]);u[n]=a;var l=T(ma(t,a,{linearRing:!1,noFrame:!0}),u);o.push(l)}return o}(s,e,r,i,o),s,t);return C(a)},t.kinks=function(t){var e,n,r={type:"FeatureCollection",features:[]};if("LineString"===(n="Feature"===t.type?t.geometry:t).type)e=[n.coordinates];else if("MultiLineString"===n.type)e=n.coordinates;else if("MultiPolygon"===n.type){var i;e=(i=[]).concat.apply(i,d(n.coordinates))}else{if("Polygon"!==n.type)throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");e=n.coordinates}return e.forEach((function(t){e.forEach((function(e){for(var n=0;n<t.length-1;n++)for(var i=n;i<e.length-1;i++){if(t===e){if(1===Math.abs(n-i))continue;if(0===n&&i===t.length-2&&t[n][0]===t[t.length-1][0]&&t[n][1]===t[t.length-1][1])continue}var o=Ya(t[n][0],t[n][1],t[n+1][0],t[n+1][1],e[i][0],e[i][1],e[i+1][0],e[i+1][1]);o&&r.features.push(I([o[0],o[1]]))}}))})),r},t.length=za,t.lengthToDegrees=V,t.lengthToRadians=q,t.lineArc=ja,t.lineChunk=function(t,e,n){if(!Z(n=n||{}))throw new Error("options is invalid");var r=n.units,i=n.reverse;if(!t)throw new Error("geojson is required");if(e<=0)throw new Error("segmentLength must be greater than 0");var o=[];return xt(t,(function(t){i&&(t.geometry.coordinates=t.geometry.coordinates.reverse()),function(t,e,n,r){var i=za(t,{units:n});if(i<=e)return r(t);var o=i/e;Number.isInteger(o)||(o=Math.floor(o)+1);for(var s=0;s<o;s++){r(Ua(t,e*s,e*(s+1),{units:n}),s)}}(t,e,r,(function(t){o.push(t)}))})),C(o)},t.lineEach=wt,t.lineIntersect=ue,t.lineOffset=function(t,e,n){if(!Z(n=n||{}))throw new Error("options is invalid");var r=n.units;if(!t)throw new Error("geojson is required");if(null==e||isNaN(e))throw new Error("distance is required");var i=it(t),o=t.properties;switch(i){case"LineString":return Ja(t,e,r);case"MultiLineString":var s=[];return xt(t,(function(t){s.push(Ja(t,e,r).geometry.coordinates)})),T(s,o);default:throw new Error("geometry "+i+" is not supported")}},t.lineOverlap=kn,t.lineReduce=It,t.lineSegment=$e,t.lineSlice=function(t,e,n){var r=Q(n);if("LineString"!==it(n))throw new Error("line must be a LineString");for(var i,o=fn(n,t),s=fn(n,e),a=[(i=o.properties.index<=s.properties.index?[o,s]:[s,o])[0].geometry.coordinates],u=i[0].properties.index+1;u<i[1].properties.index+1;u++)a.push(r[u]);return a.push(i[1].geometry.coordinates),L(a,n.properties)},t.lineSliceAlong=Ua,t.lineSplit=function(t,e){if(!t)throw new Error("line is required");if(!e)throw new Error("splitter is required");var n=it(t),r=it(e);if("LineString"!==n)throw new Error("line must be LineString");if("FeatureCollection"===r)throw new Error("splitter cannot be a FeatureCollection");if("GeometryCollection"===r)throw new Error("splitter cannot be a GeometryCollection");var i=Qa(e,{precision:7});switch(r){case"Point":return tu(t,i);case"MultiPoint":return $a(t,i);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return $a(t,ue(t,i,{ignoreSelfIntersections:!0}))}},t.lineString=L,t.lineStrings=P,t.lineToPolygon=function(t){var e,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=i.properties,s=null==(e=i.autoComplete)||e,a=null==(n=i.orderCoords)||n;if(null!=(r=i.mutate)&&r||(t=Ai(t)),"FeatureCollection"===t.type){var u=[];return t.features.forEach((function(t){u.push(Q(ru(t,{},s,a)))})),R(u,o)}return ru(t,o,s,a)},t.mask=function(t,e,n){var r,i=null!=(r=null==n?void 0:n.mutate)&&r,o=e;e&&!1===i&&(o=Ai(e));var s,a=su(o);return("FeatureCollection"===t.type?ou(2===(s=t).features.length?Os(s.features[0].geometry.coordinates,s.features[1].geometry.coordinates):Os.apply(Fs,s.features.map((function(t){return t.geometry.coordinates})))):"Feature"===t.type?ou(Os(t.geometry.coordinates)):ou(Os(t.coordinates))).geometry.coordinates.forEach((function(t){a.geometry.coordinates.push(t[0])})),a},t.meta=Mt,t.midpoint=function(t,e){return at(t,ut(t,e)/2,st(t,e))},t.moranIndex=function(t,e){var n,r,i=e.inputField,o=e.threshold||1e5,s=e.p||2,u=null!=(n=e.binary)&&n,l=Gs(t,{alpha:e.alpha||-1,binary:u,p:s,standardization:null==(r=e.standardization)||r,threshold:o}),h=[];vt(t,(function(t){var e=t.properties||{};h.push(e[i])}));for(var c=au(h),f=function(t){var e,n=au(t),r=0,i=a(t);try{for(i.s();!(e=i.n()).done;){var o=e.value;r+=Math.pow(o-n,2)}}catch(t){i.e(t)}finally{i.f()}return r/t.length}(h),g=0,p=0,v=0,d=0,y=l.length,m=0;m<y;m++){for(var _=0,x=0;x<y;x++)g+=l[m][x]*(h[m]-c)*(h[x]-c),p+=l[m][x],v+=Math.pow(l[m][x]+l[x][m],2),_+=l[m][x]+l[x][m];d+=Math.pow(_,2)}var E=g/p/f,k=-1/(y-1),b=(y*y*(v*=.5)-y*d+p*p*3)/((y-1)*(y+1)*(p*p))-k*k,w=Math.sqrt(b);return{expectedMoranIndex:k,moranIndex:E,stdNorm:w,zNorm:(E-k)/w}},t.multiLineString=T,t.multiPoint=O,t.multiPolygon=R,t.nearestNeighborAnalysis=function(t,e){var n=(e=e||{}).studyArea||Vt(Rt(t)),r=e.properties||{},i=e.units||"kilometers",o=[];vt(t,(function(t){o.push(gi(t))}));var s=o.length,a=o.map((function(t,e){return ut(t,yu(t,C(o.filter((function(t,n){return n!==e})))).geometry.coordinates,{units:i})})).reduce((function(t,e){return t+e}),0)/s,u=s/X(Lt(n),"meters",i),l=1/(2*Math.sqrt(u)),h=.26136/Math.sqrt(s*u);return r.nearestNeighborAnalysis={units:i,arealUnits:i+"",observedMeanDistance:a,expectedMeanDistance:l,nearestNeighborIndex:a/l,numberOfPoints:s,zScore:(a-l)/h},n.properties=r,n},t.nearestPoint=yu,t.nearestPointOnLine=fn,t.nearestPointToLine=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.units,i=n.properties||{},o=function(t){var e=[];switch(t.geometry?t.geometry.type:t.type){case"GeometryCollection":return mt(t,(function(t){"Point"===t.type&&e.push({type:"Feature",properties:{},geometry:t})})),{type:"FeatureCollection",features:e};case"FeatureCollection":return t.features=t.features.filter((function(t){return"Point"===t.geometry.type})),t;default:throw new Error("points must be a Point Collection")}}(t);if(!o.features.length)throw new Error("points must contain features");if(!e)throw new Error("line is required");if("LineString"!==it(e))throw new Error("line must be a LineString");var s=1/0,a=null;return vt(o,(function(t){var n=mu(t,e,{units:r});n<s&&(s=n,a=t)})),a&&(a.properties=Iu(Iu(Iu({},{dist:s}),a.properties),i)),a},t.planepoint=function(t,e){var n=K(t),r=rt(e).coordinates[0];if(r.length<4)throw new Error("OuterRing of a Polygon must have 4 or more Positions.");var i="Feature"===e.type&&e.properties||{},o=i.a,s=i.b,a=i.c,u=n[0],l=n[1],h=r[0][0],c=r[0][1],f=void 0!==o?o:r[0][2],g=r[1][0],p=r[1][1],v=void 0!==s?s:r[1][2],d=r[2][0],y=r[2][1],m=void 0!==a?a:r[2][2];return(m*(u-h)*(l-p)+f*(u-g)*(l-y)+v*(u-d)*(l-c)-v*(u-h)*(l-y)-m*(u-g)*(l-c)-f*(u-d)*(l-p))/((u-h)*(l-p)+(u-g)*(l-y)+(u-d)*(l-c)-(u-h)*(l-y)-(u-g)*(l-c)-(u-d)*(l-p))},t.point=I,t.pointGrid=ia,t.pointOnFeature=function(t){for(var e=function(t){if("FeatureCollection"!==t.type)return"Feature"!==t.type?C([b(t)]):C([t]);return t}(t),n=An(e),r=!1,i=0;!r&&i<e.features.length;){var o=e.features[i].geometry,s=!1;if("Point"===o.type)n.geometry.coordinates[0]===o.coordinates[0]&&n.geometry.coordinates[1]===o.coordinates[1]&&(r=!0);else if("MultiPoint"===o.type)for(var a=!1,u=0;!a&&u<o.coordinates.length;)n.geometry.coordinates[0]===o.coordinates[u][0]&&n.geometry.coordinates[1]===o.coordinates[u][1]&&(r=!0,a=!0),u++;else if("LineString"===o.type)for(var l=0;!s&&l<o.coordinates.length-1;)Nu(n.geometry.coordinates[0],n.geometry.coordinates[1],o.coordinates[l][0],o.coordinates[l][1],o.coordinates[l+1][0],o.coordinates[l+1][1])&&(s=!0,r=!0),l++;else if("MultiLineString"===o.type)for(var h=0;h<o.coordinates.length;){s=!1;for(var c=0,f=o.coordinates[h];!s&&c<f.length-1;)Nu(n.geometry.coordinates[0],n.geometry.coordinates[1],f[c][0],f[c][1],f[c+1][0],f[c+1][1])&&(s=!0,r=!0),c++;h++}else"Polygon"!==o.type&&"MultiPolygon"!==o.type||zt(n,o)&&(r=!0);i++}if(r)return n;for(var g=C([]),p=0;p<e.features.length;p++)g.features=g.features.concat(Zs(e.features[p]).features);return I(yu(n,g).geometry.coordinates)},t.pointToLineDistance=mu,t.pointToPolygonDistance=function t(e,r){var i,o,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=null!=(i=s.method)?i:"geodesic",u=null!=(o=s.units)?o:"kilometers";if(!e)throw new Error("point is required");if(!r)throw new Error("polygon or multi-polygon is required");var l,h=rt(r);if("MultiPolygon"===h.type){var c=h.coordinates.map((function(n){return t(e,S(n),{method:a,units:u})}));return Math.min.apply(Math,d(c.map(Math.abs)))*(zt(e,r)?-1:1)}if(h.coordinates.length>1){var p=h.coordinates.map((function(n){return t(e,S([n]),{method:a,units:u})})),v=n(l=p)||f(l)||_(l)||g(),y=v[0],m=v.slice(1);if(y>=0)return y;var x=Math.min.apply(Math,d(m));return x<0?Math.abs(x):Math.min(x,Math.abs(y))}var E=le(h),k=1/0;return xt(E,(function(t){k=Math.min(k,mu(e,t,{method:a,units:u}))})),zt(e,h)?-k:k},t.points=N,t.pointsWithinPolygon=Su,t.polygon=S,t.polygonSmooth=function(t,e){(e=e||{}).iterations=e.iterations||1;var n=e.iterations,r=[];if(!t)throw new Error("inputPolys is required");return mt(t,(function(t,e,i){if("Polygon"===t.type){for(var o=[[]],s=0;s<n;s++){var a=[],u=t;s>0&&(u=S(o).geometry),Ru(u,a),o=a.slice(0)}r.push(S(o,i))}else{if("MultiPolygon"!==t.type)throw new Error("geometry is invalid, must be Polygon or MultiPolygon");for(var l=[[[]]],h=0;h<n;h++){var c=[],f=t;h>0&&(f=R(l).geometry),Au(f,c),l=c.slice(0)}r.push(R(l,i))}})),C(r)},t.polygonTangents=function(t,e){var n,r=Q(t),i=Q(e),o=[],s=[],a=Rt(e),u=0,l=null;switch(r[0]>a[0]&&r[0]<a[2]&&r[1]>a[1]&&r[1]<a[3]&&(u=(l=yu(t,Zs(e))).properties.featureIndex),it(e)){case"Polygon":o=i[0][u],s=i[0][0],null!==l&&l.geometry.coordinates[1]<r[1]&&(s=i[0][u]),n=qu(i[0][0],i[0][i[0].length-1],r);var h=v(Du(i[0],r,n,o,s),2);o=h[0],s=h[1];break;case"MultiPolygon":for(var c=0,f=0,g=0,p=0;p<i[0].length;p++){c=p;for(var d=!1,y=0;y<i[0][p].length;y++){if(f=y,g===u){d=!0;break}g++}if(d)break}o=i[0][c][f],s=i[0][c][f],n=qu(i[0][0][0],i[0][0][i[0][0].length-1],r),i.forEach((function(t){var e=v(Du(t[0],r,n,o,s),2);o=e[0],s=e[1]}))}return C([I(o),I(s)])},t.polygonToLine=le,t.polygonize=function(t){var e=Ou.fromGeoJson(t);e.deleteDangles(),e.deleteCutEdges();var n=[],r=[];return e.getEdgeRings().filter((function(t){return t.isValid()})).forEach((function(t){t.isHole()?n.push(t):r.push(t)})),n.forEach((function(t){Tu.findEdgeRingContaining(t,r)&&r.push(t)})),C(r.map((function(t){return t.toPolygon()})))},t.polygons=M,t.projection=ju,t.propEach=gt,t.propReduce=pt,t.propertiesContainsFilter=Xi,t.quadratAnalysis=function(t,e){for(var n=(e=e||{}).studyBbox||Rt(t),r=e.confidenceLevel||20,i=t.features,o=i.length,s=Lt(Vt(n)),u=sa(n,Math.sqrt(s/o*2),{units:"meters"}).features,l={},h=0;h<u.length;h++)l[h]={box:Rt(u[h]),cnt:0};var c,f=0,g=a(i);try{for(g.s();!(c=g.n()).done;)for(var p=c.value,v=0,d=Object.keys(l);v<d.length;v++){var y=d[v],m=l[y].box;if(Uu(K(p),m)){l[y].cnt+=1,f+=1;break}}}catch(t){g.e(t)}finally{g.f()}for(var _=0,x=0,E=Object.keys(l);x<E.length;x++){var k=l[E[x]].cnt;k>_&&(_=k)}for(var b=[],w=Object.keys(l).length,I=f/w,N=0,S=0;S<_+1;S++)N+=Math.exp(-I)*Math.pow(I,S)/Zu(S),b.push(N);for(var M=[],L=0,P=0;P<_+1;P++){for(var C=0,T=Object.keys(l);C<T.length;C++){l[T[C]].cnt===P&&(L+=1)}var O=L/w;M.push(O)}for(var R=0,A=0;A<_+1;A++){var D=Math.abs(b[A]-M[A]);D>R&&(R=D)}var F=Xu[r]/Math.sqrt(w),q={criticalValue:F,isRandom:!0,maxAbsoluteDifference:R,observedDistribution:M};return R>F&&(q.isRandom=!1),q},t.radiansToDegrees=Y,t.radiansToLength=F,t.random=nl,t.randomLineString=$u,t.randomPoint=Ku,t.randomPolygon=Qu,t.randomPosition=Hu,t.rectangleGrid=oa,t.rewind=function(t){var e,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Z(r=r||{}))throw new Error("options is invalid");var i=null!=(e=r.mutate)&&e,o=null!=(n=r.reverse)&&n;if(!t)throw new Error("<geojson> is required");if("boolean"!=typeof o)throw new Error("<reverse> must be a boolean");if("boolean"!=typeof i)throw new Error("<mutate> must be a boolean");i||"Point"===t.type||"MultiPoint"===t.type||(t=Ai(t));var s=[];switch(t.type){case"GeometryCollection":return mt(t,(function(t){rl(t,o)})),t;case"FeatureCollection":return vt(t,(function(t){vt(rl(t,o),(function(t){s.push(t)}))})),C(s)}return rl(t,o)},t.rhumbBearing=lt,t.rhumbDestination=Bs,t.rhumbDistance=Ys,t.round=D,t.sample=function(t,e){if(!t)throw new Error("fc is required");if(null==e)throw new Error("num is required");if("number"!=typeof e)throw new Error("num must be a number");var n=C(function(t,e){var n,r,i=t.slice(0),o=t.length,s=o-e;for(;o-- >s;)n=i[r=Math.floor((o+1)*Math.random())],i[r]=i[o],i[o]=n;return i.slice(s)}(t.features,e));return n},t.sector=function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(!Z(i=i||{}))throw new Error("options is invalid");var o=i.properties;if(!t)throw new Error("center is required");if(null==n)throw new Error("bearing1 is required");if(null==r)throw new Error("bearing2 is required");if(!e)throw new Error("radius is required");if("object"!==m(i))throw new Error("options must be an object");if(sl(n)===sl(r))return Ri(t,e,i);var s=Q(t),a=ja(t,e,n,r,i),u=[[s]];return ct(a,(function(t){u[0].push(t)})),u[0].push(s),S(u,o)},t.segmentEach=kt,t.segmentReduce=bt,t.shortestPath=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!Z(n=n||{}))throw new Error("options is invalid");var r=n.obstacles||C([]),i=n.resolution||100;if(!t)throw new Error("start is required");if(!e)throw new Error("end is required");if(i&&(!U(i)||i<=0))throw new Error("options.resolution must be a number, greater than 0");var o=K(t),s=K(e);if(t=I(o),e=I(s),"FeatureCollection"===r.type){if(0===r.features.length)return L([o,s])}else{if("Polygon"!==r.type)throw new Error("invalid obstacles");r=C([b(rt(r))])}var a=r;a.features.push(t),a.features.push(e);var u=v(Rt(al(Vt(Rt(a)),1.15)),4),l=u[0],h=u[1],c=u[2],f=u[3],g=ut([l,h],[c,h],n)/i;a.features.pop(),a.features.pop();for(var p,d,y=g/ut([l,h],[c,h],n)*(c-l),m=g/ut([l,h],[l,f],n)*(f-h),_=c-l,x=f-h,E=Math.floor(_/y),k=Math.floor(x/m),w=(_-E*y)/2,N=[],S=[],M=1/0,P=1/0,T=f-(x-k*m)/2,O=0;T>=h;){for(var R=[],A=[],D=l+w,F=0;D<=c;){var q=I([D,T]),V=pl(q,r);R.push(V?0:1),A.push(D+"|"+T);var G=ut(q,t);!V&&G<M&&(M=G,p={x:F,y:O});var B=ut(q,e);!V&&B<P&&(P=B,d={x:F,y:O}),D+=y,F++}S.push(R),N.push(A),T-=m,O++}var Y=new cl(S,{diagonal:!0}),z=Y.grid[p.y][p.x],j=Y.grid[d.y][d.x],X=hl.search(Y,z,j),H=[o];return X.forEach((function(t){var e=N[t.x][t.y].split("|");H.push([+e[0],+e[1]])})),H.push(s),Le(L(H))},t.simplify=function(t){var e,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Z(i=null!=i?i:{}))throw new Error("options is invalid");var o=null!=(e=i.tolerance)?e:1,s=null!=(n=i.highQuality)&&n,a=null!=(r=i.mutate)&&r;if(!t)throw new Error("geojson is required");if(o&&o<0)throw new Error("invalid tolerance");return!0!==a&&(t=Ai(t)),mt(t,(function(t){!function(t,e,n){var r=t.type;if("Point"===r||"MultiPoint"===r)return t;if(Le(t,{mutate:!0}),"GeometryCollection"!==r)switch(r){case"LineString":t.coordinates=ml(t.coordinates,e,n);break;case"MultiLineString":t.coordinates=t.coordinates.map((function(t){return ml(t,e,n)}));break;case"Polygon":t.coordinates=_l(t.coordinates,e,n);break;case"MultiPolygon":t.coordinates=t.coordinates.map((function(t){return _l(t,e,n)}))}}(t,o,s)})),t},t.square=Ka,t.squareGrid=sa,t.standardDeviationalEllipse=function(t,e){var n;if(!Z(e=e||{}))throw new Error("options is invalid");var r=e.steps||64,i=e.weight,o=e.properties||{};if(!U(r))throw new Error("steps must be a number");if(!Z(o))throw new Error("properties must be a number");var s=yt(t).length,a=fi(t,{weight:i}),u=0,l=0,h=0;vt(t,(function(t){var e,n=i&&(null==(e=t.properties)?void 0:e[i])||1,r=El(Q(t),Q(a));u+=Math.pow(r.x,2)*n,l+=Math.pow(r.y,2)*n,h+=r.x*r.y*n}));var c=u-l,f=Math.sqrt(Math.pow(c,2)+4*Math.pow(h,2)),g=2*h,p=Math.atan((c+f)/g),v=180*p/Math.PI,d=0,y=0,m=0;vt(t,(function(t){var e,n=i&&(null==(e=t.properties)?void 0:e[i])||1,r=El(Q(t),Q(a));d+=Math.pow(r.x*Math.cos(p)-r.y*Math.sin(p),2)*n,y+=Math.pow(r.x*Math.sin(p)+r.y*Math.cos(p),2)*n,m+=n}));var _=Math.sqrt(2*d/m),x=Math.sqrt(2*y/m),E=js(a,_,x,{units:"degrees",angle:v,steps:r,properties:o}),k=Su(t,C([E])),b={meanCenterCoordinates:Q(a),semiMajorAxis:_,semiMinorAxis:x,numberOfFeatures:s,angle:v,percentageWithinEllipse:100*yt(k).length/s};return E.properties=null!=(n=E.properties)?n:{},E.properties.standardDeviationalEllipse=b,E},t.tag=function(t,e,n,r){return t=Ai(t),e=Ai(e),vt(t,(function(t){t.properties||(t.properties={}),vt(e,(function(e){t.properties&&e.properties&&void 0===t.properties[r]&&zt(t,e)&&(t.properties[r]=e.properties[n])}))})),t},t.tesselate=function(t){if(!t.geometry||"Polygon"!==t.geometry.type&&"MultiPolygon"!==t.geometry.type)throw new Error("input must be a Polygon or MultiPolygon");var e={type:"FeatureCollection",features:[]};return"Polygon"===t.geometry.type?e.features=Nl(t.geometry.coordinates):t.geometry.coordinates.forEach((function(t){e.features=e.features.concat(Nl(t))})),e},t.tin=oo,t.toMercator=Vu,t.toWgs84=Gu,t.transformRotate=zs,t.transformScale=al,t.transformTranslate=function(t,e,n,r){if(!Z(r=r||{}))throw new Error("options is invalid");var i=r.units,o=r.zTranslation,s=r.mutate;if(!t)throw new Error("geojson is required");if(null==e||isNaN(e))throw new Error("distance is required");if(o&&"number"!=typeof o&&isNaN(o))throw new Error("zTranslation is not a number");if(o=void 0!==o?o:0,0===e&&0===o)return t;if(null==n||isNaN(n))throw new Error("direction is required");return e<0&&(e=-e,n+=180),!1!==s&&void 0!==s||(t=Ai(t)),ct(t,(function(t){var r=Q(Bs(t,e,n,{units:i}));t[0]=r[0],t[1]=r[1],o&&3===t.length&&(t[2]+=o)})),t},t.triangleGrid=aa,t.truncate=Qa,t.union=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];if(mt(t,(function(t){n.push(t.coordinates)})),n.length<2)throw new Error("Must have at least 2 geometries");var r=Os.apply(Fs,[n[0]].concat(d(n.slice(1))));return 0===r.length?null:1===r.length?S(r[0],e.properties):R(r,e.properties)},t.unkinkPolygon=function(t){var e=[];return xt(t,(function(t){"Polygon"===t.geometry.type&&vt(Ll(t),(function(n){e.push(S(n.geometry.coordinates,t.properties))}))})),C(e)},t.validateBBox=H,t.validateId=W,t.voronoi=function(t,e){if(!Z(e=e||{}))throw new Error("options is invalid");var n=e.bbox||[-180,-85,180,85];if(!t)throw new Error("points is required");if(!Array.isArray(n))throw new Error("bbox is invalid");return nt(t,"Point","points"),C(function(){var t=Fl,e=ql,n=null;function r(r){return new mh(r.map((function(n,i){var o=[Math.round(t(n,i,r)/vh)*vh,Math.round(e(n,i,r)/vh)*vh];return o.index=i,o.data=n,o})),n)}return r.polygons=function(t){return r(t).polygons()},r.links=function(t){return r(t).links()},r.triangles=function(t){return r(t).triangles()},r.x=function(e){return arguments.length?(t="function"==typeof e?e:Dl(+e),r):t},r.y=function(t){return arguments.length?(e="function"==typeof t?t:Dl(+t),r):e},r.extent=function(t){return arguments.length?(n=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],r):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},r.size=function(t){return arguments.length?(n=null==t?null:[[0,0],[+t[0],+t[1]]],r):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},r}().x((function(t){return t.geometry.coordinates[0]})).y((function(t){return t.geometry.coordinates[1]})).extent([[n[0],n[1]],[n[2],n[3]]]).polygons(t.features).map((function(e,n){return Object.assign(function(t){return(t=t.slice()).push(t[0]),S([t])}(e),{properties:Fi(t.features[n].properties)})})))}}));
</script>
<script>// Turf.js operations module for mapgl
// Shared operations that work with both mapboxgl and maplibre maps

// Process turf operations on map initialization (for static maps)
function processTurfOperationsOnLoad(map, turfOperations, widgetId) {
  if (!turfOperations || turfOperations.length === 0) return;
  
  // Wait for map to be fully loaded, then execute operations
  map.on('load', function() {
    // Add a small delay to ensure all layers are loaded
    setTimeout(function() {
      turfOperations.forEach(function(operation) {
        try {
          handleTurfOperation(map, operation, widgetId);
        } catch (error) {
          console.error(`Error processing turf operation ${operation.type}:`, error);
        }
      });
    }, 100);
  });
}

// Main handler for all turf operations
function handleTurfOperation(map, message, widgetId) {
  try {
    switch (message.type) {
      case "turf_buffer":
        executeTurfBuffer(map, message, widgetId);
        break;
      case "turf_union":
        executeTurfUnion(map, message, widgetId);
        break;
      case "turf_intersect":
        executeTurfIntersect(map, message, widgetId);
        break;
      case "turf_difference":
        executeTurfDifference(map, message, widgetId);
        break;
      case "turf_convex_hull":
        executeTurfConvexHull(map, message, widgetId);
        break;
      case "turf_concave_hull":
        executeTurfConcaveHull(map, message, widgetId);
        break;
      case "turf_voronoi":
        executeTurfVoronoi(map, message, widgetId);
        break;
      case "turf_distance":
        executeTurfDistance(map, message, widgetId);
        break;
      case "turf_area":
        executeTurfArea(map, message, widgetId);
        break;
      case "turf_centroid":
        executeTurfCentroid(map, message, widgetId);
        break;
      case "turf_center_of_mass":
        executeTurfCenterOfMass(map, message, widgetId);
        break;
      case "turf_filter":
        executeTurfFilter(map, message, widgetId);
        break;
      default:
        console.warn(`Unknown turf operation: ${message.type}`);
    }
  } catch (error) {
    console.error(`Error executing turf operation ${message.type}:`, error);
    if (HTMLWidgets.shinyMode && message.send_to_r) {
      Shiny.setInputValue(widgetId + "_turf_error", {
        operation: message.type,
        error: error.message,
        timestamp: Date.now()
      });
    }
  }
}

// Helper function to get input data for turf operations
function getInputData(map, message) {
  // If coordinates provided, create point or points client-side
  if (message.coordinates) {
    // Handle single coordinate pair
    if (typeof message.coordinates[0] === 'number') {
      return turf.point(message.coordinates);
    }
    // Handle multiple coordinate pairs
    if (Array.isArray(message.coordinates[0])) {
      const points = message.coordinates.map(coord => turf.point(coord));
      return {
        type: "FeatureCollection",
        features: points
      };
    }
  }
  
  // If GeoJSON data provided directly
  if (message.data) {
    // Check if data is already an object (shouldn't happen) or string
    if (typeof message.data === 'string') {
      return JSON.parse(message.data);
    } else {
      // If it's already an object, return as-is
      return message.data;
    }
  }
  
  // If layer_id provided, get from existing layer
  if (message.layer_id) {
    return getSourceData(map, message.layer_id);
  }
  
  throw new Error("No valid input data provided (coordinates, data, or layer_id)");
}

// Helper function to get source data from a layer
function getSourceData(map, layerId) {
  // First try to get from existing source
  const source = map.getSource(layerId);
  if (source) {
    // Check for _data property (GeoJSON sources)
    if (source._data) {
      return source._data;
    }
    // Check for data property
    if (source.data) {
      return source.data;
    }
  }
  
  // Try with _source suffix (common pattern in mapgl)
  const sourceWithSuffix = map.getSource(layerId + "_source");
  if (sourceWithSuffix) {
    if (sourceWithSuffix._data) {
      return sourceWithSuffix._data;
    }
    if (sourceWithSuffix.data) {
      return sourceWithSuffix.data;
    }
  }
  
  // Query rendered features as fallback
  try {
    const features = map.queryRenderedFeatures({ layers: [layerId] });
    if (features.length > 0) {
      return {
        type: "FeatureCollection",
        features: features
      };
    }
  } catch (e) {
    // Layer might not exist, continue to error
  }
  
  throw new Error(`Could not find source data for layer: ${layerId}`);
}

// Helper function to add result source to map
function addResultSource(map, result, sourceId) {
  if (!sourceId) return;
  
  // Ensure result is valid GeoJSON
  if (!result) {
    result = {
      type: "FeatureCollection",
      features: []
    };
  }
  
  // Check if source exists, update data or create new
  const existingSource = map.getSource(sourceId);
  if (existingSource) {
    // Update existing source data
    existingSource.setData(result);
  } else {
    // Add new source with result data
    map.addSource(sourceId, {
      type: "geojson",
      data: result,
      generateId: true
    });
  }
}

// Helper function to send result to R via Shiny input
function sendResultToR(widgetId, operation, result, metadata = {}, inputId = null) {
  if (HTMLWidgets.shinyMode && inputId) {
    Shiny.setInputValue(widgetId + "_turf_" + inputId, {
      operation: operation,
      result: result,
      metadata: metadata,
      timestamp: Date.now()
    });
  }
}

// Buffer operation
function executeTurfBuffer(map, message, widgetId) {
  const inputData = getInputData(map, message);
  
  const buffered = turf.buffer(inputData, message.radius, {
    units: message.units || "meters"
  });
  
  if (message.source_id) {
    addResultSource(map, buffered, message.source_id);
  }
  
  if (message.input_id) {
    sendResultToR(widgetId, "buffer", buffered, {
      radius: message.radius,
      units: message.units || "meters"
    }, message.input_id);
  }
}

// Union operation
function executeTurfUnion(map, message, widgetId) {
  const inputData = getInputData(map, message);
  
  let result;
  if (inputData.type === "FeatureCollection" && inputData.features.length > 1) {
    // Use turf.union with properly formatted FeatureCollection
    const union = turf.union(turf.featureCollection(inputData.features));
    
    result = union ? {
      type: "FeatureCollection",
      features: [union]
    } : {
      type: "FeatureCollection",
      features: []
    };
  } else if (inputData.type === "FeatureCollection" && inputData.features.length === 1) {
    // Single feature, return as-is
    result = {
      type: "FeatureCollection",
      features: [inputData.features[0]]
    };
  } else {
    // Single feature, return as-is in FeatureCollection
    result = {
      type: "FeatureCollection",
      features: [inputData]
    };
  }
  
  if (message.source_id) {
    addResultSource(map, result, message.source_id);
  }
  
  if (message.input_id) {
    sendResultToR(widgetId, "union", result, {}, message.input_id);
  }
}

// Intersect operation
function executeTurfIntersect(map, message, widgetId) {
  const sourceData1 = getInputData(map, message);
  
  // Get second geometry data
  let sourceData2;
  if (message.data_2) {
    // Handle data_2 directly
    if (typeof message.data_2 === 'string') {
      sourceData2 = JSON.parse(message.data_2);
    } else {
      sourceData2 = message.data_2;
    }
  } else if (message.layer_id_2) {
    // Handle layer_id_2 as before
    sourceData2 = getSourceData(map, message.layer_id_2);
  } else {
    throw new Error("Either data_2 or layer_id_2 must be provided for intersect operation");
  }
  
  // Extract features arrays
  const features1 = sourceData1.type === "FeatureCollection" ? 
    sourceData1.features : [sourceData1];
  const features2 = sourceData2.type === "FeatureCollection" ? 
    sourceData2.features : [sourceData2];
  
  // Collect all intersection results
  const resultFeatures = [];
  
  features1.forEach((feature1, index1) => {
    if (!feature1 || !feature1.geometry) {
      console.warn(`Skipping invalid feature at index ${index1}`);
      return;
    }
    
    features2.forEach((feature2, index2) => {
      if (!feature2 || !feature2.geometry) {
        return;
      }
      
      // Use booleanIntersects for efficient filtering
      if (turf.booleanIntersects(feature1, feature2)) {
        try {
          // Use turf.intersect with options to preserve properties
          const intersection = turf.intersect(
            turf.featureCollection([feature1, feature2]),
            { properties: feature1.properties }
          );
          
          if (intersection) {
            // Ensure properties are preserved (fallback if options didn't work)
            if (!intersection.properties || Object.keys(intersection.properties).length === 0) {
              intersection.properties = { ...feature1.properties };
            }
            resultFeatures.push(intersection);
          }
        } catch (error) {
          console.error(`Error intersecting features ${index1} and ${index2}:`, error);
        }
      }
    });
  });
  
  const result = {
    type: "FeatureCollection",
    features: resultFeatures
  };
  
  if (message.source_id) {
    addResultSource(map, result, message.source_id);
  }
  
  if (message.input_id) {
    sendResultToR(widgetId, "intersect", result, {}, message.input_id);
  }
}

// Difference operation
function executeTurfDifference(map, message, widgetId) {
  const sourceData1 = getInputData(map, message);
  
  // Get second geometry data
  let sourceData2;
  if (message.data_2) {
    // Handle data_2 directly
    if (typeof message.data_2 === 'string') {
      sourceData2 = JSON.parse(message.data_2);
    } else {
      sourceData2 = message.data_2;
    }
  } else if (message.layer_id_2) {
    // Handle layer_id_2 as before
    sourceData2 = getSourceData(map, message.layer_id_2);
  } else {
    throw new Error("Either data_2 or layer_id_2 must be provided for difference operation");
  }
  
  // Extract features arrays
  const features1 = sourceData1.type === "FeatureCollection" ? 
    sourceData1.features : [sourceData1];
  const features2 = sourceData2.type === "FeatureCollection" ? 
    sourceData2.features : [sourceData2];
  
  // Process each feature in features1
  const resultFeatures = [];
  
  features1.forEach((feature1, index) => {
    if (!feature1 || !feature1.geometry) {
      console.warn(`Skipping invalid feature at index ${index}`);
      return;
    }
    
    // Start with the original feature
    let currentFeature = feature1;
    
    // Apply difference with each feature from features2
    for (const feature2 of features2) {
      if (!feature2 || !feature2.geometry || !currentFeature) {
        continue;
      }
      
      // Use booleanIntersects for efficient filtering
      if (turf.booleanIntersects(currentFeature, feature2)) {
        try {
          const diff = turf.difference(turf.featureCollection([currentFeature, feature2]));
          
          if (diff) {
            // Preserve properties from the original feature
            diff.properties = { ...feature1.properties };
            currentFeature = diff;
          } else {
            // Feature was completely erased
            currentFeature = null;
            break;
          }
        } catch (error) {
          console.error("Error in difference operation:", error);
          // Keep the current feature unchanged on error
        }
      }
      // If no intersection, currentFeature remains unchanged
    }
    
    // Add the result if it still exists
    if (currentFeature) {
      resultFeatures.push(currentFeature);
    }
  });
  
  const result = {
    type: "FeatureCollection",
    features: resultFeatures
  };
  
  if (message.source_id) {
    addResultSource(map, result, message.source_id);
  }
  
  if (message.input_id) {
    sendResultToR(widgetId, "difference", result, {}, message.input_id);
  }
}

// Convex hull operation
function executeTurfConvexHull(map, message, widgetId) {
  const inputData = getInputData(map, message);
  
  // Ensure we have valid input data
  if (!inputData) {
    console.warn("No input data for convex hull");
    const result = {
      type: "FeatureCollection",
      features: []
    };
    if (message.source_id) {
      addResultSource(map, result, message.source_id);
    }
    return;
  }
  
  // Check for minimum points if it's a FeatureCollection
  if (inputData.type === "FeatureCollection" && inputData.features.length < 3) {
    console.warn("Convex hull requires at least 3 points, got:", inputData.features.length);
    const result = {
      type: "FeatureCollection",
      features: []
    };
    if (message.source_id) {
      addResultSource(map, result, message.source_id);
    }
    return;
  }
  
  const hull = turf.convex(inputData);
  
  const result = hull ? {
    type: "FeatureCollection",
    features: [hull]
  } : {
    type: "FeatureCollection",
    features: []
  };
  
  if (message.source_id) {
    addResultSource(map, result, message.source_id);
  }
  
  if (message.input_id) {
    sendResultToR(widgetId, "convex_hull", result, {}, message.input_id);
  }
}

// Concave hull operation
function executeTurfConcaveHull(map, message, widgetId) {
  const inputData = getInputData(map, message);
  
  // Ensure we have a FeatureCollection of Points for turf.concave
  let pointCollection;
  if (inputData.type === "FeatureCollection") {
    // Filter to only Point geometries and ensure it's a proper FeatureCollection
    const pointFeatures = inputData.features.filter(feature => 
      feature.geometry && feature.geometry.type === "Point"
    );
    pointCollection = turf.featureCollection(pointFeatures);
  } else if (inputData.type === "Feature" && inputData.geometry.type === "Point") {
    // Single point - wrap in FeatureCollection
    pointCollection = turf.featureCollection([inputData]);
  } else {
    console.warn("Concave hull requires Point geometries, received:", inputData);
    const result = {
      type: "FeatureCollection",
      features: []
    };
    if (message.source_id) {
      addResultSource(map, result, message.source_id);
    }
    return;
  }
  
  // Check if we have enough points (need at least 3 for a hull)
  if (!pointCollection.features || pointCollection.features.length < 3) {
    console.warn("Concave hull requires at least 3 points, got:", pointCollection.features?.length || 0);
    const result = {
      type: "FeatureCollection",
      features: []
    };
    if (message.source_id) {
      addResultSource(map, result, message.source_id);
    }
    return;
  }
  
  // Smart max_edge calculation with fallback
  let hull = null;
  let actualMaxEdge = message.max_edge;
  
  if (message.max_edge) {
    // User specified max_edge, try it first
    hull = turf.concave(pointCollection, {
      maxEdge: message.max_edge,
      units: message.units || "kilometers"
    });
  }
  
  // If no hull or user didn't specify max_edge, try to find optimal value
  if (!hull) {
    // Calculate distances between all points to find reasonable max_edge
    const distances = [];
    const features = pointCollection.features;
    
    for (let i = 0; i < features.length; i++) {
      for (let j = i + 1; j < features.length; j++) {
        const dist = turf.distance(features[i], features[j], {
          units: message.units || "kilometers"
        });
        distances.push(dist);
      }
    }
    
    // Sort distances and try different percentiles as max_edge
    distances.sort((a, b) => a - b);
    const percentiles = [0.6, 0.7, 0.8, 0.9]; // Try 60th, 70th, 80th, 90th percentiles
    
    for (const percentile of percentiles) {
      const index = Math.floor(distances.length * percentile);
      const testMaxEdge = distances[index];
      
      hull = turf.concave(pointCollection, {
        maxEdge: testMaxEdge,
        units: message.units || "kilometers"
      });
      
      if (hull) {
        actualMaxEdge = testMaxEdge;
        console.log(`Auto-calculated max_edge: ${testMaxEdge.toFixed(2)} ${message.units || "kilometers"}`);
        break;
      }
    }
    
    // Final fallback - use convex hull if concave fails
    if (!hull) {
      console.warn("Concave hull failed, falling back to convex hull");
      hull = turf.convex(pointCollection);
      actualMaxEdge = "convex_fallback";
    }
  }
  
  const result = hull ? {
    type: "FeatureCollection",
    features: [hull]
  } : {
    type: "FeatureCollection",
    features: []
  };
  
  if (message.source_id) {
    addResultSource(map, result, message.source_id);
  }
  
  if (message.input_id) {
    sendResultToR(widgetId, "concave_hull", result, {
      max_edge: message.max_edge,
      units: message.units || "kilometers"
    }, message.input_id);
  }
}

// Voronoi operation
function executeTurfVoronoi(map, message, widgetId) {
  const inputData = getInputData(map, message);
  
  const options = {};
  let finalBbox = null;
  let clippingData = null;
  
  // Handle bbox parameter
  if (message.bbox) {
    // Direct bbox array [minX, minY, maxX, maxY]
    options.bbox = message.bbox;
    finalBbox = message.bbox;
  } else if (message.bbox_layer_id) {
    // Extract bbox from layer
    try {
      const bboxSourceData = getSourceData(map, message.bbox_layer_id);
      if (bboxSourceData) {
        // Calculate bbox from layer data
        const bbox = turf.bbox(bboxSourceData);
        options.bbox = bbox;
        finalBbox = bbox;
        // Keep the layer data for potential intersection clipping
        clippingData = bboxSourceData;
      }
    } catch (error) {
      console.warn(`Could not extract bbox from layer ${message.bbox_layer_id}:`, error);
    }
  }
  
  let voronoi = turf.voronoi(inputData, options);
  
  // If we have clipping data (from bbox_layer_id), intersect each Voronoi polygon
  if (voronoi && clippingData && clippingData.type === "FeatureCollection") {
    const clippedFeatures = [];
    
    for (const voronoiFeature of voronoi.features) {
      try {
        // Try to intersect with each feature in the clipping layer
        for (const clipFeature of clippingData.features) {
          const intersection = turf.intersect(turf.featureCollection([voronoiFeature, clipFeature]));
          if (intersection) {
            clippedFeatures.push(intersection);
          }
        }
      } catch (error) {
        // If intersection fails, keep original feature
        clippedFeatures.push(voronoiFeature);
      }
    }
    
    voronoi = {
      type: "FeatureCollection",
      features: clippedFeatures
    };
  }
  
  // If property parameter is provided, use turf.collect to transfer attributes from points to polygons
  if (voronoi && message.property && inputData.type === "FeatureCollection") {
    try {
      // Use turf.collect to gather point properties within each Voronoi polygon
      const collected = turf.collect(voronoi, inputData, message.property, `${message.property}_collected`);
      
      // Since each Voronoi polygon should contain exactly one point, extract the single value from the array
      for (const feature of collected.features) {
        const collectedValues = feature.properties[`${message.property}_collected`];
        if (collectedValues && collectedValues.length > 0) {
          // Take the first (and should be only) value and assign it directly to the property name
          feature.properties[message.property] = collectedValues[0];
          // Remove the temporary array property
          delete feature.properties[`${message.property}_collected`];
        }
      }
      
      voronoi = collected;
    } catch (error) {
      console.warn(`Failed to collect property '${message.property}' from points to Voronoi polygons:`, error);
      // Continue with uncollected voronoi if collection fails
    }
  }
  
  if (message.source_id && voronoi) {
    addResultSource(map, voronoi, message.source_id);
  }
  
  if (message.input_id) {
    sendResultToR(widgetId, "voronoi", voronoi, {
      bbox: finalBbox,
      bbox_layer_id: message.bbox_layer_id
    }, message.input_id);
  }
}

// Distance operation
function executeTurfDistance(map, message, widgetId) {
  let feature1, feature2;
  
  // Get first feature
  if (message.coordinates) {
    feature1 = turf.point(message.coordinates);
  } else if (message.data) {
    const sourceData1 = JSON.parse(message.data);
    feature1 = sourceData1.type === "FeatureCollection" ? 
      sourceData1.features[0] : sourceData1;
  } else if (message.layer_id) {
    const sourceData1 = getSourceData(map, message.layer_id);
    feature1 = sourceData1.type === "FeatureCollection" ? 
      sourceData1.features[0] : sourceData1;
  }
  
  // Get second feature
  if (message.coordinates_2) {
    feature2 = turf.point(message.coordinates_2);
  } else if (message.layer_id_2) {
    const sourceData2 = getSourceData(map, message.layer_id_2);
    feature2 = sourceData2.type === "FeatureCollection" ? 
      sourceData2.features[0] : sourceData2;
  }
  
  const distance = turf.distance(feature1, feature2, {
    units: message.units || "kilometers"
  });
  
  if (message.input_id) {
    sendResultToR(widgetId, "distance", distance, {
      units: message.units || "kilometers"
    }, message.input_id);
  }
}

// Area operation
function executeTurfArea(map, message, widgetId) {
  const inputData = getInputData(map, message);
  
  const area = turf.area(inputData);
  
  if (message.input_id) {
    sendResultToR(widgetId, "area", area, {
      units: "square_meters"
    }, message.input_id);
  }
}

// Centroid operation (using turf.centroid - vertex average method)
function executeTurfCentroid(map, message, widgetId) {
  const inputData = getInputData(map, message);
  
  const centroids = [];
  
  // Handle both single features and FeatureCollections
  const features = inputData.type === "FeatureCollection" ? inputData.features : [inputData];
  
  // Calculate centroid for each individual feature using turf.centroid
  for (const feature of features) {
    const centroid = turf.centroid(feature);
    
    // Preserve all properties from the source feature
    if (feature.properties) {
      centroid.properties = { ...feature.properties };
    }
    
    centroids.push(centroid);
  }
  
  const result = {
    type: "FeatureCollection",
    features: centroids
  };
  
  if (message.source_id) {
    addResultSource(map, result, message.source_id);
  }
  
  if (message.input_id) {
    sendResultToR(widgetId, "centroid", result, {}, message.input_id);
  }
}

// Center of Mass operation (replaces centroid for better accuracy)
function executeTurfCenterOfMass(map, message, widgetId) {
  const inputData = getInputData(map, message);
  
  const centers = [];
  
  // Handle both single features and FeatureCollections
  const features = inputData.type === "FeatureCollection" ? inputData.features : [inputData];
  
  // Calculate center of mass for each individual feature
  for (const feature of features) {
    const centerOfMass = turf.centerOfMass(feature, {});
    
    // Preserve all properties from the source feature
    if (feature.properties) {
      centerOfMass.properties = { ...feature.properties };
    }
    
    centers.push(centerOfMass);
  }
  
  const result = {
    type: "FeatureCollection",
    features: centers
  };
  
  if (message.source_id) {
    addResultSource(map, result, message.source_id);
  }
  
  if (message.input_id) {
    sendResultToR(widgetId, "center_of_mass", result, {}, message.input_id);
  }
}

// Filter operation
function executeTurfFilter(map, message, widgetId) {
  const sourceData = getInputData(map, message);
  
  // Get filter geometry data
  let filterData;
  if (message.filter_data) {
    // Handle filter_data directly
    if (typeof message.filter_data === 'string') {
      filterData = JSON.parse(message.filter_data);
    } else {
      filterData = message.filter_data;
    }
  } else if (message.filter_layer_id) {
    // Handle filter_layer_id as before
    filterData = getSourceData(map, message.filter_layer_id);
  } else {
    throw new Error("Either filter_data or filter_layer_id must be provided for filter operation");
  }
  
  // Extract features arrays
  const features = sourceData.type === "FeatureCollection" ? 
    sourceData.features : [sourceData];
  const filterFeatures = filterData.type === "FeatureCollection" ? 
    filterData.features : [filterData];
  
  // Collect filtered results
  const resultFeatures = [];
  
  features.forEach((feature, index) => {
    if (!feature || !feature.geometry) {
      console.warn(`Skipping invalid feature at index ${index}`);
      return;
    }
    
    // Check if this feature matches the predicate against any filter feature
    let matches = false;
    
    for (const filterFeature of filterFeatures) {
      if (!filterFeature || !filterFeature.geometry) {
        continue;
      }
      
      try {
        // Handle MultiPolygon geometries for within/contains predicates
        if ((feature.geometry.type === 'MultiPolygon' || filterFeature.geometry.type === 'MultiPolygon') &&
            (message.predicate === 'within' || message.predicate === 'contains')) {
          
          // MultiPolygon handling for 'within'
          if (message.predicate === 'within') {
            if (feature.geometry.type === 'MultiPolygon') {
              // All parts of the MultiPolygon must be within the filter
              const polygons = feature.geometry.coordinates.map(coords => ({
                type: 'Feature',
                geometry: { type: 'Polygon', coordinates: coords },
                properties: feature.properties
              }));
              matches = polygons.every(poly => {
                try {
                  return turf.booleanWithin(poly, filterFeature);
                } catch (e) {
                  return false;
                }
              });
            } else if (filterFeature.geometry.type === 'MultiPolygon') {
              // Feature must be within at least one part of the MultiPolygon
              const polygons = filterFeature.geometry.coordinates.map(coords => ({
                type: 'Feature',
                geometry: { type: 'Polygon', coordinates: coords },
                properties: filterFeature.properties
              }));
              matches = polygons.some(poly => {
                try {
                  return turf.booleanWithin(feature, poly);
                } catch (e) {
                  return false;
                }
              });
            }
          }
          // MultiPolygon handling for 'contains'
          else if (message.predicate === 'contains') {
            if (feature.geometry.type === 'MultiPolygon') {
              // At least one part of the MultiPolygon must contain the filter
              const polygons = feature.geometry.coordinates.map(coords => ({
                type: 'Feature',
                geometry: { type: 'Polygon', coordinates: coords },
                properties: feature.properties
              }));
              matches = polygons.some(poly => {
                try {
                  return turf.booleanContains(poly, filterFeature);
                } catch (e) {
                  return false;
                }
              });
            } else if (filterFeature.geometry.type === 'MultiPolygon') {
              // Feature must be contained by at least one part of the MultiPolygon
              const polygons = filterFeature.geometry.coordinates.map(coords => ({
                type: 'Feature',
                geometry: { type: 'Polygon', coordinates: coords },
                properties: filterFeature.properties
              }));
              matches = polygons.some(poly => {
                try {
                  return turf.booleanContains(poly, feature);
                } catch (e) {
                  return false;
                }
              });
            }
          }
        } else {
          // Use the appropriate boolean function based on predicate
          switch (message.predicate) {
            case "intersects":
              matches = turf.booleanIntersects(feature, filterFeature);
              break;
            case "within":
              matches = turf.booleanWithin(feature, filterFeature);
              break;
            case "contains":
              matches = turf.booleanContains(feature, filterFeature);
              break;
            case "crosses":
              matches = turf.booleanCrosses(feature, filterFeature);
              break;
            case "disjoint":
              matches = turf.booleanDisjoint(feature, filterFeature);
              break;
            default:
              console.warn(`Unknown predicate: ${message.predicate}`);
              continue;
          }
        }
        
        if (matches) {
          break; // Found a match, no need to check other filter features
        }
      } catch (error) {
        console.error(`Error testing predicate ${message.predicate}:`, error);
        continue;
      }
    }
    
    // If this feature matches the predicate, add it to results
    if (matches) {
      // Preserve all properties from the original feature
      const resultFeature = {
        ...feature,
        properties: { ...feature.properties }
      };
      resultFeatures.push(resultFeature);
    }
  });
  
  const result = {
    type: "FeatureCollection",
    features: resultFeatures
  };
  
  if (message.source_id) {
    addResultSource(map, result, message.source_id);
  }
  
  if (message.input_id) {
    sendResultToR(widgetId, "filter", result, { 
      predicate: message.predicate,
      filtered_count: resultFeatures.length,
      total_count: features.length 
    }, message.input_id);
  }
}</script>
<script>function evaluateExpression(expression, properties) {
  if (!Array.isArray(expression)) {
    return expression;
  }

  const operator = expression[0];

  switch (operator) {
    case "get":
      return properties[expression[1]];
    case "concat":
      return expression
        .slice(1)
        .map((item) => evaluateExpression(item, properties))
        .join("");
    case "to-string":
      return String(evaluateExpression(expression[1], properties));
    case "to-number":
      return Number(evaluateExpression(expression[1], properties));
    case "number-format":
      const value = evaluateExpression(expression[1], properties);
      const options = expression[2] || {};

      // Handle locale option
      const locale = options.locale || "en-US";

      // Build Intl.NumberFormat options
      const formatOptions = {};

      // Style options
      if (options.style) formatOptions.style = options.style; // 'decimal', 'currency', 'percent', 'unit'
      if (options.currency) formatOptions.currency = options.currency;
      if (options.unit) formatOptions.unit = options.unit;

      // Digit options
      if (options.hasOwnProperty("min-fraction-digits")) {
        formatOptions.minimumFractionDigits = options["min-fraction-digits"];
      }
      if (options.hasOwnProperty("max-fraction-digits")) {
        formatOptions.maximumFractionDigits = options["max-fraction-digits"];
      }
      if (options.hasOwnProperty("min-integer-digits")) {
        formatOptions.minimumIntegerDigits = options["min-integer-digits"];
      }

      // Notation options
      if (options.notation) formatOptions.notation = options.notation; // 'standard', 'scientific', 'engineering', 'compact'
      if (options.compactDisplay)
        formatOptions.compactDisplay = options.compactDisplay; // 'short', 'long'

      // Grouping
      if (options.hasOwnProperty("useGrouping")) {
        formatOptions.useGrouping = options.useGrouping;
      }

      return new Intl.NumberFormat(locale, formatOptions).format(value);
    default:
      // For literals and other simple values
      return expression;
  }
}

function onMouseMoveTooltip(e, map, tooltipPopup, tooltipProperty) {
  map.getCanvas().style.cursor = "pointer";
  if (e.features.length > 0) {
    // Clear any existing active tooltip first to prevent stacking
    if (window._activeTooltip && window._activeTooltip !== tooltipPopup) {
      window._activeTooltip.remove();
    }

    let description;

    // Check if tooltipProperty is an expression (array) or a simple property name (string)
    if (Array.isArray(tooltipProperty)) {
      // It's an expression, evaluate it
      description = evaluateExpression(
        tooltipProperty,
        e.features[0].properties,
      );
    } else {
      // It's a property name, get the value
      description = e.features[0].properties[tooltipProperty];
    }

    tooltipPopup.setLngLat(e.lngLat).setHTML(description).addTo(map);

    // Store reference to currently active tooltip
    window._activeTooltip = tooltipPopup;
  } else {
    tooltipPopup.remove();
    // If this was the active tooltip, clear the reference
    if (window._activeTooltip === tooltipPopup) {
      delete window._activeTooltip;
    }
  }
}

function onMouseLeaveTooltip(map, tooltipPopup) {
  map.getCanvas().style.cursor = "";
  tooltipPopup.remove();
  if (window._activeTooltip === tooltipPopup) {
    delete window._activeTooltip;
  }
}

function onClickPopup(e, map, popupProperty, layerId) {
  let description;

  // Check if popupProperty is an expression (array) or a simple property name (string)
  if (Array.isArray(popupProperty)) {
    // It's an expression, evaluate it
    description = evaluateExpression(popupProperty, e.features[0].properties);
  } else {
    // It's a property name, get the value
    description = e.features[0].properties[popupProperty];
  }

  // Remove any existing popup for this layer
  if (window._mapboxPopups && window._mapboxPopups[layerId]) {
    window._mapboxPopups[layerId].remove();
  }

  // Create and show the popup
  const popup = new maplibregl.Popup()
    .setLngLat(e.lngLat)
    .setHTML(description)
    .addTo(map);

  // Store reference to this popup
  if (!window._mapboxPopups) {
    window._mapboxPopups = {};
  }
  window._mapboxPopups[layerId] = popup;

  // Remove reference when popup is closed
  popup.on("close", function () {
    if (window._mapboxPopups[layerId] === popup) {
      delete window._mapboxPopups[layerId];
    }
  });
}

// Helper function to generate draw styles based on parameters
function generateDrawStyles(styling) {
  if (!styling) return null;

  return [
    // Point styles
    {
      id: "gl-draw-point-active",
      type: "circle",
      filter: [
        "all",
        ["==", "$type", "Point"],
        ["==", "meta", "feature"],
        ["==", "active", "true"],
      ],
      paint: {
        "circle-radius": styling.vertex_radius + 2,
        "circle-color": styling.active_color,
      },
    },
    {
      id: "gl-draw-point",
      type: "circle",
      filter: [
        "all",
        ["==", "$type", "Point"],
        ["==", "meta", "feature"],
        ["==", "active", "false"],
      ],
      paint: {
        "circle-radius": styling.vertex_radius,
        "circle-color": styling.point_color,
      },
    },
    // Line styles
    {
      id: "gl-draw-line",
      type: "line",
      filter: ["all", ["==", "$type", "LineString"]],
      layout: {
        "line-cap": "round",
        "line-join": "round",
      },
      paint: {
        "line-color": [
          "case",
          ["==", ["get", "active"], "true"],
          styling.active_color,
          styling.line_color,
        ],
        "line-width": styling.line_width,
      },
    },
    // Polygon fill
    {
      id: "gl-draw-polygon-fill",
      type: "fill",
      filter: ["all", ["==", "$type", "Polygon"]],
      paint: {
        "fill-color": [
          "case",
          ["==", ["get", "active"], "true"],
          styling.active_color,
          styling.fill_color,
        ],
        "fill-outline-color": [
          "case",
          ["==", ["get", "active"], "true"],
          styling.active_color,
          styling.fill_color,
        ],
        "fill-opacity": styling.fill_opacity,
      },
    },
    // Polygon outline
    {
      id: "gl-draw-polygon-stroke",
      type: "line",
      filter: ["all", ["==", "$type", "Polygon"]],
      layout: {
        "line-cap": "round",
        "line-join": "round",
      },
      paint: {
        "line-color": [
          "case",
          ["==", ["get", "active"], "true"],
          styling.active_color,
          styling.line_color,
        ],
        "line-width": styling.line_width,
      },
    },
    // Midpoints
    {
      id: "gl-draw-polygon-midpoint",
      type: "circle",
      filter: ["all", ["==", "$type", "Point"], ["==", "meta", "midpoint"]],
      paint: {
        "circle-radius": 3,
        "circle-color": styling.active_color,
      },
    },
    // Vertex point halos
    {
      id: "gl-draw-vertex-halo-active",
      type: "circle",
      filter: ["all", ["==", "meta", "vertex"], ["==", "$type", "Point"]],
      paint: {
        "circle-radius": [
          "case",
          ["==", ["get", "active"], "true"],
          styling.vertex_radius + 4,
          styling.vertex_radius + 2,
        ],
        "circle-color": "#FFF",
      },
    },
    // Vertex points
    {
      id: "gl-draw-vertex-active",
      type: "circle",
      filter: ["all", ["==", "meta", "vertex"], ["==", "$type", "Point"]],
      paint: {
        "circle-radius": [
          "case",
          ["==", ["get", "active"], "true"],
          styling.vertex_radius + 2,
          styling.vertex_radius,
        ],
        "circle-color": styling.active_color,
      },
    },
  ];
}

// Helper function to add features from a source to draw
function addSourceFeaturesToDraw(draw, sourceId, map) {
  const source = map.getSource(sourceId);
  if (source && source._data) {
    draw.add(source._data);
  } else {
    console.warn("Source not found or has no data:", sourceId);
  }
}

HTMLWidgets.widget({
  name: "maplibregl",

  type: "output",

  factory: function (el, width, height) {
    let map;
    let draw;

    return {
      renderValue: function (x) {
        if (typeof maplibregl === "undefined") {
          console.error("Maplibre GL JS is not loaded.");
          return;
        }

        let protocol = new pmtiles.Protocol({ metadata: true });
        maplibregl.addProtocol("pmtiles", protocol.tile);

        map = new maplibregl.Map({
          container: el.id,
          style: x.style,
          center: x.center,
          zoom: x.zoom,
          bearing: x.bearing,
          pitch: x.pitch,
          ...x.additional_params,
        });

        map.controls = [];

        map.on("style.load", function () {
          map.resize();

          if (HTMLWidgets.shinyMode) {
            map.on("load", function () {
              var bounds = map.getBounds();
              var center = map.getCenter();
              var zoom = map.getZoom();

              Shiny.setInputValue(el.id + "_zoom", zoom);
              Shiny.setInputValue(el.id + "_center", {
                lng: center.lng,
                lat: center.lat,
              });
              Shiny.setInputValue(el.id + "_bbox", {
                xmin: bounds.getWest(),
                ymin: bounds.getSouth(),
                xmax: bounds.getEast(),
                ymax: bounds.getNorth(),
              });
            });

            map.on("moveend", function (e) {
              var map = e.target;
              var bounds = map.getBounds();
              var center = map.getCenter();
              var zoom = map.getZoom();

              Shiny.onInputChange(el.id + "_zoom", zoom);
              Shiny.onInputChange(el.id + "_center", {
                lng: center.lng,
                lat: center.lat,
              });
              Shiny.onInputChange(el.id + "_bbox", {
                xmin: bounds.getWest(),
                ymin: bounds.getSouth(),
                xmax: bounds.getEast(),
                ymax: bounds.getNorth(),
              });
            });
          }

          // Set config properties if provided
          if (x.config_properties) {
            x.config_properties.forEach(function (config) {
              map.setConfigProperty(
                config.importId,
                config.configName,
                config.value,
              );
            });
          }

          if (x.markers) {
            if (!window.maplibreglMarkers) {
              window.maplibreglMarkers = [];
            }
            x.markers.forEach(function (marker) {
              const markerOptions = {
                color: marker.color,
                rotation: marker.rotation,
                draggable: marker.options.draggable || false,
                ...marker.options,
              };
              const mapMarker = new maplibregl.Marker(markerOptions)
                .setLngLat([marker.lng, marker.lat])
                .addTo(map);

              if (marker.popup) {
                mapMarker.setPopup(
                  new maplibregl.Popup({
                    offset: 25,
                  }).setHTML(marker.popup),
                );
              }

              if (HTMLWidgets.shinyMode) {
                const markerId = marker.id;
                if (markerId) {
                  const lngLat = mapMarker.getLngLat();
                  Shiny.setInputValue(el.id + "_marker_" + markerId, {
                    id: markerId,
                    lng: lngLat.lng,
                    lat: lngLat.lat,
                  });

                  mapMarker.on("dragend", function () {
                    const lngLat = mapMarker.getLngLat();
                    Shiny.setInputValue(el.id + "_marker_" + markerId, {
                      id: markerId,
                      lng: lngLat.lng,
                      lat: lngLat.lat,
                    });
                  });
                }
              }

              window.maplibreglMarkers.push(mapMarker);
            });
          }

          // Add sources if provided
          if (x.sources) {
            x.sources.forEach(function (source) {
              if (source.type === "vector") {
                const sourceOptions = {
                  type: "vector",
                  url: source.url,
                };
                // Add promoteId if provided
                if (source.promoteId) {
                  sourceOptions.promoteId = source.promoteId;
                }
                // Add any other additional options
                for (const [key, value] of Object.entries(source)) {
                  if (!["id", "type", "url"].includes(key)) {
                    sourceOptions[key] = value;
                  }
                }
                map.addSource(source.id, sourceOptions);
              } else if (source.type === "geojson") {
                const geojsonData = source.data;
                const sourceOptions = {
                  type: "geojson",
                  data: geojsonData,
                  generateId: source.generateId,
                };

                // Add additional options
                for (const [key, value] of Object.entries(source)) {
                  if (!["id", "type", "data", "generateId"].includes(key)) {
                    sourceOptions[key] = value;
                  }
                }

                map.addSource(source.id, sourceOptions);
              } else if (source.type === "raster") {
                if (source.url) {
                  map.addSource(source.id, {
                    type: "raster",
                    url: source.url,
                    tileSize: source.tileSize,
                    maxzoom: source.maxzoom,
                  });
                } else if (source.tiles) {
                  map.addSource(source.id, {
                    type: "raster",
                    tiles: source.tiles,
                    tileSize: source.tileSize,
                    maxzoom: source.maxzoom,
                  });
                }
              } else if (source.type === "raster-dem") {
                map.addSource(source.id, {
                  type: "raster-dem",
                  url: source.url,
                  tileSize: source.tileSize,
                  maxzoom: source.maxzoom,
                });
              } else if (source.type === "image") {
                map.addSource(source.id, {
                  type: "image",
                  url: source.url,
                  coordinates: source.coordinates,
                });
              } else if (source.type === "video") {
                map.addSource(source.id, {
                  type: "video",
                  urls: source.urls,
                  coordinates: source.coordinates,
                });
              }
            });
          }

          function add_my_layers(layer) {
            try {
              const layerConfig = {
                id: layer.id,
                type: layer.type,
                source: layer.source,
                layout: layer.layout || {},
                paint: layer.paint || {},
              };

              // Check if source is an object and set generateId if source type is 'geojson'
              if (
                typeof layer.source === "object" &&
                layer.source.type === "geojson"
              ) {
                layerConfig.source.generateId = true;
              } else if (typeof layer.source === "string") {
                // Handle string source if needed
                layerConfig.source = layer.source;
              }

              if (layer.source_layer) {
                layerConfig["source-layer"] = layer.source_layer;
              }

              if (layer.slot) {
                layerConfig["slot"] = layer.slot;
              }

              if (layer.minzoom) {
                layerConfig["minzoom"] = layer.minzoom;
              }

              if (layer.maxzoom) {
                layerConfig["maxzoom"] = layer.maxzoom;
              }

              if (layer.filter) {
                layerConfig["filter"] = layer.filter;
              }

              if (layer.before_id) {
                map.addLayer(layerConfig, layer.before_id);
              } else {
                map.addLayer(layerConfig);
              }

              // Add popups or tooltips if provided
              if (layer.popup) {
                // Initialize popup tracking if it doesn't exist
                if (!window._mapboxPopups) {
                  window._mapboxPopups = {};
                }

                // Create click handler for this layer
                const clickHandler = function (e) {
                  onClickPopup(e, map, layer.popup, layer.id);
                };

                // Store these handler references so we can remove them later if needed
                if (!window._mapboxClickHandlers) {
                  window._mapboxClickHandlers = {};
                }
                window._mapboxClickHandlers[layer.id] = clickHandler;

                // Add the click handler
                map.on("click", layer.id, clickHandler);

                // Change cursor to pointer when hovering over the layer
                map.on("mouseenter", layer.id, function () {
                  map.getCanvas().style.cursor = "pointer";
                });

                // Change cursor back to default when leaving the layer
                map.on("mouseleave", layer.id, function () {
                  map.getCanvas().style.cursor = "";
                });
              }

              if (layer.tooltip) {
                const tooltip = new maplibregl.Popup({
                  closeButton: false,
                  closeOnClick: false,
                });

                // Create a reference to the mousemove handler function.
                // We need to pass 'e', 'map', 'tooltip', and 'layer.tooltip' to onMouseMoveTooltip.
                const mouseMoveHandler = function (e) {
                  onMouseMoveTooltip(e, map, tooltip, layer.tooltip);
                };

                // Create a reference to the mouseleave handler function.
                // We need to pass 'map' and 'tooltip' to onMouseLeaveTooltip.
                const mouseLeaveHandler = function () {
                  onMouseLeaveTooltip(map, tooltip);
                };

                // Attach the named handler references, not anonymous functions.
                map.on("mousemove", layer.id, mouseMoveHandler);
                map.on("mouseleave", layer.id, mouseLeaveHandler);

                // Store these handler references so you can remove them later if needed
                if (!window._mapboxHandlers) {
                  window._mapboxHandlers = {};
                }
                window._mapboxHandlers[layer.id] = {
                  mousemove: mouseMoveHandler,
                  mouseleave: mouseLeaveHandler,
                };
              }

              // Add hover effect if provided
              if (layer.hover_options) {
                const jsHoverOptions = {};
                for (const [key, value] of Object.entries(
                  layer.hover_options,
                )) {
                  const jsKey = key.replace(/_/g, "-");
                  jsHoverOptions[jsKey] = value;
                }

                let hoveredFeatureId = null;

                map.on("mousemove", layer.id, function (e) {
                  if (e.features.length > 0) {
                    // Check if the feature has an id
                    const featureId = e.features[0].id;

                    // Only proceed if the feature has an id
                    if (featureId !== undefined && featureId !== null) {
                      if (hoveredFeatureId !== null) {
                        const featureState = {
                          source:
                            typeof layer.source === "string"
                              ? layer.source
                              : layer.id,
                          id: hoveredFeatureId,
                        };
                        if (layer.source_layer) {
                          featureState.sourceLayer = layer.source_layer;
                        }
                        map.setFeatureState(featureState, { hover: false });
                      }
                      hoveredFeatureId = featureId;
                      const featureState = {
                        source:
                          typeof layer.source === "string"
                            ? layer.source
                            : layer.id,
                        id: hoveredFeatureId,
                      };
                      if (layer.source_layer) {
                        featureState.sourceLayer = layer.source_layer;
                      }
                      map.setFeatureState(featureState, { hover: true });
                    }
                  }
                });

                map.on("mouseleave", layer.id, function () {
                  if (hoveredFeatureId !== null) {
                    const featureState = {
                      source:
                        typeof layer.source === "string"
                          ? layer.source
                          : layer.id,
                      id: hoveredFeatureId,
                    };
                    if (layer.source_layer) {
                      featureState.sourceLayer = layer.source_layer;
                    }
                    map.setFeatureState(featureState, { hover: false });
                  }
                  hoveredFeatureId = null;
                });

                Object.keys(jsHoverOptions).forEach(function (key) {
                  const originalPaint =
                    map.getPaintProperty(layer.id, key) || layer.paint[key];
                  map.setPaintProperty(layer.id, key, [
                    "case",
                    ["boolean", ["feature-state", "hover"], false],
                    jsHoverOptions[key],
                    originalPaint,
                  ]);
                });
              }
            } catch (e) {
              console.error("Failed to add layer: ", layer, e);
            }
          }
          if (x.h3j_sources) {
            x.h3j_sources.forEach(async function (source) {
              await map.addH3JSource(source.id, {
                data: source.url,
              });

              // A bit hacky?
              if (x.layers) {
                x.layers.forEach((layer) => add_my_layers(layer));
              }
            });
          }

          // Add layers if provided
          if (x.layers) {
            x.layers.forEach((layer) => add_my_layers(layer));
          }

          // Apply setFilter if provided
          if (x.setFilter) {
            x.setFilter.forEach(function (filter) {
              map.setFilter(filter.layer, filter.filter);
            });
          }

          // Set terrain if provided
          if (x.terrain) {
            map.setTerrain({
              source: x.terrain.source,
              exaggeration: x.terrain.exaggeration,
            });
          }

          // Set fog
          if (x.fog) {
            map.setFog(x.fog);
          }

          if (x.fitBounds) {
            map.fitBounds(x.fitBounds.bounds, x.fitBounds.options);
          }
          if (x.flyTo) {
            map.flyTo(x.flyTo);
          }
          if (x.easeTo) {
            map.easeTo(x.easeTo);
          }
          if (x.setCenter) {
            map.setCenter(x.setCenter);
          }
          if (x.setZoom) {
            map.setZoom(x.setZoom);
          }
          if (x.jumpTo) {
            map.jumpTo(x.jumpTo);
          }

          // Add scale control if enabled
          if (x.scale_control) {
            const scaleControl = new maplibregl.ScaleControl({
              maxWidth: x.scale_control.maxWidth,
              unit: x.scale_control.unit,
            });
            map.addControl(scaleControl, x.scale_control.position);
            map.controls.push(scaleControl);
          }

          // Add globe control if enabled
          if (x.globe_control) {
            const globeControl = new maplibregl.GlobeControl();
            map.addControl(globeControl, x.globe_control.position);
            map.controls.push(globeControl);
          }

          // Add custom controls if any are defined
          if (x.custom_controls) {
            Object.keys(x.custom_controls).forEach(function (key) {
              const controlOptions = x.custom_controls[key];
              const customControlContainer = document.createElement("div");

              if (controlOptions.className) {
                customControlContainer.className = controlOptions.className;
              } else {
                customControlContainer.className =
                  "maplibregl-ctrl maplibregl-ctrl-group";
              }

              customControlContainer.innerHTML = controlOptions.html;

              const customControl = {
                onAdd: function () {
                  return customControlContainer;
                },
                onRemove: function () {
                  if (customControlContainer.parentNode) {
                    customControlContainer.parentNode.removeChild(
                      customControlContainer,
                    );
                  }
                },
              };

              map.addControl(
                customControl,
                controlOptions.position || "top-right",
              );
              map.controls.push(customControl);
            });
          }

          // Add globe minimap if enabled
          if (x.globe_minimap && x.globe_minimap.enabled) {
            const globeMinimapOptions = {
              globeSize: x.globe_minimap.globe_size,
              landColor: x.globe_minimap.land_color,
              waterColor: x.globe_minimap.water_color,
              markerColor: x.globe_minimap.marker_color,
              markerSize: x.globe_minimap.marker_size,
            };
            const globeMinimap = new GlobeMinimap(globeMinimapOptions);
            map.addControl(globeMinimap, x.globe_minimap.position);
            map.controls.push(globeMinimap);
          }

          if (x.setProjection) {
            x.setProjection.forEach(function (projectionConfig) {
              if (projectionConfig.projection) {
                const projection =
                  typeof projectionConfig.projection === "string"
                    ? { type: projectionConfig.projection }
                    : projectionConfig.projection;
                map.setProjection(projection);
              }
            });
          }

          // Add geocoder control if enabled
          if (x.geocoder_control) {
            const provider = x.geocoder_control.provider || "osm";
            let geocoder;

            if (provider === "maptiler") {
              // MapTiler geocoder
              const maptilerOptions = {
                apiKey: x.geocoder_control.api_key,
                maplibregl: maplibregl,
                ...x.geocoder_control,
              };

              // Create MapTiler geocoder
              geocoder = new maplibreglMaptilerGeocoder.GeocodingControl(maptilerOptions);
            } else {
              // OSM/Nominatim geocoder (default)
              const geocoderApi = {
                forwardGeocode: async (config) => {
                  const features = [];
                  try {
                    const request = `https://nominatim.openstreetmap.org/search?q=${
                      config.query
                    }&format=geojson&polygon_geojson=1&addressdetails=1`;
                    const response = await fetch(request);
                    const geojson = await response.json();
                    for (const feature of geojson.features) {
                      const center = [
                        feature.bbox[0] + (feature.bbox[2] - feature.bbox[0]) / 2,
                        feature.bbox[1] + (feature.bbox[3] - feature.bbox[1]) / 2,
                      ];
                      const point = {
                        type: "Feature",
                        geometry: {
                          type: "Point",
                          coordinates: center,
                        },
                        place_name: feature.properties.display_name,
                        properties: feature.properties,
                        text: feature.properties.display_name,
                        place_type: ["place"],
                        center,
                      };
                      features.push(point);
                    }
                  } catch (e) {
                    console.error(`Failed to forwardGeocode with error: ${e}`);
                  }

                  return {
                    features,
                  };
                },
              };
              const geocoderOptions = {
                maplibregl: maplibregl,
                ...x.geocoder_control,
              };

              // Set default values if not provided
              if (!geocoderOptions.placeholder)
                geocoderOptions.placeholder = "Search";
              if (typeof geocoderOptions.collapsed === "undefined")
                geocoderOptions.collapsed = false;

              geocoder = new MaplibreGeocoder(geocoderApi, geocoderOptions);
            }

            map.addControl(
              geocoder,
              x.geocoder_control.position || "top-right",
            );
            map.controls.push(geocoder);
            
            // Apply CSS fix for MapTiler geocoder to prevent cutoff
            if (provider === "maptiler") {
              setTimeout(() => {
                const controlContainer = document.querySelector('.maplibregl-ctrl-geocoder');
                if (controlContainer) {
                  controlContainer.style.maxWidth = '300px';
                  controlContainer.style.width = 'auto';
                }
              }, 100);
            }
            
            // Handle geocoder results in Shiny mode
            if (HTMLWidgets.shinyMode) {
              if (provider === "maptiler") {
                // MapTiler uses different event names
                geocoder.on("pick", function (e) {
                  Shiny.setInputValue(el.id + "_geocoder", {
                    result: e,
                    time: new Date(),
                  });
                });
              } else {
                // OSM geocoder
                geocoder.on("results", function (e) {
                  Shiny.setInputValue(el.id + "_geocoder", {
                    result: e,
                    time: new Date(),
                  });
                });
              }
            }
          }

          if (x.draw_control && x.draw_control.enabled) {
            MapboxDraw.constants.classes.CONTROL_BASE = "maplibregl-ctrl";
            MapboxDraw.constants.classes.CONTROL_PREFIX = "maplibregl-ctrl-";
            MapboxDraw.constants.classes.CONTROL_GROUP =
              "maplibregl-ctrl-group";

            let drawOptions = x.draw_control.options || {};

            // Generate styles if styling parameters provided
            if (x.draw_control.styling) {
              const generatedStyles = generateDrawStyles(
                x.draw_control.styling,
              );
              if (generatedStyles) {
                drawOptions.styles = generatedStyles;
              }
            }

            if (x.draw_control.freehand) {
              drawOptions = Object.assign({}, drawOptions, {
                modes: Object.assign({}, MapboxDraw.modes, {
                  draw_polygon: Object.assign(
                    {},
                    MapboxDraw.modes.draw_freehand,
                    {
                      // Store the simplify_freehand option on the map object
                      onSetup: function (opts) {
                        const state =
                          MapboxDraw.modes.draw_freehand.onSetup.call(
                            this,
                            opts,
                          );
                        this.map.simplify_freehand =
                          x.draw_control.simplify_freehand;
                        return state;
                      },
                    },
                  ),
                }),
                // defaultMode: 'draw_polygon' # Don't set the default yet
              });
            }

            // Fix MapLibre compatibility - ensure we always have custom styles
            if (!drawOptions.styles) {
              drawOptions.styles = generateDrawStyles({
                vertex_radius: 5,
                active_color: "#fbb03b",
                point_color: "#3bb2d0",
                line_color: "#3bb2d0",
                fill_color: "#3bb2d0",
                fill_opacity: 0.1,
                line_width: 2,
              });
            }

            draw = new MapboxDraw(drawOptions);
            map.addControl(draw, x.draw_control.position);
            map.controls.push(draw);

            // Add lasso icon CSS for freehand mode
            if (x.draw_control.freehand) {
              if (!document.querySelector("#mapgl-freehand-lasso-styles")) {
                const style = document.createElement("style");
                style.id = "mapgl-freehand-lasso-styles";
                style.textContent = `
                  .mapbox-gl-draw_polygon {
                    background-image: url('data:image/svg+xml;utf8,%3Csvg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"%3E%3Cpath d="M 7 3 C 5 2.5, 3.5 3, 3 5 C 2.5 7, 3 8.5, 4 9.5 C 5 10.5, 5.5 11.5, 5 13 C 4.5 14.5, 5 15.5, 6.5 16 C 8 16.5, 9.5 16, 11 15 C 12.5 14, 13.5 13, 14.5 11.5 C 15.5 10, 16 8.5, 15.5 7 C 15 5.5, 14 4.5, 12.5 3.5 C 11 2.5, 9 2.5, 7 3 Z" fill="none" stroke="%23000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/%3E%3C/svg%3E') !important;
                  }
                `;
                document.head.appendChild(style);
              }

              // Update tooltip for freehand mode
              setTimeout(() => {
                const polygonButton = map.getContainer().querySelector('.mapbox-gl-draw_polygon');
                if (polygonButton) {
                  polygonButton.title = 'Freehand polygon tool (p)';
                }
              }, 100);
            }

            // Add event listeners
            map.on("draw.create", updateDrawnFeatures);
            map.on("draw.delete", updateDrawnFeatures);
            map.on("draw.update", updateDrawnFeatures);

            // Add initial features if provided
            if (x.draw_control.source) {
              addSourceFeaturesToDraw(draw, x.draw_control.source, map);
            }

            // Process any queued features
            if (x.draw_features_queue) {
              x.draw_features_queue.forEach(function (data) {
                if (data.clear_existing) {
                  draw.deleteAll();
                }
                addSourceFeaturesToDraw(draw, data.source, map);
              });
            }

            // Apply orientation styling
            if (x.draw_control.orientation === "horizontal") {
              const drawBar = map
                .getContainer()
                .querySelector(".maplibregl-ctrl-group");
              if (drawBar) {
                drawBar.style.display = "flex";
                drawBar.style.flexDirection = "row";
              }
            }

            // Add download button if requested
            if (x.draw_control.download_button) {
              // Add CSS for download button if not already added
              if (!document.querySelector('#mapgl-draw-download-styles')) {
                const style = document.createElement('style');
                style.id = 'mapgl-draw-download-styles';
                style.textContent = `
                  .mapbox-gl-draw_download {
                    background: transparent;
                    border: none;
                    cursor: pointer;
                    display: block;
                    height: 30px;
                    width: 30px;
                    padding: 0;
                    outline: none;
                  }
                  .mapbox-gl-draw_download:hover {
                    background-color: rgba(0, 0, 0, 0.05);
                  }
                  .mapbox-gl-draw_download svg {
                    width: 20px;
                    height: 20px;
                    margin: 5px;
                    fill: #333;
                  }
                `;
                document.head.appendChild(style);
              }

              // Small delay to ensure Draw control is fully rendered
              setTimeout(() => {
                // Find the Draw control button group
                const drawButtons = map.getContainer().querySelector('.maplibregl-ctrl-group:has(.mapbox-gl-draw_polygon)');
                
                if (drawButtons) {
                  // Create download button
                  const downloadBtn = document.createElement('button');
                  downloadBtn.className = 'mapbox-gl-draw_download';
                  downloadBtn.title = 'Download drawn features as GeoJSON';
                  
                  // Add SVG download icon
                  downloadBtn.innerHTML = `
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                      <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/>
                    </svg>
                  `;
                  
                  downloadBtn.addEventListener('click', () => {
                    // Get all drawn features
                    const data = draw.getAll();
                    
                    if (data.features.length === 0) {
                      alert('No features to download. Please draw something first!');
                      return;
                    }
                    
                    // Convert to string with nice formatting
                    const dataStr = JSON.stringify(data, null, 2);
                    
                    // Create blob and download
                    const blob = new Blob([dataStr], { type: 'application/json' });
                    const url = URL.createObjectURL(blob);
                    
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = `${x.draw_control.download_filename}.geojson`;
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                    URL.revokeObjectURL(url);
                  });
                  
                  // Append to the Draw control button group
                  drawButtons.appendChild(downloadBtn);
                }
              }, 100);
            }
          }

          function updateDrawnFeatures() {
            if (draw) {
              var drawnFeatures = draw.getAll();
              if (HTMLWidgets.shinyMode) {
                Shiny.setInputValue(
                  el.id + "_drawn_features",
                  JSON.stringify(drawnFeatures),
                );
              }
              // Store drawn features in the widget's data
              if (el.querySelector) {
                var widget = HTMLWidgets.find("#" + el.id);
                if (widget) {
                  widget.drawFeatures = drawnFeatures;
                }
              }
            }
          }

          if (!x.add) {
            const existingLegends = el.querySelectorAll(".mapboxgl-legend");
            existingLegends.forEach((legend) => legend.remove());
          }

          if (x.legend_html && x.legend_css) {
            const legendCss = document.createElement("style");
            legendCss.innerHTML = x.legend_css;
            document.head.appendChild(legendCss);

            const legend = document.createElement("div");
            legend.innerHTML = x.legend_html;
            legend.classList.add("mapboxgl-legend");
            el.appendChild(legend);
          }

          // Add fullscreen control if enabled
          if (x.fullscreen_control && x.fullscreen_control.enabled) {
            const position = x.fullscreen_control.position || "top-right";
            const fullscreen = new maplibregl.FullscreenControl();
            map.addControl(fullscreen, position);
            map.controls.push(fullscreen);
          }

          // Add geolocate control if enabled
          if (x.geolocate_control) {
            const geolocate = new maplibregl.GeolocateControl({
              positionOptions: x.geolocate_control.positionOptions,
              trackUserLocation: x.geolocate_control.trackUserLocation,
              showAccuracyCircle: x.geolocate_control.showAccuracyCircle,
              showUserLocation: x.geolocate_control.showUserLocation,
              showUserHeading: x.geolocate_control.showUserHeading,
              fitBoundsOptions: x.geolocate_control.fitBoundsOptions,
            });
            map.addControl(geolocate, x.geolocate_control.position);
            map.controls.push(geolocate);

            if (HTMLWidgets.shinyMode) {
              geolocate.on("geolocate", function (event) {
                Shiny.setInputValue(el.id + "_geolocate", {
                  coords: event.coords,
                  time: new Date(),
                });
              });

              geolocate.on("trackuserlocationstart", function () {
                Shiny.setInputValue(el.id + "_geolocate_tracking", {
                  status: "start",
                  time: new Date(),
                });
              });

              geolocate.on("trackuserlocationend", function () {
                Shiny.setInputValue(el.id + "_geolocate_tracking", {
                  status: "end",
                  time: new Date(),
                });
              });

              geolocate.on("error", function (error) {
                if (error.error.code === 1) {
                  Shiny.setInputValue(el.id + "_geolocate_error", {
                    message: "Location permission denied",
                    time: new Date(),
                  });
                }
              });
            }
          }

          // Add navigation control if enabled
          if (x.navigation_control) {
            const nav = new maplibregl.NavigationControl({
              showCompass: x.navigation_control.show_compass,
              showZoom: x.navigation_control.show_zoom,
              visualizePitch: x.navigation_control.visualize_pitch,
            });
            map.addControl(nav, x.navigation_control.position);
            map.controls.push(nav);

            if (x.navigation_control.orientation === "horizontal") {
              const navBar = map
                .getContainer()
                .querySelector(
                  ".maplibregl-ctrl-group:not(.mapbox-gl-draw_ctrl-draw-btn)",
                );
              if (navBar) {
                navBar.style.display = "flex";
                navBar.style.flexDirection = "row";
              }
            }
          }

          // Add reset control if enabled
          if (x.reset_control) {
            const resetControl = document.createElement("button");
            resetControl.className =
              "maplibregl-ctrl-icon maplibregl-ctrl-reset";
            resetControl.type = "button";
            resetControl.setAttribute("aria-label", "Reset");
            resetControl.innerHTML = "";
            resetControl.style.fontSize = "30px";
            resetControl.style.fontWeight = "bold";
            resetControl.style.backgroundColor = "white";
            resetControl.style.border = "none";
            resetControl.style.cursor = "pointer";
            resetControl.style.padding = "0";
            resetControl.style.width = "30px";
            resetControl.style.height = "30px";
            resetControl.style.display = "flex";
            resetControl.style.justifyContent = "center";
            resetControl.style.alignItems = "center";
            resetControl.style.transition = "background-color 0.2s";
            resetControl.addEventListener("mouseover", function () {
              this.style.backgroundColor = "#f0f0f0";
            });
            resetControl.addEventListener("mouseout", function () {
              this.style.backgroundColor = "white";
            });

            const resetContainer = document.createElement("div");
            resetContainer.className = "maplibregl-ctrl maplibregl-ctrl-group";
            resetContainer.appendChild(resetControl);

            // Initialize with empty object, will be populated after map loads
            let initialView = {};

            // Capture the initial view after the map has loaded and all view operations are complete
            map.once("load", function () {
              initialView = {
                center: map.getCenter(),
                zoom: map.getZoom(),
                pitch: map.getPitch(),
                bearing: map.getBearing(),
                animate: x.reset_control.animate,
              };

              if (x.reset_control.duration) {
                initialView.duration = x.reset_control.duration;
              }
            });

            resetControl.onclick = function () {
              // Only reset if we have captured the initial view
              if (initialView.center) {
                map.easeTo(initialView);
              }
            };

            map.addControl(
              {
                onAdd: function () {
                  return resetContainer;
                },
                onRemove: function () {
                  resetContainer.parentNode.removeChild(resetContainer);
                },
              },
              x.reset_control.position,
            );

            map.controls.push({
              onAdd: function () {
                return resetContainer;
              },
              onRemove: function () {
                resetContainer.parentNode.removeChild(resetContainer);
              },
            });
          }

          if (x.images && Array.isArray(x.images)) {
            x.images.forEach(async function (imageInfo) {
              try {
                const image = await map.loadImage(imageInfo.url);
                if (!map.hasImage(imageInfo.id)) {
                  map.addImage(imageInfo.id, image.data, imageInfo.options);
                }
              } catch (error) {
                console.error("Error loading image:", error);
              }
            });
          } else if (x.images) {
            console.error("x.images is not an array:", x.images);
          }

          // Add the layers control if provided
          if (x.layers_control) {
            const layersControl = document.createElement("div");
            layersControl.id = x.layers_control.control_id;
            layersControl.className = x.layers_control.collapsible
              ? "layers-control collapsible"
              : "layers-control";
            layersControl.style.position = "absolute";

            // Set the position correctly - fix position bug by using correct CSS positioning
            const position = x.layers_control.position || "top-left";
            if (position === "top-left") {
              layersControl.style.top = (x.layers_control.margin_top || 10) + "px";
              layersControl.style.left = (x.layers_control.margin_left || 10) + "px";
            } else if (position === "top-right") {
              layersControl.style.top = (x.layers_control.margin_top || 10) + "px";
              layersControl.style.right = (x.layers_control.margin_right || 10) + "px";
            } else if (position === "bottom-left") {
              layersControl.style.bottom = (x.layers_control.margin_bottom || 10) + "px";
              layersControl.style.left = (x.layers_control.margin_left || 10) + "px";
            } else if (position === "bottom-right") {
              layersControl.style.bottom = (x.layers_control.margin_bottom || 40) + "px";
              layersControl.style.right = (x.layers_control.margin_right || 10) + "px";
            }

            // Apply custom colors if provided
            if (x.layers_control.custom_colors) {
              const colors = x.layers_control.custom_colors;

              // Create a style element for custom colors
              const styleEl = document.createElement("style");
              let css = "";

              if (colors.background) {
                css += `#${x.layers_control.control_id} { background-color: ${colors.background}; }\n`;
              }

              if (colors.text) {
                css += `#${x.layers_control.control_id} a { color: ${colors.text}; }\n`;
              }

              if (colors.active) {
                css += `#${x.layers_control.control_id} a.active { background-color: ${colors.active}; }\n`;
                css += `#${x.layers_control.control_id} .toggle-button { background-color: ${colors.active}; }\n`;
              }

              if (colors.activeText) {
                css += `#${x.layers_control.control_id} a.active { color: ${colors.activeText}; }\n`;
                css += `#${x.layers_control.control_id} .toggle-button { color: ${colors.activeText}; }\n`;
              }

              if (colors.hover) {
                css += `#${x.layers_control.control_id} a:hover { background-color: ${colors.hover}; }\n`;
                css += `#${x.layers_control.control_id} .toggle-button:hover { background-color: ${colors.hover}; }\n`;
              }

              styleEl.textContent = css;
              document.head.appendChild(styleEl);
            }

            el.appendChild(layersControl);

            const layersList = document.createElement("div");
            layersList.className = "layers-list";
            layersControl.appendChild(layersList);

            // Fetch layers to be included in the control
            let layers =
              x.layers_control.layers ||
              map.getStyle().layers.map((layer) => layer.id);

            // Ensure layers is always an array
            if (!Array.isArray(layers)) {
              layers = [layers];
            }

            layers.forEach((layerId, index) => {
              const link = document.createElement("a");
              link.id = layerId;
              link.href = "#";
              link.textContent = layerId;

              // Check if the layer visibility is set to "none" initially
              const initialVisibility = map.getLayoutProperty(
                layerId,
                "visibility",
              );
              link.className = initialVisibility === "none" ? "" : "active";

              // Also hide any associated legends if the layer is initially hidden
              if (initialVisibility === "none") {
                const associatedLegends = document.querySelectorAll(
                  `.mapboxgl-legend[data-layer-id="${layerId}"]`,
                );
                associatedLegends.forEach((legend) => {
                  legend.style.display = "none";
                });
              }

              // Show or hide layer when the toggle is clicked
              link.onclick = function (e) {
                const clickedLayer = this.textContent;
                e.preventDefault();
                e.stopPropagation();

                const visibility = map.getLayoutProperty(
                  clickedLayer,
                  "visibility",
                );

                // Toggle layer visibility by changing the layout object's visibility property
                if (visibility === "visible") {
                  map.setLayoutProperty(clickedLayer, "visibility", "none");
                  this.className = "";

                  // Hide associated legends
                  const associatedLegends = document.querySelectorAll(
                    `.mapboxgl-legend[data-layer-id="${clickedLayer}"]`,
                  );
                  associatedLegends.forEach((legend) => {
                    legend.style.display = "none";
                  });
                } else {
                  this.className = "active";
                  map.setLayoutProperty(clickedLayer, "visibility", "visible");

                  // Show associated legends
                  const associatedLegends = document.querySelectorAll(
                    `.mapboxgl-legend[data-layer-id="${clickedLayer}"]`,
                  );
                  associatedLegends.forEach((legend) => {
                    legend.style.display = "";
                  });
                }
              };

              layersList.appendChild(link);
            });

            // Handle collapsible behavior
            if (x.layers_control.collapsible) {
              const toggleButton = document.createElement("div");
              toggleButton.className = "toggle-button";

              // Use stacked layers icon instead of text if requested
              if (x.layers_control.use_icon) {
                // Add icon-only class to the control for compact styling
                layersControl.classList.add("icon-only");

                // More GIS-like layers stack icon
                toggleButton.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <polygon points="12 2 2 7 12 12 22 7 12 2"></polygon>
                                    <polyline points="2 17 12 22 22 17"></polyline>
                                    <polyline points="2 12 12 17 22 12"></polyline>
                                </svg>`;
                toggleButton.style.display = "flex";
                toggleButton.style.alignItems = "center";
                toggleButton.style.justifyContent = "center";
              } else {
                toggleButton.textContent = "Layers";
              }

              toggleButton.onclick = function () {
                layersControl.classList.toggle("open");
              };
              layersControl.insertBefore(toggleButton, layersList);
            }
          }

          // If clusters are present, add event handling
          map.getStyle().layers.forEach((layer) => {
            if (layer.id.includes("-clusters")) {
              map.on("click", layer.id, async (e) => {
                const features = map.queryRenderedFeatures(e.point, {
                  layers: [layer.id],
                });
                const clusterId = features[0].properties.cluster_id;
                const zoom = await map
                  .getSource(layer.source)
                  .getClusterExpansionZoom(clusterId);
                map.easeTo({
                  center: features[0].geometry.coordinates,
                  zoom,
                });
              });

              map.on("mouseenter", layer.id, () => {
                map.getCanvas().style.cursor = "pointer";
              });
              map.on("mouseleave", layer.id, () => {
                map.getCanvas().style.cursor = "";
              });
            }
          });

          // Add click event listener in shinyMode
          if (HTMLWidgets.shinyMode) {
            map.on("click", function (e) {
              const features = map.queryRenderedFeatures(e.point);

              if (features.length > 0) {
                const feature = features[0];
                Shiny.onInputChange(el.id + "_feature_click", {
                  id: feature.id,
                  properties: feature.properties,
                  layer: feature.layer.id,
                  lng: e.lngLat.lng,
                  lat: e.lngLat.lat,
                  time: new Date(),
                });
              } else {
                Shiny.onInputChange(el.id + "_feature_click", null);
              }

              // Event listener for the map
              Shiny.onInputChange(el.id + "_click", {
                lng: e.lngLat.lng,
                lat: e.lngLat.lat,
                time: new Date(),
              });
            });

            // add hover listener for shinyMode if enabled
            if (x.hover_events && x.hover_events.enabled) {
              map.on("mousemove", function (e) {
                // Feature hover events
                if (x.hover_events.features) {
                  const options = x.hover_events.layer_id
                    ? {
                        layers: Array.isArray(x.hover_events.layer_id)
                          ? x.hover_events.layer_id
                          : x.hover_events.layer_id
                              .split(",")
                              .map((id) => id.trim()),
                      }
                    : undefined;
                  const features = map.queryRenderedFeatures(e.point, options);

                  if (features.length > 0) {
                    const feature = features[0];
                    Shiny.onInputChange(el.id + "_feature_hover", {
                      id: feature.id,
                      properties: feature.properties,
                      layer: feature.layer.id,
                      lng: e.lngLat.lng,
                      lat: e.lngLat.lat,
                      time: new Date(),
                    });
                  } else {
                    Shiny.onInputChange(el.id + "_feature_hover", null);
                  }
                }

                // Coordinate hover events
                if (x.hover_events.coordinates) {
                  Shiny.onInputChange(el.id + "_hover", {
                    lng: e.lngLat.lng,
                    lat: e.lngLat.lat,
                    time: new Date(),
                  });
                }
              });
            }
          }

          // Process turf operations for static maps
          if (x.turf_operations) {
            processTurfOperationsOnLoad(map, x.turf_operations, el.id);
          }

          el.map = map;
        });
        el.map = map;
      },

      getMap: function () {
        return map; // Return the map instance
      },

      getDraw: function () {
        return draw; // Return the draw instance
      },

      getDrawnFeatures: function () {
        return (
          this.drawFeatures || {
            type: "FeatureCollection",
            features: [],
          }
        );
      },

      resize: function (width, height) {
        if (map) {
          map.resize();
        }
      },
    };
  },
});

if (HTMLWidgets.shinyMode) {
  Shiny.addCustomMessageHandler("maplibre-proxy", function (data) {
    var widget = HTMLWidgets.find("#" + data.id);
    if (!widget) return;
    var map = widget.getMap();
    if (map) {
      var message = data.message;

      // Initialize layer state tracking if not already present
      if (!window._mapglLayerState) {
        window._mapglLayerState = {};
      }
      const mapId = map.getContainer().id;
      if (!window._mapglLayerState[mapId]) {
        window._mapglLayerState[mapId] = {
          filters: {}, // layerId -> filter expression
          paintProperties: {}, // layerId -> {propertyName -> value}
          layoutProperties: {}, // layerId -> {propertyName -> value}
          tooltips: {}, // layerId -> tooltip property
          popups: {}, // layerId -> popup property
          legends: {}, // legendId -> {html: string, css: string}
        };
      }
      const layerState = window._mapglLayerState[mapId];

      // Helper function to update drawn features
      function updateDrawnFeatures() {
        var drawControl = widget.drawControl || widget.getDraw();
        if (drawControl) {
          var drawnFeatures = drawControl.getAll();
          if (HTMLWidgets.shinyMode) {
            Shiny.setInputValue(
              data.id + "_drawn_features",
              JSON.stringify(drawnFeatures),
            );
          }
          // Store drawn features in the widget's data
          if (widget) {
            widget.drawFeatures = drawnFeatures;
          }
        }
      }
      if (message.type === "set_filter") {
        map.setFilter(message.layer, message.filter);
        // Track filter state for layer restoration
        layerState.filters[message.layer] = message.filter;
      } else if (message.type === "add_source") {
        map.addSource(message.source);
      } else if (message.type === "add_layer") {
        try {
          if (message.layer.before_id) {
            map.addLayer(message.layer, message.layer.before_id);
          } else {
            map.addLayer(message.layer);
          }

          // Add popups or tooltips if provided
          if (message.layer.popup) {
            // Initialize popup tracking if it doesn't exist
            if (!window._mapboxPopups) {
              window._mapboxPopups = {};
            }

            // Create click handler for this layer
            const clickHandler = function (e) {
              onClickPopup(e, map, message.layer.popup, message.layer.id);
            };

            // Store these handler references so we can remove them later if needed
            if (!window._mapboxClickHandlers) {
              window._mapboxClickHandlers = {};
            }
            window._mapboxClickHandlers[message.layer.id] = clickHandler;

            // Add the click handler
            map.on("click", message.layer.id, clickHandler);

            // Change cursor to pointer when hovering over the layer
            map.on("mouseenter", message.layer.id, function () {
              map.getCanvas().style.cursor = "pointer";
            });

            // Change cursor back to default when leaving the layer
            map.on("mouseleave", message.layer.id, function () {
              map.getCanvas().style.cursor = "";
            });
          }

          if (message.layer.tooltip) {
            const tooltip = new maplibregl.Popup({
              closeButton: false,
              closeOnClick: false,
            });

            // Define named handler functions:
            const mouseMoveHandler = function (e) {
              onMouseMoveTooltip(e, map, tooltip, message.layer.tooltip);
            };

            const mouseLeaveHandler = function () {
              onMouseLeaveTooltip(map, tooltip);
            };

            // Attach handlers by reference:
            map.on("mousemove", message.layer.id, mouseMoveHandler);
            map.on("mouseleave", message.layer.id, mouseLeaveHandler);

            // Store these handler references for later removal:
            if (!window._mapboxHandlers) {
              window._mapboxHandlers = {};
            }
            window._mapboxHandlers[message.layer.id] = {
              mousemove: mouseMoveHandler,
              mouseleave: mouseLeaveHandler,
            };
          }

          // Add hover effect if provided
          if (message.layer.hover_options) {
            const jsHoverOptions = {};
            for (const [key, value] of Object.entries(
              message.layer.hover_options,
            )) {
              const jsKey = key.replace(/_/g, "-");
              jsHoverOptions[jsKey] = value;
            }

            let hoveredFeatureId = null;

            map.on("mousemove", message.layer.id, function (e) {
              if (e.features.length > 0) {
                // Check if the feature has an id
                const featureId = e.features[0].id;

                // Only proceed if the feature has an id
                if (featureId !== undefined && featureId !== null) {
                  if (hoveredFeatureId !== null) {
                    const featureState = {
                      source:
                        typeof message.layer.source === "string"
                          ? message.layer.source
                          : message.layer.id,
                      id: hoveredFeatureId,
                    };
                    if (message.layer.source_layer) {
                      featureState.sourceLayer = message.layer.source_layer;
                    }
                    map.setFeatureState(featureState, { hover: false });
                  }
                  hoveredFeatureId = featureId;
                  const featureState = {
                    source:
                      typeof message.layer.source === "string"
                        ? message.layer.source
                        : message.layer.id,
                    id: hoveredFeatureId,
                  };
                  if (message.layer.source_layer) {
                    featureState.sourceLayer = message.layer.source_layer;
                  }
                  map.setFeatureState(featureState, { hover: true });
                }
              }
            });

            map.on("mouseleave", message.layer.id, function () {
              if (hoveredFeatureId !== null) {
                const featureState = {
                  source:
                    typeof message.layer.source === "string"
                      ? message.layer.source
                      : message.layer.id,
                  id: hoveredFeatureId,
                };
                if (message.layer.source_layer) {
                  featureState.sourceLayer = message.layer.source_layer;
                }
                map.setFeatureState(featureState, { hover: false });
              }
              hoveredFeatureId = null;
            });

            Object.keys(jsHoverOptions).forEach(function (key) {
              const originalPaint =
                map.getPaintProperty(message.layer.id, key) ||
                message.layer.paint[key];
              map.setPaintProperty(message.layer.id, key, [
                "case",
                ["boolean", ["feature-state", "hover"], false],
                jsHoverOptions[key],
                originalPaint,
              ]);
            });
          }
        } catch (e) {
          console.error("Failed to add layer via proxy: ", message.layer, e);
        }
      } else if (message.type === "remove_layer") {
        // If there's an active tooltip, remove it first
        if (window._activeTooltip) {
          window._activeTooltip.remove();
          delete window._activeTooltip;
        }

        // If there's an active popup for this layer, remove it
        // Check both message.layer and message.layer.id as keys due to different message formats
        if (window._mapboxPopups) {
          // First check if we have a popup stored with message.layer key
          if (window._mapboxPopups[message.layer]) {
            window._mapboxPopups[message.layer].remove();
            delete window._mapboxPopups[message.layer];
          }

          // Also check if we have a popup stored with message.layer.id key, which happens when added via add_layer
          if (
            message.layer &&
            message.layer.id &&
            window._mapboxPopups[message.layer.id]
          ) {
            window._mapboxPopups[message.layer.id].remove();
            delete window._mapboxPopups[message.layer.id];
          }
        }

        if (map.getLayer(message.layer)) {
          // Remove tooltip handlers
          if (window._mapboxHandlers && window._mapboxHandlers[message.layer]) {
            const handlers = window._mapboxHandlers[message.layer];
            if (handlers.mousemove) {
              map.off("mousemove", message.layer, handlers.mousemove);
            }
            if (handlers.mouseleave) {
              map.off("mouseleave", message.layer, handlers.mouseleave);
            }
            // Clean up the reference
            delete window._mapboxHandlers[message.layer];
          }

          // Remove click handlers for popups
          if (window._mapboxClickHandlers) {
            // First check for handlers stored with message.layer key
            if (window._mapboxClickHandlers[message.layer]) {
              map.off(
                "click",
                message.layer,
                window._mapboxClickHandlers[message.layer],
              );
              delete window._mapboxClickHandlers[message.layer];
            }

            // Also check for handlers stored with message.layer.id key from add_layer
            if (
              message.layer &&
              message.layer.id &&
              window._mapboxClickHandlers[message.layer.id]
            ) {
              map.off(
                "click",
                message.layer,
                window._mapboxClickHandlers[message.layer.id],
              );
              delete window._mapboxClickHandlers[message.layer.id];
            }
          }

          // Remove the layer
          map.removeLayer(message.layer);
        }
        if (map.getSource(message.layer)) {
          map.removeSource(message.layer);
        }

        // Clean up tracked layer state
        const mapId = map.getContainer().id;
        if (window._mapglLayerState && window._mapglLayerState[mapId]) {
          const layerState = window._mapglLayerState[mapId];
          delete layerState.filters[message.layer];
          delete layerState.paintProperties[message.layer];
          delete layerState.layoutProperties[message.layer];
          delete layerState.tooltips[message.layer];
          delete layerState.popups[message.layer];
          // Note: legends are not tied to specific layers, so we don't clear them here
        }
      } else if (message.type === "fit_bounds") {
        map.fitBounds(message.bounds, message.options);
      } else if (message.type === "fly_to") {
        map.flyTo(message.options);
      } else if (message.type === "ease_to") {
        map.easeTo(message.options);
      } else if (message.type === "set_center") {
        map.setCenter(message.center);
      } else if (message.type === "set_zoom") {
        map.setZoom(message.zoom);
      } else if (message.type === "jump_to") {
        map.jumpTo(message.options);
      } else if (message.type === "set_layout_property") {
        map.setLayoutProperty(message.layer, message.name, message.value);
        // Track layout property state for layer restoration
        if (!layerState.layoutProperties[message.layer]) {
          layerState.layoutProperties[message.layer] = {};
        }
        layerState.layoutProperties[message.layer][message.name] =
          message.value;
      } else if (message.type === "set_paint_property") {
        const layerId = message.layer;
        const propertyName = message.name;
        const newValue = message.value;

        // Check if the layer has hover options
        const layerStyle = map
          .getStyle()
          .layers.find((layer) => layer.id === layerId);
        const currentPaintProperty = map.getPaintProperty(
          layerId,
          propertyName,
        );

        if (
          currentPaintProperty &&
          Array.isArray(currentPaintProperty) &&
          currentPaintProperty[0] === "case"
        ) {
          // This property has hover options, so we need to preserve them
          const hoverValue = currentPaintProperty[2];
          const newPaintProperty = [
            "case",
            ["boolean", ["feature-state", "hover"], false],
            hoverValue,
            newValue,
          ];
          map.setPaintProperty(layerId, propertyName, newPaintProperty);
        } else {
          // No hover options, just set the new value directly
          map.setPaintProperty(layerId, propertyName, newValue);
        }
        // Track paint property state for layer restoration
        if (!layerState.paintProperties[layerId]) {
          layerState.paintProperties[layerId] = {};
        }
        layerState.paintProperties[layerId][propertyName] = newValue;
      } else if (message.type === "query_rendered_features") {
        // Query rendered features
        let queryOptions = {};
        if (message.layers) {
          // Ensure layers is always an array
          queryOptions.layers = Array.isArray(message.layers)
            ? message.layers
            : [message.layers];
        }
        if (message.filter) queryOptions.filter = message.filter;

        let features;
        if (message.geometry) {
          features = map.queryRenderedFeatures(message.geometry, queryOptions);
        } else {
          // No geometry specified - query entire viewport
          features = map.queryRenderedFeatures(queryOptions);
        }

        // Deduplicate features by id or by properties if no id
        const uniqueFeatures = new Map();
        features.forEach(function (feature) {
          let key;
          if (feature.id !== undefined && feature.id !== null) {
            key = feature.id;
          } else {
            // Create a key from properties if no id available
            key = JSON.stringify(feature.properties);
          }

          if (!uniqueFeatures.has(key)) {
            uniqueFeatures.set(key, feature);
          }
        });

        // Convert to GeoJSON FeatureCollection
        const deduplicatedFeatures = Array.from(uniqueFeatures.values());
        const featureCollection = {
          type: "FeatureCollection",
          features: deduplicatedFeatures,
        };

        Shiny.setInputValue(
          data.id + "_queried_features",
          JSON.stringify(featureCollection),
        );
      } else if (message.type === "add_legend") {
        // Extract legend ID from HTML to track it
        const legendIdMatch = message.html.match(/id="([^"]+)"/);
        const legendId = legendIdMatch ? legendIdMatch[1] : null;

        if (!message.add) {
          const existingLegends = document.querySelectorAll(
            `#${data.id} .mapboxgl-legend`,
          );
          existingLegends.forEach((legend) => legend.remove());

          // Clean up any existing legend styles that might have been added
          const legendStyles = document.querySelectorAll(
            `style[data-mapgl-legend-css="${data.id}"]`,
          );
          legendStyles.forEach((style) => style.remove());

          // Clear legend state when replacing all legends
          layerState.legends = {};
        }

        // Track legend state
        if (legendId) {
          layerState.legends[legendId] = {
            html: message.html,
            css: message.legend_css,
          };
        }

        const legendCss = document.createElement("style");
        legendCss.innerHTML = message.legend_css;
        legendCss.setAttribute("data-mapgl-legend-css", data.id); // Mark this style for later cleanup
        document.head.appendChild(legendCss);

        const legend = document.createElement("div");
        legend.innerHTML = message.html;
        legend.classList.add("mapboxgl-legend");
        document.getElementById(data.id).appendChild(legend);
      } else if (message.type === "set_config_property") {
        map.setConfigProperty(
          message.importId,
          message.configName,
          message.value,
        );
      } else if (message.type === "set_style") {
        // Default preserve_layers to true if not specified
        const preserveLayers = message.preserve_layers !== false;

        console.log(
          "[MapGL Debug] set_style called with preserve_layers:",
          preserveLayers,
        );
        console.log(
          "[MapGL Debug] message.preserve_layers:",
          message.preserve_layers,
        );

        // If we should preserve layers and sources
        if (preserveLayers) {
          // Store the current style before changing it
          const currentStyle = map.getStyle();
          const userSourceIds = [];
          const userLayers = [];

          console.log(
            "[MapGL Debug] Current style sources:",
            Object.keys(currentStyle.sources),
          );
          console.log(
            "[MapGL Debug] Current style layers:",
            currentStyle.layers.map((l) => l.id),
          );

          // Store layer IDs we know were added by the user via R code
          // This is the most reliable way to identify user-added layers
          const knownUserLayerIds = [];

          // For each layer in the current style, determine if it's a user-added layer
          currentStyle.layers.forEach(function (layer) {
            const layerId = layer.id;

            // Critical: Check for nc_counties specifically since we know that's used in the test app
            if (layerId === "nc_counties") {
              console.log("[MapGL Debug] Found explicit test layer:", layerId);
              knownUserLayerIds.push(layerId);
              if (layer.source && !userSourceIds.includes(layer.source)) {
                console.log(
                  "[MapGL Debug] Found source from test layer:",
                  layer.source,
                );
                userSourceIds.push(layer.source);
              }
              return; // Skip other checks for this layer
            }

            // These are common patterns for user-added layers from R code
            if (
              // Specific layer IDs from the R package
              layerId.endsWith("_counties") ||
              layerId.endsWith("_label") ||
              layerId.endsWith("_layer") ||
              // Look for hover handlers - only user-added layers have these
              (window._mapboxHandlers && window._mapboxHandlers[layerId]) ||
              // If the layer ID contains these strings, it's likely user-added
              layerId.includes("user") ||
              layerId.includes("custom") ||
              // If the paint property has a hover case, it's user-added
              (layer.paint &&
                Object.values(layer.paint).some(
                  (value) =>
                    Array.isArray(value) &&
                    value[0] === "case" &&
                    Array.isArray(value[1]) &&
                    value[1][1] &&
                    Array.isArray(value[1][1]) &&
                    value[1][1][0] === "feature-state" &&
                    value[1][1][1] === "hover",
                ))
            ) {
              console.log("[MapGL Debug] Found user layer:", layerId);
              knownUserLayerIds.push(layerId);
              // Only include its source if it's not a base map source
              if (layer.source && !userSourceIds.includes(layer.source)) {
                const layerSource = currentStyle.sources[layer.source];
                const isBaseMapSource =
                  layerSource &&
                  layerSource.type === "vector" &&
                  (layer.source === "composite" ||
                    layer.source === "mapbox" ||
                    layer.source.startsWith("mapbox-") ||
                    layer.source === "openmaptiles" ||
                    layer.source.startsWith("carto") ||
                    layer.source.startsWith("maptiler"));

                if (!isBaseMapSource) {
                  console.log(
                    "[MapGL Debug] Found user source from layer:",
                    layer.source,
                  );
                  userSourceIds.push(layer.source);
                } else {
                  console.log(
                    "[MapGL Debug] Not adding base map source from layer:",
                    layer.source,
                  );
                }
              }
            }
          });

          // For each source, determine if it's a user-added source
          for (const sourceId in currentStyle.sources) {
            const source = currentStyle.sources[sourceId];

            console.log(
              "[MapGL Debug] Examining source:",
              sourceId,
              "type:",
              source.type,
            );

            // Strategy 1: All GeoJSON sources are likely user-added
            if (source.type === "geojson") {
              console.log("[MapGL Debug] Found user GeoJSON source:", sourceId);
              if (!userSourceIds.includes(sourceId)) {
                userSourceIds.push(sourceId);
              }
            }
            // Strategy 2: Check for source data URL patterns typical of R-generated data
            else if (
              source.url &&
              typeof source.url === "string" &&
              (source.url.includes("data:application/json") ||
                source.url.includes("blob:"))
            ) {
              console.log(
                "[MapGL Debug] Found user source with data URL:",
                sourceId,
              );
              if (!userSourceIds.includes(sourceId)) {
                userSourceIds.push(sourceId);
              }
            }
            // Strategy 3: Standard filtering - exclude common base map sources
            else if (
              sourceId !== "composite" &&
              sourceId !== "mapbox" &&
              !sourceId.startsWith("mapbox-") &&
              sourceId !== "openmaptiles" && // Common in MapLibre styles
              !(sourceId.startsWith("carto") && sourceId !== "carto-source") && // Filter CARTO base sources but keep user ones
              !(
                sourceId.startsWith("maptiler") && !sourceId.includes("user")
              ) && // Filter MapTiler sources but keep user ones
              !sourceId.includes("terrain") && // Common terrain sources
              !sourceId.includes("hillshade") && // Common hillshade sources
              !(sourceId.includes("basemap") && !sourceId.includes("user")) && // Filter basemap sources but keep user ones
              sourceId !== "satellite" && // Filter MapTiler satellite source specifically
              sourceId !== "aerial" // Filter aerial imagery sources
            ) {
              console.log(
                "[MapGL Debug] Found user source via filtering:",
                sourceId,
              );
              if (!userSourceIds.includes(sourceId)) {
                userSourceIds.push(sourceId);
              }
            } else {
              console.log(
                "[MapGL Debug] Filtered out base map source:",
                sourceId,
              );
            }

            // Store layer-specific handler references
            if (window._mapboxHandlers) {
              const handlers = window._mapboxHandlers;
              for (const layerId in handlers) {
                // Find layers associated with this source
                const layer = currentStyle.layers.find((l) => l.id === layerId);
                if (layer && layer.source === sourceId) {
                  layer._handlers = handlers[layerId];
                }
              }
            }
          }

          // Identify layers using user-added sources or known user layer IDs
          // ONLY include layers that use genuinely user-added sources (not base map sources)
          currentStyle.layers.forEach(function (layer) {
            // Check if this layer uses a genuine user source (not filtered out base map sources)
            const usesUserSource = userSourceIds.includes(layer.source);
            const isKnownUserLayer = knownUserLayerIds.includes(layer.id);

            // Additional check: exclude layers that use base map sources even if they were temporarily added to userSourceIds
            const layerSource = currentStyle.sources[layer.source];
            const isBaseMapSource =
              layerSource &&
              layerSource.type === "vector" &&
              (layer.source === "composite" ||
                layer.source === "mapbox" ||
                layer.source.startsWith("mapbox-") ||
                layer.source === "openmaptiles" ||
                layer.source.startsWith("carto") ||
                layer.source.startsWith("maptiler"));

            if ((usesUserSource || isKnownUserLayer) && !isBaseMapSource) {
              userLayers.push(layer);
              console.log(
                "[MapGL Debug] Including user layer:",
                layer.id,
                "source:",
                layer.source,
              );
            } else if (isBaseMapSource) {
              console.log(
                "[MapGL Debug] Excluding base map layer:",
                layer.id,
                "source:",
                layer.source,
              );
            }
          });

          // Log detected user sources and layers
          console.log("[MapGL Debug] Detected user sources:", userSourceIds);
          console.log(
            "[MapGL Debug] Detected user layers:",
            userLayers.map((l) => l.id),
          );
          console.log(
            "[MapGL Debug] Will preserve",
            userLayers.length,
            "user layers",
          );

          // Store them for potential use outside the onStyleLoad event
          // This helps in case the event timing is different in MapLibre
          if (!window._mapglPreservedData) {
            window._mapglPreservedData = {};
          }
          window._mapglPreservedData[map.getContainer().id] = {
            sources: userSourceIds.map((id) => ({
              id,
              source: currentStyle.sources[id],
            })),
            layers: userLayers,
          };

          // Set up event listener to re-add sources and layers after style loads
          const onStyleLoad = function () {
            console.log("[MapGL Debug] style.load event fired");

            try {
              // Re-add user sources
              userSourceIds.forEach(function (sourceId) {
                try {
                  if (!map.getSource(sourceId)) {
                    const source = currentStyle.sources[sourceId];
                    console.log("[MapGL Debug] Re-adding source:", sourceId);
                    map.addSource(sourceId, source);
                  }
                } catch (err) {
                  console.error(
                    "[MapGL Debug] Error re-adding source:",
                    sourceId,
                    err,
                  );
                }
              });

              // Re-add user layers
              userLayers.forEach(function (layer) {
                try {
                  if (!map.getLayer(layer.id)) {
                    console.log("[MapGL Debug] Re-adding layer:", layer.id);
                    map.addLayer(layer);

                    // Re-add event handlers for tooltips and hover effects
                    if (layer._handlers) {
                      const handlers = layer._handlers;

                      if (handlers.mousemove) {
                        console.log(
                          "[MapGL Debug] Re-adding mousemove handler for:",
                          layer.id,
                        );
                        map.on("mousemove", layer.id, handlers.mousemove);
                      }

                      if (handlers.mouseleave) {
                        console.log(
                          "[MapGL Debug] Re-adding mouseleave handler for:",
                          layer.id,
                        );
                        map.on("mouseleave", layer.id, handlers.mouseleave);
                      }
                    }

                    // Check if we need to restore tooltip handlers
                    const layerId = layer.id;
                    if (layerId === "nc_counties" || layer.tooltip) {
                      console.log(
                        "[MapGL Debug] Restoring tooltip for:",
                        layerId,
                      );

                      // Create a new tooltip popup
                      const tooltip = new maplibregl.Popup({
                        closeButton: false,
                        closeOnClick: false,
                      });

                      // Re-add tooltip handlers
                      const tooltipProperty = layer.tooltip || "NAME";

                      const mouseMoveHandler = function (e) {
                        map.getCanvas().style.cursor = "pointer";
                        if (e.features.length > 0) {
                          const description =
                            e.features[0].properties[tooltipProperty];
                          tooltip
                            .setLngLat(e.lngLat)
                            .setHTML(description)
                            .addTo(map);
                        }
                      };

                      const mouseLeaveHandler = function () {
                        map.getCanvas().style.cursor = "";
                        tooltip.remove();
                      };

                      map.on("mousemove", layerId, mouseMoveHandler);
                      map.on("mouseleave", layerId, mouseLeaveHandler);

                      // Store these handlers
                      if (!window._mapboxHandlers) {
                        window._mapboxHandlers = {};
                      }
                      window._mapboxHandlers[layerId] = {
                        mousemove: mouseMoveHandler,
                        mouseleave: mouseLeaveHandler,
                      };
                    }

                    // Recreate hover states if needed
                    if (layer.paint) {
                      for (const key in layer.paint) {
                        const value = layer.paint[key];
                        if (
                          Array.isArray(value) &&
                          value[0] === "case" &&
                          Array.isArray(value[1]) &&
                          value[1][0] === "boolean" &&
                          value[1][1][0] === "feature-state" &&
                          value[1][1][1] === "hover"
                        ) {
                          // This is a hover-enabled paint property
                          map.setPaintProperty(layer.id, key, value);
                        }
                      }
                    }
                  }
                } catch (err) {
                  console.error(
                    "[MapGL Debug] Error re-adding layer:",
                    layer.id,
                    err,
                  );
                }
              });
            } catch (err) {
              console.error("[MapGL Debug] Error in style.load handler:", err);
            }

            // Clear any active tooltips before restoration to prevent stacking
            if (window._activeTooltip) {
              window._activeTooltip.remove();
              delete window._activeTooltip;
            }

            // Restore tracked layer modifications
            const mapId = map.getContainer().id;
            const savedLayerState =
              window._mapglLayerState && window._mapglLayerState[mapId];
            if (savedLayerState) {
              console.log(
                "[MapGL Debug] Restoring tracked layer modifications",
              );

              // Restore filters
              for (const layerId in savedLayerState.filters) {
                if (map.getLayer(layerId)) {
                  console.log(
                    "[MapGL Debug] Restoring filter for layer:",
                    layerId,
                  );
                  map.setFilter(layerId, savedLayerState.filters[layerId]);
                }
              }

              // Restore paint properties
              for (const layerId in savedLayerState.paintProperties) {
                if (map.getLayer(layerId)) {
                  const properties = savedLayerState.paintProperties[layerId];
                  for (const propertyName in properties) {
                    const savedValue = properties[propertyName];

                    console.log(
                      "[MapGL Debug] Restoring paint property:",
                      layerId,
                      propertyName,
                      savedValue,
                    );

                    // Check if layer has hover effects that need to be preserved
                    const currentValue = map.getPaintProperty(
                      layerId,
                      propertyName,
                    );
                    if (
                      currentValue &&
                      Array.isArray(currentValue) &&
                      currentValue[0] === "case"
                    ) {
                      // Preserve hover effects while updating base value
                      const hoverValue = currentValue[2];
                      const newPaintProperty = [
                        "case",
                        ["boolean", ["feature-state", "hover"], false],
                        hoverValue,
                        savedValue,
                      ];
                      map.setPaintProperty(
                        layerId,
                        propertyName,
                        newPaintProperty,
                      );
                    } else {
                      map.setPaintProperty(layerId, propertyName, savedValue);
                    }
                  }
                }
              }

              // Restore layout properties
              for (const layerId in savedLayerState.layoutProperties) {
                if (map.getLayer(layerId)) {
                  const properties = savedLayerState.layoutProperties[layerId];
                  for (const propertyName in properties) {
                    console.log(
                      "[MapGL Debug] Restoring layout property:",
                      layerId,
                      propertyName,
                      properties[propertyName],
                    );
                    map.setLayoutProperty(
                      layerId,
                      propertyName,
                      properties[propertyName],
                    );
                  }
                }
              }

              // Restore tooltips
              for (const layerId in savedLayerState.tooltips) {
                if (map.getLayer(layerId)) {
                  const tooltipProperty = savedLayerState.tooltips[layerId];
                  console.log(
                    "[MapGL Debug] Restoring tooltip:",
                    layerId,
                    tooltipProperty,
                  );

                  // Remove existing tooltip handlers first
                  if (
                    window._mapboxHandlers &&
                    window._mapboxHandlers[layerId]
                  ) {
                    if (window._mapboxHandlers[layerId].mousemove) {
                      map.off(
                        "mousemove",
                        layerId,
                        window._mapboxHandlers[layerId].mousemove,
                      );
                    }
                    if (window._mapboxHandlers[layerId].mouseleave) {
                      map.off(
                        "mouseleave",
                        layerId,
                        window._mapboxHandlers[layerId].mouseleave,
                      );
                    }
                  }

                  // Create new tooltip
                  const tooltip = new maplibregl.Popup({
                    closeButton: false,
                    closeOnClick: false,
                  });

                  const mouseMoveHandler = function (e) {
                    onMouseMoveTooltip(e, map, tooltip, tooltipProperty);
                  };

                  const mouseLeaveHandler = function () {
                    onMouseLeaveTooltip(map, tooltip);
                  };

                  map.on("mousemove", layerId, mouseMoveHandler);
                  map.on("mouseleave", layerId, mouseLeaveHandler);

                  // Store handler references
                  if (!window._mapboxHandlers) {
                    window._mapboxHandlers = {};
                  }
                  window._mapboxHandlers[layerId] = {
                    mousemove: mouseMoveHandler,
                    mouseleave: mouseLeaveHandler,
                  };
                }
              }

              // Restore popups
              for (const layerId in savedLayerState.popups) {
                if (map.getLayer(layerId)) {
                  const popupProperty = savedLayerState.popups[layerId];
                  console.log(
                    "[MapGL Debug] Restoring popup:",
                    layerId,
                    popupProperty,
                  );

                  // Remove existing popup handlers first
                  if (
                    window._mapboxClickHandlers &&
                    window._mapboxClickHandlers[layerId]
                  ) {
                    map.off(
                      "click",
                      layerId,
                      window._mapboxClickHandlers[layerId],
                    );
                  }

                  // Create new popup handler
                  const clickHandler = function (e) {
                    onClickPopup(e, map, popupProperty, layerId);
                  };

                  map.on("click", layerId, clickHandler);

                  // Add hover effects for cursor
                  map.on("mouseenter", layerId, function () {
                    map.getCanvas().style.cursor = "pointer";
                  });
                  map.on("mouseleave", layerId, function () {
                    map.getCanvas().style.cursor = "";
                  });

                  // Store handler reference
                  if (!window._mapboxClickHandlers) {
                    window._mapboxClickHandlers = {};
                  }
                  window._mapboxClickHandlers[layerId] = clickHandler;
                }
              }

              // Restore legends
              if (Object.keys(savedLayerState.legends).length > 0) {
                // Clear any existing legends first to prevent stacking
                const existingLegends = document.querySelectorAll(
                  `#${mapId} .mapboxgl-legend`,
                );
                existingLegends.forEach((legend) => legend.remove());

                // Clear existing legend styles
                const legendStyles = document.querySelectorAll(
                  `style[data-mapgl-legend-css="${mapId}"]`,
                );
                legendStyles.forEach((style) => style.remove());

                // Restore each legend
                for (const legendId in savedLayerState.legends) {
                  const legendData = savedLayerState.legends[legendId];
                  console.log("[MapGL Debug] Restoring legend:", legendId);

                  // Add legend CSS
                  const legendCss = document.createElement("style");
                  legendCss.innerHTML = legendData.css;
                  legendCss.setAttribute("data-mapgl-legend-css", mapId);
                  document.head.appendChild(legendCss);

                  // Add legend HTML
                  const legend = document.createElement("div");
                  legend.innerHTML = legendData.html;
                  legend.classList.add("mapboxgl-legend");
                  const mapContainer = document.getElementById(mapId);
                  if (mapContainer) {
                    mapContainer.appendChild(legend);
                  }
                }
              }
            }

            // Remove this listener to avoid adding the same layers multiple times
            map.off("style.load", onStyleLoad);
          };

          map.on("style.load", onStyleLoad);

          // Add a backup mechanism specific to MapLibre
          // Some MapLibre styles or versions may have different event timing
          if (userLayers.length > 0) {
            // Set a timeout to check if layers were added after a reasonable delay
            setTimeout(function () {
              try {
                console.log("[MapGL Debug] Running backup layer check");
                const mapId = map.getContainer().id;
                const preserved =
                  window._mapglPreservedData &&
                  window._mapglPreservedData[mapId];

                if (preserved) {
                  // Check if user layers were successfully restored
                  const firstLayerId = preserved.layers[0]?.id;
                  if (firstLayerId && !map.getLayer(firstLayerId)) {
                    console.log(
                      "[MapGL Debug] Backup restoration needed for layers",
                    );

                    // Re-add sources first
                    preserved.sources.forEach(function (src) {
                      try {
                        if (!map.getSource(src.id)) {
                          console.log(
                            "[MapGL Debug] Backup: adding source",
                            src.id,
                          );
                          map.addSource(src.id, src.source);
                        }
                      } catch (err) {
                        console.error(
                          "[MapGL Debug] Backup: error adding source",
                          src.id,
                          err,
                        );
                      }
                    });

                    // Then re-add layers
                    preserved.layers.forEach(function (layer) {
                      try {
                        if (!map.getLayer(layer.id)) {
                          console.log(
                            "[MapGL Debug] Backup: adding layer",
                            layer.id,
                          );
                          map.addLayer(layer);

                          // Check for nc_counties layer to restore tooltip
                          if (layer.id === "nc_counties") {
                            console.log(
                              "[MapGL Debug] Backup: restoring tooltip for",
                              layer.id,
                            );

                            // Create a new tooltip popup
                            const tooltip = new maplibregl.Popup({
                              closeButton: false,
                              closeOnClick: false,
                            });

                            // Re-add tooltip handlers
                            const tooltipProperty = "NAME";

                            const mouseMoveHandler = function (e) {
                              map.getCanvas().style.cursor = "pointer";
                              if (e.features.length > 0) {
                                const description =
                                  e.features[0].properties[tooltipProperty];
                                tooltip
                                  .setLngLat(e.lngLat)
                                  .setHTML(description)
                                  .addTo(map);
                              }
                            };

                            const mouseLeaveHandler = function () {
                              map.getCanvas().style.cursor = "";
                              tooltip.remove();
                            };

                            map.on("mousemove", layer.id, mouseMoveHandler);
                            map.on("mouseleave", layer.id, mouseLeaveHandler);

                            // Store these handlers
                            if (!window._mapboxHandlers) {
                              window._mapboxHandlers = {};
                            }
                            window._mapboxHandlers[layer.id] = {
                              mousemove: mouseMoveHandler,
                              mouseleave: mouseLeaveHandler,
                            };
                          }

                          // Restore hover states
                          if (layer.paint) {
                            for (const key in layer.paint) {
                              const value = layer.paint[key];
                              if (
                                Array.isArray(value) &&
                                value[0] === "case" &&
                                Array.isArray(value[1]) &&
                                value[1][0] === "boolean" &&
                                value[1][1] &&
                                Array.isArray(value[1][1]) &&
                                value[1][1][0] === "feature-state" &&
                                value[1][1][1] === "hover"
                              ) {
                                // This is a hover-enabled paint property
                                console.log(
                                  "[MapGL Debug] Backup: restoring hover style for",
                                  layer.id,
                                  key,
                                );
                                map.setPaintProperty(layer.id, key, value);
                              }
                            }
                          }
                        }
                      } catch (err) {
                        console.error(
                          "[MapGL Debug] Backup: error adding layer",
                          layer.id,
                          err,
                        );
                      }
                    });

                    // Restore tracked layer modifications in backup
                    const mapId = map.getContainer().id;
                    const savedLayerState =
                      window._mapglLayerState && window._mapglLayerState[mapId];
                    if (savedLayerState) {
                      console.log(
                        "[MapGL Debug] Backup: restoring tracked layer modifications",
                      );

                      // Restore filters
                      for (const layerId in savedLayerState.filters) {
                        if (map.getLayer(layerId)) {
                          console.log(
                            "[MapGL Debug] Backup: restoring filter for layer:",
                            layerId,
                          );
                          map.setFilter(
                            layerId,
                            savedLayerState.filters[layerId],
                          );
                        }
                      }

                      // Restore paint properties
                      for (const layerId in savedLayerState.paintProperties) {
                        if (map.getLayer(layerId)) {
                          const properties =
                            savedLayerState.paintProperties[layerId];
                          for (const propertyName in properties) {
                            const savedValue = properties[propertyName];
                            console.log(
                              "[MapGL Debug] Backup: restoring paint property:",
                              layerId,
                              propertyName,
                              savedValue,
                            );

                            // Check if layer has hover effects that need to be preserved
                            const currentValue = map.getPaintProperty(
                              layerId,
                              propertyName,
                            );
                            if (
                              currentValue &&
                              Array.isArray(currentValue) &&
                              currentValue[0] === "case"
                            ) {
                              // Preserve hover effects while updating base value
                              const hoverValue = currentValue[2];
                              const newPaintProperty = [
                                "case",
                                ["boolean", ["feature-state", "hover"], false],
                                hoverValue,
                                savedValue,
                              ];
                              map.setPaintProperty(
                                layerId,
                                propertyName,
                                newPaintProperty,
                              );
                            } else {
                              map.setPaintProperty(
                                layerId,
                                propertyName,
                                savedValue,
                              );
                            }
                          }
                        }
                      }

                      // Restore layout properties
                      for (const layerId in savedLayerState.layoutProperties) {
                        if (map.getLayer(layerId)) {
                          const properties =
                            savedLayerState.layoutProperties[layerId];
                          for (const propertyName in properties) {
                            console.log(
                              "[MapGL Debug] Backup: restoring layout property:",
                              layerId,
                              propertyName,
                              properties[propertyName],
                            );
                            map.setLayoutProperty(
                              layerId,
                              propertyName,
                              properties[propertyName],
                            );
                          }
                        }
                      }

                      // Restore tooltips
                      for (const layerId in savedLayerState.tooltips) {
                        if (map.getLayer(layerId)) {
                          const tooltipProperty =
                            savedLayerState.tooltips[layerId];
                          console.log(
                            "[MapGL Debug] Backup: restoring tooltip:",
                            layerId,
                            tooltipProperty,
                          );

                          if (
                            window._mapboxHandlers &&
                            window._mapboxHandlers[layerId]
                          ) {
                            if (window._mapboxHandlers[layerId].mousemove) {
                              map.off(
                                "mousemove",
                                layerId,
                                window._mapboxHandlers[layerId].mousemove,
                              );
                            }
                            if (window._mapboxHandlers[layerId].mouseleave) {
                              map.off(
                                "mouseleave",
                                layerId,
                                window._mapboxHandlers[layerId].mouseleave,
                              );
                            }
                          }

                          const tooltip = new maplibregl.Popup({
                            closeButton: false,
                            closeOnClick: false,
                          });

                          const mouseMoveHandler = function (e) {
                            onMouseMoveTooltip(
                              e,
                              map,
                              tooltip,
                              tooltipProperty,
                            );
                          };

                          const mouseLeaveHandler = function () {
                            onMouseLeaveTooltip(map, tooltip);
                          };

                          map.on("mousemove", layerId, mouseMoveHandler);
                          map.on("mouseleave", layerId, mouseLeaveHandler);

                          if (!window._mapboxHandlers) {
                            window._mapboxHandlers = {};
                          }
                          window._mapboxHandlers[layerId] = {
                            mousemove: mouseMoveHandler,
                            mouseleave: mouseLeaveHandler,
                          };
                        }
                      }

                      // Restore popups
                      for (const layerId in savedLayerState.popups) {
                        if (map.getLayer(layerId)) {
                          const popupProperty = savedLayerState.popups[layerId];
                          console.log(
                            "[MapGL Debug] Backup: restoring popup:",
                            layerId,
                            popupProperty,
                          );

                          if (
                            window._mapboxClickHandlers &&
                            window._mapboxClickHandlers[layerId]
                          ) {
                            map.off(
                              "click",
                              layerId,
                              window._mapboxClickHandlers[layerId],
                            );
                          }

                          const clickHandler = function (e) {
                            onClickPopup(e, map, popupProperty, layerId);
                          };

                          map.on("click", layerId, clickHandler);
                          map.on("mouseenter", layerId, function () {
                            map.getCanvas().style.cursor = "pointer";
                          });
                          map.on("mouseleave", layerId, function () {
                            map.getCanvas().style.cursor = "";
                          });

                          if (!window._mapboxClickHandlers) {
                            window._mapboxClickHandlers = {};
                          }
                          window._mapboxClickHandlers[layerId] = clickHandler;
                        }
                      }

                      // Restore legends
                      if (Object.keys(savedLayerState.legends).length > 0) {
                        // Clear any existing legends first to prevent stacking
                        const existingLegends = document.querySelectorAll(
                          `#${mapId} .mapboxgl-legend`,
                        );
                        existingLegends.forEach((legend) => legend.remove());

                        // Clear existing legend styles
                        const legendStyles = document.querySelectorAll(
                          `style[data-mapgl-legend-css="${mapId}"]`,
                        );
                        legendStyles.forEach((style) => style.remove());

                        // Restore each legend
                        for (const legendId in savedLayerState.legends) {
                          const legendData = savedLayerState.legends[legendId];
                          console.log(
                            "[MapGL Debug] Backup: restoring legend:",
                            legendId,
                          );

                          // Add legend CSS
                          const legendCss = document.createElement("style");
                          legendCss.innerHTML = legendData.css;
                          legendCss.setAttribute(
                            "data-mapgl-legend-css",
                            mapId,
                          );
                          document.head.appendChild(legendCss);

                          // Add legend HTML
                          const legend = document.createElement("div");
                          legend.innerHTML = legendData.html;
                          legend.classList.add("mapboxgl-legend");
                          const mapContainer = document.getElementById(mapId);
                          if (mapContainer) {
                            mapContainer.appendChild(legend);
                          }
                        }
                      }
                    }
                  } else {
                    console.log(
                      "[MapGL Debug] Backup check: layers already restored properly",
                    );
                  }
                }
              } catch (err) {
                console.error(
                  "[MapGL Debug] Error in backup restoration:",
                  err,
                );
              }
            }, 500); // 500ms delay - faster recovery

            // Add a second backup with a bit more delay in case the first one fails
            setTimeout(function () {
              try {
                console.log("[MapGL Debug] Running second backup layer check");
                const mapId = map.getContainer().id;
                const preserved =
                  window._mapglPreservedData &&
                  window._mapglPreservedData[mapId];

                if (preserved) {
                  // Check if user layers were successfully restored
                  const firstLayerId = preserved.layers[0]?.id;
                  if (firstLayerId && !map.getLayer(firstLayerId)) {
                    console.log(
                      "[MapGL Debug] Second backup restoration needed",
                    );

                    // Re-add sources first
                    preserved.sources.forEach(function (src) {
                      try {
                        if (!map.getSource(src.id)) {
                          console.log(
                            "[MapGL Debug] Second backup: adding source",
                            src.id,
                          );
                          map.addSource(src.id, src.source);
                        }
                      } catch (err) {
                        console.error(
                          "[MapGL Debug] Second backup: error adding source",
                          src.id,
                          err,
                        );
                      }
                    });

                    // Then re-add layers
                    preserved.layers.forEach(function (layer) {
                      try {
                        if (!map.getLayer(layer.id)) {
                          console.log(
                            "[MapGL Debug] Second backup: adding layer",
                            layer.id,
                          );
                          map.addLayer(layer);

                          // Check for nc_counties layer to restore tooltip
                          if (layer.id === "nc_counties") {
                            console.log(
                              "[MapGL Debug] Second backup: restoring tooltip for",
                              layer.id,
                            );

                            // Create a new tooltip popup
                            const tooltip = new maplibregl.Popup({
                              closeButton: false,
                              closeOnClick: false,
                            });

                            // Re-add tooltip handlers
                            const tooltipProperty = "NAME";

                            const mouseMoveHandler = function (e) {
                              map.getCanvas().style.cursor = "pointer";
                              if (e.features.length > 0) {
                                const description =
                                  e.features[0].properties[tooltipProperty];
                                tooltip
                                  .setLngLat(e.lngLat)
                                  .setHTML(description)
                                  .addTo(map);
                              }
                            };

                            const mouseLeaveHandler = function () {
                              map.getCanvas().style.cursor = "";
                              tooltip.remove();
                            };

                            map.on("mousemove", layer.id, mouseMoveHandler);
                            map.on("mouseleave", layer.id, mouseLeaveHandler);

                            // Store these handlers
                            if (!window._mapboxHandlers) {
                              window._mapboxHandlers = {};
                            }
                            window._mapboxHandlers[layer.id] = {
                              mousemove: mouseMoveHandler,
                              mouseleave: mouseLeaveHandler,
                            };
                          }

                          // Restore hover states
                          if (layer.paint) {
                            for (const key in layer.paint) {
                              const value = layer.paint[key];
                              if (
                                Array.isArray(value) &&
                                value[0] === "case" &&
                                Array.isArray(value[1]) &&
                                value[1][0] === "boolean" &&
                                value[1][1] &&
                                Array.isArray(value[1][1]) &&
                                value[1][1][0] === "feature-state" &&
                                value[1][1][1] === "hover"
                              ) {
                                // This is a hover-enabled paint property
                                console.log(
                                  "[MapGL Debug] Second backup: restoring hover style for",
                                  layer.id,
                                  key,
                                );
                                map.setPaintProperty(layer.id, key, value);
                              }
                            }
                          }
                        }
                      } catch (err) {
                        console.error(
                          "[MapGL Debug] Second backup: error adding layer",
                          layer.id,
                          err,
                        );
                      }
                    });

                    // Restore tracked layer modifications in second backup
                    const mapId = map.getContainer().id;
                    const savedLayerState =
                      window._mapglLayerState && window._mapglLayerState[mapId];
                    if (savedLayerState) {
                      console.log(
                        "[MapGL Debug] Second backup: restoring tracked layer modifications",
                      );

                      // Restore filters
                      for (const layerId in savedLayerState.filters) {
                        if (map.getLayer(layerId)) {
                          console.log(
                            "[MapGL Debug] Second backup: restoring filter for layer:",
                            layerId,
                          );
                          map.setFilter(
                            layerId,
                            savedLayerState.filters[layerId],
                          );
                        }
                      }

                      // Restore paint properties
                      for (const layerId in savedLayerState.paintProperties) {
                        if (map.getLayer(layerId)) {
                          const properties =
                            savedLayerState.paintProperties[layerId];
                          for (const propertyName in properties) {
                            const savedValue = properties[propertyName];
                            console.log(
                              "[MapGL Debug] Second backup: restoring paint property:",
                              layerId,
                              propertyName,
                              savedValue,
                            );

                            // Check if layer has hover effects that need to be preserved
                            const currentValue = map.getPaintProperty(
                              layerId,
                              propertyName,
                            );
                            if (
                              currentValue &&
                              Array.isArray(currentValue) &&
                              currentValue[0] === "case"
                            ) {
                              // Preserve hover effects while updating base value
                              const hoverValue = currentValue[2];
                              const newPaintProperty = [
                                "case",
                                ["boolean", ["feature-state", "hover"], false],
                                hoverValue,
                                savedValue,
                              ];
                              map.setPaintProperty(
                                layerId,
                                propertyName,
                                newPaintProperty,
                              );
                            } else {
                              map.setPaintProperty(
                                layerId,
                                propertyName,
                                savedValue,
                              );
                            }
                          }
                        }
                      }

                      // Restore layout properties
                      for (const layerId in savedLayerState.layoutProperties) {
                        if (map.getLayer(layerId)) {
                          const properties =
                            savedLayerState.layoutProperties[layerId];
                          for (const propertyName in properties) {
                            console.log(
                              "[MapGL Debug] Second backup: restoring layout property:",
                              layerId,
                              propertyName,
                              properties[propertyName],
                            );
                            map.setLayoutProperty(
                              layerId,
                              propertyName,
                              properties[propertyName],
                            );
                          }
                        }
                      }

                      // Restore tooltips
                      for (const layerId in savedLayerState.tooltips) {
                        if (map.getLayer(layerId)) {
                          const tooltipProperty =
                            savedLayerState.tooltips[layerId];
                          console.log(
                            "[MapGL Debug] Second backup: restoring tooltip:",
                            layerId,
                            tooltipProperty,
                          );

                          if (
                            window._mapboxHandlers &&
                            window._mapboxHandlers[layerId]
                          ) {
                            if (window._mapboxHandlers[layerId].mousemove) {
                              map.off(
                                "mousemove",
                                layerId,
                                window._mapboxHandlers[layerId].mousemove,
                              );
                            }
                            if (window._mapboxHandlers[layerId].mouseleave) {
                              map.off(
                                "mouseleave",
                                layerId,
                                window._mapboxHandlers[layerId].mouseleave,
                              );
                            }
                          }

                          const tooltip = new maplibregl.Popup({
                            closeButton: false,
                            closeOnClick: false,
                          });

                          const mouseMoveHandler = function (e) {
                            onMouseMoveTooltip(
                              e,
                              map,
                              tooltip,
                              tooltipProperty,
                            );
                          };

                          const mouseLeaveHandler = function () {
                            onMouseLeaveTooltip(map, tooltip);
                          };

                          map.on("mousemove", layerId, mouseMoveHandler);
                          map.on("mouseleave", layerId, mouseLeaveHandler);

                          if (!window._mapboxHandlers) {
                            window._mapboxHandlers = {};
                          }
                          window._mapboxHandlers[layerId] = {
                            mousemove: mouseMoveHandler,
                            mouseleave: mouseLeaveHandler,
                          };
                        }
                      }

                      // Restore popups
                      for (const layerId in savedLayerState.popups) {
                        if (map.getLayer(layerId)) {
                          const popupProperty = savedLayerState.popups[layerId];
                          console.log(
                            "[MapGL Debug] Second backup: restoring popup:",
                            layerId,
                            popupProperty,
                          );

                          if (
                            window._mapboxClickHandlers &&
                            window._mapboxClickHandlers[layerId]
                          ) {
                            map.off(
                              "click",
                              layerId,
                              window._mapboxClickHandlers[layerId],
                            );
                          }

                          const clickHandler = function (e) {
                            onClickPopup(e, map, popupProperty, layerId);
                          };

                          map.on("click", layerId, clickHandler);
                          map.on("mouseenter", layerId, function () {
                            map.getCanvas().style.cursor = "pointer";
                          });
                          map.on("mouseleave", layerId, function () {
                            map.getCanvas().style.cursor = "";
                          });

                          if (!window._mapboxClickHandlers) {
                            window._mapboxClickHandlers = {};
                          }
                          window._mapboxClickHandlers[layerId] = clickHandler;
                        }
                      }

                      // Restore legends
                      if (Object.keys(savedLayerState.legends).length > 0) {
                        // Clear any existing legends first to prevent stacking
                        const existingLegends = document.querySelectorAll(
                          `#${mapId} .mapboxgl-legend`,
                        );
                        existingLegends.forEach((legend) => legend.remove());

                        // Clear existing legend styles
                        const legendStyles = document.querySelectorAll(
                          `style[data-mapgl-legend-css="${mapId}"]`,
                        );
                        legendStyles.forEach((style) => style.remove());

                        // Restore each legend
                        for (const legendId in savedLayerState.legends) {
                          const legendData = savedLayerState.legends[legendId];
                          console.log(
                            "[MapGL Debug] Second backup: restoring legend:",
                            legendId,
                          );

                          // Add legend CSS
                          const legendCss = document.createElement("style");
                          legendCss.innerHTML = legendData.css;
                          legendCss.setAttribute(
                            "data-mapgl-legend-css",
                            mapId,
                          );
                          document.head.appendChild(legendCss);

                          // Add legend HTML
                          const legend = document.createElement("div");
                          legend.innerHTML = legendData.html;
                          legend.classList.add("mapboxgl-legend");
                          const mapContainer = document.getElementById(mapId);
                          if (mapContainer) {
                            mapContainer.appendChild(legend);
                          }
                        }
                      }
                    }
                  }
                }
              } catch (err) {
                console.error("[MapGL Debug] Error in second backup:", err);
              }
            }, 1000); // 1 second delay for second backup
          }
        }

        // Change the style
        console.log(
          "[MapGL Debug] About to call setStyle with:",
          message.style,
        );
        console.log("[MapGL Debug] setStyle diff option:", message.diff);
        map.setStyle(message.style, { diff: message.diff });

        if (message.config) {
          Object.keys(message.config).forEach(function (key) {
            map.setConfigProperty("basemap", key, message.config[key]);
          });
        }
      } else if (message.type === "add_navigation_control") {
        const nav = new maplibregl.NavigationControl({
          showCompass: message.options.show_compass,
          showZoom: message.options.show_zoom,
          visualizePitch: message.options.visualize_pitch,
        });
        map.addControl(nav, message.position);
        map.controls.push(nav);

        if (message.orientation === "horizontal") {
          const navBar = map
            .getContainer()
            .querySelector(
              ".maplibregl-ctrl-group:not(.mapbox-gl-draw_ctrl-draw-btn)",
            );
          if (navBar) {
            navBar.style.display = "flex";
            navBar.style.flexDirection = "row";
          }
        }
      } else if (message.type === "add_draw_control") {
        MapboxDraw.constants.classes.CONTROL_BASE = "maplibregl-ctrl";
        MapboxDraw.constants.classes.CONTROL_PREFIX = "maplibregl-ctrl-";
        MapboxDraw.constants.classes.CONTROL_GROUP = "maplibregl-ctrl-group";

        let drawOptions = message.options || {};

        // Generate styles if styling parameters provided
        if (message.styling) {
          const generatedStyles = generateDrawStyles(message.styling);
          if (generatedStyles) {
            drawOptions.styles = generatedStyles;
          }
        }

        if (message.freehand) {
          drawOptions = Object.assign({}, drawOptions, {
            modes: Object.assign({}, MapboxDraw.modes, {
              draw_polygon: MapboxDraw.modes.draw_freehand,
            }),
            // defaultMode: 'draw_polygon' # Don't set the default yet
          });
        }

        // Create the draw control
        var drawControl = new MapboxDraw(drawOptions);
        map.addControl(drawControl, message.position);
        map.controls.push(drawControl);

        // Store the draw control on the widget for later access
        widget.drawControl = drawControl;

        // Add lasso icon CSS for freehand mode
        if (message.freehand) {
          if (!document.querySelector("#mapgl-freehand-lasso-styles")) {
            const style = document.createElement("style");
            style.id = "mapgl-freehand-lasso-styles";
            style.textContent = `
              .mapbox-gl-draw_polygon {
                background-image: url('data:image/svg+xml;utf8,%3Csvg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"%3E%3Cpath d="M 7 3 C 5 2.5, 3.5 3, 3 5 C 2.5 7, 3 8.5, 4 9.5 C 5 10.5, 5.5 11.5, 5 13 C 4.5 14.5, 5 15.5, 6.5 16 C 8 16.5, 9.5 16, 11 15 C 12.5 14, 13.5 13, 14.5 11.5 C 15.5 10, 16 8.5, 15.5 7 C 15 5.5, 14 4.5, 12.5 3.5 C 11 2.5, 9 2.5, 7 3 Z" fill="none" stroke="%23000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/%3E%3C/svg%3E') !important;
              }
            `;
            document.head.appendChild(style);
          }

          // Update tooltip for freehand mode
          setTimeout(() => {
            const polygonButton = map.getContainer().querySelector('.mapbox-gl-draw_polygon');
            if (polygonButton) {
              polygonButton.title = 'Freehand polygon tool (p)';
            }
          }, 100);
        }

        // Add event listeners
        map.on("draw.create", updateDrawnFeatures);
        map.on("draw.delete", updateDrawnFeatures);
        map.on("draw.update", updateDrawnFeatures);

        // Add initial features if provided
        if (message.source) {
          addSourceFeaturesToDraw(drawControl, message.source, map);
        }

        // Apply orientation styling
        if (message.orientation === "horizontal") {
          const drawBar = map
            .getContainer()
            .querySelector(".maplibregl-ctrl-group");
          if (drawBar) {
            drawBar.style.display = "flex";
            drawBar.style.flexDirection = "row";
          }
        }

        // Add download button if requested
        if (message.download_button) {
          // Add CSS for download button if not already added
          if (!document.querySelector('#mapgl-draw-download-styles')) {
            const style = document.createElement('style');
            style.id = 'mapgl-draw-download-styles';
            style.textContent = `
              .mapbox-gl-draw_download {
                background: transparent;
                border: none;
                cursor: pointer;
                display: block;
                height: 30px;
                width: 30px;
                padding: 0;
                outline: none;
              }
              .mapbox-gl-draw_download:hover {
                background-color: rgba(0, 0, 0, 0.05);
              }
              .mapbox-gl-draw_download svg {
                width: 20px;
                height: 20px;
                margin: 5px;
                fill: #333;
              }
            `;
            document.head.appendChild(style);
          }

          // Small delay to ensure Draw control is fully rendered
          setTimeout(() => {
            // Find the Draw control button group
            const drawButtons = map.getContainer().querySelector('.maplibregl-ctrl-group:has(.mapbox-gl-draw_polygon)');
            
            if (drawButtons) {
              // Create download button
              const downloadBtn = document.createElement('button');
              downloadBtn.className = 'mapbox-gl-draw_download';
              downloadBtn.title = 'Download drawn features as GeoJSON';
              
              // Add SVG download icon
              downloadBtn.innerHTML = `
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                  <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/>
                </svg>
              `;
              
              downloadBtn.addEventListener('click', () => {
                // Get all drawn features
                const data = drawControl.getAll();
                
                if (data.features.length === 0) {
                  alert('No features to download. Please draw something first!');
                  return;
                }
                
                // Convert to string with nice formatting
                const dataStr = JSON.stringify(data, null, 2);
                
                // Create blob and download
                const blob = new Blob([dataStr], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                
                const a = document.createElement('a');
                a.href = url;
                a.download = `${message.download_filename || 'drawn-features'}.geojson`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
              });
              
              // Append to the Draw control button group
              drawButtons.appendChild(downloadBtn);
            }
          }, 100);
        }
      } else if (message.type === "get_drawn_features") {
        var drawControl = widget.drawControl || widget.getDraw();
        if (drawControl) {
          const features = drawControl.getAll();
          Shiny.setInputValue(
            data.id + "_drawn_features",
            JSON.stringify(features),
          );
        } else {
          Shiny.setInputValue(
            data.id + "_drawn_features",
            JSON.stringify(null),
          );
        }
      } else if (message.type === "clear_drawn_features") {
        var drawControl = widget.drawControl || widget.getDraw();
        if (drawControl) {
          drawControl.deleteAll();
          // Update the drawn features
          updateDrawnFeatures();
        }
      } else if (message.type.startsWith("turf_")) {
        // Delegate to shared turf operations module
        handleTurfOperation(map, message, data.id);
      } else if (message.type === "add_features_to_draw") {
        var drawControl = widget.drawControl || widget.getDraw();
        if (drawControl) {
          if (message.data.clear_existing) {
            drawControl.deleteAll();
          }
          addSourceFeaturesToDraw(drawControl, message.data.source, map);
          // Update the drawn features
          updateDrawnFeatures();
        } else {
          console.warn("Draw control not initialized");
        }
      } else if (message.type === "add_markers") {
        if (!window.maplibreMarkers) {
          window.maplibreMarkers = [];
        }
        message.markers.forEach(function (marker) {
          const markerOptions = {
            color: marker.color,
            rotation: marker.rotation,
            draggable: marker.options.draggable || false,
            ...marker.options,
          };
          const mapMarker = new maplibregl.Marker(markerOptions)
            .setLngLat([marker.lng, marker.lat])
            .addTo(map);

          if (marker.popup) {
            mapMarker.setPopup(
              new maplibregl.Popup({ offset: 25 }).setHTML(marker.popup),
            );
          }

          const markerId = marker.id;
          if (markerId) {
            const lngLat = mapMarker.getLngLat();
            Shiny.setInputValue(data.id + "_marker_" + markerId, {
              id: markerId,
              lng: lngLat.lng,
              lat: lngLat.lat,
            });

            mapMarker.on("dragend", function () {
              const lngLat = mapMarker.getLngLat();
              Shiny.setInputValue(data.id + "_marker_" + markerId, {
                id: markerId,
                lng: lngLat.lng,
                lat: lngLat.lat,
              });
            });
          }

          window.maplibreMarkers.push(mapMarker);
        });
      } else if (message.type === "clear_markers") {
        if (window.maplibreMarkers) {
          window.maplibreMarkers.forEach(function (marker) {
            marker.remove();
          });
          window.maplibreglMarkers = [];
        }
      } else if (message.type === "add_fullscreen_control") {
        const position = message.position || "top-right";
        const fullscreen = new maplibregl.FullscreenControl();
        map.addControl(fullscreen, position);
        map.controls.push(fullscreen);
      } else if (message.type === "add_scale_control") {
        const scaleControl = new maplibregl.ScaleControl({
          maxWidth: message.options.maxWidth,
          unit: message.options.unit,
        });
        map.addControl(scaleControl, message.options.position);
        map.controls.push(scaleControl);
      } else if (message.type === "add_reset_control") {
        const resetControl = document.createElement("button");
        resetControl.className = "maplibregl-ctrl-icon maplibregl-ctrl-reset";
        resetControl.type = "button";
        resetControl.setAttribute("aria-label", "Reset");
        resetControl.innerHTML = "";
        resetControl.style.fontSize = "30px";
        resetControl.style.fontWeight = "bold";
        resetControl.style.backgroundColor = "white";
        resetControl.style.border = "none";
        resetControl.style.cursor = "pointer";
        resetControl.style.padding = "0";
        resetControl.style.width = "30px";
        resetControl.style.height = "30px";
        resetControl.style.display = "flex";
        resetControl.style.justifyContent = "center";
        resetControl.style.alignItems = "center";
        resetControl.style.transition = "background-color 0.2s";
        resetControl.addEventListener("mouseover", function () {
          this.style.backgroundColor = "#f0f0f0";
        });
        resetControl.addEventListener("mouseout", function () {
          this.style.backgroundColor = "white";
        });

        const resetContainer = document.createElement("div");
        resetContainer.className = "maplibregl-ctrl maplibregl-ctrl-group";
        resetContainer.appendChild(resetControl);

        const initialView = {
          center: map.getCenter(),
          zoom: map.getZoom(),
          pitch: map.getPitch(),
          bearing: map.getBearing(),
          animate: message.animate,
        };

        if (message.duration) {
          initialView.duration = message.duration;
        }

        resetControl.onclick = function () {
          map.easeTo(initialView);
        };

        map.addControl(
          {
            onAdd: function () {
              return resetContainer;
            },
            onRemove: function () {
              resetContainer.parentNode.removeChild(resetContainer);
            },
          },
          message.position,
        );

        map.controls.push({
          onAdd: function () {
            return resetContainer;
          },
          onRemove: function () {
            resetContainer.parentNode.removeChild(resetContainer);
          },
        });
      } else if (message.type === "add_geolocate_control") {
        const geolocate = new maplibregl.GeolocateControl({
          positionOptions: message.options.positionOptions,
          trackUserLocation: message.options.trackUserLocation,
          showAccuracyCircle: message.options.showAccuracyCircle,
          showUserLocation: message.options.showUserLocation,
          showUserHeading: message.options.showUserHeading,
          fitBoundsOptions: message.options.fitBoundsOptions,
        });
        map.addControl(geolocate, message.options.position);
        map.controls.push(geolocate);

        if (HTMLWidgets.shinyMode) {
          geolocate.on("geolocate", function (event) {
            Shiny.setInputValue(el.id + "_geolocate", {
              coords: event.coords,
              time: new Date(),
            });
          });

          geolocate.on("trackuserlocationstart", function () {
            Shiny.setInputValue(el.id + "_geolocate_tracking", {
              status: "start",
              time: new Date(),
            });
          });

          geolocate.on("trackuserlocationend", function () {
            Shiny.setInputValue(el.id + "_geolocate_tracking", {
              status: "end",
              time: new Date(),
            });
          });

          geolocate.on("error", function (error) {
            if (error.error.code === 1) {
              Shiny.setInputValue(el.id + "_geolocate_error", {
                message: "Location permission denied",
                time: new Date(),
              });
            }
          });
        }
      } else if (message.type === "add_geocoder_control") {
        const provider = message.options.provider || "osm";
        let geocoder;

        if (provider === "maptiler") {
          // MapTiler geocoder
          const maptilerOptions = {
            apiKey: message.options.api_key,
            maplibregl: maplibregl,
            ...message.options,
          };

          // Create MapTiler geocoder
          geocoder = new maplibreglMaptilerGeocoder.GeocodingControl(maptilerOptions);
        } else {
          // OSM/Nominatim geocoder (default)
          const geocoderApi = {
            forwardGeocode: async (config) => {
              const features = [];
              try {
                const request = `https://nominatim.openstreetmap.org/search?q=${
                  config.query
                }&format=geojson&polygon_geojson=1&addressdetails=1`;
                const response = await fetch(request);
                const geojson = await response.json();
                for (const feature of geojson.features) {
                  const center = [
                    feature.bbox[0] + (feature.bbox[2] - feature.bbox[0]) / 2,
                    feature.bbox[1] + (feature.bbox[3] - feature.bbox[1]) / 2,
                  ];
                  const point = {
                    type: "Feature",
                    geometry: {
                      type: "Point",
                      coordinates: center,
                    },
                    place_name: feature.properties.display_name,
                    properties: feature.properties,
                    text: feature.properties.display_name,
                    place_type: ["place"],
                    center,
                  };
                  features.push(point);
                }
              } catch (e) {
                console.error(`Failed to forwardGeocode with error: ${e}`);
              }

              return {
                features,
              };
            },
          };
          geocoder = new MaplibreGeocoder(geocoderApi, {
            maplibregl: maplibregl,
            placeholder: message.options.placeholder,
            collapsed: message.options.collapsed,
          });
        }

        map.addControl(geocoder, message.options.position);
        map.controls.push(geocoder);
        
        // Apply CSS fix for MapTiler geocoder to prevent cutoff
        if (provider === "maptiler") {
          setTimeout(() => {
            const controlContainer = document.querySelector('.maplibregl-ctrl-geocoder');
            if (controlContainer) {
              controlContainer.style.maxWidth = '300px';
              controlContainer.style.width = 'auto';
            }
          }, 100);
        }

        // Handle geocoder results in Shiny mode
        if (HTMLWidgets.shinyMode) {
          if (provider === "maptiler") {
            // MapTiler uses different event names
            geocoder.on("pick", function (e) {
              Shiny.setInputValue(data.id + "_geocoder", {
                result: e,
                time: new Date(),
              });
            });
          } else {
            // OSM geocoder
            geocoder.on("result", function (e) {
              Shiny.setInputValue(data.id + "_geocoder", {
                result: e,
                time: new Date(),
              });
            });
          }
        }
      } else if (message.type === "add_layers_control") {
        const layersControl = document.createElement("div");
        layersControl.id = message.control_id;
        layersControl.className = message.collapsible
          ? "layers-control collapsible"
          : "layers-control";
        layersControl.style.position = "absolute";

        // Set the position correctly
        const position = message.position || "top-left";
        if (position === "top-left") {
          layersControl.style.top = (message.margin_top || 10) + "px";
          layersControl.style.left = (message.margin_left || 10) + "px";
        } else if (position === "top-right") {
          layersControl.style.top = (message.margin_top || 10) + "px";
          layersControl.style.right = (message.margin_right || 10) + "px";
        } else if (position === "bottom-left") {
          layersControl.style.bottom = (message.margin_bottom || 10) + "px";
          layersControl.style.left = (message.margin_left || 10) + "px";
        } else if (position === "bottom-right") {
          layersControl.style.bottom = (message.margin_bottom || 40) + "px";
          layersControl.style.right = (message.margin_right || 10) + "px";
        }

        // Apply custom colors if provided
        if (message.custom_colors) {
          const colors = message.custom_colors;

          // Create a style element for custom colors
          const styleEl = document.createElement("style");
          let css = "";

          if (colors.background) {
            css += `#${message.control_id} { background-color: ${colors.background}; }\n`;
          }

          if (colors.text) {
            css += `#${message.control_id} a { color: ${colors.text}; }\n`;
          }

          if (colors.active) {
            css += `#${message.control_id} a.active { background-color: ${colors.active}; }\n`;
            css += `#${message.control_id} .toggle-button { background-color: ${colors.active}; }\n`;
          }

          if (colors.activeText) {
            css += `#${message.control_id} a.active { color: ${colors.activeText}; }\n`;
            css += `#${message.control_id} .toggle-button { color: ${colors.activeText}; }\n`;
          }

          if (colors.hover) {
            css += `#${message.control_id} a:hover { background-color: ${colors.hover}; }\n`;
            css += `#${message.control_id} .toggle-button:hover { background-color: ${colors.hover}; }\n`;
          }

          styleEl.textContent = css;
          document.head.appendChild(styleEl);
        }

        const layersList = document.createElement("div");
        layersList.className = "layers-list";
        layersControl.appendChild(layersList);

        let layers = message.layers || [];

        // Ensure layers is always an array
        if (!Array.isArray(layers)) {
          layers = [layers];
        }

        layers.forEach((layerId, index) => {
          const link = document.createElement("a");
          link.id = layerId;
          link.href = "#";
          link.textContent = layerId;

          // Check if the layer visibility is set to "none" initially
          const initialVisibility = map.getLayoutProperty(
            layerId,
            "visibility",
          );
          link.className = initialVisibility === "none" ? "" : "active";

          // Also hide any associated legends if the layer is initially hidden
          if (initialVisibility === "none") {
            const associatedLegends = document.querySelectorAll(
              `.mapboxgl-legend[data-layer-id="${layerId}"]`,
            );
            associatedLegends.forEach((legend) => {
              legend.style.display = "none";
            });
          }

          link.onclick = function (e) {
            const clickedLayer = this.textContent;
            e.preventDefault();
            e.stopPropagation();

            const visibility = map.getLayoutProperty(
              clickedLayer,
              "visibility",
            );

            if (visibility === "visible") {
              map.setLayoutProperty(clickedLayer, "visibility", "none");
              this.className = "";

              // Hide associated legends
              const associatedLegends = document.querySelectorAll(
                `.mapboxgl-legend[data-layer-id="${clickedLayer}"]`,
              );
              associatedLegends.forEach((legend) => {
                legend.style.display = "none";
              });
            } else {
              this.className = "active";
              map.setLayoutProperty(clickedLayer, "visibility", "visible");

              // Show associated legends
              const associatedLegends = document.querySelectorAll(
                `.mapboxgl-legend[data-layer-id="${clickedLayer}"]`,
              );
              associatedLegends.forEach((legend) => {
                legend.style.display = "";
              });
            }
          };

          layersList.appendChild(link);
        });

        if (message.collapsible) {
          const toggleButton = document.createElement("div");
          toggleButton.className = "toggle-button";

          // Use stacked layers icon instead of text if requested
          if (message.use_icon) {
            // Add icon-only class to the control for compact styling
            layersControl.classList.add("icon-only");

            // More GIS-like layers stack icon
            toggleButton.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polygon points="12 2 2 7 12 12 22 7 12 2"></polygon>
                            <polyline points="2 17 12 22 22 17"></polyline>
                            <polyline points="2 12 12 17 22 12"></polyline>
                        </svg>`;
            toggleButton.style.display = "flex";
            toggleButton.style.alignItems = "center";
            toggleButton.style.justifyContent = "center";
          } else {
            toggleButton.textContent = "Layers";
          }

          toggleButton.onclick = function () {
            layersControl.classList.toggle("open");
          };
          layersControl.insertBefore(toggleButton, layersList);
        }

        const mapContainer = document.getElementById(data.id);
        if (mapContainer) {
          mapContainer.appendChild(layersControl);
        } else {
          console.error(`Cannot find map container with ID ${data.id}`);
        }
      } else if (message.type === "clear_legend") {
        if (message.ids && Array.isArray(message.ids)) {
          message.ids.forEach((id) => {
            const legend = document.querySelector(
              `#${data.id} div[id="${id}"]`,
            );
            if (legend) {
              legend.remove();
            }
            // Remove from legend state
            delete layerState.legends[id];
          });
        } else if (message.ids) {
          const legend = document.querySelector(
            `#${data.id} div[id="${message.ids}"]`,
          );
          if (legend) {
            legend.remove();
          }
          // Remove from legend state
          delete layerState.legends[message.ids];
        } else {
          const existingLegends = document.querySelectorAll(
            `#${data.id} .mapboxgl-legend`,
          );
          existingLegends.forEach((legend) => {
            legend.remove();
          });

          // Clear all legend state
          layerState.legends = {};
        }
      } else if (message.type === "clear_controls") {
        map.controls.forEach((control) => {
          map.removeControl(control);
        });
        map.controls = [];

        const layersControl = document.querySelector(
          `#${data.id} .layers-control`,
        );
        if (layersControl) {
          layersControl.remove();
        }

        // Remove globe minimap if it exists
        const globeMinimap = document.querySelector(
          ".mapboxgl-ctrl-globe-minimap",
        );
        if (globeMinimap) {
          globeMinimap.remove();
        }
      } else if (message.type === "move_layer") {
        if (map.getLayer(message.layer)) {
          if (message.before) {
            map.moveLayer(message.layer, message.before);
          } else {
            map.moveLayer(message.layer);
          }
        } else {
          console.error("Layer not found:", message.layer);
        }
      } else if (message.type === "add_image") {
        if (Array.isArray(message.images)) {
          message.images.forEach(function (imageInfo) {
            map
              .loadImage(imageInfo.url)
              .then((image) => {
                if (!map.hasImage(imageInfo.id)) {
                  map.addImage(imageInfo.id, image.data, imageInfo.options);
                }
              })
              .catch((error) => {
                console.error("Error loading image:", error);
              });
          });
        } else if (message.url) {
          map
            .loadImage(message.url)
            .then((image) => {
              if (!map.hasImage(message.imageId)) {
                map.addImage(message.imageId, image.data, message.options);
              }
            })
            .catch((error) => {
              console.error("Error loading image:", error);
            });
        } else {
          console.error("Invalid image data:", message);
        }
      } else if (message.type === "set_tooltip") {
        const layerId = message.layer;
        const newTooltipProperty = message.tooltip;

        // Track tooltip state
        layerState.tooltips[layerId] = newTooltipProperty;

        // If there's an active tooltip open, remove it first
        if (window._activeTooltip) {
          window._activeTooltip.remove();
          delete window._activeTooltip;
        }

        // Remove old handlers if any
        if (window._mapboxHandlers && window._mapboxHandlers[layerId]) {
          const handlers = window._mapboxHandlers[layerId];
          if (handlers.mousemove) {
            map.off("mousemove", layerId, handlers.mousemove);
          }
          if (handlers.mouseleave) {
            map.off("mouseleave", layerId, handlers.mouseleave);
          }
          delete window._mapboxHandlers[layerId];
        }

        // Create a new tooltip popup
        const tooltip = new maplibregl.Popup({
          closeButton: false,
          closeOnClick: false,
        });

        // Define new handlers referencing the updated tooltip property
        const mouseMoveHandler = function (e) {
          onMouseMoveTooltip(e, map, tooltip, newTooltipProperty);
        };
        const mouseLeaveHandler = function () {
          onMouseLeaveTooltip(map, tooltip);
        };

        // Add the new event handlers
        map.on("mousemove", layerId, mouseMoveHandler);
        map.on("mouseleave", layerId, mouseLeaveHandler);

        // Store these handlers so we can remove/update them in the future
        if (!window._mapboxHandlers) {
          window._mapboxHandlers = {};
        }
        window._mapboxHandlers[layerId] = {
          mousemove: mouseMoveHandler,
          mouseleave: mouseLeaveHandler,
        };
      } else if (message.type === "set_popup") {
        const layerId = message.layer;
        const newPopupProperty = message.popup;

        // Track popup state
        layerState.popups[layerId] = newPopupProperty;

        // Remove any existing popup for this layer
        if (window._mapboxPopups && window._mapboxPopups[layerId]) {
          window._mapboxPopups[layerId].remove();
          delete window._mapboxPopups[layerId];
        }

        // Remove old click handler if any
        if (
          window._mapboxClickHandlers &&
          window._mapboxClickHandlers[layerId]
        ) {
          map.off("click", layerId, window._mapboxClickHandlers[layerId]);
          delete window._mapboxClickHandlers[layerId];
        }

        // Remove old hover handlers for cursor change
        map.off("mouseenter", layerId);
        map.off("mouseleave", layerId);

        // Create new click handler
        const clickHandler = function (e) {
          onClickPopup(e, map, newPopupProperty, layerId);
        };

        // Add the new event handler
        map.on("click", layerId, clickHandler);

        // Change cursor to pointer when hovering over the layer
        map.on("mouseenter", layerId, function () {
          map.getCanvas().style.cursor = "pointer";
        });

        // Change cursor back to default when leaving the layer
        map.on("mouseleave", layerId, function () {
          map.getCanvas().style.cursor = "";
        });

        // Store handler reference
        if (!window._mapboxClickHandlers) {
          window._mapboxClickHandlers = {};
        }
        window._mapboxClickHandlers[layerId] = clickHandler;
      } else if (message.type === "set_source") {
        const layerId = message.layer;
        const newData = message.source;
        const layerObject = map.getLayer(layerId);

        if (!layerObject) {
          console.error("Layer not found: ", layerId);
          return;
        }

        const sourceId = layerObject.source;
        const sourceObject = map.getSource(sourceId);

        if (!sourceObject) {
          console.error("Source not found: ", sourceId);
          return;
        }

        // Update the geojson data
        sourceObject.setData(newData);
      }
    } else if (message.type === "set_projection") {
      if (map.loaded()) {
        const projection =
          typeof message.projection === "string"
            ? { type: message.projection }
            : message.projection;

        try {
          map.setProjection(projection);
        } catch (e) {
          console.error("Failed to set projection:", e);
        }
      } else {
        console.error("Map not loaded yet");
      }
    } else if (message.type === "add_globe_minimap") {
      const globeMinimapOptions = {
        globeSize: message.options.globe_size || 100,
        landColor: message.options.land_color || "#404040",
        waterColor: message.options.water_color || "#090909",
        markerColor: message.options.marker_color || "#1da1f2",
        markerSize: message.options.marker_size || 2,
      };
      const globeMinimap = new GlobeMinimap(globeMinimapOptions);
      map.addControl(globeMinimap, message.position || "bottom-left");
      map.controls.push(globeMinimap);
    } else if (message.type === "add_globe_control") {
      const globeControl = new maplibregl.GlobeControl();
      map.addControl(globeControl, message.position);
      map.controls.push(globeControl);
    } else if (message.type === "add_custom_control") {
      const controlOptions = message.options;
      const customControlContainer = document.createElement("div");

      if (controlOptions.className) {
        customControlContainer.className = controlOptions.className;
      } else {
        customControlContainer.className =
          "maplibregl-ctrl maplibregl-ctrl-group";
      }

      customControlContainer.innerHTML = controlOptions.html;

      const customControl = {
        onAdd: function () {
          return customControlContainer;
        },
        onRemove: function () {
          if (customControlContainer.parentNode) {
            customControlContainer.parentNode.removeChild(
              customControlContainer,
            );
          }
        },
      };

      map.addControl(customControl, controlOptions.position || "top-right");
      map.controls.push(customControl);
    }
  });
}
</script>
<style type="text/css">.layers-control {
background: #fff;
position: absolute;
z-index: 1;
border-radius: 4px;
width: 120px;
border: 1px solid rgba(0, 0, 0, 0.15);
font-family: "Open Sans", sans-serif;
margin: 0px;
box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
overflow: hidden;
transition: all 0.2s ease-in-out;
}
.layers-control a {
font-size: 13px;
color: #404040;
display: block;
margin: 0;
padding: 10px;
text-decoration: none;
border-bottom: 1px solid rgba(0, 0, 0, 0.1);
text-align: center;
transition: all 0.15s ease-in-out;
font-weight: normal;
}
.layers-control a:last-child {
border: none;
}
.layers-control a:hover {
background-color: #f8f8f8;
color: #1a1a1a;
}
.layers-control a.active {
background-color: #4a90e2;
color: #ffffff;
font-weight: 500;
}
.layers-control a.active:hover {
background: #3b7ed2;
}
.layers-control .toggle-button {
display: none;
background: #4a90e2;
color: #ffffff;
text-align: center;
cursor: pointer;
padding: 8px 0;
border-radius: 4px 4px 0 0;
font-weight: 500;
letter-spacing: 0.3px;
box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.05) inset;
transition: all 0.15s ease-in-out;
}
.layers-control .toggle-button:hover {
background: #3b7ed2;
}
.layers-control .layers-list {
display: block;
}
.layers-control.collapsible .toggle-button {
display: block;
border-bottom: 1px solid rgba(0, 0, 0, 0.25);
}
.layers-control.collapsible .layers-list {
display: none;
opacity: 0;
max-height: 0;
transition:
opacity 0.25s ease,
max-height 0.25s ease;
}
.layers-control.collapsible.open .layers-list {
display: block;
opacity: 1;
max-height: 500px; 
}

.layers-control.collapsible.icon-only {
width: auto;
min-width: 36px;
border-radius: 4px;
box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
transform: translateZ(
0
); 
}
.layers-control.collapsible.icon-only .toggle-button {
border-radius: 4px;
padding: 8px;
width: 36px;
height: 36px;
box-sizing: border-box;
margin: 0;
border-bottom: none;
display: flex;
align-items: center;
justify-content: center;
box-shadow: none;
}
.layers-control.collapsible.icon-only.open {
width: 120px;
box-shadow: 0 3px 10px rgba(0, 0, 0, 0.25);
}
.layers-control.collapsible.icon-only.open .toggle-button {
border-radius: 4px 4px 0 0;
border-bottom: 1px solid rgba(0, 0, 0, 0.1);
width: 100%;
}
</style>

</head>
<body>
<div id="htmlwidget_container">
  <div id="htmlwidget-4f686ea153fd3a1dba28" style="width:100%;height:500px;" class="maplibregl html-widget"></div>
</div>
<script type="application/json" data-for="htmlwidget-4f686ea153fd3a1dba28">{"x":{"style":"https://basemaps.cartocdn.com/gl/voyager-gl-style/style.json","center":[0,0],"zoom":0,"bearing":0,"pitch":0,"additional_params":{"bounds":[152.3827924,-28.265063,153.5521771,-26.3716614]},"layers":[{"id":"density","type":"fill","source":{"type":"geojson","data":{"type":"FeatureCollection","features":[{"type":"Feature","properties":{"suburb_name":"Twin Waters","suburb_areasqkm":3.9173,"address_cnt":1595.0,"address_density_sqkm":407.0,"tp":"Suburb : Twin Waters<br>Density per sqkm: 407"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0830411,-26.616377399999998],[153.0917162,-26.617583499999995],[153.0911322,-26.621313000000004],[153.0889131,-26.6209764],[153.0872404,-26.629966399999997],[153.093726,-26.630935399999995],[153.0972221,-26.6305004],[153.1011622,-26.6285865],[153.1014206,-26.635908000000008],[153.1006341,-26.639944400000005],[153.0988791,-26.638131499999993],[153.0954141,-26.63772649999999],[153.0915473,-26.6390154],[153.085122,-26.6389325],[153.0832252,-26.638272399999995],[153.0789041,-26.639380500000005],[153.074348,-26.639060399999995],[153.07604510000002,-26.628396399999996],[153.0768321,-26.6284704],[153.0778871,-26.621670399999996],[153.0819511,-26.622279400000004],[153.0830411,-26.616377399999998]]]]}},{"type":"Feature","properties":{"suburb_name":"Underwood (Qld)","suburb_areasqkm":4.1871,"address_cnt":4548.0,"address_density_sqkm":1086.0,"tp":"Suburb : Underwood (Qld)<br>Density per sqkm: 1,086"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.1216916,-27.610229200000003],[153.1244389,-27.616775299999997],[153.121196,-27.6143875],[153.11913,-27.6197535],[153.1158209,-27.620379399999997],[153.101076,-27.618078499999996],[153.10309400000003,-27.6081245],[153.1058418,-27.5931716],[153.1111531,-27.5939322],[153.1216916,-27.610229200000003]]]]}},{"type":"Feature","properties":{"suburb_name":"White Patch","suburb_areasqkm":1.3074,"address_cnt":120.0,"address_density_sqkm":92.0,"tp":"Suburb : White Patch<br>Density per sqkm: 92"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.1367891,-27.031247499999996],[153.1322155,-27.0360217],[153.1291375,-27.035989700000002],[153.1250536,-27.0344427],[153.1192336,-27.027120799999995],[153.1170341,-27.026313499999997],[153.1230491,-27.022778500000005],[153.1270058,-27.028299100000005],[153.130137,-27.026472900000012],[153.1367891,-27.031247499999996]]]]}},{"type":"Feature","properties":{"suburb_name":"White Rock (Ipswich - Qld)","suburb_areasqkm":17.3013,"address_cnt":937.0,"address_density_sqkm":54.0,"tp":"Suburb : White Rock (Ipswich - Qld)<br>Density per sqkm: 54"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.821557,-27.687661399999996],[152.822995,-27.68759439999999],[152.829949,-27.684811400000005],[152.83919900000004,-27.676359400000003],[152.844789,-27.674259399999993],[152.847952,-27.677610400000002],[152.850235,-27.6754534],[152.87205300000002,-27.6786144],[152.871378,-27.6809484],[152.873991,-27.681717399999997],[152.876422,-27.685850399999996],[152.873409,-27.687908399999994],[152.873289,-27.689445400000004],[152.877187,-27.693552400000005],[152.86967,-27.699838399999997],[152.868047,-27.69964439999999],[152.868115,-27.7061544],[152.8660494,-27.708960899999994],[152.8661455,-27.711111900000002],[152.8622026,-27.71222489999999],[152.8603766,-27.714210899999994],[152.8569009,-27.713633500000004],[152.856408,-27.716503399999997],[152.846503,-27.715266399999997],[152.8477438,-27.708137499999996],[152.837002,-27.7066404],[152.8359609,-27.712710400000006],[152.824567,-27.711034400000003],[152.826167,-27.7013484],[152.826757,-27.694846399999996],[152.820453,-27.69398839999999],[152.821557,-27.687661399999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Windsor (Qld)","suburb_areasqkm":2.8773,"address_cnt":5605.0,"address_density_sqkm":1948.0,"tp":"Suburb : Windsor (Qld)<br>Density per sqkm: 1,948"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0367433,-27.426401299999995],[153.0369527,-27.4292913],[153.0395504,-27.4302557],[153.039864,-27.4336094],[153.03769,-27.438140399999998],[153.030012,-27.443892400000006],[153.0251431,-27.444082300000005],[153.02183,-27.4423494],[153.0242819,-27.4284894],[153.0234572,-27.4273865],[153.0238569,-27.424386399999992],[153.0367433,-27.426401299999995]]]]}},{"type":"Feature","properties":{"suburb_name":"Yeerongpilly","suburb_areasqkm":1.9375,"address_cnt":1848.0,"address_density_sqkm":954.0,"tp":"Suburb : Yeerongpilly<br>Density per sqkm: 954"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0120182,-27.541271499999997],[153.008749,-27.5376024],[153.0089672,-27.535776400000003],[153.0059098,-27.5350624],[153.00329,-27.531567399999993],[153.0048289,-27.5283083],[153.009331,-27.525884399999995],[153.009599,-27.523012500000004],[153.01019,-27.5224854],[153.01462000000004,-27.523051399999996],[153.0152119,-27.5205497],[153.0256161,-27.5221334],[153.0248781,-27.522946499999996],[153.023475,-27.5244709],[153.019543,-27.5255784],[153.016132,-27.5299505],[153.0136518,-27.5314662],[153.0138738,-27.5358652],[153.0120182,-27.541271499999997]]]]}},{"type":"Feature","properties":{"suburb_name":"Alexandra Headland","suburb_areasqkm":1.5035,"address_cnt":4411.0,"address_density_sqkm":2934.0,"tp":"Suburb : Alexandra Headland<br>Density per sqkm: 2,934"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.11559090000003,-26.675340400000003],[153.11455010000003,-26.6760964],[153.1070311,-26.675683400000004],[153.1036551,-26.673788499999997],[153.0986971,-26.674309400000002],[153.0969151,-26.675089399999994],[153.0949731,-26.6726444],[153.0950381,-26.66930139999999],[153.1033331,-26.6637734],[153.1057401,-26.663113500000005],[153.1068121,-26.666532399999994],[153.1090151,-26.670699499999998],[153.1125933,-26.672321499999995],[153.11559090000003,-26.675340400000003]]]]}},{"type":"Feature","properties":{"suburb_name":"Ashmore","suburb_areasqkm":6.8308,"address_cnt":7798.0,"address_density_sqkm":1142.0,"tp":"Suburb : Ashmore<br>Density per sqkm: 1,142"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.4011039,-27.996879499999995],[153.4004709,-27.9977145],[153.3891689,-27.996031499999994],[153.3826849,-28.00017950000001],[153.3799469,-27.999048499999994],[153.3774419,-27.999242499999998],[153.3738629,-27.997868500000006],[153.3729169,-27.995879499999997],[153.3695089,-27.992777499999992],[153.3679939,-27.993344499999996],[153.363994,-27.997510500000008],[153.3612109,-27.995074500000005],[153.3522949,-27.988666499999994],[153.3507969,-27.986170499999997],[153.3471999,-27.98700450000001],[153.3429499,-27.9859935],[153.3415169,-27.984528500000007],[153.3463849,-27.981922499999992],[153.3479989,-27.9819295],[153.352679,-27.9843845],[153.3563669,-27.987410500000003],[153.3588839,-27.987375499999995],[153.3655799,-27.9851565],[153.3684909,-27.983704500000005],[153.3750859,-27.982075499999997],[153.3786879,-27.979772499999996],[153.3809649,-27.976823499999995],[153.3882659,-27.97686550000001],[153.3910171,-27.9760835],[153.3911538,-27.979677399999996],[153.3926961,-27.982217499999994],[153.3924759,-27.9860675],[153.3932799,-27.98949749999999],[153.3952589,-27.9934785],[153.3985836,-27.9941397],[153.4011039,-27.996879499999995]]]]}},{"type":"Feature","properties":{"suburb_name":"Balmoral (Qld)","suburb_areasqkm":1.2723,"address_cnt":2499.0,"address_density_sqkm":1964.0,"tp":"Suburb : Balmoral (Qld)<br>Density per sqkm: 1,964"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0692599,-27.4502314],[153.0717249,-27.451284399999995],[153.0731822,-27.454866399999997],[153.076143,-27.455697399999995],[153.074193,-27.459452399999996],[153.07190200000002,-27.459760499999998],[153.06809,-27.458733500000005],[153.067061,-27.463651400000007],[153.0637311,-27.462959100000006],[153.0631742,-27.4596515],[153.061505,-27.458940400000003],[153.06171340000003,-27.456609199999995],[153.0627255,-27.452659300000004],[153.0655682,-27.4497814],[153.0692599,-27.4502314]]]]}},{"type":"Feature","properties":{"suburb_name":"Bellara","suburb_areasqkm":2.1193,"address_cnt":2284.0,"address_density_sqkm":1078.0,"tp":"Suburb : Bellara<br>Density per sqkm: 1,078"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.1555871,-27.056618500000003],[153.1603641,-27.055006500000008],[153.16212410000003,-27.058857499999995],[153.1617351,-27.06121239999999],[153.1499931,-27.066270500000005],[153.1480501,-27.068364499999998],[153.1447595,-27.065535599999997],[153.1440131,-27.062496500000005],[153.13917660000004,-27.060064599999993],[153.1362201,-27.0550965],[153.1391401,-27.054268500000003],[153.1431591,-27.054192500000003],[153.1520321,-27.057943499999993],[153.1555871,-27.056618500000003]]]]}},{"type":"Feature","properties":{"suburb_name":"Biggera Waters","suburb_areasqkm":3.1748,"address_cnt":7184.0,"address_density_sqkm":2263.0,"tp":"Suburb : Biggera Waters<br>Density per sqkm: 2,263"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.4051649,-27.925751499999997],[153.4066569,-27.9263935],[153.4059866,-27.9305987],[153.4076899,-27.9381725],[153.40287790000002,-27.9358975],[153.3946209,-27.9354505],[153.39044,-27.9344715],[153.3799611,-27.932216500000003],[153.3744481,-27.931476500000002],[153.3750849,-27.928068499999988],[153.378052,-27.9247489],[153.3821829,-27.9223785],[153.3847838,-27.92166790000001],[153.3859528,-27.922928899999995],[153.3892109,-27.923338499999996],[153.3906658,-27.92641280000001],[153.3982048,-27.927279499999997],[153.4051649,-27.925751499999997]]]]}},{"type":"Feature","properties":{"suburb_name":"Caloundra West","suburb_areasqkm":8.0527,"address_cnt":3878.0,"address_density_sqkm":482.0,"tp":"Suburb : Caloundra West<br>Density per sqkm: 482"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.1076995,-26.7859092],[153.1128881,-26.786449399999995],[153.1157371,-26.785505400000005],[153.1206708,-26.790032699999998],[153.121864,-26.7900544],[153.1255209,-26.791538],[153.1251768,-26.79368],[153.1223516,-26.793013699999992],[153.1164771,-26.80039740000001],[153.1159611,-26.801171400000005],[153.1140171,-26.812627400000004],[153.1068464,-26.811662599999995],[153.1037397,-26.814452599999992],[153.1013606,-26.818614799999995],[153.1009364,-26.821271199999998],[153.0982891,-26.822522399999993],[153.0975691,-26.8270435],[153.0916931,-26.8263015],[153.0958504,-26.81268719999999],[153.0963696,-26.809670499999992],[153.0951487,-26.808014799999995],[153.099804,-26.805238100000004],[153.099298,-26.804511199999997],[153.09346400000004,-26.807798100000003],[153.0876323,-26.808486599999995],[153.0849734,-26.80255650000001],[153.0829542,-26.8016248],[153.0832721,-26.7979785],[153.0862433,-26.792203999999998],[153.0979211,-26.793781400000007],[153.0976101,-26.795877400000002],[153.1060031,-26.79705550000001],[153.1067349,-26.791512399999995],[153.1063073,-26.785965500000003],[153.1076995,-26.7859092]]]]}},{"type":"Feature","properties":{"suburb_name":"Cannon Hill","suburb_areasqkm":3.8963,"address_cnt":4243.0,"address_density_sqkm":1089.0,"tp":"Suburb : Cannon Hill<br>Density per sqkm: 1,089"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.1072073,-27.47125889999999],[153.1034776,-27.472981700000002],[153.1058776,-27.475249699999996],[153.1104255,-27.47632759999999],[153.1095445,-27.479201599999993],[153.1074976,-27.4794626],[153.1090136,-27.4827666],[153.11244600000003,-27.483415499999996],[153.11272,-27.487224499999996],[153.1038639,-27.485950500000005],[153.104163,-27.484158500000007],[153.0988142,-27.4833884],[153.1016577,-27.4799177],[153.09585340000004,-27.47907540000001],[153.09526990000003,-27.474989499999992],[153.0877482,-27.473741500000003],[153.0851079,-27.473393499999993],[153.07897310000004,-27.4724495],[153.0805441,-27.464568399999997],[153.0844649,-27.458963400000002],[153.087899,-27.4574945],[153.09082,-27.457963399999997],[153.0894518,-27.4652154],[153.0966899,-27.466663300000004],[153.0962581,-27.469565399999993],[153.1072073,-27.47125889999999]]]]}},{"type":"Feature","properties":{"suburb_name":"Carina (Qld)","suburb_areasqkm":4.3826,"address_cnt":6699.0,"address_density_sqkm":1529.0,"tp":"Suburb : Carina (Qld)<br>Density per sqkm: 1,529"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.11272,-27.487224499999996],[153.116377,-27.4865325],[153.12022,-27.486839400000004],[153.120704,-27.490832499999996],[153.12003,-27.494067499999993],[153.101873,-27.4914454],[153.1007139,-27.498999499999996],[153.0988829,-27.4975539],[153.0943901,-27.4958104],[153.0915652,-27.495483399999998],[153.0871732,-27.4960064],[153.0861011,-27.4954304],[153.0855841,-27.4942174],[153.0867506,-27.487483899999994],[153.0883489,-27.484941499999998],[153.0876682,-27.481478499999998],[153.0888841,-27.474866500000005],[153.0877482,-27.473741500000003],[153.09526990000003,-27.474989499999992],[153.09585340000004,-27.47907540000001],[153.1016577,-27.4799177],[153.0988142,-27.4833884],[153.104163,-27.484158500000007],[153.1038639,-27.485950500000005],[153.11272,-27.487224499999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Carina Heights","suburb_areasqkm":3.3766,"address_cnt":4351.0,"address_density_sqkm":1289.0,"tp":"Suburb : Carina Heights<br>Density per sqkm: 1,289"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.097201,-27.517490399999993],[153.0899531,-27.5168785],[153.0885711,-27.515893500000004],[153.0847076,-27.5168895],[153.075813,-27.513637399999997],[153.07904700000003,-27.513187500000004],[153.0823312,-27.509896499999996],[153.08517,-27.509213499999994],[153.086514,-27.507428499999993],[153.087284,-27.503336499999996],[153.0852421,-27.502644400000005],[153.086428,-27.4963175],[153.0861011,-27.4954304],[153.0871732,-27.4960064],[153.0915652,-27.495483399999998],[153.0943901,-27.4958104],[153.0988829,-27.4975539],[153.1007139,-27.498999499999996],[153.097201,-27.517490399999993]]]]}},{"type":"Feature","properties":{"suburb_name":"Cedar Vale","suburb_areasqkm":15.6972,"address_cnt":1177.0,"address_density_sqkm":75.0,"tp":"Suburb : Cedar Vale<br>Density per sqkm: 75"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.00513,-27.8578985],[153.010696,-27.8581284],[153.01562,-27.857212500000003],[153.016895,-27.859683399999998],[153.01956,-27.8610235],[153.02175,-27.860726399999994],[153.02289,-27.864428499999995],[153.02456,-27.865720399999997],[153.022946,-27.868538499999996],[153.02564,-27.8687174],[153.032661,-27.873138400000002],[153.035608,-27.8730685],[153.037158,-27.87656039999999],[153.037027,-27.879577400000002],[153.038845,-27.883572399999995],[153.044028,-27.889085400000003],[153.04604910000003,-27.894785200000005],[153.041717,-27.89640439999999],[153.036799,-27.8999924],[153.031487,-27.902541499999998],[153.02634,-27.9021554],[153.0233541,-27.900933399999996],[153.018304,-27.900595500000005],[153.0142586,-27.89583949999999],[153.0183401,-27.892487500000005],[153.0175071,-27.891075499999996],[153.0061771,-27.889319500000003],[153.002599,-27.891235499999993],[153.0014381,-27.8888165],[152.992885,-27.8874975],[152.993766,-27.88288239999999],[152.986081,-27.881706499999996],[152.9897831,-27.8787144],[152.9921108,-27.875669400000003],[152.997144,-27.871664499999998],[152.998626,-27.8695504],[152.999925,-27.8639784],[153.0032179,-27.8593531],[153.00513,-27.8578985]]]]}},{"type":"Feature","properties":{"suburb_name":"Chermside West","suburb_areasqkm":3.5241,"address_cnt":3373.0,"address_density_sqkm":957.0,"tp":"Suburb : Chermside West<br>Density per sqkm: 957"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0200885,-27.393956499999998],[153.019853,-27.395229300000004],[153.0158203,-27.394573999999995],[153.0163289,-27.3919496],[153.0019789,-27.389713599999997],[153.0035358,-27.3817636],[153.0003542,-27.381307399999997],[153.00107500000001,-27.377576400000002],[153.00241400000002,-27.37759939999999],[153.0048677,-27.374535799999997],[153.0140857,-27.376347599999995],[153.0169356,-27.374978499999997],[153.023465,-27.375926399999997],[153.0200885,-27.393956499999998]]]]}},{"type":"Feature","properties":{"suburb_name":"Chuwar","suburb_areasqkm":17.9377,"address_cnt":1226.0,"address_density_sqkm":68.0,"tp":"Suburb : Chuwar<br>Density per sqkm: 68"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.7898031,-27.574491399999996],[152.77929360000002,-27.577304899999998],[152.7787832,-27.576522400000005],[152.7740211,-27.577345400000006],[152.7728771,-27.576260399999995],[152.764902,-27.5750644],[152.766077,-27.577836799999993],[152.7587542,-27.576587399999994],[152.75471,-27.577112399999997],[152.753474,-27.572482400000002],[152.754547,-27.570269399999997],[152.7538731,-27.5682064],[152.750952,-27.56755540000001],[152.7473821,-27.565015399999997],[152.7499541,-27.561514399999997],[152.7505771,-27.558915400000004],[152.7535731,-27.55623539999999],[152.7589801,-27.55320339999999],[152.7651651,-27.547860399999998],[152.7656941,-27.545795399999992],[152.7647241,-27.54235939999999],[152.7611711,-27.539039399999997],[152.7601141,-27.5344094],[152.761371,-27.532267399999995],[152.7659171,-27.530847399999995],[152.7691801,-27.531098400000005],[152.7769491,-27.5351134],[152.78095410000003,-27.536276400000002],[152.78538010000003,-27.536590399999998],[152.7919941,-27.535141399999993],[152.797111,-27.5358114],[152.7981121,-27.538783399999993],[152.79813,-27.541729399999998],[152.795207,-27.545442400000002],[152.7892651,-27.547397399999998],[152.786606,-27.5495134],[152.7871121,-27.552728499999997],[152.789312,-27.554536399999993],[152.7936351,-27.55596139999999],[152.795973,-27.5548874],[152.803253,-27.555861400000005],[152.804826,-27.557302399999998],[152.801354,-27.558590400000007],[152.79916700000004,-27.571768399999993],[152.793631,-27.571016399999998],[152.790115,-27.573361399999996],[152.7898031,-27.574491399999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Clontarf (Moreton Bay - Qld)","suburb_areasqkm":6.3835,"address_cnt":5144.0,"address_density_sqkm":806.0,"tp":"Suburb : Clontarf (Moreton Bay - Qld)<br>Density per sqkm: 806"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0959754,-27.249214999999996],[153.0938344,-27.252335700000007],[153.093153,-27.255958400000004],[153.089624,-27.257323400000008],[153.087454,-27.25934639999999],[153.084801,-27.2582694],[153.0822571,-27.260023400000005],[153.0795131,-27.263357399999997],[153.0773549,-27.2624964],[153.0764579,-27.260350399999993],[153.073591,-27.259000400000005],[153.071444,-27.2565964],[153.069747,-27.251181499999998],[153.0690813,-27.24698979999999],[153.07040150000003,-27.241267599999997],[153.0727893,-27.239489900000002],[153.0764432,-27.232875500000002],[153.093051,-27.2353525],[153.0924969,-27.2382664],[153.0953931,-27.241385800000007],[153.0947698,-27.243284899999995],[153.0959754,-27.249214999999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Coochiemudlo Island","suburb_areasqkm":1.6445,"address_cnt":826.0,"address_density_sqkm":502.0,"tp":"Suburb : Coochiemudlo Island<br>Density per sqkm: 502"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.332413,-27.574535499999996],[153.3235221,-27.574758399999997],[153.3225551,-27.573793400000003],[153.3186792,-27.573458400000003],[153.3196761,-27.5710734],[153.3226461,-27.569689400000005],[153.326545,-27.5703154],[153.327309,-27.568608400000002],[153.325994,-27.566329399999997],[153.326781,-27.5650874],[153.3319739,-27.562747400000003],[153.3341219,-27.5645394],[153.3382318,-27.564506299999998],[153.3387758,-27.5667493],[153.3374549,-27.573432299999997],[153.3351699,-27.574950299999994],[153.332413,-27.574535499999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Coolum Beach","suburb_areasqkm":27.3195,"address_cnt":8566.0,"address_density_sqkm":314.0,"tp":"Suburb : Coolum Beach<br>Density per sqkm: 314"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0819803,-26.549800400000002],[153.0836784,-26.551951799999998],[153.0829372,-26.556270399999995],[153.0783322,-26.560042399999997],[153.0777412,-26.562608400000002],[153.0760802,-26.564637499999993],[153.0735162,-26.563071399999995],[153.0656202,-26.5693824],[153.0644491,-26.569265499999997],[153.0626821,-26.5667604],[153.06439210000002,-26.564691500000006],[153.0639401,-26.5614215],[153.0615241,-26.557979499999995],[153.0552552,-26.55513639999999],[153.0535732,-26.553578399999996],[153.0489801,-26.5439614],[153.0460562,-26.54026440000001],[153.0479101,-26.5360324],[153.0471661,-26.5337544],[153.0442402,-26.531370400000004],[153.0444482,-26.529389399999996],[153.0410692,-26.5263354],[153.0384282,-26.5175074],[153.0382082,-26.513798399999995],[153.0413202,-26.512097399999995],[153.0445402,-26.508089399999996],[153.056902,-26.51000279999999],[153.0574091,-26.5073458],[153.0662017,-26.508585200000006],[153.0796615,-26.510480699999988],[153.0817001,-26.507100399999995],[153.0823882,-26.503594399999994],[153.08126520000002,-26.49580939999999],[153.0897631,-26.4972805],[153.0918191,-26.498555400000004],[153.0955651,-26.498559399999994],[153.0945141,-26.504175499999995],[153.0926561,-26.5271854],[153.0927062,-26.531826399999993],[153.0957093,-26.538205399999995],[153.1008003,-26.544624300000006],[153.0942472,-26.543788499999994],[153.0869682,-26.54269040000001],[153.0854051,-26.545213499999996],[153.0824241,-26.546593399999995],[153.0819803,-26.549800400000002]]]]}},{"type":"Feature","properties":{"suburb_name":"Coomera","suburb_areasqkm":24.6574,"address_cnt":9885.0,"address_density_sqkm":401.0,"tp":"Suburb : Coomera<br>Density per sqkm: 401"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.33440900000002,-27.8761635],[153.3331569,-27.8765565],[153.323139,-27.875961500000003],[153.3144719,-27.876850500000003],[153.313164,-27.868807500000003],[153.311666,-27.863943499999998],[153.308988,-27.857798499999994],[153.307729,-27.852635499999998],[153.303969,-27.841416500000005],[153.302685,-27.8361485],[153.303362,-27.8347615],[153.322855,-27.83792749999999],[153.323487,-27.834682499999992],[153.3301806,-27.835759199999995],[153.331968,-27.832347500000004],[153.329728,-27.82630249999999],[153.359987,-27.83117349999999],[153.36316,-27.830388499999998],[153.365825,-27.8287005],[153.365548,-27.82432850000001],[153.3692919,-27.8247365],[153.371844,-27.823848499999997],[153.374111,-27.825506499999992],[153.3763579,-27.8252735],[153.3770649,-27.822553500000005],[153.378793,-27.8205705],[153.380356,-27.820692500000007],[153.381509,-27.8230815],[153.38405500000002,-27.824874500000004],[153.3849469,-27.827124200000004],[153.3850749,-27.827768500000005],[153.3857999,-27.8291231],[153.381857,-27.8312285],[153.3802471,-27.836351199999996],[153.3816661,-27.840425199999995],[153.3791419,-27.8427905],[153.375986,-27.843388499999996],[153.37543,-27.846801499999998],[153.376397,-27.8492935],[153.374091,-27.85008949999999],[153.369293,-27.849091499999993],[153.3632549,-27.8490375],[153.357113,-27.84626949999999],[153.354744,-27.846533499999996],[153.353075,-27.848686500000003],[153.3489549,-27.85754449999999],[153.3464579,-27.858323499999997],[153.341973,-27.8577635],[153.3376179,-27.867480500000003],[153.33440900000002,-27.8761635]]]]}},{"type":"Feature","properties":{"suburb_name":"Corbould Park","suburb_areasqkm":7.4859,"address_cnt":367.0,"address_density_sqkm":49.0,"tp":"Suburb : Corbould Park<br>Density per sqkm: 49"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0762589,-26.802490899999995],[153.0651882,-26.80092349999999],[153.0515931,-26.799003399999997],[153.0502877,-26.807238100000003],[153.040595,-26.806089300000004],[153.0446879,-26.794062300000004],[153.0455538,-26.7899113],[153.0453718,-26.786080600000002],[153.0480429,-26.7846125],[153.0549713,-26.783046399999996],[153.06047320000002,-26.7844515],[153.0650261,-26.784832499999997],[153.0660301,-26.7793885],[153.0774211,-26.781126500000003],[153.0857542,-26.7828274],[153.08330910000004,-26.7849204],[153.0788711,-26.787215399999994],[153.0762589,-26.802490899999995]]]]}},{"type":"Feature","properties":{"suburb_name":"Daisy Hill (Qld)","suburb_areasqkm":8.9962,"address_cnt":3436.0,"address_density_sqkm":382.0,"tp":"Suburb : Daisy Hill (Qld)<br>Density per sqkm: 382"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.1527591,-27.611650299999997],[153.153582,-27.6068555],[153.158242,-27.607492499999996],[153.170585,-27.6226245],[153.175741,-27.623387499999996],[153.17384700000002,-27.634239500000007],[153.1730828,-27.638670499999996],[153.163716,-27.638107399999992],[153.1619054,-27.641058400000002],[153.1641293,-27.6424741],[153.1634474,-27.646358000000003],[153.1582046,-27.647829599999998],[153.157245,-27.64941449999999],[153.1553139,-27.6483075],[153.1482068,-27.645738399999995],[153.14105,-27.640705500000003],[153.1332384,-27.633581600000003],[153.1340221,-27.6331954],[153.1456518,-27.63471889999999],[153.1467359,-27.629278699999997],[153.1491176,-27.627888],[153.150718,-27.623495500000004],[153.1527591,-27.611650299999997]]]]}},{"type":"Feature","properties":{"suburb_name":"Deception Bay","suburb_areasqkm":19.4373,"address_cnt":9814.0,"address_density_sqkm":505.0,"tp":"Suburb : Deception Bay<br>Density per sqkm: 505"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0447411,-27.195749499999998],[153.0426691,-27.2080988],[153.0325771,-27.2066224],[153.0320581,-27.207583400000008],[153.0301077,-27.21009629999999],[153.0159281,-27.2080444],[153.0163872,-27.205420499999992],[153.0149572,-27.203664499999995],[153.01195,-27.203210400000003],[153.0126771,-27.1994827],[153.0077921,-27.195804500000005],[153.006359,-27.1931284],[153.0070641,-27.189085499999997],[153.0027191,-27.188406399999998],[153.0029331,-27.1872234],[152.99623910000003,-27.184707199999988],[152.9952502,-27.190276199999992],[152.9922269,-27.191265200000004],[152.9869701,-27.19084939999999],[152.9859331,-27.186149400000005],[152.9836608,-27.178684300000008],[152.9817079,-27.171830299999996],[152.9842551,-27.1718924],[152.9944596,-27.1733112],[152.9948304,-27.170889099999993],[152.9985004,-27.171427299999998],[152.9992681,-27.166767400000005],[153.002174,-27.164782500000005],[153.0045481,-27.16422439999999],[153.0052321,-27.160598499999992],[153.0165279,-27.1621085],[153.0190462,-27.163731199999997],[153.0268772,-27.1614015],[153.0324281,-27.154663399999997],[153.0343011,-27.155227400000005],[153.0361611,-27.15753339999999],[153.0381081,-27.1571144],[153.0386501,-27.1543124],[153.0414981,-27.1537744],[153.0438691,-27.1562105],[153.0433851,-27.1590944],[153.0404621,-27.15867839999999],[153.0354221,-27.1625674],[153.036587,-27.165425999999997],[153.0321801,-27.173793],[153.0304381,-27.175673999999994],[153.0294981,-27.1789485],[153.0296981,-27.182642400000002],[153.0315781,-27.188006399999992],[153.0337501,-27.1920029],[153.0374872,-27.196631900000003],[153.0447411,-27.195749499999998]]]]}},{"type":"Feature","properties":{"suburb_name":"East Brisbane","suburb_areasqkm":1.8584,"address_cnt":4640.0,"address_density_sqkm":2497.0,"tp":"Suburb : East Brisbane<br>Density per sqkm: 2,497"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.057161,-27.480808399999994],[153.056356,-27.483536399999995],[153.0525231,-27.48286549999999],[153.051056,-27.485922399999996],[153.04976,-27.490646400000003],[153.04314200000002,-27.491053399999995],[153.0408078,-27.48980909999999],[153.0392758,-27.48503419999999],[153.0401757,-27.485170099999994],[153.041913,-27.476433399999994],[153.0452196,-27.47794799999999],[153.0501425,-27.475987999999997],[153.053142,-27.4768064],[153.057161,-27.480808399999994]]]]}},{"type":"Feature","properties":{"suburb_name":"Ferny Grove","suburb_areasqkm":3.8241,"address_cnt":2585.0,"address_density_sqkm":676.0,"tp":"Suburb : Ferny Grove<br>Density per sqkm: 676"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.940785,-27.404254399999992],[152.9396931,-27.4046204],[152.94265100000004,-27.413010899999996],[152.9352041,-27.411209999999993],[152.9146641,-27.408625199999992],[152.9150457,-27.4057079],[152.9169521,-27.394170400000004],[152.9251961,-27.39332139999999],[152.92823400000003,-27.3943974],[152.9301861,-27.396976400000007],[152.93242,-27.397259399999996],[152.934356,-27.3997384],[152.9359551,-27.399842399999994],[152.9404771,-27.403231400000003],[152.940785,-27.404254399999992]]]]}},{"type":"Feature","properties":{"suburb_name":"Gaythorne","suburb_areasqkm":0.9253,"address_cnt":2269.0,"address_density_sqkm":2452.0,"tp":"Suburb : Gaythorne<br>Density per sqkm: 2,452"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9729841,-27.42290979999999],[152.97442560000002,-27.421094699999998],[152.9785955,-27.418484700000004],[152.9802309,-27.4164284],[152.9810171,-27.412155500000004],[152.9803741,-27.410544399999992],[152.9832871,-27.4094454],[152.987622,-27.410621399999997],[152.98604810000003,-27.419189499999995],[152.9838688,-27.418659999999992],[152.980134,-27.420921399999994],[152.9793321,-27.4231884],[152.9729841,-27.42290979999999]]]]}},{"type":"Feature","properties":{"suburb_name":"Goodna","suburb_areasqkm":7.8038,"address_cnt":4654.0,"address_density_sqkm":596.0,"tp":"Suburb : Goodna<br>Density per sqkm: 596"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.881133,-27.627263399999997],[152.880814,-27.6237524],[152.8852971,-27.6217428],[152.8808668,-27.6117297],[152.878599,-27.607903399999998],[152.8788611,-27.60649039999999],[152.883623,-27.598723399999997],[152.881903,-27.59835839999999],[152.883909,-27.594762400000004],[152.882903,-27.592167399999997],[152.885341,-27.5900714],[152.888369,-27.5897364],[152.888926,-27.590257400000002],[152.8917532,-27.595035900000003],[152.8935462,-27.599241900000003],[152.897585,-27.6027744],[152.9009751,-27.6031324],[152.903059,-27.605441400000004],[152.906448,-27.605254399999996],[152.9089181,-27.606436399999996],[152.917014,-27.605586400000004],[152.908961,-27.608930400000002],[152.90997,-27.613577400000004],[152.9060921,-27.615312399999997],[152.907306,-27.620807399999997],[152.909044,-27.6229494],[152.905901,-27.622650399999998],[152.903214,-27.625014400000005],[152.892728,-27.62341239999999],[152.890835,-27.6270814],[152.885749,-27.627933400000003],[152.881133,-27.627263399999997]]]]}},{"type":"Feature","properties":{"suburb_name":"Griffin","suburb_areasqkm":16.8268,"address_cnt":6161.0,"address_density_sqkm":366.0,"tp":"Suburb : Griffin<br>Density per sqkm: 366"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.078626,-27.264492499999992],[153.0662171,-27.281263399999997],[153.0584411,-27.280020400000005],[153.0513752,-27.279364500000003],[153.0495861,-27.278655400000005],[153.0448552,-27.2787804],[153.0408051,-27.279516499999996],[153.0374581,-27.281831399999998],[153.035091,-27.286662400000004],[153.036579,-27.29294339999999],[153.035498,-27.297136399999992],[153.03357310000004,-27.2983475],[153.0309401,-27.298366499999993],[153.0280861,-27.297225399999984],[153.022582,-27.292834499999998],[153.019243,-27.291208499999993],[153.0202551,-27.2878314],[153.02014710000003,-27.280764399999995],[153.0181931,-27.276304399999997],[153.0178711,-27.2704654],[153.0191031,-27.252563400000003],[153.0180931,-27.248670399999998],[153.0252841,-27.2503154],[153.0261601,-27.251698400000002],[153.0288891,-27.2522095],[153.0288371,-27.255500499999997],[153.034074,-27.2573505],[153.0353001,-27.2550174],[153.0386891,-27.2561234],[153.042118,-27.2549],[153.0427317,-27.2511904],[153.0477435,-27.250421900000003],[153.050831,-27.2527684],[153.0499051,-27.25515439999999],[153.05159710000004,-27.256076500000002],[153.054886,-27.255394399999993],[153.056407,-27.253134499999994],[153.0584291,-27.2536094],[153.056097,-27.2584104],[153.056648,-27.2610554],[153.0604981,-27.263177500000005],[153.063737,-27.263296400000005],[153.0704391,-27.265742400000004],[153.078626,-27.264492499999992]]]]}},{"type":"Feature","properties":{"suburb_name":"Helensvale","suburb_areasqkm":20.1329,"address_cnt":9896.0,"address_density_sqkm":492.0,"tp":"Suburb : Helensvale<br>Density per sqkm: 492"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.33440900000002,-27.8761635],[153.3335199,-27.882089500000003],[153.3390069,-27.8832005],[153.34266390000002,-27.8824485],[153.3456979,-27.879575499999998],[153.3484389,-27.88000149999999],[153.352163,-27.8793425],[153.357137,-27.881918499999998],[153.36010690000003,-27.882222499999994],[153.3637439,-27.885057500000002],[153.3645719,-27.88823049999999],[153.3663119,-27.888828500000006],[153.368052,-27.8864135],[153.372216,-27.883273500000005],[153.3749329,-27.883627500000006],[153.3772594,-27.886089800000004],[153.38163500000002,-27.884989500000003],[153.380797,-27.889103500000004],[153.3773896,-27.891234],[153.3717508,-27.893645],[153.3671578,-27.8933981],[153.365328,-27.892406499999996],[153.356765,-27.890986199999997],[153.35541400000002,-27.893334199999998],[153.35489400000003,-27.8969132],[153.3521632,-27.9020552],[153.3496242,-27.9008052],[153.3471773,-27.8971373],[153.3453652,-27.897927199999998],[153.3484232,-27.901745199999993],[153.3469992,-27.903045200000005],[153.3431863,-27.910059199999996],[153.3478583,-27.9163672],[153.3480469,-27.918750499999998],[153.3435549,-27.919095499999997],[153.3419469,-27.921405499999995],[153.342117,-27.924038499999998],[153.3448339,-27.924088500000007],[153.345802,-27.92585349999999],[153.3441539,-27.927389499999997],[153.3460849,-27.929294499999997],[153.346693,-27.933254500000004],[153.3493759,-27.93531249999999],[153.348667,-27.936612499999995],[153.3446119,-27.9381625],[153.3420169,-27.9400145],[153.3377479,-27.9414875],[153.33437290000003,-27.9329585],[153.329714,-27.926281499999998],[153.3227629,-27.9193585],[153.3201899,-27.9152275],[153.3178169,-27.908903500000008],[153.3151809,-27.900444499999992],[153.314432,-27.8949385],[153.315464,-27.886230499999996],[153.3153399,-27.8809115],[153.3144719,-27.876850500000003],[153.323139,-27.875961500000003],[153.3331569,-27.8765565],[153.33440900000002,-27.8761635]]]]}},{"type":"Feature","properties":{"suburb_name":"Hemmant","suburb_areasqkm":6.9449,"address_cnt":2307.0,"address_density_sqkm":332.0,"tp":"Suburb : Hemmant<br>Density per sqkm: 332"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.1295259,-27.428512600000005],[153.131441,-27.426777500000004],[153.135393,-27.4250215],[153.1369275,-27.425337500000005],[153.1401248,-27.432588700000007],[153.1389981,-27.4359265],[153.1360658,-27.438673499999993],[153.1417907,-27.442376599999992],[153.1438488,-27.442224499999995],[153.142531,-27.443078499999995],[153.1431178,-27.4461425],[153.1419313,-27.456140099999995],[153.142724,-27.460826400000002],[153.1450471,-27.4635135],[153.1434289,-27.464582499999995],[153.1431049,-27.464335399999996],[153.1267792,-27.461987499999992],[153.126439,-27.4573635],[153.124041,-27.454075399999997],[153.1232012,-27.456605599999996],[153.1193893,-27.455688600000002],[153.1172703,-27.456081600000005],[153.11941820000004,-27.451387599999997],[153.1225692,-27.450333600000004],[153.1207592,-27.4477506],[153.1160642,-27.447974599999988],[153.1158872,-27.446243599999995],[153.1112813,-27.445051699999997],[153.1139532,-27.443352599999994],[153.1215901,-27.441489599999993],[153.12575300000003,-27.43933760000001],[153.1283219,-27.435790599999994],[153.1293369,-27.43325959999999],[153.1295259,-27.428512600000005]]]]}},{"type":"Feature","properties":{"suburb_name":"Highland Park","suburb_areasqkm":3.9234,"address_cnt":2998.0,"address_density_sqkm":764.0,"tp":"Suburb : Highland Park<br>Density per sqkm: 764"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.3239563,-28.02221589999999],[153.3223907,-28.018873599999992],[153.3190019,-28.017721500000004],[153.3184439,-28.0140085],[153.3163379,-28.012377499999996],[153.3153449,-28.011227499999997],[153.3191709,-28.008680499999997],[153.319469,-28.007151500000003],[153.3233409,-28.007743499999986],[153.3238549,-28.006353499999992],[153.3376089,-28.008695500000005],[153.3397199,-28.0086265],[153.3426312,-28.007109299999996],[153.34595190000002,-28.011316500000003],[153.3494305,-28.017924600000004],[153.3435948,-28.019656999999995],[153.3358529,-28.018354999999996],[153.3349468,-28.0226153],[153.3313468,-28.0214264],[153.3258533,-28.0224909],[153.3239563,-28.02221589999999]]]]}},{"type":"Feature","properties":{"suburb_name":"Jindalee (Qld)","suburb_areasqkm":2.7773,"address_cnt":2598.0,"address_density_sqkm":935.0,"tp":"Suburb : Jindalee (Qld)<br>Density per sqkm: 935"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9497301,-27.529158099999993],[152.9482004,-27.536443899999995],[152.9431751,-27.543073000000003],[152.9404321,-27.542564700000003],[152.9345501,-27.54040069999999],[152.9335541,-27.537978699999996],[152.928891,-27.540367399999997],[152.9272313,-27.5391798],[152.9280531,-27.5304708],[152.9296341,-27.5286278],[152.933412,-27.528253400000004],[152.945685,-27.5282154],[152.9497301,-27.529158099999993]]]]}},{"type":"Feature","properties":{"suburb_name":"Karalee","suburb_areasqkm":15.5536,"address_cnt":2781.0,"address_density_sqkm":179.0,"tp":"Suburb : Karalee<br>Density per sqkm: 179"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.847219,-27.5327554],[152.8496241,-27.536188399999993],[152.8526771,-27.5426924],[152.852917,-27.545685400000007],[152.85190000000003,-27.549665400000006],[152.849097,-27.556540400000003],[152.849124,-27.563042399999997],[152.841972,-27.5628284],[152.840651,-27.560361500000006],[152.835111,-27.559679400000007],[152.8340151,-27.56645440000001],[152.8322309,-27.5662054],[152.8317291,-27.5692114],[152.836259,-27.569789399999994],[152.8347694,-27.579134699999997],[152.83098,-27.5800553],[152.8280251,-27.5787373],[152.8265561,-27.5753113],[152.8239732,-27.5762173],[152.8236462,-27.5789323],[152.8220032,-27.580154299999997],[152.81743130000004,-27.579149399999995],[152.81570330000002,-27.5794134],[152.81422930000002,-27.582769399999997],[152.8144793,-27.5855374],[152.8121984,-27.586596399999994],[152.8094954,-27.583827400000004],[152.8068615,-27.5824764],[152.801274,-27.582979399999996],[152.7974661,-27.5825444],[152.79873620000004,-27.574881399999995],[152.7931382,-27.573714399999997],[152.7898031,-27.574491399999996],[152.790115,-27.573361399999996],[152.793631,-27.571016399999998],[152.79916700000004,-27.571768399999993],[152.801354,-27.558590400000007],[152.804826,-27.557302399999998],[152.8050231,-27.5574314],[152.811018,-27.557388400000004],[152.820118,-27.5559284],[152.8228381,-27.553301399999995],[152.8241061,-27.5498994],[152.826995,-27.5495694],[152.832543,-27.5469004],[152.840819,-27.54523139999999],[152.8416361,-27.542801400000002],[152.83977,-27.539795399999996],[152.8305331,-27.536783399999997],[152.830665,-27.5341074],[152.832453,-27.532487399999997],[152.8358801,-27.531139399999994],[152.841726,-27.53086340000001],[152.847219,-27.5327554]]]]}},{"type":"Feature","properties":{"suburb_name":"Kenmore","suburb_areasqkm":5.5945,"address_cnt":4876.0,"address_density_sqkm":872.0,"tp":"Suburb : Kenmore<br>Density per sqkm: 872"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9544369,-27.51692449999999],[152.9550006,-27.517067],[152.949574,-27.519913499999998],[152.9481682,-27.521542500000006],[152.947134,-27.526829400000004],[152.938374,-27.5253754],[152.9297161,-27.527582499999994],[152.927447,-27.5295314],[152.9258612,-27.526946799999997],[152.9258612,-27.524423799999997],[152.9220352,-27.5239309],[152.92347120000002,-27.521298899999994],[152.927188,-27.520569399999996],[152.925038,-27.518080400000002],[152.925744,-27.514535399999993],[152.927999,-27.512665400000003],[152.92896,-27.510183399999992],[152.9263771,-27.5087954],[152.930307,-27.5045364],[152.9299691,-27.507206399999994],[152.931645,-27.507481299999995],[152.9356571,-27.5023594],[152.9372961,-27.502616700000004],[152.9405261,-27.506425499999995],[152.9423632,-27.507302399999993],[152.9435221,-27.505932500000004],[152.948255,-27.5055944],[152.950518,-27.506124399999997],[152.9501889,-27.50899439999999],[152.951838,-27.510865400000004],[152.9499862,-27.5137084],[152.950316,-27.515719499999996],[152.9544369,-27.51692449999999]]]]}},{"type":"Feature","properties":{"suburb_name":"Kingston (Qld)","suburb_areasqkm":6.8071,"address_cnt":5842.0,"address_density_sqkm":858.0,"tp":"Suburb : Kingston (Qld)<br>Density per sqkm: 858"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.118227,-27.646392099999993],[153.118355,-27.6499775],[153.1409483,-27.653373999999985],[153.1404226,-27.656346100000004],[153.1379719,-27.656904799999996],[153.1356537,-27.655052800000004],[153.1329697,-27.6576193],[153.1314255,-27.6564502],[153.1310488,-27.653279299999994],[153.126784,-27.653248399999995],[153.125352,-27.660371399999995],[153.123867,-27.6626975],[153.120345,-27.663882399999995],[153.1190424,-27.6666963],[153.120999,-27.668979299999993],[153.1192251,-27.672459299999993],[153.1204071,-27.673673300000004],[153.1202831,-27.677678500000003],[153.1169317,-27.67971799999999],[153.1129082,-27.674118399999998],[153.1133892,-27.672297399999994],[153.1106743,-27.668761500000002],[153.1084253,-27.668038400000004],[153.1058253,-27.665861399999994],[153.1022581,-27.6667728],[153.0995383,-27.665370399999993],[153.0957564,-27.661881500000003],[153.0917314,-27.660392499999993],[153.091731,-27.659633099999997],[153.0865365,-27.657582499999997],[153.0923564,-27.655788499999996],[153.0983461,-27.65341739999999],[153.098677,-27.651613499999996],[153.1104941,-27.6533515],[153.1121721,-27.651426400000002],[153.1095921,-27.6493654],[153.1071355,-27.645853700000007],[153.1091701,-27.645161499999986],[153.118227,-27.646392099999993]]]]}},{"type":"Feature","properties":{"suburb_name":"Labrador","suburb_areasqkm":4.9957,"address_cnt":14807.0,"address_density_sqkm":2964.0,"tp":"Suburb : Labrador<br>Density per sqkm: 2,964"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.4076899,-27.9381725],[153.4105356,-27.942760599999996],[153.4099187,-27.948947600000004],[153.4105029,-27.954974499999995],[153.4037079,-27.9567255],[153.3985499,-27.956154499999997],[153.3837429,-27.953896500000003],[153.3852269,-27.950099500000007],[153.3874629,-27.9385445],[153.3896489,-27.936723500000006],[153.39044,-27.9344715],[153.3946209,-27.9354505],[153.40287790000002,-27.9358975],[153.4076899,-27.9381725]]]]}},{"type":"Feature","properties":{"suburb_name":"Lutwyche","suburb_areasqkm":0.884,"address_cnt":4335.0,"address_density_sqkm":4904.0,"tp":"Suburb : Lutwyche<br>Density per sqkm: 4,904"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.024274,-27.422355500000002],[153.027874,-27.422232400000006],[153.0310971,-27.421101400000005],[153.031551,-27.4183195],[153.0351971,-27.414237399999998],[153.0365891,-27.415488500000002],[153.0354974,-27.418396499999997],[153.0386376,-27.420194300000002],[153.0376777,-27.425158299999996],[153.0367433,-27.426401299999995],[153.0238569,-27.424386399999992],[153.024274,-27.422355500000002]]]]}},{"type":"Feature","properties":{"suburb_name":"Mermaid Waters","suburb_areasqkm":7.0713,"address_cnt":7255.0,"address_density_sqkm":1026.0,"tp":"Suburb : Mermaid Waters<br>Density per sqkm: 1,026"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.4254353,-28.067983299999995],[153.4211556,-28.0672667],[153.4198989,-28.069421500000004],[153.4176459,-28.0619785],[153.4139849,-28.057127499999996],[153.4084159,-28.052144499999997],[153.4071399,-28.048325499999997],[153.406919,-28.044994499999994],[153.4088065,-28.0351771],[153.416028,-28.0365425],[153.4248109,-28.03509949999999],[153.424811,-28.037694499999994],[153.4306318,-28.0385445],[153.4312482,-28.037678700000004],[153.432451,-28.041883300000006],[153.431683,-28.04324129999999],[153.436016,-28.054625299999994],[153.437708,-28.060082500000007],[153.4372655,-28.061234699999993],[153.426976,-28.059968500000004],[153.4254353,-28.067983299999995]]]]}},{"type":"Feature","properties":{"suburb_name":"Merrimac","suburb_areasqkm":9.6612,"address_cnt":3518.0,"address_density_sqkm":364.0,"tp":"Suburb : Merrimac<br>Density per sqkm: 364"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.3616179,-28.066665499999996],[153.3557086,-28.049487500000005],[153.35349880000004,-28.042791999999995],[153.3562039,-28.042115499999994],[153.3569459,-28.04018949999999],[153.3718036,-28.032381200000003],[153.3779389,-28.036836500000007],[153.3806001,-28.034456499999997],[153.3860259,-28.032451500000008],[153.3858528,-28.0355635],[153.387115,-28.04028249999999],[153.3928739,-28.054392499999995],[153.3872569,-28.054862500000002],[153.3841299,-28.058099499999997],[153.3835003,-28.060356999999996],[153.3778653,-28.065548399999994],[153.3770363,-28.064043599999998],[153.36918560000004,-28.063757800000005],[153.3637747,-28.0673196],[153.3616179,-28.066665499999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Milton (Qld)","suburb_areasqkm":1.1333,"address_cnt":4127.0,"address_density_sqkm":3642.0,"tp":"Suburb : Milton (Qld)<br>Density per sqkm: 3,642"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.01117,-27.463388499999994],[153.010389,-27.466877399999998],[153.01126,-27.468911400000007],[153.005351,-27.473329400000004],[153.003264,-27.475517399999998],[152.9997749,-27.473269399999992],[153.0002929,-27.472228400000002],[152.9987171,-27.468116399999992],[153.0011281,-27.466679499999998],[153.0018809,-27.4634104],[153.0054809,-27.462183399999986],[153.0090172,-27.462383399999993],[153.01117,-27.463388499999994]]]]}},{"type":"Feature","properties":{"suburb_name":"Petrie Terrace","suburb_areasqkm":0.3165,"address_cnt":964.0,"address_density_sqkm":3046.0,"tp":"Suburb : Petrie Terrace<br>Density per sqkm: 3,046"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.010389,-27.466877399999998],[153.01117,-27.463388499999994],[153.011963,-27.4595704],[153.0147602,-27.4598322],[153.0148601,-27.459897400000006],[153.01598790000003,-27.4659654],[153.010389,-27.466877399999998]]]]}},{"type":"Feature","properties":{"suburb_name":"Robina","suburb_areasqkm":14.9594,"address_cnt":13761.0,"address_density_sqkm":920.0,"tp":"Suburb : Robina<br>Density per sqkm: 920"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.3931859,-28.0940995],[153.39143790000003,-28.092701499999993],[153.3869719,-28.0869845],[153.3841279,-28.0850225],[153.3760489,-28.0828825],[153.3698059,-28.080165500000007],[153.3655439,-28.076469499999998],[153.3616179,-28.066665499999996],[153.3637747,-28.0673196],[153.36918560000004,-28.063757800000005],[153.3770363,-28.064043599999998],[153.3778653,-28.065548399999994],[153.3835003,-28.060356999999996],[153.3841299,-28.058099499999997],[153.3872569,-28.054862500000002],[153.3928739,-28.054392499999995],[153.3934819,-28.056521500000002],[153.3981119,-28.055545499999997],[153.4034169,-28.0500015],[153.4071399,-28.048325499999997],[153.4084159,-28.052144499999997],[153.4139849,-28.057127499999996],[153.4176459,-28.0619785],[153.4198989,-28.069421500000004],[153.4214529,-28.074146500000005],[153.41986590000002,-28.07389849999999],[153.4170454,-28.076879599999994],[153.4136759,-28.073663000000003],[153.4104799,-28.076919500000006],[153.4080869,-28.078274500000003],[153.40385,-28.078422499999995],[153.4020414,-28.0809962],[153.3989939,-28.082659],[153.39931590000003,-28.08590249999999],[153.4017035,-28.084402599999997],[153.4043482,-28.087100599999996],[153.3990169,-28.091979499999997],[153.3963039,-28.091203799999995],[153.3931859,-28.0940995]]]]}},{"type":"Feature","properties":{"suburb_name":"Russell Island","suburb_areasqkm":17.5111,"address_cnt":10559.0,"address_density_sqkm":603.0,"tp":"Suburb : Russell Island<br>Density per sqkm: 603"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.3822396,-27.645828799999993],[153.386749,-27.6470275],[153.3897715,-27.645974800000005],[153.3894085,-27.6423818],[153.3908692,-27.641527499999995],[153.3931771,-27.6439885],[153.3973234,-27.6455938],[153.40136130000002,-27.644665699999994],[153.4033553,-27.641986700000004],[153.4037262,-27.637283800000002],[153.4059412,-27.637837699999995],[153.4101062,-27.640175699999997],[153.4141641,-27.6407307],[153.4158451,-27.6420147],[153.4110822,-27.64342669999999],[153.4098312,-27.641926700000006],[153.4061252,-27.6422667],[153.4045221,-27.6433965],[153.4024893,-27.646860700000005],[153.4002513,-27.648914700000002],[153.3977524,-27.6495528],[153.3974304,-27.652071699999993],[153.3958744,-27.653625799999993],[153.3902376,-27.655418800000003],[153.3883226,-27.658565800000005],[153.3923276,-27.666226700000003],[153.3936137,-27.6736977],[153.3930247,-27.677159700000008],[153.3934556,-27.68052670000001],[153.3931327,-27.685014700000004],[153.3950618,-27.691788599999995],[153.3976148,-27.695867599999996],[153.3968488,-27.697236599999993],[153.3940678,-27.696516600000006],[153.3913579,-27.700468599999997],[153.3903589,-27.704355599999996],[153.3849221,-27.709314600000003],[153.3741962,-27.706531699999996],[153.3716842,-27.704105700000003],[153.3690472,-27.703068699999996],[153.36705420000004,-27.700335799999998],[153.3653752,-27.6960548],[153.3661641,-27.693133800000002],[153.3691511,-27.6886275],[153.37363,-27.6857678],[153.373277,-27.6814918],[153.3779739,-27.6770008],[153.3786388,-27.6746218],[153.3771099,-27.670943799999993],[153.3727979,-27.668413899999994],[153.369501,-27.6716289],[153.367374,-27.6720789],[153.365815,-27.669873900000006],[153.3659959,-27.662378900000004],[153.36500390000003,-27.652717000000003],[153.3679638,-27.648154900000005],[153.3709568,-27.6460469],[153.3822396,-27.645828799999993]]],[[[153.394908,-27.66218050000001],[153.396124,-27.658695499999997],[153.40212000000002,-27.6521405],[153.408224,-27.650250499999988],[153.410764,-27.650128500000008],[153.409324,-27.654167499999993],[153.405239,-27.656777500000004],[153.402599,-27.656087500000005],[153.400024,-27.656926499999997],[153.396005,-27.66337849999999],[153.394908,-27.66218050000001]]]]}},{"type":"Feature","properties":{"suburb_name":"Springwood (Qld)","suburb_areasqkm":6.0631,"address_cnt":6791.0,"address_density_sqkm":1120.0,"tp":"Suburb : Springwood (Qld)<br>Density per sqkm: 1,120"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.1216916,-27.610229200000003],[153.1234439,-27.610229500000003],[153.1311029,-27.607883499999993],[153.133062,-27.60884039999999],[153.1448062,-27.610542300000002],[153.1527591,-27.611650299999997],[153.150718,-27.623495500000004],[153.1491176,-27.627888],[153.1467359,-27.629278699999997],[153.1456518,-27.63471889999999],[153.1340221,-27.6331954],[153.1332384,-27.633581600000003],[153.1307231,-27.630237500000003],[153.125875,-27.619035499999995],[153.1244389,-27.616775299999997],[153.1216916,-27.610229200000003]]]]}},{"type":"Feature","properties":{"suburb_name":"St Lucia","suburb_areasqkm":3.9742,"address_cnt":7524.0,"address_density_sqkm":1893.0,"tp":"Suburb : St Lucia<br>Density per sqkm: 1,893"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.999518,-27.508486499999997],[152.9917756,-27.5072021],[152.9898954,-27.509516099999992],[152.98852,-27.50722439999999],[152.9902029,-27.5053885],[152.9901269,-27.5035304],[152.9918521,-27.499736500000004],[152.990466,-27.4974574],[152.9933061,-27.4931925],[152.9946319,-27.4898575],[152.996823,-27.491725399999986],[153.00198,-27.492598499999996],[153.0120801,-27.491549399999997],[153.0151059,-27.492481499999997],[153.0188002,-27.495894499999995],[153.020607,-27.5004694],[153.01965520000002,-27.501490499999996],[153.0135359,-27.5029264],[153.007097,-27.5036284],[153.0012324,-27.50615319999999],[152.999518,-27.508486499999997]]]]}},{"type":"Feature","properties":{"suburb_name":"Taigum","suburb_areasqkm":3.0329,"address_cnt":4319.0,"address_density_sqkm":1424.0,"tp":"Suburb : Taigum<br>Density per sqkm: 1,424"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0551891,-27.335475500000005],[153.0553911,-27.337139399999998],[153.05264,-27.3521654],[153.0353481,-27.349565400000003],[153.03528900000003,-27.3467704],[153.0389231,-27.344522499999997],[153.04052,-27.3425354],[153.03975,-27.339513400000005],[153.0405162,-27.336662699999998],[153.045176,-27.33283469999999],[153.04553310000003,-27.330632499999997],[153.04653610000003,-27.330488399999997],[153.050689,-27.332026400000004],[153.0524631,-27.334418400000004],[153.0551891,-27.335475500000005]]]]}},{"type":"Feature","properties":{"suburb_name":"Tanah Merah","suburb_areasqkm":4.0424,"address_cnt":2534.0,"address_density_sqkm":627.0,"tp":"Suburb : Tanah Merah<br>Density per sqkm: 627"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.166357,-27.6817825],[153.165504,-27.678025500000007],[153.162955,-27.6712035],[153.160415,-27.6716655],[153.159495,-27.669021500000003],[153.160961,-27.66656740000001],[153.159656,-27.664647499999997],[153.161753,-27.658997499999995],[153.163133,-27.658655499999995],[153.164123,-27.655199499999988],[153.170775,-27.66231849999999],[153.181776,-27.673333899999996],[153.179187,-27.6864845],[153.1723235,-27.6827217],[153.166357,-27.6817825]]]]}},{"type":"Feature","properties":{"suburb_name":"Bray Park (Qld)","suburb_areasqkm":4.5121,"address_cnt":4177.0,"address_density_sqkm":926.0,"tp":"Suburb : Bray Park (Qld)<br>Density per sqkm: 926"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9642571,-27.304481399999997],[152.961904,-27.303035399999995],[152.9608222,-27.300273399999995],[152.957899,-27.295798399999992],[152.954528,-27.292981399999995],[152.9537482,-27.291417000000006],[152.9505601,-27.283058399999994],[152.9827638,-27.287892199999995],[152.9855431,-27.2974404],[152.9780611,-27.299423400000002],[152.9716181,-27.29750869999999],[152.9688251,-27.2983364],[152.9675191,-27.30222539999999],[152.9652251,-27.302560399999997],[152.9642571,-27.304481399999997]]]]}},{"type":"Feature","properties":{"suburb_name":"Dulong","suburb_areasqkm":10.4269,"address_cnt":415.0,"address_density_sqkm":40.0,"tp":"Suburb : Dulong<br>Density per sqkm: 40"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.8919322,-26.66161439999999],[152.8858242,-26.6605234],[152.8873852,-26.655796400000007],[152.8883981,-26.6505624],[152.8797671,-26.649194399999995],[152.8796861,-26.644951399999997],[152.8786391,-26.644821399999998],[152.8804562,-26.635421400000002],[152.88081910000002,-26.630576399999995],[152.8853242,-26.6312804],[152.8826302,-26.625265400000004],[152.8966371,-26.6276334],[152.8973021,-26.623889400000003],[152.9072631,-26.625228400000005],[152.9066181,-26.628908399999993],[152.9094792,-26.6293174],[152.9121142,-26.6284404],[152.9112822,-26.631420400000003],[152.9110482,-26.6363664],[152.9128861,-26.636634400000005],[152.9119542,-26.6418074],[152.9112951,-26.645593400000003],[152.9090701,-26.647035400000004],[152.9080892,-26.653316400000005],[152.9077111,-26.6557434],[152.9006783,-26.654975999999998],[152.9038901,-26.6583175],[152.9018042,-26.659919399999993],[152.9018781,-26.6626825],[152.90003420000002,-26.6629824],[152.8919322,-26.66161439999999]]]]}},{"type":"Feature","properties":{"suburb_name":"Mooloolah Valley","suburb_areasqkm":18.4596,"address_cnt":1711.0,"address_density_sqkm":93.0,"tp":"Suburb : Mooloolah Valley<br>Density per sqkm: 93"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9349252,-26.778085399999995],[152.9357641,-26.77391839999999],[152.9339231,-26.7736184],[152.9363314,-26.7671638],[152.9418502,-26.7672204],[152.9441723,-26.765917699999996],[152.9473021,-26.765791399999994],[152.9479431,-26.762105399999992],[152.9514371,-26.761109399999995],[152.9513669,-26.758674499999998],[152.9487601,-26.7572285],[152.9499674,-26.7499173],[152.9468606,-26.74839509999999],[152.9481601,-26.7453814],[152.9507191,-26.7457314],[152.9506543,-26.741107000000003],[152.9544009,-26.742200899999997],[152.9574621,-26.7402204],[152.9655667,-26.738721799999997],[152.9680627,-26.739946799999995],[152.9727536,-26.737019799999995],[152.9714218,-26.7441229],[152.9739426,-26.746306799999996],[152.9776636,-26.7470077],[152.978275,-26.7448872],[152.9852704,-26.7459354],[152.9848153,-26.74838889999999],[152.9929281,-26.7495827],[152.9925459,-26.7522312],[152.9911571,-26.7595334],[152.9887811,-26.760781399999996],[152.9928591,-26.763254399999997],[152.99741410000001,-26.763763399999995],[152.9963051,-26.77225039999999],[152.9932721,-26.770481399999998],[152.9893048,-26.773485299999994],[152.9861161,-26.7737164],[152.9797551,-26.7728384],[152.9792851,-26.773318400000004],[152.98274400000003,-26.7787023],[152.9794001,-26.778741399999998],[152.9757861,-26.775160400000004],[152.9759211,-26.779504400000008],[152.9733841,-26.7810945],[152.97142,-26.779548400000003],[152.9705562,-26.7770084],[152.9664291,-26.777242400000002],[152.9640235,-26.776350799999996],[152.9658916,-26.771937700000006],[152.9616296,-26.7713644],[152.9609061,-26.774476399999998],[152.957977,-26.778003099999992],[152.9552675,-26.779122599999997],[152.952119,-26.779063699999995],[152.9505181,-26.781842399999995],[152.9478482,-26.783060400000004],[152.9447791,-26.7883504],[152.9403589,-26.783402400000007],[152.9381351,-26.783650400000003],[152.9389883,-26.7786356],[152.9349252,-26.778085399999995]]]]}},{"type":"Feature","properties":{"suburb_name":"Westlake","suburb_areasqkm":1.9915,"address_cnt":1791.0,"address_density_sqkm":899.0,"tp":"Suburb : Westlake<br>Density per sqkm: 899"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9148494,-27.5559919],[152.9142806,-27.556739799999995],[152.9076074,-27.555650399999994],[152.9054717,-27.5573929],[152.9072523,-27.5555943],[152.90668570000003,-27.553040899999992],[152.9032197,-27.546703],[152.9067066,-27.543935900000005],[152.9200583,-27.5433808],[152.9253642,-27.542091499999998],[152.9241603,-27.544336800000004],[152.9209857,-27.546374599999996],[152.9219413,-27.550147799999998],[152.9141025,-27.552471799999992],[152.9148494,-27.5559919]]]]}},{"type":"Feature","properties":{"suburb_name":"Rosemount","suburb_areasqkm":12.9184,"address_cnt":1076.0,"address_density_sqkm":83.0,"tp":"Suburb : Rosemount<br>Density per sqkm: 83"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9882582,-26.6448514],[152.9834122,-26.6469994],[152.9809361,-26.646154400000004],[152.9787852,-26.644087400000004],[152.9787411,-26.6423044],[152.9730412,-26.6433114],[152.97116420000003,-26.6441384],[152.9721901,-26.638225399999993],[152.9742631,-26.639773399999996],[152.9751821,-26.6348314],[152.9729291,-26.6331494],[152.9752461,-26.619221400000004],[152.9760031,-26.618802399999996],[152.9791675,-26.61928989999999],[152.9834521,-26.617319399999996],[152.9849601,-26.6191994],[152.9924301,-26.618995400000006],[152.9942501,-26.620118400000003],[152.9976241,-26.619701399999997],[152.99928120000004,-26.617749399999994],[153.0022162,-26.619119400000002],[153.0027271,-26.617054400000004],[153.0058571,-26.616111399999998],[153.0106651,-26.61710439999999],[153.0132931,-26.61966539999999],[153.0203691,-26.620679400000004],[153.0216631,-26.624025399999994],[153.0243631,-26.6251114],[153.0255721,-26.628038399999994],[153.02999010000002,-26.625733399999998],[153.0314562,-26.6262734],[153.0324802,-26.628989399999988],[153.0352752,-26.630709399999994],[153.0338531,-26.632507399999994],[153.0341761,-26.6345764],[153.0335761,-26.636776400000002],[153.0309341,-26.636530399999998],[153.0287711,-26.638990399999997],[153.0259191,-26.63776039999999],[153.0214291,-26.639334400000003],[153.0181871,-26.6397894],[153.0161191,-26.63750539999999],[153.0122561,-26.6366994],[153.0114902,-26.637900400000007],[153.0081551,-26.6377274],[153.0050532,-26.63611040000001],[153.0003182,-26.636491399999997],[152.9963101,-26.6376304],[152.9934872,-26.639893400000002],[152.9929382,-26.641685400000007],[152.9882582,-26.6448514]]]]}},{"type":"Feature","properties":{"suburb_name":"Sadliers Crossing","suburb_areasqkm":0.971,"address_cnt":692.0,"address_density_sqkm":713.0,"tp":"Suburb : Sadliers Crossing<br>Density per sqkm: 713"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.7447581,-27.6188834],[152.743758,-27.617826400000006],[152.7395901,-27.617713399999996],[152.739544,-27.6105304],[152.7414961,-27.608856400000004],[152.7448864,-27.6096657],[152.7485902,-27.609410699999998],[152.751095,-27.609245399999995],[152.7515751,-27.6109934],[152.750398,-27.613272400000003],[152.753691,-27.6139474],[152.7517444,-27.615228200000004],[152.7452111,-27.6167944],[152.7447581,-27.6188834]]]]}},{"type":"Feature","properties":{"suburb_name":"Sheldon","suburb_areasqkm":22.7567,"address_cnt":1035.0,"address_density_sqkm":45.0,"tp":"Suburb : Sheldon<br>Density per sqkm: 45"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.235057,-27.5654795],[153.235612,-27.565570499999993],[153.234391,-27.5729295],[153.233006,-27.575955499999992],[153.2321,-27.580145500000004],[153.230595,-27.583195500000002],[153.231255,-27.585248500000002],[153.228563,-27.588773500000002],[153.225523,-27.5871965],[153.21941100000004,-27.5884675],[153.2182941,-27.5928605],[153.2167119,-27.594893499999998],[153.2127818,-27.597173499999997],[153.210336,-27.599374499999996],[153.2091748,-27.6018334],[153.2067691,-27.6044105],[153.2052709,-27.609371399999997],[153.2035123,-27.611097199999996],[153.1844778,-27.608458199999998],[153.1807519,-27.609309399999997],[153.175768,-27.6066945],[153.1773074,-27.6038282],[153.1760694,-27.6016513],[153.171555,-27.5994362],[153.1741708,-27.595483799999997],[153.171852,-27.591079900000004],[153.1776308,-27.586699499999995],[153.1770799,-27.583996799999998],[153.1790754,-27.58071320000001],[153.1776379,-27.578549999999993],[153.1825588,-27.573647300000005],[153.1797943,-27.570161800000008],[153.1819651,-27.564390199999995],[153.1819201,-27.562314000000004],[153.1867891,-27.5604667],[153.1913287,-27.5608789],[153.191771,-27.559645499999995],[153.195344,-27.559948499999997],[153.200418,-27.5629935],[153.208104,-27.5642745],[153.21258,-27.567840500000003],[153.2146891,-27.56838249999999],[153.22323100000003,-27.567523500000007],[153.228156,-27.565199499999995],[153.235057,-27.5654795]]]]}},{"type":"Feature","properties":{"suburb_name":"Advancetown","suburb_areasqkm":63.5528,"address_cnt":270.0,"address_density_sqkm":4.0,"tp":"Suburb : Advancetown<br>Density per sqkm: 4"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.3043829,-28.00972249999999],[153.3053559,-28.01337650000001],[153.3088449,-28.01535150000001],[153.308952,-28.02108249999999],[153.3057289,-28.022297500000004],[153.3007879,-28.0214815],[153.2963709,-28.018124499999995],[153.2894449,-28.0171175],[153.2872679,-28.021720500000004],[153.2904779,-28.026211499999995],[153.2932309,-28.026712500000006],[153.2943699,-28.025344500000003],[153.30175,-28.0264525],[153.3040459,-28.0312215],[153.3031779,-28.032938499999993],[153.2971599,-28.032800499999993],[153.2857459,-28.028986499999995],[153.2836269,-28.031223499999992],[153.2835669,-28.035142499999992],[153.2869529,-28.0425145],[153.2858007,-28.045294200000008],[153.2900329,-28.046097499999995],[153.2941469,-28.049656500000005],[153.297279,-28.0501339],[153.2996352,-28.0504863],[153.2987146,-28.0553151],[153.3018937,-28.055791999999997],[153.3013121,-28.0588223],[153.3065719,-28.05704519999999],[153.3094869,-28.058754500000006],[153.3137039,-28.065769499999995],[153.3135629,-28.067052499999996],[153.318184,-28.0761005],[153.3184809,-28.077684499999997],[153.3164899,-28.0820745],[153.317131,-28.083397499999997],[153.3157609,-28.087542499999994],[153.3140979,-28.089311499999997],[153.3142679,-28.091470499999993],[153.3118909,-28.094764499999997],[153.3114659,-28.096645500000005],[153.3085109,-28.100956499999995],[153.30885190000004,-28.104828500000004],[153.30765190000002,-28.1071855],[153.3068699,-28.1113195],[153.3090479,-28.117831499999998],[153.3066189,-28.119643500000002],[153.3049249,-28.1197255],[153.3017309,-28.122455500000008],[153.2958709,-28.1208495],[153.291436,-28.120016199999995],[153.292439,-28.114957499999996],[153.2824456,-28.113492200000003],[153.2812917,-28.119654199999996],[153.2779836,-28.118770700000002],[153.2781518,-28.116419699999994],[153.2752725,-28.114440500000004],[153.2758988,-28.110919999999997],[153.2463729,-28.106631499999995],[153.2237161,-28.103074999999997],[153.2298935,-28.099967899999996],[153.2275306,-28.097250000000006],[153.2296128,-28.089567900000006],[153.2315556,-28.089858600000003],[153.23244,-28.085314199999992],[153.2294299,-28.084850999999997],[153.2294868,-28.0827898],[153.236656,-28.0838665],[153.2400079,-28.0668085],[153.2468579,-28.060271500000002],[153.2478949,-28.0511845],[153.2488187,-28.050874599999997],[153.2574319,-28.0522285],[153.2597669,-28.040651499999992],[153.258657,-28.038448499999998],[153.25578,-28.036836500000003],[153.2581789,-28.032694499999998],[153.2592769,-28.0328655],[153.2602849,-28.0278025],[153.2615619,-28.02688949999999],[153.2604099,-28.024262499999995],[153.2668139,-28.0252915],[153.2692059,-28.021086499999996],[153.2729659,-28.022293500000004],[153.2738799,-28.0192905],[153.2785319,-28.019200499999997],[153.2785019,-28.015754499999993],[153.2821409,-28.014353500000002],[153.2846269,-28.0106095],[153.2888509,-28.006864500000002],[153.2918499,-28.0027095],[153.2963299,-28.00281469999999],[153.2953339,-28.0081795],[153.3043829,-28.00972249999999]]]]}},{"type":"Feature","properties":{"suburb_name":"Ebbw Vale","suburb_areasqkm":1.2102,"address_cnt":330.0,"address_density_sqkm":273.0,"tp":"Suburb : Ebbw Vale<br>Density per sqkm: 273"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.8232187,-27.6174673],[152.819573,-27.611969400000003],[152.8203092,-27.607745400000002],[152.8189319,-27.605192],[152.8204973,-27.604541699999995],[152.824709,-27.6025644],[152.828525,-27.600038399999995],[152.8280171,-27.603003499999993],[152.8315052,-27.6028334],[152.827867,-27.6111084],[152.8232187,-27.6174673]]]]}},{"type":"Feature","properties":{"suburb_name":"Gumdale","suburb_areasqkm":5.5254,"address_cnt":1016.0,"address_density_sqkm":184.0,"tp":"Suburb : Gumdale<br>Density per sqkm: 184"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.1366524,-27.486312],[153.1393641,-27.483457400000002],[153.1415481,-27.4857804],[153.145033,-27.489592399999996],[153.15139700000003,-27.490587399999992],[153.15514310000003,-27.4883194],[153.164225,-27.489736500000006],[153.1638631,-27.491517299999998],[153.1677262,-27.491304199999988],[153.1687207,-27.493304299999995],[153.1792471,-27.494929499999994],[153.1781526,-27.500531200000005],[153.1774357,-27.506123199999994],[153.1509121,-27.502020399999996],[153.1387332,-27.500126400000003],[153.1408891,-27.489019400000004],[153.13497000000004,-27.488093499999998],[153.1366524,-27.486312]]]]}},{"type":"Feature","properties":{"suburb_name":"Highworth","suburb_areasqkm":0.4671,"address_cnt":182.0,"address_density_sqkm":390.0,"tp":"Suburb : Highworth<br>Density per sqkm: 390"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9342412,-26.620383399999998],[152.9292129,-26.61984779999999],[152.9299677,-26.6151805],[152.93504380000002,-26.615885699999996],[152.938399,-26.614942099999993],[152.94172510000004,-26.615599099999997],[152.9413871,-26.617571399999996],[152.9367722,-26.6169353],[152.9342412,-26.620383399999998]]]]}},{"type":"Feature","properties":{"suburb_name":"Balmoral Ridge","suburb_areasqkm":9.5351,"address_cnt":176.0,"address_density_sqkm":18.0,"tp":"Suburb : Balmoral Ridge<br>Density per sqkm: 18"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.8872885,-26.7151594],[152.8991332,-26.716713400000003],[152.8981001,-26.719302400000007],[152.8993896,-26.722992399999995],[152.8998682,-26.728600399999998],[152.9018771,-26.7325264],[152.9042768,-26.732895],[152.9015692,-26.747890399999996],[152.9026701,-26.750284400000005],[152.9019631,-26.752497399999996],[152.9027551,-26.7557884],[152.90130410000003,-26.757858400000003],[152.9002711,-26.763494400000006],[152.89736510000003,-26.7630754],[152.8958141,-26.771698400000002],[152.8912871,-26.771041399999994],[152.8895261,-26.772170399999997],[152.8884472,-26.7694905],[152.8849111,-26.767949100000006],[152.8799691,-26.761973400000002],[152.8812911,-26.7580454],[152.8838211,-26.759618399999997],[152.8854911,-26.758118400000004],[152.8815111,-26.7554024],[152.8840621,-26.753178399999996],[152.8833601,-26.751092399999997],[152.8842091,-26.7474194],[152.8821462,-26.745943399999994],[152.8800922,-26.742021399999995],[152.88069610000002,-26.739542399999998],[152.8834751,-26.738523399999988],[152.8847431,-26.741369399999993],[152.8881022,-26.738325399999997],[152.8886631,-26.73492739999999],[152.8937792,-26.735705400000004],[152.8948601,-26.7306284],[152.8933851,-26.728542400000002],[152.8878182,-26.727732399999994],[152.8872212,-26.724289399999996],[152.8853871,-26.7243514],[152.8847331,-26.7281354],[152.8810442,-26.727637399999992],[152.8804491,-26.7262184],[152.8815372,-26.718045399999994],[152.8852302,-26.719470399999995],[152.8867671,-26.718268399999996],[152.8872885,-26.7151594]]]]}},{"type":"Feature","properties":{"suburb_name":"Cooloolabin","suburb_areasqkm":34.1588,"address_cnt":152.0,"address_density_sqkm":4.0,"tp":"Suburb : Cooloolabin<br>Density per sqkm: 4"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.8847496,-26.494953899999995],[152.8932082,-26.496152499999997],[152.8961814,-26.490872199999995],[152.89695040000004,-26.4933961],[152.9032827,-26.49433699999999],[152.901415,-26.5044689],[152.9085525,-26.505533600000003],[152.9116172,-26.510176399999995],[152.9145994,-26.512873999999996],[152.9163132,-26.513350999999997],[152.9175152,-26.516658399999994],[152.91905240000003,-26.5190023],[152.9177203,-26.526805199999995],[152.9206155,-26.5271917],[152.9200989,-26.530305399999996],[152.9231957,-26.5307203],[152.9241791,-26.5247554],[152.9273262,-26.527336400000003],[152.9314132,-26.529238400000004],[152.9298172,-26.538719399999998],[152.9323242,-26.539717399999997],[152.9251324,-26.544406],[152.9321952,-26.5532104],[152.9354361,-26.552586399999992],[152.9315102,-26.575073400000004],[152.92871620000003,-26.574665399999997],[152.9293602,-26.5709804],[152.9282232,-26.569922399999996],[152.9253402,-26.5707544],[152.9264925,-26.564923599999997],[152.9158002,-26.563233400000005],[152.9136932,-26.5653544],[152.9038271,-26.563798399999992],[152.9042534,-26.5616077],[152.9006652,-26.5597434],[152.8995272,-26.5565084],[152.8978782,-26.557220399999995],[152.8949962,-26.5565244],[152.8947392,-26.560243400000004],[152.8901142,-26.559485400000003],[152.8861722,-26.558110400000004],[152.8843002,-26.5665824],[152.8772822,-26.565632400000002],[152.8765702,-26.5624964],[152.87455820000002,-26.5598675],[152.875495,-26.5550618],[152.873666,-26.5542264],[152.8733562,-26.5513044],[152.8678581,-26.553279399999997],[152.8665271,-26.551273399999992],[152.8635292,-26.549166199999995],[152.8638662,-26.5460594],[152.8608692,-26.5432514],[152.8589862,-26.53873940000001],[152.8618772,-26.5366384],[152.8621042,-26.5328304],[152.86455120000002,-26.5306274],[152.8672182,-26.530229399999993],[152.864333,-26.527120099999998],[152.8674442,-26.526822400000004],[152.8699982,-26.528227399999995],[152.8751571,-26.526443399999998],[152.8803692,-26.5269474],[152.8837611,-26.52486449999999],[152.8835671,-26.522481399999993],[152.8818081,-26.519420500000003],[152.8856183,-26.518760400000005],[152.8873971,-26.517158400000003],[152.889845,-26.513347600000003],[152.8901595,-26.510674400000003],[152.8922942,-26.50844439999999],[152.8918512,-26.506639399999994],[152.8935193,-26.505238399999996],[152.8941892,-26.501230499999995],[152.8916372,-26.4982214],[152.8890832,-26.4974184],[152.8862606,-26.498449799999992],[152.8847496,-26.494953899999995]]]]}},{"type":"Feature","properties":{"suburb_name":"Mount Crosby","suburb_areasqkm":15.2943,"address_cnt":856.0,"address_density_sqkm":56.0,"tp":"Suburb : Mount Crosby<br>Density per sqkm: 56"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.847219,-27.5327554],[152.841726,-27.53086340000001],[152.8358801,-27.531139399999994],[152.832453,-27.532487399999997],[152.830665,-27.5341074],[152.828497,-27.531670399999992],[152.8216829,-27.531317499999997],[152.8150751,-27.527989399999992],[152.80736800000003,-27.5282154],[152.8036469,-27.532615399999994],[152.8070287,-27.537460399999997],[152.80647750000003,-27.541923500000006],[152.8050081,-27.543553400000004],[152.807081,-27.549705400000004],[152.8059421,-27.555898400000007],[152.8050231,-27.5574314],[152.804826,-27.557302399999998],[152.803253,-27.555861400000005],[152.795973,-27.5548874],[152.7936351,-27.55596139999999],[152.789312,-27.554536399999993],[152.7871121,-27.552728499999997],[152.786606,-27.5495134],[152.7892651,-27.547397399999998],[152.795207,-27.545442400000002],[152.79813,-27.541729399999998],[152.7981121,-27.538783399999993],[152.797111,-27.5358114],[152.7919941,-27.535141399999993],[152.78538010000003,-27.536590399999998],[152.78095410000003,-27.536276400000002],[152.7769491,-27.5351134],[152.778931,-27.524739399999994],[152.7814961,-27.525117399999992],[152.7824741,-27.519658399999997],[152.7915195,-27.521065599999993],[152.7919116,-27.51891749999999],[152.7944374,-27.518247900000002],[152.8064415,-27.519954000000002],[152.808148,-27.5189024],[152.807941,-27.516734400000004],[152.8102472,-27.512187400000002],[152.81231,-27.510322400000003],[152.8147382,-27.5123694],[152.8178671,-27.511384400000004],[152.821606,-27.511899399999997],[152.8267371,-27.5159174],[152.8297071,-27.516497400000002],[152.831317,-27.508034399999993],[152.8370251,-27.508765400000005],[152.836669,-27.5109544],[152.8419674,-27.511702299999993],[152.8411847,-27.5156849],[152.8493168,-27.525839800000004],[152.848983,-27.52762399999999],[152.8459941,-27.528135399999996],[152.847219,-27.5327554]]]]}},{"type":"Feature","properties":{"suburb_name":"Mount Samson","suburb_areasqkm":18.398,"address_cnt":281.0,"address_density_sqkm":15.0,"tp":"Suburb : Mount Samson<br>Density per sqkm: 15"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.8349501,-27.3199824],[152.8305721,-27.319384500000005],[152.8292642,-27.326950399999998],[152.8236768,-27.3259578],[152.8228897,-27.324237599999993],[152.8201261,-27.322650399999993],[152.8158684,-27.3225153],[152.8119121,-27.323624200000005],[152.8065032,-27.320011400000002],[152.8071174,-27.316477699999997],[152.8098604,-27.300512599999994],[152.8156006,-27.301332000000002],[152.8146806,-27.30634869999999],[152.8224721,-27.3074735],[152.8232309,-27.304210499999993],[152.8274468,-27.304806599999996],[152.8286522,-27.2984674],[152.831175,-27.297651499999994],[152.840241,-27.296523999999994],[152.8418751,-27.293413399999995],[152.838685,-27.2894814],[152.838662,-27.2872895],[152.8571811,-27.275087500000005],[152.8599369,-27.274106499999995],[152.8608682,-27.275953399999988],[152.8648171,-27.277642499999995],[152.8668201,-27.2764324],[152.870617,-27.275779499999995],[152.8734301,-27.2745375],[152.8745371,-27.274777399999998],[152.8705414,-27.280393899999993],[152.8664945,-27.2846689],[152.8667295,-27.287758899999996],[152.8678485,-27.289676899999993],[152.867863,-27.293565399999995],[152.8667222,-27.29413539999999],[152.8646047,-27.30673309999999],[152.86378930000004,-27.3128488],[152.8616335,-27.31256279999999],[152.85924830000002,-27.314302699999992],[152.85421710000003,-27.320192399999993],[152.8488351,-27.319106399999995],[152.8455661,-27.3176194],[152.8412,-27.319102400000002],[152.83879710000002,-27.3187664],[152.8349501,-27.3199824]]]]}},{"type":"Feature","properties":{"suburb_name":"Blackstone","suburb_areasqkm":3.815,"address_cnt":625.0,"address_density_sqkm":164.0,"tp":"Suburb : Blackstone<br>Density per sqkm: 164"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.7938015,-27.64191079999999],[152.794318,-27.6401324],[152.790723,-27.6383604],[152.79054400000004,-27.63532139999999],[152.791936,-27.6320634],[152.789195,-27.631521400000004],[152.7883721,-27.629719400000006],[152.793469,-27.627805399999993],[152.79672610000003,-27.6259384],[152.797339,-27.622922400000004],[152.800563,-27.622184400000002],[152.804429,-27.621930399999997],[152.806359,-27.620692399999996],[152.8126457,-27.6215715],[152.8184555,-27.62641929999999],[152.8138191,-27.631786299999995],[152.8098281,-27.634558399999996],[152.806612,-27.635945399999997],[152.797553,-27.638907399999994],[152.7938015,-27.64191079999999]]]]}},{"type":"Feature","properties":{"suburb_name":"Veresdale","suburb_areasqkm":17.2404,"address_cnt":108.0,"address_density_sqkm":6.0,"tp":"Suburb : Veresdale<br>Density per sqkm: 6"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0013499,-27.895710499999996],[153.000055,-27.902499399999996],[152.998475,-27.902279500000002],[152.996746,-27.9125865],[152.995747,-27.915660399999997],[152.994654,-27.921969400000005],[153.005773,-27.923477399999996],[153.0036449,-27.935770399999996],[153.0240834,-27.938556999999996],[153.0234594,-27.94214699999999],[153.032681,-27.937381400000003],[153.032567,-27.939952400000003],[153.030687,-27.9432415],[153.030225,-27.946249400000003],[153.03126400000002,-27.9473374],[153.029045,-27.952021400000003],[153.028491,-27.955483400000002],[153.025737,-27.953673499999994],[153.02081,-27.9522885],[153.016229,-27.9517135],[153.009175,-27.9534204],[153.002263,-27.9518914],[153.001179,-27.952105399999997],[153.0013681,-27.948232299999997],[153.002548,-27.9410324],[152.997605,-27.9351205],[152.998402,-27.929860400000003],[152.9818885,-27.927605899999996],[152.982585,-27.924105399999995],[152.96032,-27.9209364],[152.959239,-27.921081400000002],[152.960094,-27.916057400000003],[152.958244,-27.9118974],[152.953558,-27.908574399999996],[152.952904,-27.905340399999996],[152.954822,-27.903019500000003],[152.953442,-27.901112399999995],[152.949703,-27.901901399999993],[152.948195,-27.8982144],[152.9751233,-27.902029699999993],[152.9756928,-27.900558299999997],[152.9866139,-27.902138],[152.9884168,-27.896720399999992],[152.99183,-27.896114499999996],[152.9935029,-27.894785399999996],[152.9974651,-27.895743399999997],[153.0013499,-27.895710499999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Enoggera Reservoir","suburb_areasqkm":37.694,"address_cnt":26.0,"address_density_sqkm":1.0,"tp":"Suburb : Enoggera Reservoir<br>Density per sqkm: 1"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.923398,-27.434157400000004],[152.9248541,-27.434681399999995],[152.9255441,-27.438903400000004],[152.9273661,-27.440703399999997],[152.927104,-27.44298579999999],[152.9310702,-27.445838500000008],[152.93075,-27.447675],[152.9279631,-27.449139399999993],[152.9258046,-27.452851799999998],[152.9263097,-27.458580699999995],[152.9241128,-27.4609901],[152.9202251,-27.459923400000008],[152.91734,-27.457061400000004],[152.9089644,-27.45624729999999],[152.902429,-27.459890400000006],[152.8963681,-27.45703139999999],[152.8922891,-27.457854400000006],[152.8892781,-27.456490399999993],[152.8853161,-27.4516534],[152.8802691,-27.4549494],[152.875231,-27.448862400000003],[152.872842,-27.447828400000002],[152.8705851,-27.448586400000003],[152.8692451,-27.4466564],[152.863667,-27.444050399999995],[152.8600211,-27.447401399999997],[152.8563291,-27.446432399999996],[152.853084,-27.446369399999995],[152.8504641,-27.448014400000005],[152.8463901,-27.447226399999998],[152.8441041,-27.447538400000003],[152.838768,-27.446937400000003],[152.836186,-27.44463539999999],[152.8297081,-27.4430444],[152.82761510000003,-27.443555399999994],[152.8252702,-27.4383747],[152.8258962,-27.434794699999998],[152.82846610000001,-27.4326467],[152.824085,-27.4261889],[152.8240957,-27.4240675],[152.8171037,-27.419579000000002],[152.81348,-27.419618299999993],[152.8083,-27.414670900000008],[152.8060405,-27.416727],[152.8038798,-27.414734799999998],[152.80166090000003,-27.410986699999995],[152.799362,-27.409471400000005],[152.800794,-27.407319899999997],[152.7986585,-27.405093199999992],[152.7993311,-27.401636399999997],[152.8015981,-27.3987954],[152.8059691,-27.400732400000003],[152.8141611,-27.402103399999998],[152.8153831,-27.405252399999995],[152.8208551,-27.41068539999999],[152.8257031,-27.412266400000004],[152.8276011,-27.414649399999995],[152.8311631,-27.416937400000002],[152.8367981,-27.418843399999993],[152.8427761,-27.4176474],[152.8472461,-27.419574400000002],[152.84932010000003,-27.421935399999995],[152.8530321,-27.420587399999988],[152.858295,-27.4209714],[152.861154,-27.422362400000008],[152.8624568,-27.4212089],[152.86312460000002,-27.417652600000004],[152.8648011,-27.4178434],[152.8721501,-27.4130527],[152.8726891,-27.413743400000005],[152.8972348,-27.417267399999997],[152.8975979,-27.4150735],[152.8996538,-27.415335500000005],[152.8992322,-27.418034199999997],[152.90221470000003,-27.418431099999996],[152.9034674,-27.421338899999995],[152.9026467,-27.426134199999996],[152.9052899,-27.4264809],[152.9044436,-27.431915799999995],[152.9088411,-27.43328139999999],[152.9128961,-27.432579399999998],[152.9142602,-27.4335055],[152.9188239,-27.434217500000003],[152.923398,-27.434157400000004]]]]}},{"type":"Feature","properties":{"suburb_name":"Amity","suburb_areasqkm":5.0628,"address_cnt":502.0,"address_density_sqkm":99.0,"tp":"Suburb : Amity<br>Density per sqkm: 99"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.4707276,-27.405413000000003],[153.4676286,-27.407011499999992],[153.465839,-27.405512499999997],[153.45824,-27.412538500000004],[153.45593000000002,-27.411410500000006],[153.450569,-27.4071705],[153.445227,-27.402121499999993],[153.441719,-27.402100500000003],[153.440771,-27.4053805],[153.437156,-27.4068105],[153.4362052,-27.405492199999994],[153.4380121,-27.401400200000005],[153.4381261,-27.396105199999994],[153.44093200000003,-27.3923202],[153.4539267,-27.387894099999997],[153.4558437,-27.388278099999997],[153.4603077,-27.391916100000007],[153.4650206,-27.397691999999996],[153.4707276,-27.405413000000003]]]]}},{"type":"Feature","properties":{"suburb_name":"Campbells Pocket","suburb_areasqkm":9.7771,"address_cnt":50.0,"address_density_sqkm":5.0,"tp":"Suburb : Campbells Pocket<br>Density per sqkm: 5"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.7835761,-27.086408399999996],[152.7842661,-27.08238239999999],[152.7906941,-27.082577399999995],[152.7904281,-27.081203399999996],[152.7923211,-27.078142400000004],[152.7932411,-27.0719704],[152.7961911,-27.06892539999999],[152.7991491,-27.069341400000003],[152.8005251,-27.060966399999998],[152.80265910000003,-27.060913400000004],[152.8036996,-27.057689099999997],[152.8067465,-27.058503099999996],[152.8102675,-27.0618391],[152.8113905,-27.0648611],[152.8135225,-27.0659781],[152.8158735,-27.065712],[152.8191781,-27.0668545],[152.81866010000002,-27.0704264],[152.8230521,-27.073671400000002],[152.8277211,-27.079081400000003],[152.8267591,-27.083075400000002],[152.8192481,-27.0864854],[152.8186171,-27.090624400000003],[152.8143159,-27.089840500000008],[152.8057031,-27.088809400000002],[152.8051231,-27.092519399999993],[152.8031951,-27.095558400000005],[152.7999431,-27.0964874],[152.7959021,-27.095492399999998],[152.7955651,-27.09397239999999],[152.7890001,-27.091253400000003],[152.7883771,-27.089274400000004],[152.7856361,-27.088301399999995],[152.7835761,-27.086408399999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Wights Mountain","suburb_areasqkm":8.6022,"address_cnt":351.0,"address_density_sqkm":41.0,"tp":"Suburb : Wights Mountain<br>Density per sqkm: 41"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.8530141,-27.4161404],[152.8527761,-27.4174395],[152.8491549,-27.416949399999996],[152.8418491,-27.4121344],[152.8342739,-27.410690500000005],[152.8316981,-27.409597400000003],[152.8317155,-27.402498100000003],[152.8302133,-27.40230279999999],[152.8330392,-27.3965494],[152.8332727,-27.3896155],[152.8349638,-27.390438800000002],[152.8375229,-27.376426499999997],[152.8541455,-27.3786939],[152.8655799,-27.3917934],[152.85918810000004,-27.3934105],[152.857121,-27.3991834],[152.8544631,-27.402886499999997],[152.8504131,-27.404970399999993],[152.8476332,-27.405186499999992],[152.846276,-27.4129234],[152.8485292,-27.414198400000004],[152.8532542,-27.41477650000001],[152.8530141,-27.4161404]]]]}},{"type":"Feature","properties":{"suburb_name":"Mount Mellum","suburb_areasqkm":10.1215,"address_cnt":199.0,"address_density_sqkm":20.0,"tp":"Suburb : Mount Mellum<br>Density per sqkm: 20"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9508787,-26.8221565],[152.9484771,-26.824922400000002],[152.9485821,-26.828379400000003],[152.9450971,-26.830265400000002],[152.9434122,-26.833042399999993],[152.9401901,-26.8348454],[152.9274581,-26.8329944],[152.9281981,-26.8291704],[152.9199751,-26.827923400000003],[152.9172091,-26.827067400000004],[152.9149351,-26.828024399999993],[152.9086121,-26.826074399999992],[152.9091871,-26.8226024],[152.9151321,-26.823388399999992],[152.917367,-26.8220353],[152.91941810000003,-26.8175644],[152.9163264,-26.811232799999996],[152.9163691,-26.808944899999997],[152.9231879,-26.80966069999999],[152.9240298,-26.8019226],[152.9276752,-26.802287399999997],[152.9287871,-26.8005294],[152.9287081,-26.7979704],[152.9266241,-26.794986400000003],[152.9297951,-26.7965434],[152.9320471,-26.7964014],[152.9361231,-26.7939804],[152.9394371,-26.7945894],[152.9440481,-26.799090400000004],[152.940919,-26.816970500000004],[152.9502991,-26.818268400000004],[152.9508787,-26.8221565]]]]}},{"type":"Feature","properties":{"suburb_name":"Cowan Cowan","suburb_areasqkm":0.1958,"address_cnt":102.0,"address_density_sqkm":521.0,"tp":"Suburb : Cowan Cowan<br>Density per sqkm: 521"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.3641891,-27.12756140000001],[153.365873,-27.1225796],[153.37051330000003,-27.12312809999999],[153.3706706,-27.12492829999999],[153.3672108,-27.1256334],[153.3661849,-27.128521799999994],[153.3641891,-27.12756140000001]]]]}},{"type":"Feature","properties":{"suburb_name":"Larapinta (Qld)","suburb_areasqkm":5.9297,"address_cnt":104.0,"address_density_sqkm":18.0,"tp":"Suburb : Larapinta (Qld)<br>Density per sqkm: 18"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0193526,-27.657380999999994],[153.014537,-27.656805499999994],[153.012045,-27.6571314],[153.000205,-27.655080400000003],[153.000928,-27.653320499999992],[152.999849,-27.64878139999999],[152.998247,-27.6463174],[152.9993159,-27.644105499999995],[152.9984839,-27.64049650000001],[152.996865,-27.63920149999999],[152.9972409,-27.6368224],[152.9993731,-27.6351634],[153.0001921,-27.632233499999998],[153.0046979,-27.6305824],[153.0088631,-27.62614050000001],[153.0117121,-27.6273244],[153.014635,-27.626395399999996],[153.0178642,-27.623930499999997],[153.0186742,-27.6257304],[153.0225422,-27.62630130000001],[153.021708,-27.6293244],[153.0161173,-27.63890049999999],[153.0149,-27.642182400000003],[153.0158226,-27.645833999999994],[153.0194426,-27.652641899999995],[153.0193526,-27.657380999999994]]]]}},{"type":"Feature","properties":{"suburb_name":"Parklands (Qld)","suburb_areasqkm":8.2758,"address_cnt":121.0,"address_density_sqkm":15.0,"tp":"Suburb : Parklands (Qld)<br>Density per sqkm: 15"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.967362,-26.57815789999999],[152.9783391,-26.579904400000004],[152.98909010000003,-26.5816134],[152.9869722,-26.594960400000005],[152.9959322,-26.596219399999995],[152.9962052,-26.594476399999994],[153.0011082,-26.595160399999997],[152.9993765,-26.6050653],[152.996885,-26.604721299999998],[152.9961991,-26.608830600000008],[152.9893237,-26.607864099999997],[152.9837621,-26.607718299999995],[152.9847893,-26.600830999999996],[152.9778507,-26.6032268],[152.9772572,-26.606847499999997],[152.9725961,-26.606196399999998],[152.9737942,-26.608590099999997],[152.9722262,-26.6098734],[152.9630386,-26.608335100000005],[152.9616866,-26.6058871],[152.96150760000003,-26.6007001],[152.9632422,-26.597127399999998],[152.9612216,-26.594219000000002],[152.9700947,-26.595638],[152.9709341,-26.5953624],[152.9683242,-26.5874194],[152.9662121,-26.585008400000003],[152.967362,-26.57815789999999]]]]}},{"type":"Feature","properties":{"suburb_name":"Blacksoil","suburb_areasqkm":1.882,"address_cnt":79.0,"address_density_sqkm":42.0,"tp":"Suburb : Blacksoil<br>Density per sqkm: 42"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.7144361,-27.5791004],[152.7148661,-27.5844164],[152.7076522,-27.583502400000004],[152.7014288,-27.584403500000004],[152.6986516,-27.575928700000002],[152.697605,-27.572548399999988],[152.6996642,-27.5710194],[152.7102972,-27.572531399999992],[152.7125485,-27.574111499999997],[152.714069,-27.5765468],[152.7144361,-27.5791004]]]]}},{"type":"Feature","properties":{"suburb_name":"Welsby","suburb_areasqkm":63.6953,"address_cnt":5.0,"address_density_sqkm":0.0,"tp":"Suburb : Welsby<br>Density per sqkm: 0"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.1367891,-27.031247499999996],[153.130137,-27.026472900000012],[153.1270058,-27.028299100000005],[153.1230491,-27.022778500000005],[153.1170341,-27.026313499999997],[153.1126457,-27.022777900000005],[153.1090567,-27.0216179],[153.1053978,-27.0185959],[153.1016448,-27.016609000000006],[153.09917110000004,-27.0143434],[153.0973138,-27.004424000000004],[153.0970848,-26.99934899999999],[153.0947362,-26.993695299999988],[153.0905761,-26.988611399999996],[153.0836881,-26.986517399999997],[153.0807261,-26.982771399999994],[153.0779091,-26.980653399999998],[153.0769521,-26.978579399999997],[153.0789561,-26.973576399999995],[153.0798691,-26.969669400000004],[153.0801691,-26.964440500000002],[153.0792611,-26.960749399999994],[153.0833301,-26.958397400000003],[153.0867551,-26.954654499999997],[153.0870401,-26.9518635],[153.1471051,-26.937285499999998],[153.1555581,-26.965358799999997],[153.1574102,-26.972965699999996],[153.1613902,-26.985107699999997],[153.1666653,-26.9975846],[153.1680878,-27.0017356],[153.1727381,-27.0122175],[153.1679941,-27.012638499999998],[153.1641381,-27.009507499999994],[153.1702291,-27.02336040000001],[153.1544791,-27.030356500000003],[153.1512966,-27.022007099999996],[153.142187,-27.020736899999992],[153.1384891,-27.025146500000005],[153.139073,-27.0272035],[153.1428163,-27.031983400000005],[153.1367891,-27.031247499999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Lyons (Qld)","suburb_areasqkm":44.1819,"address_cnt":48.0,"address_density_sqkm":1.0,"tp":"Suburb : Lyons (Qld)<br>Density per sqkm: 1"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.873349,-27.753346499999992],[152.88644510000003,-27.755316499999996],[152.8897762,-27.7531814],[152.8919841,-27.752700499999996],[152.8952932,-27.74833449999999],[152.9007821,-27.7493404],[152.90236100000004,-27.747880399999996],[152.904547,-27.7488004],[152.9078579,-27.747152399999994],[152.9111249,-27.749159399999996],[152.9123961,-27.7488764],[152.914439,-27.745821399999997],[152.916234,-27.745501499999996],[152.913655,-27.759334399999997],[152.9110204,-27.77366260000001],[152.9060897,-27.7729761],[152.904127,-27.783926399999995],[152.908979,-27.7823904],[152.912022,-27.78280239999999],[152.9097391,-27.796511799999998],[152.9069658,-27.7961086],[152.90606200000002,-27.8009894],[152.896848,-27.799630399999998],[152.893398,-27.797323400000003],[152.891775,-27.798843399999992],[152.889683,-27.798032399999997],[152.889044,-27.800540399999996],[152.883835,-27.8015994],[152.881561,-27.80087639999999],[152.878534,-27.8012864],[152.875388,-27.802691399999993],[152.872388,-27.801360399999997],[152.871639,-27.797343399999995],[152.868587,-27.792989399999993],[152.863764,-27.792585399999993],[152.861462,-27.793415399999997],[152.858921,-27.7903734],[152.854584,-27.787991399999996],[152.849072,-27.785663400000004],[152.842059,-27.785288399999992],[152.84165,-27.783586399999997],[152.823591,-27.781053399999998],[152.821764,-27.784996399999997],[152.814715,-27.7852994],[152.811838,-27.784514400000006],[152.8114386,-27.786795499999997],[152.8033064,-27.785573200000005],[152.804833,-27.776424399999986],[152.8041168,-27.77632459999999],[152.8055756,-27.7681304],[152.80653380000004,-27.7682488],[152.808017,-27.758778399999994],[152.811052,-27.759027399999997],[152.811397,-27.7548954],[152.8222629,-27.7563748],[152.8230255,-27.75202609999999],[152.8282489,-27.7527155],[152.829264,-27.746774399999993],[152.8345848,-27.7475643],[152.833945,-27.752655399999988],[152.836003,-27.755730399999994],[152.843176,-27.75678439999999],[152.843451,-27.755287399999997],[152.856795,-27.757256399999996],[152.85795,-27.7511104],[152.873349,-27.753346499999992]]]]}},{"type":"Feature","properties":{"suburb_name":"Minden","suburb_areasqkm":22.0622,"address_cnt":4.0,"address_density_sqkm":0.0,"tp":"Suburb : Minden<br>Density per sqkm: 0"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.5647941,-27.569285400000002],[152.5607121,-27.5683664],[152.5543124,-27.570724299999995],[152.545415,-27.5694654],[152.5453511,-27.570514399999997],[152.5138381,-27.566284400000008],[152.5149473,-27.559645100000008],[152.5173809,-27.5599706],[152.5186641,-27.5520074],[152.5230561,-27.551961399999996],[152.52461880000004,-27.543404399999996],[152.5246912,-27.5378504],[152.527059,-27.537451400000002],[152.5305851,-27.538208400000002],[152.5313221,-27.533639399999995],[152.5276689,-27.533161399999997],[152.528501,-27.528155599999998],[152.5324695,-27.5287303],[152.5327881,-27.526829400000008],[152.5364356,-27.527304799999996],[152.54626110000004,-27.5285854],[152.5485401,-27.525955400000004],[152.5534381,-27.526901400000003],[152.56324910000004,-27.5281754],[152.5629061,-27.5302334],[152.5657371,-27.530593400000004],[152.5665831,-27.5255454],[152.5772731,-27.526949999999996],[152.5758981,-27.5345244],[152.5746951,-27.534529400000007],[152.5739471,-27.538319399999995],[152.5750571,-27.540435400000003],[152.5756375,-27.5458265],[152.5703261,-27.545130399999994],[152.5687761,-27.554236099999997],[152.5643092,-27.553629100000002],[152.5636542,-27.557389099999998],[152.5675012,-27.5579128],[152.5658961,-27.566119399999998],[152.5647941,-27.569285400000002]]]]}},{"type":"Feature","properties":{"suburb_name":"Binna Burra (Qld)","suburb_areasqkm":24.3454,"address_cnt":3.0,"address_density_sqkm":0.0,"tp":"Suburb : Binna Burra (Qld)<br>Density per sqkm: 0"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.1578379,-28.168686499999993],[153.157333,-28.165940499999998],[153.158889,-28.1610125],[153.1620869,-28.157851499999996],[153.1633139,-28.155135499999997],[153.1600279,-28.149469499999995],[153.1692099,-28.150779500000006],[153.171537,-28.158092599999996],[153.1751769,-28.158596499999998],[153.18404690000003,-28.159820500000002],[153.1830069,-28.164848499999998],[153.18218,-28.174725499999997],[153.1882499,-28.179142499999998],[153.1875709,-28.180081699999985],[153.186487,-28.1870257],[153.1840538,-28.19295719999999],[153.1934709,-28.1916156],[153.1925623,-28.192996599999997],[153.19269240000003,-28.196529399999992],[153.1942658,-28.200674599999996],[153.1926163,-28.201152799999996],[153.188817,-28.199702399999996],[153.1890139,-28.20400749999999],[153.19149410000003,-28.209613799999993],[153.1947507,-28.214703400000005],[153.194833,-28.218453199999995],[153.1975749,-28.225744699999996],[153.1989484,-28.2363739],[153.2005849,-28.240008499999995],[153.20531870000002,-28.2441791],[153.2085769,-28.249428499999997],[153.2073981,-28.252972600000003],[153.20397090000003,-28.2537545],[153.2031994,-28.255698999999996],[153.1994849,-28.2565355],[153.1943404,-28.253194499999996],[153.1916389,-28.2496435],[153.1885017,-28.247627699999995],[153.1849659,-28.2441585],[153.1842159,-28.240995500000007],[153.1801149,-28.2363875],[153.17936290000003,-28.231445499999992],[153.1757859,-28.22835249999999],[153.1724259,-28.221436499999992],[153.1730149,-28.217612500000005],[153.1715239,-28.2155055],[153.1707679,-28.2083885],[153.1679379,-28.206283499999994],[153.1677869,-28.204965500000004],[153.1636109,-28.198906499999993],[153.16606,-28.1950815],[153.1641929,-28.190074500000005],[153.1636669,-28.18658149999999],[153.1613579,-28.1846075],[153.1591909,-28.1780855],[153.1569559,-28.175583500000005],[153.1559819,-28.170641500000002],[153.1578379,-28.168686499999993]]]]}},{"type":"Feature","properties":{"suburb_name":"Monarch Glen","suburb_areasqkm":9.6565,"address_cnt":2.0,"address_density_sqkm":0.0,"tp":"Suburb : Monarch Glen<br>Density per sqkm: 0"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9372951,-27.796863000000002],[152.9319591,-27.803037699999994],[152.9269584,-27.828709500000002],[152.9335537,-27.829720299999998],[152.93036300000003,-27.8331244],[152.9064946,-27.829643500000003],[152.9021106,-27.822325500000005],[152.90606200000002,-27.8009894],[152.9069658,-27.7961086],[152.9097391,-27.796511799999998],[152.9238217,-27.79855839999999],[152.9239752,-27.797798299999997],[152.932762,-27.799068500000008],[152.9336741,-27.794258400000004],[152.9372951,-27.796863000000002]]]]}},{"type":"Feature","properties":{"suburb_name":"Thorneside","suburb_areasqkm":2.6658,"address_cnt":2415.0,"address_density_sqkm":906.0,"tp":"Suburb : Thorneside<br>Density per sqkm: 906"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.2096681,-27.482293900000002],[153.2124626,-27.489873299999992],[153.2083155,-27.491034199999994],[153.2088614,-27.492593199999988],[153.20213600000002,-27.491597500000005],[153.195664,-27.4890415],[153.186683,-27.4875215],[153.188117,-27.484036499999988],[153.196527,-27.48155450000001],[153.197584,-27.480123499999998],[153.197131,-27.474122499999996],[153.2018124,-27.4727872],[153.2028181,-27.4732755],[153.2039854,-27.4785972],[153.2061784,-27.4812332],[153.2096681,-27.482293900000002]]]]}},{"type":"Feature","properties":{"suburb_name":"Thornlands","suburb_areasqkm":21.6475,"address_cnt":8612.0,"address_density_sqkm":398.0,"tp":"Suburb : Thornlands<br>Density per sqkm: 398"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.255723,-27.5866385],[153.252676,-27.588198500000008],[153.2482231,-27.585687499999995],[153.2450659,-27.5853874],[153.242124,-27.587550500000003],[153.239446,-27.587952499999997],[153.234642,-27.586219499999995],[153.228563,-27.588773500000002],[153.231255,-27.585248500000002],[153.230595,-27.583195500000002],[153.2321,-27.580145500000004],[153.233006,-27.575955499999992],[153.234391,-27.5729295],[153.235612,-27.565570499999993],[153.236936,-27.559838500000005],[153.239349,-27.555047500000004],[153.238003,-27.5545465],[153.240271,-27.546820500000003],[153.242185,-27.546847500000002],[153.279123,-27.5490305],[153.281152,-27.549264499999996],[153.2825477,-27.552070699999998],[153.2852257,-27.552739599999995],[153.2848707,-27.555198599999994],[153.2887536,-27.557393599999994],[153.2905226,-27.560968599999995],[153.28944,-27.564619500000003],[153.289986,-27.569664499999995],[153.289457,-27.572389500000003],[153.294302,-27.573346499999996],[153.293006,-27.57544950000001],[153.294588,-27.578273499999998],[153.291824,-27.578508499999995],[153.289522,-27.5801815],[153.285665,-27.578935500000004],[153.282368,-27.579336499999993],[153.278178,-27.58403149999999],[153.27614,-27.585208500000004],[153.271911,-27.585785500000007],[153.261395,-27.583277499999998],[153.259196,-27.58567449999999],[153.255723,-27.5866385]]]]}},{"type":"Feature","properties":{"suburb_name":"Upper Mount Gravatt","suburb_areasqkm":4.0889,"address_cnt":7252.0,"address_density_sqkm":1774.0,"tp":"Suburb : Upper Mount Gravatt<br>Density per sqkm: 1,774"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.08605700000004,-27.543520499999996],[153.08773910000002,-27.5428534],[153.0924429,-27.543556499999998],[153.0938066,-27.543766599999998],[153.0917401,-27.547171400000003],[153.0882622,-27.565655499999995],[153.089282,-27.56812939999999],[153.087758,-27.568490500000003],[153.078409,-27.5625125],[153.074085,-27.558597500000005],[153.0680037,-27.5513328],[153.0639386,-27.5466048],[153.07470620000004,-27.548304999999996],[153.0750274,-27.546549899999995],[153.0778582,-27.546432000000003],[153.0815669,-27.544819499999996],[153.0857076,-27.545418099999996],[153.08605700000004,-27.543520499999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Wakerley","suburb_areasqkm":4.2902,"address_cnt":3545.0,"address_density_sqkm":826.0,"tp":"Suburb : Wakerley<br>Density per sqkm: 826"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.1415481,-27.4857804],[153.1419842,-27.4839243],[153.1453207,-27.484450200000005],[153.1472232,-27.478653399999992],[153.1408179,-27.475895499999996],[153.145198,-27.474750400000005],[153.1530499,-27.475992399999996],[153.1587902,-27.474850499999988],[153.165611,-27.4758694],[153.1689439,-27.477471500000007],[153.176885,-27.4744535],[153.177989,-27.476047500000004],[153.17484,-27.477631499999998],[153.172788,-27.479701500000004],[153.176404,-27.480286500000002],[153.17586600000004,-27.482987499999997],[153.173094,-27.482553499999998],[153.171375,-27.485495499999995],[153.1670727,-27.484877299999994],[153.1666147,-27.487314299999998],[153.1677262,-27.491304199999988],[153.1638631,-27.491517299999998],[153.164225,-27.489736500000006],[153.15514310000003,-27.4883194],[153.15139700000003,-27.490587399999992],[153.145033,-27.489592399999996],[153.1415481,-27.4857804]]]]}},{"type":"Feature","properties":{"suburb_name":"Walloon","suburb_areasqkm":18.4577,"address_cnt":1784.0,"address_density_sqkm":97.0,"tp":"Suburb : Walloon<br>Density per sqkm: 97"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.6685381,-27.632201399999992],[152.6651911,-27.632639399999995],[152.6625021,-27.630301399999997],[152.657874,-27.630318400000007],[152.6558271,-27.632213399999998],[152.654134,-27.635964399999995],[152.6520731,-27.636718400000007],[152.642217,-27.620613400000007],[152.6527425,-27.614430299999995],[152.6482011,-27.6097494],[152.6450651,-27.604597399999992],[152.6393301,-27.595193399999996],[152.6396741,-27.592942400000002],[152.6407721,-27.586777399999992],[152.6614251,-27.589648400000005],[152.6626741,-27.5876674],[152.6602302,-27.580774400000003],[152.66606,-27.5816624],[152.6660841,-27.576829399999998],[152.6647931,-27.5753384],[152.674223,-27.5760514],[152.681675,-27.578107499999998],[152.6879941,-27.578339399999997],[152.6888651,-27.581256400000004],[152.683034,-27.596189400000007],[152.6833091,-27.597724399999997],[152.6870511,-27.596451400000003],[152.6852651,-27.60630739999999],[152.681023,-27.6086344],[152.67655,-27.608275399999997],[152.6702851,-27.6111474],[152.6688401,-27.613238400000004],[152.6696191,-27.614931400000007],[152.6724501,-27.615607399999995],[152.67118010000002,-27.6184844],[152.6683971,-27.620294400000002],[152.6675921,-27.6223624],[152.6706331,-27.624014399999993],[152.6679781,-27.6280394],[152.6685381,-27.632201399999992]]]]}},{"type":"Feature","properties":{"suburb_name":"Wamuran","suburb_areasqkm":68.3726,"address_cnt":1674.0,"address_density_sqkm":24.0,"tp":"Suburb : Wamuran<br>Density per sqkm: 24"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.8451856,-27.089128900000002],[152.8360911,-27.087962399999995],[152.8342831,-27.085928399999993],[152.8267591,-27.083075400000002],[152.8277211,-27.079081400000003],[152.8230521,-27.073671400000002],[152.81866010000002,-27.0704264],[152.8191781,-27.0668545],[152.8204644,-27.068398000000002],[152.8241234,-27.065672900000006],[152.8240273,-27.063004000000003],[152.8280122,-27.061589900000005],[152.8306152,-27.058803900000004],[152.837015,-27.05550840000001],[152.839335,-27.055707899999998],[152.8464779,-27.0529728],[152.8487751,-27.052754499999995],[152.848608,-27.05060009999999],[152.839088,-27.038863800000005],[152.8308795,-27.044308700000002],[152.8320672,-27.0417204],[152.8278069,-27.038829500000002],[152.824959,-27.03950839999999],[152.8209,-27.037810499999996],[152.8223984,-27.035555100000007],[152.8251311,-27.0367374],[152.8401092,-27.026973399999996],[152.8359566,-27.021483899999993],[152.843261,-27.0168328],[152.8413041,-27.01162160000001],[152.8503904,-27.0057899],[152.8543367,-27.011044],[152.8608111,-27.011992400000004],[152.8638774,-26.995268600000003],[152.860864,-26.994446399999998],[152.8603772,-26.991690400000003],[152.8545471,-26.98752439999999],[152.8557228,-26.9834344],[152.8520292,-26.978804900000004],[152.8529141,-26.9754354],[152.8547731,-26.973901399999995],[152.8544171,-26.9710494],[152.8553521,-26.969129400000003],[152.8606741,-26.966952400000004],[152.8628311,-26.964247400000005],[152.8694431,-26.963180400000006],[152.8734661,-26.96365049999999],[152.8755732,-26.968005399999996],[152.8808162,-26.969735400000005],[152.8821,-26.972699399999993],[152.8866663,-26.973238400000003],[152.8893302,-26.9761284],[152.8901881,-26.978319400000004],[152.89466220000003,-26.982705399999997],[152.8940446,-26.987275700000005],[152.90796200000003,-26.9892144],[152.9078154,-26.992876399999993],[152.9016331,-27.026110400000004],[152.8999211,-27.0354334],[152.8982611,-27.035202400000003],[152.8975071,-27.039916399999996],[152.9005931,-27.040353400000008],[152.9019711,-27.041646399999994],[152.9013591,-27.045507399999998],[152.9034931,-27.045787399999995],[152.9027731,-27.050206399999993],[152.9006619,-27.049928700000002],[152.8995191,-27.057222399999997],[152.8969551,-27.05380239999999],[152.8956031,-27.053530400000003],[152.890807,-27.055183400000008],[152.8881131,-27.0707904],[152.8846931,-27.071208399999996],[152.8827532,-27.073181200000004],[152.8811111,-27.072950399999996],[152.8799401,-27.076144399999993],[152.8790001,-27.0814054],[152.8712012,-27.079719],[152.8707713,-27.081032799999996],[152.8670175,-27.0802473],[152.866004,-27.077249499999994],[152.8636791,-27.075493199999997],[152.8591513,-27.074162499999996],[152.8583231,-27.079091399999996],[152.8609271,-27.0795504],[152.86214490000003,-27.0817622],[152.8467491,-27.0797144],[152.8451856,-27.089128900000002]]]]}},{"type":"Feature","properties":{"suburb_name":"Warner","suburb_areasqkm":10.59,"address_cnt":5162.0,"address_density_sqkm":487.0,"tp":"Suburb : Warner<br>Density per sqkm: 487"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9642571,-27.304481399999997],[152.9637511,-27.3092634],[152.9635311,-27.3133374],[152.9614641,-27.317652999999993],[152.9605431,-27.323905999999997],[152.9635461,-27.3243364],[152.96221,-27.3276094],[152.9606991,-27.33695439999999],[152.9566745,-27.333746899999998],[152.95190410000004,-27.3307404],[152.9460151,-27.329163399999995],[152.9384461,-27.329715399999994],[152.9348371,-27.327812399999996],[152.9353839,-27.32676839999999],[152.9389711,-27.307116399999998],[152.9369431,-27.306820399999996],[152.9399771,-27.289252399999988],[152.9537482,-27.291417000000006],[152.954528,-27.292981399999995],[152.957899,-27.295798399999992],[152.9608222,-27.300273399999995],[152.961904,-27.303035399999995],[152.9642571,-27.304481399999997]]]]}},{"type":"Feature","properties":{"suburb_name":"Woodridge (Qld)","suburb_areasqkm":4.6699,"address_cnt":7288.0,"address_density_sqkm":1561.0,"tp":"Suburb : Woodridge (Qld)<br>Density per sqkm: 1,561"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.118761,-27.638071399999994],[153.1081691,-27.636542399999993],[153.1025031,-27.634701500000006],[153.102116,-27.638744399999997],[153.0982011,-27.6398984],[153.0965032,-27.6396275],[153.0945733,-27.639325499999998],[153.0961602,-27.630327500000003],[153.0946132,-27.631762199999994],[153.09099420000004,-27.628917099999985],[153.0914662,-27.626301600000005],[153.0963426,-27.627028200000005],[153.0974839,-27.622893299999998],[153.0958028,-27.621097199999998],[153.0937061,-27.620813600000005],[153.094709,-27.617349499999996],[153.101076,-27.618078499999996],[153.1158209,-27.620379399999997],[153.1167781,-27.624950400000003],[153.1185299,-27.6284934],[153.1190372,-27.634725399999997],[153.118761,-27.638071399999994]]]]}},{"type":"Feature","properties":{"suburb_name":"Wurtulla","suburb_areasqkm":3.4425,"address_cnt":2823.0,"address_density_sqkm":820.0,"tp":"Suburb : Wurtulla<br>Density per sqkm: 820"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.1157491,-26.760591500000004],[153.1175098,-26.75898859999999],[153.1178141,-26.756388500000003],[153.1233481,-26.751440399999993],[153.1236801,-26.745745399999993],[153.1286581,-26.745782400000003],[153.1302911,-26.7468474],[153.1359361,-26.746437499999992],[153.1362982,-26.7518005],[153.1372542,-26.7572385],[153.1367841,-26.7648895],[153.1340341,-26.7654974],[153.1301021,-26.764263400000004],[153.1232951,-26.7655374],[153.1198881,-26.765011500000004],[153.1157491,-26.760591500000004]]]]}},{"type":"Feature","properties":{"suburb_name":"Yandina","suburb_areasqkm":15.3083,"address_cnt":2232.0,"address_density_sqkm":146.0,"tp":"Suburb : Yandina<br>Density per sqkm: 146"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9783391,-26.579904400000004],[152.967362,-26.57815789999999],[152.9625272,-26.5773314],[152.9620119,-26.580974799999996],[152.9583816,-26.576715300000004],[152.94609650000004,-26.574778299999988],[152.9446515,-26.582109899999992],[152.936575,-26.580822699999988],[152.9306641,-26.579857200000006],[152.9315102,-26.575073400000004],[152.9354361,-26.552586399999992],[152.9321952,-26.5532104],[152.9394652,-26.548627400000008],[152.94871410000002,-26.550110399999998],[152.9491232,-26.5478767],[152.9573095,-26.548931],[152.9608431,-26.547539399999998],[152.9637062,-26.5477784],[152.9622162,-26.5494874],[152.9640893,-26.5526025],[152.9664902,-26.550804400000004],[152.9693051,-26.552183400000004],[152.9718473,-26.554500399999995],[152.9752111,-26.555762500000004],[152.9755088,-26.553965799999997],[152.9885602,-26.5555544],[152.9867301,-26.565674400000002],[152.9825102,-26.567193500000002],[152.9803461,-26.569345399999996],[152.97875120000003,-26.5725144],[152.9779102,-26.577212399999997],[152.9783391,-26.579904400000004]]]]}},{"type":"Feature","properties":{"suburb_name":"Algester","suburb_areasqkm":3.6903,"address_cnt":4104.0,"address_density_sqkm":1112.0,"tp":"Suburb : Algester<br>Density per sqkm: 1,112"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0325272,-27.628140900000002],[153.0225422,-27.62630130000001],[153.0225513,-27.621581000000003],[153.0237842,-27.616355999999996],[153.025284,-27.6128614],[153.0271111,-27.609581000000002],[153.0308501,-27.607093999999993],[153.032668,-27.603994],[153.032263,-27.601759],[153.0280854,-27.597502500000004],[153.039806,-27.599042399999988],[153.042973,-27.604118099999997],[153.0424579,-27.6098649],[153.0406769,-27.6120609],[153.0352861,-27.616508],[153.0333408,-27.62148689999999],[153.0325272,-27.628140900000002]]]]}},{"type":"Feature","properties":{"suburb_name":"Ashgrove","suburb_areasqkm":5.8255,"address_cnt":7155.0,"address_density_sqkm":1228.0,"tp":"Suburb : Ashgrove<br>Density per sqkm: 1,228"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.991612,-27.448897400000003],[152.9872661,-27.4486554],[152.98520010000001,-27.4474385],[152.9837571,-27.4494794],[152.9799161,-27.451189399999997],[152.9774208,-27.454991700000004],[152.9726875,-27.452625],[152.9707017,-27.453642399999996],[152.967781,-27.452854400000003],[152.964983,-27.454874399999998],[152.96238200000002,-27.454956400000007],[152.963041,-27.4512354],[152.966342,-27.452418400000006],[152.967844,-27.450557399999994],[152.9665732,-27.4489066],[152.9665241,-27.445957399999994],[152.9624699,-27.4453744],[152.96324600000003,-27.441036400000005],[152.9715715,-27.442132800000007],[152.9737797,-27.4400757],[152.9754077,-27.4407847],[152.9761681,-27.4368844],[152.9825991,-27.4379524],[152.9838665,-27.430912699999997],[152.98703020000002,-27.4320285],[152.9917884,-27.431921599999995],[152.9949006,-27.43145670000001],[152.9940994,-27.436478600000004],[152.998313,-27.437605400000002],[153.0006461,-27.435559399999992],[153.005765,-27.436213400000003],[153.0064001,-27.438823399999993],[153.001171,-27.440060499999994],[153.002824,-27.442441399999996],[153.0020451,-27.445091499999997],[153.0003591,-27.446420499999995],[152.999995,-27.4491204],[152.9958121,-27.446134400000005],[152.995119,-27.448749399999993],[152.991612,-27.448897400000003]]]]}},{"type":"Feature","properties":{"suburb_name":"Banksia Beach","suburb_areasqkm":6.0489,"address_cnt":4121.0,"address_density_sqkm":681.0,"tp":"Suburb : Banksia Beach<br>Density per sqkm: 681"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.1544791,-27.030356500000003],[153.1492461,-27.032882499999996],[153.14748940000004,-27.042954799999997],[153.1498741,-27.0432887],[153.14921410000002,-27.04715549999999],[153.1522212,-27.046739499999997],[153.1536985,-27.049233000000005],[153.1558839,-27.050957399999998],[153.1565542,-27.0528484],[153.1555871,-27.056618500000003],[153.1520321,-27.057943499999993],[153.1431591,-27.054192500000003],[153.1391401,-27.054268500000003],[153.1362201,-27.0550965],[153.1345496,-27.0518386],[153.1317905,-27.038868699999995],[153.1322155,-27.0360217],[153.1367891,-27.031247499999996],[153.1428163,-27.031983400000005],[153.139073,-27.0272035],[153.1384891,-27.025146500000005],[153.142187,-27.020736899999992],[153.1512966,-27.022007099999996],[153.1544791,-27.030356500000003]]]]}},{"type":"Feature","properties":{"suburb_name":"Battery Hill","suburb_areasqkm":0.9276,"address_cnt":1293.0,"address_density_sqkm":1394.0,"tp":"Suburb : Battery Hill<br>Density per sqkm: 1,394"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.1297511,-26.785224400000008],[153.1230271,-26.7847434],[153.1260571,-26.77827339999999],[153.1239741,-26.772808400000002],[153.1286061,-26.773423400000002],[153.1317341,-26.774610400000007],[153.1354001,-26.77772149999999],[153.1303141,-26.7817064],[153.1297511,-26.785224400000008]]]]}},{"type":"Feature","properties":{"suburb_name":"Beerwah","suburb_areasqkm":58.6101,"address_cnt":3959.0,"address_density_sqkm":68.0,"tp":"Suburb : Beerwah<br>Density per sqkm: 68"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.8957921,-26.891067399999994],[152.8945911,-26.885926200000007],[152.895781,-26.882025200000008],[152.8944791,-26.879671199999997],[152.8952389,-26.872170200000006],[152.8925309,-26.868437199999992],[152.8916051,-26.861777399999998],[152.8989471,-26.8627864],[152.90130410000003,-26.84904139999999],[152.9044101,-26.849284400000002],[152.9079921,-26.84813039999999],[152.9159771,-26.84930440000001],[152.9199751,-26.827923400000003],[152.9281981,-26.8291704],[152.9274581,-26.8329944],[152.9401901,-26.8348454],[152.9434122,-26.833042399999993],[152.9450971,-26.830265400000002],[152.9485821,-26.828379400000003],[152.9484771,-26.824922400000002],[152.9508787,-26.8221565],[152.9552301,-26.8240084],[152.9581341,-26.827594399999995],[152.9664081,-26.830461400000004],[152.9668901,-26.827521399999995],[152.9794771,-26.829189400000004],[152.9841131,-26.831466399999993],[152.9845005,-26.8357165],[153.0059731,-26.8385514],[153.0058501,-26.8403894],[153.0112041,-26.84359540000001],[153.0161071,-26.848451399999995],[153.0227121,-26.850827400000004],[153.0279121,-26.8499354],[153.0228851,-26.8557404],[153.0185941,-26.8593784],[153.0137211,-26.864994400000004],[153.0103641,-26.8709244],[153.0083221,-26.877096399999992],[153.0057651,-26.879092400000005],[153.0037571,-26.879041399999995],[153.0027381,-26.8847584],[152.9987401,-26.8841854],[152.9966911,-26.881510399999996],[152.9927651,-26.881490399999993],[152.9900581,-26.880374400000004],[152.9868721,-26.884052399999998],[152.9840861,-26.883105399999994],[152.9779911,-26.879575399999993],[152.9751331,-26.878885399999998],[152.9736121,-26.8770224],[152.9603161,-26.8752144],[152.9621031,-26.878968400000005],[152.9541431,-26.877674400000007],[152.9577201,-26.871818399999995],[152.9583145,-26.8679045],[152.9549921,-26.867227399999994],[152.9487431,-26.868116399999998],[152.9447341,-26.8691924],[152.9439661,-26.8716024],[152.9404051,-26.8722404],[152.9398711,-26.875311399999998],[152.9358941,-26.874633400000004],[152.9355481,-26.876613399999997],[152.9309991,-26.8767644],[152.9304631,-26.879980399999997],[152.9282581,-26.879679399999997],[152.9273181,-26.885463400000003],[152.9171081,-26.884062400000005],[152.9152791,-26.8881634],[152.9118261,-26.8876204],[152.9088881,-26.88939939999999],[152.9049621,-26.889114399999997],[152.9044351,-26.892269399999996],[152.8957921,-26.891067399999994]]]]}},{"type":"Feature","properties":{"suburb_name":"Bellmere","suburb_areasqkm":23.6699,"address_cnt":2985.0,"address_density_sqkm":126.0,"tp":"Suburb : Bellmere<br>Density per sqkm: 126"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.880215,-27.104017399999996],[152.8810092,-27.0997174],[152.8756037,-27.098965099999997],[152.8760661,-27.0965654],[152.8603781,-27.094502400000003],[152.85998210000002,-27.095939399999995],[152.8618701,-27.0984764],[152.8614381,-27.102060399999996],[152.8434505,-27.09957989999999],[152.8451856,-27.089128900000002],[152.8467491,-27.0797144],[152.86214490000003,-27.0817622],[152.8609271,-27.0795504],[152.8583231,-27.079091399999996],[152.8591513,-27.074162499999996],[152.8636791,-27.075493199999997],[152.866004,-27.077249499999994],[152.8670175,-27.0802473],[152.8707713,-27.081032799999996],[152.8712012,-27.079719],[152.8790001,-27.0814054],[152.8799401,-27.076144399999993],[152.8811111,-27.072950399999996],[152.8827532,-27.073181200000004],[152.8846931,-27.071208399999996],[152.8881131,-27.0707904],[152.890807,-27.055183400000008],[152.8956031,-27.053530400000003],[152.8969551,-27.05380239999999],[152.8995191,-27.057222399999997],[152.9017241,-27.058808399999993],[152.9014581,-27.062297399999995],[152.9066401,-27.066221399999993],[152.9115131,-27.068173400000003],[152.9137444,-27.069844399999997],[152.9162447,-27.0703333],[152.918474,-27.0724905],[152.9184279,-27.076393900000003],[152.9194291,-27.078740900000003],[152.9240461,-27.0832711],[152.9260084,-27.083068599999997],[152.92739250000002,-27.0810261],[152.9348521,-27.082940400000005],[152.93586760000002,-27.086782499999995],[152.9325821,-27.088554099999993],[152.9324533,-27.090957799999998],[152.9308778,-27.092156500000005],[152.9297649,-27.098354600000004],[152.9326692,-27.099267400000002],[152.9299583,-27.09942639999999],[152.9186062,-27.095819099999996],[152.9168813,-27.097490099999998],[152.9120052,-27.098460399999993],[152.9104403,-27.0971174],[152.9116733,-27.095249500000005],[152.9089689,-27.094101399999992],[152.90514500000003,-27.094146400000003],[152.8999085,-27.097766200000002],[152.8983086,-27.0977502],[152.8985716,-27.09390019999999],[152.8907097,-27.097519300000002],[152.8905327,-27.100485299999992],[152.8873841,-27.1015284],[152.8842374,-27.1046324],[152.880215,-27.104017399999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Bracken Ridge","suburb_areasqkm":8.1103,"address_cnt":7484.0,"address_density_sqkm":923.0,"tp":"Suburb : Bracken Ridge<br>Density per sqkm: 923"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0464801,-27.311844399999995],[153.0503952,-27.3206629],[153.0514479,-27.324280500000004],[153.0511833,-27.3295701],[153.04653610000003,-27.330488399999997],[153.04553310000003,-27.330632499999997],[153.036994,-27.332816500000003],[153.017153,-27.329743799999996],[153.013834,-27.3232974],[153.0182975,-27.322574000000003],[153.020249,-27.3120134],[153.024566,-27.310570399999996],[153.0281391,-27.3074904],[153.0303636,-27.309034799999992],[153.0360761,-27.308898399999997],[153.0376521,-27.3067204],[153.037039,-27.303704399999994],[153.038892,-27.301758399999997],[153.0422411,-27.3028625],[153.0439041,-27.305503400000003],[153.0464801,-27.311844399999995]]]]}},{"type":"Feature","properties":{"suburb_name":"Burleigh Heads","suburb_areasqkm":10.235,"address_cnt":12489.0,"address_density_sqkm":1220.0,"tp":"Suburb : Burleigh Heads<br>Density per sqkm: 1,220"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.4425079,-28.114486499999995],[153.4382349,-28.113406499999996],[153.4379111,-28.115242],[153.4339679,-28.1197935],[153.4295449,-28.119285500000007],[153.4257279,-28.124364499999995],[153.4212759,-28.123048500000007],[153.4173739,-28.118940500000004],[153.4148419,-28.119842499999997],[153.4116779,-28.116983500000003],[153.4094489,-28.113075499999997],[153.4082879,-28.109325499999997],[153.4037069,-28.1020825],[153.4076799,-28.102144500000005],[153.41691790000002,-28.100538499999995],[153.4192399,-28.100611500000007],[153.4313549,-28.1020475],[153.4381189,-28.101069500000005],[153.4417079,-28.0993535],[153.44290190000004,-28.0979245],[153.4432409,-28.0938165],[153.4424619,-28.092117499999997],[153.4457201,-28.089377099999997],[153.4455498,-28.083319499999995],[153.443038,-28.077649199999996],[153.4475869,-28.076048099999998],[153.450367,-28.083593099999998],[153.454396,-28.089018099999993],[153.4593859,-28.0901105],[153.4607139,-28.092380000000002],[153.4603109,-28.095740500000005],[153.4596979,-28.096686500000004],[153.4535149,-28.1013005],[153.4480009,-28.103726499999993],[153.4474009,-28.1056865],[153.4498809,-28.107576499999997],[153.4484009,-28.109656499999996],[153.4460009,-28.110336499999995],[153.4425079,-28.114486499999995]]]]}},{"type":"Feature","properties":{"suburb_name":"Caboolture","suburb_areasqkm":68.5296,"address_cnt":18022.0,"address_density_sqkm":263.0,"tp":"Suburb : Caboolture<br>Density per sqkm: 263"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0383541,-27.091535500000003],[153.0310971,-27.0905234],[153.0297921,-27.09778339999999],[153.0258521,-27.097275399999997],[153.0271081,-27.090002500000004],[153.0086541,-27.0875184],[153.0034501,-27.0913984],[153.0010141,-27.0920904],[153.0019191,-27.095466399999996],[153.0003671,-27.096776399999996],[153.0012691,-27.098880399999988],[153.0004301,-27.100851399999996],[152.9984469,-27.10406949999999],[152.9950991,-27.10473539999999],[152.9945801,-27.100623400000003],[152.9910572,-27.098309500000003],[152.9865321,-27.100048399999995],[152.9853711,-27.097516399999993],[152.9831441,-27.0957604],[152.9793781,-27.09482639999999],[152.9772951,-27.0897384],[152.9749692,-27.090161500000004],[152.970999,-27.094889300000002],[152.9684835,-27.094789399999996],[152.9677719,-27.091097500000004],[152.9609192,-27.088348999999997],[152.9595117,-27.086894799999996],[152.9553696,-27.086497799999997],[152.9523079,-27.089280299999995],[152.9479338,-27.0912149],[152.9462446,-27.090901299999995],[152.9417028,-27.08731759999999],[152.93586760000002,-27.086782499999995],[152.9348521,-27.082940400000005],[152.92739250000002,-27.0810261],[152.9260084,-27.083068599999997],[152.9240461,-27.0832711],[152.9194291,-27.078740900000003],[152.9184279,-27.076393900000003],[152.918474,-27.0724905],[152.9162447,-27.0703333],[152.9137444,-27.069844399999997],[152.91486,-27.068079199999996],[152.9098049,-27.061826799999995],[152.9213804,-27.067582600000005],[152.9219891,-27.063977399999995],[152.9166441,-27.0631254],[152.9179561,-27.0559524],[152.9218391,-27.0565274],[152.9228981,-27.0506524],[152.9160249,-27.049602],[152.9172331,-27.042210900000004],[152.9139671,-27.041735200000005],[152.9112921,-27.042870399999995],[152.9019711,-27.041646399999994],[152.9005931,-27.040353400000008],[152.8975071,-27.039916399999996],[152.8982611,-27.035202400000003],[152.8999211,-27.0354334],[152.9016331,-27.026110400000004],[152.9300891,-27.030188400000004],[152.9322024,-27.0352312],[152.9334034,-27.041326199999993],[152.9471041,-27.043292400000006],[152.9484691,-27.0438984],[152.9612371,-27.045403],[152.9616541,-27.042386399999998],[152.9696129,-27.043347900000004],[152.9757781,-27.0407604],[152.9893711,-27.039785399999996],[152.998371,-27.0412135],[153.003002,-27.0402004],[153.010476,-27.0352984],[153.0165021,-27.032626599999993],[153.018126,-27.031247600000004],[153.024971,-27.029835399999996],[153.023567,-27.0376814],[153.0362631,-27.039621399999994],[153.0356371,-27.0442855],[153.0398001,-27.044770500000002],[153.0366421,-27.0629594],[153.0280281,-27.061815399999997],[153.0275071,-27.0636565],[153.0289141,-27.068181400000004],[153.0281669,-27.072473399999996],[153.0266323,-27.07258039999999],[153.0253811,-27.0806314],[153.0285441,-27.081076399999997],[153.0282589,-27.0828409],[153.0354863,-27.083678899999995],[153.0348771,-27.08814539999999],[153.03609,-27.090520600000005],[153.0383541,-27.091535500000003]]]]}},{"type":"Feature","properties":{"suburb_name":"Coopers Plains","suburb_areasqkm":4.2213,"address_cnt":4329.0,"address_density_sqkm":1026.0,"tp":"Suburb : Coopers Plains<br>Density per sqkm: 1,026"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0486719,-27.5696984],[153.0478496,-27.574114999999985],[153.044553,-27.5746034],[153.037638,-27.574216400000008],[153.0324208,-27.573394099999994],[153.0305862,-27.570137399999997],[153.0289157,-27.5692967],[153.0293672,-27.5767383],[153.02662,-27.576347499999997],[153.0260609,-27.57248510000001],[153.02473,-27.5722924],[153.02324300000004,-27.564586399999996],[153.020763,-27.5584734],[153.024773,-27.557416400000008],[153.0323449,-27.562164199999998],[153.0339849,-27.558924899999997],[153.0382392,-27.55939789999999],[153.0378968,-27.561449800000005],[153.0396155,-27.562782200000004],[153.0406461,-27.55724439999999],[153.0472433,-27.558311999999994],[153.052174,-27.558965399999995],[153.0505533,-27.559516399999996],[153.0486719,-27.5696984]]]]}},{"type":"Feature","properties":{"suburb_name":"Currimundi","suburb_areasqkm":3.6387,"address_cnt":3320.0,"address_density_sqkm":912.0,"tp":"Suburb : Currimundi<br>Density per sqkm: 912"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.1383271,-26.777936499999996],[153.1354001,-26.77772149999999],[153.1317341,-26.774610400000007],[153.1286061,-26.773423400000002],[153.1239741,-26.772808400000002],[153.1260571,-26.77827339999999],[153.1150431,-26.775592499999995],[153.1095062,-26.7748755],[153.109395,-26.774862399999996],[153.1118614,-26.75966620000001],[153.1119301,-26.757362399999998],[153.1142155,-26.756433900000005],[153.1157491,-26.760591500000004],[153.1198881,-26.765011500000004],[153.1232951,-26.7655374],[153.1301021,-26.764263400000004],[153.1340341,-26.7654974],[153.1367841,-26.7648895],[153.137056,-26.773785400000005],[153.1383271,-26.777936499999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Dakabin","suburb_areasqkm":5.5668,"address_cnt":2661.0,"address_density_sqkm":478.0,"tp":"Suburb : Dakabin<br>Density per sqkm: 478"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9768882,-27.2343503],[152.9747394,-27.227473199999988],[152.9707194,-27.221340299999998],[152.9697834,-27.218763299999996],[152.9670973,-27.215150900000005],[152.9695299,-27.2145095],[152.9712491,-27.215427400000006],[152.97471100000004,-27.21514939999999],[152.9778301,-27.213907400000004],[152.9790021,-27.212367399999994],[152.9919111,-27.211765399999994],[152.99845,-27.221696399999992],[153.0032588,-27.231697999999998],[152.9955651,-27.230398400000006],[152.991428,-27.227984399999993],[152.9927241,-27.2335934],[152.9810582,-27.231968499999997],[152.9803841,-27.2348624],[152.9768882,-27.2343503]]]]}},{"type":"Feature","properties":{"suburb_name":"Eagle Farm","suburb_areasqkm":5.5274,"address_cnt":1038.0,"address_density_sqkm":188.0,"tp":"Suburb : Eagle Farm<br>Density per sqkm: 188"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.095239,-27.428418900000004],[153.099807,-27.428090500000003],[153.1022612,-27.428619499999996],[153.1003958,-27.4368158],[153.1019087,-27.4399235],[153.106758,-27.43785550000001],[153.107355,-27.440383499999992],[153.092943,-27.445315799999996],[153.089339,-27.445639400000005],[153.0847671,-27.441302100000005],[153.085382,-27.439864499999995],[153.078051,-27.43922349999999],[153.070823,-27.4376454],[153.0777251,-27.435387999999996],[153.0773181,-27.431709999999995],[153.0817089,-27.430779000000005],[153.079633,-27.427229400000005],[153.080003,-27.424567399999997],[153.0802479,-27.421812399999986],[153.079295,-27.4200945],[153.08436110000002,-27.4189634],[153.086033,-27.41536749999999],[153.08950000000002,-27.4153815],[153.094396,-27.419950500000002],[153.092976,-27.428577699999998],[153.095239,-27.428418900000004]]]]}},{"type":"Feature","properties":{"suburb_name":"Fairfield (Qld)","suburb_areasqkm":1.1845,"address_cnt":2007.0,"address_density_sqkm":1694.0,"tp":"Suburb : Fairfield (Qld)<br>Density per sqkm: 1,694"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0244593,-27.512886699999996],[153.0166689,-27.51170359999999],[153.017935,-27.5050855],[153.022267,-27.5027365],[153.0228221,-27.50023539999999],[153.0263782,-27.500794399999997],[153.028819,-27.500105599999998],[153.028319,-27.502164499999996],[153.0288751,-27.505736399999996],[153.027635,-27.5101534],[153.0244593,-27.512886699999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Forest Lake","suburb_areasqkm":9.8224,"address_cnt":9688.0,"address_density_sqkm":986.0,"tp":"Suburb : Forest Lake<br>Density per sqkm: 986"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.971344,-27.637598400000012],[152.965774,-27.63526939999999],[152.955584,-27.6345664],[152.948201,-27.632480400000002],[152.941663,-27.626475400000004],[152.940723,-27.6234204],[152.94089000000002,-27.622554400000002],[152.955044,-27.624838399999994],[152.9576723,-27.6118995],[152.942726,-27.609518399999995],[152.943826,-27.603908399999998],[152.954246,-27.601913399999994],[152.9568003,-27.601719700000004],[152.9595622,-27.601266500000005],[152.961427,-27.609222399999997],[152.9717708,-27.607152500000005],[152.971602,-27.6089055],[152.9775678,-27.6098193],[152.975052,-27.6230014],[152.977159,-27.623331399999998],[152.9785201,-27.621469500000003],[152.981548,-27.621195399999998],[152.983408,-27.623403399999994],[152.984882,-27.621364399999994],[152.984907,-27.621904400000005],[152.983549,-27.6237904],[152.9794612,-27.624602500000005],[152.9790292,-27.628320499999997],[152.979924,-27.63158439999999],[152.9790872,-27.6332701],[152.986738,-27.634366399999998],[152.9855236,-27.640974600000003],[152.9801272,-27.639374399999998],[152.97502,-27.6360534],[152.971344,-27.637598400000012]]]]}},{"type":"Feature","properties":{"suburb_name":"Geebung","suburb_areasqkm":3.7941,"address_cnt":3282.0,"address_density_sqkm":865.0,"tp":"Suburb : Geebung<br>Density per sqkm: 865"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0502521,-27.361253400000003],[153.0576489,-27.362326300000003],[153.0595751,-27.3636586],[153.0590829,-27.36632729999999],[153.0567471,-27.36716240000001],[153.0553559,-27.37486730000001],[153.059055,-27.37806919999999],[153.0602141,-27.3810825],[153.0580361,-27.3832864],[153.054203,-27.381140399999992],[153.0459547,-27.3795559],[153.046229,-27.3780295],[153.0388551,-27.3771291],[153.0350284,-27.37705250000001],[153.0353763,-27.374189399999995],[153.0361138,-27.370530799999997],[153.0339604,-27.370206200000002],[153.0346757,-27.366486399999992],[153.0434361,-27.367802099999995],[153.04329720000004,-27.3639904],[153.0465441,-27.3644664],[153.04721610000004,-27.360846400000003],[153.0502521,-27.361253400000003]]]]}},{"type":"Feature","properties":{"suburb_name":"Holmview","suburb_areasqkm":4.0226,"address_cnt":2674.0,"address_density_sqkm":665.0,"tp":"Suburb : Holmview<br>Density per sqkm: 665"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.176313,-27.698131500000006],[153.181298,-27.698864499999996],[153.183071,-27.6997065],[153.1787309,-27.7239604],[153.1738201,-27.7232654],[153.173093,-27.726224499999994],[153.16957,-27.725760499999993],[153.16706,-27.7264255],[153.163005,-27.7256925],[153.159758,-27.723064499999996],[153.159234,-27.7206665],[153.1579268,-27.71691],[153.1608151,-27.7091495],[153.16243,-27.710707499999998],[153.167643,-27.71160449999999],[153.168039,-27.709346500000002],[153.17319200000003,-27.707811499999995],[153.1762591,-27.708490499999993],[153.1784731,-27.7051515],[153.1797442,-27.701886500000004],[153.1761249,-27.699068499999996],[153.176313,-27.698131500000006]]]]}},{"type":"Feature","properties":{"suburb_name":"Kangaroo Point (Qld)","suburb_areasqkm":1.3337,"address_cnt":9564.0,"address_density_sqkm":7171.0,"tp":"Suburb : Kangaroo Point (Qld)<br>Density per sqkm: 7,171"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.041913,-27.476433399999994],[153.0401757,-27.485170099999994],[153.0392758,-27.48503419999999],[153.03055990000001,-27.483739399999997],[153.0302331,-27.482104399999997],[153.03311980000004,-27.4804071],[153.0343588,-27.476560099999993],[153.0339107,-27.467744099999994],[153.0343507,-27.465108099999995],[153.0360442,-27.46485540000001],[153.038459,-27.469014399999995],[153.0399577,-27.475032099999996],[153.041913,-27.476433399999994]]]]}},{"type":"Feature","properties":{"suburb_name":"Kenmore Hills","suburb_areasqkm":4.2279,"address_cnt":988.0,"address_density_sqkm":234.0,"tp":"Suburb : Kenmore Hills<br>Density per sqkm: 234"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.930307,-27.5045364],[152.93083400000003,-27.502411399999996],[152.925883,-27.501845399999997],[152.926769,-27.5046724],[152.921339,-27.506080400000002],[152.9193991,-27.505909399999997],[152.9176471,-27.50382439999999],[152.9138282,-27.504086400000002],[152.912627,-27.50201240000001],[152.9168341,-27.496255399999992],[152.9216141,-27.4933964],[152.92257,-27.490616400000008],[152.9257989,-27.489337399999997],[152.927601,-27.482491499999995],[152.9274365,-27.480611800000002],[152.93765110000004,-27.482394999999997],[152.9363109,-27.483549399999998],[152.937041,-27.4868014],[152.9358091,-27.4931644],[152.9383769,-27.498130399999997],[152.9389569,-27.502843399999996],[152.9423632,-27.507302399999993],[152.9405261,-27.506425499999995],[152.9372961,-27.502616700000004],[152.9356571,-27.5023594],[152.931645,-27.507481299999995],[152.9299691,-27.507206399999994],[152.930307,-27.5045364]]]]}},{"type":"Feature","properties":{"suburb_name":"Logan Reserve","suburb_areasqkm":14.6115,"address_cnt":7106.0,"address_density_sqkm":486.0,"tp":"Suburb : Logan Reserve<br>Density per sqkm: 486"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.12038900000002,-27.743310499999993],[153.087173,-27.738597500000004],[153.088508,-27.73406539999999],[153.0901349,-27.7260135],[153.0905651,-27.7219005],[153.09237,-27.7158735],[153.093898,-27.707171499999998],[153.0993066,-27.700154399999995],[153.1023905,-27.695434299999995],[153.1025124,-27.692418299999996],[153.1110304,-27.6937163],[153.1116064,-27.6903604],[153.1195919,-27.691445499999997],[153.1189702,-27.694549500000004],[153.1233998,-27.6952206],[153.1263559,-27.694931900000004],[153.1251012,-27.699155299999997],[153.1248165,-27.704407199999995],[153.1226524,-27.7092208],[153.1224043,-27.715043199999993],[153.123585,-27.719181400000007],[153.123399,-27.721528500000005],[153.113492,-27.7287885],[153.109296,-27.730509499999997],[153.109042,-27.731974499999996],[153.119404,-27.7375435],[153.120953,-27.740871500000004],[153.12038900000002,-27.743310499999993]]]]}},{"type":"Feature","properties":{"suburb_name":"Mango Hill","suburb_areasqkm":14.5228,"address_cnt":7217.0,"address_density_sqkm":497.0,"tp":"Suburb : Mango Hill<br>Density per sqkm: 497"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0585541,-27.228622500000004],[153.0545721,-27.229762399999995],[153.0559434,-27.23471219999999],[153.058049,-27.236190199999996],[153.0615771,-27.237134599999994],[153.062741,-27.2412035],[153.066754,-27.2468125],[153.067947,-27.250057500000004],[153.069293,-27.25675949999999],[153.072484,-27.261591399999993],[153.075994,-27.263742400000005],[153.078626,-27.264492499999992],[153.0704391,-27.265742400000004],[153.063737,-27.263296400000005],[153.0604981,-27.263177500000005],[153.056648,-27.2610554],[153.056097,-27.2584104],[153.0584291,-27.2536094],[153.056407,-27.253134499999994],[153.054886,-27.255394399999993],[153.05159710000004,-27.256076500000002],[153.0499051,-27.25515439999999],[153.050831,-27.2527684],[153.0477435,-27.250421900000003],[153.0427317,-27.2511904],[153.042118,-27.2549],[153.0386891,-27.2561234],[153.0353001,-27.2550174],[153.034074,-27.2573505],[153.0288371,-27.255500499999997],[153.0288891,-27.2522095],[153.0261601,-27.251698400000002],[153.0252841,-27.2503154],[153.0180931,-27.248670399999998],[153.0168651,-27.246939399999995],[153.0201181,-27.2432195],[153.0266072,-27.240885400000007],[153.0308199,-27.233911499999998],[153.029269,-27.2306826],[153.0257492,-27.23016120000001],[153.0268711,-27.223830400000004],[153.022311,-27.217156399999993],[153.0325711,-27.218599400000002],[153.0331571,-27.218359400000004],[153.036629,-27.218505399999998],[153.0398201,-27.221441499999997],[153.042182,-27.221927400000002],[153.0455611,-27.228190399999992],[153.0492821,-27.227537399999996],[153.0512171,-27.228651399999997],[153.0528391,-27.226585499999995],[153.0515421,-27.22344440000001],[153.0553071,-27.223502399999994],[153.0595891,-27.222050399999997],[153.06155910000004,-27.225131399999995],[153.0585541,-27.228622500000004]]]]}},{"type":"Feature","properties":{"suburb_name":"Minyama","suburb_areasqkm":2.1136,"address_cnt":1480.0,"address_density_sqkm":700.0,"tp":"Suburb : Minyama<br>Density per sqkm: 700"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.1145611,-26.696576399999998],[153.1146341,-26.696457400000003],[153.1181531,-26.694398500000002],[153.1205011,-26.690939499999992],[153.1197431,-26.686536500000003],[153.1218981,-26.6850494],[153.1258711,-26.685912400000003],[153.1276021,-26.687174399999993],[153.1280567,-26.6915372],[153.1295382,-26.694605699999993],[153.1279386,-26.700836199999994],[153.1263481,-26.70142649999999],[153.1258621,-26.705713399999997],[153.1228201,-26.7070715],[153.1216211,-26.7040634],[153.1187361,-26.702467400000007],[153.1169841,-26.698253399999995],[153.1145611,-26.696576399999998]]]]}},{"type":"Feature","properties":{"suburb_name":"Molendinar","suburb_areasqkm":7.6539,"address_cnt":4226.0,"address_density_sqkm":552.0,"tp":"Suburb : Molendinar<br>Density per sqkm: 552"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.3415169,-27.984528500000007],[153.342547,-27.979583499999997],[153.3443839,-27.976942499999996],[153.3461129,-27.9746575],[153.3471269,-27.97105049999999],[153.3466989,-27.9668975],[153.34524390000004,-27.9606375],[153.3551249,-27.9617645],[153.3707699,-27.964169500000004],[153.3764739,-27.964654499999998],[153.3760369,-27.968654500000007],[153.3776829,-27.973125499999984],[153.3809649,-27.976823499999995],[153.3786879,-27.979772499999996],[153.3750859,-27.982075499999997],[153.3684909,-27.983704500000005],[153.3655799,-27.9851565],[153.3588839,-27.987375499999995],[153.3563669,-27.987410500000003],[153.352679,-27.9843845],[153.3479989,-27.9819295],[153.3463849,-27.981922499999992],[153.3415169,-27.984528500000007]]]]}},{"type":"Feature","properties":{"suburb_name":"Mount Gravatt","suburb_areasqkm":2.9267,"address_cnt":2480.0,"address_density_sqkm":847.0,"tp":"Suburb : Mount Gravatt<br>Density per sqkm: 847"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0639386,-27.5466048],[153.0607492,-27.542802499999993],[153.058861,-27.538170899999997],[153.066074,-27.53930340000001],[153.0636282,-27.536122500000005],[153.0668537,-27.534682600000004],[153.0656267,-27.533124500000007],[153.0716619,-27.529353400000005],[153.0724382,-27.528864099999996],[153.0761529,-27.532792499999996],[153.0763546,-27.534974899999998],[153.0813891,-27.540971400000007],[153.0817541,-27.54240890000001],[153.08605700000004,-27.543520499999996],[153.0857076,-27.545418099999996],[153.0815669,-27.544819499999996],[153.0778582,-27.546432000000003],[153.0750274,-27.546549899999995],[153.07470620000004,-27.548304999999996],[153.0639386,-27.5466048]]]]}},{"type":"Feature","properties":{"suburb_name":"Mount Gravatt East","suburb_areasqkm":4.6164,"address_cnt":6794.0,"address_density_sqkm":1472.0,"tp":"Suburb : Mount Gravatt East<br>Density per sqkm: 1,472"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.08605700000004,-27.543520499999996],[153.0817541,-27.54240890000001],[153.0813891,-27.540971400000007],[153.0763546,-27.534974899999998],[153.0761529,-27.532792499999996],[153.0724382,-27.528864099999996],[153.0837442,-27.521734499999997],[153.0847076,-27.5168895],[153.0885711,-27.515893500000004],[153.0899531,-27.5168785],[153.097201,-27.517490399999993],[153.0944048,-27.532605500000003],[153.0965247,-27.5329117],[153.0932331,-27.538975499999996],[153.0924429,-27.543556499999998],[153.08773910000002,-27.5428534],[153.08605700000004,-27.543520499999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Mount Warren Park","suburb_areasqkm":4.1863,"address_cnt":3101.0,"address_density_sqkm":741.0,"tp":"Suburb : Mount Warren Park<br>Density per sqkm: 741"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.20125,-27.7400085],[153.198427,-27.7369985],[153.193349,-27.737597499999996],[153.193505,-27.735171499999993],[153.191805,-27.730351499999998],[153.19227,-27.7285915],[153.195431,-27.7218025],[153.207027,-27.7234445],[153.209384,-27.7242455],[153.218291,-27.725206499999995],[153.219096,-27.7271745],[153.21623,-27.727385499999997],[153.218349,-27.7307935],[153.219829,-27.7347445],[153.218336,-27.7369105],[153.209422,-27.739671499999993],[153.20732240000004,-27.738969600000004],[153.20125,-27.7400085]]]]}},{"type":"Feature","properties":{"suburb_name":"Munruben","suburb_areasqkm":12.5283,"address_cnt":1206.0,"address_density_sqkm":96.0,"tp":"Suburb : Munruben<br>Density per sqkm: 96"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.061202,-27.739120500000002],[153.0602111,-27.7448538],[153.051247,-27.743564500000005],[153.0489008,-27.7566884],[153.045393,-27.759848500000004],[153.0421506,-27.7594146],[153.040935,-27.7659725],[153.052047,-27.767525499999998],[153.047379,-27.772453399999996],[153.043849,-27.774462499999988],[153.041927,-27.773761499999996],[153.041001,-27.7693565],[153.0354689,-27.7617705],[153.032709,-27.763507399999998],[153.031115,-27.761861399999994],[153.02514700000003,-27.7610345],[153.022377,-27.759267399999995],[153.023081,-27.7575974],[153.0116731,-27.75601109999999],[153.012315,-27.752582399999998],[153.00742600000004,-27.75186439999999],[153.010878,-27.733322499999996],[153.011158,-27.7324477],[153.0218169,-27.7339781],[153.021408,-27.736243399999996],[153.0273313,-27.737094599999992],[153.028812,-27.73149829999999],[153.0343537,-27.73218809999999],[153.037176,-27.735553699999997],[153.061202,-27.739120500000002]]]]}},{"type":"Feature","properties":{"suburb_name":"Murarrie","suburb_areasqkm":8.4585,"address_cnt":3311.0,"address_density_sqkm":391.0,"tp":"Suburb : Murarrie<br>Density per sqkm: 391"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.1072073,-27.47125889999999],[153.0962581,-27.469565399999993],[153.0966899,-27.466663300000004],[153.0894518,-27.4652154],[153.09082,-27.457963399999997],[153.087899,-27.4574945],[153.089642,-27.449709399999996],[153.0939256,-27.449110799999996],[153.096346,-27.44753649999999],[153.0992501,-27.448096500000005],[153.103828,-27.445463500000002],[153.1152399,-27.4398165],[153.121186,-27.433324599999995],[153.1295259,-27.428512600000005],[153.1293369,-27.43325959999999],[153.1283219,-27.435790599999994],[153.12575300000003,-27.43933760000001],[153.1215901,-27.441489599999993],[153.1139532,-27.443352599999994],[153.1112813,-27.445051699999997],[153.1158872,-27.446243599999995],[153.1160642,-27.447974599999988],[153.1207592,-27.4477506],[153.1225692,-27.450333600000004],[153.11941820000004,-27.451387599999997],[153.1172703,-27.456081600000005],[153.1193893,-27.455688600000002],[153.1232012,-27.456605599999996],[153.124041,-27.454075399999997],[153.126439,-27.4573635],[153.1267792,-27.461987499999992],[153.1222122,-27.46161659999999],[153.1219633,-27.464186599999994],[153.1184613,-27.4650136],[153.1224382,-27.459311600000003],[153.1204953,-27.458774600000005],[153.1189513,-27.462104600000004],[153.1136534,-27.463692599999998],[153.1109444,-27.4635226],[153.1078185,-27.468378699999995],[153.1072073,-27.47125889999999]]]]}},{"type":"Feature","properties":{"suburb_name":"Norman Park","suburb_areasqkm":2.1989,"address_cnt":4096.0,"address_density_sqkm":1863.0,"tp":"Suburb : Norman Park<br>Density per sqkm: 1,863"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0771589,-27.48550859999999],[153.0739399,-27.485190200000005],[153.069396,-27.487729499999993],[153.063505,-27.486700400000004],[153.0608291,-27.486282499999998],[153.057161,-27.480808399999994],[153.053142,-27.4768064],[153.0501425,-27.475987999999997],[153.0531874,-27.4748125],[153.0566557,-27.471975699999998],[153.0574121,-27.4697818],[153.0576352,-27.473263399999997],[153.0619311,-27.471419400000002],[153.0636332,-27.4699574],[153.063514,-27.471859399999992],[153.066373,-27.4752154],[153.066736,-27.478251399999994],[153.0674182,-27.4803765],[153.070962,-27.4827765],[153.0750001,-27.4834054],[153.0771589,-27.48550859999999]]]]}},{"type":"Feature","properties":{"suburb_name":"Nundah","suburb_areasqkm":3.7787,"address_cnt":10309.0,"address_density_sqkm":2728.0,"tp":"Suburb : Nundah<br>Density per sqkm: 2,728"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0574113,-27.4095626],[153.0536693,-27.407214199999995],[153.0503203,-27.404047300000002],[153.0477994,-27.403166],[153.0487183,-27.397651299999996],[153.0514882,-27.3966863],[153.0587103,-27.3982643],[153.0593769,-27.397083499999997],[153.0594561,-27.388890400000005],[153.0654323,-27.3956567],[153.065615,-27.398024099999994],[153.0784461,-27.3996764],[153.0751859,-27.403454499999988],[153.07449,-27.405838499999994],[153.0757902,-27.408397700000002],[153.069649,-27.41037439999999],[153.065719,-27.412278399999995],[153.0633142,-27.411710499999998],[153.0591839,-27.411108399999993],[153.0574113,-27.4095626]]]]}},{"type":"Feature","properties":{"suburb_name":"Parkinson","suburb_areasqkm":8.2332,"address_cnt":4579.0,"address_density_sqkm":556.0,"tp":"Suburb : Parkinson<br>Density per sqkm: 556"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0447062,-27.638380499999997],[153.041113,-27.6483584],[153.04049300000003,-27.654085499999997],[153.0377366,-27.660373999999994],[153.0193526,-27.657380999999994],[153.0194426,-27.652641899999995],[153.0158226,-27.645833999999994],[153.0149,-27.642182400000003],[153.0161173,-27.63890049999999],[153.021708,-27.6293244],[153.0225422,-27.62630130000001],[153.0325272,-27.628140900000002],[153.043496,-27.629975399999996],[153.043224,-27.63150140000001],[153.0466811,-27.632189500000003],[153.0447062,-27.638380499999997]]]]}},{"type":"Feature","properties":{"suburb_name":"Pimpama","suburb_areasqkm":40.9071,"address_cnt":11968.0,"address_density_sqkm":293.0,"tp":"Suburb : Pimpama<br>Density per sqkm: 293"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.303969,-27.841416500000005],[153.288659,-27.838906500000007],[153.290121,-27.831679499999996],[153.28843200000003,-27.829500500000005],[153.285932,-27.829086500000003],[153.28649180000002,-27.825878500000005],[153.27945700000004,-27.824862500000002],[153.2799009,-27.8223995],[153.271752,-27.8212405],[153.272477,-27.817205500000004],[153.264953,-27.815977499999995],[153.266356,-27.8090485],[153.2603146,-27.808108399999995],[153.2617185,-27.801116199999996],[153.2613959,-27.7990235],[153.265877,-27.7992295],[153.26971700000001,-27.79678249999999],[153.269461,-27.7914285],[153.270863,-27.7862645],[153.273362,-27.78679549999999],[153.280034,-27.785016499999998],[153.282296,-27.785373500000002],[153.285553,-27.782296499999998],[153.2904649,-27.781029499999995],[153.292145,-27.782983500000004],[153.290617,-27.78590249999999],[153.285309,-27.784971499999997],[153.284206,-27.787920499999995],[153.286986,-27.790394499999998],[153.291975,-27.791005499999994],[153.29410300000004,-27.787306500000003],[153.296612,-27.78787749999999],[153.2974099,-27.790197499999998],[153.300299,-27.790653499999994],[153.305419,-27.7894655],[153.30723000000003,-27.78670849999999],[153.309434,-27.785767500000002],[153.31343300000003,-27.7862845],[153.31581,-27.788159699999987],[153.3164489,-27.7926294],[153.3149758,-27.795565799999995],[153.3147918,-27.7980108],[153.3163937,-27.800144800000005],[153.3150938,-27.8021038],[153.3172219,-27.804775199999998],[153.320345,-27.8064465],[153.32518970000004,-27.804732199999993],[153.3266706,-27.8057594],[153.3307006,-27.805409599999994],[153.3377515,-27.8023726],[153.33971,-27.802824499999996],[153.3413195,-27.80502759999999],[153.3469664,-27.80361750000001],[153.3513739,-27.801766699999998],[153.3553752,-27.801408499999994],[153.3580571,-27.800437499999994],[153.3617909,-27.800392499999997],[153.364707,-27.798377399999993],[153.3687471,-27.80173349999999],[153.3710421,-27.8076365],[153.3697821,-27.811676300000002],[153.3710768,-27.816048899999995],[153.378793,-27.8205705],[153.3770649,-27.822553500000005],[153.3763579,-27.8252735],[153.374111,-27.825506499999992],[153.371844,-27.823848499999997],[153.3692919,-27.8247365],[153.365548,-27.82432850000001],[153.365825,-27.8287005],[153.36316,-27.830388499999998],[153.359987,-27.83117349999999],[153.329728,-27.82630249999999],[153.331968,-27.832347500000004],[153.3301806,-27.835759199999995],[153.323487,-27.834682499999992],[153.322855,-27.83792749999999],[153.303362,-27.8347615],[153.302685,-27.8361485],[153.303969,-27.841416500000005]]],[[[153.3562302,-27.798816500000004],[153.3564222,-27.7978685],[153.362818,-27.798264399999994],[153.3612969,-27.800084499999997],[153.35711220000002,-27.800052499999993],[153.3562302,-27.798816500000004]]]]}},{"type":"Feature","properties":{"suburb_name":"Pullenvale","suburb_areasqkm":19.5942,"address_cnt":1284.0,"address_density_sqkm":66.0,"tp":"Suburb : Pullenvale<br>Density per sqkm: 66"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9224942,-27.5211349],[152.9190809,-27.5245424],[152.9180641,-27.5289168],[152.9146129,-27.526323599999994],[152.9110377,-27.5257695],[152.910716,-27.5301819],[152.905945,-27.531689399999998],[152.9020771,-27.53098689999999],[152.9015729,-27.5324056],[152.8966285,-27.5368444],[152.896218,-27.53830140000001],[152.8910421,-27.537509399999998],[152.8904231,-27.540407399999992],[152.8878101,-27.5413904],[152.885692,-27.539184400000003],[152.882385,-27.541123399999993],[152.883054,-27.5375774],[152.8686308,-27.535464800000003],[152.8635121,-27.534941800000006],[152.8661403,-27.520655800000007],[152.8679959,-27.513181300000003],[152.8434847,-27.509549499999995],[152.8448099,-27.5067136],[152.8445246,-27.501971800000007],[152.8448545,-27.501633000000005],[152.8557148,-27.503295799999997],[152.8562445,-27.499788400000003],[152.8677601,-27.501421699999995],[152.8684251,-27.497361399999996],[152.8782091,-27.4987964],[152.877871,-27.5006094],[152.886752,-27.5019015],[152.8893098,-27.5019486],[152.8885514,-27.4992124],[152.8900002,-27.5008121],[152.893775,-27.502424899999998],[152.8995263,-27.503251400000007],[152.89887,-27.506740399999995],[152.901639,-27.508748499999996],[152.9057156,-27.509412399999995],[152.905248,-27.511830799999995],[152.9074538,-27.513094899999995],[152.9122584,-27.5138389],[152.9122176,-27.5152027],[152.9164469,-27.5167444],[152.9161417,-27.518335099999998],[152.9213286,-27.519117299999998],[152.9224942,-27.5211349]]]]}},{"type":"Feature","properties":{"suburb_name":"Redbank Plains","suburb_areasqkm":19.4869,"address_cnt":11157.0,"address_density_sqkm":573.0,"tp":"Suburb : Redbank Plains<br>Density per sqkm: 573"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.86622,-27.6250904],[152.8751271,-27.626397399999995],[152.870448,-27.6537964],[152.8672114,-27.672535099999994],[152.8706062,-27.673073400000003],[152.87032100000002,-27.675926399999998],[152.87205300000002,-27.6786144],[152.850235,-27.6754534],[152.847952,-27.677610400000002],[152.844789,-27.674259399999993],[152.8360012,-27.6718584],[152.837375,-27.6679944],[152.8356441,-27.667750399999996],[152.8376304,-27.656909999999993],[152.8326926,-27.6562636],[152.832895,-27.654470399999994],[152.828809,-27.653604399999992],[152.8256481,-27.653740399999997],[152.8233971,-27.651647399999998],[152.824757,-27.641666400000002],[152.8237891,-27.6386074],[152.826326,-27.6376934],[152.826762,-27.635812400000002],[152.821065,-27.635238399999988],[152.821765,-27.6312754],[152.828079,-27.629071399999994],[152.8311329,-27.629295399999997],[152.83369200000004,-27.6279494],[152.843012,-27.6296074],[152.841793,-27.632213399999994],[152.845043,-27.633835399999995],[152.844792,-27.636300399999996],[152.8456623,-27.640065699999997],[152.8491501,-27.640728400000008],[152.852875,-27.642596400000002],[152.8539871,-27.6367344],[152.85928850000002,-27.637465799999998],[152.858878,-27.6346524],[152.862739,-27.63128839999999],[152.86622,-27.6250904]]]]}},{"type":"Feature","properties":{"suburb_name":"Reedy Creek (Qld)","suburb_areasqkm":6.4137,"address_cnt":3084.0,"address_density_sqkm":481.0,"tp":"Suburb : Reedy Creek (Qld)<br>Density per sqkm: 481"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.3974854,-28.127976399999998],[153.3922839,-28.1284575],[153.3905129,-28.126571499999997],[153.3880469,-28.126018499999997],[153.3874009,-28.122815499999994],[153.3886439,-28.1196155],[153.3881839,-28.116295199999996],[153.3858989,-28.114640500000004],[153.3834809,-28.116188499999996],[153.3822129,-28.115330499999995],[153.3844032,-28.1040117],[153.3863917,-28.1044934],[153.3914539,-28.099936500000002],[153.3910259,-28.096942499999997],[153.3931859,-28.0940995],[153.3981591,-28.097246500000008],[153.4037069,-28.1020825],[153.4082879,-28.109325499999997],[153.4094489,-28.113075499999997],[153.4116779,-28.116983500000003],[153.4079819,-28.11949629999999],[153.40415,-28.12368289999999],[153.3983909,-28.1266335],[153.3974854,-28.127976399999998]]]]}},{"type":"Feature","properties":{"suburb_name":"Rochedale South","suburb_areasqkm":6.1995,"address_cnt":7509.0,"address_density_sqkm":1211.0,"tp":"Suburb : Rochedale South<br>Density per sqkm: 1,211"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.1448062,-27.610542300000002],[153.133062,-27.60884039999999],[153.1311029,-27.607883499999993],[153.1234439,-27.610229500000003],[153.1216916,-27.610229200000003],[153.1111531,-27.5939322],[153.12201,-27.595432500000005],[153.12332,-27.5872985],[153.140212,-27.5897074],[153.142647,-27.591263499999997],[153.144364,-27.59221249999999],[153.145926,-27.595322399999997],[153.1447679,-27.601191700000005],[153.14811,-27.602837499999993],[153.1470221,-27.60896349999999],[153.1448062,-27.610542300000002]]]]}},{"type":"Feature","properties":{"suburb_name":"Spring Hill (Qld)","suburb_areasqkm":1.2712,"address_cnt":7011.0,"address_density_sqkm":5515.0,"tp":"Suburb : Spring Hill (Qld)<br>Density per sqkm: 5,515"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.014979,-27.459987399999996],[153.016543,-27.458041499999993],[153.0217572,-27.457212299999995],[153.0236732,-27.455638299999997],[153.0262479,-27.451869399999996],[153.0287494,-27.451154099999993],[153.0290782,-27.4525945],[153.0280531,-27.4541414],[153.0306449,-27.456974399999996],[153.0290789,-27.4586094],[153.030848,-27.461796399999997],[153.0250249,-27.4648234],[153.0225376,-27.466874300000004],[153.0205671,-27.464852499999992],[153.021299,-27.462038400000004],[153.018005,-27.460500499999995],[153.014979,-27.459987399999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Springfield (Ipswich - Qld)","suburb_areasqkm":6.6757,"address_cnt":3187.0,"address_density_sqkm":477.0,"tp":"Suburb : Springfield (Ipswich - Qld)<br>Density per sqkm: 477"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.905165,-27.674625400000004],[152.906983,-27.6688714],[152.9088198,-27.666804600000006],[152.907665,-27.662335400000007],[152.903576,-27.6606274],[152.903074,-27.6576384],[152.899678,-27.6529054],[152.899871,-27.6509654],[152.8978401,-27.64380239999999],[152.896146,-27.646925399999994],[152.893754,-27.6434784],[152.895895,-27.6405434],[152.898464,-27.641608400000003],[152.89873,-27.639108399999998],[152.900885,-27.63684939999999],[152.916972,-27.639201499999995],[152.91888,-27.6432434],[152.9194049,-27.647304399999992],[152.9206282,-27.650006400000002],[152.9239369,-27.654735500000005],[152.9247248,-27.657718799999998],[152.912996,-27.670461400000004],[152.909786,-27.672860400000005],[152.905165,-27.674625400000004]]]]}},{"type":"Feature","properties":{"suburb_name":"Springfield Lakes","suburb_areasqkm":8.8853,"address_cnt":6653.0,"address_density_sqkm":749.0,"tp":"Suburb : Springfield Lakes<br>Density per sqkm: 749"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.8943646,-27.704098699999996],[152.895845,-27.695213400000004],[152.8983962,-27.698411200000002],[152.902945,-27.701442400000005],[152.908228,-27.704143499999994],[152.9102861,-27.704422499999993],[152.9105,-27.701903399999996],[152.908371,-27.697673400000003],[152.91084,-27.694144399999995],[152.909934,-27.691209399999998],[152.913163,-27.6884604],[152.913152,-27.6835584],[152.905165,-27.674625400000004],[152.909786,-27.672860400000005],[152.912996,-27.670461400000004],[152.9247248,-27.657718799999998],[152.9276412,-27.662785600000003],[152.9315621,-27.666133400000007],[152.9264551,-27.691901399999995],[152.9236691,-27.7072704],[152.9228772,-27.708111000000002],[152.918777,-27.7068224],[152.917243,-27.707319400000003],[152.8943646,-27.704098699999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Bunya","suburb_areasqkm":14.5382,"address_cnt":723.0,"address_density_sqkm":50.0,"tp":"Suburb : Bunya<br>Density per sqkm: 50"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9521732,-27.3521355],[152.947942,-27.359272699999998],[152.9548601,-27.36026139999999],[152.95356610000002,-27.367525400000005],[152.9595903,-27.368379599999997],[152.9600979,-27.365501500000008],[152.969428,-27.366936399999997],[152.9673018,-27.370802599999998],[152.9803738,-27.372638800000004],[152.9805791,-27.377172400000003],[152.9814651,-27.380534400000002],[152.9731021,-27.379562399999998],[152.9727431,-27.381496399999996],[152.965016,-27.380326399999994],[152.963649,-27.381984399999993],[152.9527301,-27.380492399999998],[152.9511551,-27.382149400000003],[152.947848,-27.381565400000003],[152.9437881,-27.382080499999987],[152.9402481,-27.383304399999997],[152.9194501,-27.380606399999994],[152.920216,-27.376153399999996],[152.9089001,-27.374646399999996],[152.9101101,-27.372532399999997],[152.917271,-27.3682794],[152.9197401,-27.364890399999993],[152.927541,-27.3622554],[152.9260412,-27.3524155],[152.9262982,-27.3509364],[152.9282701,-27.350396399999997],[152.9360881,-27.350853399999995],[152.9413541,-27.34733840000001],[152.9434479,-27.348017399999996],[152.94606910000002,-27.3505705],[152.9480739,-27.351162400000003],[152.948044,-27.353792500000004],[152.9521732,-27.3521355]]]]}},{"type":"Feature","properties":{"suburb_name":"Cedarton","suburb_areasqkm":13.2213,"address_cnt":69.0,"address_density_sqkm":5.0,"tp":"Suburb : Cedarton<br>Density per sqkm: 5"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.8042293,-26.8427417],[152.8051231,-26.836295399999997],[152.7978114,-26.8352819],[152.7992871,-26.827041399999995],[152.8052641,-26.824865399999997],[152.8081341,-26.8272264],[152.8127491,-26.828230399999995],[152.81244710000001,-26.829940400000005],[152.8151362,-26.83417439999999],[152.8171871,-26.836010400000003],[152.81840220000004,-26.837452399999997],[152.8181461,-26.840196399999993],[152.8244771,-26.849371399999995],[152.8290452,-26.8502084],[152.8316711,-26.85296840000001],[152.8320421,-26.856144399999998],[152.8288521,-26.855992499999996],[152.8278141,-26.8547874],[152.8251822,-26.860634399999995],[152.8216452,-26.859533400000004],[152.8205901,-26.8620474],[152.8178753,-26.863708399999993],[152.819658,-26.8661005],[152.817061,-26.868436400000004],[152.8169292,-26.871829400000003],[152.8159162,-26.873673399999998],[152.817525,-26.876480400000005],[152.8199181,-26.878761400000002],[152.8195521,-26.881937399999995],[152.8180121,-26.882430399999997],[152.8114853,-26.882126400000004],[152.8098461,-26.885673400000005],[152.8045191,-26.886203399999992],[152.8012351,-26.88933139999999],[152.7990661,-26.889493399999996],[152.7982581,-26.8864604],[152.7999232,-26.877552999999995],[152.7944072,-26.876734399999997],[152.79312390000004,-26.8753668],[152.79133720000002,-26.87080539999999],[152.7941187,-26.869675499999996],[152.7954333,-26.86351970000001],[152.8004801,-26.864233399999996],[152.8042293,-26.8427417]]]]}},{"type":"Feature","properties":{"suburb_name":"Delaneys Creek","suburb_areasqkm":39.9433,"address_cnt":915.0,"address_density_sqkm":23.0,"tp":"Suburb : Delaneys Creek<br>Density per sqkm: 23"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.8092001,-26.997605399999998],[152.8087651,-26.998914399999993],[152.8101501,-27.002654399999997],[152.8121111,-27.004450399999996],[152.8123041,-27.008476399999996],[152.8133811,-27.012553400000005],[152.8131491,-27.0164634],[152.8091721,-27.025420399999998],[152.8081841,-27.028507399999995],[152.8063661,-27.0372974],[152.8043841,-27.0397964],[152.8039551,-27.0419504],[152.8038078,-27.041764699999998],[152.780739,-27.03867019999999],[152.7789981,-27.04184039999999],[152.7600341,-27.039317399999995],[152.7589471,-27.041550399999988],[152.7559271,-27.040166399999993],[152.7549711,-27.037538399999992],[152.7443021,-27.033908400000005],[152.7463641,-27.029127399999997],[152.7426791,-27.028572400000012],[152.72750740000004,-27.023447],[152.7308842,-27.0153754],[152.73300310000002,-27.0162704],[152.7344171,-27.014927399999998],[152.7380786,-27.006132899999994],[152.7323782,-27.0050654],[152.7269516,-27.003232099999998],[152.7291851,-26.998029400000004],[152.7344572,-26.998838399999997],[152.73553160000003,-26.9923013],[152.7380991,-26.9917934],[152.7396041,-26.990108400000004],[152.7499161,-26.99116839999999],[152.7505621,-26.9888744],[152.752954,-26.986164399999996],[152.7513962,-26.983419400000002],[152.7636551,-26.9847484],[152.7639291,-26.9829454],[152.7672061,-26.983345399999994],[152.7666133,-26.9872412],[152.7658302,-26.992394600000004],[152.7715222,-26.993087900000003],[152.7716905,-26.99198639999999],[152.7811013,-26.993118799999998],[152.7815401,-26.990855400000004],[152.7930341,-26.9921464],[152.7970378,-26.990658499999995],[152.8007211,-26.994615400000004],[152.80453010000002,-26.9970474],[152.8092001,-26.997605399999998]]]]}},{"type":"Feature","properties":{"suburb_name":"Eatons Hill","suburb_areasqkm":9.1295,"address_cnt":2786.0,"address_density_sqkm":305.0,"tp":"Suburb : Eatons Hill<br>Density per sqkm: 305"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9606991,-27.33695439999999],[152.961225,-27.3418364],[152.95834260000004,-27.343922299999996],[152.95446390000004,-27.347773400000005],[152.9521732,-27.3521355],[152.948044,-27.353792500000004],[152.9480739,-27.351162400000003],[152.94606910000002,-27.3505705],[152.9434479,-27.348017399999996],[152.9413541,-27.34733840000001],[152.9360881,-27.350853399999995],[152.9282701,-27.350396399999997],[152.9262982,-27.3509364],[152.9250481,-27.3496584],[152.9265869,-27.347044199999996],[152.9264209,-27.345226299999997],[152.9239039,-27.3452993],[152.922247,-27.3481703],[152.9179661,-27.3461705],[152.9155771,-27.3484883],[152.914397,-27.345903399999994],[152.9114551,-27.345068399999995],[152.9110001,-27.3435074],[152.9136341,-27.339983399999998],[152.9116718,-27.339447299999996],[152.9139631,-27.3386304],[152.916778,-27.3349453],[152.9172482,-27.333033399999994],[152.9217011,-27.330394800000004],[152.9278558,-27.331222799999992],[152.9348371,-27.327812399999996],[152.9384461,-27.329715399999994],[152.9460151,-27.329163399999995],[152.95190410000004,-27.3307404],[152.9566745,-27.333746899999998],[152.9606991,-27.33695439999999]]]]}},{"type":"Feature","properties":{"suburb_name":"Lota","suburb_areasqkm":1.9869,"address_cnt":1855.0,"address_density_sqkm":934.0,"tp":"Suburb : Lota<br>Density per sqkm: 934"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.1900862,-27.461951199999994],[153.1924672,-27.4653212],[153.1941962,-27.4724432],[153.192016,-27.476275499999996],[153.189545,-27.47606749999999],[153.188453,-27.4743145],[153.185229,-27.472752500000002],[153.184043,-27.474877499999995],[153.177989,-27.476047500000004],[153.176885,-27.4744535],[153.176266,-27.473093200000008],[153.1778044,-27.469864299999998],[153.1786694,-27.464934299999996],[153.1830584,-27.465392699999995],[153.1846263,-27.4626692],[153.1890219,-27.4612813],[153.1900862,-27.461951199999994]]]]}},{"type":"Feature","properties":{"suburb_name":"Macleay Island","suburb_areasqkm":7.23,"address_cnt":4534.0,"address_density_sqkm":627.0,"tp":"Suburb : Macleay Island<br>Density per sqkm: 627"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.361898,-27.5864735],[153.3631065,-27.588980199999998],[153.3675165,-27.588828100000008],[153.3627398,-27.593297399999994],[153.3618391,-27.597907500000016],[153.3623921,-27.601776400000006],[153.3602546,-27.6028111],[153.36067069999999,-27.6049581],[153.3590081,-27.606841499999998],[153.3609237,-27.609099099999998],[153.3600317,-27.610729100000007],[153.3603689,-27.614307499999995],[153.3660116,-27.616746099999997],[153.3681506,-27.616060099999995],[153.3686516,-27.613116099999996],[153.3670716,-27.6093281],[153.3707819,-27.6105135],[153.3722505,-27.613277],[153.3740555,-27.614606000000002],[153.3759975,-27.619204],[153.3724326,-27.620611999999994],[153.3730286,-27.62441299999999],[153.3665907,-27.631288],[153.3619018,-27.632364999999997],[153.3606918,-27.63137199999999],[153.3597748,-27.628080099999995],[153.35605380000004,-27.6253801],[153.3531389,-27.625115100000002],[153.3486029,-27.622752100000003],[153.3490989,-27.618492099999997],[153.3481058,-27.6167524],[153.3491179,-27.61276219999999],[153.3493898,-27.606393200000003],[153.3490089,-27.602193199999995],[153.351614,-27.6005385],[153.352775,-27.59650749999999],[153.3542847,-27.593948199999996],[153.3536092,-27.591201400000003],[153.3576446,-27.588497199999996],[153.3572166,-27.583504199999997],[153.3606715,-27.580414199999996],[153.3634625,-27.5821262],[153.3643508,-27.584483499999994],[153.361898,-27.5864735]]]]}},{"type":"Feature","properties":{"suburb_name":"Riverview (Qld)","suburb_areasqkm":7.8035,"address_cnt":1442.0,"address_density_sqkm":185.0,"tp":"Suburb : Riverview (Qld)<br>Density per sqkm: 185"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.847199,-27.611057400000004],[152.8409631,-27.608915500000005],[152.840894,-27.6063074],[152.8430889,-27.60077039999999],[152.8368731,-27.5992665],[152.8372876,-27.596825099999993],[152.8414124,-27.595927600000003],[152.8388301,-27.592941500000002],[152.8349521,-27.591144399999997],[152.8294919,-27.590373900000007],[152.8238601,-27.58909539999999],[152.8178281,-27.584273399999997],[152.81422930000002,-27.582769399999997],[152.81570330000002,-27.5794134],[152.81743130000004,-27.579149399999995],[152.8220032,-27.580154299999997],[152.8236462,-27.5789323],[152.8239732,-27.5762173],[152.8265561,-27.5753113],[152.8280251,-27.5787373],[152.83098,-27.5800553],[152.8347694,-27.579134699999997],[152.842904,-27.580208400000007],[152.8488958,-27.582592199999997],[152.85348,-27.58221939999999],[152.855733,-27.5832054],[152.856391,-27.596037400000004],[152.858193,-27.597626399999996],[152.860818,-27.597952400000004],[152.858213,-27.60322040000001],[152.8602681,-27.606392400000008],[152.858539,-27.606851399999996],[152.855608,-27.6083394],[152.852992,-27.606661399999997],[152.849922,-27.606934400000004],[152.84672010000003,-27.608934399999995],[152.847199,-27.611057400000004]]]]}},{"type":"Feature","properties":{"suburb_name":"Tallai","suburb_areasqkm":13.0033,"address_cnt":1815.0,"address_density_sqkm":140.0,"tp":"Suburb : Tallai<br>Density per sqkm: 140"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.3184809,-28.077684499999997],[153.318184,-28.0761005],[153.3135629,-28.067052499999996],[153.3137039,-28.065769499999995],[153.3094869,-28.058754500000006],[153.3065719,-28.05704519999999],[153.3013121,-28.0588223],[153.3018937,-28.055791999999997],[153.2987146,-28.0553151],[153.2996352,-28.0504863],[153.297279,-28.0501339],[153.2978334,-28.047304799999992],[153.295598,-28.046966500000003],[153.296754,-28.0410398],[153.3107099,-28.0430825],[153.3125129,-28.045472499999995],[153.31934590000003,-28.048597500000007],[153.3216249,-28.05049749999999],[153.3258929,-28.0528045],[153.3280548,-28.0550475],[153.32984400000004,-28.0583085],[153.3328929,-28.059461499999998],[153.3383289,-28.059702500000007],[153.343042,-28.063277499999998],[153.3496409,-28.060460499999998],[153.3545339,-28.06228550000001],[153.3547814,-28.0658798],[153.3541178,-28.070061499999994],[153.3513629,-28.076412799999996],[153.3506177,-28.080126],[153.3440957,-28.080908899999997],[153.3387968,-28.083912200000004],[153.32193870000003,-28.081400000000002],[153.3223629,-28.079143500000004],[153.3184809,-28.077684499999997]]]]}},{"type":"Feature","properties":{"suburb_name":"Upper Kedron","suburb_areasqkm":9.2973,"address_cnt":2559.0,"address_density_sqkm":275.0,"tp":"Suburb : Upper Kedron<br>Density per sqkm: 275"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.94265100000004,-27.413010899999996],[152.9393511,-27.416000399999998],[152.9368871,-27.420092999999998],[152.9415447,-27.4208373],[152.9404308,-27.4272658],[152.9325241,-27.4258864],[152.9291469,-27.426546299999995],[152.9270263,-27.4249135],[152.9276007,-27.4212985],[152.9256145,-27.4210573],[152.923398,-27.434157400000004],[152.9188239,-27.434217500000003],[152.9142602,-27.4335055],[152.9128961,-27.432579399999998],[152.9088411,-27.43328139999999],[152.9044436,-27.431915799999995],[152.9052899,-27.4264809],[152.9026467,-27.426134199999996],[152.9034674,-27.421338899999995],[152.90221470000003,-27.418431099999996],[152.8992322,-27.418034199999997],[152.8996538,-27.415335500000005],[152.8975979,-27.4150735],[152.8993171,-27.4035594],[152.9003755,-27.403714299999997],[152.9150457,-27.4057079],[152.9146641,-27.408625199999992],[152.9352041,-27.411209999999993],[152.94265100000004,-27.413010899999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Flaxton","suburb_areasqkm":11.6397,"address_cnt":619.0,"address_density_sqkm":53.0,"tp":"Suburb : Flaxton<br>Density per sqkm: 53"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.8786391,-26.644821399999998],[152.8796861,-26.644951399999997],[152.8797671,-26.649194399999995],[152.8883981,-26.6505624],[152.8873852,-26.655796400000007],[152.8858242,-26.6605234],[152.8832002,-26.6622434],[152.87915700000002,-26.6705524],[152.879175,-26.6719134],[152.8639783,-26.669808999999997],[152.8533252,-26.668591399999997],[152.8488312,-26.670918400000005],[152.8425551,-26.667321400000002],[152.8409647,-26.663372399999997],[152.8387064,-26.6619516],[152.8394791,-26.65573739999999],[152.8434452,-26.6546414],[152.8469901,-26.650801400000002],[152.8506102,-26.6482174],[152.8568901,-26.64874539999999],[152.85835620000003,-26.6392024],[152.8701802,-26.6404204],[152.8725003,-26.643952499999997],[152.8786391,-26.644821399999998]]]]}},{"type":"Feature","properties":{"suburb_name":"Hunchy","suburb_areasqkm":12.0248,"address_cnt":326.0,"address_density_sqkm":27.0,"tp":"Suburb : Hunchy<br>Density per sqkm: 27"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9429691,-26.670039399999993],[152.9394962,-26.6825234],[152.9356502,-26.6819952],[152.9337802,-26.680587399999997],[152.9327161,-26.686824400000003],[152.9341421,-26.6870194],[152.9336741,-26.69028039999999],[152.9351661,-26.690481400000003],[152.9346091,-26.6937944],[152.9316122,-26.693291399999993],[152.9302641,-26.691920399999994],[152.926166,-26.691103899999998],[152.9256053,-26.6944471],[152.919247,-26.693531400000005],[152.9178719,-26.6954957],[152.9171835,-26.699509900000002],[152.9138212,-26.6990404],[152.9108532,-26.695759399999993],[152.9115722,-26.6915044],[152.9059902,-26.690839399999998],[152.9065532,-26.6883444],[152.9002761,-26.6876064],[152.8992244,-26.6887485],[152.8953481,-26.687006399999994],[152.891571,-26.687063399999996],[152.8920801,-26.683957399999997],[152.8912342,-26.6820614],[152.8860082,-26.681096400000005],[152.8814632,-26.6776614],[152.8794232,-26.6738954],[152.879175,-26.6719134],[152.87915700000002,-26.6705524],[152.8832002,-26.6622434],[152.8858242,-26.6605234],[152.8919322,-26.66161439999999],[152.8900491,-26.661738400000004],[152.8885602,-26.669386399999997],[152.8909751,-26.670678400000003],[152.8939452,-26.6705184],[152.8943541,-26.668519399999994],[152.8964952,-26.66782839999999],[152.9018412,-26.667422399999996],[152.903627,-26.666135999999998],[152.9022394,-26.675148600000004],[152.9038811,-26.675650399999995],[152.9085372,-26.673985400000003],[152.9099822,-26.676259399999992],[152.9104341,-26.679084400000004],[152.9170732,-26.6779164],[152.9174722,-26.675674399999995],[152.9204621,-26.675844400000006],[152.9210291,-26.672758400000003],[152.9246229,-26.673281699999997],[152.925129,-26.670472899999993],[152.931789,-26.671432900000003],[152.9367351,-26.671214400000004],[152.9370661,-26.6692764],[152.9429691,-26.670039399999993]]]]}},{"type":"Feature","properties":{"suburb_name":"Mount Glorious","suburb_areasqkm":20.5711,"address_cnt":235.0,"address_density_sqkm":11.0,"tp":"Suburb : Mount Glorious<br>Density per sqkm: 11"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.7720141,-27.345967399999996],[152.7718871,-27.343175399999993],[152.7700241,-27.341156400000003],[152.7675961,-27.3349744],[152.76449810000003,-27.335494400000005],[152.7623311,-27.333949399999998],[152.7594891,-27.330257399999994],[152.7556306,-27.3283136],[152.7546777,-27.333127399999995],[152.7488509,-27.332288],[152.7505216,-27.3203966],[152.7485091,-27.3187424],[152.7491251,-27.3132114],[152.7559611,-27.309778400000003],[152.7565511,-27.3071724],[152.7568491,-27.3006504],[152.75413910000003,-27.298177399999993],[152.7536061,-27.295001400000004],[152.7577055,-27.2955658],[152.7667255,-27.294982499999996],[152.7677655,-27.295860399999995],[152.7702074,-27.301178],[152.7780836,-27.296350999999998],[152.8087011,-27.300400199999995],[152.8098604,-27.300512599999994],[152.8071174,-27.316477699999997],[152.7928873,-27.314438099999997],[152.792982,-27.3139125],[152.7764337,-27.3115374],[152.7751652,-27.319883399999988],[152.7776812,-27.320867400000008],[152.77957010000003,-27.3232614],[152.782255,-27.322325400000008],[152.783978,-27.3229924],[152.7835405,-27.3253908],[152.7945541,-27.327330400000005],[152.7923437,-27.339212799999995],[152.7911625,-27.345865199999995],[152.789354,-27.347036699999993],[152.7889461,-27.349348400000004],[152.7858802,-27.3510424],[152.783496,-27.350993399999997],[152.7785531,-27.3492804],[152.7720141,-27.345967399999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Mount Pleasant (Moreton Bay - Qld)","suburb_areasqkm":37.1158,"address_cnt":210.0,"address_density_sqkm":6.0,"tp":"Suburb : Mount Pleasant (Moreton Bay - Qld)<br>Density per sqkm: 6"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.74232620000004,-27.1074974],[152.7415592,-27.111599399999996],[152.7515101,-27.113076399999994],[152.7553361,-27.1193104],[152.7579441,-27.122626400000005],[152.7656041,-27.1249574],[152.7668721,-27.1270774],[152.7656368,-27.1329702],[152.7746152,-27.134381399999995],[152.773808,-27.1384374],[152.7767853,-27.1388004],[152.7761412,-27.133728399999995],[152.77919310000001,-27.131347400000006],[152.7830061,-27.1315514],[152.7855061,-27.134623400000002],[152.7897606,-27.136775099999994],[152.7891275,-27.1401782],[152.7985798,-27.141578300000003],[152.8013979,-27.141403],[152.8001852,-27.147715299999998],[152.79894,-27.1567574],[152.8009891,-27.1569734],[152.7999564,-27.16341540000001],[152.8015943,-27.1636074],[152.8004201,-27.172185399999996],[152.7978091,-27.175773400000004],[152.7998761,-27.178768400000003],[152.804008,-27.187774399999995],[152.7984443,-27.189240399999992],[152.79806510000003,-27.186750399999998],[152.79621410000001,-27.1854464],[152.7931931,-27.185414400000003],[152.7903411,-27.182806399999993],[152.7922911,-27.1799084],[152.79039610000004,-27.176809399999996],[152.7886601,-27.177373400000004],[152.78460620000004,-27.174199399999992],[152.7827001,-27.173930400000007],[152.7809241,-27.1760954],[152.7777671,-27.1734424],[152.7749951,-27.1747734],[152.774453,-27.177723500000003],[152.7553606,-27.174898399999993],[152.7561691,-27.169935399999996],[152.7518472,-27.1697821],[152.7503618,-27.167926799999996],[152.7449993,-27.166575899999994],[152.7447393,-27.167986399999993],[152.7411605,-27.170002800000002],[152.73932190000002,-27.173795699999992],[152.7335655,-27.1714989],[152.7290687,-27.163759599999995],[152.729824,-27.16153419999999],[152.7361751,-27.1555762],[152.7393396,-27.150921499999995],[152.7379357,-27.150501299999995],[152.7380838,-27.147677900000005],[152.7366896,-27.1439385],[152.7350779,-27.1427782],[152.7326429,-27.133054299999994],[152.73082750000003,-27.130452699999996],[152.7305338,-27.125854799999992],[152.7281081,-27.1219271],[152.7301061,-27.11844869999999],[152.729526,-27.115323899999993],[152.73044330000002,-27.1131215],[152.7303242,-27.108738499999998],[152.7335202,-27.107418500000005],[152.7400501,-27.106182400000005],[152.74232620000004,-27.1074974]]]]}},{"type":"Feature","properties":{"suburb_name":"Laceys Creek","suburb_areasqkm":81.2229,"address_cnt":147.0,"address_density_sqkm":2.0,"tp":"Suburb : Laceys Creek<br>Density per sqkm: 2"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.7984443,-27.189240399999992],[152.7985901,-27.1913634],[152.795607,-27.190939200000003],[152.7929761,-27.18936040000001],[152.792177,-27.1917904],[152.7886901,-27.194612399999993],[152.7805541,-27.19880339999999],[152.7770732,-27.19582739999999],[152.7707469,-27.195347500000004],[152.7668532,-27.201497399999994],[152.7650312,-27.2019554],[152.7609632,-27.2082165],[152.7603324,-27.21173170000001],[152.7528553,-27.2106799],[152.7507533,-27.22279969999999],[152.7509439,-27.2255634],[152.7479881,-27.227567399999998],[152.7453471,-27.232630400000005],[152.7421741,-27.234340400000004],[152.7483241,-27.235227399999996],[152.7471308,-27.241807899999998],[152.7457597,-27.249457999999994],[152.7486181,-27.25040939999999],[152.7501904,-27.2565547],[152.7494403,-27.259957100000005],[152.7588601,-27.272114400000007],[152.7598361,-27.280622400000002],[152.7536061,-27.295001400000004],[152.7487991,-27.2951124],[152.7456081,-27.2933694],[152.7392771,-27.293694400000003],[152.7350771,-27.2969764],[152.7326171,-27.2972084],[152.7277651,-27.295019399999997],[152.7241401,-27.2946404],[152.7175621,-27.2927384],[152.71450810000002,-27.289752400000005],[152.7130861,-27.289581400000007],[152.7071801,-27.2922144],[152.7040121,-27.292600400000005],[152.70375610000002,-27.2903974],[152.7055651,-27.2860624],[152.7044368,-27.282826200000002],[152.7055271,-27.279068399999996],[152.7046181,-27.276961400000005],[152.6905171,-27.274435400000005],[152.6869124,-27.2749129],[152.6841671,-27.273151399999996],[152.6835771,-27.2715954],[152.6834931,-27.26618939999999],[152.6815591,-27.263777399999995],[152.6809781,-27.2560624],[152.6817601,-27.254016400000005],[152.6874141,-27.248975399999996],[152.6893606,-27.2452051],[152.6923831,-27.242092399999997],[152.6927396,-27.240354899999993],[152.6908731,-27.235940399999993],[152.6930801,-27.234221399999996],[152.6954521,-27.233977399999993],[152.7002235,-27.2302146],[152.7011989,-27.228508699999995],[152.7022311,-27.2263384],[152.7010253,-27.2238612],[152.7004701,-27.2197864],[152.7012363,-27.216680299999993],[152.7032497,-27.2135543],[152.7041685,-27.208785399999996],[152.7030293,-27.205106900000008],[152.7017408,-27.204316799999994],[152.70354800000004,-27.1991923],[152.7069852,-27.195398200000007],[152.7089557,-27.192232899999993],[152.7111958,-27.19213849999999],[152.7122762,-27.1887276],[152.7163138,-27.186629999999997],[152.7186104,-27.182733499999994],[152.7229763,-27.180455900000002],[152.726182,-27.1765716],[152.7284948,-27.1768492],[152.7296889,-27.175042799999996],[152.7290194,-27.1732426],[152.7305922,-27.171625699999996],[152.7335655,-27.1714989],[152.73932190000002,-27.173795699999992],[152.7411605,-27.170002800000002],[152.7447393,-27.167986399999993],[152.7449993,-27.166575899999994],[152.7503618,-27.167926799999996],[152.7518472,-27.1697821],[152.7561691,-27.169935399999996],[152.7553606,-27.174898399999993],[152.774453,-27.177723500000003],[152.7749951,-27.1747734],[152.7777671,-27.1734424],[152.7809241,-27.1760954],[152.7827001,-27.173930400000007],[152.78460620000004,-27.174199399999992],[152.7886601,-27.177373400000004],[152.79039610000004,-27.176809399999996],[152.7922911,-27.1799084],[152.7903411,-27.182806399999993],[152.7931931,-27.185414400000003],[152.79621410000001,-27.1854464],[152.79806510000003,-27.186750399999998],[152.7984443,-27.189240399999992]]]]}},{"type":"Feature","properties":{"suburb_name":"Marburg","suburb_areasqkm":25.4153,"address_cnt":811.0,"address_density_sqkm":32.0,"tp":"Suburb : Marburg<br>Density per sqkm: 32"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.5992771,-27.590273399999997],[152.59791710000002,-27.590889399999995],[152.5963371,-27.5992474],[152.587305,-27.597892400000003],[152.5896771,-27.584720399999995],[152.5692581,-27.5814444],[152.5701691,-27.576538400000004],[152.5655711,-27.5758644],[152.5647941,-27.569285400000002],[152.5658961,-27.566119399999998],[152.5675012,-27.5579128],[152.5636542,-27.557389099999998],[152.5643092,-27.553629100000002],[152.5687761,-27.554236099999997],[152.5703261,-27.545130399999994],[152.5756375,-27.5458265],[152.5750571,-27.540435400000003],[152.5739471,-27.538319399999995],[152.5746951,-27.534529400000007],[152.5758981,-27.5345244],[152.5772731,-27.526949999999996],[152.580578,-27.527391099999996],[152.5802424,-27.529342100000004],[152.5933951,-27.531329700000008],[152.5936809,-27.529783899999998],[152.6007479,-27.530808299999993],[152.6004035,-27.5325454],[152.6073202,-27.533160400000003],[152.6151582,-27.5344114],[152.6114199,-27.535449399999994],[152.609041,-27.5483554],[152.6165508,-27.5494668],[152.6148581,-27.557930399999996],[152.6126941,-27.557587400000006],[152.6119622,-27.56674229999999],[152.6093108,-27.566566099999992],[152.6129092,-27.572522399999993],[152.5998811,-27.578735400000003],[152.60518110000004,-27.587448399999992],[152.5992771,-27.590273399999997]]]]}},{"type":"Feature","properties":{"suburb_name":"Stanmore (Qld)","suburb_areasqkm":48.6644,"address_cnt":273.0,"address_density_sqkm":6.0,"tp":"Suburb : Stanmore (Qld)<br>Density per sqkm: 6"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.8042293,-26.8427417],[152.8004801,-26.864233399999996],[152.7954333,-26.86351970000001],[152.7941187,-26.869675499999996],[152.79133720000002,-26.87080539999999],[152.79312390000004,-26.8753668],[152.7944072,-26.876734399999997],[152.7999232,-26.877552999999995],[152.7982581,-26.8864604],[152.7990661,-26.889493399999996],[152.8012351,-26.88933139999999],[152.8045191,-26.886203399999992],[152.8098461,-26.885673400000005],[152.8114853,-26.882126400000004],[152.8180121,-26.882430399999997],[152.8195521,-26.881937399999995],[152.8199181,-26.878761400000002],[152.817525,-26.876480400000005],[152.8279971,-26.877940400000004],[152.8291271,-26.885292399999994],[152.8364718,-26.882677900000004],[152.8453061,-26.8837934],[152.8445391,-26.88864939999999],[152.8418261,-26.906544399999994],[152.8397971,-26.906974399999996],[152.8352511,-26.9043775],[152.8329901,-26.917186400000002],[152.8219081,-26.915641399999995],[152.82166,-26.9171304],[152.8164741,-26.917400400000002],[152.8108201,-26.9167194],[152.8089661,-26.927374400000005],[152.7871541,-26.9248164],[152.7864561,-26.9277574],[152.7800611,-26.926909400000003],[152.7799261,-26.924104399999997],[152.7764911,-26.920129400000004],[152.7714811,-26.918845399999995],[152.7637722,-26.918185399999995],[152.7637271,-26.9144184],[152.7560081,-26.913449400000008],[152.7560122,-26.9121424],[152.7569591,-26.905981399999995],[152.7570082,-26.901606399999995],[152.75564610000004,-26.8996994],[152.7525981,-26.899282400000004],[152.7537571,-26.8921264],[152.7552422,-26.892332399999997],[152.7585471,-26.888831400000004],[152.7658051,-26.887013399999997],[152.7674891,-26.883628400000003],[152.7703361,-26.885673400000005],[152.7723651,-26.885887399999987],[152.7746401,-26.883712399999993],[152.7758731,-26.876732400000005],[152.7808291,-26.877468399999994],[152.7820522,-26.870872399999993],[152.7680621,-26.8688024],[152.7688491,-26.864524400000004],[152.7713591,-26.864122399999996],[152.7649443,-26.856581400000003],[152.7699539,-26.850040399999997],[152.7695475,-26.8486694],[152.7635486,-26.8463894],[152.7661645,-26.8315715],[152.7698861,-26.833412400000004],[152.7905692,-26.836223399999998],[152.7889141,-26.8454094],[152.7931771,-26.846009400000003],[152.79275340000004,-26.848470899999995],[152.7956635,-26.848889500000002],[152.7968419,-26.841738299999996],[152.8042293,-26.8427417]]]]}},{"type":"Feature","properties":{"suburb_name":"Ilkley","suburb_areasqkm":17.2736,"address_cnt":334.0,"address_density_sqkm":19.0,"tp":"Suburb : Ilkley<br>Density per sqkm: 19"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0093191,-26.7082594],[153.0113651,-26.710702399999995],[153.01079510000002,-26.711825399999988],[153.0218621,-26.7133794],[153.0215331,-26.71676239999999],[153.0203471,-26.7181214],[153.0184671,-26.72870139999999],[153.0196671,-26.7323324],[153.0178351,-26.733918399999993],[153.0164764,-26.741844199999996],[153.0128411,-26.7425864],[153.0117441,-26.748984299999996],[153.0101371,-26.7502464],[153.0043643,-26.7494934],[153.0034815,-26.754861999999992],[152.9978619,-26.754115499999994],[152.9980534,-26.753001699999995],[152.9925459,-26.7522312],[152.9929281,-26.7495827],[152.9848153,-26.74838889999999],[152.9852704,-26.7459354],[152.978275,-26.7448872],[152.9776636,-26.7470077],[152.9739426,-26.746306799999996],[152.9714218,-26.7441229],[152.9727536,-26.737019799999995],[152.9751271,-26.724166399999998],[152.9763601,-26.7243294],[152.9773732,-26.7178894],[152.9781255,-26.720506599999997],[152.9800611,-26.7222903],[152.98644750000003,-26.723150599999993],[152.987389,-26.7192044],[152.985488,-26.718952400000003],[152.986242,-26.713757299999994],[152.9871211,-26.71271939999999],[152.9928031,-26.71350939999999],[152.9947381,-26.709156599999996],[153.0011002,-26.710043399999996],[153.0013031,-26.7088784],[153.0090291,-26.7099554],[153.0093191,-26.7082594]]]]}},{"type":"Feature","properties":{"suburb_name":"Kiamba","suburb_areasqkm":16.4813,"address_cnt":147.0,"address_density_sqkm":9.0,"tp":"Suburb : Kiamba<br>Density per sqkm: 9"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9315102,-26.575073400000004],[152.9306641,-26.579857200000006],[152.936575,-26.580822699999988],[152.9357227,-26.586139799999998],[152.9389109,-26.586610499999995],[152.93782790000003,-26.593023999999996],[152.9286311,-26.591855400000004],[152.92274220000002,-26.5845084],[152.919723,-26.584125800000002],[152.9186681,-26.590425400000004],[152.9132973,-26.5896174],[152.9135872,-26.587894400000003],[152.9094332,-26.587330400000003],[152.9091931,-26.589064399999998],[152.9053631,-26.588416399999996],[152.9049541,-26.5899704],[152.9019972,-26.590745400000003],[152.8977482,-26.590132399999998],[152.8956652,-26.591650399999992],[152.89307810000003,-26.59110739999999],[152.8912662,-26.588295399999993],[152.8896412,-26.59118140000001],[152.8866832,-26.5924384],[152.8806872,-26.591623399999992],[152.8658751,-26.587567400000008],[152.8673882,-26.586395400000004],[152.8715442,-26.5870254],[152.8776022,-26.5860024],[152.8769947,-26.579197800000003],[152.8783042,-26.575965399999998],[152.8770111,-26.573827400000003],[152.8829631,-26.571679199999988],[152.8804562,-26.568043400000004],[152.8772822,-26.565632400000002],[152.8843002,-26.5665824],[152.8861722,-26.558110400000004],[152.8901142,-26.559485400000003],[152.8947392,-26.560243400000004],[152.8949962,-26.5565244],[152.8978782,-26.557220399999995],[152.8995272,-26.5565084],[152.9006652,-26.5597434],[152.9042534,-26.5616077],[152.9038271,-26.563798399999992],[152.9136932,-26.5653544],[152.9158002,-26.563233400000005],[152.9264925,-26.564923599999997],[152.9253402,-26.5707544],[152.9282232,-26.569922399999996],[152.9293602,-26.5709804],[152.92871620000003,-26.574665399999997],[152.9315102,-26.575073400000004]]]]}},{"type":"Feature","properties":{"suburb_name":"Towen Mountain","suburb_areasqkm":3.5063,"address_cnt":146.0,"address_density_sqkm":42.0,"tp":"Suburb : Towen Mountain<br>Density per sqkm: 42"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9386519,-26.6522289],[152.9380442,-26.655644399999996],[152.9282791,-26.654361399999996],[152.9278861,-26.6569004],[152.9252271,-26.65656939999999],[152.9242602,-26.654653400000004],[152.9195302,-26.654749399999996],[152.9080892,-26.653316400000005],[152.9090701,-26.647035400000004],[152.9112951,-26.645593400000003],[152.9119542,-26.6418074],[152.9205941,-26.643053399999996],[152.9207171,-26.6423484],[152.9339104,-26.644268199999996],[152.9354891,-26.6469036],[152.9386058,-26.6473456],[152.936842,-26.651148299999996],[152.9386519,-26.6522289]]]]}},{"type":"Feature","properties":{"suburb_name":"Wolffdene","suburb_areasqkm":11.1428,"address_cnt":170.0,"address_density_sqkm":15.0,"tp":"Suburb : Wolffdene<br>Density per sqkm: 15"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.185525,-27.7614675],[153.186604,-27.763750500000004],[153.1907482,-27.766412299999995],[153.193943,-27.7668165],[153.193274,-27.768367499999997],[153.193783,-27.771938499999997],[153.190544,-27.7740585],[153.186512,-27.77496049999999],[153.187846,-27.7770725],[153.191225,-27.7772215],[153.193013,-27.779389499999997],[153.19139,-27.781530500000002],[153.184241,-27.788860499999995],[153.182352,-27.794542499999995],[153.170063,-27.7994045],[153.169248,-27.803285499999998],[153.16841,-27.805976499999993],[153.160046,-27.804805499999993],[153.160404,-27.8003505],[153.162778,-27.7876595],[153.155842,-27.786586499999995],[153.15760650000004,-27.776815499999998],[153.158479,-27.7744305],[153.1576629,-27.7713415],[153.158561,-27.769334499999996],[153.1598551,-27.768909300000008],[153.160764,-27.764382400000006],[153.162754,-27.762938499999994],[153.16920800000003,-27.7638215],[153.171738,-27.76537949999999],[153.175355,-27.764414499999997],[153.178282,-27.7660835],[153.184402,-27.767246499999995],[153.185525,-27.7614675]]]]}},{"type":"Feature","properties":{"suburb_name":"Point Arkwright","suburb_areasqkm":0.3768,"address_cnt":250.0,"address_density_sqkm":663.0,"tp":"Suburb : Point Arkwright<br>Density per sqkm: 663"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0942472,-26.543788499999994],[153.1008003,-26.544624300000006],[153.1026511,-26.54652849999999],[153.1016807,-26.5495268],[153.0985182,-26.5490164],[153.0970132,-26.54745939999999],[153.0934412,-26.547333399999996],[153.0942472,-26.543788499999994]]]]}},{"type":"Feature","properties":{"suburb_name":"Amberley","suburb_areasqkm":26.1111,"address_cnt":435.0,"address_density_sqkm":17.0,"tp":"Suburb : Amberley<br>Density per sqkm: 17"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.6989025,-27.657709599999997],[152.6909421,-27.656746399999996],[152.680915,-27.655163399999996],[152.674855,-27.6584614],[152.6685381,-27.632201399999992],[152.6679781,-27.6280394],[152.6706331,-27.624014399999993],[152.6675921,-27.6223624],[152.6683971,-27.620294400000002],[152.67118010000002,-27.6184844],[152.6724501,-27.615607399999995],[152.6696191,-27.614931400000007],[152.6688401,-27.613238400000004],[152.6702851,-27.6111474],[152.67655,-27.608275399999997],[152.681023,-27.6086344],[152.6852651,-27.60630739999999],[152.68960200000004,-27.6040254],[152.694217,-27.602302400000003],[152.6962791,-27.603491399999996],[152.699743,-27.603928500000006],[152.7031841,-27.607582399999995],[152.70306,-27.6089304],[152.7062361,-27.612969399999994],[152.7126481,-27.6161534],[152.715695,-27.6185024],[152.718174,-27.62648739999999],[152.7198721,-27.627556400000003],[152.72151,-27.6293834],[152.7256291,-27.627533399999994],[152.727338,-27.629241399999998],[152.7283731,-27.632184399999996],[152.7295211,-27.637112400000003],[152.7260441,-27.6368914],[152.724259,-27.6385734],[152.7260091,-27.640475399999996],[152.7286601,-27.639785399999997],[152.730373,-27.6425134],[152.73082510000003,-27.6503154],[152.7286551,-27.650917400000008],[152.7209321,-27.650661399999997],[152.71815900000001,-27.6533224],[152.71615,-27.652783400000004],[152.713689,-27.654107399999997],[152.712322,-27.649401399999995],[152.7110021,-27.6481684],[152.704166,-27.647387399999996],[152.701659,-27.648303399999993],[152.7009601,-27.652300399999998],[152.6990551,-27.655705400000002],[152.6989025,-27.657709599999997]]]]}},{"type":"Feature","properties":{"suburb_name":"Jeebropilly","suburb_areasqkm":11.6577,"address_cnt":110.0,"address_density_sqkm":9.0,"tp":"Suburb : Jeebropilly<br>Density per sqkm: 9"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.6520731,-27.636718400000007],[152.654134,-27.635964399999995],[152.6558271,-27.632213399999998],[152.657874,-27.630318400000007],[152.6625021,-27.630301399999997],[152.6651911,-27.632639399999995],[152.6685381,-27.632201399999992],[152.674855,-27.6584614],[152.672001,-27.661225400000003],[152.6705771,-27.668435400000003],[152.6549431,-27.6661654],[152.6406561,-27.664089400000005],[152.6404011,-27.6619584],[152.630983,-27.653142400000004],[152.6312681,-27.651901399999996],[152.6362521,-27.648095400000003],[152.6436442,-27.642265399999992],[152.642789,-27.639901399999985],[152.6471571,-27.638550399999993],[152.64977810000002,-27.6363754],[152.6520731,-27.636718400000007]]]]}},{"type":"Feature","properties":{"suburb_name":"Natural Bridge","suburb_areasqkm":42.1174,"address_cnt":94.0,"address_density_sqkm":2.0,"tp":"Suburb : Natural Bridge<br>Density per sqkm: 2"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.2653416,-28.241253399999994],[153.2640114,-28.243465499999996],[153.2611424,-28.243576499999985],[153.2547849,-28.245311999999984],[153.2497369,-28.247480499999988],[153.2465274,-28.246669499999996],[153.2439309,-28.247286999999993],[153.2390709,-28.2518385],[153.2356209,-28.256625500000002],[153.2345129,-28.262846500000006],[153.2328439,-28.265062999999998],[153.2219774,-28.263394999999996],[153.2188454,-28.263373499999993],[153.2125014,-28.257757500000004],[153.2113909,-28.257468999999993],[153.2073981,-28.252972600000003],[153.2085769,-28.249428499999997],[153.20531870000002,-28.2441791],[153.2005849,-28.240008499999995],[153.1989484,-28.2363739],[153.1975749,-28.225744699999996],[153.194833,-28.218453199999995],[153.1947507,-28.214703400000005],[153.19149410000003,-28.209613799999993],[153.1890139,-28.20400749999999],[153.188817,-28.199702399999996],[153.1926163,-28.201152799999996],[153.1942658,-28.200674599999996],[153.19269240000003,-28.196529399999992],[153.1925623,-28.192996599999997],[153.1934709,-28.1916156],[153.1840538,-28.19295719999999],[153.186487,-28.1870257],[153.1875709,-28.180081699999985],[153.1882499,-28.179142499999998],[153.192909,-28.178979499999993],[153.2052669,-28.183582499999996],[153.2129679,-28.184636499999996],[153.2153996,-28.1875494],[153.2145953,-28.189359499999995],[153.2177053,-28.195258799999998],[153.2220909,-28.195327499999998],[153.22072990000004,-28.1896445],[153.2227589,-28.1885765],[153.2275759,-28.1892485],[153.2287939,-28.194861500000005],[153.2305899,-28.196500499999996],[153.2342879,-28.195290499999995],[153.2379539,-28.1966245],[153.2401489,-28.199003500000003],[153.2528159,-28.200688499999995],[153.2508349,-28.2038695],[153.2501259,-28.208846499999993],[153.2533219,-28.21071349999999],[153.2529729,-28.214460499999998],[153.2536229,-28.21713250000001],[153.2566459,-28.218740500000003],[153.2562669,-28.221950499999995],[153.2543489,-28.225617499999995],[153.2567369,-28.22686849999999],[153.2600909,-28.2246305],[153.2615659,-28.226376499999997],[153.2573189,-28.228312500000005],[153.2591149,-28.230674499999992],[153.2581339,-28.233208499999993],[153.2584489,-28.235882499999992],[153.2600799,-28.238699500000003],[153.2577009,-28.23993249999999],[153.2653416,-28.241253399999994]]]]}},{"type":"Feature","properties":{"suburb_name":"Mount Walker West","suburb_areasqkm":18.5457,"address_cnt":4.0,"address_density_sqkm":0.0,"tp":"Suburb : Mount Walker West<br>Density per sqkm: 0"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.5314632,-27.7629364],[152.5274701,-27.766116399999998],[152.5256639,-27.769580399999995],[152.5255649,-27.773354399999995],[152.52355,-27.7767764],[152.5246509,-27.7788584],[152.520985,-27.7794304],[152.5198629,-27.781738399999995],[152.521286,-27.784255400000006],[152.519558,-27.7866314],[152.5186979,-27.789895400000002],[152.516143,-27.7940343],[152.5179751,-27.79681739999999],[152.5158759,-27.800397399999998],[152.5161149,-27.805402400000002],[152.5006759,-27.80333939999999],[152.503638,-27.786754400000003],[152.5057919,-27.785088400000003],[152.4818981,-27.781644399999998],[152.4812251,-27.785120399999997],[152.4734001,-27.78398839999999],[152.4751291,-27.7739064],[152.4731551,-27.772874399999996],[152.4766551,-27.758181399999998],[152.4855491,-27.757419399999993],[152.4875881,-27.7462604],[152.4897594,-27.746568499999995],[152.5007171,-27.748120400000005],[152.499107,-27.758272400000006],[152.5314632,-27.7629364]]]]}},{"type":"Feature","properties":{"suburb_name":"Tarragindi","suburb_areasqkm":4.539,"address_cnt":5347.0,"address_density_sqkm":1178.0,"tp":"Suburb : Tarragindi<br>Density per sqkm: 1,178"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.050055,-27.5182325],[153.0542991,-27.5232756],[153.05687990000004,-27.5287864],[153.058861,-27.538170899999997],[153.0528863,-27.537118499999988],[153.04811300000003,-27.5386555],[153.0448133,-27.538177399999995],[153.04389350000002,-27.53613],[153.0390015,-27.535083300000004],[153.0395935,-27.53209139999999],[153.037707,-27.53096040000001],[153.033763,-27.530339499999997],[153.03166,-27.5277214],[153.0324049,-27.525017499999997],[153.0351892,-27.523415499999995],[153.0346801,-27.519476500000003],[153.037999,-27.5174055],[153.0389282,-27.513699199999998],[153.0436584,-27.5148175],[153.050055,-27.5182325]]]]}},{"type":"Feature","properties":{"suburb_name":"Upper Coomera","suburb_areasqkm":24.0743,"address_cnt":11919.0,"address_density_sqkm":495.0,"tp":"Suburb : Upper Coomera<br>Density per sqkm: 495"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.276974,-27.907599500000003],[153.2653569,-27.90602059999999],[153.2645258,-27.910935399999996],[153.2648968,-27.914799400000003],[153.2658519,-27.916582500000004],[153.2641749,-27.9177605],[153.258089,-27.9162565],[153.256863,-27.913024500000002],[153.254127,-27.9122885],[153.2546749,-27.9064575],[153.251715,-27.905867499999996],[153.2523059,-27.902017500000003],[153.255327,-27.902006500000006],[153.258832,-27.899018500000004],[153.260616,-27.900725500000004],[153.26497490000003,-27.899485400000003],[153.265923,-27.8945295],[153.262729,-27.894051499999996],[153.264911,-27.8835375],[153.2654059,-27.8750605],[153.266321,-27.870954500000003],[153.272596,-27.8719045],[153.2740129,-27.8644357],[153.27514990000003,-27.861788500000003],[153.2805619,-27.862648499999995],[153.281135,-27.859849499999996],[153.28271600000002,-27.85864249999999],[153.283404,-27.8542308],[153.286639,-27.8385574],[153.288659,-27.838906500000007],[153.303969,-27.841416500000005],[153.307729,-27.852635499999998],[153.308988,-27.857798499999994],[153.311666,-27.863943499999998],[153.313164,-27.868807500000003],[153.3144719,-27.876850500000003],[153.3093259,-27.8784305],[153.3038737,-27.882568500000005],[153.2960059,-27.885726599999995],[153.293359,-27.8924565],[153.291495,-27.8936235],[153.2886114,-27.8937246],[153.2856569,-27.8952845],[153.2873609,-27.89941749999999],[153.289754,-27.90040249999999],[153.2938449,-27.897054499999996],[153.2957839,-27.899428500000003],[153.2953659,-27.9016025],[153.288921,-27.9064535],[153.28683900000001,-27.903812499999994],[153.2819359,-27.9023435],[153.2808789,-27.903968500000005],[153.278114,-27.905092499999995],[153.276974,-27.907599500000003]]]]}},{"type":"Feature","properties":{"suburb_name":"Virginia (Qld)","suburb_areasqkm":2.9889,"address_cnt":1935.0,"address_density_sqkm":647.0,"tp":"Suburb : Virginia (Qld)<br>Density per sqkm: 647"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0590829,-27.36632729999999],[153.061883,-27.366565399999995],[153.063075,-27.365312399999993],[153.067129,-27.365598400000003],[153.068917,-27.366934399999998],[153.06979,-27.368985399999996],[153.065813,-27.372467399999998],[153.0734148,-27.3816321],[153.0709298,-27.3860101],[153.0700331,-27.3889281],[153.0647841,-27.383714399999995],[153.060642,-27.386532399999997],[153.0594561,-27.388890400000005],[153.0549591,-27.388078199999992],[153.0534171,-27.385434400000005],[153.054203,-27.381140399999992],[153.0580361,-27.3832864],[153.0602141,-27.3810825],[153.059055,-27.37806919999999],[153.0553559,-27.37486730000001],[153.0567471,-27.36716240000001],[153.0590829,-27.36632729999999]]]]}},{"type":"Feature","properties":{"suburb_name":"Willawong","suburb_areasqkm":8.6461,"address_cnt":536.0,"address_density_sqkm":62.0,"tp":"Suburb : Willawong<br>Density per sqkm: 62"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.997012,-27.611413400000007],[152.994287,-27.6095854],[152.994514,-27.607584400000004],[152.992206,-27.604731400000002],[152.992989,-27.60267350000001],[152.995563,-27.6010364],[152.994542,-27.5974634],[152.996805,-27.593705399999997],[152.996978,-27.591778499999997],[152.992133,-27.5881865],[152.991668,-27.5859704],[152.993516,-27.5829574],[152.9897892,-27.581112799999993],[152.987704,-27.5772565],[152.98679,-27.5736534],[152.989106,-27.5711285],[152.988577,-27.570102399999985],[152.993483,-27.572095400000006],[152.995761,-27.573311499999992],[152.997337,-27.575473499999987],[152.9955949,-27.57734249999999],[152.995834,-27.580271500000002],[152.9987849,-27.580550399999996],[153.0012001,-27.582788500000007],[153.006086,-27.5844954],[153.0098588,-27.584861400000005],[153.012808,-27.5861915],[153.014271,-27.58888149999999],[153.0108211,-27.589616400000004],[153.00919,-27.591351399999997],[153.0086269,-27.5944394],[153.012475,-27.596833400000005],[153.017793,-27.596070499999996],[153.0280854,-27.597502500000004],[153.032263,-27.601759],[153.032668,-27.603994],[153.0308501,-27.607093999999993],[153.0271111,-27.609581000000002],[153.025284,-27.6128614],[153.023053,-27.6104564],[153.0193827,-27.609941699999993],[153.0199155,-27.60707530000001],[153.0167576,-27.6049382],[153.0134077,-27.6072875],[153.0104003,-27.606864999999992],[153.009187,-27.613080399999998],[152.997012,-27.611413400000007]]]]}},{"type":"Feature","properties":{"suburb_name":"Wulkuraka","suburb_areasqkm":3.7852,"address_cnt":678.0,"address_density_sqkm":179.0,"tp":"Suburb : Wulkuraka<br>Density per sqkm: 179"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.7198721,-27.627556400000003],[152.718174,-27.62648739999999],[152.715695,-27.6185024],[152.7126481,-27.6161534],[152.7191101,-27.611323400000003],[152.72111,-27.610542399999996],[152.7250491,-27.6044304],[152.7279581,-27.602886399999996],[152.731231,-27.603482399999997],[152.7324881,-27.601307399999996],[152.73550410000001,-27.60116839999999],[152.7364461,-27.602854399999995],[152.7393461,-27.6035194],[152.7371581,-27.604975400000004],[152.7390641,-27.607301399999997],[152.739544,-27.6105304],[152.7395901,-27.617713399999996],[152.7373569,-27.618536500000005],[152.7328281,-27.617839400000005],[152.7335531,-27.614118399999995],[152.728743,-27.613986999999995],[152.7282994,-27.616206200000004],[152.72555,-27.6182594],[152.72566080000001,-27.623221700000006],[152.7198721,-27.627556400000003]]]]}},{"type":"Feature","properties":{"suburb_name":"Yugar","suburb_areasqkm":4.8538,"address_cnt":183.0,"address_density_sqkm":38.0,"tp":"Suburb : Yugar<br>Density per sqkm: 38"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.883023,-27.3534884],[152.8810592,-27.355532399999998],[152.8534961,-27.351999400000004],[152.8542712,-27.347562399999994],[152.8599045,-27.344964899999997],[152.8610138,-27.3380621],[152.866634,-27.338775399999996],[152.8670892,-27.336214100000003],[152.871409,-27.3361965],[152.8739008,-27.3344785],[152.87601210000003,-27.335172399999994],[152.87717190000004,-27.333507399999995],[152.87992700000004,-27.334825400000007],[152.88103290000004,-27.338527499999998],[152.8853662,-27.338937400000002],[152.883023,-27.3534884]]]]}},{"type":"Feature","properties":{"suburb_name":"Albany Creek","suburb_areasqkm":9.6239,"address_cnt":7514.0,"address_density_sqkm":781.0,"tp":"Suburb : Albany Creek<br>Density per sqkm: 781"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9858411,-27.33794839999999],[152.98131500000002,-27.342414400000003],[152.9809681,-27.346090400000005],[152.979636,-27.346041399999997],[152.9792561,-27.349806399999995],[152.981269,-27.350435400000002],[152.9825521,-27.353192399999998],[152.9852361,-27.3527834],[152.98743210000004,-27.3547394],[152.9885171,-27.357659399999996],[152.9877671,-27.35950489999999],[152.9816741,-27.358622399999994],[152.9806868,-27.364085],[152.9837139,-27.3645254],[152.9830838,-27.368108100000008],[152.9805641,-27.367760799999996],[152.9804719,-27.372072599999996],[152.9803738,-27.372638800000004],[152.9673018,-27.370802599999998],[152.969428,-27.366936399999997],[152.9600979,-27.365501500000008],[152.9595903,-27.368379599999997],[152.95356610000002,-27.367525400000005],[152.9548601,-27.36026139999999],[152.947942,-27.359272699999998],[152.9521732,-27.3521355],[152.95446390000004,-27.347773400000005],[152.95834260000004,-27.343922299999996],[152.961225,-27.3418364],[152.9646161,-27.3419054],[152.96455610000004,-27.339630399999997],[152.9688861,-27.339595400000004],[152.971461,-27.3374855],[152.97551,-27.336798399999996],[152.9787811,-27.3347244],[152.980854,-27.3368334],[152.9858411,-27.33794839999999]]]]}},{"type":"Feature","properties":{"suburb_name":"Albion (Brisbane - Qld)","suburb_areasqkm":1.3148,"address_cnt":4102.0,"address_density_sqkm":3120.0,"tp":"Suburb : Albion (Brisbane - Qld)<br>Density per sqkm: 3,120"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0482224,-27.42806969999999],[153.0486646,-27.432819699999992],[153.0492368,-27.437245199999996],[153.047512,-27.441522400000007],[153.047263,-27.441786399999998],[153.04348769999999,-27.441024200000005],[153.042349,-27.44190649999999],[153.0415477,-27.437649199999996],[153.04338000000004,-27.4356735],[153.0425617,-27.433653199999995],[153.039864,-27.4336094],[153.0395504,-27.4302557],[153.0369527,-27.4292913],[153.0367433,-27.426401299999995],[153.0376777,-27.425158299999996],[153.042115,-27.425775500000004],[153.0442535,-27.425338199999995],[153.0452339,-27.428002399999993],[153.0482224,-27.42806969999999]]]]}},{"type":"Feature","properties":{"suburb_name":"Augustine Heights","suburb_areasqkm":5.4801,"address_cnt":2390.0,"address_density_sqkm":436.0,"tp":"Suburb : Augustine Heights<br>Density per sqkm: 436"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.8856727,-27.648079200000012],[152.888312,-27.650492400000005],[152.889968,-27.6554584],[152.889098,-27.6609294],[152.8929219,-27.667702499999997],[152.89766,-27.672064399999993],[152.897724,-27.674427399999995],[152.89764960000002,-27.67440979999999],[152.8868,-27.6712524],[152.887491,-27.6677144],[152.883055,-27.6680324],[152.882462,-27.6714304],[152.87032100000002,-27.675926399999998],[152.8706062,-27.673073400000003],[152.8672114,-27.672535099999994],[152.870448,-27.6537964],[152.8737005,-27.653667399999996],[152.87795070000004,-27.6486395],[152.878514,-27.647254399999998],[152.883547,-27.647343400000004],[152.8856727,-27.648079200000012]]]]}},{"type":"Feature","properties":{"suburb_name":"Banyo","suburb_areasqkm":4.7447,"address_cnt":3650.0,"address_density_sqkm":769.0,"tp":"Suburb : Banyo<br>Density per sqkm: 769"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0954662,-27.385614399999994],[153.0933332,-27.390768399999992],[153.0906832,-27.39327749999999],[153.0873569,-27.3940947],[153.0869691,-27.391282499999996],[153.0842402,-27.3899274],[153.083207,-27.387557899999997],[153.0800556,-27.38385679999999],[153.077606,-27.382110399999995],[153.0761152,-27.383117100000003],[153.0734148,-27.3816321],[153.065813,-27.372467399999998],[153.06979,-27.368985399999996],[153.068917,-27.366934399999998],[153.0710351,-27.368017499999997],[153.0726261,-27.366231400000004],[153.0749971,-27.367078399999993],[153.079522,-27.363220400000003],[153.0826975,-27.3670054],[153.08047760000002,-27.3699921],[153.0859711,-27.3764784],[153.0905335,-27.373412000000002],[153.0932824,-27.376541999999997],[153.0960681,-27.376544399999997],[153.094039,-27.379534500000002],[153.0954662,-27.385614399999994]]]]}},{"type":"Feature","properties":{"suburb_name":"Beenleigh","suburb_areasqkm":7.7028,"address_cnt":6693.0,"address_density_sqkm":869.0,"tp":"Suburb : Beenleigh<br>Density per sqkm: 869"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.19227,-27.7285915],[153.188325,-27.729694500000004],[153.185321,-27.729777500000004],[153.18094700000003,-27.727352499999995],[153.175605,-27.727299499999994],[153.173093,-27.726224499999994],[153.1738201,-27.7232654],[153.1787309,-27.7239604],[153.183071,-27.6997065],[153.185581,-27.701612500000003],[153.190499,-27.703567499999995],[153.193682,-27.703139500000002],[153.192643,-27.700133499999993],[153.189408,-27.698436499999996],[153.189608,-27.6968065],[153.194939,-27.696166500000004],[153.197736,-27.7010074],[153.203414,-27.705989499999998],[153.2099349,-27.7166404],[153.212969,-27.719826499999996],[153.218391,-27.723890500000003],[153.220801,-27.7262325],[153.219096,-27.7271745],[153.218291,-27.725206499999995],[153.209384,-27.7242455],[153.207027,-27.7234445],[153.195431,-27.7218025],[153.19227,-27.7285915]]]]}},{"type":"Feature","properties":{"suburb_name":"Bridgeman Downs","suburb_areasqkm":9.4059,"address_cnt":5216.0,"address_density_sqkm":555.0,"tp":"Suburb : Bridgeman Downs<br>Density per sqkm: 555"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.009349,-27.33610649999999],[153.0083821,-27.337012499999997],[153.0084951,-27.3410825],[153.0077253,-27.3452345],[153.0062986,-27.345036999999998],[153.0034732,-27.356727500000005],[153.00472710000003,-27.356760399999995],[153.0041507,-27.3599857],[153.0010252,-27.359031500000004],[153.0021971,-27.362461399999997],[153.0016931,-27.370535499999992],[152.998203,-27.3700179],[152.9975831,-27.373263400000003],[152.9835801,-27.371264799999995],[152.9804719,-27.372072599999996],[152.9805641,-27.367760799999996],[152.9830838,-27.368108100000008],[152.9837139,-27.3645254],[152.9806868,-27.364085],[152.9816741,-27.358622399999994],[152.9877671,-27.35950489999999],[152.9885171,-27.357659399999996],[152.98743210000004,-27.3547394],[152.9852361,-27.3527834],[152.9825521,-27.353192399999998],[152.981269,-27.350435400000002],[152.9792561,-27.349806399999995],[152.979636,-27.346041399999997],[152.9809681,-27.346090400000005],[152.98131500000002,-27.342414400000003],[152.9858411,-27.33794839999999],[152.9890441,-27.336087399999993],[152.9928181,-27.3354684],[152.9940981,-27.333947399999992],[152.99502310000003,-27.330043400000005],[153.003691,-27.3313824],[153.006496,-27.330878399999992],[153.00824010000002,-27.33206040000001],[153.009349,-27.33610649999999]]]]}},{"type":"Feature","properties":{"suburb_name":"Brighton (Qld)","suburb_areasqkm":6.4901,"address_cnt":5042.0,"address_density_sqkm":777.0,"tp":"Suburb : Brighton (Qld)<br>Density per sqkm: 777"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0464801,-27.311844399999995],[153.0439041,-27.305503400000003],[153.0422411,-27.3028625],[153.0430461,-27.302449400000008],[153.0462131,-27.2968695],[153.0481811,-27.29467839999999],[153.047292,-27.2896474],[153.047546,-27.2842474],[153.0495861,-27.278655400000005],[153.0513752,-27.279364500000003],[153.0584411,-27.280020400000005],[153.0662171,-27.281263399999997],[153.064072,-27.283535399999995],[153.0650641,-27.288822499999995],[153.0644831,-27.297328],[153.0649574,-27.301363399999993],[153.0665784,-27.307182700000002],[153.06397020000003,-27.307715399999996],[153.058332,-27.3120314],[153.0586761,-27.313755399999998],[153.048178,-27.311475400000003],[153.0464801,-27.311844399999995]]]]}},{"type":"Feature","properties":{"suburb_name":"Broadbeach","suburb_areasqkm":1.4834,"address_cnt":13605.0,"address_density_sqkm":9171.0,"tp":"Suburb : Broadbeach<br>Density per sqkm: 9,171"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.4312482,-28.037678700000004],[153.4306318,-28.0385445],[153.4303329,-28.035136500000007],[153.4272569,-28.0329555],[153.4276739,-28.028963500000007],[153.4270309,-28.027254499999994],[153.4286129,-28.025609499999998],[153.4271059,-28.022968399999996],[153.42610190000002,-28.017732499999997],[153.4337488,-28.018993100000003],[153.4371219,-28.03713429999999],[153.4355369,-28.0356635],[153.4316939,-28.036377499999997],[153.4312482,-28.037678700000004]]]]}},{"type":"Feature","properties":{"suburb_name":"Burleigh Waters","suburb_areasqkm":6.7587,"address_cnt":7875.0,"address_density_sqkm":1165.0,"tp":"Suburb : Burleigh Waters<br>Density per sqkm: 1,165"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.4192399,-28.100611500000007],[153.4218858,-28.086172399999995],[153.4256999,-28.08590149999999],[153.4214529,-28.074146500000005],[153.4198989,-28.069421500000004],[153.4211556,-28.0672667],[153.4254353,-28.067983299999995],[153.4245409,-28.072574099999994],[153.4422061,-28.075343400000005],[153.443038,-28.077649199999996],[153.4455498,-28.083319499999995],[153.4457201,-28.089377099999997],[153.4424619,-28.092117499999997],[153.4432409,-28.0938165],[153.44290190000004,-28.0979245],[153.4417079,-28.0993535],[153.4381189,-28.101069500000005],[153.4313549,-28.1020475],[153.4192399,-28.100611500000007]]]]}},{"type":"Feature","properties":{"suburb_name":"Capalaba","suburb_areasqkm":18.703,"address_cnt":10759.0,"address_density_sqkm":575.0,"tp":"Suburb : Capalaba<br>Density per sqkm: 575"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.201166,-27.5141515],[153.206274,-27.515187499999996],[153.2072609,-27.5133854],[153.2102633,-27.514737899999997],[153.2090048,-27.518780399999994],[153.2107184,-27.521326199999997],[153.2091184,-27.529936199999995],[153.207945,-27.5327095],[153.2085202,-27.535778399999998],[153.2201996,-27.546383],[153.2221552,-27.547804499999998],[153.227062,-27.549160400000005],[153.2315051,-27.552818499999997],[153.233209,-27.557586400000005],[153.235057,-27.5654795],[153.228156,-27.565199499999995],[153.22323100000003,-27.567523500000007],[153.2146891,-27.56838249999999],[153.21258,-27.567840500000003],[153.208104,-27.5642745],[153.200418,-27.5629935],[153.195344,-27.559948499999997],[153.191771,-27.559645499999995],[153.1899632,-27.556376199999992],[153.188724,-27.55170949999999],[153.182658,-27.5501495],[153.183314,-27.544543499999996],[153.182644,-27.5413075],[153.180445,-27.541128500000003],[153.177687,-27.5429095],[153.17426,-27.5421845],[153.173488,-27.5389495],[153.17195,-27.536581499999997],[153.172357,-27.535031400000005],[153.175979,-27.533117499999996],[153.180069,-27.52987149999999],[153.184413,-27.5293645],[153.185791,-27.527494500000003],[153.184045,-27.52293849999999],[153.184451,-27.521571499999997],[153.188331,-27.518193499999995],[153.193455,-27.5180385],[153.193451,-27.5158755],[153.196655,-27.5164775],[153.201166,-27.5141515]]]]}},{"type":"Feature","properties":{"suburb_name":"Corinda","suburb_areasqkm":3.0302,"address_cnt":3285.0,"address_density_sqkm":1084.0,"tp":"Suburb : Corinda<br>Density per sqkm: 1,084"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.99308300000004,-27.5511414],[152.974508,-27.54839740000001],[152.9686299,-27.549312400000005],[152.9650127,-27.548004499999994],[152.965481,-27.5458574],[152.9654191,-27.544617400000003],[152.9712506,-27.5454235],[152.9742626,-27.5445455],[152.9751116,-27.5429075],[152.975017,-27.539530400000007],[152.9724045,-27.535506499999997],[152.978674,-27.536090499999993],[152.9814794,-27.537166399999993],[152.9854147,-27.535250399999995],[152.990553,-27.53617540000001],[152.989229,-27.537349499999998],[152.988739,-27.540138399999993],[152.990522,-27.541784399999997],[152.994641,-27.541771499999996],[152.994358,-27.543797399999995],[152.988983,-27.543615400000004],[152.98936100000003,-27.546838500000007],[152.9947652,-27.545604299999994],[152.996855,-27.5467224],[152.9951002,-27.5484603],[152.995606,-27.5504455],[152.99308300000004,-27.5511414]]]]}},{"type":"Feature","properties":{"suburb_name":"Dicky Beach","suburb_areasqkm":1.0338,"address_cnt":1316.0,"address_density_sqkm":1273.0,"tp":"Suburb : Dicky Beach<br>Density per sqkm: 1,273"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.1383271,-26.777936499999996],[153.1390783,-26.7820834],[153.1414873,-26.7854175],[153.1417731,-26.7879515],[153.1355301,-26.787802499999998],[153.1315791,-26.789855500000005],[153.1298881,-26.788867399999997],[153.1297511,-26.785224400000008],[153.1303141,-26.7817064],[153.1354001,-26.77772149999999],[153.1383271,-26.777936499999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Dinmore","suburb_areasqkm":1.2675,"address_cnt":662.0,"address_density_sqkm":522.0,"tp":"Suburb : Dinmore<br>Density per sqkm: 522"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.8204973,-27.604541699999995],[152.8277986,-27.5987487],[152.8294919,-27.590373900000007],[152.8349521,-27.591144399999997],[152.8388301,-27.592941500000002],[152.8414124,-27.595927600000003],[152.8372876,-27.596825099999993],[152.8368731,-27.5992665],[152.8364494,-27.601628799999997],[152.8315052,-27.6028334],[152.8280171,-27.603003499999993],[152.828525,-27.600038399999995],[152.824709,-27.6025644],[152.8204973,-27.604541699999995]]]]}},{"type":"Feature","properties":{"suburb_name":"Eagleby","suburb_areasqkm":13.816,"address_cnt":8887.0,"address_density_sqkm":643.0,"tp":"Suburb : Eagleby<br>Density per sqkm: 643"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.220801,-27.7262325],[153.218391,-27.723890500000003],[153.212969,-27.719826499999996],[153.2099349,-27.7166404],[153.203414,-27.705989499999998],[153.197736,-27.7010074],[153.194939,-27.696166500000004],[153.196835,-27.695702499999996],[153.202553,-27.689083500000002],[153.204381,-27.6853635],[153.20561,-27.6807055],[153.212944,-27.680065499999998],[153.21553,-27.680233499999996],[153.218833,-27.680115500000007],[153.222954,-27.678612500000003],[153.227695,-27.681796500000004],[153.231165,-27.6818615],[153.242472,-27.687687499999992],[153.2450521,-27.690664599999998],[153.2448535,-27.6923405],[153.2410073,-27.6958616],[153.239454,-27.695045500000003],[153.2339093,-27.694313599999997],[153.233891,-27.699379399999998],[153.2362192,-27.7030705],[153.2328138,-27.7052834],[153.232815,-27.7081495],[153.233325,-27.7111555],[153.229163,-27.7124965],[153.22696,-27.71537349999999],[153.221089,-27.714242499999994],[153.213637,-27.714327499999996],[153.212736,-27.715283499999995],[153.215461,-27.71816550000001],[153.221624,-27.7186385],[153.2263979,-27.720704599999994],[153.23059300000003,-27.7215765],[153.232601,-27.723836499999997],[153.228727,-27.727308499999996],[153.227535,-27.726541499999996],[153.227579,-27.723708500000004],[153.225122,-27.7234255],[153.220801,-27.7262325]]]]}},{"type":"Feature","properties":{"suburb_name":"Eastern Heights","suburb_areasqkm":1.6999,"address_cnt":1743.0,"address_density_sqkm":1025.0,"tp":"Suburb : Eastern Heights<br>Density per sqkm: 1,025"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.763935,-27.6316644],[152.7646248,-27.6277738],[152.7688949,-27.628261199999997],[152.7705172,-27.618980400000005],[152.7794369,-27.6202134],[152.7787991,-27.623914799999994],[152.7849521,-27.624755099999998],[152.7848695,-27.6292478],[152.7758661,-27.628069400000008],[152.775023,-27.633167400000005],[152.763935,-27.6316644]]]]}},{"type":"Feature","properties":{"suburb_name":"Everton Hills","suburb_areasqkm":3.3272,"address_cnt":3172.0,"address_density_sqkm":953.0,"tp":"Suburb : Everton Hills<br>Density per sqkm: 953"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9814651,-27.380534400000002],[152.983155,-27.382125400000003],[152.9839011,-27.384686400000003],[152.980605,-27.388141399999995],[152.976751,-27.3897754],[152.975291,-27.392023399999992],[152.978085,-27.394582400000004],[152.977005,-27.4007694],[152.974389,-27.4007434],[152.9706851,-27.39846040000001],[152.965175,-27.397080399999997],[152.9621948,-27.395484100000004],[152.961882,-27.391898500000003],[152.9628407,-27.388902299999998],[152.9624351,-27.384163200000003],[152.963649,-27.381984399999993],[152.965016,-27.380326399999994],[152.9727431,-27.381496399999996],[152.9731021,-27.379562399999998],[152.9814651,-27.380534400000002]]]]}},{"type":"Feature","properties":{"suburb_name":"Forest Glen (Qld)","suburb_areasqkm":6.5897,"address_cnt":1640.0,"address_density_sqkm":249.0,"tp":"Suburb : Forest Glen (Qld)<br>Density per sqkm: 249"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0224608,-26.676156900000006],[153.0218659,-26.6793467],[153.0184222,-26.678859399999997],[153.0176181,-26.68347639999999],[153.0160371,-26.685183399999993],[153.0179451,-26.686533400000005],[153.0181372,-26.688875399999997],[153.0171921,-26.6946814],[153.0141845,-26.694144600000005],[153.0108615,-26.696687199999996],[153.0050732,-26.690775399999996],[153.0039311,-26.6887264],[153.0034431,-26.68425139999999],[153.0019311,-26.6792744],[152.9988122,-26.673815399999995],[152.9975311,-26.669662400000004],[153.0007812,-26.668718399999992],[153.002195,-26.662430399999998],[153.00734080000004,-26.663191100000006],[153.0070095,-26.6649647],[153.0124741,-26.66579239999999],[153.0156541,-26.663950399999994],[153.01855410000002,-26.663616400000002],[153.0240511,-26.662888399999993],[153.0293941,-26.658019399999993],[153.0314482,-26.6571436],[153.033628,-26.6604235],[153.0325062,-26.6623604],[153.0243551,-26.6674132],[153.0195272,-26.670149399999996],[153.0210952,-26.674911500000007],[153.0224608,-26.676156900000006]]]]}},{"type":"Feature","properties":{"suburb_name":"Heathwood","suburb_areasqkm":4.9485,"address_cnt":2140.0,"address_density_sqkm":432.0,"tp":"Suburb : Heathwood<br>Density per sqkm: 432"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.984907,-27.621904400000005],[152.987837,-27.624420400000005],[152.988533,-27.626695400000003],[152.987749,-27.630429399999997],[153.0001921,-27.632233499999998],[152.9993731,-27.6351634],[152.9972409,-27.6368224],[152.996865,-27.63920149999999],[152.9984839,-27.64049650000001],[152.9993159,-27.644105499999995],[152.998247,-27.6463174],[152.999849,-27.64878139999999],[153.000928,-27.653320499999992],[153.000205,-27.655080400000003],[152.989281,-27.65146139999999],[152.984098,-27.648629499999995],[152.978708,-27.6462634],[152.975875,-27.643747399999995],[152.973389,-27.639017400000007],[152.971344,-27.637598400000012],[152.97502,-27.6360534],[152.9801272,-27.639374399999998],[152.9855236,-27.640974600000003],[152.986738,-27.634366399999998],[152.9790872,-27.6332701],[152.979924,-27.63158439999999],[152.9790292,-27.628320499999997],[152.9794612,-27.624602500000005],[152.983549,-27.6237904],[152.984907,-27.621904400000005]]]]}},{"type":"Feature","properties":{"suburb_name":"Hope Island","suburb_areasqkm":14.0185,"address_cnt":10947.0,"address_density_sqkm":781.0,"tp":"Suburb : Hope Island<br>Density per sqkm: 781"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.3632549,-27.8490375],[153.366408,-27.8512885],[153.368192,-27.853671499999997],[153.3731121,-27.854080500000002],[153.3760643,-27.854979099999994],[153.3797103,-27.857482100000002],[153.3818499,-27.86100649999999],[153.3817689,-27.867368500000005],[153.380548,-27.8704135],[153.378121,-27.873784499999996],[153.3773169,-27.877677500000004],[153.3784039,-27.879794499999996],[153.380963,-27.882124499999996],[153.38163500000002,-27.884989500000003],[153.3772594,-27.886089800000004],[153.3749329,-27.883627500000006],[153.372216,-27.883273500000005],[153.368052,-27.8864135],[153.3663119,-27.888828500000006],[153.3645719,-27.88823049999999],[153.3637439,-27.885057500000002],[153.36010690000003,-27.882222499999994],[153.357137,-27.881918499999998],[153.352163,-27.8793425],[153.3484389,-27.88000149999999],[153.3456979,-27.879575499999998],[153.34266390000002,-27.8824485],[153.3390069,-27.8832005],[153.3335199,-27.882089500000003],[153.33440900000002,-27.8761635],[153.3376179,-27.867480500000003],[153.341973,-27.8577635],[153.3464579,-27.858323499999997],[153.3489549,-27.85754449999999],[153.353075,-27.848686500000003],[153.354744,-27.846533499999996],[153.357113,-27.84626949999999],[153.3632549,-27.8490375]]]]}},{"type":"Feature","properties":{"suburb_name":"Kurwongbah","suburb_areasqkm":44.1901,"address_cnt":631.0,"address_density_sqkm":14.0,"tp":"Suburb : Kurwongbah<br>Density per sqkm: 14"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9575689,-27.2617274],[152.9562869,-27.258803400000005],[152.9519219,-27.258637499999995],[152.9487,-27.2554865],[152.9439512,-27.255055399999996],[152.939291,-27.253503399999996],[152.934508,-27.2504344],[152.9325399,-27.248390400000005],[152.9281081,-27.248708399999995],[152.9225671,-27.246229400000004],[152.9199601,-27.243227500000003],[152.9176991,-27.23858139999999],[152.9146511,-27.235386399999996],[152.9101481,-27.2326654],[152.9069661,-27.2293784],[152.9006161,-27.2244744],[152.8969281,-27.220677399999992],[152.89132600000002,-27.217756500000004],[152.8916731,-27.215859099999996],[152.8880972,-27.215351999999992],[152.8895686,-27.206448199999997],[152.8829902,-27.2055204],[152.8833301,-27.2036194],[152.879733,-27.203093399999997],[152.8800908,-27.201178799999994],[152.8736231,-27.1993425],[152.871033,-27.20161409999999],[152.8685876,-27.20126119999999],[152.8692346,-27.197681499999998],[152.871881,-27.1980314],[152.8725859,-27.1938044],[152.8619382,-27.192362600000003],[152.8623871,-27.18940939999999],[152.8865625,-27.193321899999997],[152.8873555,-27.189169599999996],[152.9023062,-27.1912508],[152.9064242,-27.190575799999998],[152.9058849,-27.193741199999995],[152.9172115,-27.1953097],[152.9176701,-27.19363750000001],[152.9457726,-27.197636499999998],[152.9446454,-27.204135099999995],[152.9552505,-27.205506499999995],[152.9583933,-27.204112500000004],[152.9608002,-27.206223699999992],[152.962631,-27.2047066],[152.96489040000003,-27.207749399999994],[152.96556310000003,-27.2120444],[152.9670973,-27.215150900000005],[152.9697834,-27.218763299999996],[152.9707194,-27.221340299999998],[152.9747394,-27.227473199999988],[152.9768882,-27.2343503],[152.9754771,-27.24240239999999],[152.9763144,-27.247470099999997],[152.9762511,-27.250550400000005],[152.9724851,-27.248936400000005],[152.9721011,-27.247415399999998],[152.9604892,-27.252465399999995],[152.9623431,-27.25679510000001],[152.959697,-27.25792839999999],[152.9575689,-27.2617274]]]]}},{"type":"Feature","properties":{"suburb_name":"Lower Mount Walker","suburb_areasqkm":58.6159,"address_cnt":142.0,"address_density_sqkm":2.0,"tp":"Suburb : Lower Mount Walker<br>Density per sqkm: 2"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.580039,-27.6808144],[152.5788681,-27.682000399999996],[152.5757032,-27.699167299999992],[152.5731301,-27.713380400000002],[152.5815101,-27.714569400000002],[152.5798415,-27.723586499999996],[152.5879004,-27.724757899999993],[152.5872865,-27.7294074],[152.5848241,-27.7431314],[152.5572241,-27.739179399999994],[152.555308,-27.742512399999995],[152.5475121,-27.7479804],[152.5377981,-27.746670399999992],[152.536523,-27.749149399999997],[152.5338261,-27.750344399999996],[152.5326211,-27.7550844],[152.530897,-27.757557399999992],[152.5314632,-27.7629364],[152.499107,-27.758272400000006],[152.5007171,-27.748120400000005],[152.4897594,-27.746568499999995],[152.492675,-27.730157400000007],[152.4820411,-27.728624399999994],[152.4717761,-27.7324614],[152.4692931,-27.7299594],[152.4708931,-27.725984399999998],[152.4705741,-27.724360399999995],[152.4731721,-27.7228604],[152.4777851,-27.7189304],[152.480795,-27.718511399999997],[152.48241910000002,-27.7179574],[152.4827311,-27.71508040000001],[152.4873351,-27.710318399999995],[152.4895221,-27.711114400000003],[152.4926471,-27.709870399999996],[152.5117051,-27.7126974],[152.5140441,-27.7002574],[152.519223,-27.700990399999995],[152.5198641,-27.6975034],[152.533538,-27.699647399999993],[152.5363581,-27.696488399999996],[152.537743,-27.6895034],[152.5455761,-27.690595399999996],[152.548155,-27.681540399999992],[152.5526241,-27.6780994],[152.5577771,-27.678194400000002],[152.56234,-27.6746654],[152.5752081,-27.67653839999999],[152.580039,-27.6808144]]]]}},{"type":"Feature","properties":{"suburb_name":"Meridan Plains","suburb_areasqkm":19.746,"address_cnt":2323.0,"address_density_sqkm":118.0,"tp":"Suburb : Meridan Plains<br>Density per sqkm: 118"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0774211,-26.781126500000003],[153.0660301,-26.7793885],[153.0650261,-26.784832499999997],[153.06047320000002,-26.7844515],[153.0549713,-26.783046399999996],[153.0480429,-26.7846125],[153.0453718,-26.786080600000002],[153.04331970000004,-26.776916300000003],[153.0435977,-26.771378300000002],[153.0447921,-26.768553400000002],[153.0500701,-26.768317399999994],[153.0526051,-26.76679340000001],[153.0558681,-26.76659239999999],[153.05783710000003,-26.76432039999999],[153.0650491,-26.7598554],[153.0663261,-26.7571135],[153.0684071,-26.755236399999994],[153.0712211,-26.7552265],[153.0753351,-26.75340539999998],[153.0788501,-26.753071399999996],[153.0808801,-26.7516614],[153.0806251,-26.7494314],[153.0831731,-26.746907400000005],[153.0828501,-26.745582400000007],[153.0873736,-26.741944500000002],[153.0900061,-26.740590500000007],[153.0949171,-26.74278840000001],[153.1007131,-26.743694399999995],[153.1043411,-26.7417264],[153.1055071,-26.738267399999998],[153.1040391,-26.73648349999999],[153.1043471,-26.733512399999995],[153.1033651,-26.731087399999996],[153.1097801,-26.729790399999995],[153.1135051,-26.730391399999988],[153.1125079,-26.735801899999995],[153.1163917,-26.7363839],[153.1168871,-26.7377464],[153.1143451,-26.741021399999994],[153.1117291,-26.746619399999997],[153.1107761,-26.7532995],[153.1119301,-26.757362399999998],[153.1118614,-26.75966620000001],[153.109395,-26.774862399999996],[153.0934325,-26.772878700000003],[153.0935721,-26.7719594],[153.0794711,-26.769947399999996],[153.0774211,-26.781126500000003]]]]}},{"type":"Feature","properties":{"suburb_name":"Mermaid Beach","suburb_areasqkm":1.5285,"address_cnt":8099.0,"address_density_sqkm":5299.0,"tp":"Suburb : Mermaid Beach<br>Density per sqkm: 5,299"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.44274670000001,-28.0608857],[153.437708,-28.060082500000007],[153.436016,-28.054625299999994],[153.431683,-28.04324129999999],[153.432451,-28.041883300000006],[153.4312482,-28.037678700000004],[153.4316939,-28.036377499999997],[153.4355369,-28.0356635],[153.4371219,-28.03713429999999],[153.4377394,-28.040359899999995],[153.44274670000001,-28.0608857]]]]}},{"type":"Feature","properties":{"suburb_name":"Mount Coolum","suburb_areasqkm":4.9995,"address_cnt":2694.0,"address_density_sqkm":539.0,"tp":"Suburb : Mount Coolum<br>Density per sqkm: 539"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0989859,-26.5664574],[153.0979046,-26.576498200000007],[153.0963882,-26.5746724],[153.0923591,-26.573347400000003],[153.086358,-26.573745299999995],[153.0795431,-26.573382399999996],[153.0791961,-26.575615400000004],[153.0643451,-26.573828400000004],[153.0634371,-26.5725504],[153.0644491,-26.569265499999997],[153.0656202,-26.5693824],[153.0735162,-26.563071399999995],[153.0760802,-26.564637499999993],[153.0777412,-26.562608400000002],[153.0783322,-26.560042399999997],[153.0829372,-26.556270399999995],[153.0836784,-26.551951799999998],[153.0819803,-26.549800400000002],[153.0859905,-26.552131499999994],[153.0907882,-26.552788399999997],[153.0898781,-26.558975499999992],[153.0911322,-26.56167239999999],[153.093759,-26.5617607],[153.0967381,-26.565818399999998],[153.0989859,-26.5664574]]]]}},{"type":"Feature","properties":{"suburb_name":"Newmarket","suburb_areasqkm":1.6453,"address_cnt":3224.0,"address_density_sqkm":1960.0,"tp":"Suburb : Newmarket<br>Density per sqkm: 1,960"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.004252,-27.445036500000004],[153.0020451,-27.445091499999997],[153.002824,-27.442441399999996],[153.001171,-27.440060499999994],[153.0064001,-27.438823399999993],[153.005765,-27.436213400000003],[153.0006461,-27.435559399999992],[153.001604,-27.430202399999995],[153.0051686,-27.430739099999997],[153.007564,-27.429141499999993],[153.0083661,-27.424960500000005],[153.011494,-27.425527499999994],[153.0107651,-27.4293915],[153.013715,-27.4298284],[153.0131121,-27.4340264],[153.0144571,-27.43552239999999],[153.0135562,-27.440671400000003],[153.01129100000003,-27.440645399999998],[153.010081,-27.4404054],[153.004252,-27.445036500000004]]]]}},{"type":"Feature","properties":{"suburb_name":"Newstead (Qld)","suburb_areasqkm":0.707,"address_cnt":8395.0,"address_density_sqkm":11874.0,"tp":"Suburb : Newstead (Qld)<br>Density per sqkm: 11,874"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.04204500000003,-27.455232499999994],[153.038886,-27.4545395],[153.0405431,-27.452709399999996],[153.0415651,-27.449814399999998],[153.0416512,-27.443851399999996],[153.042349,-27.44190649999999],[153.04348769999999,-27.441024200000005],[153.047263,-27.441786399999998],[153.046335,-27.445604399999993],[153.0478847,-27.450109200000004],[153.044453,-27.453699399999998],[153.04204500000003,-27.455232499999994]]]]}},{"type":"Feature","properties":{"suburb_name":"Nudgee","suburb_areasqkm":4.13,"address_cnt":2062.0,"address_density_sqkm":499.0,"tp":"Suburb : Nudgee<br>Density per sqkm: 499"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.105984,-27.3779795],[153.099154,-27.382577499999996],[153.0954662,-27.385614399999994],[153.094039,-27.379534500000002],[153.0960681,-27.376544399999997],[153.0932824,-27.376541999999997],[153.0905335,-27.373412000000002],[153.0859711,-27.3764784],[153.08047760000002,-27.3699921],[153.0826975,-27.3670054],[153.079522,-27.363220400000003],[153.0820411,-27.360621499999997],[153.0785011,-27.3599064],[153.077745,-27.358312399999992],[153.0789141,-27.3558244],[153.08188,-27.3565894],[153.083247,-27.358205399999996],[153.0862921,-27.358082499999988],[153.0860295,-27.356209900000003],[153.0905741,-27.357063400000005],[153.0919791,-27.358012500000008],[153.0971081,-27.364029399999996],[153.09785620000002,-27.3669994],[153.100278,-27.3712235],[153.102123,-27.371567399999996],[153.10496,-27.374940499999997],[153.105984,-27.3779795]]]]}},{"type":"Feature","properties":{"suburb_name":"Ormeau","suburb_areasqkm":16.3891,"address_cnt":7782.0,"address_density_sqkm":475.0,"tp":"Suburb : Ormeau<br>Density per sqkm: 475"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.26667960000003,-27.7679016],[153.2706594,-27.769320099999998],[153.2713717,-27.772085599999997],[153.2803559,-27.778922800000007],[153.285553,-27.782296499999998],[153.282296,-27.785373500000002],[153.280034,-27.785016499999998],[153.273362,-27.78679549999999],[153.270863,-27.7862645],[153.269461,-27.7914285],[153.26971700000001,-27.79678249999999],[153.265877,-27.7992295],[153.2613959,-27.7990235],[153.261162,-27.7984045],[153.259694,-27.79320149999999],[153.231609,-27.78867049999999],[153.23145700000003,-27.7885045],[153.229028,-27.779838499999997],[153.228753,-27.7767975],[153.229717,-27.775549500000004],[153.227222,-27.772341499999996],[153.22851,-27.769234499999996],[153.23164,-27.768279499999995],[153.233619,-27.7652585],[153.23393,-27.763028499999994],[153.238512,-27.763377499999994],[153.240844,-27.7619925],[153.243011,-27.762640499999996],[153.244125,-27.7600235],[153.23935990000004,-27.7560614],[153.24429700000002,-27.751132500000004],[153.249369,-27.750957499999995],[153.251965,-27.7499975],[153.2569138,-27.750155499999995],[153.260361,-27.750754499999992],[153.259345,-27.7531395],[153.2569309,-27.7533005],[153.25554900000003,-27.7565305],[153.2576428,-27.758066499999995],[153.259846,-27.7566275],[153.2610179,-27.759384400000005],[153.2584939,-27.761617499999993],[153.261004,-27.762392500000004],[153.263126,-27.7608285],[153.2652312,-27.762809700000005],[153.2648129,-27.766453100000007],[153.26667960000003,-27.7679016]]]]}},{"type":"Feature","properties":{"suburb_name":"Ormiston","suburb_areasqkm":4.9598,"address_cnt":3861.0,"address_density_sqkm":778.0,"tp":"Suburb : Ormiston<br>Density per sqkm: 778"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.2597317,-27.4901309],[153.2576187,-27.491605899999996],[153.2605777,-27.4938409],[153.2611227,-27.497125899999997],[153.2643197,-27.499824799999992],[153.2628967,-27.503327800000005],[153.2631417,-27.5062078],[153.2610378,-27.5108538],[153.2606838,-27.5138128],[153.2627598,-27.5141168],[153.2646072,-27.516018500000005],[153.263681,-27.518861500000007],[153.265136,-27.521832499999995],[153.2641586,-27.5241482],[153.260573,-27.524331499999995],[153.246629,-27.523551499999996],[153.246334,-27.5206575],[153.244229,-27.5170395],[153.241582,-27.512494499999995],[153.242901,-27.5114745],[153.246259,-27.51165749999999],[153.248569,-27.5102565],[153.250703,-27.5105825],[153.252586,-27.5050445],[153.252409,-27.501711499999992],[153.250895,-27.501254499999998],[153.251083,-27.493846499999997],[153.248595,-27.4939505],[153.247653,-27.4925485],[153.249857,-27.490514499999993],[153.25456200000002,-27.4930565],[153.25873,-27.489613500000004],[153.2597317,-27.4901309]]]]}},{"type":"Feature","properties":{"suburb_name":"Parrearra","suburb_areasqkm":2.4219,"address_cnt":2525.0,"address_density_sqkm":1043.0,"tp":"Suburb : Parrearra<br>Density per sqkm: 1,043"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.1184401,-26.724363399999998],[153.1223851,-26.721073499999996],[153.1177141,-26.716287399999995],[153.1176771,-26.714538399999995],[153.1135411,-26.7137264],[153.1139041,-26.711547500000002],[153.1182511,-26.708911399999998],[153.1195371,-26.7068874],[153.1160801,-26.705972399999997],[153.1146881,-26.70450539999999],[153.1145611,-26.696576399999998],[153.1169841,-26.698253399999995],[153.1187361,-26.702467400000007],[153.1216211,-26.7040634],[153.1228201,-26.7070715],[153.1258621,-26.705713399999997],[153.1263481,-26.70142649999999],[153.1296231,-26.704833400000002],[153.1301291,-26.7089134],[153.12996530000004,-26.711157500000002],[153.1275735,-26.711743099999993],[153.1252466,-26.714853999999995],[153.1275161,-26.718934399999995],[153.1268611,-26.722717400000004],[153.125297,-26.724507400000004],[153.1228721,-26.724962399999992],[153.1184401,-26.724363399999998]]]]}},{"type":"Feature","properties":{"suburb_name":"Pelican Waters","suburb_areasqkm":8.3361,"address_cnt":4524.0,"address_density_sqkm":543.0,"tp":"Suburb : Pelican Waters<br>Density per sqkm: 543"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.1102751,-26.841144400000005],[153.10960410000004,-26.84372339999999],[153.1069361,-26.8460585],[153.1001321,-26.846374500000003],[153.0983311,-26.847728400000005],[153.0965691,-26.850960499999996],[153.0937321,-26.853329500000005],[153.0925221,-26.8524764],[153.0931871,-26.8474784],[153.0870301,-26.845690499999993],[153.0862351,-26.842231499999993],[153.0890661,-26.839961399999986],[153.0818791,-26.838683399999997],[153.0813821,-26.837579399999996],[153.0846611,-26.83362139999999],[153.08335810000003,-26.8305585],[153.0857061,-26.829281499999993],[153.0871111,-26.825722400000004],[153.0916931,-26.8263015],[153.0975691,-26.8270435],[153.0982891,-26.822522399999993],[153.1009364,-26.821271199999998],[153.1013606,-26.818614799999995],[153.1037397,-26.814452599999992],[153.1068464,-26.811662599999995],[153.1140171,-26.812627400000004],[153.1140071,-26.815149400000003],[153.1166809,-26.815499100000004],[153.1151982,-26.821467399999996],[153.1123501,-26.822176499999994],[153.1136141,-26.827091399999997],[153.1158991,-26.825063500000002],[153.1167891,-26.8276654],[153.1136455,-26.828024200000005],[153.1145057,-26.831260600000004],[153.1184397,-26.831717799999993],[153.1182401,-26.832241499999995],[153.1137331,-26.833421400000002],[153.1130512,-26.837222399999995],[153.1107066,-26.838559500000002],[153.1102751,-26.841144400000005]]]]}},{"type":"Feature","properties":{"suburb_name":"Peregian Springs","suburb_areasqkm":5.4141,"address_cnt":4461.0,"address_density_sqkm":824.0,"tp":"Suburb : Peregian Springs<br>Density per sqkm: 824"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0662017,-26.508585200000006],[153.0657412,-26.506847500000003],[153.0683206,-26.503461],[153.0631806,-26.49792160000001],[153.062553,-26.495466000000004],[153.0595948,-26.492603299999992],[153.0584494,-26.4881794],[153.0590599,-26.484552799999992],[153.063814,-26.4794425],[153.0654187,-26.478530700000004],[153.0701502,-26.480557499999996],[153.0760532,-26.484900399999997],[153.077331,-26.4870346],[153.0800432,-26.4950134],[153.08126520000002,-26.49580939999999],[153.0823882,-26.503594399999994],[153.0817001,-26.507100399999995],[153.0796615,-26.510480699999988],[153.0662017,-26.508585200000006]]]]}},{"type":"Feature","properties":{"suburb_name":"Richlands (Qld)","suburb_areasqkm":5.2305,"address_cnt":3397.0,"address_density_sqkm":649.0,"tp":"Suburb : Richlands (Qld)<br>Density per sqkm: 649"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9568003,-27.601719700000004],[152.954246,-27.601913399999994],[152.943826,-27.603908399999998],[152.9450334,-27.597478599999995],[152.9431544,-27.5966436],[152.9450644,-27.593231600000006],[152.9358045,-27.589098700000008],[152.9369139,-27.5871244],[152.945055,-27.5829064],[152.948936,-27.580857400000003],[152.966553,-27.573848399999996],[152.9679539,-27.579410499999994],[152.964136,-27.580419499999998],[152.9660713,-27.588902399999995],[152.9593979,-27.590582700000002],[152.959843,-27.5991074],[152.957183,-27.599603399999992],[152.9568003,-27.601719700000004]]]]}},{"type":"Feature","properties":{"suburb_name":"Rosewood (Qld)","suburb_areasqkm":31.3894,"address_cnt":2286.0,"address_density_sqkm":73.0,"tp":"Suburb : Rosewood (Qld)<br>Density per sqkm: 73"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.580039,-27.6808144],[152.5752081,-27.67653839999999],[152.56234,-27.6746654],[152.5648921,-27.660918400000003],[152.573028,-27.661997400000004],[152.5748521,-27.6520284],[152.5731623,-27.6495592],[152.5776611,-27.647742400000002],[152.5736981,-27.639630399999998],[152.5746711,-27.639301400000008],[152.5691261,-27.626256400000006],[152.5682431,-27.625782400000002],[152.5643701,-27.616794399999996],[152.5650961,-27.611525399999998],[152.5725751,-27.61291539999999],[152.5771461,-27.6101874],[152.5799681,-27.6125264],[152.5869321,-27.6102994],[152.596651,-27.6057674],[152.5977371,-27.599441400000003],[152.6052921,-27.600581399999996],[152.6099331,-27.608299400000003],[152.6133401,-27.606674399999992],[152.6169151,-27.6126204],[152.6101311,-27.615937399999993],[152.61558910000002,-27.624844400000008],[152.6149551,-27.62520539999999],[152.6192809,-27.63235069999999],[152.616337,-27.63374239999999],[152.615157,-27.6369414],[152.616488,-27.6390934],[152.6215899,-27.643858400000003],[152.62084,-27.648049399999998],[152.6288871,-27.649200400000005],[152.6291841,-27.6475424],[152.6362521,-27.648095400000003],[152.6312681,-27.651901399999996],[152.630983,-27.653142400000004],[152.6290231,-27.6552674],[152.6250981,-27.655757399999995],[152.622109,-27.657006399999997],[152.6177381,-27.655125400000003],[152.612395,-27.6577614],[152.604791,-27.65772539999999],[152.5986191,-27.659474400000004],[152.5967071,-27.658241399999998],[152.5920891,-27.658281400000003],[152.5904921,-27.659120400000003],[152.5907261,-27.6630014],[152.59334,-27.669101399999995],[152.590496,-27.670501399999992],[152.580039,-27.6808144]]]]}},{"type":"Feature","properties":{"suburb_name":"Stafford","suburb_areasqkm":3.426,"address_cnt":5053.0,"address_density_sqkm":1475.0,"tp":"Suburb : Stafford<br>Density per sqkm: 1,475"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0215697,-27.404815399999997],[153.0211539,-27.406980899999994],[153.0234027,-27.4082474],[153.0228118,-27.411236400000003],[153.0217631,-27.4167574],[153.018914,-27.4167164],[153.0161241,-27.418921399999995],[153.01372700000002,-27.4195134],[153.01202000000004,-27.417996399999993],[153.0088571,-27.413072399999997],[153.004876,-27.414214500000007],[153.002898,-27.416178399999993],[152.9988611,-27.413362499999998],[152.9975721,-27.411908399999998],[152.9984121,-27.407302600000012],[152.997616,-27.4010616],[153.0151198,-27.4034895],[153.0215697,-27.404815399999997]]]]}},{"type":"Feature","properties":{"suburb_name":"Stones Corner","suburb_areasqkm":0.5982,"address_cnt":2636.0,"address_density_sqkm":4407.0,"tp":"Suburb : Stones Corner<br>Density per sqkm: 4,407"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.047666,-27.494094499999996],[153.05064,-27.496722500000004],[153.0503126,-27.502982799999998],[153.04211,-27.502097099999997],[153.0413051,-27.5008627],[153.041841,-27.4979335],[153.0476218,-27.496300499999993],[153.047666,-27.494094499999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Yaroomba","suburb_areasqkm":2.5942,"address_cnt":1135.0,"address_density_sqkm":438.0,"tp":"Suburb : Yaroomba<br>Density per sqkm: 438"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0942472,-26.543788499999994],[153.0934412,-26.547333399999996],[153.0970132,-26.54745939999999],[153.0985182,-26.5490164],[153.1016807,-26.5495268],[153.1003021,-26.555638499999997],[153.0989859,-26.5664574],[153.0967381,-26.565818399999998],[153.093759,-26.5617607],[153.0911322,-26.56167239999999],[153.0898781,-26.558975499999992],[153.0907882,-26.552788399999997],[153.0859905,-26.552131499999994],[153.0819803,-26.549800400000002],[153.0824241,-26.546593399999995],[153.0854051,-26.545213499999996],[153.0869682,-26.54269040000001],[153.0942472,-26.543788499999994]]]]}},{"type":"Feature","properties":{"suburb_name":"Belli Park","suburb_areasqkm":83.3925,"address_cnt":521.0,"address_density_sqkm":6.0,"tp":"Suburb : Belli Park<br>Density per sqkm: 6"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.8847496,-26.494953899999995],[152.8862606,-26.498449799999992],[152.8890832,-26.4974184],[152.8916372,-26.4982214],[152.8941892,-26.501230499999995],[152.8935193,-26.505238399999996],[152.8918512,-26.506639399999994],[152.8922942,-26.50844439999999],[152.8901595,-26.510674400000003],[152.889845,-26.513347600000003],[152.8873971,-26.517158400000003],[152.8856183,-26.518760400000005],[152.8818081,-26.519420500000003],[152.8835671,-26.522481399999993],[152.8837611,-26.52486449999999],[152.8803692,-26.5269474],[152.8751571,-26.526443399999998],[152.8699982,-26.528227399999995],[152.8674442,-26.526822400000004],[152.864333,-26.527120099999998],[152.8672182,-26.530229399999993],[152.86455120000002,-26.5306274],[152.8621042,-26.5328304],[152.8618772,-26.5366384],[152.8589862,-26.53873940000001],[152.8608692,-26.5432514],[152.8638662,-26.5460594],[152.8635292,-26.549166199999995],[152.8665271,-26.551273399999992],[152.8678581,-26.553279399999997],[152.8733562,-26.5513044],[152.873666,-26.5542264],[152.875495,-26.5550618],[152.8530299,-26.5529957],[152.8410562,-26.551312399999997],[152.8386231,-26.54955739999999],[152.8385512,-26.547734400000003],[152.8361722,-26.545176399999992],[152.8325425,-26.54431889999999],[152.8154792,-26.54190739999999],[152.8162832,-26.5373144],[152.7810672,-26.532592399999995],[152.7780012,-26.534095399999998],[152.7772302,-26.530299400000004],[152.7745471,-26.5294304],[152.7685553,-26.528697399999995],[152.7674012,-26.527301400000002],[152.7627431,-26.5253695],[152.7596968,-26.5250029],[152.7620855,-26.5106363],[152.7437124,-26.508160000000004],[152.7450222,-26.504806399999996],[152.7439313,-26.502736400000003],[152.7448173,-26.4993485],[152.7492792,-26.497788399999997],[152.7524412,-26.49253540000001],[152.7529552,-26.490923399999996],[152.7578392,-26.487651399999997],[152.7614502,-26.486872400000003],[152.7616332,-26.4837174],[152.7656132,-26.48201539999999],[152.7653602,-26.478973399999997],[152.7666722,-26.477744400000002],[152.7653882,-26.4757674],[152.7620882,-26.4744424],[152.7576582,-26.475375400000004],[152.75659520000002,-26.473310399999995],[152.7581162,-26.4706204],[152.7572062,-26.468794399999993],[152.7644303,-26.469350599999988],[152.7654724,-26.463598200000003],[152.7680978,-26.464161799999996],[152.7672126,-26.468385199999997],[152.7680122,-26.470252499999997],[152.7886162,-26.473033100000002],[152.7892144,-26.46943890000001],[152.8043032,-26.471495399999988],[152.8033142,-26.477352399999997],[152.8085232,-26.481807399999997],[152.8118362,-26.487845399999998],[152.8134422,-26.4889174],[152.8122536,-26.494544600000005],[152.8140979,-26.49808419999999],[152.8181422,-26.49821449999999],[152.8269717,-26.499392099999994],[152.8281685,-26.492714500000005],[152.8350728,-26.4881598],[152.8358379,-26.4892588],[152.843813,-26.4840361],[152.8459573,-26.486687399999994],[152.8532982,-26.481494400000006],[152.8594482,-26.4790523],[152.861893,-26.474720700000006],[152.8649651,-26.4761255],[152.86648730000002,-26.472289400000005],[152.8693408,-26.474193399999994],[152.8708538,-26.4654578],[152.8795642,-26.466696399999996],[152.8801292,-26.468984000000003],[152.8769372,-26.468481399999988],[152.87413220000002,-26.482924399999998],[152.8838312,-26.4844344],[152.8829482,-26.4889384],[152.8847496,-26.494953899999995]]]]}},{"type":"Feature","properties":{"suburb_name":"Burbank","suburb_areasqkm":28.9419,"address_cnt":592.0,"address_density_sqkm":20.0,"tp":"Suburb : Burbank<br>Density per sqkm: 20"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.1408138,-27.534514399999996],[153.1419864,-27.527932399999997],[153.16400800000002,-27.5310255],[153.165932,-27.529271499999993],[153.1683302,-27.5296494],[153.169182,-27.531732499999997],[153.175979,-27.533117499999996],[153.172357,-27.535031400000005],[153.17195,-27.536581499999997],[153.173488,-27.5389495],[153.17426,-27.5421845],[153.177687,-27.5429095],[153.180445,-27.541128500000003],[153.182644,-27.5413075],[153.183314,-27.544543499999996],[153.182658,-27.5501495],[153.188724,-27.55170949999999],[153.1899632,-27.556376199999992],[153.191771,-27.559645499999995],[153.1913287,-27.5608789],[153.1867891,-27.5604667],[153.1819201,-27.562314000000004],[153.1819651,-27.564390199999995],[153.1797943,-27.570161800000008],[153.1825588,-27.573647300000005],[153.1776379,-27.578549999999993],[153.1790754,-27.58071320000001],[153.1770799,-27.583996799999998],[153.1776308,-27.586699499999995],[153.171852,-27.591079900000004],[153.1741708,-27.595483799999997],[153.171555,-27.5994362],[153.1760694,-27.6016513],[153.1773074,-27.6038282],[153.175768,-27.6066945],[153.1732031,-27.606100499999993],[153.1713897,-27.603355199999992],[153.1667458,-27.600663199999996],[153.1639838,-27.597752200000002],[153.1598599,-27.595899299999996],[153.1562061,-27.5918014],[153.149276,-27.591179399999998],[153.147363,-27.590550399999998],[153.142724,-27.5911955],[153.1408931,-27.5874294],[153.1390071,-27.5868434],[153.1358582,-27.5841074],[153.1358422,-27.580866400000005],[153.1380491,-27.577523399999997],[153.1370431,-27.576269400000005],[153.138307,-27.5736765],[153.141196,-27.571473500000003],[153.145937,-27.570932500000005],[153.145207,-27.566508499999998],[153.141683,-27.566034500000004],[153.142957,-27.5625355],[153.1390613,-27.5595187],[153.139538,-27.5570549],[153.136818,-27.5566505],[153.137953,-27.550416499999994],[153.136074,-27.548022500000002],[153.1321289,-27.5469955],[153.1388231,-27.545705400000003],[153.1408138,-27.534514399999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Cashmere","suburb_areasqkm":34.6237,"address_cnt":1936.0,"address_density_sqkm":56.0,"tp":"Suburb : Cashmere<br>Density per sqkm: 56"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9399771,-27.289252399999988],[152.9369431,-27.306820399999996],[152.9389711,-27.307116399999998],[152.9353839,-27.32676839999999],[152.9348371,-27.327812399999996],[152.9278558,-27.331222799999992],[152.9217011,-27.330394800000004],[152.9172482,-27.333033399999994],[152.915304,-27.3290344],[152.912632,-27.3258824],[152.912286,-27.3232984],[152.910371,-27.323197399999994],[152.906816,-27.3211724],[152.906606,-27.319548400000002],[152.9039,-27.318321400000002],[152.901485,-27.315538500000002],[152.900466,-27.311911499999997],[152.8969081,-27.310124500000004],[152.89567810000003,-27.305436500000003],[152.893637,-27.303382500000005],[152.8893332,-27.3021976],[152.8872772,-27.302633599999993],[152.8861212,-27.305455599999995],[152.8820793,-27.3046137],[152.8794309,-27.3025324],[152.8763884,-27.3014887],[152.8691255,-27.296313799999997],[152.867863,-27.293565399999995],[152.8678485,-27.289676899999993],[152.8667295,-27.287758899999996],[152.8664945,-27.2846689],[152.8705414,-27.280393899999993],[152.8745371,-27.274777399999998],[152.8734301,-27.2745375],[152.8762949,-27.2736015],[152.8770689,-27.2710664],[152.8765221,-27.26853939999999],[152.879013,-27.268182400000004],[152.8809191,-27.266130399999998],[152.881092,-27.26263149999999],[152.8852859,-27.2606754],[152.8861071,-27.257287399999996],[152.8850552,-27.255703399999998],[152.888662,-27.253742399999997],[152.8911831,-27.2576995],[152.8963012,-27.26113939999999],[152.897135,-27.2632445],[152.89714,-27.267935400000002],[152.9005111,-27.270336499999992],[152.9025202,-27.268903500000004],[152.9032809,-27.266239499999994],[152.9061282,-27.265613399999992],[152.9104762,-27.266056399999993],[152.913722,-27.2674185],[152.9178879,-27.270736399999997],[152.922281,-27.27341739999999],[152.9256544,-27.278101400000004],[152.9276163,-27.278992399999996],[152.9290703,-27.281835299999997],[152.9285678,-27.283201799999997],[152.93047710000002,-27.286479400000005],[152.9353811,-27.2883004],[152.9399771,-27.289252399999988]]]]}},{"type":"Feature","properties":{"suburb_name":"Chandler (Qld)","suburb_areasqkm":13.5401,"address_cnt":808.0,"address_density_sqkm":60.0,"tp":"Suburb : Chandler (Qld)<br>Density per sqkm: 60"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.175979,-27.533117499999996],[153.169182,-27.531732499999997],[153.1683302,-27.5296494],[153.165932,-27.529271499999993],[153.16400800000002,-27.5310255],[153.1419864,-27.527932399999997],[153.1448738,-27.512442900000007],[153.1416368,-27.511917499999992],[153.1424429,-27.5082245],[153.1495241,-27.509563500000002],[153.1509121,-27.502020399999996],[153.1774357,-27.506123199999994],[153.1781526,-27.500531200000005],[153.184719,-27.501550499999997],[153.187541,-27.5011255],[153.18805,-27.5037955],[153.191376,-27.506893500000004],[153.191104,-27.508610499999993],[153.194853,-27.5090045],[153.197502,-27.510104499999994],[153.201166,-27.5141515],[153.196655,-27.5164775],[153.193451,-27.5158755],[153.193455,-27.5180385],[153.188331,-27.518193499999995],[153.184451,-27.521571499999997],[153.184045,-27.52293849999999],[153.185791,-27.527494500000003],[153.184413,-27.5293645],[153.180069,-27.52987149999999],[153.175979,-27.533117499999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Deebing Heights","suburb_areasqkm":11.3758,"address_cnt":2088.0,"address_density_sqkm":184.0,"tp":"Suburb : Deebing Heights<br>Density per sqkm: 184"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.77861,-27.684084399999996],[152.7778635,-27.6879725],[152.7752691,-27.687595999999996],[152.771631,-27.706999399999994],[152.777453,-27.707844499999997],[152.7766378,-27.712288999999995],[152.758622,-27.709691399999993],[152.759436,-27.705287],[152.7562529,-27.704407400000008],[152.7479283,-27.705160600000003],[152.7443632,-27.6739014],[152.7470513,-27.664983599999996],[152.752617,-27.664635399999998],[152.7594416,-27.662818100000003],[152.76014600000002,-27.666212399999992],[152.757981,-27.668823400000004],[152.7634001,-27.675653399999998],[152.7662841,-27.6764014],[152.766826,-27.67925339999999],[152.765234,-27.680899399999998],[152.772835,-27.681174399999993],[152.77861,-27.684084399999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Dunwich","suburb_areasqkm":1.5954,"address_cnt":552.0,"address_density_sqkm":346.0,"tp":"Suburb : Dunwich<br>Density per sqkm: 346"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.40839,-27.50518469999999],[153.4055574,-27.503339099999998],[153.4025694,-27.5028601],[153.3984562,-27.496730499999998],[153.400295,-27.4957045],[153.4064703,-27.489953100000008],[153.406975,-27.488669500000007],[153.40693,-27.489947499999992],[153.414894,-27.49359550000001],[153.415772,-27.496795500000005],[153.412613,-27.497282500000004],[153.413408,-27.5036525],[153.411389,-27.50271149999999],[153.410233,-27.4998865],[153.408468,-27.501431499999992],[153.404612,-27.501450500000004],[153.40839,-27.50518469999999]]]]}},{"type":"Feature","properties":{"suburb_name":"Elimbah","suburb_areasqkm":101.1794,"address_cnt":2067.0,"address_density_sqkm":20.0,"tp":"Suburb : Elimbah<br>Density per sqkm: 20"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9016331,-27.026110400000004],[152.9078154,-26.992876399999993],[152.90796200000003,-26.9892144],[152.8940446,-26.987275700000005],[152.89466220000003,-26.982705399999997],[152.8901881,-26.978319400000004],[152.8893302,-26.9761284],[152.8866663,-26.973238400000003],[152.8821,-26.972699399999993],[152.8808162,-26.969735400000005],[152.8755732,-26.968005399999996],[152.8734661,-26.96365049999999],[152.874011,-26.958328400000003],[152.8855148,-26.955939600000004],[152.887792,-26.957256400000006],[152.8911612,-26.960737399999996],[152.8931289,-26.9594835],[152.8984314,-26.958019200000003],[152.9037188,-26.953882500000002],[152.9104212,-26.954423700000007],[152.9132899,-26.953963299999995],[152.919733,-26.95550009999999],[152.9215111,-26.960632399999998],[152.9235161,-26.9600774],[152.9325851,-26.963312400000003],[152.9350421,-26.9631114],[152.9373801,-26.964357399999997],[152.9440161,-26.9653074],[152.9458961,-26.9665594],[152.9516071,-26.966017400000002],[152.9533661,-26.968437399999996],[152.9613411,-26.972549400000002],[152.9666391,-26.9787924],[152.9750171,-26.9743674],[152.9781391,-26.980246399999995],[152.9740941,-26.9823464],[152.9755941,-26.9846674],[152.9803521,-26.982199399999992],[152.9851381,-26.984714400000005],[152.9884251,-26.9831154],[152.9916671,-26.9845204],[152.9942651,-26.984092400000005],[153.0029701,-26.984774400000003],[153.0115961,-26.978980399999998],[153.0168591,-26.979054399999992],[153.0180821,-26.976444400000002],[153.0175301,-26.972454400000004],[153.01846010000003,-26.966342399999995],[153.0427681,-26.9694464],[153.0431381,-26.971904399999996],[153.0460291,-26.974292399999992],[153.0448781,-26.980321399999994],[153.0486701,-26.981253400000003],[153.0481991,-26.9837314],[153.0392721,-26.989703399999996],[153.0365931,-26.988977400000003],[153.0348152,-26.99058640000001],[153.0329702,-27.001276400000005],[153.0311821,-27.0041484],[153.029147,-27.0151174],[153.0283361,-27.017281399999998],[153.0255481,-27.0171194],[153.0236091,-27.0278665],[153.024971,-27.029835399999996],[153.018126,-27.031247600000004],[153.0165021,-27.032626599999993],[153.010476,-27.0352984],[153.003002,-27.0402004],[152.998371,-27.0412135],[152.9893711,-27.039785399999996],[152.9757781,-27.0407604],[152.9696129,-27.043347900000004],[152.9616541,-27.042386399999998],[152.9612371,-27.045403],[152.9484691,-27.0438984],[152.9471041,-27.043292400000006],[152.9334034,-27.041326199999993],[152.9322024,-27.0352312],[152.9300891,-27.030188400000004],[152.9016331,-27.026110400000004]]]]}},{"type":"Feature","properties":{"suburb_name":"Fitzgibbon","suburb_areasqkm":3.2484,"address_cnt":3489.0,"address_density_sqkm":1074.0,"tp":"Suburb : Fitzgibbon<br>Density per sqkm: 1,074"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.018462,-27.3322474],[153.017153,-27.329743799999996],[153.036994,-27.332816500000003],[153.04553310000003,-27.330632499999997],[153.045176,-27.33283469999999],[153.0405162,-27.336662699999998],[153.03975,-27.339513400000005],[153.04052,-27.3425354],[153.0389231,-27.344522499999997],[153.03528900000003,-27.3467704],[153.0353481,-27.349565400000003],[153.0333697,-27.353257000000003],[153.0321308,-27.352589699999996],[153.0299523,-27.350625500000003],[153.0280893,-27.3454426],[153.0197113,-27.334354599999994],[153.018462,-27.3322474]]]]}},{"type":"Feature","properties":{"suburb_name":"Flagstone","suburb_areasqkm":13.2233,"address_cnt":3561.0,"address_density_sqkm":269.0,"tp":"Suburb : Flagstone<br>Density per sqkm: 269"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.93036300000003,-27.8331244],[152.9335537,-27.829720299999998],[152.9269584,-27.828709500000002],[152.9319591,-27.803037699999994],[152.9372951,-27.796863000000002],[152.9400451,-27.792447399999997],[152.943423,-27.793459499999997],[152.947109,-27.795875399999996],[152.9477829,-27.798582800000002],[152.9510065,-27.800075600000003],[152.9564751,-27.790852799999996],[152.9621479,-27.791746],[152.9613024,-27.796313999999995],[152.973433,-27.798032500000005],[152.9739645,-27.795109300000004],[152.977426,-27.800940099999995],[152.9721614,-27.800550299999998],[152.9669645,-27.8068942],[152.9682041,-27.8076722],[152.9646061,-27.8119893],[152.9659421,-27.814574599999993],[152.97041510000003,-27.817490500000005],[152.9626369,-27.8208514],[152.941902,-27.8303474],[152.93838000000002,-27.834232399999994],[152.93036300000003,-27.8331244]]]]}},{"type":"Feature","properties":{"suburb_name":"Forestdale","suburb_areasqkm":6.0833,"address_cnt":1724.0,"address_density_sqkm":283.0,"tp":"Suburb : Forestdale<br>Density per sqkm: 283"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.000205,-27.655080400000003],[153.012045,-27.6571314],[153.014537,-27.656805499999994],[153.0193526,-27.657380999999994],[153.0186338,-27.6626844],[153.020784,-27.667945399999997],[153.0206581,-27.6697905],[153.0166021,-27.678918999999997],[153.0077353,-27.677570899999996],[153.0089898,-27.670572699999994],[152.991548,-27.6679464],[152.991075,-27.6630375],[152.991613,-27.660458399999992],[152.982182,-27.659075399999995],[152.984098,-27.648629499999995],[152.989281,-27.65146139999999],[153.000205,-27.655080400000003]]]]}},{"type":"Feature","properties":{"suburb_name":"Gailes","suburb_areasqkm":1.2287,"address_cnt":815.0,"address_density_sqkm":663.0,"tp":"Suburb : Gailes<br>Density per sqkm: 663"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.909044,-27.6229494],[152.907306,-27.620807399999997],[152.9060921,-27.615312399999997],[152.90997,-27.613577400000004],[152.908961,-27.608930400000002],[152.917014,-27.605586400000004],[152.920489,-27.605711400000004],[152.922852,-27.6068674],[152.919176,-27.613333499999996],[152.911801,-27.612060399999997],[152.9100849,-27.621290500000004],[152.909044,-27.6229494]]]]}},{"type":"Feature","properties":{"suburb_name":"Gilston","suburb_areasqkm":9.4794,"address_cnt":1052.0,"address_density_sqkm":111.0,"tp":"Suburb : Gilston<br>Density per sqkm: 111"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.3107099,-28.0430825],[153.296754,-28.0410398],[153.295598,-28.046966500000003],[153.2978334,-28.047304799999992],[153.297279,-28.0501339],[153.2941469,-28.049656500000005],[153.2900329,-28.046097499999995],[153.2858007,-28.045294200000008],[153.2869529,-28.0425145],[153.2835669,-28.035142499999992],[153.2836269,-28.031223499999992],[153.2857459,-28.028986499999995],[153.2971599,-28.032800499999993],[153.3031779,-28.032938499999993],[153.3040459,-28.0312215],[153.30175,-28.0264525],[153.2943699,-28.025344500000003],[153.2932309,-28.026712500000006],[153.2904779,-28.026211499999995],[153.2872679,-28.021720500000004],[153.2894449,-28.0171175],[153.2963709,-28.018124499999995],[153.3007879,-28.0214815],[153.3057289,-28.022297500000004],[153.308952,-28.02108249999999],[153.3088449,-28.01535150000001],[153.3053559,-28.01337650000001],[153.3043829,-28.00972249999999],[153.3069709,-28.008174499999996],[153.310052,-28.0076795],[153.3100489,-28.009836499999995],[153.3117829,-28.0118315],[153.3163379,-28.012377499999996],[153.3184439,-28.0140085],[153.3190019,-28.017721500000004],[153.3223907,-28.018873599999992],[153.3239563,-28.02221589999999],[153.3225351,-28.029716399999998],[153.3200033,-28.033844499999997],[153.3206221,-28.0388018],[153.3183381,-28.041277600000004],[153.310729,-28.040128499999998],[153.3107099,-28.0430825]]]]}},{"type":"Feature","properties":{"suburb_name":"Hollywell","suburb_areasqkm":1.858,"address_cnt":1520.0,"address_density_sqkm":818.0,"tp":"Suburb : Hollywell<br>Density per sqkm: 818"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.4048383,-27.901891800000005],[153.40374590000002,-27.902959499999998],[153.3883772,-27.90062739999999],[153.3886745,-27.891894000000004],[153.3902797,-27.888623],[153.3981623,-27.889552899999995],[153.4008013,-27.892617800000004],[153.4030823,-27.8966608],[153.4048383,-27.901891800000005]]]]}},{"type":"Feature","properties":{"suburb_name":"Kobble Creek","suburb_areasqkm":52.6205,"address_cnt":287.0,"address_density_sqkm":5.0,"tp":"Suburb : Kobble Creek<br>Density per sqkm: 5"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.8417951,-27.23490539999999],[152.8455811,-27.23447039999999],[152.8455871,-27.2380144],[152.8479861,-27.2392534],[152.8543411,-27.239636400000002],[152.8566591,-27.2430674],[152.857247,-27.2459314],[152.8566011,-27.2489444],[152.8578849,-27.253554399999995],[152.8555622,-27.25790439999999],[152.8545042,-27.256175399999997],[152.8513711,-27.254644399999997],[152.8476541,-27.253767400000008],[152.8467152,-27.2589384],[152.8416561,-27.258224399999996],[152.840957,-27.2623805],[152.8422029,-27.264009499999997],[152.840467,-27.2662734],[152.8352582,-27.2701434],[152.8342632,-27.273382399999992],[152.8298851,-27.27495739999999],[152.8286491,-27.277232400000003],[152.82593210000002,-27.276261400000003],[152.8234841,-27.276835400000003],[152.8220771,-27.2787364],[152.8149539,-27.28047649999999],[152.81388210000003,-27.286949499999995],[152.8129022,-27.286819400000002],[152.812279,-27.29384350000001],[152.8087011,-27.300400199999995],[152.7780836,-27.296350999999998],[152.7702074,-27.301178],[152.7677655,-27.295860399999995],[152.7667255,-27.294982499999996],[152.7577055,-27.2955658],[152.7536061,-27.295001400000004],[152.7598361,-27.280622400000002],[152.7588601,-27.272114400000007],[152.7494403,-27.259957100000005],[152.7501904,-27.2565547],[152.7486181,-27.25040939999999],[152.7457597,-27.249457999999994],[152.7471308,-27.241807899999998],[152.750687,-27.2401144],[152.7555391,-27.24016549999999],[152.7574205,-27.238040300000005],[152.7620741,-27.2382474],[152.7666491,-27.242043399999993],[152.7732381,-27.2460175],[152.7770372,-27.245328399999998],[152.7788069,-27.246060399999998],[152.7811742,-27.243603999999994],[152.7850991,-27.241782399999998],[152.7885477,-27.243302100000005],[152.7940551,-27.243146300000003],[152.7943542,-27.241251300000005],[152.7916737,-27.238323700000002],[152.7951815,-27.2329141],[152.8054048,-27.234228199999993],[152.804781,-27.237850399999992],[152.8080879,-27.237238399999995],[152.8126091,-27.237895399999996],[152.816625,-27.239795399999995],[152.8201209,-27.238631400000003],[152.8228562,-27.239320500000005],[152.8267071,-27.23696139999999],[152.8361402,-27.2366074],[152.8417951,-27.23490539999999]]]]}},{"type":"Feature","properties":{"suburb_name":"Kuraby","suburb_areasqkm":4.6867,"address_cnt":3370.0,"address_density_sqkm":719.0,"tp":"Suburb : Kuraby<br>Density per sqkm: 719"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.101076,-27.618078499999996],[153.094709,-27.617349499999996],[153.093105,-27.6174605],[153.084265,-27.616193399999997],[153.078733,-27.613583600000002],[153.078184,-27.6133214],[153.0798866,-27.605391300000004],[153.081871,-27.605545499999998],[153.084433,-27.6038425],[153.0914212,-27.6003274],[153.095913,-27.5947835],[153.0959913,-27.591791899999997],[153.099523,-27.592258500000003],[153.0992526,-27.5937671],[153.102647,-27.59424719999999],[153.1058418,-27.5931716],[153.10309400000003,-27.6081245],[153.101076,-27.618078499999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Montville","suburb_areasqkm":18.1045,"address_cnt":918.0,"address_density_sqkm":51.0,"tp":"Suburb : Montville<br>Density per sqkm: 51"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.879175,-26.6719134],[152.8794232,-26.6738954],[152.8814632,-26.6776614],[152.8860082,-26.681096400000005],[152.8912342,-26.6820614],[152.8920801,-26.683957399999997],[152.891571,-26.687063399999996],[152.8953481,-26.687006399999994],[152.8992244,-26.6887485],[152.9002761,-26.6876064],[152.9065532,-26.6883444],[152.9059902,-26.690839399999998],[152.9115722,-26.6915044],[152.9108532,-26.695759399999993],[152.9138212,-26.6990404],[152.9127501,-26.706673400000003],[152.9130076,-26.7100917],[152.9115551,-26.712111399999998],[152.9116332,-26.7147594],[152.9101532,-26.723875399999997],[152.9095682,-26.727510399999993],[152.9063732,-26.729376999999992],[152.8998682,-26.728600399999998],[152.8993896,-26.722992399999995],[152.8981001,-26.719302400000007],[152.8991332,-26.716713400000003],[152.8872885,-26.7151594],[152.8888892,-26.705393699999988],[152.8834241,-26.704673399999997],[152.8844214,-26.698723999999995],[152.8780412,-26.6978384],[152.8768471,-26.695505399999995],[152.8699211,-26.694569399999995],[152.86972,-26.690513400000007],[152.8704219,-26.6862985],[152.8569998,-26.684461199999998],[152.8562461,-26.689155400000004],[152.8544243,-26.6889178],[152.851937,-26.686811800000008],[152.8474892,-26.679861399999997],[152.8440312,-26.680305399999998],[152.8450132,-26.677326399999995],[152.8437601,-26.673921899999996],[152.84778100000003,-26.6725884],[152.8488312,-26.670918400000005],[152.8533252,-26.668591399999997],[152.8639783,-26.669808999999997],[152.879175,-26.6719134]]]]}},{"type":"Feature","properties":{"suburb_name":"Nathan","suburb_areasqkm":5.266,"address_cnt":502.0,"address_density_sqkm":95.0,"tp":"Suburb : Nathan<br>Density per sqkm: 95"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.058861,-27.538170899999997],[153.0607492,-27.542802499999993],[153.0639386,-27.5466048],[153.0680037,-27.5513328],[153.06608,-27.560956499999996],[153.052174,-27.558965399999995],[153.0472433,-27.558311999999994],[153.0480624,-27.5535768],[153.04151370000002,-27.552681199999995],[153.0418178,-27.550991500000002],[153.0388972,-27.5462955],[153.040254,-27.544111400000006],[153.0391621,-27.539060400000004],[153.03997,-27.5371935],[153.04389350000002,-27.53613],[153.0448133,-27.538177399999995],[153.04811300000003,-27.5386555],[153.0528863,-27.537118499999988],[153.058861,-27.538170899999997]]]]}},{"type":"Feature","properties":{"suburb_name":"North Ipswich","suburb_areasqkm":4.2994,"address_cnt":2725.0,"address_density_sqkm":634.0,"tp":"Suburb : North Ipswich<br>Density per sqkm: 634"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.767784,-27.61107439999999],[152.764624,-27.612227399999995],[152.7589647,-27.610329400000005],[152.75557,-27.607870399999996],[152.7573411,-27.603931400000004],[152.7547891,-27.599095400000007],[152.7541571,-27.595237399999995],[152.756474,-27.594697400000005],[152.752598,-27.589006399999995],[152.756369,-27.587915399999996],[152.753914,-27.5848004],[152.7530631,-27.580776399999987],[152.75471,-27.577112399999997],[152.7587542,-27.576587399999994],[152.766077,-27.577836799999993],[152.766845,-27.5795634],[152.7660691,-27.5820284],[152.768048,-27.584449400000004],[152.764935,-27.587222400000005],[152.7655981,-27.591317399999998],[152.7641663,-27.59477159999999],[152.767122,-27.5976244],[152.76615,-27.601772400000005],[152.768388,-27.603626399999996],[152.768998,-27.605873399999997],[152.767784,-27.61107439999999]]]]}},{"type":"Feature","properties":{"suburb_name":"Parkwood (Qld)","suburb_areasqkm":5.5611,"address_cnt":3828.0,"address_density_sqkm":688.0,"tp":"Suburb : Parkwood (Qld)<br>Density per sqkm: 688"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.3764739,-27.964654499999998],[153.3707699,-27.964169500000004],[153.3551249,-27.9617645],[153.3521665,-27.960111799999996],[153.3460989,-27.949849500000003],[153.3463189,-27.9490135],[153.3531579,-27.94565750000001],[153.364768,-27.945047499999994],[153.3724657,-27.947042999999997],[153.3783159,-27.9492785],[153.3837429,-27.953896500000003],[153.383155,-27.9551925],[153.3775678,-27.9608335],[153.3764739,-27.964654499999998]]]]}},{"type":"Feature","properties":{"suburb_name":"Peregian Beach","suburb_areasqkm":16.508,"address_cnt":697.0,"address_density_sqkm":42.0,"tp":"Suburb : Peregian Beach<br>Density per sqkm: 42"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.08126520000002,-26.49580939999999],[153.0800432,-26.4950134],[153.077331,-26.4870346],[153.0760532,-26.484900399999997],[153.0701502,-26.480557499999996],[153.0654187,-26.478530700000004],[153.063814,-26.4794425],[153.0596292,-26.478704500000003],[153.0567562,-26.477332400000005],[153.0458543,-26.468572899999998],[153.0504352,-26.469224399999998],[153.0528552,-26.455332400000007],[153.0541873,-26.4514164],[153.055413,-26.453248499999997],[153.0608402,-26.4561565],[153.0642071,-26.456440400000005],[153.0671902,-26.457671400000002],[153.0718163,-26.458558500000006],[153.0784201,-26.457645499999995],[153.0841072,-26.4538114],[153.0823493,-26.451592399999996],[153.0940055,-26.450097999999997],[153.0959052,-26.45783979999999],[153.0950029,-26.458508000000002],[153.0986452,-26.461944600000002],[153.100705,-26.462136499999996],[153.0994083,-26.4704705],[153.0973081,-26.487956499999992],[153.0955651,-26.498559399999994],[153.0918191,-26.498555400000004],[153.0897631,-26.4972805],[153.08126520000002,-26.49580939999999]]]]}},{"type":"Feature","properties":{"suburb_name":"Wacol","suburb_areasqkm":17.7417,"address_cnt":1210.0,"address_density_sqkm":68.0,"tp":"Suburb : Wacol<br>Density per sqkm: 68"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.943826,-27.603908399999998],[152.942726,-27.609518399999995],[152.931498,-27.607788400000004],[152.928127,-27.606399399999994],[152.922852,-27.6068674],[152.920489,-27.605711400000004],[152.917014,-27.605586400000004],[152.9089181,-27.606436399999996],[152.906448,-27.605254399999996],[152.903059,-27.605441400000004],[152.9009751,-27.6031324],[152.9039781,-27.602723799999996],[152.906704,-27.601332799999994],[152.905997,-27.5964058],[152.9031,-27.59145379999999],[152.900423,-27.5897614],[152.896853,-27.5856649],[152.89462600000002,-27.579035399999988],[152.894772,-27.5765449],[152.8975539,-27.572595900000003],[152.9018451,-27.56867589999999],[152.904033,-27.5657534],[152.906519,-27.5667154],[152.909663,-27.5656484],[152.91296,-27.566622399999996],[152.915314,-27.565626399999996],[152.922631,-27.567098400000003],[152.9226225,-27.5698167],[152.925689,-27.567891399999993],[152.9289741,-27.568405499999997],[152.931677,-27.5705144],[152.940735,-27.57072839999999],[152.9422168,-27.572763999999996],[152.941338,-27.5747574],[152.938342,-27.576642400000004],[152.938138,-27.579368399999993],[152.941931,-27.577565399999997],[152.945055,-27.5829064],[152.9369139,-27.5871244],[152.9358045,-27.589098700000008],[152.9450644,-27.593231600000006],[152.9431544,-27.5966436],[152.9450334,-27.597478599999995],[152.943826,-27.603908399999998]]]]}},{"type":"Feature","properties":{"suburb_name":"Wongawallan","suburb_areasqkm":32.7918,"address_cnt":709.0,"address_density_sqkm":22.0,"tp":"Suburb : Wongawallan<br>Density per sqkm: 22"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.2135815,-27.9180481],[153.212622,-27.917893499999995],[153.215469,-27.902747499999993],[153.211694,-27.902165499999995],[153.2120976,-27.9001124],[153.194994,-27.897453499999997],[153.195051,-27.8971635],[153.195909,-27.8928195],[153.203154,-27.8938105],[153.204869,-27.884631499999998],[153.20724600000003,-27.8849875],[153.208961,-27.876074499999998],[153.214848,-27.876974499999992],[153.216391,-27.8688915],[153.214336,-27.868592499999995],[153.216264,-27.8583035],[153.217947,-27.8554645],[153.221032,-27.8549245],[153.2225772,-27.85301],[153.2321477,-27.8543959],[153.233952,-27.850826499999993],[153.2374434,-27.854435100000003],[153.241879,-27.856974599999997],[153.2434093,-27.85888080000001],[153.2499927,-27.862563700000003],[153.25254710000002,-27.8626102],[153.25491890000004,-27.864018499999997],[153.2575466,-27.862618299999998],[153.2558445,-27.8707796],[153.2585301,-27.871214700000007],[153.2579757,-27.8738609],[153.2654059,-27.8750605],[153.264911,-27.8835375],[153.262729,-27.894051499999996],[153.265923,-27.8945295],[153.26497490000003,-27.899485400000003],[153.260616,-27.900725500000004],[153.258832,-27.899018500000004],[153.255327,-27.902006500000006],[153.2523059,-27.902017500000003],[153.251715,-27.905867499999996],[153.2546749,-27.9064575],[153.254127,-27.9122885],[153.256863,-27.913024500000002],[153.258089,-27.9162565],[153.26008,-27.919239500000003],[153.2572139,-27.921483499999997],[153.2477139,-27.917331500000003],[153.2444799,-27.9148435],[153.2371849,-27.91596249999999],[153.234633,-27.918175500000004],[153.2314429,-27.91893349999999],[153.2294169,-27.917783499999995],[153.2229069,-27.917570499999997],[153.222385,-27.92299850000001],[153.2202208,-27.922133499999994],[153.2207911,-27.919151399999997],[153.2135815,-27.9180481]]]]}},{"type":"Feature","properties":{"suburb_name":"Donnybrook (Qld)","suburb_areasqkm":18.5103,"address_cnt":518.0,"address_density_sqkm":28.0,"tp":"Suburb : Donnybrook (Qld)<br>Density per sqkm: 28"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0512891,-27.029906399999998],[153.0448771,-27.028342499999997],[153.0401111,-27.0308794],[153.0403601,-27.028567399999996],[153.0441271,-27.025433400000004],[153.0391951,-27.0237654],[153.0363501,-27.025999400000003],[153.0320471,-27.0232574],[153.0306101,-27.021042399999995],[153.0332521,-27.0201435],[153.0314631,-27.017545400000003],[153.0283361,-27.017281399999998],[153.029147,-27.0151174],[153.0311821,-27.0041484],[153.0329702,-27.001276400000005],[153.0348152,-26.99058640000001],[153.0365931,-26.988977400000003],[153.0392721,-26.989703399999996],[153.0481991,-26.9837314],[153.0486701,-26.981253400000003],[153.0448781,-26.980321399999994],[153.0460291,-26.974292399999992],[153.0431381,-26.971904399999996],[153.0427681,-26.9694464],[153.0496261,-26.975038400000003],[153.0532721,-26.9757664],[153.0550531,-26.98044549999999],[153.0593181,-26.9799474],[153.0615541,-26.9807124],[153.0663441,-26.983695399999995],[153.0698891,-26.988291399999998],[153.0698851,-26.9909114],[153.0686431,-26.9932514],[153.0649171,-26.993407399999995],[153.0627721,-26.994787400000007],[153.0636761,-26.996603400000005],[153.0669872,-26.999010100000003],[153.06930920000002,-26.998604100000005],[153.0713591,-27.000280100000005],[153.0712682,-27.0030871],[153.0724841,-27.004677099999995],[153.0726942,-27.009826099999998],[153.0778941,-27.0141221],[153.0803781,-27.015129500000008],[153.0771041,-27.017419399999998],[153.0682351,-27.0225824],[153.0630401,-27.018553500000003],[153.0563691,-27.017429399999997],[153.0572244,-27.019968999999993],[153.0521631,-27.024365499999995],[153.0512891,-27.029906399999998]]],[[[153.085548,-27.007338099999995],[153.085358,-27.008881999999996],[153.08281800000003,-27.010985100000003],[153.0785381,-27.010442100000002],[153.0773371,-27.0092291],[153.077518,-27.0043431],[153.079084,-27.0015711],[153.080547,-27.001334100000005],[153.084934,-27.005103099999996],[153.085548,-27.007338099999995]]]]}},{"type":"Feature","properties":{"suburb_name":"Luscombe","suburb_areasqkm":16.971,"address_cnt":317.0,"address_density_sqkm":19.0,"tp":"Suburb : Luscombe<br>Density per sqkm: 19"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.228753,-27.7767975],[153.229028,-27.779838499999997],[153.23145700000003,-27.7885045],[153.226534,-27.791135499999996],[153.2227711,-27.7909225],[153.2211929,-27.789433499999998],[153.2157979,-27.788470500000003],[153.2124913,-27.791701600000003],[153.212186,-27.7961115],[153.210444,-27.7982885],[153.2100105,-27.800632500000003],[153.2081395,-27.802920499999995],[153.2081569,-27.8062845],[153.2107475,-27.809238500000003],[153.2119025,-27.812631399999997],[153.2112596,-27.814796399999995],[153.2081979,-27.814954499999995],[153.2026497,-27.81306349999999],[153.184624,-27.810288600000003],[153.177974,-27.811355499999998],[153.176176,-27.80836349999999],[153.169248,-27.803285499999998],[153.170063,-27.7994045],[153.182352,-27.794542499999995],[153.184241,-27.788860499999995],[153.19139,-27.781530500000002],[153.193013,-27.779389499999997],[153.191225,-27.7772215],[153.187846,-27.7770725],[153.186512,-27.77496049999999],[153.190826,-27.775544499999988],[153.193903,-27.7747145],[153.194573,-27.773358499999993],[153.199671,-27.7740845],[153.2053759,-27.7702914],[153.2097006,-27.771026699999997],[153.2113516,-27.764114200000005],[153.2132106,-27.760710900000003],[153.2151924,-27.76370959999999],[153.2187571,-27.766257599999996],[153.222061,-27.7707385],[153.228753,-27.7767975]]]]}},{"type":"Feature","properties":{"suburb_name":"Calvert (Qld)","suburb_areasqkm":44.1766,"address_cnt":267.0,"address_density_sqkm":6.0,"tp":"Suburb : Calvert (Qld)<br>Density per sqkm: 6"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.537743,-27.6895034],[152.5363581,-27.696488399999996],[152.533538,-27.699647399999993],[152.5198641,-27.6975034],[152.519223,-27.700990399999995],[152.5140441,-27.7002574],[152.5117051,-27.7126974],[152.4926471,-27.709870399999996],[152.4895221,-27.711114400000003],[152.4873351,-27.710318399999995],[152.4827311,-27.71508040000001],[152.48241910000002,-27.7179574],[152.480795,-27.718511399999997],[152.475783,-27.712041399999997],[152.478914,-27.710052400000002],[152.4777191,-27.708559399999995],[152.4810271,-27.7063884],[152.4762321,-27.7005194],[152.4805011,-27.6973314],[152.469447,-27.6957534],[152.4718611,-27.683060399999995],[152.4730241,-27.679952399999998],[152.483914,-27.681645399999997],[152.485551,-27.672280400000002],[152.491755,-27.6731364],[152.4928001,-27.667035400000003],[152.4959151,-27.665324399999996],[152.4985151,-27.652177399999992],[152.4998671,-27.649942400000004],[152.4954281,-27.645700399999992],[152.4941521,-27.6427964],[152.4948711,-27.639988399999996],[152.4939061,-27.6350354],[152.4953801,-27.6337424],[152.4961251,-27.6273644],[152.4948551,-27.625716399999998],[152.4969931,-27.623335399999995],[152.4976862,-27.618999399999996],[152.5119001,-27.620908400000005],[152.5169771,-27.6194124],[152.518339,-27.618015000000003],[152.5199511,-27.619723399999994],[152.5125291,-27.622688899999996],[152.514825,-27.628044899999995],[152.5185017,-27.626331599999993],[152.52033180000004,-27.629871599999998],[152.5236929,-27.62847739999999],[152.5253441,-27.631279400000004],[152.5315941,-27.644512399999993],[152.5341401,-27.643462399999997],[152.5431111,-27.661315400000003],[152.5469561,-27.659757399999997],[152.5447541,-27.664298399999996],[152.5423641,-27.664656399999995],[152.537743,-27.6895034]]]]}},{"type":"Feature","properties":{"suburb_name":"Mount Mort","suburb_areasqkm":102.0564,"address_cnt":188.0,"address_density_sqkm":2.0,"tp":"Suburb : Mount Mort<br>Density per sqkm: 2"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.4034851,-27.7488434],[152.4051321,-27.749104400000004],[152.4101351,-27.720789400000005],[152.4067801,-27.7202944],[152.4090691,-27.707747400000006],[152.4122571,-27.708200399999996],[152.4240261,-27.7098944],[152.4247591,-27.705726399999996],[152.4408551,-27.707876400000004],[152.4569561,-27.7102724],[152.454311,-27.724901399999993],[152.46580410000004,-27.727998399999997],[152.4668411,-27.727532399999998],[152.4670741,-27.723888399999996],[152.4684501,-27.721814400000003],[152.4705741,-27.724360399999995],[152.4708931,-27.725984399999998],[152.4692931,-27.7299594],[152.4717761,-27.7324614],[152.4820411,-27.728624399999994],[152.492675,-27.730157400000007],[152.4897594,-27.746568499999995],[152.4875881,-27.7462604],[152.4855491,-27.757419399999993],[152.4766551,-27.758181399999998],[152.4731551,-27.772874399999996],[152.4751291,-27.7739064],[152.4734001,-27.78398839999999],[152.4674111,-27.7831214],[152.466642,-27.787662400000006],[152.467171,-27.789224399999995],[152.4638611,-27.793765400000005],[152.4623341,-27.802552399999996],[152.4593781,-27.803140399999993],[152.451184,-27.801989400000007],[152.4434041,-27.8447584],[152.435874,-27.843709399999998],[152.436259,-27.8416164],[152.4284791,-27.8404644],[152.4254661,-27.857165399999992],[152.4208921,-27.8565514],[152.4192862,-27.8654564],[152.413444,-27.865104299999995],[152.4023563,-27.863690600000005],[152.40262600000003,-27.860754399999998],[152.4009381,-27.856665399999997],[152.4014501,-27.853167400000004],[152.4008861,-27.849780399999993],[152.3994011,-27.847327400000005],[152.3984361,-27.8400434],[152.396152,-27.837165399999996],[152.394765,-27.8341404],[152.3948711,-27.830874400000006],[152.3993301,-27.827349400000003],[152.400723,-27.824737399999997],[152.398669,-27.818608399999995],[152.3919572,-27.817680799999994],[152.3933511,-27.8097254],[152.3849983,-27.8085439],[152.3827924,-27.807217900000005],[152.3834033,-27.80366280000001],[152.3857752,-27.8030028],[152.400866,-27.805139699999994],[152.4070581,-27.8054994],[152.4087658,-27.796105699999995],[152.4025939,-27.7952707],[152.4036618,-27.789587700000002],[152.4026678,-27.789446700000006],[152.3954041,-27.7819054],[152.3895111,-27.769547399999993],[152.3918757,-27.7568378],[152.3953761,-27.761003399999993],[152.3973045,-27.7511308],[152.4029154,-27.7519308],[152.4034851,-27.7488434]]]]}},{"type":"Feature","properties":{"suburb_name":"Basin Pocket","suburb_areasqkm":0.6416,"address_cnt":505.0,"address_density_sqkm":787.0,"tp":"Suburb : Basin Pocket<br>Density per sqkm: 787"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.7742641,-27.5977144],[152.774498,-27.598007400000004],[152.7727211,-27.606410399999998],[152.768998,-27.605873399999997],[152.768388,-27.603626399999996],[152.76615,-27.601772400000005],[152.767122,-27.5976244],[152.771955,-27.5965144],[152.7742641,-27.5977144]]]]}},{"type":"Feature","properties":{"suburb_name":"Belivah","suburb_areasqkm":3.3475,"address_cnt":442.0,"address_density_sqkm":132.0,"tp":"Suburb : Belivah<br>Density per sqkm: 132"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.162754,-27.762938499999994],[153.164141,-27.755321499999997],[153.165156,-27.749759499999996],[153.1868629,-27.752847499999998],[153.186863,-27.753015499999993],[153.185525,-27.7614675],[153.184402,-27.767246499999995],[153.178282,-27.7660835],[153.175355,-27.764414499999997],[153.171738,-27.76537949999999],[153.16920800000003,-27.7638215],[153.162754,-27.762938499999994]]]]}},{"type":"Feature","properties":{"suburb_name":"Eerwah Vale","suburb_areasqkm":32.397,"address_cnt":382.0,"address_density_sqkm":12.0,"tp":"Suburb : Eerwah Vale<br>Density per sqkm: 12"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9356514,-26.445031799999995],[152.9328012,-26.459465400000003],[152.9350502,-26.459892399999994],[152.9390732,-26.458476400000006],[152.9407692,-26.459349399999994],[152.9433831,-26.458779399999997],[152.9415327,-26.469087300000005],[152.9430949,-26.470447899999996],[152.9424212,-26.473503299999994],[152.9438962,-26.4769354],[152.945081,-26.48283689999999],[152.9447332,-26.4849254],[152.937575,-26.483865900000005],[152.9355952,-26.494753399999993],[152.936743,-26.4949134],[152.9318822,-26.49515359999999],[152.9311603,-26.499317900000005],[152.9237592,-26.49828539999999],[152.9238241,-26.499592400000004],[152.9212063,-26.514401099999994],[152.9175152,-26.516658399999994],[152.9163132,-26.513350999999997],[152.9145994,-26.512873999999996],[152.9116172,-26.510176399999995],[152.9085525,-26.505533600000003],[152.901415,-26.5044689],[152.9032827,-26.49433699999999],[152.89695040000004,-26.4933961],[152.8961814,-26.490872199999995],[152.8932082,-26.496152499999997],[152.8847496,-26.494953899999995],[152.8829482,-26.4889384],[152.8838312,-26.4844344],[152.87413220000002,-26.482924399999998],[152.8769372,-26.468481399999988],[152.8801292,-26.468984000000003],[152.8859192,-26.4670764],[152.8852791,-26.462228100000004],[152.8876978,-26.4587879],[152.8891052,-26.458767099999996],[152.8924101,-26.454987599999995],[152.8953863,-26.454999500000003],[152.8999262,-26.4540259],[152.9033521,-26.450857699999997],[152.9084746,-26.4516145],[152.9084384,-26.4493385],[152.9123787,-26.450739000000002],[152.91296190000003,-26.447457499999995],[152.9172167,-26.449303399999998],[152.92016710000001,-26.452687399999995],[152.9218451,-26.4430351],[152.9356514,-26.445031799999995]]]]}},{"type":"Feature","properties":{"suburb_name":"Moores Pocket","suburb_areasqkm":0.9183,"address_cnt":423.0,"address_density_sqkm":461.0,"tp":"Suburb : Moores Pocket<br>Density per sqkm: 461"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.7834931,-27.603874400000002],[152.777487,-27.600924399999993],[152.774498,-27.598007400000004],[152.7742641,-27.5977144],[152.7784959,-27.5939125],[152.77950900000002,-27.594619400000003],[152.779779,-27.5973204],[152.781939,-27.598080399999997],[152.788663,-27.597755400000004],[152.7903681,-27.5990014],[152.789969,-27.6013024],[152.7881771,-27.603081899999992],[152.7834931,-27.603874400000002]]]]}},{"type":"Feature","properties":{"suburb_name":"Mount Coot-tha","suburb_areasqkm":14.6114,"address_cnt":126.0,"address_density_sqkm":9.0,"tp":"Suburb : Mount Coot-tha<br>Density per sqkm: 9"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9703899,-27.4874904],[152.9675042,-27.4877655],[152.96813420000004,-27.4909165],[152.9608394,-27.490025300000003],[152.9601647,-27.49365299999999],[152.9557981,-27.4930035],[152.9548962,-27.490156800000005],[152.9484909,-27.4892563],[152.9475376,-27.4943628],[152.9436239,-27.4938104],[152.9447921,-27.48696839999999],[152.9432092,-27.486747500000003],[152.9436743,-27.482679799999993],[152.93765110000004,-27.482394999999997],[152.9274365,-27.480611800000002],[152.92325420000003,-27.480015200000008],[152.922529,-27.483752099999993],[152.9161012,-27.48282650000001],[152.9185064,-27.480832500000005],[152.9197852,-27.471440700000002],[152.9153931,-27.4707904],[152.9169771,-27.46685340000001],[152.919683,-27.462828400000003],[152.9234182,-27.463725400000005],[152.9247211,-27.4648414],[152.9294709,-27.465316399999995],[152.932514,-27.4635584],[152.9348169,-27.465529399999998],[152.9358695,-27.4625551],[152.944035,-27.463817099999996],[152.9449299,-27.458995799999997],[152.957785,-27.460752199999998],[152.9583407,-27.458012900000003],[152.9666461,-27.459086000000003],[152.9658492,-27.465110099999993],[152.9703301,-27.4681584],[152.97172520000004,-27.472886399999993],[152.9761481,-27.4736124],[152.979459,-27.475092399999998],[152.9806719,-27.477149499999992],[152.9722257,-27.481213900000004],[152.9703899,-27.4874904]]]]}},{"type":"Feature","properties":{"suburb_name":"Silverbark Ridge","suburb_areasqkm":16.0164,"address_cnt":672.0,"address_density_sqkm":42.0,"tp":"Suburb : Silverbark Ridge<br>Density per sqkm: 42"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9626511,-27.778902600000006],[152.962648,-27.778919399999992],[152.961986,-27.781538400000006],[152.9564751,-27.790852799999996],[152.9510065,-27.800075600000003],[152.9477829,-27.798582800000002],[152.947109,-27.795875399999996],[152.943423,-27.793459499999997],[152.9400451,-27.792447399999997],[152.9372951,-27.796863000000002],[152.9336741,-27.794258400000004],[152.932762,-27.799068500000008],[152.9239752,-27.797798299999997],[152.9238217,-27.79855839999999],[152.9097391,-27.796511799999998],[152.912022,-27.78280239999999],[152.908979,-27.7823904],[152.904127,-27.783926399999995],[152.9060897,-27.7729761],[152.9110204,-27.77366260000001],[152.913655,-27.759334399999997],[152.93118600000003,-27.761967399999996],[152.9309911,-27.762998399999997],[152.93994,-27.764341400000006],[152.9370529,-27.76898219999999],[152.937203,-27.77095239999999],[152.9438687,-27.771964199999996],[152.94344,-27.774193899999993],[152.9608095,-27.7768065],[152.9626511,-27.778902600000006]]]]}},{"type":"Feature","properties":{"suburb_name":"Stony Creek (Qld)","suburb_areasqkm":45.2945,"address_cnt":178.0,"address_density_sqkm":4.0,"tp":"Suburb : Stony Creek (Qld)<br>Density per sqkm: 4"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.7355911,-26.941437400000005],[152.7331151,-26.941547400000005],[152.7306831,-26.942836399999997],[152.7236301,-26.941079400000003],[152.7233021,-26.9441854],[152.72137020000002,-26.9467814],[152.7199042,-26.950968399999997],[152.7164381,-26.954402399999992],[152.7133951,-26.953088399999995],[152.7110701,-26.953519400000005],[152.7089831,-26.952243399999997],[152.7046661,-26.9479554],[152.7018751,-26.948106399999993],[152.7003031,-26.9464444],[152.6978082,-26.946802399999996],[152.6945362,-26.944767399999993],[152.6910972,-26.945474399999995],[152.6901061,-26.9432554],[152.6877741,-26.94267539999999],[152.6869061,-26.9398994],[152.6843621,-26.938719399999997],[152.6813282,-26.9392214],[152.6792562,-26.9417084],[152.6785612,-26.94421339999999],[152.6762551,-26.9444504],[152.6737171,-26.946031399999995],[152.6733362,-26.9426874],[152.6676271,-26.9436014],[152.6676051,-26.940096399999998],[152.6708962,-26.9384794],[152.6700482,-26.937120399999998],[152.6706361,-26.933134399999993],[152.6695811,-26.928150399999996],[152.6719082,-26.925814400000004],[152.6729862,-26.922592399999996],[152.67645010000004,-26.922345399999998],[152.6781672,-26.9204064],[152.6782581,-26.918366400000007],[152.6823522,-26.917376400000002],[152.6821931,-26.915152399999993],[152.6855772,-26.914755400000008],[152.6874331,-26.9136164],[152.6608191,-26.909907399999998],[152.6651652,-26.907985400000005],[152.6666841,-26.906248399999992],[152.6678151,-26.900219400000005],[152.6674021,-26.896229399999996],[152.6785962,-26.897774400000003],[152.6789724,-26.895583],[152.6886191,-26.896912399999994],[152.68854110000004,-26.892612399999997],[152.6897241,-26.891812400000003],[152.6893432,-26.888878399999992],[152.6872961,-26.8863944],[152.6879581,-26.8816464],[152.7184711,-26.886001400000005],[152.7193712,-26.880923399999993],[152.732097,-26.882737700000007],[152.730689,-26.8800903],[152.7434666,-26.881669900000002],[152.7427015,-26.886748099999995],[152.7381132,-26.88619539999999],[152.7375053,-26.890224100000005],[152.7411141,-26.8906549],[152.7382928,-26.909054999999995],[152.7436502,-26.909718399999996],[152.7434882,-26.910772399999992],[152.7504498,-26.911633099999996],[152.7482291,-26.916164100000003],[152.7443022,-26.915680499999997],[152.7429221,-26.9246144],[152.7351721,-26.937868399999996],[152.7355911,-26.941437400000005]]]]}},{"type":"Feature","properties":{"suburb_name":"Tallegalla","suburb_areasqkm":27.2753,"address_cnt":279.0,"address_density_sqkm":10.0,"tp":"Suburb : Tallegalla<br>Density per sqkm: 10"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.5963371,-27.5992474],[152.5977371,-27.599441400000003],[152.596651,-27.6057674],[152.5869321,-27.6102994],[152.5799681,-27.6125264],[152.5771461,-27.6101874],[152.5725751,-27.61291539999999],[152.5650961,-27.611525399999998],[152.5638221,-27.607659399999996],[152.5557471,-27.610438400000003],[152.5553871,-27.609043400000004],[152.55221010000002,-27.605874400000005],[152.5477401,-27.604224399999996],[152.54579010000003,-27.6007474],[152.5415461,-27.5998064],[152.5390351,-27.600722400000002],[152.5246581,-27.59852439999999],[152.5236692,-27.604196399999992],[152.5150811,-27.603101399999996],[152.5172171,-27.590331400000007],[152.5188311,-27.5898204],[152.5199741,-27.582661399999992],[152.5116821,-27.581578399999998],[152.5124732,-27.574385799999998],[152.5138381,-27.566284400000008],[152.5453511,-27.570514399999997],[152.545415,-27.5694654],[152.5543124,-27.570724299999995],[152.5607121,-27.5683664],[152.5647941,-27.569285400000002],[152.5655711,-27.5758644],[152.5701691,-27.576538400000004],[152.5692581,-27.5814444],[152.5896771,-27.584720399999995],[152.587305,-27.597892400000003],[152.5963371,-27.5992474]]]]}},{"type":"Feature","properties":{"suburb_name":"Tamborine","suburb_areasqkm":71.2311,"address_cnt":614.0,"address_density_sqkm":9.0,"tp":"Suburb : Tamborine<br>Density per sqkm: 9"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.183278,-27.895431500000004],[153.1810791,-27.8959925],[153.1772469,-27.902331399999998],[153.1732,-27.9028674],[153.169022,-27.902153800000004],[153.1674757,-27.910814800000008],[153.171164,-27.911340499999998],[153.1720876,-27.914768299999995],[153.1688995,-27.914468699999993],[153.1672379,-27.9154258],[153.1610261,-27.9145443],[153.1612017,-27.909943699999992],[153.1257573,-27.905194400000003],[153.123854,-27.915708399999996],[153.117798,-27.917279399999988],[153.114772,-27.915602500000006],[153.108703,-27.918352400000003],[153.106397,-27.9173395],[153.110405,-27.91254049999999],[153.106321,-27.911426499999994],[153.105697,-27.909627499999996],[153.102766,-27.908286499999996],[153.101184,-27.906472499999996],[153.103129,-27.903772500000002],[153.098276,-27.901007499999995],[153.097757,-27.895414400000003],[153.098767,-27.892390499999994],[153.103382,-27.890240499999994],[153.101136,-27.8882714],[153.103125,-27.8855344],[153.105426,-27.885821499999995],[153.111376,-27.882770500000003],[153.103956,-27.8812395],[153.101881,-27.877717499999996],[153.103225,-27.875341399999993],[153.10074,-27.8721645],[153.094103,-27.871166499999994],[153.09614,-27.860802500000002],[153.087908,-27.859501499999993],[153.079833,-27.857193400000003],[153.0766276,-27.851671399999994],[153.0745266,-27.849825599999992],[153.07316300000002,-27.846552399999997],[153.074419,-27.840169500000005],[153.077974,-27.840692500000003],[153.080475,-27.8342615],[153.08495100000002,-27.831184499999996],[153.086532,-27.828471499999996],[153.087779,-27.828643500000002],[153.089743,-27.817770499999998],[153.0990387,-27.819053099999994],[153.10429,-27.8259695],[153.107822,-27.8358015],[153.109376,-27.837542499999998],[153.113166,-27.83780339999999],[153.118244,-27.838907499999994],[153.119409,-27.8413475],[153.119145,-27.845036399999998],[153.121209,-27.849558499999993],[153.121135,-27.853904499999995],[153.124041,-27.852282499999998],[153.126765,-27.852489499999997],[153.12726000000004,-27.8498025],[153.130207,-27.847960399999998],[153.134646,-27.8486355],[153.13583800000004,-27.8423405],[153.137477,-27.8467655],[153.138983,-27.848433499999995],[153.140841,-27.846978399999998],[153.141656,-27.842675499999988],[153.152711,-27.844300499999992],[153.1534065,-27.8407036],[153.156315,-27.841013499999992],[153.158261,-27.8396985],[153.158669,-27.837106500000004],[153.165446,-27.8381045],[153.164634,-27.842316499999992],[153.169445,-27.841532499999996],[153.168712,-27.83890349999999],[153.173152,-27.834760499999998],[153.175731,-27.8368375],[153.17569800000004,-27.839415499999998],[153.180513,-27.840859499999993],[153.181499,-27.843981499999998],[153.180635,-27.848324500000004],[153.182023,-27.848539500000005],[153.181078,-27.853917500000005],[153.188946,-27.855091499999993],[153.185424,-27.87374649999999],[153.186371,-27.87518950000001],[153.18574,-27.8780145],[153.1862739,-27.881227500000005],[153.184689,-27.884941499999993],[153.184699,-27.887655499999994],[153.183345,-27.891345500000003],[153.18068900000003,-27.895066500000002],[153.183278,-27.895431500000004]]]]}},{"type":"Feature","properties":{"suburb_name":"Mons","suburb_areasqkm":4.6263,"address_cnt":609.0,"address_density_sqkm":132.0,"tp":"Suburb : Mons<br>Density per sqkm: 132"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0344623,-26.700462000000005],[153.0340711,-26.7028234],[153.0317932,-26.702481399999996],[153.0311824,-26.704386399999994],[153.0224046,-26.7031612],[153.0216101,-26.701767399999998],[153.0167978,-26.702361],[153.0111312,-26.696963499999992],[153.0108615,-26.696687199999996],[153.0141845,-26.694144600000005],[153.0171921,-26.6946814],[153.0181372,-26.688875399999997],[153.0179451,-26.686533400000005],[153.0160371,-26.685183399999993],[153.0176181,-26.68347639999999],[153.0184222,-26.678859399999997],[153.0218659,-26.6793467],[153.0224608,-26.676156900000006],[153.0241952,-26.67967649999999],[153.0365354,-26.68138729999999],[153.0352362,-26.6835524],[153.0372321,-26.6871754],[153.0334756,-26.68753939999999],[153.0310951,-26.69599640000001],[153.0351431,-26.696345400000006],[153.0344623,-26.700462000000005]]]]}},{"type":"Feature","properties":{"suburb_name":"Muirlea","suburb_areasqkm":6.8726,"address_cnt":131.0,"address_density_sqkm":19.0,"tp":"Suburb : Muirlea<br>Density per sqkm: 19"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.75471,-27.577112399999997],[152.7530631,-27.580776399999987],[152.747307,-27.579318399999995],[152.739884,-27.579140399999996],[152.7305391,-27.5807344],[152.7205421,-27.579906399999995],[152.719202,-27.5733894],[152.7174681,-27.571559399999998],[152.7143971,-27.5657144],[152.7114491,-27.56670140000001],[152.7111,-27.563075400000002],[152.716355,-27.559288399999993],[152.720511,-27.557832400000002],[152.7210031,-27.563556400000007],[152.725475,-27.563479399999995],[152.732047,-27.561964400000008],[152.7351501,-27.562518400000002],[152.735806,-27.560999399999996],[152.7401191,-27.561548400000007],[152.7422191,-27.5659714],[152.7460571,-27.566667399999996],[152.7473821,-27.565015399999997],[152.750952,-27.56755540000001],[152.7538731,-27.5682064],[152.754547,-27.570269399999997],[152.753474,-27.572482400000002],[152.75471,-27.577112399999997]]]]}},{"type":"Feature","properties":{"suburb_name":"West Woombye","suburb_areasqkm":11.969,"address_cnt":546.0,"address_density_sqkm":46.0,"tp":"Suburb : West Woombye<br>Density per sqkm: 46"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9429691,-26.670039399999993],[152.9370661,-26.6692764],[152.9367351,-26.671214400000004],[152.931789,-26.671432900000003],[152.925129,-26.670472899999993],[152.9246229,-26.673281699999997],[152.9210291,-26.672758400000003],[152.9204621,-26.675844400000006],[152.9174722,-26.675674399999995],[152.9170732,-26.6779164],[152.9104341,-26.679084400000004],[152.9099822,-26.676259399999992],[152.9085372,-26.673985400000003],[152.9038811,-26.675650399999995],[152.9022394,-26.675148600000004],[152.903627,-26.666135999999998],[152.9018412,-26.667422399999996],[152.8964952,-26.66782839999999],[152.8943541,-26.668519399999994],[152.8939452,-26.6705184],[152.8909751,-26.670678400000003],[152.8885602,-26.669386399999997],[152.8900491,-26.661738400000004],[152.8919322,-26.66161439999999],[152.90003420000002,-26.6629824],[152.9018781,-26.6626825],[152.9018042,-26.659919399999993],[152.9038901,-26.6583175],[152.9006783,-26.654975999999998],[152.9077111,-26.6557434],[152.9080892,-26.653316400000005],[152.9195302,-26.654749399999996],[152.9242602,-26.654653400000004],[152.9252271,-26.65656939999999],[152.9278861,-26.6569004],[152.9282791,-26.654361399999996],[152.9380442,-26.655644399999996],[152.9386519,-26.6522289],[152.9415921,-26.6549234],[152.9428661,-26.6574974],[152.9456772,-26.6563774],[152.9480862,-26.6543144],[152.9526321,-26.657634399999996],[152.956827,-26.658166499999993],[152.9585671,-26.6562494],[152.9616462,-26.658027400000005],[152.9596601,-26.659788399999996],[152.9625522,-26.661190400000002],[152.9638482,-26.6640604],[152.9624311,-26.668728399999996],[152.9633961,-26.671397199999998],[152.9486811,-26.669548399999993],[152.9487982,-26.668554400000005],[152.94397220000002,-26.6679234],[152.9429691,-26.670039399999993]]]]}},{"type":"Feature","properties":{"suburb_name":"Diamond Valley","suburb_areasqkm":9.7484,"address_cnt":229.0,"address_density_sqkm":23.0,"tp":"Suburb : Diamond Valley<br>Density per sqkm: 23"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9363314,-26.7671638],[152.9338991,-26.7655754],[152.9326731,-26.767955399999998],[152.9300461,-26.7690214],[152.9297222,-26.770562400000003],[152.9251101,-26.7700654],[152.9247471,-26.772773399999995],[152.9180491,-26.772049400000007],[152.9184151,-26.76934539999999],[152.9142462,-26.7688964],[152.9155671,-26.761384399999994],[152.9179861,-26.761081399999995],[152.9193821,-26.7543544],[152.9019631,-26.752497399999996],[152.9026701,-26.750284400000005],[152.9058472,-26.748498300000005],[152.9080041,-26.7461834],[152.91189460000004,-26.7447363],[152.9140146,-26.7487663],[152.9154406,-26.748031400000006],[152.9204282,-26.7487336],[152.9217669,-26.7411265],[152.9274321,-26.7419311],[152.9272073,-26.739311200000003],[152.9313353,-26.7399013],[152.9305107,-26.744659899999995],[152.9345073,-26.7468651],[152.93832620000003,-26.747156099999998],[152.9393472,-26.744274399999995],[152.9450484,-26.7449445],[152.9457975,-26.7406929],[152.947793,-26.739948999999992],[152.9506543,-26.741107000000003],[152.9507191,-26.7457314],[152.9481601,-26.7453814],[152.9468606,-26.74839509999999],[152.9499674,-26.7499173],[152.9487601,-26.7572285],[152.9513669,-26.758674499999998],[152.9514371,-26.761109399999995],[152.9479431,-26.762105399999992],[152.9473021,-26.765791399999994],[152.9441723,-26.765917699999996],[152.9418502,-26.7672204],[152.9363314,-26.7671638]]]]}},{"type":"Feature","properties":{"suburb_name":"Kidaman Creek","suburb_areasqkm":27.78,"address_cnt":142.0,"address_density_sqkm":5.0,"tp":"Suburb : Kidaman Creek<br>Density per sqkm: 5"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.7962087,-26.670841299999992],[152.7825581,-26.6688815],[152.7806892,-26.679282399999998],[152.773897,-26.677941400000012],[152.771836,-26.6765534],[152.7687062,-26.672468399999993],[152.7668112,-26.672199399999997],[152.76517320000002,-26.67499939999999],[152.7643332,-26.6791934],[152.7573972,-26.67821239999999],[152.75631720000004,-26.6771604],[152.7582302,-26.667305399999996],[152.75507620000002,-26.66644639999999],[152.7534738,-26.659993999999994],[152.7489092,-26.659043399999998],[152.7412703,-26.6492596],[152.7421052,-26.6440674],[152.7446366,-26.640864999999998],[152.7458951,-26.6376896],[152.7483471,-26.6344704],[152.7504422,-26.633584399999997],[152.7512012,-26.631590399999997],[152.7499132,-26.628727399999995],[152.7524012,-26.626726400000003],[152.7538242,-26.622667400000005],[152.7516392,-26.622025399999995],[152.7507523,-26.6197645],[152.7539911,-26.619620399999995],[152.7579151,-26.618049399999993],[152.7596632,-26.616095399999995],[152.7620472,-26.616745399999996],[152.7621481,-26.618404399999996],[152.7663442,-26.618213400000005],[152.7738261,-26.6196294],[152.7764181,-26.615704399999995],[152.7798712,-26.615271399999997],[152.7813398,-26.616586799999997],[152.7843151,-26.6171854],[152.78556180000004,-26.619122900000004],[152.7937822,-26.620292399999997],[152.7918952,-26.631055399999997],[152.7958322,-26.631880399999993],[152.7967092,-26.636610399999995],[152.7915922,-26.641727900000003],[152.7943282,-26.645205400000002],[152.7927926,-26.6536233],[152.7947156,-26.6598193],[152.7940556,-26.6612643],[152.7961676,-26.667159299999998],[152.7962087,-26.670841299999992]]]]}},{"type":"Feature","properties":{"suburb_name":"Conondale","suburb_areasqkm":171.4659,"address_cnt":554.0,"address_density_sqkm":3.0,"tp":"Suburb : Conondale<br>Density per sqkm: 3"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.7772862,-26.703348399999996],[152.7678182,-26.701458400000007],[152.7645542,-26.7023814],[152.7621611,-26.70664139999999],[152.7607482,-26.7072974],[152.7645262,-26.712718399999996],[152.7627351,-26.7222344],[152.7611541,-26.724075399999997],[152.7588611,-26.722406399999997],[152.7610081,-26.737227400000002],[152.7617542,-26.743565399999998],[152.7628872,-26.743641400000012],[152.7634319,-26.747519100000005],[152.7659442,-26.7496704],[152.7643682,-26.758728400000003],[152.7677421,-26.757924399999997],[152.7707332,-26.758973399999995],[152.7714282,-26.760487400000002],[152.7693031,-26.772671399999993],[152.7713002,-26.77246540000001],[152.7713991,-26.776145399999994],[152.7693681,-26.7780894],[152.7609251,-26.776474399999994],[152.7597782,-26.777540400000003],[152.7553832,-26.7764184],[152.7495212,-26.777227399999997],[152.7451212,-26.7755244],[152.7429892,-26.769340400000004],[152.7414971,-26.768148400000005],[152.7382162,-26.76814540000001],[152.7360021,-26.767131399999997],[152.7355341,-26.765317399999997],[152.7313601,-26.764505400000008],[152.73496820000003,-26.7737604],[152.7355361,-26.77417339999999],[152.7344402,-26.77972539999999],[152.7444032,-26.781260400000004],[152.7488651,-26.779956400000003],[152.7484582,-26.7828584],[152.7568701,-26.784180399999997],[152.7582482,-26.786782399999993],[152.7569092,-26.789013400000005],[152.7616082,-26.7893774],[152.7611022,-26.79235039999999],[152.7591892,-26.8030384],[152.7571641,-26.800343400000003],[152.7530811,-26.7973404],[152.749486,-26.8162848],[152.7467822,-26.815103399999998],[152.7421261,-26.810146400000004],[152.7398811,-26.80979089999999],[152.7391781,-26.808014400000005],[152.7336722,-26.8074754],[152.7351711,-26.811241400000004],[152.7329681,-26.8149434],[152.7290761,-26.816616399999994],[152.7263911,-26.8141814],[152.7266342,-26.811459399999993],[152.7222351,-26.806802399999995],[152.7209932,-26.8085494],[152.70914420000003,-26.811117400000004],[152.6964532,-26.809115399999992],[152.6955221,-26.8079034],[152.6981262,-26.805542399999997],[152.6987982,-26.802969400000002],[152.6792202,-26.7998644],[152.6790666,-26.7968501],[152.6760406,-26.796047099999996],[152.6717227,-26.7936342],[152.6717567,-26.791213200000005],[152.6689837,-26.7898012],[152.6684689,-26.78243139999999],[152.6673092,-26.772996399999993],[152.6614846,-26.76914830000001],[152.6531969,-26.768656],[152.6510955,-26.771391399999995],[152.6456883,-26.773646199999998],[152.6436835,-26.773092600000002],[152.6435166,-26.770393999999996],[152.6412301,-26.767493600000005],[152.6423027,-26.764499999999998],[152.6390882,-26.761764399999997],[152.6353552,-26.7621914],[152.6324957,-26.764379200000004],[152.6268903,-26.762359399999998],[152.6237561,-26.763288399999997],[152.6194682,-26.762041399999994],[152.6172485,-26.7594634],[152.6060174,-26.757722099999995],[152.602462,-26.7578678],[152.6000774,-26.7530825],[152.6001056,-26.7517857],[152.596145,-26.7481296],[152.590828,-26.747200399999993],[152.5877028,-26.74486230000001],[152.5833134,-26.740419499999998],[152.5822977,-26.735800699999995],[152.5868262,-26.7334504],[152.5896922,-26.7316534],[152.5926602,-26.733189400000004],[152.5969693,-26.733560999999995],[152.5979473,-26.73139099999999],[152.6022992,-26.730163899999997],[152.6061702,-26.732545900000005],[152.6087312,-26.7316489],[152.611248,-26.728687899999997],[152.611593,-26.725881799999993],[152.61391,-26.7237788],[152.613562,-26.720049799999998],[152.6164019,-26.716632799999996],[152.6188258,-26.716708800000006],[152.6215878,-26.714723699999993],[152.6213538,-26.7124297],[152.6250147,-26.709820700000005],[152.6285466,-26.71020259999999],[152.63255060000003,-26.708505599999995],[152.6316756,-26.704499600000002],[152.6303816,-26.702963599999997],[152.6309442,-26.6962834],[152.6326022,-26.6928994],[152.6343762,-26.691553400000004],[152.6379492,-26.69166040000001],[152.6415662,-26.690644399999993],[152.6486052,-26.691331399999992],[152.6515502,-26.692817400000006],[152.6542642,-26.69562639999999],[152.6537852,-26.6988064],[152.6561362,-26.699104399999996],[152.6605212,-26.66982640000001],[152.6845542,-26.673147400000005],[152.6836211,-26.679337400000005],[152.6979462,-26.6812924],[152.7118202,-26.683565400000006],[152.7152742,-26.687834399999993],[152.71417380000003,-26.689886199999993],[152.7242113,-26.691463899999988],[152.7227441,-26.6990334],[152.7388521,-26.701753399999998],[152.7401311,-26.701025399999995],[152.7480521,-26.700687399999996],[152.7481152,-26.6986574],[152.7539482,-26.699949400000005],[152.7549732,-26.696212399999997],[152.7591931,-26.696803400000004],[152.7604982,-26.6928724],[152.7756691,-26.695047400000004],[152.7778452,-26.698454399999996],[152.7772862,-26.703348399999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Haigslea","suburb_areasqkm":28.2867,"address_cnt":427.0,"address_density_sqkm":15.0,"tp":"Suburb : Haigslea<br>Density per sqkm: 15"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.5992771,-27.590273399999997],[152.60518110000004,-27.587448399999992],[152.5998811,-27.578735400000003],[152.6129092,-27.572522399999993],[152.6093108,-27.566566099999992],[152.6119622,-27.56674229999999],[152.6126941,-27.557587400000006],[152.6148581,-27.557930399999996],[152.6165508,-27.5494668],[152.609041,-27.5483554],[152.6114199,-27.535449399999994],[152.6151582,-27.5344114],[152.6207032,-27.534515399999997],[152.6224082,-27.533330399999997],[152.6268902,-27.534499399999998],[152.6292082,-27.536486400000005],[152.6363171,-27.537563399999996],[152.636878,-27.5345054],[152.64156100000002,-27.535158299999992],[152.6426441,-27.529262399999993],[152.651691,-27.530587299999993],[152.6513511,-27.533023399999998],[152.6480941,-27.550872399999992],[152.664863,-27.57161839999999],[152.6657162,-27.574286400000002],[152.6647931,-27.5753384],[152.6660841,-27.576829399999998],[152.66606,-27.5816624],[152.6602302,-27.580774400000003],[152.6626741,-27.5876674],[152.6614251,-27.589648400000005],[152.6407721,-27.586777399999992],[152.6396741,-27.592942400000002],[152.6353981,-27.588633399999996],[152.6319451,-27.5830174],[152.6071541,-27.594856399999994],[152.6055461,-27.59390939999999],[152.6050501,-27.5912104],[152.5992771,-27.590273399999997]]]]}},{"type":"Feature","properties":{"suburb_name":"Karrabin","suburb_areasqkm":10.7912,"address_cnt":275.0,"address_density_sqkm":25.0,"tp":"Suburb : Karrabin<br>Density per sqkm: 25"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.7148661,-27.5844164],[152.7169201,-27.585757400000002],[152.717254,-27.588626400000003],[152.7208541,-27.5950464],[152.7241401,-27.596031399999998],[152.7279581,-27.602886399999996],[152.7250491,-27.6044304],[152.72111,-27.610542399999996],[152.7191101,-27.611323400000003],[152.7126481,-27.6161534],[152.7062361,-27.612969399999994],[152.70306,-27.6089304],[152.7031841,-27.607582399999995],[152.699743,-27.603928500000006],[152.6962791,-27.603491399999996],[152.694217,-27.602302400000003],[152.68960200000004,-27.6040254],[152.6852651,-27.60630739999999],[152.6870511,-27.596451400000003],[152.6833091,-27.597724399999997],[152.683034,-27.596189400000007],[152.6888651,-27.581256400000004],[152.6879941,-27.578339399999997],[152.6986516,-27.575928700000002],[152.7014288,-27.584403500000004],[152.7076522,-27.583502400000004],[152.7148661,-27.5844164]]]]}},{"type":"Feature","properties":{"suburb_name":"Priestdale","suburb_areasqkm":6.8117,"address_cnt":105.0,"address_density_sqkm":15.0,"tp":"Suburb : Priestdale<br>Density per sqkm: 15"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.142647,-27.591263499999997],[153.142724,-27.5911955],[153.147363,-27.590550399999998],[153.149276,-27.591179399999998],[153.1562061,-27.5918014],[153.1598599,-27.595899299999996],[153.1639838,-27.597752200000002],[153.1667458,-27.600663199999996],[153.1713897,-27.603355199999992],[153.1732031,-27.606100499999993],[153.175768,-27.6066945],[153.1807519,-27.609309399999997],[153.1835679,-27.612812500000004],[153.18160600000002,-27.624189499999993],[153.175741,-27.623387499999996],[153.170585,-27.6226245],[153.158242,-27.607492499999996],[153.153582,-27.6068555],[153.1527591,-27.611650299999997],[153.1448062,-27.610542300000002],[153.1470221,-27.60896349999999],[153.14811,-27.602837499999993],[153.1447679,-27.601191700000005],[153.145926,-27.595322399999997],[153.144364,-27.59221249999999],[153.142647,-27.591263499999997]]]]}},{"type":"Feature","properties":{"suburb_name":"Bulwer","suburb_areasqkm":0.4035,"address_cnt":100.0,"address_density_sqkm":248.0,"tp":"Suburb : Bulwer<br>Density per sqkm: 248"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.3687717,-27.085316500000005],[153.3669717,-27.0733345],[153.370184,-27.0735955],[153.3715527,-27.0820309],[153.3711167,-27.0850149],[153.3687717,-27.085316500000005]]]]}},{"type":"Feature","properties":{"suburb_name":"King Scrub","suburb_areasqkm":14.3126,"address_cnt":166.0,"address_density_sqkm":12.0,"tp":"Suburb : King Scrub<br>Density per sqkm: 12"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.8489594,-27.183368199999997],[152.8482015,-27.187700800000005],[152.846289,-27.187438399999998],[152.8245141,-27.184475399999993],[152.8240501,-27.183275400000003],[152.8191011,-27.17936539999999],[152.8170531,-27.1803284],[152.8170339,-27.182132399999997],[152.8102231,-27.1847774],[152.8057792,-27.188500400000002],[152.804008,-27.187774399999995],[152.7998761,-27.178768400000003],[152.7978091,-27.175773400000004],[152.8004201,-27.172185399999996],[152.8015943,-27.1636074],[152.7999564,-27.16341540000001],[152.8009891,-27.1569734],[152.79894,-27.1567574],[152.8001852,-27.147715299999998],[152.8118186,-27.1495049],[152.8113009,-27.152429199999997],[152.82388510000004,-27.154146399999995],[152.8242332,-27.1555784],[152.8220001,-27.1583284],[152.82899670000003,-27.159317699999995],[152.8289229,-27.160276399999997],[152.83513620000002,-27.16449739999999],[152.8407851,-27.165412399999994],[152.8453551,-27.1624774],[152.8478582,-27.162347399999998],[152.8471235,-27.166626100000002],[152.845964,-27.17216730000001],[152.8445412,-27.1827935],[152.8489594,-27.183368199999997]]]]}},{"type":"Feature","properties":{"suburb_name":"Wamuran Basin","suburb_areasqkm":11.5598,"address_cnt":101.0,"address_density_sqkm":9.0,"tp":"Suburb : Wamuran Basin<br>Density per sqkm: 9"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.8039551,-27.0419504],[152.8043841,-27.0397964],[152.8063661,-27.0372974],[152.8081841,-27.028507399999995],[152.817732,-27.029816400000005],[152.8223984,-27.035555100000007],[152.8209,-27.037810499999996],[152.824959,-27.03950839999999],[152.8278069,-27.038829500000002],[152.8320672,-27.0417204],[152.8308795,-27.044308700000002],[152.839088,-27.038863800000005],[152.848608,-27.05060009999999],[152.8487751,-27.052754499999995],[152.8464779,-27.0529728],[152.839335,-27.055707899999998],[152.837015,-27.05550840000001],[152.8306152,-27.058803900000004],[152.8280122,-27.061589900000005],[152.8240273,-27.063004000000003],[152.8241234,-27.065672900000006],[152.8204644,-27.068398000000002],[152.8191781,-27.0668545],[152.8158735,-27.065712],[152.8135225,-27.0659781],[152.8113905,-27.0648611],[152.8102675,-27.0618391],[152.8067465,-27.058503099999996],[152.8036996,-27.057689099999997],[152.8021376,-27.055948099999995],[152.7994131,-27.0560106],[152.8013481,-27.0450064],[152.8039551,-27.0419504]]]]}},{"type":"Feature","properties":{"suburb_name":"Port Of Brisbane","suburb_areasqkm":10.9752,"address_cnt":108.0,"address_density_sqkm":10.0,"tp":"Suburb : Port Of Brisbane<br>Density per sqkm: 10"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.1655591,-27.400544400000005],[153.1646441,-27.4006664],[153.1639511,-27.3981844],[153.1582552,-27.399382400000004],[153.1583227,-27.39462109999999],[153.1564978,-27.392436],[153.1608143,-27.3831462],[153.1677899,-27.3762164],[153.173858,-27.366895500000002],[153.1719284,-27.365820299999996],[153.17774100000003,-27.359481500000008],[153.1786763,-27.360002499999993],[153.188847,-27.345447500000002],[153.2021913,-27.35288080000001],[153.1792608,-27.385711299999997],[153.1809988,-27.387884299999996],[153.1834848,-27.393267299999998],[153.1807968,-27.393792299999994],[153.1776549,-27.396396299999992],[153.16768500000003,-27.393858399999992],[153.16721400000003,-27.3965345],[153.1654481,-27.398292399999995],[153.1655591,-27.400544400000005]]],[[[153.1885498,-27.4010233],[153.1878438,-27.403242300000002],[153.1785249,-27.396049299999994],[153.1836158,-27.393421299999996],[153.1872398,-27.3973063],[153.1885498,-27.4010233]]]]}},{"type":"Feature","properties":{"suburb_name":"Ebenezer (Qld)","suburb_areasqkm":31.7646,"address_cnt":262.0,"address_density_sqkm":8.0,"tp":"Suburb : Ebenezer (Qld)<br>Density per sqkm: 8"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.648047,-27.703154399999995],[152.6198392,-27.6989854],[152.6024001,-27.7029754],[152.5757032,-27.699167299999992],[152.5788681,-27.682000399999996],[152.580039,-27.6808144],[152.590496,-27.670501399999992],[152.59334,-27.669101399999995],[152.5907261,-27.6630014],[152.5904921,-27.659120400000003],[152.5920891,-27.658281400000003],[152.5967071,-27.658241399999998],[152.5986191,-27.659474400000004],[152.604791,-27.65772539999999],[152.612395,-27.6577614],[152.6177381,-27.655125400000003],[152.622109,-27.657006399999997],[152.6250981,-27.655757399999995],[152.6290231,-27.6552674],[152.630983,-27.653142400000004],[152.6404011,-27.6619584],[152.6406561,-27.664089400000005],[152.6549431,-27.6661654],[152.6516581,-27.684227400000005],[152.648047,-27.703154399999995]]]]}},{"type":"Feature","properties":{"suburb_name":"England Creek","suburb_areasqkm":57.9715,"address_cnt":5.0,"address_density_sqkm":0.0,"tp":"Suburb : England Creek<br>Density per sqkm: 0"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.7720141,-27.345967399999996],[152.7708971,-27.3472524],[152.7717671,-27.350037399999998],[152.7696488,-27.351019100000002],[152.7686852,-27.349836400000004],[152.763454,-27.3489654],[152.759615,-27.350266399999995],[152.754206,-27.354891399999996],[152.7544202,-27.356803399999997],[152.7509069,-27.357661499999995],[152.7490349,-27.361106399999997],[152.7445692,-27.361015399999996],[152.7423242,-27.362162500000004],[152.7398351,-27.3650694],[152.737875,-27.364421400000005],[152.7373861,-27.367866499999998],[152.734856,-27.3694214],[152.7331284,-27.372792],[152.7306061,-27.37412239999999],[152.7292821,-27.37753040000001],[152.7256021,-27.3758754],[152.7221301,-27.376973399999994],[152.7188521,-27.37668339999999],[152.7166871,-27.377576400000002],[152.7153841,-27.380485400000005],[152.7140711,-27.388010399999995],[152.7014661,-27.386193399999996],[152.6987731,-27.400938399999998],[152.6852251,-27.3989464],[152.6798611,-27.427070399999998],[152.667675,-27.425310399999994],[152.6655571,-27.436841399999988],[152.6545541,-27.432645400000006],[152.6534901,-27.429987399999995],[152.6511641,-27.42714939999999],[152.6534211,-27.426411400000003],[152.6445121,-27.422144399999997],[152.6461541,-27.413448399999993],[152.6471841,-27.40794539999999],[152.6555211,-27.409219400000005],[152.6570701,-27.407125400000005],[152.6567591,-27.404670399999993],[152.6527061,-27.4032724],[152.6541631,-27.4002164],[152.6541091,-27.397302399999997],[152.6556571,-27.3961874],[152.6587231,-27.3916834],[152.6623331,-27.389273399999997],[152.6630781,-27.386401400000004],[152.6654041,-27.3852884],[152.6662591,-27.3830494],[152.6693171,-27.378622399999998],[152.6720321,-27.3765244],[152.6787091,-27.377628400000003],[152.6841908,-27.348775199999995],[152.6860558,-27.349067500000004],[152.6887162,-27.346754999999998],[152.6908376,-27.3435638],[152.6935138,-27.342405099999993],[152.6956693,-27.342844699999993],[152.6986399,-27.340554399999995],[152.7031149,-27.3381549],[152.7071006,-27.334398700000005],[152.7102003,-27.332540599999994],[152.7173041,-27.330611899999997],[152.7190688,-27.327743100000006],[152.7195568,-27.323448899999995],[152.7249062,-27.32220600000001],[152.7301064,-27.324123999999994],[152.73117470000003,-27.323209799999994],[152.7391726,-27.3233251],[152.7423894,-27.321525000000005],[152.7448591,-27.318999999999996],[152.7485091,-27.3187424],[152.7505216,-27.3203966],[152.7488509,-27.332288],[152.7546777,-27.333127399999995],[152.7556306,-27.3283136],[152.7594891,-27.330257399999994],[152.7623311,-27.333949399999998],[152.76449810000003,-27.335494400000005],[152.7675961,-27.3349744],[152.7700241,-27.341156400000003],[152.7718871,-27.343175399999993],[152.7720141,-27.345967399999996]]]]}},{"type":"Feature","properties":{"suburb_name":"The Gap (Brisbane - Qld)","suburb_areasqkm":12.5152,"address_cnt":7557.0,"address_density_sqkm":604.0,"tp":"Suburb : The Gap (Brisbane - Qld)<br>Density per sqkm: 604"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.963041,-27.4512354],[152.9590444,-27.4545433],[152.9583407,-27.458012900000003],[152.957785,-27.460752199999998],[152.9449299,-27.458995799999997],[152.944035,-27.463817099999996],[152.9358695,-27.4625551],[152.9348169,-27.465529399999998],[152.932514,-27.4635584],[152.9294709,-27.465316399999995],[152.9247211,-27.4648414],[152.9234182,-27.463725400000005],[152.919683,-27.462828400000003],[152.9202251,-27.459923400000008],[152.9241128,-27.4609901],[152.9263097,-27.458580699999995],[152.9258046,-27.452851799999998],[152.9279631,-27.449139399999993],[152.93075,-27.447675],[152.9310702,-27.445838500000008],[152.927104,-27.44298579999999],[152.9273661,-27.440703399999997],[152.9255441,-27.438903400000004],[152.9248541,-27.434681399999995],[152.923398,-27.434157400000004],[152.9256145,-27.4210573],[152.9276007,-27.4212985],[152.9270263,-27.4249135],[152.9291469,-27.426546299999995],[152.9325241,-27.4258864],[152.9404308,-27.4272658],[152.94522,-27.427309399999995],[152.9482921,-27.4282674],[152.949487,-27.432726899999995],[152.950564,-27.4340334],[152.95205190000001,-27.4393845],[152.96324600000003,-27.441036400000005],[152.9624699,-27.4453744],[152.9665241,-27.445957399999994],[152.9665732,-27.4489066],[152.967844,-27.450557399999994],[152.966342,-27.452418400000006],[152.963041,-27.4512354]]]]}},{"type":"Feature","properties":{"suburb_name":"Tivoli","suburb_areasqkm":3.5108,"address_cnt":679.0,"address_density_sqkm":193.0,"tp":"Suburb : Tivoli<br>Density per sqkm: 193"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.7859781,-27.586331400000002],[152.7809521,-27.59191639999999],[152.77950900000002,-27.594619400000003],[152.7784959,-27.5939125],[152.7742641,-27.5977144],[152.771955,-27.5965144],[152.767122,-27.5976244],[152.7641663,-27.59477159999999],[152.7655981,-27.591317399999998],[152.764935,-27.587222400000005],[152.768048,-27.584449400000004],[152.7660691,-27.5820284],[152.766845,-27.5795634],[152.766077,-27.577836799999993],[152.764902,-27.5750644],[152.7728771,-27.576260399999995],[152.7740211,-27.577345400000006],[152.7787832,-27.576522400000005],[152.77929360000002,-27.577304899999998],[152.7804788,-27.5814666],[152.7859781,-27.586331400000002]]]]}},{"type":"Feature","properties":{"suburb_name":"Toowong","suburb_areasqkm":4.0658,"address_cnt":9315.0,"address_density_sqkm":2291.0,"tp":"Suburb : Toowong<br>Density per sqkm: 2,291"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9946319,-27.4898575],[152.9933061,-27.4931925],[152.9882703,-27.4922371],[152.9872999,-27.489707699999997],[152.9844512,-27.487790599999993],[152.9829272,-27.4883982],[152.9783751,-27.4879864],[152.9719951,-27.4887154],[152.9703899,-27.4874904],[152.9722257,-27.481213900000004],[152.9806719,-27.477149499999992],[152.979459,-27.475092399999998],[152.9761481,-27.4736124],[152.97172520000004,-27.472886399999993],[152.9703301,-27.4681584],[152.9737091,-27.465867399999997],[152.9754299,-27.4705045],[152.9818271,-27.47218850000001],[152.9832682,-27.470730499999995],[152.9863412,-27.470875500000002],[152.9889229,-27.4719034],[152.988051,-27.476381400000005],[152.9929686,-27.479613799999996],[152.9954869,-27.4776114],[152.9980217,-27.480684099999994],[152.9953288,-27.48509849999999],[152.9946319,-27.4898575]]]]}},{"type":"Feature","properties":{"suburb_name":"Tugun","suburb_areasqkm":3.1117,"address_cnt":5005.0,"address_density_sqkm":1608.0,"tp":"Suburb : Tugun<br>Density per sqkm: 1,608"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.5033696,-28.150605599999995],[153.5007058,-28.150560500000005],[153.4965979,-28.153004499999998],[153.4940319,-28.15587199999999],[153.49552480000003,-28.1609043],[153.4858604,-28.157023000000002],[153.4861038,-28.154976499999993],[153.481998,-28.152840499999993],[153.4798348,-28.149438500000002],[153.4799719,-28.1451967],[153.48246290000003,-28.1459044],[153.4863034,-28.143375500000005],[153.4856388,-28.139877700000003],[153.4864809,-28.1369585],[153.4898929,-28.139062500000005],[153.4935267,-28.137385699999996],[153.4942827,-28.139252700000007],[153.5010651,-28.1485495],[153.5033696,-28.150605599999995]]]]}},{"type":"Feature","properties":{"suburb_name":"Windaroo","suburb_areasqkm":1.9247,"address_cnt":1176.0,"address_density_sqkm":611.0,"tp":"Suburb : Windaroo<br>Density per sqkm: 611"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.197475,-27.754578499999997],[153.186863,-27.753015499999993],[153.1868629,-27.752847499999998],[153.18611,-27.746129499999995],[153.186747,-27.7442785],[153.193349,-27.737597499999996],[153.198427,-27.7369985],[153.20125,-27.7400085],[153.199744,-27.744171499999997],[153.197538,-27.746593500000003],[153.197475,-27.754578499999997]]]]}},{"type":"Feature","properties":{"suburb_name":"Woody Point","suburb_areasqkm":1.6542,"address_cnt":3173.0,"address_density_sqkm":1918.0,"tp":"Suburb : Woody Point<br>Density per sqkm: 1,918"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.093153,-27.255958400000004],[153.0938344,-27.252335700000007],[153.0959754,-27.249214999999996],[153.1097002,-27.2513334],[153.1105521,-27.2496326],[153.1097554,-27.253856199999998],[153.1106464,-27.2547102],[153.1078638,-27.261698599999992],[153.1035101,-27.2632535],[153.1029545,-27.261192100000002],[153.1005236,-27.25874229999999],[153.093153,-27.255958400000004]]]]}},{"type":"Feature","properties":{"suburb_name":"Wynnum","suburb_areasqkm":6.1375,"address_cnt":9362.0,"address_density_sqkm":1525.0,"tp":"Suburb : Wynnum<br>Density per sqkm: 1,525"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.1693813,-27.4241053],[153.1699303,-27.426978300000002],[153.1716283,-27.4283463],[153.1715143,-27.431861299999998],[153.1738683,-27.4346303],[153.1754333,-27.4403703],[153.1790113,-27.443953299999993],[153.1815322,-27.4454333],[153.1838622,-27.446839299999994],[153.1796463,-27.453183300000003],[153.1756374,-27.456110299999995],[153.1728521,-27.4539075],[153.168827,-27.453273399999997],[153.167161,-27.454293499999995],[153.1655665,-27.449705299999998],[153.1577051,-27.447930399999997],[153.156988,-27.445845499999997],[153.1583386,-27.4414624],[153.156973,-27.440856499999995],[153.1527307,-27.441968400000004],[153.1533789,-27.436469399999993],[153.1551845,-27.427823399999998],[153.160494,-27.4285195],[153.1618357,-27.424865700000005],[153.1647038,-27.4221394],[153.1662373,-27.419159099999998],[153.16812700000003,-27.42005249999999],[153.1681954,-27.423938],[153.1693813,-27.4241053]]]]}},{"type":"Feature","properties":{"suburb_name":"Wynnum West","suburb_areasqkm":5.5914,"address_cnt":6442.0,"address_density_sqkm":1152.0,"tp":"Suburb : Wynnum West<br>Density per sqkm: 1,152"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.15492770000003,-27.466230399999993],[153.1434289,-27.464582499999995],[153.1450471,-27.4635135],[153.142724,-27.460826400000002],[153.1419313,-27.456140099999995],[153.1431178,-27.4461425],[153.142531,-27.443078499999995],[153.1438488,-27.442224499999995],[153.1454087,-27.4391225],[153.1427932,-27.438749900000005],[153.143306,-27.436000499999988],[153.1460717,-27.435443499999995],[153.1533789,-27.436469399999993],[153.1527307,-27.441968400000004],[153.156973,-27.440856499999995],[153.1583386,-27.4414624],[153.156988,-27.445845499999997],[153.1577051,-27.447930399999997],[153.1655665,-27.449705299999998],[153.167161,-27.454293499999995],[153.1595327,-27.4637714],[153.15492770000003,-27.466230399999993]]]]}},{"type":"Feature","properties":{"suburb_name":"Yamanto","suburb_areasqkm":7.6553,"address_cnt":2625.0,"address_density_sqkm":343.0,"tp":"Suburb : Yamanto<br>Density per sqkm: 343"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.75448,-27.6468274],[152.755599,-27.652077399999992],[152.757783,-27.651166400000005],[152.7586651,-27.656564399999997],[152.76114,-27.660138400000008],[152.7594416,-27.662818100000003],[152.752617,-27.664635399999998],[152.7470513,-27.664983599999996],[152.7357601,-27.663467399999995],[152.720535,-27.660883400000007],[152.7239381,-27.6570774],[152.7237061,-27.655383399999998],[152.7265961,-27.6548774],[152.727114,-27.652212400000003],[152.7286551,-27.650917400000008],[152.73082510000003,-27.6503154],[152.730373,-27.6425134],[152.7286601,-27.639785399999997],[152.7260091,-27.640475399999996],[152.724259,-27.6385734],[152.7260441,-27.6368914],[152.7295211,-27.637112400000003],[152.7283731,-27.632184399999996],[152.7320681,-27.630925],[152.7335349,-27.634247199999997],[152.7358341,-27.634669400000003],[152.738099,-27.637659400000004],[152.7382461,-27.6425024],[152.7405971,-27.644820400000004],[152.7423741,-27.644862399999994],[152.745866,-27.6417494],[152.746885,-27.644705400000003],[152.746297,-27.6465284],[152.7508832,-27.647135200000008],[152.75448,-27.6468274]]]]}},{"type":"Feature","properties":{"suburb_name":"Archerfield","suburb_areasqkm":4.4783,"address_cnt":1108.0,"address_density_sqkm":247.0,"tp":"Suburb : Archerfield<br>Density per sqkm: 247"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.997337,-27.575473499999987],[152.995761,-27.573311499999992],[152.993483,-27.572095400000006],[152.996069,-27.571366399999995],[152.997315,-27.564796400000006],[153.0065411,-27.5661703],[153.007417,-27.563238399999996],[153.0083557,-27.556188499999994],[153.010631,-27.556975399999992],[153.020763,-27.5584734],[153.02324300000004,-27.564586399999996],[153.02473,-27.5722924],[153.0222033,-27.5725794],[153.0216319,-27.575444899999997],[153.015561,-27.57453449999999],[153.0143318,-27.57809389999999],[152.997337,-27.575473499999987]]]]}},{"type":"Feature","properties":{"suburb_name":"Auchenflower","suburb_areasqkm":1.3901,"address_cnt":4496.0,"address_density_sqkm":3234.0,"tp":"Suburb : Auchenflower<br>Density per sqkm: 3,234"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.003264,-27.475517399999998],[152.9980217,-27.480684099999994],[152.9954869,-27.4776114],[152.9929686,-27.479613799999996],[152.988051,-27.476381400000005],[152.9889229,-27.4719034],[152.9863412,-27.470875500000002],[152.9885851,-27.47036539999999],[152.9891852,-27.46818249999999],[152.9920457,-27.4673065],[152.9963009,-27.46868039999999],[152.9987171,-27.468116399999992],[153.0002929,-27.472228400000002],[152.9997749,-27.473269399999992],[153.003264,-27.475517399999998]]]]}},{"type":"Feature","properties":{"suburb_name":"Bli Bli","suburb_areasqkm":30.7768,"address_cnt":5244.0,"address_density_sqkm":170.0,"tp":"Suburb : Bli Bli<br>Density per sqkm: 170"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.066069,-26.5821264],[153.0651852,-26.58413439999999],[153.065389,-26.5877485],[153.0609332,-26.5939134],[153.05511810000002,-26.599022400000003],[153.055605,-26.605518100000005],[153.0544321,-26.6102634],[153.0626573,-26.611843499999992],[153.0640701,-26.614730299999998],[153.0665251,-26.615108200000005],[153.067514,-26.60965529999999],[153.0700441,-26.607782499999992],[153.0764711,-26.608759499999994],[153.0732503,-26.614333499999997],[153.0709681,-26.6202914],[153.0697043,-26.63051550000001],[153.0675777,-26.6416536],[153.0629963,-26.641195299999996],[153.0591771,-26.639403399999996],[153.0561921,-26.6345274],[153.0530331,-26.634154399999996],[153.0512931,-26.6372064],[153.0484151,-26.6370485],[153.0453351,-26.63393739999999],[153.0427521,-26.633612399999997],[153.0383271,-26.634258399999997],[153.0360711,-26.635443399999993],[153.0341761,-26.6345764],[153.0338531,-26.632507399999994],[153.0352752,-26.630709399999994],[153.0324802,-26.628989399999988],[153.0314562,-26.6262734],[153.02999010000002,-26.625733399999998],[153.0255721,-26.628038399999994],[153.0243631,-26.6251114],[153.0216631,-26.624025399999994],[153.0203691,-26.620679400000004],[153.0132931,-26.61966539999999],[153.0106651,-26.61710439999999],[153.0058571,-26.616111399999998],[153.0027271,-26.617054400000004],[153.0022162,-26.619119400000002],[152.99928120000004,-26.617749399999994],[152.9976241,-26.619701399999997],[152.9942501,-26.620118400000003],[152.9924301,-26.618995400000006],[152.9849601,-26.6191994],[152.9834521,-26.617319399999996],[152.9791675,-26.61928989999999],[152.9760031,-26.618802399999996],[152.9780099,-26.6146016],[152.9759135,-26.612791999999995],[152.975934,-26.610601499999998],[152.9737942,-26.608590099999997],[152.9725961,-26.606196399999998],[152.9772572,-26.606847499999997],[152.9778507,-26.6032268],[152.9847893,-26.600830999999996],[152.9837621,-26.607718299999995],[152.9893237,-26.607864099999997],[152.9961991,-26.608830600000008],[152.996885,-26.604721299999998],[152.9993765,-26.6050653],[153.0011082,-26.595160399999997],[153.0014501,-26.593244399999993],[153.0055472,-26.5937464],[153.0058771,-26.5915734],[153.0095471,-26.593517399999996],[153.0106522,-26.596421400000004],[153.0169064,-26.596491999999994],[153.0196935,-26.594180600000005],[153.0223812,-26.593998399999997],[153.024052,-26.596156399999995],[153.0304408,-26.5987338],[153.0347764,-26.599338799999998],[153.0354622,-26.595620399999998],[153.0398321,-26.598458400000002],[153.0401701,-26.593959399999992],[153.0377931,-26.592412400000004],[153.0398071,-26.589940400000003],[153.0443467,-26.590659000000002],[153.04638740000001,-26.579252999999998],[153.066069,-26.5821264]]]]}},{"type":"Feature","properties":{"suburb_name":"Boondall","suburb_areasqkm":10.869,"address_cnt":4843.0,"address_density_sqkm":446.0,"tp":"Suburb : Boondall<br>Density per sqkm: 446"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.071067,-27.32829140000001],[153.07358010000002,-27.329736400000005],[153.077657,-27.332378399999996],[153.07956300000004,-27.335213399999997],[153.08176110000002,-27.334600399999996],[153.084924,-27.338716500000007],[153.0847671,-27.343444399999992],[153.087832,-27.34540739999999],[153.090109,-27.343827399999995],[153.09290300000004,-27.349624400000003],[153.089408,-27.351296499999997],[153.084602,-27.348697399999995],[153.0830121,-27.350260500000005],[153.082395,-27.352976499999993],[153.0866751,-27.3543374],[153.0860295,-27.356209900000003],[153.0862921,-27.358082499999988],[153.083247,-27.358205399999996],[153.08188,-27.3565894],[153.0789141,-27.3558244],[153.077745,-27.358312399999992],[153.0785011,-27.3599064],[153.0820411,-27.360621499999997],[153.079522,-27.363220400000003],[153.0749971,-27.367078399999993],[153.0726261,-27.366231400000004],[153.0710351,-27.368017499999997],[153.068917,-27.366934399999998],[153.067129,-27.365598400000003],[153.063075,-27.365312399999993],[153.061883,-27.366565399999995],[153.0590829,-27.36632729999999],[153.0595751,-27.3636586],[153.0576489,-27.362326300000003],[153.0502521,-27.361253400000003],[153.051093,-27.360418400000004],[153.05264,-27.3521654],[153.0553911,-27.337139399999998],[153.0551891,-27.335475500000005],[153.0598861,-27.3357024],[153.065355,-27.335156399999995],[153.068233,-27.329951399999995],[153.069898,-27.33110539999999],[153.071067,-27.32829140000001]]]]}},{"type":"Feature","properties":{"suburb_name":"Bowen Hills","suburb_areasqkm":1.718,"address_cnt":5273.0,"address_density_sqkm":3069.0,"tp":"Suburb : Bowen Hills<br>Density per sqkm: 3,069"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0415651,-27.449814399999998],[153.038803,-27.4498114],[153.0336801,-27.453902399999997],[153.0310899,-27.451597499999995],[153.0290782,-27.4525945],[153.0287494,-27.451154099999993],[153.030012,-27.443892400000006],[153.03769,-27.438140399999998],[153.039864,-27.4336094],[153.0425617,-27.433653199999995],[153.04338000000004,-27.4356735],[153.0415477,-27.437649199999996],[153.042349,-27.44190649999999],[153.0416512,-27.443851399999996],[153.0415651,-27.449814399999998]]]]}},{"type":"Feature","properties":{"suburb_name":"Brassall","suburb_areasqkm":8.2062,"address_cnt":6419.0,"address_density_sqkm":782.0,"tp":"Suburb : Brassall<br>Density per sqkm: 782"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.7484331,-27.602171399999996],[152.7393461,-27.6035194],[152.7364461,-27.602854399999995],[152.73550410000001,-27.60116839999999],[152.7324881,-27.601307399999996],[152.731231,-27.603482399999997],[152.7279581,-27.602886399999996],[152.7241401,-27.596031399999998],[152.7208541,-27.5950464],[152.717254,-27.588626400000003],[152.7169201,-27.585757400000002],[152.7148661,-27.5844164],[152.7144361,-27.5791004],[152.7205421,-27.579906399999995],[152.7305391,-27.5807344],[152.739884,-27.579140399999996],[152.747307,-27.579318399999995],[152.7530631,-27.580776399999987],[152.753914,-27.5848004],[152.756369,-27.587915399999996],[152.752598,-27.589006399999995],[152.756474,-27.594697400000005],[152.7541571,-27.595237399999995],[152.7517281,-27.596423400000003],[152.7484331,-27.602171399999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Brendale","suburb_areasqkm":10.7252,"address_cnt":3999.0,"address_density_sqkm":373.0,"tp":"Suburb : Brendale<br>Density per sqkm: 373"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.99502310000003,-27.330043400000005],[152.9940981,-27.333947399999992],[152.9928181,-27.3354684],[152.9890441,-27.336087399999993],[152.9858411,-27.33794839999999],[152.980854,-27.3368334],[152.9787811,-27.3347244],[152.97551,-27.336798399999996],[152.971461,-27.3374855],[152.9688861,-27.339595400000004],[152.96455610000004,-27.339630399999997],[152.9646161,-27.3419054],[152.961225,-27.3418364],[152.9606991,-27.33695439999999],[152.96221,-27.3276094],[152.9635461,-27.3243364],[152.9605431,-27.323905999999997],[152.9614641,-27.317652999999993],[152.9635311,-27.3133374],[152.9637511,-27.3092634],[152.965673,-27.3095274],[152.9822012,-27.305823499999995],[152.9826897,-27.307974499999997],[152.98827,-27.306715399999995],[152.9908991,-27.314096399999997],[152.9940142,-27.3166354],[152.9997751,-27.318677499999993],[153.0020542,-27.318974800000003],[152.9999531,-27.3230364],[152.9974021,-27.3238765],[152.996703,-27.326192500000005],[152.994747,-27.3285684],[152.99502310000003,-27.330043400000005]]]]}},{"type":"Feature","properties":{"suburb_name":"Brisbane City","suburb_areasqkm":2.0606,"address_cnt":18736.0,"address_density_sqkm":9092.0,"tp":"Suburb : Brisbane City<br>Density per sqkm: 9,092"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.01126,-27.468911400000007],[153.010389,-27.466877399999998],[153.01598790000003,-27.4659654],[153.0148601,-27.459897400000006],[153.014979,-27.459987399999996],[153.018005,-27.460500499999995],[153.021299,-27.462038400000004],[153.0205671,-27.464852499999992],[153.0225376,-27.466874300000004],[153.0250249,-27.4648234],[153.030848,-27.461796399999997],[153.03555,-27.46269639999999],[153.03382,-27.462881400000004],[153.031452,-27.465792499999996],[153.03100200000003,-27.468424399999993],[153.032697,-27.4764645],[153.031245,-27.478790399999994],[153.028173,-27.479487399999996],[153.020718,-27.47047939999999],[153.017367,-27.4678384],[153.01126,-27.468911400000007]]]]}},{"type":"Feature","properties":{"suburb_name":"Caloundra","suburb_areasqkm":3.225,"address_cnt":5021.0,"address_density_sqkm":1557.0,"tp":"Suburb : Caloundra<br>Density per sqkm: 1,557"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.1376409,-26.797902399999998],[153.1372162,-26.803221400000005],[153.1364321,-26.8040985],[153.1396691,-26.80649349999999],[153.135801,-26.8091225],[153.13405210000002,-26.809350400000007],[153.1315031,-26.806742400000008],[153.1287792,-26.805625399999997],[153.1246611,-26.806490499999992],[153.1172889,-26.805029600000005],[153.117888,-26.801613099999997],[153.1164771,-26.80039740000001],[153.1223516,-26.793013699999992],[153.1251768,-26.79368],[153.1255209,-26.791538],[153.121864,-26.7900544],[153.1230271,-26.7847434],[153.1297511,-26.785224400000008],[153.1298881,-26.788867399999997],[153.1289665,-26.793838700000002],[153.1324345,-26.7945727],[153.1360029,-26.7978215],[153.1376409,-26.797902399999998]]]]}},{"type":"Feature","properties":{"suburb_name":"Carrara","suburb_areasqkm":13.2308,"address_cnt":7291.0,"address_density_sqkm":551.0,"tp":"Suburb : Carrara<br>Density per sqkm: 551"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.35349880000004,-28.042791999999995],[153.3505358,-28.0222015],[153.3494305,-28.017924600000004],[153.34595190000002,-28.011316500000003],[153.3426312,-28.007109299999996],[153.3461568,-28.002753999999992],[153.3507741,-28.004947500000004],[153.3547351,-27.9981183],[153.3601489,-28.0006735],[153.3612109,-27.995074500000005],[153.363994,-27.997510500000008],[153.3673359,-28.00093250000001],[153.3678649,-28.003807500000004],[153.3718387,-28.009704800000012],[153.3787607,-28.011196700000006],[153.38310660000002,-28.012685700000002],[153.3867816,-28.0153127],[153.3877536,-28.017058699999996],[153.3887856,-28.024662599999996],[153.3909229,-28.027505499999997],[153.3901171,-28.030054600000003],[153.395787,-28.030975499999997],[153.390634,-28.03213739999999],[153.3860259,-28.032451500000008],[153.3806001,-28.034456499999997],[153.3779389,-28.036836500000007],[153.3718036,-28.032381200000003],[153.3569459,-28.04018949999999],[153.3562039,-28.042115499999994],[153.35349880000004,-28.042791999999995]]]]}},{"type":"Feature","properties":{"suburb_name":"Clear Island Waters","suburb_areasqkm":4.4005,"address_cnt":2355.0,"address_density_sqkm":535.0,"tp":"Suburb : Clear Island Waters<br>Density per sqkm: 535"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.4088065,-28.0351771],[153.406919,-28.044994499999994],[153.4071399,-28.048325499999997],[153.4034169,-28.0500015],[153.3981119,-28.055545499999997],[153.3934819,-28.056521500000002],[153.3928739,-28.054392499999995],[153.387115,-28.04028249999999],[153.3858528,-28.0355635],[153.3860259,-28.032451500000008],[153.390634,-28.03213739999999],[153.395787,-28.030975499999997],[153.4031519,-28.032152499999995],[153.4088065,-28.0351771]]]]}},{"type":"Feature","properties":{"suburb_name":"Ellen Grove","suburb_areasqkm":3.396,"address_cnt":1651.0,"address_density_sqkm":486.0,"tp":"Suburb : Ellen Grove<br>Density per sqkm: 486"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.942726,-27.609518399999995],[152.9576723,-27.6118995],[152.955044,-27.624838399999994],[152.94089000000002,-27.622554400000002],[152.940723,-27.6234204],[152.938389,-27.618997399999994],[152.934105,-27.613850400000004],[152.926959,-27.610309399999995],[152.922852,-27.6068674],[152.928127,-27.606399399999994],[152.931498,-27.607788400000004],[152.942726,-27.609518399999995]]]]}},{"type":"Feature","properties":{"suburb_name":"Everton Park","suburb_areasqkm":4.2974,"address_cnt":6147.0,"address_density_sqkm":1430.0,"tp":"Suburb : Everton Park<br>Density per sqkm: 1,430"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9976221,-27.392920499999995],[152.998161,-27.398152599999996],[152.997616,-27.4010616],[152.9984121,-27.407302600000012],[152.9975721,-27.411908399999998],[152.993749,-27.411205399999997],[152.990538,-27.414470499999997],[152.987622,-27.410621399999997],[152.9832871,-27.4094454],[152.980341,-27.407729399999997],[152.9799741,-27.40505840000001],[152.977994,-27.404888399999997],[152.9787511,-27.40220439999999],[152.977005,-27.4007694],[152.978085,-27.394582400000004],[152.975291,-27.392023399999992],[152.976751,-27.3897754],[152.980605,-27.388141399999995],[152.9839011,-27.384686400000003],[152.9847647,-27.3861079],[152.9852932,-27.393593400000007],[152.9892664,-27.394149299999995],[152.991298,-27.392797399999996],[152.994986,-27.393367400000002],[152.9976221,-27.392920499999995]]]]}},{"type":"Feature","properties":{"suburb_name":"Fig Tree Pocket","suburb_areasqkm":4.2808,"address_cnt":1830.0,"address_density_sqkm":427.0,"tp":"Suburb : Fig Tree Pocket<br>Density per sqkm: 427"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9658091,-27.514289400000006],[152.9668011,-27.519039400000004],[152.970701,-27.525111400000004],[152.9711251,-27.528006499999993],[152.9697999,-27.5322615],[152.9698769,-27.535061500000005],[152.9735371,-27.540652500000004],[152.97333,-27.542691400000002],[152.970847,-27.543515399999997],[152.966447,-27.543465399999995],[152.9635852,-27.540186399999996],[152.9622971,-27.536060499999998],[152.9592951,-27.5326384],[152.954736,-27.529579499999997],[152.9500269,-27.527255399999994],[152.947134,-27.526829400000004],[152.9481682,-27.521542500000006],[152.949574,-27.519913499999998],[152.9550006,-27.517067],[152.9604499,-27.51652440000001],[152.9621812,-27.516902399999992],[152.963605,-27.514002800000004],[152.9658091,-27.514289400000006]]]]}},{"type":"Feature","properties":{"suburb_name":"Fortitude Valley","suburb_areasqkm":1.3057,"address_cnt":12706.0,"address_density_sqkm":9731.0,"tp":"Suburb : Fortitude Valley<br>Density per sqkm: 9,731"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.04204500000003,-27.455232499999994],[153.0433269,-27.45624919999999],[153.0389915,-27.460627099999996],[153.038747,-27.4645554],[153.03555,-27.46269639999999],[153.030848,-27.461796399999997],[153.0290789,-27.4586094],[153.0306449,-27.456974399999996],[153.0280531,-27.4541414],[153.0290782,-27.4525945],[153.0310899,-27.451597499999995],[153.0336801,-27.453902399999997],[153.038803,-27.4498114],[153.0415651,-27.449814399999998],[153.0405431,-27.452709399999996],[153.038886,-27.4545395],[153.04204500000003,-27.455232499999994]]]]}},{"type":"Feature","properties":{"suburb_name":"Golden Beach (Qld)","suburb_areasqkm":2.8097,"address_cnt":4333.0,"address_density_sqkm":1542.0,"tp":"Suburb : Golden Beach (Qld)<br>Density per sqkm: 1,542"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.1182401,-26.832241499999995],[153.1194361,-26.833279399999995],[153.1148881,-26.84168440000001],[153.1102751,-26.841144400000005],[153.1107066,-26.838559500000002],[153.1130512,-26.837222399999995],[153.1137331,-26.833421400000002],[153.1182401,-26.832241499999995]]],[[[153.1184397,-26.831717799999993],[153.1145057,-26.831260600000004],[153.1136455,-26.828024200000005],[153.1167891,-26.8276654],[153.1158991,-26.825063500000002],[153.1136141,-26.827091399999997],[153.1123501,-26.822176499999994],[153.1151982,-26.821467399999996],[153.1166809,-26.815499100000004],[153.1140071,-26.815149400000003],[153.1140171,-26.812627400000004],[153.1159611,-26.801171400000005],[153.1164771,-26.80039740000001],[153.117888,-26.801613099999997],[153.1172889,-26.805029600000005],[153.1246611,-26.806490499999992],[153.123044,-26.809895499999996],[153.1211979,-26.8200655],[153.1218532,-26.8260824],[153.12085600000003,-26.82981639999999],[153.1184397,-26.831717799999993]]]]}},{"type":"Feature","properties":{"suburb_name":"Ipswich","suburb_areasqkm":4.179,"address_cnt":2675.0,"address_density_sqkm":640.0,"tp":"Suburb : Ipswich<br>Density per sqkm: 640"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.763935,-27.6316644],[152.7631131,-27.636461700000005],[152.7544114,-27.634473100000005],[152.749625,-27.6330034],[152.7485011,-27.630659399999995],[152.75168700000003,-27.6272614],[152.7514161,-27.6251514],[152.7537311,-27.6200475],[152.7512161,-27.6191944],[152.7532642,-27.616068399999996],[152.7517444,-27.615228200000004],[152.753691,-27.6139474],[152.757803,-27.612816399999996],[152.7589647,-27.610329400000005],[152.764624,-27.612227399999995],[152.767784,-27.61107439999999],[152.7716069,-27.612790399999998],[152.771187,-27.615110399999992],[152.7705172,-27.618980400000005],[152.7688949,-27.628261199999997],[152.7646248,-27.6277738],[152.763935,-27.6316644]]]]}},{"type":"Feature","properties":{"suburb_name":"Kelvin Grove","suburb_areasqkm":1.6863,"address_cnt":5700.0,"address_density_sqkm":3380.0,"tp":"Suburb : Kelvin Grove<br>Density per sqkm: 3,380"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.016543,-27.458041499999993],[153.014979,-27.459987399999996],[153.0148601,-27.459897400000006],[153.0147602,-27.4598322],[153.01202000000004,-27.454483499999995],[153.0070012,-27.4538324],[153.0071589,-27.4523605],[153.004252,-27.445036500000004],[153.010081,-27.4404054],[153.01129100000003,-27.440645399999998],[153.013242,-27.442452399999997],[153.015058,-27.4417894],[153.0167849,-27.445755499999997],[153.0163835,-27.4475914],[153.0187041,-27.448510499999987],[153.0178047,-27.453510899999998],[153.015972,-27.4542384],[153.016543,-27.458041499999993]]]]}},{"type":"Feature","properties":{"suburb_name":"Kuluin","suburb_areasqkm":1.908,"address_cnt":1582.0,"address_density_sqkm":829.0,"tp":"Suburb : Kuluin<br>Density per sqkm: 829"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0477011,-26.661850400000002],[153.045738,-26.6615274],[153.0475451,-26.6529534],[153.0496621,-26.654325500000002],[153.0523872,-26.653873500000003],[153.0531985,-26.652053399999996],[153.0620801,-26.6527444],[153.0656311,-26.654427399999992],[153.0653981,-26.6602614],[153.0636251,-26.661962399999997],[153.0602961,-26.662889500000002],[153.0568701,-26.662903400000005],[153.0477011,-26.661850400000002]]]]}},{"type":"Feature","properties":{"suburb_name":"Lawnton","suburb_areasqkm":8.1316,"address_cnt":4022.0,"address_density_sqkm":495.0,"tp":"Suburb : Lawnton<br>Density per sqkm: 495"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9649889,-27.277596700000004],[152.9657393,-27.272086700000003],[152.9664349,-27.270891899999988],[152.9701071,-27.271441000000003],[152.9718346,-27.273488100000005],[152.97681270000004,-27.274831300000002],[152.9793751,-27.273665000000005],[152.9813885,-27.2749035],[152.9856191,-27.275261999999998],[152.9894218,-27.274235400000002],[152.9903675,-27.2782276],[152.9927383,-27.277849399999997],[152.9937641,-27.273175399999992],[152.9920421,-27.269710399999997],[152.9935361,-27.267718400000003],[152.9951591,-27.270029400000002],[152.9978531,-27.270740400000005],[153.0016177,-27.270645699999992],[153.0015342,-27.2739909],[153.0025635,-27.2774356],[153.0084678,-27.282070299999997],[153.01348030000003,-27.2845857],[153.0158091,-27.2874885],[153.013822,-27.291441399999997],[153.006626,-27.290436399999997],[153.008113,-27.2928895],[153.006334,-27.295473400000002],[153.002057,-27.29323339999999],[153.0022771,-27.2873374],[152.9990681,-27.287876500000003],[152.9941651,-27.285010400000004],[152.9917071,-27.286281399999996],[152.9903541,-27.288493399999997],[152.9896241,-27.292144400000005],[152.9872721,-27.291686400000003],[152.9876931,-27.295129400000008],[152.9855431,-27.2974404],[152.9827638,-27.287892199999995],[152.9505601,-27.283058399999994],[152.9490279,-27.278959400000005],[152.95094600000002,-27.276801399999997],[152.955653,-27.278346499999998],[152.9575181,-27.281642400000003],[152.9613219,-27.282136400000002],[152.964378,-27.280668300000006],[152.9649889,-27.277596700000004]]]]}},{"type":"Feature","properties":{"suburb_name":"McDowall","suburb_areasqkm":4.2928,"address_cnt":3820.0,"address_density_sqkm":890.0,"tp":"Suburb : McDowall<br>Density per sqkm: 890"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9839011,-27.384686400000003],[152.983155,-27.382125400000003],[152.9814651,-27.380534400000002],[152.9805791,-27.377172400000003],[152.9803738,-27.372638800000004],[152.9804719,-27.372072599999996],[152.9835801,-27.371264799999995],[152.9975831,-27.373263400000003],[152.998203,-27.3700179],[153.0016931,-27.370535499999992],[153.0024107,-27.370637799999997],[153.00107500000001,-27.377576400000002],[153.0003542,-27.381307399999997],[153.0035358,-27.3817636],[153.0019789,-27.389713599999997],[152.998789,-27.389222599999997],[152.997032,-27.3902736],[152.9976221,-27.392920499999995],[152.994986,-27.393367400000002],[152.991298,-27.392797399999996],[152.9892664,-27.394149299999995],[152.9852932,-27.393593400000007],[152.9847647,-27.3861079],[152.9839011,-27.384686400000003]]]]}},{"type":"Feature","properties":{"suburb_name":"Meadowbrook","suburb_areasqkm":5.7652,"address_cnt":2079.0,"address_density_sqkm":361.0,"tp":"Suburb : Meadowbrook<br>Density per sqkm: 361"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.1404226,-27.656346100000004],[153.1420963,-27.658290099999995],[153.1465547,-27.653644899999996],[153.1496414,-27.656150199999992],[153.1547998,-27.6550084],[153.1566187,-27.658074400000004],[153.156921,-27.66063249999999],[153.159407,-27.6622404],[153.161753,-27.658997499999995],[153.159656,-27.664647499999997],[153.160961,-27.66656740000001],[153.159495,-27.669021500000003],[153.160415,-27.6716655],[153.1570954,-27.673681099999996],[153.15129,-27.678135500000003],[153.147192,-27.6731075],[153.145174,-27.672184499999997],[153.139894,-27.6714055],[153.1343261,-27.669410300000003],[153.13066,-27.6668745],[153.1275958,-27.6624627],[153.125352,-27.660371399999995],[153.126784,-27.653248399999995],[153.1310488,-27.653279299999994],[153.1314255,-27.6564502],[153.1329697,-27.6576193],[153.1356537,-27.655052800000004],[153.1379719,-27.656904799999996],[153.1404226,-27.656346100000004]]]]}},{"type":"Feature","properties":{"suburb_name":"Miami","suburb_areasqkm":2.9963,"address_cnt":6840.0,"address_density_sqkm":2283.0,"tp":"Suburb : Miami<br>Density per sqkm: 2,283"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.443038,-28.077649199999996],[153.4422061,-28.075343400000005],[153.4245409,-28.072574099999994],[153.4254353,-28.067983299999995],[153.426976,-28.059968500000004],[153.4372655,-28.061234699999993],[153.437708,-28.060082500000007],[153.44274670000001,-28.0608857],[153.443914,-28.065479199999995],[153.4475869,-28.076048099999998],[153.443038,-28.077649199999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Mudjimba","suburb_areasqkm":3.3737,"address_cnt":1659.0,"address_density_sqkm":492.0,"tp":"Suburb : Mudjimba<br>Density per sqkm: 492"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0830411,-26.616377399999998],[153.0811771,-26.614603399999996],[153.0821001,-26.609603399999994],[153.0841501,-26.611545399999994],[153.0870651,-26.609597399999995],[153.0882311,-26.611029399999993],[153.0919351,-26.6114524],[153.0975939,-26.606339900000002],[153.098768,-26.606176700000002],[153.100219,-26.61125749999999],[153.1019581,-26.615365399999995],[153.1011482,-26.623027399999994],[153.1011622,-26.6285865],[153.0972221,-26.6305004],[153.093726,-26.630935399999995],[153.0872404,-26.629966399999997],[153.0889131,-26.6209764],[153.0911322,-26.621313000000004],[153.0917162,-26.617583499999995],[153.0830411,-26.616377399999998]]]]}},{"type":"Feature","properties":{"suburb_name":"New Beith","suburb_areasqkm":19.3543,"address_cnt":2584.0,"address_density_sqkm":134.0,"tp":"Suburb : New Beith<br>Density per sqkm: 134"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.969696,-27.746936499999997],[152.968976,-27.7566914],[152.966135,-27.7642124],[152.965364,-27.7682855],[152.963947,-27.7707655],[152.9626511,-27.778902600000006],[152.9608095,-27.7768065],[152.94344,-27.774193899999993],[152.9438687,-27.771964199999996],[152.937203,-27.77095239999999],[152.9370529,-27.76898219999999],[152.93994,-27.764341400000006],[152.9309911,-27.762998399999997],[152.93118600000003,-27.761967399999996],[152.913655,-27.759334399999997],[152.916234,-27.745501499999996],[152.921512,-27.7468724],[152.923422,-27.746149399999993],[152.925164,-27.742846400000005],[152.924361,-27.740328399999992],[152.926864,-27.737545400000005],[152.929521,-27.737590399999995],[152.930686,-27.730449399999998],[152.939272,-27.731732400000002],[152.944863,-27.731818500000006],[152.9468563,-27.733181400000007],[152.948078,-27.730893399999996],[152.951377,-27.733859399999996],[152.972452,-27.737107399999996],[152.97588,-27.736199400000007],[152.976723,-27.7384234],[152.971608,-27.740250399999994],[152.969745,-27.742819400000005],[152.969696,-27.746936499999997]]]]}},{"type":"Feature","properties":{"suburb_name":"Redbank (Qld)","suburb_areasqkm":8.3212,"address_cnt":2000.0,"address_density_sqkm":240.0,"tp":"Suburb : Redbank (Qld)<br>Density per sqkm: 240"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.86622,-27.6250904],[152.869953,-27.613832399999993],[152.871909,-27.612582399999994],[152.872662,-27.609858399999997],[152.871975,-27.606891399999988],[152.8696702,-27.606048400000002],[152.8656731,-27.608479399999997],[152.865214,-27.611287400000002],[152.8597601,-27.610510399999992],[152.860333,-27.607410400000006],[152.858539,-27.606851399999996],[152.8602681,-27.606392400000008],[152.858213,-27.60322040000001],[152.860818,-27.597952400000004],[152.8635311,-27.5956254],[152.868666,-27.583311399999996],[152.869922,-27.580971400000006],[152.872716,-27.579241400000004],[152.876547,-27.579924400000003],[152.881857,-27.584703399999995],[152.888369,-27.5897364],[152.885341,-27.5900714],[152.882903,-27.592167399999997],[152.883909,-27.594762400000004],[152.881903,-27.59835839999999],[152.883623,-27.598723399999997],[152.8788611,-27.60649039999999],[152.878599,-27.607903399999998],[152.8808668,-27.6117297],[152.8852971,-27.6217428],[152.880814,-27.6237524],[152.881133,-27.627263399999997],[152.8751271,-27.626397399999995],[152.86622,-27.6250904]]]]}},{"type":"Feature","properties":{"suburb_name":"Redland Bay","suburb_areasqkm":46.6268,"address_cnt":8917.0,"address_density_sqkm":191.0,"tp":"Suburb : Redland Bay<br>Density per sqkm: 191"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.292527,-27.692019500000004],[153.28946400000004,-27.692422499999992],[153.28668,-27.694341500000004],[153.287948,-27.691645500000003],[153.287721,-27.688870499999993],[153.28519,-27.686562499999997],[153.2823169,-27.687104199999997],[153.2830023,-27.68346869999999],[153.2809821,-27.68316439999999],[153.2826629,-27.6740855],[153.28118900000004,-27.6686885],[153.282358,-27.666800499999997],[153.28025,-27.6630685],[153.279915,-27.658410499999995],[153.262856,-27.656063499999995],[153.261431,-27.6538185],[153.261967,-27.650638499999996],[153.258653,-27.6488335],[153.259558,-27.645083499999995],[153.262508,-27.62793949999999],[153.257794,-27.627230499999996],[153.256959,-27.6246695],[153.261147,-27.602005499999994],[153.288575,-27.606439500000004],[153.28735100000003,-27.600338499999996],[153.288631,-27.599309500000007],[153.2928908,-27.598942500000003],[153.296201,-27.596188499999997],[153.297924,-27.59319249999999],[153.30234,-27.595316500000003],[153.3014826,-27.600653499999996],[153.3017286,-27.603304499999997],[153.3039201,-27.605136499999993],[153.3032296,-27.609512399999996],[153.30445960000003,-27.6119284],[153.311382,-27.6177565],[153.311757,-27.6212535],[153.3104325,-27.622264400000002],[153.31045850000004,-27.626901499999995],[153.3119395,-27.6277695],[153.31234960000003,-27.630901500000004],[153.31162460000002,-27.634074500000004],[153.3127236,-27.6388495],[153.31495360000002,-27.6391945],[153.3128997,-27.642678300000007],[153.3103717,-27.64475029999999],[153.3085968,-27.648717299999998],[153.3102518,-27.652583299999996],[153.3084958,-27.654906299999993],[153.3083048,-27.656878300000002],[153.3113358,-27.663411200000002],[153.3141698,-27.665708200000005],[153.3199898,-27.672720099999992],[153.320636,-27.6751354],[153.3165399,-27.678621200000002],[153.3162149,-27.6822071],[153.3210739,-27.692544099999996],[153.3209769,-27.6955821],[153.3228551,-27.6991744],[153.321706,-27.701828999999993],[153.317868,-27.70209210000001],[153.3135891,-27.70541409999999],[153.3075248,-27.70721139999999],[153.3010234,-27.7065542],[153.2989154,-27.7045872],[153.2950598,-27.699470399999996],[153.2942923,-27.6940943],[153.292527,-27.692019500000004]]]]}},{"type":"Feature","properties":{"suburb_name":"Riverbend","suburb_areasqkm":17.8913,"address_cnt":391.0,"address_density_sqkm":22.0,"tp":"Suburb : Riverbend<br>Density per sqkm: 22"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9836084,-27.844788499999996],[152.98417700000002,-27.8477274],[152.985624,-27.849802399999998],[152.984893,-27.851649399999992],[152.982081,-27.851539399999997],[152.977388,-27.8479024],[152.973217,-27.845691499999997],[152.97122,-27.8433375],[152.967875,-27.840855400000002],[152.961509,-27.838457499999997],[152.958722,-27.8380095],[152.956332,-27.840335400000004],[152.957808,-27.8426054],[152.960401,-27.8439164],[152.959687,-27.846455399999993],[152.956308,-27.845992400000004],[152.955338,-27.844379399999998],[152.952093,-27.8446764],[152.946439,-27.843447399999988],[152.943013,-27.842649399999992],[152.938308,-27.8406714],[152.93396,-27.8406814],[152.930958,-27.8398384],[152.929737,-27.841154399999997],[152.924948,-27.842073399999997],[152.92518,-27.839108399999994],[152.93036300000003,-27.8331244],[152.93838000000002,-27.834232399999994],[152.941902,-27.8303474],[152.9626369,-27.8208514],[152.97041510000003,-27.817490500000005],[152.9733829,-27.8155195],[152.98056600000004,-27.809228500000003],[152.9928359,-27.811026399999996],[152.994725,-27.801631399999998],[153.0055381,-27.8032615],[153.007458,-27.8047845],[153.012093,-27.805638499999997],[153.0169101,-27.80452349999999],[153.023541,-27.8065475],[153.025419,-27.8088304],[153.0221871,-27.812052399999992],[153.017014,-27.811510400000003],[153.010406,-27.809744499999994],[153.007085,-27.809618400000005],[153.0049858,-27.811463499999995],[153.0040938,-27.820625699999997],[153.0032899,-27.821527400000004],[152.9974978,-27.823317599999996],[152.988399,-27.8255524],[152.9872602,-27.827738600000004],[152.9867863,-27.8329912],[152.9847276,-27.8385523],[152.9848571,-27.841249599999994],[152.9836084,-27.844788499999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Runcorn","suburb_areasqkm":6.6425,"address_cnt":6619.0,"address_density_sqkm":996.0,"tp":"Suburb : Runcorn<br>Density per sqkm: 996"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.095913,-27.5947835],[153.0914212,-27.6003274],[153.084433,-27.6038425],[153.081871,-27.605545499999998],[153.0798866,-27.605391300000004],[153.078184,-27.6133214],[153.075251,-27.612398399999993],[153.0663069,-27.611087399999995],[153.0619829,-27.611447399999996],[153.0653014,-27.593712800000002],[153.064887,-27.59005839999999],[153.0659618,-27.586495599999992],[153.0684873,-27.5865872],[153.0686153,-27.5830688],[153.0718282,-27.582477800000003],[153.0734511,-27.582221],[153.0726453,-27.5863767],[153.075741,-27.5868373],[153.0764521,-27.583146099999997],[153.0784512,-27.583437600000003],[153.0777112,-27.587131199999998],[153.0817473,-27.587734000000005],[153.0853239,-27.5875287],[153.0849311,-27.590162699999993],[153.095244,-27.591679599999996],[153.095913,-27.5947835]]]]}},{"type":"Feature","properties":{"suburb_name":"Sandgate (Qld)","suburb_areasqkm":3.1301,"address_cnt":3188.0,"address_density_sqkm":1018.0,"tp":"Suburb : Sandgate (Qld)<br>Density per sqkm: 1,018"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.07358010000002,-27.329736400000005],[153.071067,-27.32829140000001],[153.069066,-27.3253225],[153.0688851,-27.323261400000007],[153.066506,-27.32293449999999],[153.065895,-27.321028400000003],[153.0552952,-27.3194784],[153.0526942,-27.321004499999994],[153.0503952,-27.3206629],[153.0464801,-27.311844399999995],[153.048178,-27.311475400000003],[153.0586761,-27.313755399999998],[153.058332,-27.3120314],[153.06397020000003,-27.307715399999996],[153.0665784,-27.307182700000002],[153.0697161,-27.3141035],[153.0753604,-27.320596299999995],[153.0781543,-27.3217663],[153.077281,-27.3261523],[153.0739071,-27.3281224],[153.07358010000002,-27.329736400000005]]]]}},{"type":"Feature","properties":{"suburb_name":"Scarborough (Qld)","suburb_areasqkm":3.4797,"address_cnt":5750.0,"address_density_sqkm":1652.0,"tp":"Suburb : Scarborough (Qld)<br>Density per sqkm: 1,652"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.1039222,-27.2149785],[153.1030021,-27.213875399999992],[153.104077,-27.208201500000005],[153.1053763,-27.206424199999997],[153.1005421,-27.205869399999997],[153.0997661,-27.204452400000008],[153.1025231,-27.201982500000007],[153.1029152,-27.1998304],[153.1047541,-27.1975554],[153.1035491,-27.1939645],[153.1046191,-27.19151239999999],[153.1063551,-27.1908574],[153.1111889,-27.191597400000006],[153.112437,-27.190403399999997],[153.1147671,-27.191348499999997],[153.115772,-27.196993399999997],[153.1167541,-27.1982885],[153.1155361,-27.2011775],[153.1170991,-27.204283499999992],[153.1164031,-27.209195499999996],[153.118988,-27.212389499999997],[153.1166982,-27.2159124],[153.1112657,-27.215103000000006],[153.1102892,-27.217081499999992],[153.1077051,-27.216689499999994],[153.10808990000004,-27.2146365],[153.1039222,-27.2149785]]]]}},{"type":"Feature","properties":{"suburb_name":"Shailer Park","suburb_areasqkm":8.0963,"address_cnt":6204.0,"address_density_sqkm":766.0,"tp":"Suburb : Shailer Park<br>Density per sqkm: 766"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.19356200000001,-27.641570499999997],[153.1891276,-27.667052499999997],[153.188792,-27.667286500000003],[153.183002,-27.663817499999997],[153.171454,-27.66212049999999],[153.170775,-27.66231849999999],[153.164123,-27.655199499999988],[153.157245,-27.64941449999999],[153.1582046,-27.647829599999998],[153.1634474,-27.646358000000003],[153.1641293,-27.6424741],[153.1619054,-27.641058400000002],[153.163716,-27.638107399999992],[153.1730828,-27.638670499999996],[153.17384700000002,-27.634239500000007],[153.177046,-27.634823499999996],[153.182296,-27.634071499999997],[153.184033,-27.635500499999996],[153.183221,-27.638277500000004],[153.1875544,-27.640736],[153.19356200000001,-27.641570499999997]]]]}},{"type":"Feature","properties":{"suburb_name":"Stafford Heights","suburb_areasqkm":2.8963,"address_cnt":3228.0,"address_density_sqkm":1115.0,"tp":"Suburb : Stafford Heights<br>Density per sqkm: 1,115"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0019789,-27.389713599999997],[153.0163289,-27.3919496],[153.0158203,-27.394573999999995],[153.019853,-27.395229300000004],[153.018799,-27.4003794],[153.0223407,-27.4009414],[153.0215697,-27.404815399999997],[153.0151198,-27.4034895],[152.997616,-27.4010616],[152.998161,-27.398152599999996],[152.9976221,-27.392920499999995],[152.997032,-27.3902736],[152.998789,-27.389222599999997],[153.0019789,-27.389713599999997]]]]}},{"type":"Feature","properties":{"suburb_name":"Stapylton","suburb_areasqkm":15.0131,"address_cnt":839.0,"address_density_sqkm":56.0,"tp":"Suburb : Stapylton<br>Density per sqkm: 56"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.270069,-27.7210845],[153.269452,-27.724491499999996],[153.268099,-27.724511499999995],[153.265819,-27.737567500000004],[153.265097,-27.740011499999998],[153.261204,-27.7433805],[153.261443,-27.744620500000003],[153.2569138,-27.750155499999995],[153.251965,-27.7499975],[153.249369,-27.750957499999995],[153.24429700000002,-27.751132500000004],[153.23935990000004,-27.7560614],[153.230459,-27.7391515],[153.228043,-27.735466500000005],[153.220801,-27.7262325],[153.225122,-27.7234255],[153.227579,-27.723708500000004],[153.227535,-27.726541499999996],[153.228727,-27.727308499999996],[153.232601,-27.723836499999997],[153.23059300000003,-27.7215765],[153.2263979,-27.720704599999994],[153.221624,-27.7186385],[153.215461,-27.71816550000001],[153.212736,-27.715283499999995],[153.213637,-27.714327499999996],[153.221089,-27.714242499999994],[153.22696,-27.71537349999999],[153.229163,-27.7124965],[153.233325,-27.7111555],[153.232815,-27.7081495],[153.239956,-27.70915649999999],[153.2395911,-27.711924499999995],[153.243146,-27.710140499999994],[153.248056,-27.712450499999996],[153.2474811,-27.7157025],[153.252216,-27.7188665],[153.251909,-27.721135499999995],[153.2566899,-27.719210499999996],[153.270069,-27.7210845]]]]}},{"type":"Feature","properties":{"suburb_name":"Strathpine","suburb_areasqkm":7.1226,"address_cnt":5536.0,"address_density_sqkm":777.0,"tp":"Suburb : Strathpine<br>Density per sqkm: 777"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9855431,-27.2974404],[152.9876931,-27.295129400000008],[152.9872721,-27.291686400000003],[152.9896241,-27.292144400000005],[152.9903541,-27.288493399999997],[152.9917071,-27.286281399999996],[152.9941651,-27.285010400000004],[152.9990681,-27.287876500000003],[153.0022771,-27.2873374],[153.002057,-27.29323339999999],[153.006334,-27.295473400000002],[153.008113,-27.2928895],[153.006626,-27.290436399999997],[153.013822,-27.291441399999997],[153.0123941,-27.296149399999997],[153.008615,-27.2983634],[153.0105961,-27.300168400000008],[153.0096781,-27.302003399999997],[153.007169,-27.3011524],[152.999441,-27.3017014],[152.9969891,-27.302541400000003],[152.9972831,-27.306075399999994],[152.996715,-27.3091934],[152.9986001,-27.312491399999995],[153.0004211,-27.312052399999995],[153.002543,-27.3168064],[153.0020542,-27.318974800000003],[152.9997751,-27.318677499999993],[152.9940142,-27.3166354],[152.9908991,-27.314096399999997],[152.98827,-27.306715399999995],[152.9826897,-27.307974499999997],[152.9822012,-27.305823499999995],[152.965673,-27.3095274],[152.9637511,-27.3092634],[152.9642571,-27.304481399999997],[152.9652251,-27.302560399999997],[152.9675191,-27.30222539999999],[152.9688251,-27.2983364],[152.9716181,-27.29750869999999],[152.9780611,-27.299423400000002],[152.9855431,-27.2974404]]]]}},{"type":"Feature","properties":{"suburb_name":"Arana Hills","suburb_areasqkm":3.6544,"address_cnt":3264.0,"address_density_sqkm":893.0,"tp":"Suburb : Arana Hills<br>Density per sqkm: 893"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.965175,-27.397080399999997],[152.9647551,-27.397806400000007],[152.9621651,-27.397939400000002],[152.9592081,-27.4001254],[152.9589461,-27.402793400000004],[152.9525861,-27.405856399999998],[152.9520681,-27.407672400000006],[152.9491981,-27.4087464],[152.9510837,-27.399064799999994],[152.9520786,-27.396347699999993],[152.944984,-27.395243400000002],[152.945754,-27.393205499999993],[152.9444711,-27.3906344],[152.947848,-27.381565400000003],[152.9511551,-27.382149400000003],[152.9527301,-27.380492399999998],[152.963649,-27.381984399999993],[152.9624351,-27.384163200000003],[152.9628407,-27.388902299999998],[152.961882,-27.391898500000003],[152.9621948,-27.395484100000004],[152.965175,-27.397080399999997]]]]}},{"type":"Feature","properties":{"suburb_name":"Belmont (Qld)","suburb_areasqkm":9.7744,"address_cnt":1952.0,"address_density_sqkm":200.0,"tp":"Suburb : Belmont (Qld)<br>Density per sqkm: 200"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.12149500000004,-27.486397399999994],[153.1187301,-27.481698399999996],[153.12259,-27.479958399999994],[153.1274212,-27.482594499999998],[153.1265117,-27.484758299999996],[153.1366524,-27.486312],[153.13497000000004,-27.488093499999998],[153.1408891,-27.489019400000004],[153.1387332,-27.500126400000003],[153.1509121,-27.502020399999996],[153.1495241,-27.509563500000002],[153.1424429,-27.5082245],[153.1416368,-27.511917499999992],[153.1448738,-27.512442900000007],[153.1419864,-27.527932399999997],[153.1408138,-27.534514399999996],[153.122982,-27.531994499999996],[153.1252569,-27.520425399999997],[153.1259211,-27.5109024],[153.1245869,-27.505335499999997],[153.1247842,-27.5024845],[153.1261709,-27.496936500000004],[153.1250999,-27.4931055],[153.12149500000004,-27.486397399999994]]]]}},{"type":"Feature","properties":{"suburb_name":"Camira (Qld)","suburb_areasqkm":8.0669,"address_cnt":3253.0,"address_density_sqkm":403.0,"tp":"Suburb : Camira (Qld)<br>Density per sqkm: 403"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.919176,-27.613333499999996],[152.916265,-27.6167254],[152.9145121,-27.6211985],[152.9179515,-27.621744799999988],[152.918651,-27.623139499999997],[152.9327739,-27.625353299999997],[152.9305856,-27.6348316],[152.93937340000002,-27.636249099999997],[152.938598,-27.640165399999997],[152.935835,-27.6453904],[152.9247248,-27.657718799999998],[152.9239369,-27.654735500000005],[152.9206282,-27.650006400000002],[152.9194049,-27.647304399999992],[152.91888,-27.6432434],[152.916972,-27.639201499999995],[152.900885,-27.63684939999999],[152.907431,-27.633912399999996],[152.903494,-27.631757399999998],[152.901538,-27.626753399999988],[152.903214,-27.625014400000005],[152.905901,-27.622650399999998],[152.909044,-27.6229494],[152.9100849,-27.621290500000004],[152.911801,-27.612060399999997],[152.919176,-27.613333499999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Churchill (Qld)","suburb_areasqkm":1.7103,"address_cnt":986.0,"address_density_sqkm":577.0,"tp":"Suburb : Churchill (Qld)<br>Density per sqkm: 577"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.7568042,-27.640592300000012],[152.7549721,-27.642858399999994],[152.7563024,-27.646555199999998],[152.75448,-27.6468274],[152.7508832,-27.647135200000008],[152.746297,-27.6465284],[152.746885,-27.644705400000003],[152.745866,-27.6417494],[152.746189,-27.6398414],[152.745889,-27.629011400000003],[152.747802,-27.626699399999996],[152.7474115,-27.624812199999997],[152.747472,-27.62399840000001],[152.750022,-27.6237294],[152.7514161,-27.6251514],[152.75168700000003,-27.6272614],[152.7485011,-27.630659399999995],[152.749625,-27.6330034],[152.7544114,-27.634473100000005],[152.7557121,-27.639255400000003],[152.7568042,-27.640592300000012]]]]}},{"type":"Feature","properties":{"suburb_name":"Coalfalls","suburb_areasqkm":0.7482,"address_cnt":411.0,"address_density_sqkm":549.0,"tp":"Suburb : Coalfalls<br>Density per sqkm: 549"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.739544,-27.6105304],[152.7390641,-27.607301399999997],[152.7371581,-27.604975400000004],[152.7393461,-27.6035194],[152.7484331,-27.602171399999996],[152.7493792,-27.6053373],[152.7485902,-27.609410699999998],[152.7448864,-27.6096657],[152.7414961,-27.608856400000004],[152.739544,-27.6105304]]]]}},{"type":"Feature","properties":{"suburb_name":"Kairabah","suburb_areasqkm":8.3117,"address_cnt":1089.0,"address_density_sqkm":131.0,"tp":"Suburb : Kairabah<br>Density per sqkm: 131"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0990387,-27.819053099999994],[153.1127388,-27.820955199999993],[153.1129963,-27.8195581],[153.1291117,-27.821887899999993],[153.1333768,-27.829280699999998],[153.1348288,-27.837433599999997],[153.1362748,-27.8398487],[153.1406271,-27.838525399999998],[153.1534065,-27.8407036],[153.152711,-27.844300499999992],[153.141656,-27.842675499999988],[153.140841,-27.846978399999998],[153.138983,-27.848433499999995],[153.137477,-27.8467655],[153.13583800000004,-27.8423405],[153.134646,-27.8486355],[153.130207,-27.847960399999998],[153.12726000000004,-27.8498025],[153.126765,-27.852489499999997],[153.124041,-27.852282499999998],[153.121135,-27.853904499999995],[153.121209,-27.849558499999993],[153.119145,-27.845036399999998],[153.119409,-27.8413475],[153.118244,-27.838907499999994],[153.113166,-27.83780339999999],[153.109376,-27.837542499999998],[153.107822,-27.8358015],[153.10429,-27.8259695],[153.0990387,-27.819053099999994]]]]}},{"type":"Feature","properties":{"suburb_name":"Kalinga","suburb_areasqkm":0.951,"address_cnt":1015.0,"address_density_sqkm":1067.0,"tp":"Suburb : Kalinga<br>Density per sqkm: 1,067"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.04107,-27.4149054],[153.0397893,-27.410814700000003],[153.0421951,-27.407988400000004],[153.0456832,-27.408573099999998],[153.04903730000004,-27.406294299999995],[153.0503203,-27.404047300000002],[153.0536693,-27.407214199999995],[153.0574113,-27.4095626],[153.0562802,-27.41093579999999],[153.0524835,-27.408724000000007],[153.0510944,-27.412396899999997],[153.0487419,-27.4128864],[153.0483814,-27.414610300000003],[153.0420508,-27.413663699999994],[153.04107,-27.4149054]]]]}},{"type":"Feature","properties":{"suburb_name":"Mapleton","suburb_areasqkm":13.4215,"address_cnt":1039.0,"address_density_sqkm":77.0,"tp":"Suburb : Mapleton<br>Density per sqkm: 77"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.8506102,-26.6482174],[152.8362252,-26.645998399999996],[152.8346272,-26.64295640000001],[152.8362892,-26.640379399999993],[152.8385032,-26.625946399999997],[152.8424884,-26.6263835],[152.8431181,-26.6234424],[152.8444282,-26.624248400000006],[152.8475311,-26.6237004],[152.8518155,-26.624602499999998],[152.853009,-26.618391099999997],[152.8522334,-26.618270599999995],[152.8539611,-26.610421400000007],[152.8665092,-26.6123954],[152.8666412,-26.6117104],[152.8772901,-26.613350400000005],[152.8826302,-26.625265400000004],[152.8853242,-26.6312804],[152.88081910000002,-26.630576399999995],[152.8804562,-26.635421400000002],[152.8786391,-26.644821399999998],[152.8725003,-26.643952499999997],[152.8701802,-26.6404204],[152.85835620000003,-26.6392024],[152.8568901,-26.64874539999999],[152.8506102,-26.6482174]]]]}},{"type":"Feature","properties":{"suburb_name":"Mount Mee","suburb_areasqkm":77.5416,"address_cnt":387.0,"address_density_sqkm":5.0,"tp":"Suburb : Mount Mee<br>Density per sqkm: 5"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.7835761,-27.086408399999996],[152.7802571,-27.104142600000007],[152.766864,-27.10214249999999],[152.7653641,-27.110852400000002],[152.74232620000004,-27.1074974],[152.7400501,-27.106182400000005],[152.7335202,-27.107418500000005],[152.7344671,-27.102332500000003],[152.7264932,-27.1013705],[152.7262132,-27.1032095],[152.7180703,-27.1022116],[152.7183093,-27.1003726],[152.7120732,-27.0989004],[152.7079671,-27.096264299999998],[152.7020987,-27.094797500000002],[152.6958124,-27.09486439999999],[152.689759,-27.092782000000003],[152.686997,-27.093332300000004],[152.6833384,-27.0951392],[152.6793207,-27.094758300000002],[152.6761448,-27.089012299999997],[152.6771279,-27.087446899999996],[152.6822587,-27.0860739],[152.6869111,-27.083317399999988],[152.6870891,-27.081644399999995],[152.6856731,-27.076555399999997],[152.68399610000003,-27.074698400000003],[152.6856256,-27.071995899999997],[152.6835491,-27.0655594],[152.6809601,-27.0611184],[152.6785781,-27.059362399999998],[152.6776831,-27.0569464],[152.6951581,-27.0590244],[152.69543610000002,-27.0562384],[152.6893541,-27.0551764],[152.6907191,-27.052720400000002],[152.6892711,-27.0510054],[152.6891541,-27.0482694],[152.6923111,-27.04668339999999],[152.6930521,-27.045100400000003],[152.6965541,-27.042167399999997],[152.6979921,-27.0396104],[152.6999911,-27.0412054],[152.7031451,-27.0415444],[152.7037831,-27.0386174],[152.70822710000002,-27.03501039999999],[152.7088041,-27.036982400000003],[152.7198943,-27.040744500000002],[152.7247685,-27.029293599999995],[152.72750740000004,-27.023447],[152.7426791,-27.028572400000012],[152.7463641,-27.029127399999997],[152.7443021,-27.033908400000005],[152.7549711,-27.037538399999992],[152.7559271,-27.040166399999993],[152.7589471,-27.041550399999988],[152.7600341,-27.039317399999995],[152.7789981,-27.04184039999999],[152.780739,-27.03867019999999],[152.8038078,-27.041764699999998],[152.8039551,-27.0419504],[152.8013481,-27.0450064],[152.7994131,-27.0560106],[152.8021376,-27.055948099999995],[152.8036996,-27.057689099999997],[152.80265910000003,-27.060913400000004],[152.8005251,-27.060966399999998],[152.7991491,-27.069341400000003],[152.7961911,-27.06892539999999],[152.7932411,-27.0719704],[152.7923211,-27.078142400000004],[152.7904281,-27.081203399999996],[152.7906941,-27.082577399999995],[152.7842661,-27.08238239999999],[152.7835761,-27.086408399999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Newtown (Ipswich - Qld)","suburb_areasqkm":0.7167,"address_cnt":692.0,"address_density_sqkm":966.0,"tp":"Suburb : Newtown (Ipswich - Qld)<br>Density per sqkm: 966"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.782934,-27.613523499999996],[152.7829142,-27.61680939999999],[152.7801321,-27.616446400000005],[152.7794369,-27.6202134],[152.7705172,-27.618980400000005],[152.771187,-27.615110399999992],[152.7763371,-27.612806399999997],[152.782934,-27.613523499999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Ninderry","suburb_areasqkm":8.6989,"address_cnt":600.0,"address_density_sqkm":69.0,"tp":"Suburb : Ninderry<br>Density per sqkm: 69"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9954191,-26.554089399999995],[152.9924552,-26.552686399999995],[152.9885602,-26.5555544],[152.9755088,-26.553965799999997],[152.9752111,-26.555762500000004],[152.9718473,-26.554500399999995],[152.9693051,-26.552183400000004],[152.9664902,-26.550804400000004],[152.9640893,-26.5526025],[152.9622162,-26.5494874],[152.9637062,-26.5477784],[152.96211,-26.541109500000005],[152.9593892,-26.536820399999996],[152.9562021,-26.535990199999997],[152.955556,-26.532230099999996],[152.9555202,-26.527117399999995],[152.9553267,-26.521884600000003],[152.9599381,-26.524071399999993],[152.9590392,-26.5259794],[152.9607022,-26.527772399999996],[152.9694222,-26.528943399999996],[152.9718932,-26.527547399999992],[152.9860671,-26.529289399999993],[152.9854042,-26.5332644],[152.9901892,-26.5406974],[152.9904021,-26.542507399999998],[152.9931661,-26.543741399999995],[152.9926431,-26.5468014],[152.9961002,-26.5502144],[152.9954191,-26.554089399999995]]]]}},{"type":"Feature","properties":{"suburb_name":"Norwell","suburb_areasqkm":25.3078,"address_cnt":154.0,"address_density_sqkm":6.0,"tp":"Suburb : Norwell<br>Density per sqkm: 6"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.26667960000003,-27.7679016],[153.2729839,-27.765714499999994],[153.2741211,-27.75945949999999],[153.27575350000004,-27.7558113],[153.2732263,-27.7554791],[153.2744059,-27.748683399999997],[153.2819029,-27.7497315],[153.291657,-27.7491825],[153.300178,-27.7503425],[153.301929,-27.7550805],[153.301004,-27.7564785],[153.302649,-27.758196500000004],[153.3018886,-27.762566200000002],[153.306263,-27.7639085],[153.310249,-27.7644265],[153.310021,-27.766993500000005],[153.31664,-27.767879499999996],[153.316978,-27.7658965],[153.3211863,-27.766427000000004],[153.3244606,-27.765886199999997],[153.32651100000004,-27.766625499999993],[153.3300345,-27.766179199999996],[153.33985,-27.7638415],[153.339195,-27.7625025],[153.3412909,-27.760325500000008],[153.34466920000003,-27.760761500000005],[153.345664,-27.763581500000008],[153.3447706,-27.76951889999999],[153.340427,-27.772577499999997],[153.338807,-27.7744925],[153.336197,-27.7827805],[153.343568,-27.7840445],[153.33971,-27.802824499999996],[153.3377515,-27.8023726],[153.3307006,-27.805409599999994],[153.3266706,-27.8057594],[153.32518970000004,-27.804732199999993],[153.320345,-27.8064465],[153.3172219,-27.804775199999998],[153.3150938,-27.8021038],[153.3163937,-27.800144800000005],[153.3147918,-27.7980108],[153.3149758,-27.795565799999995],[153.3164489,-27.7926294],[153.31581,-27.788159699999987],[153.31343300000003,-27.7862845],[153.309434,-27.785767500000002],[153.30723000000003,-27.78670849999999],[153.305419,-27.7894655],[153.300299,-27.790653499999994],[153.2974099,-27.790197499999998],[153.296612,-27.78787749999999],[153.29410300000004,-27.787306500000003],[153.291975,-27.791005499999994],[153.286986,-27.790394499999998],[153.284206,-27.787920499999995],[153.285309,-27.784971499999997],[153.290617,-27.78590249999999],[153.292145,-27.782983500000004],[153.2904649,-27.781029499999995],[153.285553,-27.782296499999998],[153.2803559,-27.778922800000007],[153.2713717,-27.772085599999997],[153.2706594,-27.769320099999998],[153.26667960000003,-27.7679016]]]]}},{"type":"Feature","properties":{"suburb_name":"Pallara","suburb_areasqkm":6.4843,"address_cnt":3504.0,"address_density_sqkm":540.0,"tp":"Suburb : Pallara<br>Density per sqkm: 540"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.025284,-27.6128614],[153.0237842,-27.616355999999996],[153.0225513,-27.621581000000003],[153.0225422,-27.62630130000001],[153.0186742,-27.6257304],[153.0178642,-27.623930499999997],[153.014635,-27.626395399999996],[153.0117121,-27.6273244],[153.0088631,-27.62614050000001],[153.0046979,-27.6305824],[153.0001921,-27.632233499999998],[152.987749,-27.630429399999997],[152.988533,-27.626695400000003],[152.987837,-27.624420400000005],[152.984907,-27.621904400000005],[152.984882,-27.621364399999994],[152.98846400000002,-27.6204135],[152.991582,-27.6184525],[152.99518,-27.619231499999994],[152.998625,-27.6141255],[152.997012,-27.611413400000007],[153.009187,-27.613080399999998],[153.0104003,-27.606864999999992],[153.0134077,-27.6072875],[153.0167576,-27.6049382],[153.0199155,-27.60707530000001],[153.0193827,-27.609941699999993],[153.023053,-27.6104564],[153.025284,-27.6128614]]]]}},{"type":"Feature","properties":{"suburb_name":"Purga","suburb_areasqkm":56.6008,"address_cnt":482.0,"address_density_sqkm":9.0,"tp":"Suburb : Purga<br>Density per sqkm: 9"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.7470513,-27.664983599999996],[152.7443632,-27.6739014],[152.7479283,-27.705160600000003],[152.749307,-27.7172024],[152.75204,-27.7177254],[152.7503761,-27.72561840000001],[152.7490091,-27.735176400000007],[152.7412481,-27.73406840000001],[152.741904,-27.739261400000004],[152.739704,-27.744603399999995],[152.73655,-27.748112399999993],[152.736409,-27.7494434],[152.718954,-27.746906399999997],[152.7178769,-27.744409499999996],[152.7011099,-27.742000399999995],[152.692995,-27.740388399999997],[152.685207,-27.7398384],[152.68184,-27.73811939999999],[152.679355,-27.735813400000005],[152.6747931,-27.7344874],[152.673971,-27.730472399999996],[152.677325,-27.729270399999994],[152.67877,-27.725764399999996],[152.678627,-27.7217124],[152.6793041,-27.7174334],[152.6807171,-27.7145384],[152.680486,-27.711550399999993],[152.682611,-27.7049424],[152.683232,-27.701126399999993],[152.687806,-27.69689139999999],[152.687482,-27.695573400000004],[152.6891091,-27.6917684],[152.689642,-27.6887194],[152.693456,-27.68848540000001],[152.6982841,-27.6872874],[152.6968081,-27.678790400000004],[152.698288,-27.676612399999996],[152.6972291,-27.673854399999996],[152.6997801,-27.663873400000007],[152.698195,-27.66094040000001],[152.699635,-27.660288400000002],[152.6989025,-27.657709599999997],[152.6990551,-27.655705400000002],[152.7009601,-27.652300399999998],[152.701659,-27.648303399999993],[152.704166,-27.647387399999996],[152.7110021,-27.6481684],[152.712322,-27.649401399999995],[152.713689,-27.654107399999997],[152.71615,-27.652783400000004],[152.71815900000001,-27.6533224],[152.7209321,-27.650661399999997],[152.7286551,-27.650917400000008],[152.727114,-27.652212400000003],[152.7265961,-27.6548774],[152.7237061,-27.655383399999998],[152.7239381,-27.6570774],[152.720535,-27.660883400000007],[152.7357601,-27.663467399999995],[152.7470513,-27.664983599999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Ripley","suburb_areasqkm":12.8739,"address_cnt":4807.0,"address_density_sqkm":373.0,"tp":"Suburb : Ripley<br>Density per sqkm: 373"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.77861,-27.684084399999996],[152.772835,-27.681174399999993],[152.765234,-27.680899399999998],[152.766826,-27.67925339999999],[152.7662841,-27.6764014],[152.7634001,-27.675653399999998],[152.757981,-27.668823400000004],[152.76014600000002,-27.666212399999992],[152.7594416,-27.662818100000003],[152.7668391,-27.660567399999998],[152.770932,-27.658573399999995],[152.7794546,-27.6533418],[152.8012491,-27.656320800000003],[152.799146,-27.659122399999998],[152.79917,-27.6627974],[152.8004672,-27.666346299999994],[152.797656,-27.668048399999993],[152.798517,-27.672094399999988],[152.8020121,-27.675022399999992],[152.806875,-27.677052399999997],[152.80329000000003,-27.680421400000004],[152.803842,-27.682401400000003],[152.807254,-27.686016400000003],[152.803124,-27.6874784],[152.796269,-27.6908414],[152.789808,-27.6904974],[152.78470500000003,-27.687936399999998],[152.77861,-27.684084399999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Tanawha","suburb_areasqkm":12.3832,"address_cnt":694.0,"address_density_sqkm":56.0,"tp":"Suburb : Tanawha<br>Density per sqkm: 56"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0344623,-26.700462000000005],[153.0372671,-26.700801399999992],[153.0383671,-26.7030744],[153.0511851,-26.704981199999995],[153.0494191,-26.713590399999998],[153.0496854,-26.714964099999996],[153.0481496,-26.7164291],[153.0443344,-26.723078199999996],[153.0462332,-26.727750300000004],[153.046603,-26.733726799999992],[153.0467465,-26.734938100000008],[153.0394284,-26.733741300000002],[153.03301850000003,-26.73537440000001],[153.03158710000002,-26.743934000000003],[153.026721,-26.743258799999996],[153.0164764,-26.741844199999996],[153.0178351,-26.733918399999993],[153.0196671,-26.7323324],[153.0184671,-26.72870139999999],[153.0203471,-26.7181214],[153.0215331,-26.71676239999999],[153.0218621,-26.7133794],[153.01079510000002,-26.711825399999988],[153.0113651,-26.710702399999995],[153.0093191,-26.7082594],[153.0111312,-26.696963499999992],[153.0167978,-26.702361],[153.0216101,-26.701767399999998],[153.0224046,-26.7031612],[153.0311824,-26.704386399999994],[153.0317932,-26.702481399999996],[153.0340711,-26.7028234],[153.0344623,-26.700462000000005]]]]}},{"type":"Feature","properties":{"suburb_name":"Willow Vale (Qld)","suburb_areasqkm":21.2991,"address_cnt":993.0,"address_density_sqkm":47.0,"tp":"Suburb : Willow Vale (Qld)<br>Density per sqkm: 47"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.288659,-27.838906500000007],[153.286639,-27.8385574],[153.283404,-27.8542308],[153.28271600000002,-27.85864249999999],[153.281135,-27.859849499999996],[153.2805619,-27.862648499999995],[153.27514990000003,-27.861788500000003],[153.2740129,-27.8644357],[153.272596,-27.8719045],[153.266321,-27.870954500000003],[153.2654059,-27.8750605],[153.2579757,-27.8738609],[153.2585301,-27.871214700000007],[153.2558445,-27.8707796],[153.2575466,-27.862618299999998],[153.25491890000004,-27.864018499999997],[153.25254710000002,-27.8626102],[153.2499927,-27.862563700000003],[153.2434093,-27.85888080000001],[153.241879,-27.856974599999997],[153.2374434,-27.854435100000003],[153.233952,-27.850826499999993],[153.233498,-27.849054500000005],[153.234362,-27.844550499999997],[153.232439,-27.844250500000005],[153.23370900000003,-27.837813499999996],[153.233063,-27.8363575],[153.236176,-27.834253499999992],[153.2378349,-27.836418499999997],[153.242061,-27.837370500000002],[153.24593900000002,-27.835285499999994],[153.24848,-27.831099499999997],[153.252661,-27.830550500000005],[153.255263,-27.8277645],[153.255848,-27.822406499999992],[153.263401,-27.8236045],[153.264953,-27.815977499999995],[153.272477,-27.817205500000004],[153.271752,-27.8212405],[153.2799009,-27.8223995],[153.27945700000004,-27.824862500000002],[153.28649180000002,-27.825878500000005],[153.285932,-27.829086500000003],[153.28843200000003,-27.829500500000005],[153.290121,-27.831679499999996],[153.288659,-27.838906500000007]]]]}},{"type":"Feature","properties":{"suburb_name":"Booroobin","suburb_areasqkm":38.6443,"address_cnt":196.0,"address_density_sqkm":5.0,"tp":"Suburb : Booroobin<br>Density per sqkm: 5"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.8042293,-26.8427417],[152.7968419,-26.841738299999996],[152.7956635,-26.848889500000002],[152.79275340000004,-26.848470899999995],[152.7931771,-26.846009400000003],[152.7889141,-26.8454094],[152.7905692,-26.836223399999998],[152.7698861,-26.833412400000004],[152.7661645,-26.8315715],[152.7635486,-26.8463894],[152.7623623,-26.8448616],[152.7581991,-26.843940600000003],[152.7525781,-26.8407794],[152.7496687,-26.836472899999993],[152.7463541,-26.835452400000005],[152.7429849,-26.83291200000001],[152.7408439,-26.829980500000005],[152.7411059,-26.828061499999993],[152.738858,-26.824649599999997],[152.7395773,-26.8227857],[152.7424084,-26.8228343],[152.746946,-26.824216500000002],[152.74764910000002,-26.820007400000005],[152.749486,-26.8162848],[152.7530811,-26.7973404],[152.7571641,-26.800343400000003],[152.7591892,-26.8030384],[152.7611022,-26.79235039999999],[152.7669222,-26.7933114],[152.7710332,-26.795937399999993],[152.7758751,-26.795722399999995],[152.7794982,-26.797115399999992],[152.7803692,-26.796017400000004],[152.7852682,-26.79789939999999],[152.7875191,-26.797012400000003],[152.7903052,-26.797227399999997],[152.7936421,-26.796065399999993],[152.7962021,-26.7987394],[152.7977501,-26.797523399999996],[152.8026522,-26.797506399999993],[152.80392410000002,-26.792072399999988],[152.8121061,-26.793594399999996],[152.8133002,-26.7884364],[152.8150093,-26.791377499999996],[152.81857,-26.794122599999998],[152.8262711,-26.7953044],[152.8257338,-26.798328699999985],[152.8238651,-26.79888439999999],[152.8257311,-26.802647399999994],[152.8253071,-26.803651399999993],[152.8288341,-26.807782399999997],[152.8334751,-26.8133624],[152.8361691,-26.8144184],[152.8390221,-26.8178304],[152.8394271,-26.822072399999993],[152.8408641,-26.8242364],[152.8417572,-26.82839239999999],[152.8400671,-26.832481399999992],[152.8356161,-26.8347774],[152.8302751,-26.835022399999996],[152.8268111,-26.834043400000002],[152.8230511,-26.835777400000005],[152.8197992,-26.834248400000003],[152.8171871,-26.836010400000003],[152.8151362,-26.83417439999999],[152.81244710000001,-26.829940400000005],[152.8127491,-26.828230399999995],[152.8081341,-26.8272264],[152.8052641,-26.824865399999997],[152.7992871,-26.827041399999995],[152.7978114,-26.8352819],[152.8051231,-26.836295399999997],[152.8042293,-26.8427417]]]]}},{"type":"Feature","properties":{"suburb_name":"Guanaba","suburb_areasqkm":22.4945,"address_cnt":403.0,"address_density_sqkm":18.0,"tp":"Suburb : Guanaba<br>Density per sqkm: 18"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.2684679,-27.952385500000002],[153.2662279,-27.954665499999997],[153.2642389,-27.958547499999995],[153.2603929,-27.9607635],[153.2569829,-27.961678499999998],[153.2551199,-27.960989499999997],[153.248744,-27.95742050000001],[153.2455868,-27.95919849999999],[153.2421398,-27.959176499999998],[153.2386679,-27.961450399999993],[153.2363809,-27.959677400000004],[153.232322,-27.9580385],[153.224073,-27.956786999999995],[153.2252008,-27.956105899999994],[153.2224448,-27.951363700000005],[153.2191268,-27.951235000000004],[153.206599,-27.949232700000003],[153.2082361,-27.941132499999995],[153.2105899,-27.941474700000004],[153.2137506,-27.925852999999996],[153.2157125,-27.921966999999995],[153.2135815,-27.9180481],[153.2207911,-27.919151399999997],[153.2202208,-27.922133499999994],[153.222385,-27.92299850000001],[153.2229069,-27.917570499999997],[153.2294169,-27.917783499999995],[153.2314429,-27.91893349999999],[153.234633,-27.918175500000004],[153.2371849,-27.91596249999999],[153.2444799,-27.9148435],[153.2477139,-27.917331500000003],[153.2572139,-27.921483499999997],[153.26008,-27.919239500000003],[153.258089,-27.9162565],[153.2641749,-27.9177605],[153.2658519,-27.916582500000004],[153.267458,-27.9192395],[153.263715,-27.921246500000002],[153.2642161,-27.925780500000005],[153.2661409,-27.928153500000004],[153.266318,-27.9305405],[153.2653439,-27.935024499999994],[153.263083,-27.9376775],[153.259675,-27.944319499999995],[153.26012,-27.946250499999998],[153.2641739,-27.951231499999995],[153.266668,-27.9497575],[153.2684679,-27.952385500000002]]]]}},{"type":"Feature","properties":{"suburb_name":"Upper Brookfield","suburb_areasqkm":36.588,"address_cnt":427.0,"address_density_sqkm":12.0,"tp":"Suburb : Upper Brookfield<br>Density per sqkm: 12"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.8885514,-27.4992124],[152.8893098,-27.5019486],[152.886752,-27.5019015],[152.877871,-27.5006094],[152.8782091,-27.4987964],[152.8684251,-27.497361399999996],[152.8677601,-27.501421699999995],[152.8562445,-27.499788400000003],[152.8557148,-27.503295799999997],[152.8448545,-27.501633000000005],[152.8445246,-27.501971800000007],[152.84189700000002,-27.5015712],[152.8430028,-27.499027699999992],[152.8427713,-27.496502600000003],[152.84006,-27.495928399999997],[152.837842,-27.4924904],[152.8287841,-27.491117400000004],[152.8258431,-27.488426400000005],[152.8220571,-27.487032399999997],[152.81817310000002,-27.483029400000003],[152.8152691,-27.481900400000004],[152.8124121,-27.478104400000007],[152.8120891,-27.4759054],[152.810447,-27.4740394],[152.8112091,-27.470837399999997],[152.810127,-27.463536399999995],[152.812962,-27.46082239999999],[152.8180081,-27.460484400000002],[152.8236461,-27.456619399999997],[152.822212,-27.453374400000005],[152.82245700000001,-27.450967399999996],[152.824682,-27.449343399999982],[152.8251691,-27.447407399999996],[152.8274371,-27.445780399999997],[152.82761510000003,-27.443555399999994],[152.8297081,-27.4430444],[152.836186,-27.44463539999999],[152.838768,-27.446937400000003],[152.8441041,-27.447538400000003],[152.8463901,-27.447226399999998],[152.8504641,-27.448014400000005],[152.853084,-27.446369399999995],[152.8563291,-27.446432399999996],[152.8600211,-27.447401399999997],[152.863667,-27.444050399999995],[152.8692451,-27.4466564],[152.8705851,-27.448586400000003],[152.872842,-27.447828400000002],[152.875231,-27.448862400000003],[152.8802691,-27.4549494],[152.8853161,-27.4516534],[152.8892781,-27.456490399999993],[152.8712921,-27.468173499999995],[152.8745761,-27.472196400000005],[152.8763421,-27.4731894],[152.8817653,-27.479777299999995],[152.8832811,-27.478787399999998],[152.8858971,-27.482013400000003],[152.8900113,-27.48258209999999],[152.8929635,-27.484361299999996],[152.8922139,-27.489652099999997],[152.8899423,-27.490729499999997],[152.8868601,-27.4907214],[152.8842596,-27.494247899999998],[152.8864792,-27.495277999999992],[152.8885514,-27.4992124]]]]}},{"type":"Feature","properties":{"suburb_name":"Currumbin Valley","suburb_areasqkm":34.9686,"address_cnt":1091.0,"address_density_sqkm":31.0,"tp":"Suburb : Currumbin Valley<br>Density per sqkm: 31"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.4578767,-28.1791846],[153.4552514,-28.18120299999999],[153.4526294,-28.1810275],[153.4479234,-28.183463000000003],[153.4445129,-28.18396799999999],[153.4357624,-28.18716],[153.4312994,-28.1909035],[153.4286309,-28.194333999999994],[153.4267949,-28.194928],[153.4243349,-28.197835000000005],[153.4213624,-28.199554000000003],[153.4178214,-28.200545],[153.4182439,-28.202460499999997],[153.4149169,-28.207406],[153.4121234,-28.209132499999992],[153.4057194,-28.211009999999998],[153.3995693,-28.217466299999998],[153.39755740000004,-28.218936499999995],[153.3909119,-28.227874],[153.3894494,-28.230962],[153.3905189,-28.232719999999993],[153.3897294,-28.234818999999995],[153.3875309,-28.236367500000004],[153.3830775,-28.2373903],[153.3789294,-28.240297999999996],[153.3721904,-28.242729999999998],[153.3695749,-28.2450652],[153.3635063,-28.247636299999996],[153.3572894,-28.249261],[153.3540224,-28.24835750000001],[153.3510369,-28.249077999999997],[153.3458559,-28.2484415],[153.3423599,-28.250122499999996],[153.3391099,-28.250533499999996],[153.3363284,-28.248998999999994],[153.3383549,-28.238734500000003],[153.3401759,-28.239016500000005],[153.3419703,-28.228874699999995],[153.3445949,-28.228830500000004],[153.3477789,-28.2261935],[153.3516839,-28.225079500000007],[153.3544829,-28.2228695],[153.3557339,-28.220650499999994],[153.3600159,-28.2174195],[153.3596529,-28.2166585],[153.3650969,-28.213709499999993],[153.3695623,-28.21210440000001],[153.3756979,-28.206056499999992],[153.3855629,-28.1980975],[153.3880059,-28.196551500000005],[153.3917139,-28.195652499999998],[153.3923209,-28.192836500000006],[153.3966259,-28.19141649999999],[153.3983969,-28.188458499999996],[153.4011239,-28.186745500000004],[153.4045129,-28.1892585],[153.4067399,-28.1856195],[153.4123989,-28.183538499999997],[153.4101599,-28.1816585],[153.41263900000004,-28.1763497],[153.4170889,-28.1770365],[153.4177959,-28.173385499999995],[153.4213529,-28.1739245],[153.4245119,-28.1702655],[153.4245669,-28.1688645],[153.4287139,-28.165217500000004],[153.4339889,-28.163447499999997],[153.4372054,-28.16166919999999],[153.4405871,-28.162811200000007],[153.4442704,-28.160365900000002],[153.4458819,-28.160382499999997],[153.4459859,-28.1662075],[153.4535279,-28.167822500000003],[153.4530409,-28.17161949999999],[153.4516469,-28.1744775],[153.4538899,-28.175615499999996],[153.4578767,-28.1791846]]]]}},{"type":"Feature","properties":{"suburb_name":"Glenview","suburb_areasqkm":18.5934,"address_cnt":555.0,"address_density_sqkm":30.0,"tp":"Suburb : Glenview<br>Density per sqkm: 30"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0447921,-26.768553400000002],[153.0435977,-26.771378300000002],[153.04331970000004,-26.776916300000003],[153.0453718,-26.786080600000002],[153.0455538,-26.7899113],[153.0407426,-26.791637199999993],[153.036994,-26.79550979999999],[153.0331122,-26.797140400000007],[153.0245303,-26.7957306],[153.0222016,-26.793119100000006],[153.0229353,-26.7843191],[153.0090701,-26.7824614],[153.0116061,-26.779849399999993],[153.0111451,-26.7780364],[153.0117921,-26.7741134],[153.0009241,-26.77384139999999],[152.9985291,-26.7758584],[152.99631310000004,-26.774610399999997],[152.9963051,-26.77225039999999],[152.99741410000001,-26.763763399999995],[152.9928591,-26.763254399999997],[152.9887811,-26.760781399999996],[152.9911571,-26.7595334],[152.9925459,-26.7522312],[152.9980534,-26.753001699999995],[152.9978619,-26.754115499999994],[153.0034815,-26.754861999999992],[153.0043643,-26.7494934],[153.0101371,-26.7502464],[153.0117441,-26.748984299999996],[153.0128411,-26.7425864],[153.0164764,-26.741844199999996],[153.026721,-26.743258799999996],[153.02569910000003,-26.749210399999996],[153.0244771,-26.7522154],[153.0287819,-26.755422700000004],[153.0277476,-26.7611783],[153.0300962,-26.760136400000004],[153.0339325,-26.759739600000007],[153.0433621,-26.760394400000003],[153.0463535,-26.758556299999995],[153.045958,-26.7637615],[153.0447921,-26.768553400000002]]]]}},{"type":"Feature","properties":{"suburb_name":"Stockleigh","suburb_areasqkm":16.6998,"address_cnt":616.0,"address_density_sqkm":37.0,"tp":"Suburb : Stockleigh<br>Density per sqkm: 37"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0274999,-27.789824499999995],[153.028019,-27.786038399999992],[153.023481,-27.78537639999999],[153.023375,-27.780598399999995],[153.024753,-27.779386500000005],[153.02839800000004,-27.779185399999996],[153.029556,-27.7782234],[153.03251,-27.772490399999995],[153.03168600000004,-27.76806939999999],[153.032709,-27.763507399999998],[153.0354689,-27.7617705],[153.041001,-27.7693565],[153.041927,-27.773761499999996],[153.043849,-27.774462499999988],[153.047379,-27.772453399999996],[153.052047,-27.767525499999998],[153.0553071,-27.760953600000004],[153.056151,-27.7562904],[153.05785,-27.7529334],[153.064607,-27.7506905],[153.068706,-27.7499535],[153.067554,-27.752175499999996],[153.063817,-27.754560500000004],[153.064431,-27.758631499999996],[153.069559,-27.762873500000005],[153.073137,-27.763792499999997],[153.075657,-27.766710499999995],[153.083524,-27.7699205],[153.085686,-27.770082499999994],[153.089286,-27.7675125],[153.0912739,-27.768969399999996],[153.0896989,-27.777015400000007],[153.0880609,-27.7768185],[153.0867548,-27.7836785],[153.08129900000003,-27.785507500000005],[153.075042,-27.786359499999996],[153.072542,-27.7879454],[153.067987,-27.793104500000002],[153.0587771,-27.793946499999997],[153.05076200000002,-27.7917384],[153.043638,-27.788810400000003],[153.041631,-27.790652500000004],[153.0378481,-27.79140339999999],[153.0274999,-27.789824499999995]]]]}},{"type":"Feature","properties":{"suburb_name":"Eudlo","suburb_areasqkm":20.0518,"address_cnt":535.0,"address_density_sqkm":27.0,"tp":"Suburb : Eudlo<br>Density per sqkm: 27"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9506543,-26.741107000000003],[152.947793,-26.739948999999992],[152.9457975,-26.7406929],[152.9450484,-26.7449445],[152.9393472,-26.744274399999995],[152.93832620000003,-26.747156099999998],[152.9345073,-26.7468651],[152.9305107,-26.744659899999995],[152.9313353,-26.7399013],[152.9272073,-26.739311200000003],[152.9274321,-26.7419311],[152.9217669,-26.7411265],[152.9204282,-26.7487336],[152.9154406,-26.748031400000006],[152.9140146,-26.7487663],[152.91189460000004,-26.7447363],[152.9080041,-26.7461834],[152.9058472,-26.748498300000005],[152.9026701,-26.750284400000005],[152.9015692,-26.747890399999996],[152.9042768,-26.732895],[152.9018771,-26.7325264],[152.8998682,-26.728600399999998],[152.9063732,-26.729376999999992],[152.9095682,-26.727510399999993],[152.9101532,-26.723875399999997],[152.9164241,-26.723725400000003],[152.9167871,-26.7217314],[152.9222231,-26.722522399999992],[152.9228461,-26.71863839999999],[152.9298252,-26.716149399999995],[152.9318571,-26.717091400000005],[152.9384111,-26.71570139999999],[152.9429661,-26.715708399999993],[152.94597110000004,-26.71390239999999],[152.9482893,-26.710975499999996],[152.9551002,-26.712238399999997],[152.9572851,-26.715181399999995],[152.96291810000002,-26.715873400000003],[152.9657651,-26.713834399999996],[152.9685252,-26.71417039999999],[152.9697562,-26.716881399999995],[152.9773732,-26.7178894],[152.9763601,-26.7243294],[152.9751271,-26.724166399999998],[152.9727536,-26.737019799999995],[152.9680627,-26.739946799999995],[152.9655667,-26.738721799999997],[152.9574621,-26.7402204],[152.9544009,-26.742200899999997],[152.9506543,-26.741107000000003]]]]}},{"type":"Feature","properties":{"suburb_name":"Godwin Beach","suburb_areasqkm":3.8654,"address_cnt":260.0,"address_density_sqkm":67.0,"tp":"Suburb : Godwin Beach<br>Density per sqkm: 67"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0926381,-27.096209400000003],[153.0858092,-27.095266200000005],[153.0863133,-27.091548299999992],[153.0848503,-27.091388299999995],[153.0858431,-27.0835674],[153.0895991,-27.0812244],[153.0901151,-27.079494500000003],[153.0925801,-27.079711399999997],[153.0932581,-27.081433500000003],[153.1001971,-27.082188399999996],[153.1011131,-27.075467399999997],[153.10428910000002,-27.07682949999999],[153.1044118,-27.078677999999996],[153.1069178,-27.07935429999999],[153.1155391,-27.079122499999997],[153.1144211,-27.085721499999988],[153.1086551,-27.087479400000003],[153.1072682,-27.089262699999995],[153.1031761,-27.091585400000003],[153.0990691,-27.092845399999998],[153.0926381,-27.096209400000003]]]]}},{"type":"Feature","properties":{"suburb_name":"Kulangoor","suburb_areasqkm":6.4621,"address_cnt":201.0,"address_density_sqkm":31.0,"tp":"Suburb : Kulangoor<br>Density per sqkm: 31"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.93782790000003,-26.593023999999996],[152.9389109,-26.586610499999995],[152.9357227,-26.586139799999998],[152.936575,-26.580822699999988],[152.9446515,-26.582109899999992],[152.94609650000004,-26.574778299999988],[152.9583816,-26.576715300000004],[152.9620119,-26.580974799999996],[152.9625272,-26.5773314],[152.967362,-26.57815789999999],[152.9662121,-26.585008400000003],[152.9683242,-26.5874194],[152.9709341,-26.5953624],[152.9700947,-26.595638],[152.9612216,-26.594219000000002],[152.9632422,-26.597127399999998],[152.96150760000003,-26.6007001],[152.9579625,-26.596584100000005],[152.9575129,-26.5951622],[152.9484187,-26.593700399999992],[152.9469317,-26.602046999999995],[152.9383282,-26.600914900000003],[152.9396831,-26.5933054],[152.93782790000003,-26.593023999999996]]]]}},{"type":"Feature","properties":{"suburb_name":"North Maclean","suburb_areasqkm":20.4238,"address_cnt":905.0,"address_density_sqkm":44.0,"tp":"Suburb : North Maclean<br>Density per sqkm: 44"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.032709,-27.763507399999998],[153.03168600000004,-27.76806939999999],[153.03251,-27.772490399999995],[153.029556,-27.7782234],[153.02839800000004,-27.779185399999996],[153.024753,-27.779386500000005],[153.023375,-27.780598399999995],[153.023481,-27.78537639999999],[153.022137,-27.788841399999992],[153.018159,-27.788369399999997],[153.015985,-27.782672399999996],[153.0108481,-27.784927499999995],[153.004301,-27.7822584],[153.002016,-27.779188399999995],[152.99933900000002,-27.778686399999994],[152.9989379,-27.78094839999999],[152.980862,-27.778295500000002],[152.9806101,-27.781579899999997],[152.962648,-27.778919399999992],[152.9626511,-27.778902600000006],[152.963947,-27.7707655],[152.965364,-27.7682855],[152.966135,-27.7642124],[152.968976,-27.7566914],[152.969696,-27.746936499999997],[152.9811611,-27.748329399999996],[152.9860121,-27.747549399999993],[152.9855491,-27.7439494],[152.988612,-27.744592400000005],[152.993786,-27.7502524],[152.9951572,-27.752807500000003],[152.999637,-27.752943500000008],[153.004978,-27.7550714],[153.0116731,-27.75601109999999],[153.023081,-27.7575974],[153.022377,-27.759267399999995],[153.02514700000003,-27.7610345],[153.031115,-27.761861399999994],[153.032709,-27.763507399999998]]]]}},{"type":"Feature","properties":{"suburb_name":"Chevallum","suburb_areasqkm":8.8909,"address_cnt":337.0,"address_density_sqkm":38.0,"tp":"Suburb : Chevallum<br>Density per sqkm: 38"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0108615,-26.696687199999996],[153.0111312,-26.696963499999992],[153.0093191,-26.7082594],[153.0090291,-26.7099554],[153.0013031,-26.7088784],[153.0011002,-26.710043399999996],[152.9947381,-26.709156599999996],[152.9928031,-26.71350939999999],[152.9871211,-26.71271939999999],[152.986242,-26.713757299999994],[152.985488,-26.718952400000003],[152.987389,-26.7192044],[152.98644750000003,-26.723150599999993],[152.9800611,-26.7222903],[152.9781255,-26.720506599999997],[152.9773732,-26.7178894],[152.9785581,-26.710667399999995],[152.97655220000001,-26.710405399999996],[152.9777431,-26.703051399999996],[152.9799412,-26.7033274],[152.9810921,-26.697148400000003],[152.9833661,-26.694305400000005],[152.9869251,-26.692936399999997],[152.9880431,-26.690054399999998],[152.9880601,-26.687474400000003],[152.99225510000002,-26.6858334],[152.9923176,-26.6839441],[152.9971797,-26.68393429999999],[152.9979221,-26.681746400000005],[152.9929711,-26.679467300000002],[152.9937502,-26.676935500000003],[152.9969499,-26.676656599999998],[152.998832,-26.679522600000002],[153.0019311,-26.6792744],[153.0034431,-26.68425139999999],[153.0039311,-26.6887264],[153.0050732,-26.690775399999996],[153.0108615,-26.696687199999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Bald Knob","suburb_areasqkm":20.4804,"address_cnt":220.0,"address_density_sqkm":11.0,"tp":"Suburb : Bald Knob<br>Density per sqkm: 11"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9363314,-26.7671638],[152.9339231,-26.7736184],[152.9357641,-26.77391839999999],[152.9349252,-26.778085399999995],[152.9292181,-26.7846124],[152.9284321,-26.790635400000006],[152.9289591,-26.793331399999996],[152.9266241,-26.794986400000003],[152.9287081,-26.7979704],[152.9287871,-26.8005294],[152.9276752,-26.802287399999997],[152.9240298,-26.8019226],[152.9231879,-26.80966069999999],[152.9163691,-26.808944899999997],[152.9130061,-26.808597400000007],[152.9137251,-26.803061399999994],[152.9063271,-26.802327400000006],[152.9054621,-26.8075214],[152.8983541,-26.8065674],[152.8973811,-26.8124544],[152.8893811,-26.811380399999994],[152.8895881,-26.810158400000002],[152.8815622,-26.8090774],[152.8833845,-26.80524249999999],[152.8858281,-26.8030074],[152.8867861,-26.797113400000004],[152.8879071,-26.797260399999995],[152.8899491,-26.7847534],[152.8896791,-26.783434399999997],[152.8877641,-26.7810624],[152.89129710000003,-26.778159400000003],[152.8921281,-26.7755255],[152.8895261,-26.772170399999997],[152.8912871,-26.771041399999994],[152.8958141,-26.771698400000002],[152.89736510000003,-26.7630754],[152.9002711,-26.763494400000006],[152.90130410000003,-26.757858400000003],[152.9027551,-26.7557884],[152.9019631,-26.752497399999996],[152.9193821,-26.7543544],[152.9179861,-26.761081399999995],[152.9155671,-26.761384399999994],[152.9142462,-26.7688964],[152.9184151,-26.76934539999999],[152.9180491,-26.772049400000007],[152.9247471,-26.772773399999995],[152.9251101,-26.7700654],[152.9297222,-26.770562400000003],[152.9300461,-26.7690214],[152.9326731,-26.767955399999998],[152.9338991,-26.7655754],[152.9363314,-26.7671638]]]]}},{"type":"Feature","properties":{"suburb_name":"Coolabine","suburb_areasqkm":12.7457,"address_cnt":69.0,"address_density_sqkm":5.0,"tp":"Suburb : Coolabine<br>Density per sqkm: 5"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.7602163,-26.584285899999998],[152.7620332,-26.590927399999998],[152.7663872,-26.590736400000008],[152.7729072,-26.59163039999999],[152.7790692,-26.594289399999997],[152.7831622,-26.592885399999993],[152.7920842,-26.594565399999997],[152.7972332,-26.593137400000007],[152.8002452,-26.596608400000008],[152.8022311,-26.597252400000002],[152.7998312,-26.599259399999998],[152.8008142,-26.604804400000003],[152.8023642,-26.605679400000003],[152.8019152,-26.608240399999996],[152.7988892,-26.607809399999994],[152.7976492,-26.613025400000005],[152.7958402,-26.612124400000003],[152.7943822,-26.6204064],[152.7937822,-26.620292399999997],[152.78556180000004,-26.619122900000004],[152.7843151,-26.6171854],[152.7813398,-26.616586799999997],[152.7798712,-26.615271399999997],[152.7764181,-26.615704399999995],[152.7738261,-26.6196294],[152.7663442,-26.618213400000005],[152.7621481,-26.618404399999996],[152.7620472,-26.616745399999996],[152.7670182,-26.6164494],[152.7690612,-26.614393399999994],[152.7695482,-26.6107534],[152.7662232,-26.608134400000004],[152.7598732,-26.6074514],[152.7549642,-26.6026034],[152.7536262,-26.604539399999997],[152.7517062,-26.6036004],[152.7505892,-26.60000539999999],[152.7461082,-26.599713400000002],[152.7459192,-26.5953134],[152.7473272,-26.587062400000004],[152.7602163,-26.584285899999998]]]]}},{"type":"Feature","properties":{"suburb_name":"New Chum","suburb_areasqkm":5.9998,"address_cnt":58.0,"address_density_sqkm":10.0,"tp":"Suburb : New Chum<br>Density per sqkm: 10"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.8368731,-27.5992665],[152.8430889,-27.60077039999999],[152.840894,-27.6063074],[152.8409631,-27.608915500000005],[152.847199,-27.611057400000004],[152.845543,-27.614193400000005],[152.8467911,-27.617473500000003],[152.844632,-27.618148399999995],[152.843035,-27.621074400000005],[152.8399441,-27.622327399999996],[152.842426,-27.6239874],[152.843012,-27.6296074],[152.83369200000004,-27.6279494],[152.8311329,-27.629295399999997],[152.828079,-27.629071399999994],[152.821765,-27.6312754],[152.821065,-27.635238399999988],[152.8138191,-27.631786299999995],[152.8184555,-27.62641929999999],[152.8232187,-27.6174673],[152.827867,-27.6111084],[152.8315052,-27.6028334],[152.8364494,-27.601628799999997],[152.8368731,-27.5992665]]]]}},{"type":"Feature","properties":{"suburb_name":"Southern Moreton Bay Islands","suburb_areasqkm":69.1245,"address_cnt":12.0,"address_density_sqkm":0.0,"tp":"Suburb : Southern Moreton Bay Islands<br>Density per sqkm: 0"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.366408,-27.8512885],[153.3632549,-27.8490375],[153.369293,-27.849091499999993],[153.374091,-27.85008949999999],[153.376397,-27.8492935],[153.37543,-27.846801499999998],[153.375986,-27.843388499999996],[153.3791419,-27.8427905],[153.3823721,-27.841671099999996],[153.3825051,-27.83878209999999],[153.384229,-27.838336099999996],[153.3855621,-27.840642100000007],[153.390277,-27.840136100000002],[153.39303490000003,-27.839031099999996],[153.3947689,-27.840362999999993],[153.3945749,-27.843008999999995],[153.3957299,-27.845296999999995],[153.39641,-27.856535],[153.39886100000004,-27.857967],[153.401754,-27.862760899999998],[153.40019,-27.866064899999994],[153.3947512,-27.8680169],[153.3946292,-27.8719339],[153.39348820000004,-27.874351],[153.3908603,-27.874951999999997],[153.3852594,-27.874195000000004],[153.38253440000003,-27.872475999999995],[153.3821604,-27.870198999999996],[153.3832464,-27.866429],[153.3824273,-27.8597581],[153.3789653,-27.8547281],[153.3741444,-27.8534072],[153.3686729,-27.852814500000008],[153.366408,-27.8512885]]],[[[153.3834689,-27.830715500000004],[153.3858369,-27.8299532],[153.3909399,-27.830719100000003],[153.3916309,-27.833157100000005],[153.388196,-27.833264099999997],[153.385708,-27.830985200000004],[153.3834689,-27.830715500000004]]],[[[153.3955478,-27.832996099999992],[153.3962658,-27.834513000000005],[153.3961329,-27.839693999999987],[153.3922869,-27.838829099999998],[153.390285,-27.839809099999997],[153.3857281,-27.840530100000002],[153.3844511,-27.83834909999999],[153.3819041,-27.836300199999993],[153.3822309,-27.832959399999993],[153.38379,-27.831785199999988],[153.390165,-27.836100100000003],[153.3923649,-27.8356681],[153.3937369,-27.832577499999992],[153.3955478,-27.832996099999992]]],[[[153.3883489,-27.82123619999999],[153.3895538,-27.81987219999999],[153.3927469,-27.8198075],[153.3956757,-27.82096710000001],[153.3976507,-27.823086099999998],[153.3970068,-27.82863609999999],[153.39504980000004,-27.8296171],[153.3926949,-27.828185099999992],[153.3909419,-27.829799100000002],[153.3886449,-27.829660099999998],[153.3865311,-27.828172500000004],[153.3849369,-27.822411200000005],[153.3883489,-27.82123619999999]]],[[[153.3842497,-27.799590299999995],[153.3842687,-27.797309300000002],[153.3866897,-27.7969923],[153.3863907,-27.800067299999995],[153.3842497,-27.799590299999995]]],[[[153.3861296,-27.78595230000001],[153.3893285,-27.78516129999999],[153.4025493,-27.7831402],[153.4064522,-27.782956199999997],[153.4058283,-27.785526199999993],[153.4113972,-27.7887741],[153.4116333,-27.79092609999999],[153.4095163,-27.799024100000004],[153.4074514,-27.804633099999997],[153.4028938,-27.8116425],[153.3945517,-27.818764099999996],[153.3892171,-27.8184185],[153.3840151,-27.820388500000004],[153.376959,-27.817928299999995],[153.373677,-27.814009299999995],[153.3736521,-27.8093265],[153.3753979,-27.807319299999993],[153.3772935,-27.807328700000003],[153.3781035,-27.804618699999992],[153.3804298,-27.8047413],[153.3813138,-27.802241299999984],[153.3844927,-27.800133299999995],[153.3868257,-27.800352299999997],[153.3877396,-27.7974053],[153.3912065,-27.7955482],[153.3925105,-27.792926200000004],[153.3910595,-27.79052929999999],[153.3879256,-27.7896673],[153.3837576,-27.786564299999995],[153.3861296,-27.78595230000001]]],[[[153.357023,-27.722247499999995],[153.357273,-27.719344500000005],[153.359404,-27.714340499999988],[153.3589652,-27.710949799999998],[153.3629334,-27.7097797],[153.3666064,-27.711681699999996],[153.3694053,-27.711244699999995],[153.3698903,-27.7090547],[153.3719472,-27.707265700000008],[153.3770801,-27.707881700000005],[153.3830811,-27.709745599999998],[153.387873,-27.709062600000003],[153.391272,-27.707000599999997],[153.3991829,-27.716006499999995],[153.4020449,-27.719875499999993],[153.4046299,-27.726045399999997],[153.405069,-27.732094399999998],[153.405784,-27.7343964],[153.409641,-27.7392473],[153.4151459,-27.7417923],[153.4202138,-27.742332299999998],[153.42639370000003,-27.741881199999998],[153.4339326,-27.7389272],[153.4392895,-27.735747200000002],[153.4362426,-27.7443192],[153.4352176,-27.7531661],[153.4361897,-27.7590581],[153.4356327,-27.7628491],[153.4289619,-27.775441099999995],[153.4266419,-27.778531099999995],[153.4248799,-27.77960209999999],[153.4095347,-27.7826798],[153.4076284,-27.782047399999993],[153.3923783,-27.783804199999995],[153.3842767,-27.784366399999996],[153.3820484,-27.7864156],[153.379281,-27.785902500000006],[153.372183,-27.7813265],[153.3615259,-27.773790500000004],[153.3604469,-27.769592499999995],[153.3617909,-27.763531499999992],[153.35706,-27.757416499999998],[153.354334,-27.754729500000003],[153.353234,-27.750770500000005],[153.35405,-27.746945499999995],[153.358356,-27.741982500000002],[153.360517,-27.7381075],[153.36123,-27.7346965],[153.3603109,-27.730576499999998],[153.357548,-27.7244565],[153.357023,-27.722247499999995]]],[[[153.4141984,-27.809891999999998],[153.413723,-27.8037634],[153.4174772,-27.800107100000005],[153.4212251,-27.794221],[153.4219071,-27.798593999999998],[153.4180062,-27.802988999999997],[153.418435,-27.804007499999997],[153.4155123,-27.806750000000005],[153.4141984,-27.809891999999998]]],[[[153.4163092,-27.7917791],[153.41612710000004,-27.78840750000001],[153.422048,-27.784466099999992],[153.4249568,-27.7840485],[153.424318,-27.786930099999996],[153.4175492,-27.7930121],[153.4163092,-27.7917791]]],[[[153.41325940000002,-27.812996],[153.4137814,-27.810499],[153.4185801,-27.808913500000003],[153.4187283,-27.810857000000002],[153.41325940000002,-27.812996]]],[[[153.3993518,-27.819291500000002],[153.3994947,-27.817441099999993],[153.4038248,-27.813375399999995],[153.407068,-27.809614500000002],[153.4073888,-27.8130265],[153.4045329,-27.816773499999993],[153.4020126,-27.821324099999988],[153.3993518,-27.819291500000002]]]]}},{"type":"Feature","properties":{"suburb_name":"Kooringal (Qld)","suburb_areasqkm":0.1581,"address_cnt":72.0,"address_density_sqkm":455.0,"tp":"Suburb : Kooringal (Qld)<br>Density per sqkm: 455"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.421957,-27.348552400000003],[153.420576,-27.352554499999993],[153.4189049,-27.3522465],[153.4195349,-27.349706499999993],[153.421957,-27.348552400000003]]]]}},{"type":"Feature","properties":{"suburb_name":"Commissioners Flat","suburb_areasqkm":12.7238,"address_cnt":14.0,"address_density_sqkm":1.0,"tp":"Suburb : Commissioners Flat<br>Density per sqkm: 1"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.817525,-26.876480400000005],[152.8159162,-26.873673399999998],[152.8169292,-26.871829400000003],[152.817061,-26.868436400000004],[152.819658,-26.8661005],[152.8178753,-26.863708399999993],[152.8205901,-26.8620474],[152.8216452,-26.859533400000004],[152.8251822,-26.860634399999995],[152.8278141,-26.8547874],[152.8288521,-26.855992499999996],[152.8320421,-26.856144399999998],[152.83858410000002,-26.855015399999996],[152.8439472,-26.8575774],[152.8480461,-26.8581484],[152.8485612,-26.855114399999998],[152.8532011,-26.856208399999993],[152.85170710000003,-26.865183400000003],[152.8583371,-26.866070400000005],[152.8574811,-26.871218399999997],[152.8694831,-26.87286439999999],[152.8667881,-26.888909399999992],[152.8554941,-26.887369399999997],[152.8506571,-26.886746400000007],[152.8467951,-26.8873834],[152.8445391,-26.88864939999999],[152.8453061,-26.8837934],[152.8364718,-26.882677900000004],[152.8291271,-26.885292399999994],[152.8279971,-26.877940400000004],[152.817525,-26.876480400000005]]]]}},{"type":"Feature","properties":{"suburb_name":"Tennyson (Qld)","suburb_areasqkm":1.1383,"address_cnt":898.0,"address_density_sqkm":789.0,"tp":"Suburb : Tennyson (Qld)<br>Density per sqkm: 789"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.00329,-27.531567399999993],[153.000821,-27.531431499999993],[152.9980091,-27.529670499999998],[152.994067,-27.532050400000003],[152.990049,-27.528272399999985],[152.9911,-27.526384399999998],[152.994754,-27.527040399999994],[152.995408,-27.524598400000006],[153.001473,-27.5237335],[153.0076169,-27.523787500000005],[153.009599,-27.523012500000004],[153.009331,-27.525884399999995],[153.0048289,-27.5283083],[153.00329,-27.531567399999993]]]]}},{"type":"Feature","properties":{"suburb_name":"Woodford (Qld)","suburb_areasqkm":90.324,"address_cnt":1816.0,"address_density_sqkm":20.0,"tp":"Suburb : Woodford (Qld)<br>Density per sqkm: 20"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.7666133,-26.9872412],[152.7672061,-26.983345399999994],[152.7639291,-26.9829454],[152.7636551,-26.9847484],[152.7513962,-26.983419400000002],[152.752954,-26.986164399999996],[152.7505621,-26.9888744],[152.7499161,-26.99116839999999],[152.7396041,-26.990108400000004],[152.7409571,-26.986991400000004],[152.7322661,-26.985816399999994],[152.7326261,-26.983625400000005],[152.73562810000004,-26.9840334],[152.7381421,-26.969904399999997],[152.7339121,-26.969256399999992],[152.7355751,-26.959429399999998],[152.7369661,-26.959676399999996],[152.7393441,-26.9464864],[152.7372011,-26.946594399999995],[152.7355911,-26.941437400000005],[152.7351721,-26.937868399999996],[152.7429221,-26.9246144],[152.7443022,-26.915680499999997],[152.7482291,-26.916164100000003],[152.7504498,-26.911633099999996],[152.7560122,-26.9121424],[152.7560081,-26.913449400000008],[152.7637271,-26.9144184],[152.7637722,-26.918185399999995],[152.7714811,-26.918845399999995],[152.7764911,-26.920129400000004],[152.7799261,-26.924104399999997],[152.7800611,-26.926909400000003],[152.7864561,-26.9277574],[152.7871541,-26.9248164],[152.8089661,-26.927374400000005],[152.8108201,-26.9167194],[152.8164741,-26.917400400000002],[152.82166,-26.9171304],[152.8219081,-26.915641399999995],[152.8329901,-26.917186400000002],[152.8352511,-26.9043775],[152.8397971,-26.906974399999996],[152.8418261,-26.906544399999994],[152.8445391,-26.88864939999999],[152.8467951,-26.8873834],[152.8506571,-26.886746400000007],[152.8554941,-26.887369399999997],[152.8542454,-26.894591399999996],[152.8564797,-26.8948825],[152.8553046,-26.901871799999984],[152.8611497,-26.902730300000005],[152.8594679,-26.91129189999999],[152.8754523,-26.9135094],[152.8725021,-26.9305014],[152.8682491,-26.933598399999994],[152.8678131,-26.935838399999998],[152.8635841,-26.934833399999995],[152.8612052,-26.936290300000003],[152.8580176,-26.956204299999996],[152.874011,-26.958328400000003],[152.8734661,-26.96365049999999],[152.8694431,-26.963180400000006],[152.8628311,-26.964247400000005],[152.8606741,-26.966952400000004],[152.8553521,-26.969129400000003],[152.8544171,-26.9710494],[152.8458671,-26.9699764],[152.8446651,-26.9783474],[152.8404748,-26.979336300000003],[152.8351289,-26.9791993],[152.8318829,-26.977464499999996],[152.7899651,-26.972513400000004],[152.7906221,-26.975235399999992],[152.7834722,-26.974501400000005],[152.7828911,-26.978219400000004],[152.7846332,-26.978426399999996],[152.7841404,-26.981722799999996],[152.7734508,-26.980443900000004],[152.7723082,-26.987942700000005],[152.7666133,-26.9872412]]]]}},{"type":"Feature","properties":{"suburb_name":"Wooloowin","suburb_areasqkm":1.1001,"address_cnt":2558.0,"address_density_sqkm":2325.0,"tp":"Suburb : Wooloowin<br>Density per sqkm: 2,325"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0483814,-27.414610300000003],[153.0473714,-27.4203632],[153.04536270000003,-27.420619199999997],[153.0442535,-27.425338199999995],[153.042115,-27.425775500000004],[153.0376777,-27.425158299999996],[153.0386376,-27.420194300000002],[153.0354974,-27.418396499999997],[153.0365891,-27.415488500000002],[153.03878,-27.4161945],[153.04107,-27.4149054],[153.0420508,-27.413663699999994],[153.0483814,-27.414610300000003]]]]}},{"type":"Feature","properties":{"suburb_name":"Acacia Ridge","suburb_areasqkm":8.688,"address_cnt":5066.0,"address_density_sqkm":583.0,"tp":"Suburb : Acacia Ridge<br>Density per sqkm: 583"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.02473,-27.5722924],[153.0260609,-27.57248510000001],[153.02662,-27.576347499999997],[153.0293672,-27.5767383],[153.0289157,-27.5692967],[153.0305862,-27.570137399999997],[153.0324208,-27.573394099999994],[153.037638,-27.574216400000008],[153.039919,-27.575387499999998],[153.03819600000003,-27.584957399999993],[153.0461956,-27.5864639],[153.045313,-27.591161399999997],[153.0430631,-27.593174499999993],[153.0410868,-27.592891000000012],[153.039806,-27.599042399999988],[153.0280854,-27.597502500000004],[153.017793,-27.596070499999996],[153.012475,-27.596833400000005],[153.0086269,-27.5944394],[153.00919,-27.591351399999997],[153.0108211,-27.589616400000004],[153.014271,-27.58888149999999],[153.012808,-27.5861915],[153.0098588,-27.584861400000005],[153.006086,-27.5844954],[153.0012001,-27.582788500000007],[152.9987849,-27.580550399999996],[152.995834,-27.580271500000002],[152.9955949,-27.57734249999999],[152.997337,-27.575473499999987],[153.0143318,-27.57809389999999],[153.015561,-27.57453449999999],[153.0216319,-27.575444899999997],[153.0222033,-27.5725794],[153.02473,-27.5722924]]]]}},{"type":"Feature","properties":{"suburb_name":"Anstead","suburb_areasqkm":13.8524,"address_cnt":710.0,"address_density_sqkm":51.0,"tp":"Suburb : Anstead<br>Density per sqkm: 51"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.860882,-27.564866000000002],[152.856001,-27.5651704],[152.84961,-27.566690399999995],[152.849124,-27.563042399999997],[152.849097,-27.556540400000003],[152.85190000000003,-27.549665400000006],[152.852917,-27.545685400000007],[152.8526771,-27.5426924],[152.8496241,-27.536188399999993],[152.847219,-27.5327554],[152.8459941,-27.528135399999996],[152.848983,-27.52762399999999],[152.8493168,-27.525839800000004],[152.8411847,-27.5156849],[152.8419674,-27.511702299999993],[152.8434847,-27.509549499999995],[152.8679959,-27.513181300000003],[152.8661403,-27.520655800000007],[152.8635121,-27.534941800000006],[152.8686308,-27.535464800000003],[152.883054,-27.5375774],[152.882385,-27.541123399999993],[152.885692,-27.539184400000003],[152.8878101,-27.5413904],[152.8904231,-27.540407399999992],[152.8897331,-27.542630399999993],[152.886532,-27.5458614],[152.887609,-27.548676400000005],[152.87912570000003,-27.5474282],[152.877714,-27.554358499999992],[152.87557890000002,-27.5540364],[152.87437,-27.556265400000004],[152.8715691,-27.5583494],[152.8668842,-27.559310100000005],[152.860258,-27.558310399999996],[152.860882,-27.564866000000002]]]]}},{"type":"Feature","properties":{"suburb_name":"Bald Hills (Qld)","suburb_areasqkm":12.8364,"address_cnt":3545.0,"address_density_sqkm":276.0,"tp":"Suburb : Bald Hills (Qld)<br>Density per sqkm: 276"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.017153,-27.329743799999996],[153.018462,-27.3322474],[153.0117671,-27.331501500000005],[153.010278,-27.336253500000005],[153.009349,-27.33610649999999],[153.00824010000002,-27.33206040000001],[153.006496,-27.330878399999992],[153.003691,-27.3313824],[152.99502310000003,-27.330043400000005],[152.994747,-27.3285684],[152.996703,-27.326192500000005],[152.9974021,-27.3238765],[152.9999531,-27.3230364],[153.0020542,-27.318974800000003],[153.002543,-27.3168064],[153.0004211,-27.312052399999995],[152.9986001,-27.312491399999995],[152.996715,-27.3091934],[152.9972831,-27.306075399999994],[152.9969891,-27.302541400000003],[152.999441,-27.3017014],[153.007169,-27.3011524],[153.0096781,-27.302003399999997],[153.0105961,-27.300168400000008],[153.008615,-27.2983634],[153.0123941,-27.296149399999997],[153.013822,-27.291441399999997],[153.0158091,-27.2874885],[153.019243,-27.291208499999993],[153.022582,-27.292834499999998],[153.0280861,-27.297225399999984],[153.0309401,-27.298366499999993],[153.03357310000004,-27.2983475],[153.035498,-27.297136399999992],[153.036579,-27.29294339999999],[153.035091,-27.286662400000004],[153.0374581,-27.281831399999998],[153.0408051,-27.279516499999996],[153.0448552,-27.2787804],[153.0495861,-27.278655400000005],[153.047546,-27.2842474],[153.047292,-27.2896474],[153.0481811,-27.29467839999999],[153.0462131,-27.2968695],[153.0430461,-27.302449400000008],[153.0422411,-27.3028625],[153.038892,-27.301758399999997],[153.037039,-27.303704399999994],[153.0376521,-27.3067204],[153.0360761,-27.308898399999997],[153.0303636,-27.309034799999992],[153.0281391,-27.3074904],[153.024566,-27.310570399999996],[153.020249,-27.3120134],[153.0182975,-27.322574000000003],[153.013834,-27.3232974],[153.017153,-27.329743799999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Browns Plains (Qld)","suburb_areasqkm":5.1167,"address_cnt":4391.0,"address_density_sqkm":858.0,"tp":"Suburb : Browns Plains (Qld)<br>Density per sqkm: 858"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0679081,-27.66765349999999],[153.06833,-27.6690515],[153.065306,-27.6705634],[153.062758,-27.667218499999997],[153.060921,-27.6692844],[153.060379,-27.6714984],[153.0569736,-27.6746307],[153.0546597,-27.673621599999997],[153.052776,-27.670931],[153.0519876,-27.667175600000004],[153.0351791,-27.664403400000005],[153.0377366,-27.660373999999994],[153.04049300000003,-27.654085499999997],[153.0587679,-27.6567827],[153.067687,-27.651081499999997],[153.068238,-27.652237499999995],[153.0680007,-27.653837600000003],[153.07393700000003,-27.6550075],[153.0730257,-27.6601356],[153.073456,-27.663713500000004],[153.071268,-27.6645874],[153.06808680000003,-27.664305600000006],[153.0667598,-27.666219599999994],[153.0679081,-27.66765349999999]]]]}},{"type":"Feature","properties":{"suburb_name":"Bundall","suburb_areasqkm":3.9147,"address_cnt":3873.0,"address_density_sqkm":989.0,"tp":"Suburb : Bundall<br>Density per sqkm: 989"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.3971335,-28.024821600000003],[153.3965334,-28.022575600000007],[153.3975714,-28.019909599999995],[153.3959544,-28.01555759999999],[153.3962074,-28.014284600000003],[153.3996589,-28.014466400000003],[153.4005714,-28.009489800000004],[153.3979576,-28.009086299999993],[153.4004709,-27.9977145],[153.4011039,-27.996879499999995],[153.4105528,-27.998409499999998],[153.4147248,-27.9975427],[153.4152409,-27.999598499999998],[153.4133509,-28.003987500000008],[153.4110739,-28.0163265],[153.4087042,-28.01716149999999],[153.4077452,-28.0190075],[153.4041719,-28.022911499999992],[153.4065839,-28.026780499999994],[153.4063299,-28.028182499999996],[153.4033824,-28.029157499999993],[153.4003654,-28.027213600000003],[153.3991474,-28.0244966],[153.3971335,-28.024821600000003]]]]}},{"type":"Feature","properties":{"suburb_name":"Burpengary","suburb_areasqkm":22.3339,"address_cnt":9360.0,"address_density_sqkm":419.0,"tp":"Suburb : Burpengary<br>Density per sqkm: 419"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9772841,-27.1270069],[152.9779781,-27.137962399999996],[152.9782067,-27.145590399999996],[152.9775219,-27.154040399999996],[152.9779138,-27.1586484],[152.9817079,-27.171830299999996],[152.9836608,-27.178684300000008],[152.9828461,-27.181060400000003],[152.9834261,-27.186321400000004],[152.9650261,-27.183646400000004],[152.9646901,-27.185477399999993],[152.954879,-27.183987900000005],[152.952571,-27.18232649999999],[152.9526441,-27.180291499999996],[152.954748,-27.170599400000004],[152.955208,-27.167044500000003],[152.9519349,-27.168777400000003],[152.9507911,-27.167534400000005],[152.9423761,-27.163870400000004],[152.9392241,-27.164930399999996],[152.9352991,-27.164737400000003],[152.9319641,-27.168267399999994],[152.9316531,-27.170286400000002],[152.9284321,-27.172178400000004],[152.9279031,-27.174385399999995],[152.9220262,-27.175334300000003],[152.9185619,-27.1723888],[152.9176818,-27.1694968],[152.9198587,-27.164589799999998],[152.9227097,-27.1600278],[152.9246377,-27.154355800000005],[152.9284978,-27.153217700000003],[152.9317461,-27.1532981],[152.9357203,-27.1509505],[152.9428723,-27.152500099999997],[152.9451051,-27.1406294],[152.9596403,-27.142746900000002],[152.9608461,-27.134179399999997],[152.9584811,-27.125802399999998],[152.9596234,-27.124734399999983],[152.9772841,-27.1270069]]]]}},{"type":"Feature","properties":{"suburb_name":"Carbrook","suburb_areasqkm":22.8358,"address_cnt":844.0,"address_density_sqkm":37.0,"tp":"Suburb : Carbrook<br>Density per sqkm: 37"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.28668,-27.694341500000004],[153.2836465,-27.695379299999985],[153.2780526,-27.6957884],[153.2734611,-27.697986100000005],[153.2700163,-27.6958823],[153.2662384,-27.692736099999998],[153.2589972,-27.692850700000005],[153.2565173,-27.691876899999993],[153.2549195,-27.6953312],[153.2524397,-27.6974442],[153.2432882,-27.698306499999994],[153.2411442,-27.697763499999997],[153.2410073,-27.6958616],[153.2448535,-27.6923405],[153.2450521,-27.690664599999998],[153.242472,-27.687687499999992],[153.231165,-27.6818615],[153.227695,-27.681796500000004],[153.222954,-27.678612500000003],[153.218833,-27.680115500000007],[153.21553,-27.680233499999996],[153.220419,-27.677307499999998],[153.21904,-27.6746995],[153.224604,-27.67484449999999],[153.227851,-27.676184499999998],[153.231873,-27.666665500000008],[153.232318,-27.664045499999993],[153.234953,-27.658008499999994],[153.236844,-27.655441499999995],[153.23907,-27.649303499999995],[153.239053,-27.647364499999995],[153.254929,-27.6495665],[153.254528,-27.652795500000003],[153.261431,-27.6538185],[153.262856,-27.656063499999995],[153.279915,-27.658410499999995],[153.28025,-27.6630685],[153.282358,-27.666800499999997],[153.28118900000004,-27.6686885],[153.2826629,-27.6740855],[153.2809821,-27.68316439999999],[153.2830023,-27.68346869999999],[153.2823169,-27.687104199999997],[153.28519,-27.686562499999997],[153.287721,-27.688870499999993],[153.287948,-27.691645500000003],[153.28668,-27.694341500000004]]]]}},{"type":"Feature","properties":{"suburb_name":"Chermside","suburb_areasqkm":3.9837,"address_cnt":10080.0,"address_density_sqkm":2530.0,"tp":"Suburb : Chermside<br>Density per sqkm: 2,530"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0200885,-27.393956499999998],[153.023465,-27.375926399999997],[153.0249191,-27.3744694],[153.0293571,-27.378958399999995],[153.0326404,-27.378126399999996],[153.0353763,-27.374189399999995],[153.0350284,-27.37705250000001],[153.0388551,-27.3771291],[153.046229,-27.3780295],[153.0459547,-27.3795559],[153.0444373,-27.3878913],[153.0427703,-27.387666299999996],[153.0421063,-27.3913133],[153.0377024,-27.3899933],[153.0354204,-27.394055400000006],[153.029308,-27.393170799999996],[153.0286779,-27.3965713],[153.0250771,-27.3948384],[153.0200885,-27.393956499999998]]]]}},{"type":"Feature","properties":{"suburb_name":"Coombabah","suburb_areasqkm":11.6056,"address_cnt":6526.0,"address_density_sqkm":562.0,"tp":"Suburb : Coombabah<br>Density per sqkm: 562"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.3744481,-27.931476500000002],[153.360171,-27.926535499999993],[153.3569289,-27.924154499999997],[153.3533269,-27.922735499999998],[153.3491,-27.922279500000002],[153.3435549,-27.919095499999997],[153.3480469,-27.918750499999998],[153.3503463,-27.917229099999997],[153.3499683,-27.91410109999999],[153.3527782,-27.914990099999997],[153.3571312,-27.913200099999997],[153.3571812,-27.909308099999993],[153.3583141,-27.9068241],[153.357972,-27.903243100000005],[153.3564521,-27.900466099999996],[153.356904,-27.8964711],[153.3584579,-27.893332200000003],[153.3651919,-27.895419100000005],[153.3682971,-27.896866499999998],[153.3756237,-27.894599999999997],[153.3813271,-27.891771700000003],[153.3828963,-27.889970799999997],[153.3840986,-27.891057900000003],[153.3886745,-27.891894000000004],[153.3883772,-27.90062739999999],[153.3876619,-27.9088345],[153.3879571,-27.9133445],[153.3866189,-27.916072499999995],[153.3857638,-27.920480799999993],[153.3847838,-27.92166790000001],[153.3821829,-27.9223785],[153.378052,-27.9247489],[153.3750849,-27.928068499999988],[153.3744481,-27.931476500000002]]]]}},{"type":"Feature","properties":{"suburb_name":"Coorparoo","suburb_areasqkm":5.3272,"address_cnt":12282.0,"address_density_sqkm":2306.0,"tp":"Suburb : Coorparoo<br>Density per sqkm: 2,306"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.063505,-27.486700400000004],[153.06456,-27.494150499999993],[153.0682419,-27.497737499999992],[153.068628,-27.4992195],[153.0758108,-27.499981499999997],[153.075228,-27.503358400000003],[153.07533710000004,-27.5119425],[153.074625,-27.5137144],[153.068779,-27.5127515],[153.064,-27.510757399999996],[153.061627,-27.51194239999999],[153.05952410000003,-27.5091204],[153.058879,-27.506016400000004],[153.055284,-27.5060624],[153.0503126,-27.502982799999998],[153.05064,-27.496722500000004],[153.047666,-27.494094499999996],[153.048136,-27.4916175],[153.04976,-27.490646400000003],[153.051056,-27.485922399999996],[153.0525231,-27.48286549999999],[153.056356,-27.483536399999995],[153.057161,-27.480808399999994],[153.0608291,-27.486282499999998],[153.063505,-27.486700400000004]]]]}},{"type":"Feature","properties":{"suburb_name":"Cornubia","suburb_areasqkm":15.1248,"address_cnt":4257.0,"address_density_sqkm":281.0,"tp":"Suburb : Cornubia<br>Density per sqkm: 281"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.21553,-27.680233499999996],[153.212944,-27.680065499999998],[153.20561,-27.6807055],[153.2031698,-27.680317899999988],[153.202151,-27.67716],[153.1997635,-27.676017800000004],[153.1974043,-27.6763676],[153.1970081,-27.674266599999992],[153.1860441,-27.672729699999998],[153.187865,-27.671363500000002],[153.192045,-27.671065499999994],[153.193081,-27.669962499999993],[153.188792,-27.667286500000003],[153.1891276,-27.667052499999997],[153.19356200000001,-27.641570499999997],[153.193929,-27.639455500000004],[153.2070031,-27.6412075],[153.206119,-27.6439245],[153.208518,-27.64516149999999],[153.23907,-27.649303499999995],[153.236844,-27.655441499999995],[153.234953,-27.658008499999994],[153.232318,-27.664045499999993],[153.231873,-27.666665500000008],[153.227851,-27.676184499999998],[153.224604,-27.67484449999999],[153.21904,-27.6746995],[153.220419,-27.677307499999998],[153.21553,-27.680233499999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Deagon","suburb_areasqkm":2.8177,"address_cnt":2431.0,"address_density_sqkm":863.0,"tp":"Suburb : Deagon<br>Density per sqkm: 863"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0551891,-27.335475500000005],[153.0524631,-27.334418400000004],[153.050689,-27.332026400000004],[153.04653610000003,-27.330488399999997],[153.0511833,-27.3295701],[153.0514479,-27.324280500000004],[153.0503952,-27.3206629],[153.0526942,-27.321004499999994],[153.0552952,-27.3194784],[153.065895,-27.321028400000003],[153.066506,-27.32293449999999],[153.0688851,-27.323261400000007],[153.069066,-27.3253225],[153.071067,-27.32829140000001],[153.069898,-27.33110539999999],[153.068233,-27.329951399999995],[153.065355,-27.335156399999995],[153.0598861,-27.3357024],[153.0551891,-27.335475500000005]]]]}},{"type":"Feature","properties":{"suburb_name":"Doolandella","suburb_areasqkm":3.4667,"address_cnt":3176.0,"address_density_sqkm":916.0,"tp":"Suburb : Doolandella<br>Density per sqkm: 916"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.984882,-27.621364399999994],[152.983408,-27.623403399999994],[152.981548,-27.621195399999998],[152.9785201,-27.621469500000003],[152.977159,-27.623331399999998],[152.975052,-27.6230014],[152.9775678,-27.6098193],[152.971602,-27.6089055],[152.9717708,-27.607152500000005],[152.9880727,-27.604049399999983],[152.992206,-27.604731400000002],[152.994514,-27.607584400000004],[152.994287,-27.6095854],[152.997012,-27.611413400000007],[152.998625,-27.6141255],[152.99518,-27.619231499999994],[152.991582,-27.6184525],[152.98846400000002,-27.6204135],[152.984882,-27.621364399999994]]]]}},{"type":"Feature","properties":{"suburb_name":"Draper","suburb_areasqkm":9.5411,"address_cnt":315.0,"address_density_sqkm":33.0,"tp":"Suburb : Draper<br>Density per sqkm: 33"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.8853662,-27.338937400000002],[152.8890242,-27.337334399999992],[152.9002072,-27.335235500000003],[152.9025411,-27.3380804],[152.9067871,-27.338353399999995],[152.907379,-27.342585399999997],[152.9116718,-27.339447299999996],[152.9136341,-27.339983399999998],[152.9110001,-27.3435074],[152.9114551,-27.345068399999995],[152.914397,-27.345903399999994],[152.9155771,-27.3484883],[152.9179661,-27.3461705],[152.922247,-27.3481703],[152.9239039,-27.3452993],[152.9264209,-27.345226299999997],[152.9265869,-27.347044199999996],[152.9250481,-27.3496584],[152.9262982,-27.3509364],[152.9260412,-27.3524155],[152.927541,-27.3622554],[152.9197401,-27.364890399999993],[152.917271,-27.3682794],[152.9101101,-27.372532399999997],[152.9089001,-27.374646399999996],[152.907648,-27.3758694],[152.9060501,-27.3804624],[152.9062164,-27.3778193],[152.9044111,-27.37598739999999],[152.9037937,-27.373387699999995],[152.9046271,-27.3696424],[152.9073928,-27.3531263],[152.9056299,-27.356828399999994],[152.9035451,-27.355197499999996],[152.9010161,-27.3561184],[152.8956201,-27.352703500000008],[152.8943932,-27.3502604],[152.8898491,-27.3527854],[152.8868012,-27.355458500000005],[152.8849349,-27.352815399999994],[152.883023,-27.3534884],[152.8853662,-27.338937400000002]]]]}},{"type":"Feature","properties":{"suburb_name":"Drewvale","suburb_areasqkm":4.3886,"address_cnt":1676.0,"address_density_sqkm":382.0,"tp":"Suburb : Drewvale<br>Density per sqkm: 382"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.067687,-27.651081499999997],[153.0587679,-27.6567827],[153.04049300000003,-27.654085499999997],[153.041113,-27.6483584],[153.0447062,-27.638380499999997],[153.053562,-27.639675499999985],[153.0700546,-27.642216599999994],[153.0685797,-27.650345599999998],[153.067687,-27.651081499999997]]]]}},{"type":"Feature","properties":{"suburb_name":"Eight Mile Plains","suburb_areasqkm":7.6134,"address_cnt":7670.0,"address_density_sqkm":1007.0,"tp":"Suburb : Eight Mile Plains<br>Density per sqkm: 1,007"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.1111531,-27.5939322],[153.1058418,-27.5931716],[153.102647,-27.59424719999999],[153.0992526,-27.5937671],[153.099523,-27.592258500000003],[153.0959913,-27.591791899999997],[153.095913,-27.5947835],[153.095244,-27.591679599999996],[153.0849311,-27.590162699999993],[153.0853239,-27.5875287],[153.0817473,-27.587734000000005],[153.0777112,-27.587131199999998],[153.0784512,-27.583437600000003],[153.0764521,-27.583146099999997],[153.075741,-27.5868373],[153.0726453,-27.5863767],[153.0734511,-27.582221],[153.0718282,-27.582477800000003],[153.0732472,-27.582079699999998],[153.075691,-27.57695339999999],[153.076052,-27.573633499999993],[153.080625,-27.570955700000013],[153.085129,-27.571086200000007],[153.085432,-27.569143499999996],[153.087758,-27.568490500000003],[153.089282,-27.56812939999999],[153.09105,-27.567494399999998],[153.0924098,-27.56470769999999],[153.0948837,-27.563394699999993],[153.0979817,-27.5635366],[153.0993587,-27.566659599999998],[153.1021616,-27.56721359999999],[153.1042906,-27.5641416],[153.1061286,-27.566796600000004],[153.1070036,-27.570089599999996],[153.1042997,-27.577467999999996],[153.100032,-27.576745500000005],[153.1111531,-27.5939322]]]]}},{"type":"Feature","properties":{"suburb_name":"Elanora","suburb_areasqkm":8.8935,"address_cnt":5795.0,"address_density_sqkm":652.0,"tp":"Suburb : Elanora<br>Density per sqkm: 652"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.4458819,-28.160382499999997],[153.4442704,-28.160365900000002],[153.4405871,-28.162811200000007],[153.4372054,-28.16166919999999],[153.4373387,-28.153100999999992],[153.4385903,-28.148307299999995],[153.4414379,-28.148740699999998],[153.44090950000003,-28.144614800000003],[153.43285,-28.1433931],[153.4333383,-28.1408572],[153.4321349,-28.137987500000005],[153.4330859,-28.1367395],[153.4317269,-28.1337845],[153.4337509,-28.131624499999997],[153.4357159,-28.131521499999995],[153.4385269,-28.12979049999999],[153.4427989,-28.1300185],[153.4460929,-28.128975499999996],[153.4464859,-28.127256500000005],[153.4442259,-28.1247795],[153.4447959,-28.123115500000004],[153.4497319,-28.1207215],[153.4505469,-28.1191595],[153.4488319,-28.11755249999999],[153.4438989,-28.1207405],[153.4431649,-28.123108499999994],[153.4411119,-28.12374249999999],[153.4410789,-28.120444499999994],[153.4428079,-28.118063499999998],[153.4425079,-28.114486499999995],[153.4575119,-28.118554500000002],[153.4607659,-28.120295499999997],[153.4635769,-28.122897500000008],[153.4713239,-28.135325499999993],[153.4631349,-28.138978500000004],[153.4539869,-28.137183499999995],[153.4526119,-28.141075500000003],[153.4499085,-28.144709999999993],[153.4506269,-28.147587499999997],[153.4496529,-28.151700499999997],[153.4467499,-28.154751499999996],[153.4456199,-28.157527499999997],[153.4458819,-28.160382499999997]]]]}},{"type":"Feature","properties":{"suburb_name":"Flinders View","suburb_areasqkm":5.3857,"address_cnt":2795.0,"address_density_sqkm":519.0,"tp":"Suburb : Flinders View<br>Density per sqkm: 519"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.7594416,-27.662818100000003],[152.76114,-27.660138400000008],[152.7586651,-27.656564399999997],[152.757783,-27.651166400000005],[152.755599,-27.652077399999992],[152.75448,-27.6468274],[152.7563024,-27.646555199999998],[152.7549721,-27.642858399999994],[152.7568042,-27.640592300000012],[152.7623111,-27.641317400000002],[152.761685,-27.644749399999995],[152.785941,-27.648039399999995],[152.7887727,-27.646347399999993],[152.7993219,-27.647563400000006],[152.8018559,-27.650538399999995],[152.804561,-27.65222249999999],[152.803918,-27.654034400000004],[152.8012491,-27.656320800000003],[152.7794546,-27.6533418],[152.770932,-27.658573399999995],[152.7668391,-27.660567399999998],[152.7594416,-27.662818100000003]]]]}},{"type":"Feature","properties":{"suburb_name":"Glenlogan","suburb_areasqkm":6.7596,"address_cnt":433.0,"address_density_sqkm":64.0,"tp":"Suburb : Glenlogan<br>Density per sqkm: 64"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.999423,-27.847163399999996],[152.996519,-27.846128400000005],[152.99277,-27.847208499999997],[152.993453,-27.8424824],[152.98919300000003,-27.8397865],[152.986002,-27.843299399999996],[152.9836084,-27.844788499999996],[152.9848571,-27.841249599999994],[152.9847276,-27.8385523],[152.9867863,-27.8329912],[152.9872602,-27.827738600000004],[152.988399,-27.8255524],[152.9974978,-27.823317599999996],[153.0032899,-27.821527400000004],[153.0040938,-27.820625699999997],[153.0082298,-27.822818499999983],[153.0174037,-27.83059269999999],[153.0197185,-27.830697],[153.0207718,-27.832235100000005],[153.020581,-27.835218499999996],[153.01865700000002,-27.8362074],[153.0125228,-27.842236399999994],[153.0083659,-27.844329500000004],[153.0019349,-27.844790399999997],[152.999423,-27.847163399999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Hawthorne","suburb_areasqkm":1.3532,"address_cnt":3077.0,"address_density_sqkm":2274.0,"tp":"Suburb : Hawthorne<br>Density per sqkm: 2,274"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.06171340000003,-27.456609199999995],[153.061505,-27.458940400000003],[153.0631742,-27.4596515],[153.0637311,-27.462959100000006],[153.064392,-27.467819399999993],[153.0636332,-27.4699574],[153.0619311,-27.471419400000002],[153.0576352,-27.473263399999997],[153.0574121,-27.4697818],[153.057289,-27.468086099999997],[153.0537143,-27.461584000000002],[153.0534553,-27.456338999999993],[153.06171340000003,-27.456609199999995]]]]}},{"type":"Feature","properties":{"suburb_name":"Jimboomba","suburb_areasqkm":54.6032,"address_cnt":4715.0,"address_density_sqkm":86.0,"tp":"Suburb : Jimboomba<br>Density per sqkm: 86"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.067987,-27.793104500000002],[153.070159,-27.792927500000005],[153.071364,-27.804424499999996],[153.076166,-27.804018499999998],[153.073174,-27.820008399999995],[153.086383,-27.82192649999999],[153.086532,-27.828471499999996],[153.08495100000002,-27.831184499999996],[153.080475,-27.8342615],[153.077974,-27.840692500000003],[153.074419,-27.840169500000005],[153.07316300000002,-27.846552399999997],[153.0745266,-27.849825599999992],[153.07184170000002,-27.852895399999998],[153.071458,-27.857137400000003],[153.067486,-27.860782399999998],[153.068498,-27.8636785],[153.0717529,-27.864796499999994],[153.065873,-27.874297799999994],[153.063034,-27.867271500000005],[153.06077,-27.870453499999993],[153.06137900000002,-27.872862400000002],[153.060748,-27.8758925],[153.058129,-27.878946400000007],[153.050342,-27.880609499999988],[153.048193,-27.8832715],[153.04684,-27.886757499999998],[153.044028,-27.889085400000003],[153.038845,-27.883572399999995],[153.037027,-27.879577400000002],[153.037158,-27.87656039999999],[153.035608,-27.8730685],[153.032661,-27.873138400000002],[153.02564,-27.8687174],[153.022946,-27.868538499999996],[153.02456,-27.865720399999997],[153.02289,-27.864428499999995],[153.02175,-27.860726399999994],[153.01956,-27.8610235],[153.016895,-27.859683399999998],[153.01562,-27.857212500000003],[153.010696,-27.8581284],[153.00513,-27.8578985],[153.00495,-27.852892399999998],[153.003542,-27.85109150000001],[153.004159,-27.849250399999995],[152.999423,-27.847163399999996],[153.0019349,-27.844790399999997],[153.0083659,-27.844329500000004],[153.0125228,-27.842236399999994],[153.01865700000002,-27.8362074],[153.020581,-27.835218499999996],[153.0207718,-27.832235100000005],[153.0197185,-27.830697],[153.0174037,-27.83059269999999],[153.0082298,-27.822818499999983],[153.0040938,-27.820625699999997],[153.0049858,-27.811463499999995],[153.007085,-27.809618400000005],[153.010406,-27.809744499999994],[153.017014,-27.811510400000003],[153.0221871,-27.812052399999992],[153.025419,-27.8088304],[153.0279653,-27.8092628],[153.0247419,-27.803443499999993],[153.0274999,-27.789824499999995],[153.0378481,-27.79140339999999],[153.041631,-27.790652500000004],[153.043638,-27.788810400000003],[153.05076200000002,-27.7917384],[153.0587771,-27.793946499999997],[153.067987,-27.793104500000002]]]]}},{"type":"Feature","properties":{"suburb_name":"Karana Downs","suburb_areasqkm":7.4963,"address_cnt":1930.0,"address_density_sqkm":257.0,"tp":"Suburb : Karana Downs<br>Density per sqkm: 257"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.8050231,-27.5574314],[152.8059421,-27.555898400000007],[152.807081,-27.549705400000004],[152.8050081,-27.543553400000004],[152.80647750000003,-27.541923500000006],[152.8070287,-27.537460399999997],[152.8036469,-27.532615399999994],[152.80736800000003,-27.5282154],[152.8150751,-27.527989399999992],[152.8216829,-27.531317499999997],[152.828497,-27.531670399999992],[152.830665,-27.5341074],[152.8305331,-27.536783399999997],[152.83977,-27.539795399999996],[152.8416361,-27.542801400000002],[152.840819,-27.54523139999999],[152.832543,-27.5469004],[152.826995,-27.5495694],[152.8241061,-27.5498994],[152.8228381,-27.553301399999995],[152.820118,-27.5559284],[152.811018,-27.557388400000004],[152.8050231,-27.5574314]]]]}},{"type":"Feature","properties":{"suburb_name":"Kedron","suburb_areasqkm":3.6191,"address_cnt":6173.0,"address_density_sqkm":1706.0,"tp":"Suburb : Kedron<br>Density per sqkm: 1,706"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0421951,-27.407988400000004],[153.0397893,-27.410814700000003],[153.04107,-27.4149054],[153.03878,-27.4161945],[153.0365891,-27.415488500000002],[153.0351971,-27.414237399999998],[153.0335091,-27.412674399999997],[153.0228118,-27.411236400000003],[153.0234027,-27.4082474],[153.0211539,-27.406980899999994],[153.0215697,-27.404815399999997],[153.0223407,-27.4009414],[153.018799,-27.4003794],[153.019853,-27.395229300000004],[153.0200885,-27.393956499999998],[153.0250771,-27.3948384],[153.0286779,-27.3965713],[153.029308,-27.393170799999996],[153.0354204,-27.394055400000006],[153.0350205,-27.3979624],[153.0365424,-27.398217400000004],[153.0356015,-27.402265499999995],[153.0388664,-27.401099099999993],[153.0413429,-27.405193600000004],[153.0421951,-27.407988400000004]]]]}},{"type":"Feature","properties":{"suburb_name":"Kunda Park","suburb_areasqkm":2.7753,"address_cnt":998.0,"address_density_sqkm":360.0,"tp":"Suburb : Kunda Park<br>Density per sqkm: 360"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0293941,-26.658019399999993],[153.032252,-26.6548875],[153.0338021,-26.651960399999993],[153.0370511,-26.65067239999999],[153.0401132,-26.651728400000003],[153.0426131,-26.650762400000005],[153.0458961,-26.6511294],[153.0475451,-26.6529534],[153.045738,-26.6615274],[153.0477011,-26.661850400000002],[153.0441447,-26.6659661],[153.0390966,-26.6646363],[153.0345421,-26.664019399999997],[153.0326931,-26.672114499999992],[153.0257647,-26.670624100000005],[153.0243551,-26.6674132],[153.0325062,-26.6623604],[153.033628,-26.6604235],[153.0314482,-26.6571436],[153.0293941,-26.658019399999993]]]]}},{"type":"Feature","properties":{"suburb_name":"Logan Village","suburb_areasqkm":39.4125,"address_cnt":3508.0,"address_density_sqkm":89.0,"tp":"Suburb : Logan Village<br>Density per sqkm: 89"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0990387,-27.819053099999994],[153.089743,-27.817770499999998],[153.087779,-27.828643500000002],[153.086532,-27.828471499999996],[153.086383,-27.82192649999999],[153.073174,-27.820008399999995],[153.076166,-27.804018499999998],[153.071364,-27.804424499999996],[153.070159,-27.792927500000005],[153.067987,-27.793104500000002],[153.072542,-27.7879454],[153.075042,-27.786359499999996],[153.08129900000003,-27.785507500000005],[153.0867548,-27.7836785],[153.0880609,-27.7768185],[153.0896989,-27.777015400000007],[153.0912739,-27.768969399999996],[153.089286,-27.7675125],[153.092274,-27.765585499999993],[153.095045,-27.766923499999997],[153.096667,-27.771330499999998],[153.098589,-27.771635500000002],[153.102377,-27.769305499999998],[153.103165,-27.767021400000008],[153.101445,-27.7575694],[153.103591,-27.7549525],[153.10651300000004,-27.7535515],[153.109459,-27.7527675],[153.124535,-27.755122499999995],[153.1257461,-27.74991640000001],[153.130954,-27.751470499999996],[153.138334,-27.7526165],[153.137888,-27.754755500000005],[153.140565,-27.7551505],[153.138964,-27.763549499999993],[153.146948,-27.764797499999993],[153.147354,-27.767191499999996],[153.155363,-27.768448400000008],[153.158561,-27.769334499999996],[153.1576629,-27.7713415],[153.158479,-27.7744305],[153.15760650000004,-27.776815499999998],[153.155842,-27.786586499999995],[153.162778,-27.7876595],[153.160404,-27.8003505],[153.142772,-27.797736500000003],[153.14151,-27.804913499999998],[153.139141,-27.8088645],[153.125015,-27.806413499999994],[153.123607,-27.80318349999999],[153.120682,-27.8027264],[153.121785,-27.796963500000004],[153.099606,-27.7935524],[153.1002952,-27.797272399999986],[153.09995310000002,-27.799966499999993],[153.09753,-27.8059245],[153.09762,-27.816765500000006],[153.0990387,-27.819053099999994]]]]}},{"type":"Feature","properties":{"suburb_name":"Loganholme","suburb_areasqkm":8.8171,"address_cnt":4857.0,"address_density_sqkm":551.0,"tp":"Suburb : Loganholme<br>Density per sqkm: 551"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.194939,-27.696166500000004],[153.189608,-27.6968065],[153.189408,-27.698436499999996],[153.192643,-27.700133499999993],[153.193682,-27.703139500000002],[153.190499,-27.703567499999995],[153.185581,-27.701612500000003],[153.183071,-27.6997065],[153.181298,-27.698864499999996],[153.176313,-27.698131500000006],[153.173496,-27.6955215],[153.17037900000003,-27.696670500000003],[153.168951,-27.6946915],[153.170115,-27.691473499999997],[153.16939,-27.687452499999996],[153.166357,-27.6817825],[153.1723235,-27.6827217],[153.179187,-27.6864845],[153.181776,-27.673333899999996],[153.170775,-27.66231849999999],[153.171454,-27.66212049999999],[153.183002,-27.663817499999997],[153.188792,-27.667286500000003],[153.193081,-27.669962499999993],[153.192045,-27.671065499999994],[153.187865,-27.671363500000002],[153.1860441,-27.672729699999998],[153.1970081,-27.674266599999992],[153.1974043,-27.6763676],[153.1997635,-27.676017800000004],[153.202151,-27.67716],[153.2031698,-27.680317899999988],[153.20561,-27.6807055],[153.204381,-27.6853635],[153.202553,-27.689083500000002],[153.196835,-27.695702499999996],[153.194939,-27.696166500000004]]]]}},{"type":"Feature","properties":{"suburb_name":"Maleny","suburb_areasqkm":24.3023,"address_cnt":2881.0,"address_density_sqkm":119.0,"tp":"Suburb : Maleny<br>Density per sqkm: 119"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.8799691,-26.761973400000002],[152.8849111,-26.767949100000006],[152.8884472,-26.7694905],[152.8895261,-26.772170399999997],[152.8921281,-26.7755255],[152.89129710000003,-26.778159400000003],[152.8877641,-26.7810624],[152.8896791,-26.783434399999997],[152.8853081,-26.78464039999999],[152.8848451,-26.787146399999994],[152.8595271,-26.7836264],[152.8589802,-26.786683399999998],[152.8476161,-26.785039399999995],[152.8469452,-26.788774399999994],[152.8408101,-26.788497399999997],[152.8376451,-26.788213399999997],[152.8388891,-26.780672399999997],[152.8328871,-26.777548399999993],[152.8338202,-26.771592399999992],[152.8343931,-26.7686684],[152.8312802,-26.767015400000005],[152.8305002,-26.763182400000005],[152.8302981,-26.75835839999999],[152.8288581,-26.7580624],[152.8257971,-26.755232399999993],[152.8230511,-26.755379400000006],[152.8210575,-26.753927499999993],[152.8168661,-26.753350400000002],[152.8175581,-26.7496377],[152.8123321,-26.748860400000005],[152.8129832,-26.74531039999999],[152.8182091,-26.74603739999999],[152.8189013,-26.742502700000003],[152.8354861,-26.7449959],[152.8382091,-26.730602399999995],[152.8465361,-26.7318224],[152.8476361,-26.730430400000003],[152.8489631,-26.7228004],[152.8570131,-26.723879399999998],[152.8548251,-26.737154399999998],[152.8520081,-26.738302400000002],[152.8510132,-26.74399539999999],[152.8605371,-26.74534239999999],[152.8594531,-26.751425400000006],[152.8581981,-26.752410399999995],[152.8569471,-26.759487399999998],[152.859163,-26.760349100000003],[152.8585702,-26.7625164],[152.8638812,-26.7634964],[152.8646681,-26.767696399999988],[152.8675201,-26.7674554],[152.8661761,-26.7649134],[152.8684131,-26.763842399999998],[152.8715491,-26.766528399999995],[152.8725551,-26.764627399999995],[152.8703071,-26.7610184],[152.8702911,-26.7593014],[152.8734351,-26.7591084],[152.8746591,-26.762970400000004],[152.8799691,-26.761973400000002]]]]}},{"type":"Feature","properties":{"suburb_name":"Manly West","suburb_areasqkm":5.128,"address_cnt":6099.0,"address_density_sqkm":1189.0,"tp":"Suburb : Manly West<br>Density per sqkm: 1,189"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.176885,-27.4744535],[153.1689439,-27.477471500000007],[153.165611,-27.4758694],[153.1587902,-27.474850499999988],[153.1530499,-27.475992399999996],[153.145198,-27.474750400000005],[153.1503389,-27.469558399999997],[153.15492770000003,-27.466230399999993],[153.1595327,-27.4637714],[153.167161,-27.454293499999995],[153.168827,-27.453273399999997],[153.1728521,-27.4539075],[153.1756374,-27.456110299999995],[153.17652,-27.459369400000003],[153.1800384,-27.462433299999997],[153.182352,-27.4611965],[153.1846263,-27.4626692],[153.1830584,-27.465392699999995],[153.1786694,-27.464934299999996],[153.1778044,-27.469864299999998],[153.176266,-27.473093200000008],[153.176885,-27.4744535]]]]}},{"type":"Feature","properties":{"suburb_name":"Maroochydore","suburb_areasqkm":13.0161,"address_cnt":20090.0,"address_density_sqkm":1543.0,"tp":"Suburb : Maroochydore<br>Density per sqkm: 1,543"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.074348,-26.639060399999995],[153.0789041,-26.639380500000005],[153.0832252,-26.638272399999995],[153.085122,-26.6389325],[153.0915473,-26.6390154],[153.0954141,-26.63772649999999],[153.0988791,-26.638131499999993],[153.1006341,-26.639944400000005],[153.0986933,-26.642581400000005],[153.1008671,-26.647040499999996],[153.1033431,-26.64771339999999],[153.104112,-26.657170399999995],[153.1057401,-26.663113500000005],[153.1033331,-26.6637734],[153.0950381,-26.66930139999999],[153.0949731,-26.6726444],[153.0916301,-26.669817399999996],[153.0882901,-26.668567400000004],[153.0727211,-26.666342399999998],[153.0699391,-26.665448400000002],[153.0671132,-26.663247399999992],[153.0653981,-26.6602614],[153.0656311,-26.654427399999992],[153.0620801,-26.6527444],[153.0531985,-26.652053399999996],[153.0533375,-26.649193399999998],[153.0547964,-26.645138400000004],[153.0541804,-26.643313399999993],[153.0549861,-26.640745499999998],[153.0591771,-26.639403399999996],[153.0629963,-26.641195299999996],[153.0675777,-26.6416536],[153.07299910000003,-26.640372200000005],[153.074348,-26.639060399999995]]]]}},{"type":"Feature","properties":{"suburb_name":"Maudsland","suburb_areasqkm":14.5541,"address_cnt":2963.0,"address_density_sqkm":204.0,"tp":"Suburb : Maudsland<br>Density per sqkm: 204"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.297473,-27.945202099999992],[153.2807622,-27.9426124],[153.2795639,-27.9492171],[153.2816798,-27.9495325],[153.2794944,-27.9611127],[153.28245160000003,-27.961565500000003],[153.279843,-27.9757735],[153.27812680000002,-27.973662499999996],[153.2763801,-27.967329399999997],[153.2742639,-27.96324649999999],[153.2742068,-27.960172499999988],[153.2721767,-27.952996900000002],[153.2684679,-27.952385500000002],[153.266668,-27.9497575],[153.2641739,-27.951231499999995],[153.26012,-27.946250499999998],[153.259675,-27.944319499999995],[153.263083,-27.9376775],[153.2653439,-27.935024499999994],[153.266318,-27.9305405],[153.2661409,-27.928153500000004],[153.2642161,-27.925780500000005],[153.263715,-27.921246500000002],[153.267458,-27.9192395],[153.2658519,-27.916582500000004],[153.2648968,-27.914799400000003],[153.2645258,-27.910935399999996],[153.2653569,-27.90602059999999],[153.276974,-27.907599500000003],[153.278703,-27.9111475],[153.28076700000003,-27.912461499999992],[153.279412,-27.915027499999994],[153.2834109,-27.917074499999995],[153.2889419,-27.918800500000003],[153.291412,-27.9180445],[153.2946609,-27.919053499999997],[153.2952929,-27.924747500000006],[153.2984739,-27.926346499999998],[153.3013959,-27.926748499999988],[153.3038009,-27.9312795],[153.3014339,-27.931241499999995],[153.301798,-27.934262799999996],[153.2959069,-27.943408499999997],[153.297473,-27.945202099999992]]]]}},{"type":"Feature","properties":{"suburb_name":"Mitchelton","suburb_areasqkm":4.2909,"address_cnt":5317.0,"address_density_sqkm":1239.0,"tp":"Suburb : Mitchelton<br>Density per sqkm: 1,239"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9573173,-27.42225399999999],[152.958587,-27.414583399999994],[152.9667031,-27.409957399999996],[152.9670605,-27.404096799999994],[152.9651866,-27.4037444],[152.9647551,-27.397806400000007],[152.965175,-27.397080399999997],[152.9706851,-27.39846040000001],[152.974389,-27.4007434],[152.977005,-27.4007694],[152.9787511,-27.40220439999999],[152.977994,-27.404888399999997],[152.9799741,-27.40505840000001],[152.980341,-27.407729399999997],[152.9832871,-27.4094454],[152.9803741,-27.410544399999992],[152.9810171,-27.412155500000004],[152.9802309,-27.4164284],[152.9785955,-27.418484700000004],[152.97442560000002,-27.421094699999998],[152.9729841,-27.42290979999999],[152.9672642,-27.4220177],[152.966944,-27.423889399999997],[152.9573173,-27.42225399999999]]]]}},{"type":"Feature","properties":{"suburb_name":"Mudgeeraba","suburb_areasqkm":26.2119,"address_cnt":6527.0,"address_density_sqkm":249.0,"tp":"Suburb : Mudgeeraba<br>Density per sqkm: 249"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.328617,-28.119219300000005],[153.3253919,-28.1183564],[153.3234418,-28.1195904],[153.3205859,-28.117102499999998],[153.3179665,-28.115850999999996],[153.3177729,-28.113246500000002],[153.3191519,-28.111032499999993],[153.3098069,-28.109526199999994],[153.31018890000001,-28.107600499999997],[153.30765190000002,-28.1071855],[153.30885190000004,-28.104828500000004],[153.3085109,-28.100956499999995],[153.3114659,-28.096645500000005],[153.3118909,-28.094764499999997],[153.3142679,-28.091470499999993],[153.3140979,-28.089311499999997],[153.3157609,-28.087542499999994],[153.317131,-28.083397499999997],[153.3164899,-28.0820745],[153.3184809,-28.077684499999997],[153.3223629,-28.079143500000004],[153.32193870000003,-28.081400000000002],[153.3387968,-28.083912200000004],[153.3440957,-28.080908899999997],[153.3506177,-28.080126],[153.3513629,-28.076412799999996],[153.3541178,-28.070061499999994],[153.3547814,-28.0658798],[153.3545339,-28.06228550000001],[153.3557489,-28.059393499999995],[153.3553641,-28.0543054],[153.354526,-28.052034499999998],[153.3557086,-28.049487500000005],[153.3616179,-28.066665499999996],[153.3655439,-28.076469499999998],[153.3698059,-28.080165500000007],[153.3760489,-28.0828825],[153.3841279,-28.0850225],[153.3869719,-28.0869845],[153.39143790000003,-28.092701499999993],[153.3931859,-28.0940995],[153.3910259,-28.096942499999997],[153.3914539,-28.099936500000002],[153.3863917,-28.1044934],[153.3844032,-28.1040117],[153.3760249,-28.10502449999999],[153.3737029,-28.1041235],[153.3728568,-28.107079499999994],[153.3700129,-28.10653449999999],[153.3670149,-28.111586499999998],[153.3636899,-28.1132565],[153.3632279,-28.110195500000003],[153.3524065,-28.1084652],[153.34706260000002,-28.107277399999994],[153.3376219,-28.105954499999996],[153.3358349,-28.1166645],[153.3294135,-28.115050400000005],[153.328617,-28.119219300000005]]]]}},{"type":"Feature","properties":{"suburb_name":"Nambour","suburb_areasqkm":10.8469,"address_cnt":8311.0,"address_density_sqkm":766.0,"tp":"Suburb : Nambour<br>Density per sqkm: 766"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.97116420000003,-26.6441384],[152.9696391,-26.6414364],[152.9655332,-26.640877399999997],[152.9624742,-26.642937399999997],[152.9553922,-26.6419674],[152.9557261,-26.645448399999996],[152.9542551,-26.6428174],[152.9530101,-26.63551139999999],[152.95522820000002,-26.632106399999998],[152.9550571,-26.630433399999998],[152.9355492,-26.627740399999993],[152.9333461,-26.626370399999992],[152.9342412,-26.620383399999998],[152.9367722,-26.6169353],[152.9413871,-26.617571399999996],[152.94172510000004,-26.615599099999997],[152.938399,-26.614942099999993],[152.939873,-26.6100043],[152.9605908,-26.612665600000007],[152.9629396,-26.610306099999992],[152.9630386,-26.608335100000005],[152.9722262,-26.6098734],[152.9737942,-26.608590099999997],[152.975934,-26.610601499999998],[152.9759135,-26.612791999999995],[152.9780099,-26.6146016],[152.9760031,-26.618802399999996],[152.9752461,-26.619221400000004],[152.9729291,-26.6331494],[152.9751821,-26.6348314],[152.9742631,-26.639773399999996],[152.9721901,-26.638225399999993],[152.97116420000003,-26.6441384]]]]}},{"type":"Feature","properties":{"suburb_name":"Northgate (Qld)","suburb_areasqkm":3.3111,"address_cnt":3804.0,"address_density_sqkm":1149.0,"tp":"Suburb : Northgate (Qld)<br>Density per sqkm: 1,149"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0784461,-27.3996764],[153.065615,-27.398024099999994],[153.0654323,-27.3956567],[153.0594561,-27.388890400000005],[153.060642,-27.386532399999997],[153.0647841,-27.383714399999995],[153.0700331,-27.3889281],[153.0709298,-27.3860101],[153.0734148,-27.3816321],[153.0761152,-27.383117100000003],[153.077606,-27.382110399999995],[153.0800556,-27.38385679999999],[153.083207,-27.387557899999997],[153.0842402,-27.3899274],[153.0869691,-27.391282499999996],[153.0873569,-27.3940947],[153.0829569,-27.396172499999995],[153.0784461,-27.3996764]]]]}},{"type":"Feature","properties":{"suburb_name":"Pacific Pines","suburb_areasqkm":9.2038,"address_cnt":6687.0,"address_density_sqkm":727.0,"tp":"Suburb : Pacific Pines<br>Density per sqkm: 727"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.297473,-27.945202099999992],[153.2959069,-27.943408499999997],[153.301798,-27.934262799999996],[153.3014339,-27.931241499999995],[153.3038009,-27.9312795],[153.3013959,-27.926748499999988],[153.30387,-27.926295499999988],[153.305171,-27.9247025],[153.3075793,-27.9245736],[153.3118459,-27.925612499999996],[153.3138619,-27.923951499999998],[153.327409,-27.9259654],[153.3263883,-27.930458000000005],[153.3280539,-27.9327465],[153.3284219,-27.9352705],[153.331304,-27.936831500000007],[153.3289659,-27.939532499999995],[153.3308839,-27.9416945],[153.3345229,-27.938204499999998],[153.3358799,-27.940930500000004],[153.3359059,-27.94349949999999],[153.3327009,-27.9455685],[153.327094,-27.944495500000002],[153.3258839,-27.945299500000004],[153.3256649,-27.948534499999997],[153.324248,-27.9503345],[153.323812,-27.9548545],[153.3210179,-27.9538265],[153.31817890000002,-27.95442949999999],[153.3179623,-27.956328700000007],[153.2992599,-27.953559499999994],[153.3000629,-27.950582499999996],[153.2987869,-27.9494905],[153.299246,-27.9454645],[153.297473,-27.945202099999992]]]]}},{"type":"Feature","properties":{"suburb_name":"Palm Beach (Qld)","suburb_areasqkm":6.3316,"address_cnt":12536.0,"address_density_sqkm":1980.0,"tp":"Suburb : Palm Beach (Qld)<br>Density per sqkm: 1,980"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.4832659,-28.127774499999997],[153.4831759,-28.12989449999999],[153.4783209,-28.133086500000005],[153.4775009,-28.1351165],[153.4720959,-28.1366955],[153.4713239,-28.135325499999993],[153.4635769,-28.122897500000008],[153.4607659,-28.120295499999997],[153.4575119,-28.118554500000002],[153.4425079,-28.114486499999995],[153.4460009,-28.110336499999995],[153.4484009,-28.109656499999996],[153.4498809,-28.107576499999997],[153.4474009,-28.1056865],[153.4480009,-28.103726499999993],[153.4535149,-28.1013005],[153.4596979,-28.096686500000004],[153.4603109,-28.095740500000005],[153.4634239,-28.101045],[153.4667689,-28.108386000000003],[153.4723859,-28.118361899999996],[153.4778299,-28.125378499999997],[153.4832659,-28.127774499999997]]]]}},{"type":"Feature","properties":{"suburb_name":"Paradise Point","suburb_areasqkm":3.8049,"address_cnt":5377.0,"address_density_sqkm":1413.0,"tp":"Suburb : Paradise Point<br>Density per sqkm: 1,413"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.3886745,-27.891894000000004],[153.3840986,-27.891057900000003],[153.3828963,-27.889970799999997],[153.3837144,-27.887682099999996],[153.3829735,-27.885562999999998],[153.383726,-27.882468499999998],[153.3818645,-27.879833],[153.379087,-27.878929699999997],[153.3783527,-27.8750096],[153.3799749,-27.873807499999998],[153.3853885,-27.877049099999997],[153.3888987,-27.877633899999996],[153.3924982,-27.8771881],[153.3949369,-27.875846499999994],[153.3974929,-27.872311499999995],[153.4007221,-27.872748899999994],[153.4003702,-27.874779900000004],[153.3974319,-27.88056560000001],[153.3963019,-27.884050499999997],[153.3967452,-27.8872698],[153.3981623,-27.889552899999995],[153.3902797,-27.888623],[153.3886745,-27.891894000000004]]],[[[153.4049173,-27.867319300000002],[153.408935,-27.867591400000002],[153.4105662,-27.869537399999995],[153.409597,-27.874898499999997],[153.4060531,-27.881069799999988],[153.40502220000002,-27.881980400000007],[153.4011535,-27.881942499999997],[153.4000701,-27.880537999999998],[153.4030342,-27.8746709],[153.4034604,-27.872325799999995],[153.4001261,-27.86863689999999],[153.4049173,-27.867319300000002]]],[[[153.4010418,-27.887879799999997],[153.400308,-27.88360249999999],[153.4032362,-27.8843229],[153.4037262,-27.886784799999997],[153.4010418,-27.887879799999997]]]]}},{"type":"Feature","properties":{"suburb_name":"Park Ridge","suburb_areasqkm":16.8283,"address_cnt":7665.0,"address_density_sqkm":455.0,"tp":"Suburb : Park Ridge<br>Density per sqkm: 455"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.031664,-27.686588499999996],[153.0489973,-27.689116699999992],[153.0567552,-27.6902706],[153.0556972,-27.695409599999994],[153.0600612,-27.6969856],[153.067147,-27.6980385],[153.0681432,-27.692638099999996],[153.0776739,-27.694050500000007],[153.0771699,-27.696864499999997],[153.0885587,-27.6986994],[153.0993066,-27.700154399999995],[153.093898,-27.707171499999998],[153.09237,-27.7158735],[153.0905651,-27.7219005],[153.0809711,-27.720828400000002],[153.0649349,-27.718725499999994],[153.064712,-27.719888499999996],[153.0335688,-27.715611799999998],[153.0378097,-27.710491700000006],[153.0384321,-27.702960299999994],[153.0319223,-27.701937099999995],[153.031684,-27.698716399999995],[153.0295276,-27.696268099999998],[153.031664,-27.686588499999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Robertson (Qld)","suburb_areasqkm":1.7794,"address_cnt":2512.0,"address_density_sqkm":1412.0,"tp":"Suburb : Robertson (Qld)<br>Density per sqkm: 1,412"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.06608,-27.560956499999996],[153.0647189,-27.568839500000003],[153.06096030000003,-27.568860199999996],[153.0601361,-27.5713474],[153.0486719,-27.5696984],[153.0505533,-27.559516399999996],[153.052174,-27.558965399999995],[153.06608,-27.560956499999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Rochedale","suburb_areasqkm":15.367,"address_cnt":4449.0,"address_density_sqkm":290.0,"tp":"Suburb : Rochedale<br>Density per sqkm: 290"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.1111531,-27.5939322],[153.100032,-27.576745500000005],[153.1042997,-27.577467999999996],[153.1070036,-27.570089599999996],[153.1061286,-27.566796600000004],[153.1042906,-27.5641416],[153.1047366,-27.560852599999997],[153.1089458,-27.56146129999999],[153.1137419,-27.552839499999994],[153.1167871,-27.548855400000008],[153.1174148,-27.545101],[153.121002,-27.545555500000003],[153.1265612,-27.547151399999994],[153.1321289,-27.5469955],[153.136074,-27.548022500000002],[153.137953,-27.550416499999994],[153.136818,-27.5566505],[153.139538,-27.5570549],[153.1390613,-27.5595187],[153.142957,-27.5625355],[153.141683,-27.566034500000004],[153.145207,-27.566508499999998],[153.145937,-27.570932500000005],[153.141196,-27.571473500000003],[153.138307,-27.5736765],[153.1370431,-27.576269400000005],[153.1380491,-27.577523399999997],[153.1358422,-27.580866400000005],[153.1358582,-27.5841074],[153.1390071,-27.5868434],[153.1408931,-27.5874294],[153.142724,-27.5911955],[153.142647,-27.591263499999997],[153.140212,-27.5897074],[153.12332,-27.5872985],[153.12201,-27.595432500000005],[153.1111531,-27.5939322]]]]}},{"type":"Feature","properties":{"suburb_name":"Shelly Beach (Sunshine Coast - Qld)","suburb_areasqkm":0.5039,"address_cnt":536.0,"address_density_sqkm":1064.0,"tp":"Suburb : Shelly Beach (Sunshine Coast - Qld)<br>Density per sqkm: 1,064"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.1486411,-26.792327500000003],[153.1486461,-26.796990500000003],[153.150719,-26.80029639999999],[153.1419602,-26.799198400000005],[153.1431012,-26.792437200000002],[153.1470971,-26.792971500000004],[153.1486411,-26.792327500000003]]]]}},{"type":"Feature","properties":{"suburb_name":"Sumner","suburb_areasqkm":1.8943,"address_cnt":1008.0,"address_density_sqkm":532.0,"tp":"Suburb : Sumner<br>Density per sqkm: 532"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.939972,-27.559080399999992],[152.940102,-27.560571399999994],[152.9441377,-27.5699076],[152.940735,-27.57072839999999],[152.931677,-27.5705144],[152.9289741,-27.568405499999997],[152.925689,-27.567891399999993],[152.9226225,-27.5698167],[152.922631,-27.567098400000003],[152.920785,-27.564696399999992],[152.922711,-27.561761399999995],[152.927443,-27.56246940000001],[152.93176,-27.561818400000007],[152.935376,-27.559885399999995],[152.939972,-27.559080399999992]]]]}},{"type":"Feature","properties":{"suburb_name":"Sunnybank","suburb_areasqkm":4.4879,"address_cnt":4763.0,"address_density_sqkm":1061.0,"tp":"Suburb : Sunnybank<br>Density per sqkm: 1,061"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0647189,-27.568839500000003],[153.066352,-27.5722474],[153.076052,-27.573633499999993],[153.075691,-27.57695339999999],[153.0732472,-27.582079699999998],[153.0718282,-27.582477800000003],[153.0686153,-27.5830688],[153.0684873,-27.5865872],[153.0659618,-27.586495599999992],[153.064887,-27.59005839999999],[153.0490769,-27.581910399999998],[153.0467401,-27.579962500000004],[153.0426458,-27.577763399999995],[153.039919,-27.575387499999998],[153.037638,-27.574216400000008],[153.044553,-27.5746034],[153.0478496,-27.574114999999985],[153.0486719,-27.5696984],[153.0601361,-27.5713474],[153.06096030000003,-27.568860199999996],[153.0647189,-27.568839500000003]]]]}},{"type":"Feature","properties":{"suburb_name":"Warana","suburb_areasqkm":2.9324,"address_cnt":2735.0,"address_density_sqkm":933.0,"tp":"Suburb : Warana<br>Density per sqkm: 933"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.1301291,-26.7089134],[153.1355101,-26.709183399999997],[153.13462920000003,-26.7309225],[153.1234741,-26.730806499999996],[153.1181351,-26.730202399999992],[153.1135051,-26.730391399999988],[153.1097801,-26.729790399999995],[153.1123581,-26.728688399999996],[153.1107271,-26.7258324],[153.1163841,-26.723811499999993],[153.1184401,-26.724363399999998],[153.1228721,-26.724962399999992],[153.125297,-26.724507400000004],[153.1268611,-26.722717400000004],[153.1275161,-26.718934399999995],[153.1252466,-26.714853999999995],[153.1275735,-26.711743099999993],[153.12996530000004,-26.711157500000002],[153.1301291,-26.7089134]]]]}},{"type":"Feature","properties":{"suburb_name":"Bellbowrie","suburb_areasqkm":5.7768,"address_cnt":2409.0,"address_density_sqkm":417.0,"tp":"Suburb : Bellbowrie<br>Density per sqkm: 417"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.887609,-27.548676400000005],[152.889609,-27.549291399999994],[152.895051,-27.553034399999994],[152.897672,-27.552828399999996],[152.899707,-27.555024399999997],[152.901415,-27.554225400000004],[152.9039481,-27.5500504],[152.90598,-27.5530004],[152.906301,-27.556028399999995],[152.904994,-27.556874399999998],[152.896851,-27.559179399999994],[152.894543,-27.560513400000005],[152.895856,-27.562997400000008],[152.897754,-27.564196400000004],[152.8958931,-27.564710500000004],[152.8953528,-27.567413400000007],[152.8907662,-27.566206899999997],[152.8902753,-27.5685439],[152.8857089,-27.567805399999994],[152.8780951,-27.569258600000005],[152.8784713,-27.567424099999997],[152.860882,-27.564866000000002],[152.860258,-27.558310399999996],[152.8668842,-27.559310100000005],[152.8715691,-27.5583494],[152.87437,-27.556265400000004],[152.87557890000002,-27.5540364],[152.877714,-27.554358499999992],[152.87912570000003,-27.5474282],[152.887609,-27.548676400000005]]]]}},{"type":"Feature","properties":{"suburb_name":"Bridges","suburb_areasqkm":8.7208,"address_cnt":135.0,"address_density_sqkm":15.0,"tp":"Suburb : Bridges<br>Density per sqkm: 15"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.91905240000003,-26.5190023],[152.9225852,-26.52274939999999],[152.9555202,-26.527117399999995],[152.955556,-26.532230099999996],[152.9562021,-26.535990199999997],[152.9593892,-26.536820399999996],[152.96211,-26.541109500000005],[152.9637062,-26.5477784],[152.9608431,-26.547539399999998],[152.9573095,-26.548931],[152.9491232,-26.5478767],[152.94871410000002,-26.550110399999998],[152.9394652,-26.548627400000008],[152.9321952,-26.5532104],[152.9251324,-26.544406],[152.9323242,-26.539717399999997],[152.9298172,-26.538719399999998],[152.9314132,-26.529238400000004],[152.9273262,-26.527336400000003],[152.9241791,-26.5247554],[152.9231957,-26.5307203],[152.9200989,-26.530305399999996],[152.9206155,-26.5271917],[152.9177203,-26.526805199999995],[152.91905240000003,-26.5190023]]]]}},{"type":"Feature","properties":{"suburb_name":"Chelmer","suburb_areasqkm":1.4383,"address_cnt":1578.0,"address_density_sqkm":1097.0,"tp":"Suburb : Chelmer<br>Density per sqkm: 1,097"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9693112,-27.519337999999998],[152.9678345,-27.515653499999996],[152.9677934,-27.5123706],[152.9702024,-27.507490599999997],[152.9725013,-27.5059495],[152.9749063,-27.507030499999995],[152.9815712,-27.512347499999997],[152.9879871,-27.5189774],[152.9849121,-27.516919400000006],[152.9800931,-27.516240800000006],[152.9745604,-27.51630949999999],[152.973923,-27.5181304],[152.9696994,-27.517508500000005],[152.9693112,-27.519337999999998]]]]}},{"type":"Feature","properties":{"suburb_name":"Glass House Mountains","suburb_areasqkm":72.4139,"address_cnt":2757.0,"address_density_sqkm":38.0,"tp":"Suburb : Glass House Mountains<br>Density per sqkm: 38"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9938061,-26.9309087],[152.9905589,-26.931497299999997],[152.9871046,-26.93501],[152.9849505,-26.934794800000002],[152.9821415,-26.937182499999995],[152.9763948,-26.934281799999997],[152.9745799,-26.934560200000004],[152.9727138,-26.9367566],[152.9693769,-26.936223999999996],[152.9672731,-26.9375951],[152.9642412,-26.936723699999995],[152.9625214,-26.9381149],[152.9596861,-26.937123400000004],[152.9545302,-26.938772399999994],[152.9397635,-26.935306100000002],[152.9368121,-26.9361374],[152.9353083,-26.932831099999998],[152.936733,-26.929828799999996],[152.9367463,-26.926845600000004],[152.9320633,-26.924286800000004],[152.9222509,-26.922982899999997],[152.919491,-26.927906900000004],[152.9108321,-26.926652999999998],[152.9088992,-26.925014],[152.9052932,-26.926977099999995],[152.9003703,-26.927898100000004],[152.8963324,-26.93148409999999],[152.8933675,-26.9293312],[152.8913915,-26.9297252],[152.8875135,-26.926956199999996],[152.8822265,-26.926192300000004],[152.8788556,-26.927257299999997],[152.8774437,-26.929468299999996],[152.8746977,-26.928518300000004],[152.8725021,-26.9305014],[152.8754523,-26.9135094],[152.8594679,-26.91129189999999],[152.8611497,-26.902730300000005],[152.8553046,-26.901871799999984],[152.8564797,-26.8948825],[152.8542454,-26.894591399999996],[152.8554941,-26.887369399999997],[152.8667881,-26.888909399999992],[152.8784351,-26.89050139999999],[152.8910451,-26.890229399999996],[152.8945501,-26.892989400000005],[152.8957921,-26.891067399999994],[152.9044351,-26.892269399999996],[152.9049621,-26.889114399999997],[152.9088881,-26.88939939999999],[152.9118261,-26.8876204],[152.9152791,-26.8881634],[152.9171081,-26.884062400000005],[152.9273181,-26.885463400000003],[152.9282581,-26.879679399999997],[152.9304631,-26.879980399999997],[152.9309991,-26.8767644],[152.9355481,-26.876613399999997],[152.9358941,-26.874633400000004],[152.9398711,-26.875311399999998],[152.9404051,-26.8722404],[152.9439661,-26.8716024],[152.9447341,-26.8691924],[152.9487431,-26.868116399999998],[152.9549921,-26.867227399999994],[152.9583145,-26.8679045],[152.9577201,-26.871818399999995],[152.9541431,-26.877674400000007],[152.9621031,-26.878968400000005],[152.9603161,-26.8752144],[152.9736121,-26.8770224],[152.9751331,-26.878885399999998],[152.9779911,-26.879575399999993],[152.9840861,-26.883105399999994],[152.9868721,-26.884052399999998],[152.9900581,-26.880374400000004],[152.9927651,-26.881490399999993],[152.9966911,-26.881510399999996],[152.9987401,-26.8841854],[153.0027381,-26.8847584],[153.0037571,-26.879041399999995],[153.0057651,-26.879092400000005],[153.0083221,-26.877096399999992],[153.0041801,-26.891471400000007],[152.9990351,-26.905838399999993],[152.9967811,-26.911436400000003],[152.9943361,-26.921576400000003],[152.9938061,-26.9309087]]]]}},{"type":"Feature","properties":{"suburb_name":"Jollys Lookout","suburb_areasqkm":3.5575,"address_cnt":44.0,"address_density_sqkm":12.0,"tp":"Suburb : Jollys Lookout<br>Density per sqkm: 12"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.8316981,-27.409597400000003],[152.8342739,-27.410690500000005],[152.8418491,-27.4121344],[152.8491549,-27.416949399999996],[152.8527761,-27.4174395],[152.8530141,-27.4161404],[152.86312460000002,-27.417652600000004],[152.8624568,-27.4212089],[152.861154,-27.422362400000008],[152.858295,-27.4209714],[152.8530321,-27.420587399999988],[152.84932010000003,-27.421935399999995],[152.8472461,-27.419574400000002],[152.8427761,-27.4176474],[152.8367981,-27.418843399999993],[152.8311631,-27.416937400000002],[152.8276011,-27.414649399999995],[152.8257031,-27.412266400000004],[152.8208551,-27.41068539999999],[152.8153831,-27.405252399999995],[152.8141611,-27.402103399999998],[152.8059691,-27.400732400000003],[152.8062441,-27.3987914],[152.8092171,-27.400063400000004],[152.8147691,-27.400093399999992],[152.8151209,-27.397974599999994],[152.8191421,-27.398553399999994],[152.820505,-27.402038400000002],[152.822467,-27.402901400000005],[152.83117,-27.4086614],[152.8316981,-27.409597400000003]]]]}},{"type":"Feature","properties":{"suburb_name":"Mansfield (Qld)","suburb_areasqkm":4.881,"address_cnt":4080.0,"address_density_sqkm":836.0,"tp":"Suburb : Mansfield (Qld)<br>Density per sqkm: 836"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0938066,-27.543766599999998],[153.0924429,-27.543556499999998],[153.0932331,-27.538975499999996],[153.0965247,-27.5329117],[153.0944048,-27.532605500000003],[153.097201,-27.517490399999993],[153.104324,-27.5186686],[153.103481,-27.522361599999993],[153.101657,-27.525310599999994],[153.105751,-27.5288766],[153.1109869,-27.526428499999998],[153.1130999,-27.526475499999997],[153.1142164,-27.529291299999997],[153.1122918,-27.5313714],[153.1094258,-27.5310274],[153.1087419,-27.5347074],[153.1203179,-27.536438299999993],[153.117199,-27.541677500000006],[153.1174148,-27.545101],[153.1111402,-27.546630500000006],[153.1005301,-27.5447916],[153.09905,-27.548267799999998],[153.0958538,-27.5477872],[153.0954669,-27.5440224],[153.0938066,-27.543766599999998]]]]}},{"type":"Feature","properties":{"suburb_name":"Samford Valley","suburb_areasqkm":20.3127,"address_cnt":1293.0,"address_density_sqkm":64.0,"tp":"Suburb : Samford Valley<br>Density per sqkm: 64"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.883023,-27.3534884],[152.8849349,-27.352815399999994],[152.8868012,-27.355458500000005],[152.8898491,-27.3527854],[152.8943932,-27.3502604],[152.8956201,-27.352703500000008],[152.9010161,-27.3561184],[152.9035451,-27.355197499999996],[152.9056299,-27.356828399999994],[152.9073928,-27.3531263],[152.9046271,-27.3696424],[152.9037937,-27.373387699999995],[152.9044111,-27.37598739999999],[152.9062164,-27.3778193],[152.9060501,-27.3804624],[152.9041809,-27.3821584],[152.9003951,-27.3814874],[152.8994289,-27.382194399999992],[152.894237,-27.3809774],[152.8913311,-27.3782434],[152.893,-27.374564500000005],[152.88939710000002,-27.3727704],[152.889354,-27.37044109999999],[152.88743690000004,-27.368934400000004],[152.8882778,-27.367384599999998],[152.8823199,-27.366589500000003],[152.88000490000002,-27.368496600000004],[152.879027,-27.37454440000001],[152.875027,-27.377381400000004],[152.8792575,-27.3821529],[152.8760681,-27.3840444],[152.876185,-27.3876104],[152.868875,-27.38935739999999],[152.8686201,-27.390742399999997],[152.8655799,-27.3917934],[152.8541455,-27.3786939],[152.8375229,-27.376426499999997],[152.836205,-27.3747214],[152.830779,-27.377644399999998],[152.8327111,-27.367487399999998],[152.83451010000002,-27.3559705],[152.8395853,-27.356622499999993],[152.8392354,-27.354810000000004],[152.8441348,-27.3539935],[152.8480781,-27.353978399999995],[152.8485893,-27.351352100000003],[152.8534961,-27.351999400000004],[152.8810592,-27.355532399999998],[152.883023,-27.3534884]]]]}},{"type":"Feature","properties":{"suburb_name":"Riverhills","suburb_areasqkm":2.1628,"address_cnt":1875.0,"address_density_sqkm":867.0,"tp":"Suburb : Riverhills<br>Density per sqkm: 867"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.922631,-27.567098400000003],[152.915314,-27.565626399999996],[152.91296,-27.566622399999996],[152.909663,-27.5656484],[152.906519,-27.5667154],[152.904033,-27.5657534],[152.9018451,-27.56867589999999],[152.9024158,-27.566347900000004],[152.896779,-27.562685400000003],[152.895207,-27.560987400000002],[152.897469,-27.559396400000004],[152.9054717,-27.5573929],[152.9076074,-27.555650399999994],[152.9142806,-27.556739799999995],[152.9148494,-27.5559919],[152.9174215,-27.5578058],[152.916796,-27.5609905],[152.922711,-27.561761399999995],[152.920785,-27.564696399999992],[152.922631,-27.567098400000003]]]]}},{"type":"Feature","properties":{"suburb_name":"Bannockburn (Qld)","suburb_areasqkm":1.5851,"address_cnt":511.0,"address_density_sqkm":322.0,"tp":"Suburb : Bannockburn (Qld)<br>Density per sqkm: 322"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.197475,-27.754578499999997],[153.19885,-27.759008499999997],[153.197972,-27.7640995],[153.193943,-27.7668165],[153.1907482,-27.766412299999995],[153.186604,-27.763750500000004],[153.185525,-27.7614675],[153.186863,-27.753015499999993],[153.197475,-27.754578499999997]]]]}},{"type":"Feature","properties":{"suburb_name":"Brisbane Airport","suburb_areasqkm":32.4432,"address_cnt":925.0,"address_density_sqkm":29.0,"tp":"Suburb : Brisbane Airport<br>Density per sqkm: 29"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.095239,-27.428418900000004],[153.092976,-27.428577699999998],[153.094396,-27.419950500000002],[153.08950000000002,-27.4153815],[153.086033,-27.41536749999999],[153.08436110000002,-27.4189634],[153.079295,-27.4200945],[153.0768981,-27.4173525],[153.076551,-27.415722500000008],[153.0772142,-27.410428500000002],[153.0757902,-27.408397700000002],[153.07449,-27.405838499999994],[153.0751859,-27.403454499999988],[153.0784461,-27.3996764],[153.0829569,-27.396172499999995],[153.0873569,-27.3940947],[153.0906832,-27.39327749999999],[153.0933332,-27.390768399999992],[153.0954662,-27.385614399999994],[153.099154,-27.382577499999996],[153.105984,-27.3779795],[153.106537,-27.3761825],[153.102792,-27.362100500000004],[153.102915,-27.360140500000004],[153.105561,-27.351693500000007],[153.1080641,-27.3480845],[153.112163,-27.349458899999995],[153.114499,-27.349413899999995],[153.1194989,-27.351650900000006],[153.1224418,-27.3523919],[153.1315097,-27.356876800000002],[153.1351436,-27.3596668],[153.13862360000002,-27.361139799999997],[153.1417798,-27.3624624],[153.1431517,-27.366227500000004],[153.1371656,-27.376678400000003],[153.141175,-27.3791315],[153.138896,-27.382581500000008],[153.140574,-27.383608400000007],[153.13411,-27.3920255],[153.13116,-27.40226749999999],[153.132347,-27.402536399999995],[153.130904,-27.4103195],[153.1282081,-27.417104499999997],[153.121713,-27.4174935],[153.1162983,-27.420395700000004],[153.1178049,-27.424883499999996],[153.1160597,-27.426649100000006],[153.1073074,-27.4255519],[153.104567,-27.421418499999994],[153.096709,-27.4204275],[153.095239,-27.428418900000004]]]]}},{"type":"Feature","properties":{"suburb_name":"Ransome","suburb_areasqkm":4.8928,"address_cnt":177.0,"address_density_sqkm":36.0,"tp":"Suburb : Ransome<br>Density per sqkm: 36"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.192016,-27.476275499999996],[153.197131,-27.474122499999996],[153.197584,-27.480123499999998],[153.196527,-27.48155450000001],[153.188117,-27.484036499999988],[153.186683,-27.4875215],[153.187456,-27.490888499999993],[153.191797,-27.492293499999995],[153.192143,-27.495330499999994],[153.189442,-27.494290499999995],[153.187981,-27.495044499999995],[153.18579,-27.4982235],[153.186344,-27.500307500000005],[153.184719,-27.501550499999997],[153.1781526,-27.500531200000005],[153.1792471,-27.494929499999994],[153.1687207,-27.493304299999995],[153.1677262,-27.491304199999988],[153.1666147,-27.487314299999998],[153.1670727,-27.484877299999994],[153.171375,-27.485495499999995],[153.173094,-27.482553499999998],[153.17586600000004,-27.482987499999997],[153.176404,-27.480286500000002],[153.172788,-27.479701500000004],[153.17484,-27.477631499999998],[153.177989,-27.476047500000004],[153.184043,-27.474877499999995],[153.185229,-27.472752500000002],[153.188453,-27.4743145],[153.189545,-27.47606749999999],[153.192016,-27.476275499999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Woongoolba","suburb_areasqkm":30.472,"address_cnt":247.0,"address_density_sqkm":8.0,"tp":"Suburb : Woongoolba<br>Density per sqkm: 8"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.357023,-27.722247499999995],[153.348836,-27.721051499999994],[153.3445,-27.721447500000004],[153.339116,-27.7192135],[153.337151,-27.722196499999992],[153.3347709,-27.724364499999997],[153.326561,-27.723210499999997],[153.328385,-27.7304055],[153.3270382,-27.732956599999998],[153.324683,-27.746034499999997],[153.335804,-27.7475925],[153.335649,-27.750337499999993],[153.339776,-27.75426950000001],[153.34466920000003,-27.760761500000005],[153.3412909,-27.760325500000008],[153.339195,-27.7625025],[153.33985,-27.7638415],[153.3300345,-27.766179199999996],[153.32651100000004,-27.766625499999993],[153.3244606,-27.765886199999997],[153.3211863,-27.766427000000004],[153.316978,-27.7658965],[153.31664,-27.767879499999996],[153.310021,-27.766993500000005],[153.310249,-27.7644265],[153.306263,-27.7639085],[153.3018886,-27.762566200000002],[153.302649,-27.758196500000004],[153.301004,-27.7564785],[153.301929,-27.7550805],[153.300178,-27.7503425],[153.291657,-27.7491825],[153.291155,-27.745038499999996],[153.289521,-27.744031499999988],[153.286354,-27.739590499999995],[153.282387,-27.730497500000002],[153.281816,-27.722758499999998],[153.296897,-27.724908500000005],[153.29855,-27.7156855],[153.2996454,-27.711686200000003],[153.3036653,-27.7144601],[153.3094562,-27.71397909999999],[153.3124102,-27.7121701],[153.3164219,-27.712273499999995],[153.32124100000001,-27.710227999999994],[153.32359,-27.707182999999997],[153.3246029,-27.702246],[153.3262639,-27.698738],[153.3280598,-27.696992000000005],[153.3321967,-27.696224000000004],[153.33874510000004,-27.698253500000003],[153.3419176,-27.697894900000005],[153.3481055,-27.695108899999997],[153.3521265,-27.697823900000003],[153.353378,-27.699772499999998],[153.3546035,-27.706618800000005],[153.3565105,-27.711681800000004],[153.3589652,-27.710949799999998],[153.359404,-27.714340499999988],[153.357273,-27.719344500000005],[153.357023,-27.722247499999995]]]]}},{"type":"Feature","properties":{"suburb_name":"Brookfield (Qld)","suburb_areasqkm":21.3704,"address_cnt":1471.0,"address_density_sqkm":69.0,"tp":"Suburb : Brookfield (Qld)<br>Density per sqkm: 69"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.92347120000002,-27.521298899999994],[152.9224942,-27.5211349],[152.9213286,-27.519117299999998],[152.9161417,-27.518335099999998],[152.9164469,-27.5167444],[152.9122176,-27.5152027],[152.9122584,-27.5138389],[152.9074538,-27.513094899999995],[152.905248,-27.511830799999995],[152.9057156,-27.509412399999995],[152.901639,-27.508748499999996],[152.89887,-27.506740399999995],[152.8995263,-27.503251400000007],[152.893775,-27.502424899999998],[152.8900002,-27.5008121],[152.8885514,-27.4992124],[152.8864792,-27.495277999999992],[152.8842596,-27.494247899999998],[152.8868601,-27.4907214],[152.8899423,-27.490729499999997],[152.8922139,-27.489652099999997],[152.8929635,-27.484361299999996],[152.8900113,-27.48258209999999],[152.8858971,-27.482013400000003],[152.8832811,-27.478787399999998],[152.8817653,-27.479777299999995],[152.8763421,-27.4731894],[152.8745761,-27.472196400000005],[152.8712921,-27.468173499999995],[152.8892781,-27.456490399999993],[152.8922891,-27.457854400000006],[152.8963681,-27.45703139999999],[152.902429,-27.459890400000006],[152.9089644,-27.45624729999999],[152.91734,-27.457061400000004],[152.9202251,-27.459923400000008],[152.919683,-27.462828400000003],[152.9169771,-27.46685340000001],[152.9153931,-27.4707904],[152.9197852,-27.471440700000002],[152.9185064,-27.480832500000005],[152.9161012,-27.48282650000001],[152.922529,-27.483752099999993],[152.92325420000003,-27.480015200000008],[152.9274365,-27.480611800000002],[152.927601,-27.482491499999995],[152.9257989,-27.489337399999997],[152.92257,-27.490616400000008],[152.9216141,-27.4933964],[152.9168341,-27.496255399999992],[152.912627,-27.50201240000001],[152.9138282,-27.504086400000002],[152.9176471,-27.50382439999999],[152.9193991,-27.505909399999997],[152.921339,-27.506080400000002],[152.926769,-27.5046724],[152.925883,-27.501845399999997],[152.93083400000003,-27.502411399999996],[152.930307,-27.5045364],[152.9263771,-27.5087954],[152.92896,-27.510183399999992],[152.927999,-27.512665400000003],[152.925744,-27.514535399999993],[152.925038,-27.518080400000002],[152.927188,-27.520569399999996],[152.92347120000002,-27.521298899999994]]]]}},{"type":"Feature","properties":{"suburb_name":"Gilberton (Gold Coast - Qld)","suburb_areasqkm":8.7981,"address_cnt":50.0,"address_density_sqkm":6.0,"tp":"Suburb : Gilberton (Gold Coast - Qld)<br>Density per sqkm: 6"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.2569138,-27.750155499999995],[153.261443,-27.744620500000003],[153.261204,-27.7433805],[153.265097,-27.740011499999998],[153.265819,-27.737567500000004],[153.268099,-27.724511499999995],[153.269452,-27.724491499999996],[153.270069,-27.7210845],[153.281816,-27.722758499999998],[153.282387,-27.730497500000002],[153.286354,-27.739590499999995],[153.289521,-27.744031499999988],[153.291155,-27.745038499999996],[153.291657,-27.7491825],[153.2819029,-27.7497315],[153.2744059,-27.748683399999997],[153.2732263,-27.7554791],[153.27575350000004,-27.7558113],[153.2741211,-27.75945949999999],[153.2729839,-27.765714499999994],[153.26667960000003,-27.7679016],[153.2648129,-27.766453100000007],[153.2652312,-27.762809700000005],[153.263126,-27.7608285],[153.261004,-27.762392500000004],[153.2584939,-27.761617499999993],[153.2610179,-27.759384400000005],[153.259846,-27.7566275],[153.2576428,-27.758066499999995],[153.25554900000003,-27.7565305],[153.2569309,-27.7533005],[153.259345,-27.7531395],[153.260361,-27.750754499999992],[153.2569138,-27.750155499999995]]]]}},{"type":"Feature","properties":{"suburb_name":"Highvale","suburb_areasqkm":26.2215,"address_cnt":747.0,"address_density_sqkm":28.0,"tp":"Suburb : Highvale<br>Density per sqkm: 28"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.8375229,-27.376426499999997],[152.8349638,-27.390438800000002],[152.8332727,-27.3896155],[152.8330392,-27.3965494],[152.8302133,-27.40230279999999],[152.8317155,-27.402498100000003],[152.8316981,-27.409597400000003],[152.83117,-27.4086614],[152.822467,-27.402901400000005],[152.820505,-27.402038400000002],[152.8191421,-27.398553399999994],[152.8151209,-27.397974599999994],[152.8147691,-27.400093399999992],[152.8092171,-27.400063400000004],[152.8062441,-27.3987914],[152.8059691,-27.400732400000003],[152.8015981,-27.3987954],[152.7993311,-27.401636399999997],[152.7948231,-27.400752399999988],[152.7928451,-27.401703399999988],[152.7914552,-27.399947400000002],[152.7908564,-27.3960773],[152.7898387,-27.394722699999992],[152.7851121,-27.393513400000007],[152.7849781,-27.387767499999995],[152.7895359,-27.384647899999994],[152.7939766,-27.382225199999993],[152.7961971,-27.383609500000002],[152.7987881,-27.38257339999999],[152.796276,-27.3789224],[152.7919386,-27.376845499999998],[152.792961,-27.37586229999999],[152.791436,-27.3700984],[152.7919142,-27.3671215],[152.796371,-27.3676975],[152.7951201,-27.364390399999998],[152.7892211,-27.363673400000003],[152.7890341,-27.360352400000004],[152.7897511,-27.357775399999998],[152.788236,-27.350274399999993],[152.7889461,-27.349348400000004],[152.789354,-27.347036699999993],[152.7911625,-27.345865199999995],[152.7923437,-27.339212799999995],[152.7942425,-27.337856100000003],[152.7986925,-27.338476600000007],[152.80057110000004,-27.341226499999994],[152.8042276,-27.343898100000004],[152.8095264,-27.342065399999992],[152.8082505,-27.345162099999996],[152.8188552,-27.3473854],[152.8214285,-27.346892999999994],[152.8202931,-27.35356240000001],[152.828464,-27.356274500000005],[152.8282551,-27.351767399999996],[152.8349799,-27.352749399999997],[152.83451010000002,-27.3559705],[152.8327111,-27.367487399999998],[152.830779,-27.377644399999998],[152.836205,-27.3747214],[152.8375229,-27.376426499999997]]]]}},{"type":"Feature","properties":{"suburb_name":"Kingsholme","suburb_areasqkm":20.0924,"address_cnt":405.0,"address_density_sqkm":20.0,"tp":"Suburb : Kingsholme<br>Density per sqkm: 20"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.233952,-27.850826499999993],[153.2321477,-27.8543959],[153.2225772,-27.85301],[153.221032,-27.8549245],[153.217947,-27.8554645],[153.216264,-27.8583035],[153.208926,-27.857133500000003],[153.210008,-27.851491500000005],[153.211003,-27.851685500000002],[153.2125469,-27.846532499999988],[153.2138566,-27.839021099999997],[153.210033,-27.838479499999995],[153.211193,-27.8315735],[153.208266,-27.8291325],[153.214098,-27.827440500000005],[153.214237,-27.825494499999998],[153.211989,-27.8228535],[153.212154,-27.818337500000002],[153.2112596,-27.814796399999995],[153.2119025,-27.812631399999997],[153.2107475,-27.809238500000003],[153.2081569,-27.8062845],[153.2081395,-27.802920499999995],[153.2100105,-27.800632500000003],[153.212317,-27.8025675],[153.2156708,-27.803708399999994],[153.2209949,-27.809042499999997],[153.2276699,-27.8131025],[153.230569,-27.810908400000002],[153.234538,-27.8098535],[153.2373649,-27.804730399999993],[153.2423221,-27.80542399999999],[153.2454619,-27.8045955],[153.2471705,-27.805230100000003],[153.250904,-27.80938950000001],[153.2536951,-27.805991499999998],[153.2539201,-27.804616399999997],[153.257643,-27.802205499999996],[153.25749800000003,-27.798488499999994],[153.261162,-27.7984045],[153.2613959,-27.7990235],[153.2617185,-27.801116199999996],[153.2603146,-27.808108399999995],[153.266356,-27.8090485],[153.264953,-27.815977499999995],[153.263401,-27.8236045],[153.255848,-27.822406499999992],[153.255263,-27.8277645],[153.252661,-27.830550500000005],[153.24848,-27.831099499999997],[153.24593900000002,-27.835285499999994],[153.242061,-27.837370500000002],[153.2378349,-27.836418499999997],[153.236176,-27.834253499999992],[153.233063,-27.8363575],[153.23370900000003,-27.837813499999996],[153.232439,-27.844250500000005],[153.234362,-27.844550499999997],[153.233498,-27.849054500000005],[153.233952,-27.850826499999993]]]]}},{"type":"Feature","properties":{"suburb_name":"Bracalba","suburb_areasqkm":22.1828,"address_cnt":75.0,"address_density_sqkm":3.0,"tp":"Suburb : Bracalba<br>Density per sqkm: 3"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.8544171,-26.9710494],[152.8547731,-26.973901399999995],[152.8529141,-26.9754354],[152.8520292,-26.978804900000004],[152.8557228,-26.9834344],[152.8545471,-26.98752439999999],[152.8603772,-26.991690400000003],[152.860864,-26.994446399999998],[152.8638774,-26.995268600000003],[152.8608111,-27.011992400000004],[152.8543367,-27.011044],[152.8503904,-27.0057899],[152.8413041,-27.01162160000001],[152.843261,-27.0168328],[152.8359566,-27.021483899999993],[152.8401092,-27.026973399999996],[152.8251311,-27.0367374],[152.8223984,-27.035555100000007],[152.817732,-27.029816400000005],[152.8081841,-27.028507399999995],[152.8091721,-27.025420399999998],[152.8131491,-27.0164634],[152.8133811,-27.012553400000005],[152.8123041,-27.008476399999996],[152.8121111,-27.004450399999996],[152.8101501,-27.002654399999997],[152.8087651,-26.998914399999993],[152.8092001,-26.997605399999998],[152.8103528,-26.997744399999995],[152.8149271,-26.991441399999996],[152.8151841,-26.989720400000003],[152.8173471,-26.988868399999998],[152.8203301,-26.9892174],[152.8232061,-26.986648399999996],[152.823514,-26.984375400000005],[152.8264651,-26.9813174],[152.8327891,-26.981566399999995],[152.8351289,-26.9791993],[152.8404748,-26.979336300000003],[152.8446651,-26.9783474],[152.8458671,-26.9699764],[152.8544171,-26.9710494]]]]}},{"type":"Feature","properties":{"suburb_name":"Carole Park","suburb_areasqkm":3.9799,"address_cnt":342.0,"address_density_sqkm":86.0,"tp":"Suburb : Carole Park<br>Density per sqkm: 86"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.940723,-27.6234204],[152.941663,-27.626475400000004],[152.940793,-27.6286594],[152.93937340000002,-27.636249099999997],[152.9305856,-27.6348316],[152.9327739,-27.625353299999997],[152.918651,-27.623139499999997],[152.9179515,-27.621744799999988],[152.9145121,-27.6211985],[152.916265,-27.6167254],[152.919176,-27.613333499999996],[152.922852,-27.6068674],[152.926959,-27.610309399999995],[152.934105,-27.613850400000004],[152.938389,-27.618997399999994],[152.940723,-27.6234204]]]]}},{"type":"Feature","properties":{"suburb_name":"Kiels Mountain","suburb_areasqkm":4.6356,"address_cnt":384.0,"address_density_sqkm":83.0,"tp":"Suburb : Kiels Mountain<br>Density per sqkm: 83"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9975311,-26.669662400000004],[152.9960612,-26.662913400000008],[152.9936551,-26.657269399999997],[152.9918011,-26.6544214],[152.9974461,-26.653339399999993],[153.0007741,-26.6508924],[153.0023092,-26.6470504],[153.0081431,-26.6479494],[153.0138682,-26.64830239999999],[153.0161241,-26.647124400000003],[153.0214652,-26.6471787],[153.0206442,-26.651618400000004],[153.0231321,-26.653393400000002],[153.0208121,-26.655889400000003],[153.0211522,-26.65761639999999],[153.0178801,-26.660389400000003],[153.01855410000002,-26.663616400000002],[153.0156541,-26.663950399999994],[153.0124741,-26.66579239999999],[153.0070095,-26.6649647],[153.00734080000004,-26.663191100000006],[153.002195,-26.662430399999998],[153.0007812,-26.668718399999992],[152.9975311,-26.669662400000004]]]]}},{"type":"Feature","properties":{"suburb_name":"Kureelpa","suburb_areasqkm":19.0219,"address_cnt":544.0,"address_density_sqkm":29.0,"tp":"Suburb : Kureelpa<br>Density per sqkm: 29"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9126572,-26.627471399999994],[152.9121142,-26.6284404],[152.9094792,-26.6293174],[152.9066181,-26.628908399999993],[152.9072631,-26.625228400000005],[152.8973021,-26.623889400000003],[152.8966371,-26.6276334],[152.8826302,-26.625265400000004],[152.8772901,-26.613350400000005],[152.8666412,-26.6117104],[152.8665092,-26.6123954],[152.8539611,-26.610421400000007],[152.8561572,-26.606601399999995],[152.8550182,-26.6050964],[152.8586202,-26.602884399999997],[152.8607271,-26.6032824],[152.8629252,-26.600831399999997],[152.8616093,-26.599563999999997],[152.8660072,-26.5926374],[152.8643422,-26.590025399999995],[152.8658751,-26.587567400000008],[152.8806872,-26.591623399999992],[152.8866832,-26.5924384],[152.8896412,-26.59118140000001],[152.8912662,-26.588295399999993],[152.89307810000003,-26.59110739999999],[152.8956652,-26.591650399999992],[152.8977482,-26.590132399999998],[152.9019972,-26.590745400000003],[152.9049541,-26.5899704],[152.9053631,-26.588416399999996],[152.9091931,-26.589064399999998],[152.9094332,-26.587330400000003],[152.9135872,-26.587894400000003],[152.9132973,-26.5896174],[152.9186681,-26.590425400000004],[152.9180961,-26.5938618],[152.9147741,-26.593382399999992],[152.9143452,-26.597659400000005],[152.9111412,-26.598545400000003],[152.9104421,-26.603423399999997],[152.9135692,-26.603850399999995],[152.9116901,-26.606606400000004],[152.9138952,-26.611134400000005],[152.9212004,-26.612093900000005],[152.9201433,-26.618484299999995],[152.9172072,-26.619207399999997],[152.9167831,-26.622085399999992],[152.9139692,-26.623572400000004],[152.9126572,-26.627471399999994]]]]}},{"type":"Feature","properties":{"suburb_name":"North Maleny","suburb_areasqkm":23.0949,"address_cnt":415.0,"address_density_sqkm":18.0,"tp":"Suburb : North Maleny<br>Density per sqkm: 18"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.8570131,-26.723879399999998],[152.8592541,-26.71047039999999],[152.85777510000003,-26.7085634],[152.8525792,-26.7078544],[152.8552365,-26.691301100000004],[152.8544243,-26.6889178],[152.8562461,-26.689155400000004],[152.8569998,-26.684461199999998],[152.8704219,-26.6862985],[152.86972,-26.690513400000007],[152.8699211,-26.694569399999995],[152.8768471,-26.695505399999995],[152.8780412,-26.6978384],[152.8844214,-26.698723999999995],[152.8834241,-26.704673399999997],[152.8888892,-26.705393699999988],[152.8872885,-26.7151594],[152.8867671,-26.718268399999996],[152.8852302,-26.719470399999995],[152.8815372,-26.718045399999994],[152.8804491,-26.7262184],[152.8810442,-26.727637399999992],[152.8847331,-26.7281354],[152.8853871,-26.7243514],[152.8872212,-26.724289399999996],[152.8878182,-26.727732399999994],[152.8933851,-26.728542400000002],[152.8948601,-26.7306284],[152.8937792,-26.735705400000004],[152.8886631,-26.73492739999999],[152.8881022,-26.738325399999997],[152.8847431,-26.741369399999993],[152.8834751,-26.738523399999988],[152.88069610000002,-26.739542399999998],[152.8800922,-26.742021399999995],[152.8821462,-26.745943399999994],[152.8842091,-26.7474194],[152.8833601,-26.751092399999997],[152.8840621,-26.753178399999996],[152.8815111,-26.7554024],[152.8854911,-26.758118400000004],[152.8838211,-26.759618399999997],[152.8812911,-26.7580454],[152.8799691,-26.761973400000002],[152.8746591,-26.762970400000004],[152.8734351,-26.7591084],[152.8702911,-26.7593014],[152.8703071,-26.7610184],[152.8725551,-26.764627399999995],[152.8715491,-26.766528399999995],[152.8684131,-26.763842399999998],[152.8661761,-26.7649134],[152.8675201,-26.7674554],[152.8646681,-26.767696399999988],[152.8638812,-26.7634964],[152.8585702,-26.7625164],[152.859163,-26.760349100000003],[152.8569471,-26.759487399999998],[152.8581981,-26.752410399999995],[152.8594531,-26.751425400000006],[152.8605371,-26.74534239999999],[152.8510132,-26.74399539999999],[152.8520081,-26.738302400000002],[152.8548251,-26.737154399999998],[152.8570131,-26.723879399999998]]]]}},{"type":"Feature","properties":{"suburb_name":"North Tivoli","suburb_areasqkm":1.7888,"address_cnt":80.0,"address_density_sqkm":45.0,"tp":"Suburb : North Tivoli<br>Density per sqkm: 45"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.77929360000002,-27.577304899999998],[152.7898031,-27.574491399999996],[152.7931382,-27.573714399999997],[152.79873620000004,-27.574881399999995],[152.7974661,-27.5825444],[152.794271,-27.583209399999998],[152.789737,-27.585244399999997],[152.7859781,-27.586331400000002],[152.7804788,-27.5814666],[152.77929360000002,-27.577304899999998]]]]}},{"type":"Feature","properties":{"suburb_name":"Reesville","suburb_areasqkm":27.5053,"address_cnt":310.0,"address_density_sqkm":11.0,"tp":"Suburb : Reesville<br>Density per sqkm: 11"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.7616082,-26.7893774],[152.7569092,-26.789013400000005],[152.7582482,-26.786782399999993],[152.7568701,-26.784180399999997],[152.7484582,-26.7828584],[152.7488651,-26.779956400000003],[152.7444032,-26.781260400000004],[152.7344402,-26.77972539999999],[152.7355361,-26.77417339999999],[152.73496820000003,-26.7737604],[152.7313601,-26.764505400000008],[152.7355341,-26.765317399999997],[152.7360021,-26.767131399999997],[152.7382162,-26.76814540000001],[152.7414971,-26.768148400000005],[152.7429892,-26.769340400000004],[152.7451212,-26.7755244],[152.7495212,-26.777227399999997],[152.7553832,-26.7764184],[152.7597782,-26.777540400000003],[152.7609251,-26.776474399999994],[152.7693681,-26.7780894],[152.7713991,-26.776145399999994],[152.7713002,-26.77246540000001],[152.7693031,-26.772671399999993],[152.7714282,-26.760487400000002],[152.7707332,-26.758973399999995],[152.7677421,-26.757924399999997],[152.7643682,-26.758728400000003],[152.7659442,-26.7496704],[152.7634319,-26.747519100000005],[152.7628872,-26.743641400000012],[152.7617542,-26.743565399999998],[152.7610081,-26.737227400000002],[152.76912110000004,-26.7362724],[152.7842001,-26.738242400000004],[152.7876561,-26.735114400000004],[152.7883231,-26.731545400000005],[152.7923422,-26.730147399999996],[152.7979382,-26.7325064],[152.7995782,-26.7323864],[152.8058881,-26.7315174],[152.8036451,-26.744010400000004],[152.8129832,-26.74531039999999],[152.8123321,-26.748860400000005],[152.8175581,-26.7496377],[152.8168661,-26.753350400000002],[152.8210575,-26.753927499999993],[152.8230511,-26.755379400000006],[152.8257971,-26.755232399999993],[152.8288581,-26.7580624],[152.8302981,-26.75835839999999],[152.8305002,-26.763182400000005],[152.8312802,-26.767015400000005],[152.8343931,-26.7686684],[152.8338202,-26.771592399999992],[152.8327691,-26.770185400000003],[152.8267722,-26.769672399999997],[152.8229382,-26.768080399999995],[152.8192002,-26.7692204],[152.8204112,-26.7717334],[152.8188571,-26.775057399999998],[152.8170982,-26.77244439999999],[152.81460620000001,-26.771366400000005],[152.8109162,-26.771853399999994],[152.8077551,-26.769573400000002],[152.8068921,-26.771020399999998],[152.8038421,-26.770103399999993],[152.8018178,-26.781312299999993],[152.7964611,-26.7805424],[152.79590710000002,-26.783654399999996],[152.7923942,-26.7831414],[152.7912981,-26.7809504],[152.7872711,-26.7784344],[152.7756981,-26.776788400000004],[152.7739382,-26.776794400000004],[152.7700191,-26.779185399999992],[152.7664531,-26.7799114],[152.7674291,-26.781727399999998],[152.7616082,-26.7893774]]]]}},{"type":"Feature","properties":{"suburb_name":"Samford Village","suburb_areasqkm":1.5284,"address_cnt":691.0,"address_density_sqkm":452.0,"tp":"Suburb : Samford Village<br>Density per sqkm: 452"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.8913311,-27.3782434],[152.8904901,-27.379163500000008],[152.8840191,-27.377523399999998],[152.8806549,-27.378602400000005],[152.8792575,-27.3821529],[152.875027,-27.377381400000004],[152.879027,-27.37454440000001],[152.88000490000002,-27.368496600000004],[152.8823199,-27.366589500000003],[152.8882778,-27.367384599999998],[152.88743690000004,-27.368934400000004],[152.889354,-27.37044109999999],[152.88939710000002,-27.3727704],[152.893,-27.374564500000005],[152.8913311,-27.3782434]]]]}},{"type":"Feature","properties":{"suburb_name":"Toorbul","suburb_areasqkm":18.9617,"address_cnt":625.0,"address_density_sqkm":33.0,"tp":"Suburb : Toorbul<br>Density per sqkm: 33"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0960191,-27.054795500000008],[153.0889811,-27.055697399999993],[153.0867271,-27.056954399999995],[153.0811951,-27.055804399999992],[153.0792241,-27.053721499999998],[153.0715521,-27.053382399999997],[153.0676381,-27.051826400000003],[153.0670481,-27.0486204],[153.0635441,-27.04807239999999],[153.0622931,-27.052401399999997],[153.0603511,-27.055311500000006],[153.0566681,-27.0555194],[153.0530641,-27.050564400000003],[153.0504281,-27.051886399999994],[153.0484161,-27.050540500000007],[153.0455831,-27.050480400000005],[153.0461051,-27.0457865],[153.0477401,-27.043547499999995],[153.0442901,-27.0420634],[153.0438931,-27.0451334],[153.0398001,-27.044770500000002],[153.0356371,-27.0442855],[153.0362631,-27.039621399999994],[153.023567,-27.0376814],[153.024971,-27.029835399999996],[153.0236091,-27.0278665],[153.0255481,-27.0171194],[153.0283361,-27.017281399999998],[153.0314631,-27.017545400000003],[153.0332521,-27.0201435],[153.0306101,-27.021042399999995],[153.0320471,-27.0232574],[153.0363501,-27.025999400000003],[153.0391951,-27.0237654],[153.0441271,-27.025433400000004],[153.0403601,-27.028567399999996],[153.0401111,-27.0308794],[153.0448771,-27.028342499999997],[153.0512891,-27.029906399999998],[153.0552241,-27.032770399999997],[153.0623271,-27.034305399999994],[153.06411410000004,-27.0332864],[153.0696011,-27.0335114],[153.0719301,-27.0346164],[153.0733231,-27.036801399999998],[153.0713641,-27.0389284],[153.0733671,-27.0409694],[153.0764751,-27.041866499999994],[153.0798671,-27.040323399999995],[153.07981610000002,-27.035271399999992],[153.0810071,-27.029277399999998],[153.0837011,-27.026174499999993],[153.0848911,-27.027165100000005],[153.0888751,-27.025841],[153.093737,-27.027508],[153.1004219,-27.0326719],[153.1026529,-27.035049899999997],[153.103432,-27.039695899999998],[153.1051179,-27.043321900000002],[153.1076589,-27.0453418],[153.1090929,-27.0486048],[153.1111089,-27.049857799999995],[153.1126119,-27.0528588],[153.1111429,-27.0567868],[153.1064851,-27.057921800000003],[153.0960191,-27.054795500000008]]]]}},{"type":"Feature","properties":{"suburb_name":"Cambroon","suburb_areasqkm":37.3527,"address_cnt":127.0,"address_density_sqkm":3.0,"tp":"Suburb : Cambroon<br>Density per sqkm: 3"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.7233716,-26.644849899999997],[152.7185452,-26.6465484],[152.7175631,-26.644489400000005],[152.7120843,-26.643433399999996],[152.7090653,-26.6420804],[152.70659400000002,-26.642420700000002],[152.7044861,-26.655212399999993],[152.7042312,-26.6587164],[152.7023951,-26.6634414],[152.7063282,-26.668448400000003],[152.7091682,-26.670142399999996],[152.7091142,-26.67314240000001],[152.7079812,-26.675468399999996],[152.7109782,-26.677902400000004],[152.7092442,-26.680089399999996],[152.7118202,-26.683565400000006],[152.6979462,-26.6812924],[152.6836211,-26.679337400000005],[152.6845542,-26.673147400000005],[152.6605212,-26.66982640000001],[152.6520482,-26.668691400000004],[152.6512382,-26.672806399999995],[152.6349232,-26.6706764],[152.6342872,-26.674259400000004],[152.6330112,-26.675094400000003],[152.6282662,-26.6754624],[152.6248032,-26.6724604],[152.6292292,-26.6707314],[152.6286262,-26.668626400000008],[152.6295612,-26.658954400000002],[152.6313062,-26.657844400000002],[152.6369452,-26.6512914],[152.6405182,-26.6504924],[152.6431992,-26.6528464],[152.6446282,-26.65176440000001],[152.6438962,-26.649288399999996],[152.6456512,-26.6485004],[152.6466322,-26.64454139999999],[152.6493552,-26.643853399999998],[152.6461512,-26.6403434],[152.6475242,-26.6387334],[152.6479082,-26.635791400000002],[152.6517912,-26.634447399999996],[152.6522362,-26.629784400000002],[152.6548652,-26.628679399999996],[152.6579072,-26.626316399999986],[152.6590502,-26.629070399999996],[152.6636842,-26.629095400000004],[152.6656912,-26.6162414],[152.6696751,-26.6175414],[152.6719821,-26.617160399999996],[152.6755092,-26.6152704],[152.677295,-26.617486299999996],[152.6737642,-26.618454400000005],[152.6731782,-26.6199694],[152.6751002,-26.62240939999999],[152.68180920000003,-26.622131400000004],[152.6845212,-26.626669399999994],[152.6889352,-26.6238224],[152.6915382,-26.623485399999993],[152.6940092,-26.621849399999988],[152.69784320000002,-26.6236484],[152.6990902,-26.627940399999996],[152.7013692,-26.6294374],[152.7007002,-26.63330739999999],[152.7054502,-26.63515539999999],[152.7074542,-26.637174399999996],[152.7084163,-26.6341852],[152.7154063,-26.63506190000001],[152.7159556,-26.639288899999997],[152.7194676,-26.642069899999992],[152.7217826,-26.642472899999998],[152.7233716,-26.644849899999997]]]]}},{"type":"Feature","properties":{"suburb_name":"Numinbah Valley","suburb_areasqkm":58.2248,"address_cnt":118.0,"address_density_sqkm":2.0,"tp":"Suburb : Numinbah Valley<br>Density per sqkm: 2"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.2528159,-28.200688499999995],[153.2401489,-28.199003500000003],[153.2379539,-28.1966245],[153.2342879,-28.195290499999995],[153.2305899,-28.196500499999996],[153.2287939,-28.194861500000005],[153.2275759,-28.1892485],[153.2227589,-28.1885765],[153.22072990000004,-28.1896445],[153.2220909,-28.195327499999998],[153.2177053,-28.195258799999998],[153.2145953,-28.189359499999995],[153.2153996,-28.1875494],[153.2129679,-28.184636499999996],[153.2052669,-28.183582499999996],[153.192909,-28.178979499999993],[153.1936849,-28.175956500000005],[153.1928039,-28.173794499999996],[153.1952319,-28.170356499999997],[153.1957427,-28.1669506],[153.1984167,-28.164211599999998],[153.1986336,-28.16269559999999],[153.1954457,-28.1602976],[153.1947859,-28.157495499999996],[153.1956996,-28.151201700000005],[153.1966064,-28.150517699999998],[153.2003962,-28.129982999999996],[153.1995054,-28.1298485],[153.201228,-28.1212619],[153.20027140000002,-28.120595899999994],[153.2024693,-28.117111499999996],[153.2057899,-28.11784249999999],[153.20604360000002,-28.1162895],[153.2140759,-28.117419299999995],[153.2156771,-28.108441700000004],[153.2213117,-28.1112188],[153.2227873,-28.1029393],[153.2237161,-28.103074999999997],[153.2463729,-28.106631499999995],[153.2758988,-28.110919999999997],[153.2752725,-28.114440500000004],[153.2781518,-28.116419699999994],[153.2779836,-28.118770700000002],[153.2812917,-28.119654199999996],[153.2824456,-28.113492200000003],[153.292439,-28.114957499999996],[153.291436,-28.120016199999995],[153.2958709,-28.1208495],[153.2938769,-28.1216825],[153.2921629,-28.125350499999993],[153.2896669,-28.1260185],[153.2897539,-28.128506499999997],[153.2939199,-28.129119499999995],[153.2904149,-28.13153949999999],[153.2929319,-28.132819499999997],[153.2918929,-28.1366045],[153.2849079,-28.135870500000003],[153.2840239,-28.1365275],[153.2844199,-28.141175499999996],[153.2824649,-28.1400445],[153.2795859,-28.136331499999994],[153.2780039,-28.142925499999997],[153.2674769,-28.1414745],[153.2684579,-28.1370115],[153.2735739,-28.1367525],[153.2735119,-28.134932499999998],[153.2577109,-28.132797499999995],[153.2585379,-28.136126499999996],[153.2602079,-28.136876500000003],[153.2646389,-28.1406135],[153.2635139,-28.1425755],[153.2579059,-28.1417975],[153.2572379,-28.148106499999994],[153.2478649,-28.146779500000008],[153.2490959,-28.152859499999995],[153.2465979,-28.157096499999998],[153.2489759,-28.1607385],[153.2483199,-28.168450500000006],[153.2448119,-28.168742500000004],[153.2376269,-28.167648500000002],[153.2420199,-28.174148499999998],[153.2463118,-28.178285499999994],[153.2466858,-28.180878500000002],[153.2464328,-28.1869497],[153.2488199,-28.1903875],[153.2493819,-28.19285049999999],[153.2522069,-28.194217500000004],[153.2539089,-28.198672500000004],[153.2528159,-28.200688499999995]]]]}},{"type":"Feature","properties":{"suburb_name":"Perwillowen","suburb_areasqkm":3.776,"address_cnt":181.0,"address_density_sqkm":48.0,"tp":"Suburb : Perwillowen<br>Density per sqkm: 48"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9408021,-26.6424764],[152.9350316,-26.641649099999995],[152.9339104,-26.644268199999996],[152.9207171,-26.6423484],[152.9205941,-26.643053399999996],[152.9119542,-26.6418074],[152.9128861,-26.636634400000005],[152.9110482,-26.6363664],[152.9112822,-26.631420400000003],[152.9121142,-26.6284404],[152.9126572,-26.627471399999994],[152.9238143,-26.628860100000008],[152.9265393,-26.629673300000007],[152.9288703,-26.6320133],[152.9353021,-26.6342824],[152.9399142,-26.636960499999994],[152.9412141,-26.6393094],[152.9408021,-26.6424764]]]]}},{"type":"Feature","properties":{"suburb_name":"Rush Creek","suburb_areasqkm":13.959,"address_cnt":64.0,"address_density_sqkm":5.0,"tp":"Suburb : Rush Creek<br>Density per sqkm: 5"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.886677,-27.2289914],[152.8837463,-27.228679399999997],[152.8827202,-27.2255495],[152.8799281,-27.224462399999997],[152.8754922,-27.226626399999994],[152.868596,-27.226010500000008],[152.867638,-27.221173399999998],[152.8691681,-27.220825499999997],[152.8693282,-27.21787539999999],[152.8681899,-27.2167864],[152.8647111,-27.219858399999996],[152.855919,-27.220404500000008],[152.854137,-27.2175844],[152.8524151,-27.2170244],[152.8530299,-27.211958399999997],[152.8416122,-27.210353399999995],[152.8447081,-27.192347399999996],[152.846289,-27.187438399999998],[152.8482015,-27.187700800000005],[152.8489594,-27.183368199999997],[152.8530872,-27.183935499999997],[152.85370700000001,-27.180264899999994],[152.8574414,-27.1816252],[152.8634834,-27.182435899999994],[152.8623871,-27.18940939999999],[152.8619382,-27.192362600000003],[152.8725859,-27.1938044],[152.871881,-27.1980314],[152.8692346,-27.197681499999998],[152.8685876,-27.20126119999999],[152.871033,-27.20161409999999],[152.8736231,-27.1993425],[152.8800908,-27.201178799999994],[152.879733,-27.203093399999997],[152.8833301,-27.2036194],[152.8829902,-27.2055204],[152.8895686,-27.206448199999997],[152.8880972,-27.215351999999992],[152.8916731,-27.215859099999996],[152.89132600000002,-27.217756500000004],[152.89101500000004,-27.219463400000002],[152.8857983,-27.2229844],[152.887734,-27.2263584],[152.886677,-27.2289914]]]]}},{"type":"Feature","properties":{"suburb_name":"Tinbeerwah","suburb_areasqkm":21.8501,"address_cnt":1.0,"address_density_sqkm":0.0,"tp":"Suburb : Tinbeerwah<br>Density per sqkm: 0"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9756543,-26.433321399999997],[152.9747771,-26.433199299999995],[152.9768652,-26.421422399999994],[152.9653692,-26.4194534],[152.9619442,-26.416734400000003],[152.9611912,-26.413901399999997],[152.9593772,-26.4108344],[152.9605042,-26.407212399999995],[152.9590352,-26.4049444],[152.9588542,-26.40219039999999],[152.9564732,-26.4004884],[152.9533252,-26.4029324],[152.9509632,-26.403169399999996],[152.94881300000003,-26.401901299999995],[152.9510382,-26.398484400000005],[152.9518182,-26.394033400000012],[152.9545542,-26.393535399999998],[152.9570693,-26.3914644],[152.9560822,-26.387261399999996],[152.9536321,-26.383982399999997],[152.9497522,-26.381152399999998],[152.9483942,-26.37830239999999],[152.9502602,-26.376591400000002],[152.9497142,-26.371661399999997],[152.9547642,-26.372163400000005],[152.9574152,-26.373976399999997],[152.9588882,-26.3732864],[152.9653422,-26.374505399999993],[152.9696592,-26.3740304],[152.9773022,-26.3757454],[152.9810742,-26.380100400000003],[152.98606820000003,-26.379451399999997],[152.9912532,-26.3770504],[152.9902722,-26.381533400000002],[152.9910952,-26.3856284],[152.9929432,-26.3880704],[152.9885152,-26.395351399999996],[152.9921162,-26.3966794],[152.9928182,-26.3997944],[152.9897572,-26.4018204],[152.9870882,-26.402564400000003],[152.9829682,-26.404864400000008],[152.9858092,-26.407584400000005],[152.9906402,-26.4066844],[152.9930412,-26.409532399999993],[152.9931132,-26.4121114],[152.9958071,-26.414432399999992],[152.9978511,-26.418685399999994],[153.00664070000002,-26.419921499999994],[153.0053107,-26.4275443],[152.9989072,-26.428897399999997],[152.9976878,-26.433415200000002],[152.9955664,-26.434655400000004],[152.9856821,-26.433253499999996],[152.9866811,-26.434848499999998],[152.9756543,-26.433321399999997]]]]}},{"type":"Feature","properties":{"suburb_name":"Mount Delaney","suburb_areasqkm":14.9088,"address_cnt":63.0,"address_density_sqkm":4.0,"tp":"Suburb : Mount Delaney<br>Density per sqkm: 4"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.6979921,-27.0396104],[152.6974691,-27.033455399999994],[152.6984611,-27.03168939999999],[152.7025081,-27.0307854],[152.7031311,-27.028328400000007],[152.7015291,-27.026446400000008],[152.7031401,-27.024239399999992],[152.7002411,-27.022714400000005],[152.7008082,-27.0182664],[152.6972951,-27.016049399999996],[152.6972051,-27.012960399999997],[152.6955401,-27.012372400000004],[152.6969941,-27.009138399999994],[152.7000991,-27.006811400000007],[152.6988201,-27.005640400000004],[152.6981122,-27.002188399999994],[152.6996431,-26.993048400000003],[152.7163106,-26.9952812],[152.7161277,-26.996358700000002],[152.72526660000003,-26.997595600000004],[152.7263596,-26.991042],[152.73553160000003,-26.9923013],[152.7344572,-26.998838399999997],[152.7291851,-26.998029400000004],[152.7269516,-27.003232099999998],[152.7323782,-27.0050654],[152.7380786,-27.006132899999994],[152.7344171,-27.014927399999998],[152.73300310000002,-27.0162704],[152.7308842,-27.0153754],[152.72750740000004,-27.023447],[152.7247685,-27.029293599999995],[152.7198943,-27.040744500000002],[152.7088041,-27.036982400000003],[152.70822710000002,-27.03501039999999],[152.7037831,-27.0386174],[152.7031451,-27.0415444],[152.6999911,-27.0412054],[152.6979921,-27.0396104]]]]}},{"type":"Feature","properties":{"suburb_name":"Taringa","suburb_areasqkm":2.0342,"address_cnt":6464.0,"address_density_sqkm":3178.0,"tp":"Suburb : Taringa<br>Density per sqkm: 3,178"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9933061,-27.4931925],[152.990466,-27.4974574],[152.9918521,-27.499736500000004],[152.9901269,-27.5035304],[152.98673,-27.502806499999995],[152.987379,-27.499728499999993],[152.9847082,-27.499368499999996],[152.9851391,-27.4972314],[152.979904,-27.496557399999993],[152.9778391,-27.495068400000005],[152.9726111,-27.494179399999993],[152.9724875,-27.493245899999998],[152.967872,-27.492565],[152.96813420000004,-27.4909165],[152.9675042,-27.4877655],[152.9703899,-27.4874904],[152.9719951,-27.4887154],[152.9783751,-27.4879864],[152.9829272,-27.4883982],[152.9844512,-27.487790599999993],[152.9872999,-27.489707699999997],[152.9882703,-27.4922371],[152.9933061,-27.4931925]]]]}},{"type":"Feature","properties":{"suburb_name":"Valdora","suburb_areasqkm":10.2189,"address_cnt":386.0,"address_density_sqkm":38.0,"tp":"Suburb : Valdora<br>Density per sqkm: 38"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9877242,-26.521845399999997],[152.9915621,-26.523781399999994],[152.9911602,-26.526139400000005],[152.9951492,-26.526688400000005],[152.9957332,-26.5232854],[152.9994322,-26.52591339999999],[153.0003842,-26.5275184],[153.00444020000003,-26.52910739999999],[153.0079332,-26.529382399999996],[153.0056411,-26.543044999999996],[153.0082522,-26.544362399999994],[153.0091232,-26.539115399999996],[153.0155702,-26.5399934],[153.0146022,-26.546191399999998],[153.0301502,-26.5483754],[153.0296311,-26.558178399999996],[153.0315111,-26.562494399999995],[153.03113620000002,-26.563949400000002],[153.0172812,-26.5620024],[153.0169831,-26.5636654],[153.0074552,-26.5622804],[153.0085211,-26.560925299999994],[153.0058332,-26.558488400000005],[152.9969382,-26.55719640000001],[152.9954191,-26.554089399999995],[152.9961002,-26.5502144],[152.9926431,-26.5468014],[152.9931661,-26.543741399999995],[152.9904021,-26.542507399999998],[152.9901892,-26.5406974],[152.9854042,-26.5332644],[152.9860671,-26.529289399999993],[152.9866012,-26.52910539999999],[152.9877242,-26.521845399999997]]]]}},{"type":"Feature","properties":{"suburb_name":"Varsity Lakes","suburb_areasqkm":5.9113,"address_cnt":9456.0,"address_density_sqkm":1600.0,"tp":"Suburb : Varsity Lakes<br>Density per sqkm: 1,600"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.4037069,-28.1020825],[153.3981591,-28.097246500000008],[153.3931859,-28.0940995],[153.3963039,-28.091203799999995],[153.3990169,-28.091979499999997],[153.4043482,-28.087100599999996],[153.4017035,-28.084402599999997],[153.39931590000003,-28.08590249999999],[153.3989939,-28.082659],[153.4020414,-28.0809962],[153.40385,-28.078422499999995],[153.4080869,-28.078274500000003],[153.4104799,-28.076919500000006],[153.4136759,-28.073663000000003],[153.4170454,-28.076879599999994],[153.41986590000002,-28.07389849999999],[153.4214529,-28.074146500000005],[153.4256999,-28.08590149999999],[153.4218858,-28.086172399999995],[153.4192399,-28.100611500000007],[153.41691790000002,-28.100538499999995],[153.4076799,-28.102144500000005],[153.4037069,-28.1020825]]]]}},{"type":"Feature","properties":{"suburb_name":"Waterford West","suburb_areasqkm":5.2449,"address_cnt":4315.0,"address_density_sqkm":823.0,"tp":"Suburb : Waterford West<br>Density per sqkm: 823"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.1263559,-27.694931900000004],[153.1233998,-27.6952206],[153.1189702,-27.694549500000004],[153.1195919,-27.691445499999997],[153.1116064,-27.6903604],[153.1110304,-27.6937163],[153.1025124,-27.692418299999996],[153.1051224,-27.688535400000006],[153.1076033,-27.685532400000007],[153.1169317,-27.67971799999999],[153.1202831,-27.677678500000003],[153.1213951,-27.677125499999995],[153.122664,-27.686443499999992],[153.13004,-27.687415200000004],[153.1306726,-27.686697400000003],[153.1420448,-27.68820109999999],[153.1416088,-27.6907529],[153.13878120000004,-27.691919200000005],[153.1410673,-27.6960369],[153.1461684,-27.700479300000005],[153.146833,-27.704045399999995],[153.1461193,-27.706129000000004],[153.1417519,-27.708247099999998],[153.1368479,-27.703521399999996],[153.1300471,-27.700609200000002],[153.1283808,-27.698558399999992],[153.1278441,-27.6953082],[153.1263559,-27.694931900000004]]]]}},{"type":"Feature","properties":{"suburb_name":"Wellington Point","suburb_areasqkm":9.8093,"address_cnt":6057.0,"address_density_sqkm":617.0,"tp":"Suburb : Wellington Point<br>Density per sqkm: 617"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.244229,-27.5170395],[153.239825,-27.515817499999997],[153.236642,-27.516991500000003],[153.2355603,-27.515361700000007],[153.2307875,-27.515085699999993],[153.2295166,-27.513652899999997],[153.2304401,-27.508346999999997],[153.2238176,-27.507333899999992],[153.2261635,-27.503666999999997],[153.2265653,-27.498757699999995],[153.2286622,-27.499065500000004],[153.2295532,-27.493763499999996],[153.228176,-27.48952049999999],[153.2289786,-27.488839499999997],[153.2268271,-27.482709599999993],[153.2318,-27.481611],[153.235105,-27.479876],[153.2373289,-27.476997],[153.236802,-27.475443000000002],[153.2388869,-27.472451],[153.2372791,-27.470267399999997],[153.2375659,-27.467306000000008],[153.2398278,-27.465114],[153.2414658,-27.465836000000003],[153.2407088,-27.470722999999992],[153.2397719,-27.473012999999998],[153.2422731,-27.4752655],[153.2409601,-27.478372500000003],[153.2417009,-27.480746],[153.2476688,-27.481935999999994],[153.2518767,-27.481645000000007],[153.2537197,-27.482877899999995],[153.2599446,-27.482918899999998],[153.2613896,-27.486878900000008],[153.2597317,-27.4901309],[153.25873,-27.489613500000004],[153.25456200000002,-27.4930565],[153.249857,-27.490514499999993],[153.247653,-27.4925485],[153.248595,-27.4939505],[153.251083,-27.493846499999997],[153.250895,-27.501254499999998],[153.252409,-27.501711499999992],[153.252586,-27.5050445],[153.250703,-27.5105825],[153.248569,-27.5102565],[153.246259,-27.51165749999999],[153.242901,-27.5114745],[153.241582,-27.512494499999995],[153.244229,-27.5170395]]]]}},{"type":"Feature","properties":{"suburb_name":"Woolloongabba","suburb_areasqkm":2.4968,"address_cnt":9402.0,"address_density_sqkm":3766.0,"tp":"Suburb : Woolloongabba<br>Density per sqkm: 3,766"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.04976,-27.490646400000003],[153.048136,-27.4916175],[153.047666,-27.494094499999996],[153.0476218,-27.496300499999993],[153.041841,-27.4979335],[153.0413051,-27.5008627],[153.0395628,-27.501732499999992],[153.028819,-27.500105599999998],[153.031107,-27.498333599999995],[153.032379,-27.495067400000003],[153.0284339,-27.492660099999995],[153.0252497,-27.489763100000005],[153.0270612,-27.4899838],[153.0307479,-27.4857785],[153.03055990000001,-27.483739399999997],[153.0392758,-27.48503419999999],[153.0408078,-27.48980909999999],[153.04314200000002,-27.491053399999995],[153.04976,-27.490646400000003]]]]}},{"type":"Feature","properties":{"suburb_name":"Yarrabilba","suburb_areasqkm":12.8823,"address_cnt":5623.0,"address_density_sqkm":436.0,"tp":"Suburb : Yarrabilba<br>Density per sqkm: 436"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.139141,-27.8088645],[153.13719,-27.817589499999997],[153.145216,-27.818997499999988],[153.144401,-27.822655499999996],[153.148913,-27.8234385],[153.147469,-27.82998549999999],[153.155497,-27.8314185],[153.154385,-27.8363565],[153.158669,-27.837106500000004],[153.158261,-27.8396985],[153.156315,-27.841013499999992],[153.1534065,-27.8407036],[153.1406271,-27.838525399999998],[153.1362748,-27.8398487],[153.1348288,-27.837433599999997],[153.1333768,-27.829280699999998],[153.1291117,-27.821887899999993],[153.1129963,-27.8195581],[153.1127388,-27.820955199999993],[153.0990387,-27.819053099999994],[153.09762,-27.816765500000006],[153.09753,-27.8059245],[153.09995310000002,-27.799966499999993],[153.1002952,-27.797272399999986],[153.099606,-27.7935524],[153.121785,-27.796963500000004],[153.120682,-27.8027264],[153.123607,-27.80318349999999],[153.125015,-27.806413499999994],[153.139141,-27.8088645]]]]}},{"type":"Feature","properties":{"suburb_name":"Yatala","suburb_areasqkm":14.0522,"address_cnt":1980.0,"address_density_sqkm":141.0,"tp":"Suburb : Yatala<br>Density per sqkm: 141"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.23935990000004,-27.7560614],[153.244125,-27.7600235],[153.243011,-27.762640499999996],[153.240844,-27.7619925],[153.238512,-27.763377499999994],[153.23393,-27.763028499999994],[153.233619,-27.7652585],[153.23164,-27.768279499999995],[153.22851,-27.769234499999996],[153.227222,-27.772341499999996],[153.229717,-27.775549500000004],[153.228753,-27.7767975],[153.222061,-27.7707385],[153.2187571,-27.766257599999996],[153.2151924,-27.76370959999999],[153.2132106,-27.760710900000003],[153.2113516,-27.764114200000005],[153.2097006,-27.771026699999997],[153.2053759,-27.7702914],[153.199671,-27.7740845],[153.194573,-27.773358499999993],[153.193903,-27.7747145],[153.190826,-27.775544499999988],[153.186512,-27.77496049999999],[153.190544,-27.7740585],[153.193783,-27.771938499999997],[153.193274,-27.768367499999997],[153.193943,-27.7668165],[153.197972,-27.7640995],[153.19885,-27.759008499999997],[153.197475,-27.754578499999997],[153.197538,-27.746593500000003],[153.199744,-27.744171499999997],[153.20125,-27.7400085],[153.20732240000004,-27.738969600000004],[153.209422,-27.739671499999993],[153.218336,-27.7369105],[153.219829,-27.7347445],[153.218349,-27.7307935],[153.21623,-27.727385499999997],[153.219096,-27.7271745],[153.220801,-27.7262325],[153.228043,-27.735466500000005],[153.230459,-27.7391515],[153.23935990000004,-27.7560614]]]]}},{"type":"Feature","properties":{"suburb_name":"Ascot (Brisbane - Qld)","suburb_areasqkm":2.7989,"address_cnt":4553.0,"address_density_sqkm":1627.0,"tp":"Suburb : Ascot (Brisbane - Qld)<br>Density per sqkm: 1,627"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0486646,-27.432819699999992],[153.0482224,-27.42806969999999],[153.0522607,-27.429012600000007],[153.0571764,-27.429215099999993],[153.0583414,-27.4284331],[153.059252,-27.423064499999988],[153.0602503,-27.423202099999997],[153.0632609,-27.4236155],[153.0646306,-27.42507859999999],[153.07262210000002,-27.426054],[153.0730058,-27.423640799999998],[153.080003,-27.424567399999997],[153.079633,-27.427229400000005],[153.0817089,-27.430779000000005],[153.0773181,-27.431709999999995],[153.0718351,-27.4310433],[153.0710679,-27.435894400000002],[153.0693985,-27.436604299999996],[153.0664546,-27.435319699999994],[153.0648843,-27.435740100000004],[153.0579279,-27.4348324],[153.0486646,-27.432819699999992]]]]}},{"type":"Feature","properties":{"suburb_name":"Bahrs Scrub","suburb_areasqkm":9.8338,"address_cnt":3508.0,"address_density_sqkm":357.0,"tp":"Suburb : Bahrs Scrub<br>Density per sqkm: 357"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.164141,-27.755321499999997],[153.154147,-27.753765499999997],[153.155911,-27.749449399999996],[153.157491,-27.741639399999997],[153.152998,-27.74096949999999],[153.157119,-27.720351499999992],[153.159234,-27.7206665],[153.159758,-27.723064499999996],[153.163005,-27.7256925],[153.16706,-27.7264255],[153.16957,-27.725760499999993],[153.173093,-27.726224499999994],[153.175605,-27.727299499999994],[153.18094700000003,-27.727352499999995],[153.185321,-27.729777500000004],[153.188325,-27.729694500000004],[153.19227,-27.7285915],[153.191805,-27.730351499999998],[153.193505,-27.735171499999993],[153.193349,-27.737597499999996],[153.186747,-27.7442785],[153.18611,-27.746129499999995],[153.1868629,-27.752847499999998],[153.165156,-27.749759499999996],[153.164141,-27.755321499999997]]]]}},{"type":"Feature","properties":{"suburb_name":"Barellan Point","suburb_areasqkm":3.6601,"address_cnt":791.0,"address_density_sqkm":216.0,"tp":"Suburb : Barellan Point<br>Density per sqkm: 216"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.849124,-27.563042399999997],[152.84961,-27.566690399999995],[152.8533521,-27.5743984],[152.855733,-27.5832054],[152.85348,-27.58221939999999],[152.8488958,-27.582592199999997],[152.842904,-27.580208400000007],[152.8347694,-27.579134699999997],[152.836259,-27.569789399999994],[152.8317291,-27.5692114],[152.8322309,-27.5662054],[152.8340151,-27.56645440000001],[152.835111,-27.559679400000007],[152.840651,-27.560361500000006],[152.841972,-27.5628284],[152.849124,-27.563042399999997]]]]}},{"type":"Feature","properties":{"suburb_name":"Bokarina","suburb_areasqkm":1.7441,"address_cnt":1572.0,"address_density_sqkm":901.0,"tp":"Suburb : Bokarina<br>Density per sqkm: 901"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.13462920000003,-26.7309225],[153.1349341,-26.73914750000001],[153.1359361,-26.746437499999992],[153.1302911,-26.7468474],[153.1286581,-26.745782400000003],[153.1236801,-26.745745399999993],[153.1246201,-26.7320004],[153.1234741,-26.730806499999996],[153.13462920000003,-26.7309225]]]]}},{"type":"Feature","properties":{"suburb_name":"Brookwater","suburb_areasqkm":3.9701,"address_cnt":1321.0,"address_density_sqkm":333.0,"tp":"Suburb : Brookwater<br>Density per sqkm: 333"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.905165,-27.674625400000004],[152.900772,-27.675072400000005],[152.897724,-27.674427399999995],[152.89766,-27.672064399999993],[152.8929219,-27.667702499999997],[152.889098,-27.6609294],[152.889968,-27.6554584],[152.888312,-27.650492400000005],[152.8856727,-27.648079200000012],[152.890773,-27.6471014],[152.893754,-27.6434784],[152.896146,-27.646925399999994],[152.8978401,-27.64380239999999],[152.899871,-27.6509654],[152.899678,-27.6529054],[152.903074,-27.6576384],[152.903576,-27.6606274],[152.907665,-27.662335400000007],[152.9088198,-27.666804600000006],[152.906983,-27.6688714],[152.905165,-27.674625400000004]]]]}},{"type":"Feature","properties":{"suburb_name":"Bundamba","suburb_areasqkm":10.9558,"address_cnt":3626.0,"address_density_sqkm":331.0,"tp":"Suburb : Bundamba<br>Density per sqkm: 331"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.81422930000002,-27.582769399999997],[152.8178281,-27.584273399999997],[152.8238601,-27.58909539999999],[152.8294919,-27.590373900000007],[152.8277986,-27.5987487],[152.8204973,-27.604541699999995],[152.8189319,-27.605192],[152.8203092,-27.607745400000002],[152.819573,-27.611969400000003],[152.8232187,-27.6174673],[152.8184555,-27.62641929999999],[152.8126457,-27.6215715],[152.806359,-27.620692399999996],[152.804429,-27.621930399999997],[152.800563,-27.622184400000002],[152.8010686,-27.619234799999997],[152.801148,-27.612142399999993],[152.8002051,-27.60957140000001],[152.79783440000003,-27.6086815],[152.797315,-27.60714439999999],[152.799499,-27.6052884],[152.802323,-27.604645399999995],[152.80294200000003,-27.602540400000002],[152.799399,-27.5998424],[152.7962661,-27.60002439999999],[152.79497800000001,-27.595354400000005],[152.7972981,-27.594748399999997],[152.795431,-27.591239400000006],[152.792741,-27.5912774],[152.7888221,-27.587267399999998],[152.789737,-27.585244399999997],[152.794271,-27.583209399999998],[152.7974661,-27.5825444],[152.801274,-27.582979399999996],[152.8068615,-27.5824764],[152.8094954,-27.583827400000004],[152.8121984,-27.586596399999994],[152.8144793,-27.5855374],[152.81422930000002,-27.582769399999997]]]]}},{"type":"Feature","properties":{"suburb_name":"Burnside (Qld)","suburb_areasqkm":5.4111,"address_cnt":1823.0,"address_density_sqkm":337.0,"tp":"Suburb : Burnside (Qld)<br>Density per sqkm: 337"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9542551,-26.6428174],[152.9494642,-26.6421314],[152.9473867,-26.6434104],[152.9408021,-26.6424764],[152.9412141,-26.6393094],[152.9399142,-26.636960499999994],[152.9353021,-26.6342824],[152.9288703,-26.6320133],[152.9265393,-26.629673300000007],[152.9238143,-26.628860100000008],[152.9126572,-26.627471399999994],[152.9139692,-26.623572400000004],[152.9167831,-26.622085399999992],[152.9172072,-26.619207399999997],[152.9201433,-26.618484299999995],[152.9212004,-26.612093900000005],[152.9302756,-26.613281100000002],[152.9299677,-26.6151805],[152.9292129,-26.61984779999999],[152.9342412,-26.620383399999998],[152.9333461,-26.626370399999992],[152.9355492,-26.627740399999993],[152.9550571,-26.630433399999998],[152.95522820000002,-26.632106399999998],[152.9530101,-26.63551139999999],[152.9542551,-26.6428174]]]]}},{"type":"Feature","properties":{"suburb_name":"Calamvale","suburb_areasqkm":6.6504,"address_cnt":8184.0,"address_density_sqkm":1231.0,"tp":"Suburb : Calamvale<br>Density per sqkm: 1,231"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0619829,-27.611447399999996],[153.057205,-27.637824499999994],[153.053905,-27.6378004],[153.053562,-27.639675499999985],[153.0447062,-27.638380499999997],[153.0466811,-27.632189500000003],[153.043224,-27.63150140000001],[153.043496,-27.629975399999996],[153.0325272,-27.628140900000002],[153.0333408,-27.62148689999999],[153.0352861,-27.616508],[153.0406769,-27.6120609],[153.0424579,-27.6098649],[153.042973,-27.604118099999997],[153.0463672,-27.607701500000005],[153.0496669,-27.609437499999995],[153.0511361,-27.6112275],[153.0578249,-27.611728399999997],[153.0619829,-27.611447399999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Carindale","suburb_areasqkm":10.6841,"address_cnt":7989.0,"address_density_sqkm":748.0,"tp":"Suburb : Carindale<br>Density per sqkm: 748"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.097201,-27.517490399999993],[153.1007139,-27.498999499999996],[153.101873,-27.4914454],[153.12003,-27.494067499999993],[153.120704,-27.490832499999996],[153.12022,-27.486839400000004],[153.12149500000004,-27.486397399999994],[153.1250999,-27.4931055],[153.1261709,-27.496936500000004],[153.1247842,-27.5024845],[153.1245869,-27.505335499999997],[153.1259211,-27.5109024],[153.1252569,-27.520425399999997],[153.122982,-27.531994499999996],[153.1203179,-27.536438299999993],[153.1087419,-27.5347074],[153.1094258,-27.5310274],[153.1122918,-27.5313714],[153.1142164,-27.529291299999997],[153.1130999,-27.526475499999997],[153.1109869,-27.526428499999998],[153.105751,-27.5288766],[153.101657,-27.525310599999994],[153.103481,-27.522361599999993],[153.104324,-27.5186686],[153.097201,-27.517490399999993]]]]}},{"type":"Feature","properties":{"suburb_name":"Clayfield","suburb_areasqkm":2.7974,"address_cnt":7480.0,"address_density_sqkm":2674.0,"tp":"Suburb : Clayfield<br>Density per sqkm: 2,674"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0482224,-27.42806969999999],[153.0452339,-27.428002399999993],[153.0442535,-27.425338199999995],[153.04536270000003,-27.420619199999997],[153.0473714,-27.4203632],[153.0483814,-27.414610300000003],[153.0487419,-27.4128864],[153.0510944,-27.412396899999997],[153.0524835,-27.408724000000007],[153.0562802,-27.41093579999999],[153.0574113,-27.4095626],[153.0591839,-27.411108399999993],[153.0633142,-27.411710499999998],[153.0626542,-27.415369099999992],[153.0631522,-27.418107499999998],[153.0600069,-27.418473399999996],[153.0602503,-27.423202099999997],[153.059252,-27.423064499999988],[153.0583414,-27.4284331],[153.0571764,-27.429215099999993],[153.0522607,-27.429012600000007],[153.0482224,-27.42806969999999]]]]}},{"type":"Feature","properties":{"suburb_name":"Clear Mountain","suburb_areasqkm":10.6231,"address_cnt":375.0,"address_density_sqkm":35.0,"tp":"Suburb : Clear Mountain<br>Density per sqkm: 35"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9172482,-27.333033399999994],[152.916778,-27.3349453],[152.9139631,-27.3386304],[152.9116718,-27.339447299999996],[152.907379,-27.342585399999997],[152.9067871,-27.338353399999995],[152.9025411,-27.3380804],[152.9002072,-27.335235500000003],[152.8890242,-27.337334399999992],[152.8903343,-27.3296948],[152.885156,-27.328777399999996],[152.8833023,-27.3265327],[152.8773548,-27.323244799999998],[152.8768001,-27.32171140000001],[152.8779781,-27.315534399999997],[152.8834421,-27.3163654],[152.8841901,-27.3123094],[152.874729,-27.307980399999998],[152.8646047,-27.30673309999999],[152.8667222,-27.29413539999999],[152.867863,-27.293565399999995],[152.8691255,-27.296313799999997],[152.8763884,-27.3014887],[152.8794309,-27.3025324],[152.8820793,-27.3046137],[152.8861212,-27.305455599999995],[152.8872772,-27.302633599999993],[152.8893332,-27.3021976],[152.893637,-27.303382500000005],[152.89567810000003,-27.305436500000003],[152.8969081,-27.310124500000004],[152.900466,-27.311911499999997],[152.901485,-27.315538500000002],[152.9039,-27.318321400000002],[152.906606,-27.319548400000002],[152.906816,-27.3211724],[152.910371,-27.323197399999994],[152.912286,-27.3232984],[152.912632,-27.3258824],[152.915304,-27.3290344],[152.9172482,-27.333033399999994]]]]}},{"type":"Feature","properties":{"suburb_name":"Crestmead","suburb_areasqkm":6.725,"address_cnt":5410.0,"address_density_sqkm":804.0,"tp":"Suburb : Crestmead<br>Density per sqkm: 804"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.1051224,-27.688535400000006],[153.1025124,-27.692418299999996],[153.1023905,-27.695434299999995],[153.0993066,-27.700154399999995],[153.0885587,-27.6986994],[153.0771699,-27.696864499999997],[153.0776739,-27.694050500000007],[153.0681432,-27.692638099999996],[153.0668633,-27.692447199999997],[153.0694223,-27.678165],[153.0753732,-27.672845999999996],[153.080596,-27.677902500000002],[153.0864121,-27.679519499999994],[153.0897191,-27.681064400000004],[153.0987397,-27.681714500000002],[153.0989419,-27.685383399999992],[153.1029271,-27.68567749999999],[153.102266,-27.687279500000002],[153.1051224,-27.688535400000006]]]]}},{"type":"Feature","properties":{"suburb_name":"Darra","suburb_areasqkm":5.5552,"address_cnt":3027.0,"address_density_sqkm":545.0,"tp":"Suburb : Darra<br>Density per sqkm: 545"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.945055,-27.5829064],[152.941931,-27.577565399999997],[152.938138,-27.579368399999993],[152.938342,-27.576642400000004],[152.941338,-27.5747574],[152.9422168,-27.572763999999996],[152.940735,-27.57072839999999],[152.9441377,-27.5699076],[152.940102,-27.560571399999994],[152.939972,-27.559080399999992],[152.9430074,-27.557996699999993],[152.9465129,-27.555376499999998],[152.9481531,-27.558114399999997],[152.952638,-27.558309399999995],[152.9544812,-27.556836400000005],[152.9587551,-27.556209399999997],[152.959427,-27.553108399999992],[152.962046,-27.555276399999997],[152.966553,-27.573848399999996],[152.948936,-27.580857400000003],[152.945055,-27.5829064]]]]}},{"type":"Feature","properties":{"suburb_name":"Durack (Qld)","suburb_areasqkm":4.0645,"address_cnt":4559.0,"address_density_sqkm":1122.0,"tp":"Suburb : Durack (Qld)<br>Density per sqkm: 1,122"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.987704,-27.5772565],[152.9897892,-27.581112799999993],[152.993516,-27.5829574],[152.991668,-27.5859704],[152.992133,-27.5881865],[152.996978,-27.591778499999997],[152.996805,-27.593705399999997],[152.994542,-27.5974634],[152.995563,-27.6010364],[152.992989,-27.60267350000001],[152.992206,-27.604731400000002],[152.9880727,-27.604049399999983],[152.988445,-27.602009400000004],[152.987135,-27.59602739999999],[152.978698,-27.597652399999998],[152.977051,-27.592373499999997],[152.97691,-27.588582399999993],[152.979049,-27.588161399999997],[152.9782332,-27.584509600000004],[152.975511,-27.585039699999996],[152.974011,-27.578176400000007],[152.9823779,-27.57649139999999],[152.9828002,-27.578175400000003],[152.987704,-27.5772565]]]]}},{"type":"Feature","properties":{"suburb_name":"Gordon Park","suburb_areasqkm":1.153,"address_cnt":2730.0,"address_density_sqkm":2368.0,"tp":"Suburb : Gordon Park<br>Density per sqkm: 2,368"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.024274,-27.422355500000002],[153.022107,-27.4199364],[153.0217631,-27.4167574],[153.0228118,-27.411236400000003],[153.0335091,-27.412674399999997],[153.0351971,-27.414237399999998],[153.031551,-27.4183195],[153.0310971,-27.421101400000005],[153.027874,-27.422232400000006],[153.024274,-27.422355500000002]]]]}},{"type":"Feature","properties":{"suburb_name":"Grange (Qld)","suburb_areasqkm":1.754,"address_cnt":2380.0,"address_density_sqkm":1357.0,"tp":"Suburb : Grange (Qld)<br>Density per sqkm: 1,357"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0217631,-27.4167574],[153.022107,-27.4199364],[153.024274,-27.422355500000002],[153.0238569,-27.424386399999992],[153.0234572,-27.4273865],[153.0179861,-27.426404699999996],[153.015648,-27.430114400000004],[153.013715,-27.4298284],[153.0107651,-27.4293915],[153.011494,-27.425527499999994],[153.0083661,-27.424960500000005],[153.0073631,-27.424234500000004],[153.0086531,-27.420010399999995],[153.007821,-27.4183895],[153.0088571,-27.413072399999997],[153.01202000000004,-27.417996399999993],[153.01372700000002,-27.4195134],[153.0161241,-27.418921399999995],[153.018914,-27.4167164],[153.0217631,-27.4167574]]]]}},{"type":"Feature","properties":{"suburb_name":"Greenbank","suburb_areasqkm":110.5017,"address_cnt":7858.0,"address_density_sqkm":71.0,"tp":"Suburb : Greenbank<br>Density per sqkm: 71"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0116731,-27.75601109999999],[153.004978,-27.7550714],[152.999637,-27.752943500000008],[152.9951572,-27.752807500000003],[152.993786,-27.7502524],[152.988612,-27.744592400000005],[152.9855491,-27.7439494],[152.9860121,-27.747549399999993],[152.9811611,-27.748329399999996],[152.969696,-27.746936499999997],[152.969745,-27.742819400000005],[152.971608,-27.740250399999994],[152.976723,-27.7384234],[152.97588,-27.736199400000007],[152.972452,-27.737107399999996],[152.951377,-27.733859399999996],[152.948078,-27.730893399999996],[152.9468563,-27.733181400000007],[152.944863,-27.731818500000006],[152.939272,-27.731732400000002],[152.930686,-27.730449399999998],[152.929521,-27.737590399999995],[152.926864,-27.737545400000005],[152.924361,-27.740328399999992],[152.925164,-27.742846400000005],[152.923422,-27.746149399999993],[152.921512,-27.7468724],[152.916234,-27.745501499999996],[152.914439,-27.745821399999997],[152.9123961,-27.7488764],[152.9111249,-27.749159399999996],[152.9078579,-27.747152399999994],[152.904547,-27.7488004],[152.90236100000004,-27.747880399999996],[152.9007821,-27.7493404],[152.8952932,-27.74833449999999],[152.8919841,-27.752700499999996],[152.8897762,-27.7531814],[152.88644510000003,-27.755316499999996],[152.873349,-27.753346499999992],[152.8746558,-27.746273000000002],[152.8827946,-27.747345200000005],[152.8867636,-27.726370999999997],[152.8906567,-27.703577499999994],[152.8943646,-27.704098699999996],[152.917243,-27.707319400000003],[152.918777,-27.7068224],[152.9228772,-27.708111000000002],[152.9236691,-27.7072704],[152.9264551,-27.691901399999995],[152.9315621,-27.666133400000007],[152.9276412,-27.662785600000003],[152.9247248,-27.657718799999998],[152.935835,-27.6453904],[152.938598,-27.640165399999997],[152.93937340000002,-27.636249099999997],[152.940793,-27.6286594],[152.941663,-27.626475400000004],[152.948201,-27.632480400000002],[152.955584,-27.6345664],[152.965774,-27.63526939999999],[152.971344,-27.637598400000012],[152.973389,-27.639017400000007],[152.975875,-27.643747399999995],[152.978708,-27.6462634],[152.984098,-27.648629499999995],[152.982182,-27.659075399999995],[152.991613,-27.660458399999992],[152.991075,-27.6630375],[152.991548,-27.6679464],[153.0089898,-27.670572699999994],[153.0077353,-27.677570899999996],[153.0166021,-27.678918999999997],[153.0143221,-27.6810695],[153.00838800000002,-27.684231],[153.0061552,-27.686766499999997],[153.0049121,-27.693550499999997],[153.0120509,-27.694602400000004],[153.0129999,-27.696400399999995],[153.027147,-27.698505800000003],[153.0276202,-27.69598299999999],[153.0295276,-27.696268099999998],[153.031684,-27.698716399999995],[153.0319223,-27.701937099999995],[153.0384321,-27.702960299999994],[153.0378097,-27.710491700000006],[153.0335688,-27.715611799999998],[153.0311969,-27.722148700000005],[153.0307259,-27.725087700000003],[153.0184538,-27.7233994],[153.0125882,-27.724289900000002],[153.006039,-27.723311499999998],[153.004345,-27.73234939999999],[153.010878,-27.733322499999996],[153.00742600000004,-27.75186439999999],[153.012315,-27.752582399999998],[153.0116731,-27.75601109999999]]]]}},{"type":"Feature","properties":{"suburb_name":"Greenslopes","suburb_areasqkm":2.3658,"address_cnt":5578.0,"address_density_sqkm":2358.0,"tp":"Suburb : Greenslopes<br>Density per sqkm: 2,358"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.05952410000003,-27.5091204],[153.0535089,-27.512928399999996],[153.0545934,-27.513915300000004],[153.0529871,-27.516204399999996],[153.050674,-27.5163461],[153.050055,-27.5182325],[153.0436584,-27.5148175],[153.0403052,-27.51222539999999],[153.0386909,-27.50898949999999],[153.0395628,-27.501732499999992],[153.0413051,-27.5008627],[153.04211,-27.502097099999997],[153.0503126,-27.502982799999998],[153.055284,-27.5060624],[153.058879,-27.506016400000004],[153.05952410000003,-27.5091204]]]]}},{"type":"Feature","properties":{"suburb_name":"Hillcrest (Qld)","suburb_areasqkm":3.2658,"address_cnt":3988.0,"address_density_sqkm":1221.0,"tp":"Suburb : Hillcrest (Qld)<br>Density per sqkm: 1,221"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.031311,-27.680463500000005],[153.0216622,-27.678939399999994],[153.0166021,-27.678918999999997],[153.0206581,-27.6697905],[153.020784,-27.667945399999997],[153.0186338,-27.6626844],[153.0193526,-27.657380999999994],[153.0377366,-27.660373999999994],[153.0351791,-27.664403400000005],[153.0338111,-27.666387399999994],[153.031136,-27.673697400000002],[153.031311,-27.680463500000005]]]]}},{"type":"Feature","properties":{"suburb_name":"Holland Park","suburb_areasqkm":3.2067,"address_cnt":4531.0,"address_density_sqkm":1413.0,"tp":"Suburb : Holland Park<br>Density per sqkm: 1,413"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.074625,-27.5137144],[153.075813,-27.513637399999997],[153.0847076,-27.5168895],[153.0837442,-27.521734499999997],[153.0724382,-27.528864099999996],[153.0716619,-27.529353400000005],[153.07098,-27.526880499999997],[153.0691109,-27.524533399999992],[153.0654148,-27.5225211],[153.0545934,-27.513915300000004],[153.0535089,-27.512928399999996],[153.05952410000003,-27.5091204],[153.061627,-27.51194239999999],[153.064,-27.510757399999996],[153.068779,-27.5127515],[153.074625,-27.5137144]]]]}},{"type":"Feature","properties":{"suburb_name":"Holland Park West","suburb_areasqkm":2.6768,"address_cnt":3813.0,"address_density_sqkm":1424.0,"tp":"Suburb : Holland Park West<br>Density per sqkm: 1,424"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0716619,-27.529353400000005],[153.0656267,-27.533124500000007],[153.0668537,-27.534682600000004],[153.0636282,-27.536122500000005],[153.066074,-27.53930340000001],[153.058861,-27.538170899999997],[153.05687990000004,-27.5287864],[153.0542991,-27.5232756],[153.050055,-27.5182325],[153.050674,-27.5163461],[153.0529871,-27.516204399999996],[153.0545934,-27.513915300000004],[153.0654148,-27.5225211],[153.0691109,-27.524533399999992],[153.07098,-27.526880499999997],[153.0716619,-27.529353400000005]]]]}},{"type":"Feature","properties":{"suburb_name":"Kings Beach","suburb_areasqkm":0.6782,"address_cnt":3619.0,"address_density_sqkm":5336.0,"tp":"Suburb : Kings Beach<br>Density per sqkm: 5,336"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.1396691,-26.80649349999999],[153.1364321,-26.8040985],[153.1372162,-26.803221400000005],[153.1376409,-26.797902399999998],[153.1419602,-26.799198400000005],[153.150719,-26.80029639999999],[153.1498533,-26.80303049999999],[153.1456491,-26.802584399999997],[153.1427213,-26.803118499999997],[153.1396691,-26.80649349999999]]]]}},{"type":"Feature","properties":{"suburb_name":"Little Mountain","suburb_areasqkm":7.5685,"address_cnt":4888.0,"address_density_sqkm":646.0,"tp":"Suburb : Little Mountain<br>Density per sqkm: 646"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.109395,-26.774862399999996],[153.1095062,-26.7748755],[153.1076995,-26.7859092],[153.1063073,-26.785965500000003],[153.1067349,-26.791512399999995],[153.1060031,-26.79705550000001],[153.0976101,-26.795877400000002],[153.0979211,-26.793781400000007],[153.0862433,-26.792203999999998],[153.0832721,-26.7979785],[153.0829542,-26.8016248],[153.0802781,-26.803074400000003],[153.0762589,-26.802490899999995],[153.0788711,-26.787215399999994],[153.08330910000004,-26.7849204],[153.0857542,-26.7828274],[153.0774211,-26.781126500000003],[153.0794711,-26.769947399999996],[153.0935721,-26.7719594],[153.0934325,-26.772878700000003],[153.109395,-26.774862399999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Mooloolaba","suburb_areasqkm":3.9974,"address_cnt":8943.0,"address_density_sqkm":2237.0,"tp":"Suburb : Mooloolaba<br>Density per sqkm: 2,237"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.1146341,-26.696457400000003],[153.1106031,-26.693574399999996],[153.1055671,-26.685922499999997],[153.1042991,-26.684664499999997],[153.0969151,-26.675089399999994],[153.0986971,-26.674309400000002],[153.1036551,-26.673788499999997],[153.1070311,-26.675683400000004],[153.11455010000003,-26.6760964],[153.11559090000003,-26.675340400000003],[153.1186771,-26.677434500000004],[153.1215621,-26.680760499999995],[153.1273281,-26.683574499999995],[153.1303321,-26.683704500000005],[153.1338521,-26.681663399999998],[153.13217710000004,-26.679166399999993],[153.1356271,-26.681942400000004],[153.1350701,-26.6848125],[153.1325801,-26.686931399999995],[153.1276021,-26.687174399999993],[153.1258711,-26.685912400000003],[153.1218981,-26.6850494],[153.1197431,-26.686536500000003],[153.1205011,-26.690939499999992],[153.1181531,-26.694398500000002],[153.1146341,-26.696457400000003]]]]}},{"type":"Feature","properties":{"suburb_name":"Morayfield","suburb_areasqkm":44.5196,"address_cnt":15880.0,"address_density_sqkm":357.0,"tp":"Suburb : Morayfield<br>Density per sqkm: 357"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9220262,-27.175334300000003],[152.9177561,-27.177556400000007],[152.91625310000003,-27.175942400000004],[152.9139511,-27.176418399999996],[152.9134111,-27.173867400000006],[152.9103411,-27.172956399999993],[152.9082171,-27.173751400000008],[152.9029801,-27.1712974],[152.9009581,-27.169018400000002],[152.8996861,-27.165260399999998],[152.9004671,-27.1637264],[152.8973721,-27.1627554],[152.8939721,-27.158478399999996],[152.8939121,-27.1572814],[152.8877881,-27.157875400000005],[152.8855201,-27.1565404],[152.8877247,-27.144152899999998],[152.8908443,-27.1445845],[152.8916931,-27.139644399999998],[152.8985441,-27.13719740000001],[152.9029191,-27.137834399999992],[152.9049961,-27.134257399999996],[152.9059986,-27.134397700000005],[152.907015,-27.128470599999996],[152.9064701,-27.126877399999998],[152.9177101,-27.120551399999993],[152.9201871,-27.117342400000002],[152.9214221,-27.118073100000007],[152.9271774,-27.119003099999997],[152.9299085,-27.115892700000003],[152.9305951,-27.1138744],[152.9223351,-27.112715399999992],[152.9230755,-27.108427900000002],[152.9203361,-27.10879909999999],[152.923379,-27.102962700000003],[152.9259291,-27.103328400000002],[152.9277621,-27.1005864],[152.9299583,-27.09942639999999],[152.9326692,-27.099267400000002],[152.9380826,-27.100463899999998],[152.9397244,-27.1000595],[152.94841110000002,-27.101576400000006],[152.9489861,-27.0973614],[152.9634941,-27.0992594],[152.9677252,-27.099086399999997],[152.9684835,-27.094789399999996],[152.970999,-27.094889300000002],[152.9749692,-27.090161500000004],[152.9772951,-27.0897384],[152.9793781,-27.09482639999999],[152.9831441,-27.0957604],[152.9853711,-27.097516399999993],[152.9865321,-27.100048399999995],[152.9910572,-27.098309500000003],[152.9945801,-27.100623400000003],[152.9950991,-27.10473539999999],[152.9984469,-27.10406949999999],[153.0004301,-27.100851399999996],[153.0014341,-27.1028904],[153.0090111,-27.105530400000003],[153.0123171,-27.104922399999996],[153.0129071,-27.107080399999997],[153.0084281,-27.108029399999996],[153.0054731,-27.111300400000005],[153.0033241,-27.11177439999999],[153.0029771,-27.113673399999996],[152.9981191,-27.116148399999997],[152.9917891,-27.114746399999998],[152.9908901,-27.1134234],[152.9876681,-27.11296639999999],[152.9847111,-27.114617399999993],[152.9829551,-27.121320399999995],[152.9768675,-27.120465499999998],[152.9772841,-27.1270069],[152.9596234,-27.124734399999983],[152.9584811,-27.125802399999998],[152.9608461,-27.134179399999997],[152.9596403,-27.142746900000002],[152.9451051,-27.1406294],[152.9428723,-27.152500099999997],[152.9357203,-27.1509505],[152.9317461,-27.1532981],[152.9284978,-27.153217700000003],[152.9246377,-27.154355800000005],[152.9227097,-27.1600278],[152.9198587,-27.164589799999998],[152.9176818,-27.1694968],[152.9185619,-27.1723888],[152.9220262,-27.175334300000003]]]]}},{"type":"Feature","properties":{"suburb_name":"Morningside","suburb_areasqkm":5.1535,"address_cnt":8006.0,"address_density_sqkm":1554.0,"tp":"Suburb : Morningside<br>Density per sqkm: 1,554"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.089642,-27.449709399999996],[153.087899,-27.4574945],[153.0844649,-27.458963400000002],[153.0805441,-27.464568399999997],[153.07897310000004,-27.4724495],[153.0851079,-27.473393499999993],[153.08441,-27.477069499999995],[153.0822666,-27.4769226],[153.079211,-27.478908499999996],[153.075445,-27.4756644],[153.0700491,-27.474887499999998],[153.0694561,-27.477895400000005],[153.066736,-27.478251399999994],[153.066373,-27.4752154],[153.063514,-27.471859399999992],[153.0636332,-27.4699574],[153.064392,-27.467819399999993],[153.0637311,-27.462959100000006],[153.067061,-27.463651400000007],[153.06809,-27.458733500000005],[153.07190200000002,-27.459760499999998],[153.074193,-27.459452399999996],[153.076143,-27.455697399999995],[153.0731822,-27.454866399999997],[153.0717249,-27.451284399999995],[153.0692599,-27.4502314],[153.07013,-27.445559399999997],[153.072278,-27.445603400000003],[153.07991,-27.447423499999996],[153.079696,-27.448561399999996],[153.089642,-27.449709399999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Mount Cotton","suburb_areasqkm":42.6778,"address_cnt":2860.0,"address_density_sqkm":67.0,"tp":"Suburb : Mount Cotton<br>Density per sqkm: 67"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.261431,-27.6538185],[153.254528,-27.652795500000003],[153.254929,-27.6495665],[153.239053,-27.647364499999995],[153.23907,-27.649303499999995],[153.208518,-27.64516149999999],[153.206119,-27.6439245],[153.2070031,-27.6412075],[153.193929,-27.639455500000004],[153.19356200000001,-27.641570499999997],[153.1875544,-27.640736],[153.183221,-27.638277500000004],[153.184033,-27.635500499999996],[153.182296,-27.634071499999997],[153.177046,-27.634823499999996],[153.17384700000002,-27.634239500000007],[153.175741,-27.623387499999996],[153.18160600000002,-27.624189499999993],[153.1835679,-27.612812500000004],[153.1807519,-27.609309399999997],[153.1844778,-27.608458199999998],[153.2035123,-27.611097199999996],[153.2052709,-27.609371399999997],[153.2067691,-27.6044105],[153.2091748,-27.6018334],[153.210336,-27.599374499999996],[153.2127818,-27.597173499999997],[153.2167119,-27.594893499999998],[153.2182941,-27.5928605],[153.21941100000004,-27.5884675],[153.225523,-27.5871965],[153.228563,-27.588773500000002],[153.234642,-27.586219499999995],[153.239446,-27.587952499999997],[153.242124,-27.587550500000003],[153.2450659,-27.5853874],[153.2482231,-27.585687499999995],[153.252676,-27.588198500000008],[153.255723,-27.5866385],[153.2556373,-27.588511699999998],[153.25857500000004,-27.5914645],[153.25989,-27.596181500000007],[153.25933,-27.600027500000007],[153.261147,-27.602005499999994],[153.256959,-27.6246695],[153.257794,-27.627230499999996],[153.262508,-27.62793949999999],[153.259558,-27.645083499999995],[153.258653,-27.6488335],[153.261967,-27.650638499999996],[153.261431,-27.6538185]]]]}},{"type":"Feature","properties":{"suburb_name":"Murrumba Downs","suburb_areasqkm":6.4441,"address_cnt":4818.0,"address_density_sqkm":748.0,"tp":"Suburb : Murrumba Downs<br>Density per sqkm: 748"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0180931,-27.248670399999998],[153.0191031,-27.252563400000003],[153.0178711,-27.2704654],[153.0181931,-27.276304399999997],[153.02014710000003,-27.280764399999995],[153.0202551,-27.2878314],[153.019243,-27.291208499999993],[153.0158091,-27.2874885],[153.01348030000003,-27.2845857],[153.0084678,-27.282070299999997],[153.0025635,-27.2774356],[153.0015342,-27.2739909],[153.0016177,-27.270645699999992],[152.9978531,-27.270740400000005],[152.9996301,-27.2612434],[152.998888,-27.260523400000007],[153.0019671,-27.255941399999994],[153.0057831,-27.2541444],[153.0060941,-27.252350600000003],[153.0095401,-27.25036340000001],[153.0136401,-27.2492784],[153.0160411,-27.250116499999994],[153.0180931,-27.248670399999998]]]]}},{"type":"Feature","properties":{"suburb_name":"Narangba","suburb_areasqkm":41.7369,"address_cnt":9706.0,"address_density_sqkm":233.0,"tp":"Suburb : Narangba<br>Density per sqkm: 233"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9220262,-27.175334300000003],[152.9279031,-27.174385399999995],[152.9284321,-27.172178400000004],[152.9316531,-27.170286400000002],[152.9319641,-27.168267399999994],[152.9352991,-27.164737400000003],[152.9392241,-27.164930399999996],[152.9423761,-27.163870400000004],[152.9507911,-27.167534400000005],[152.9519349,-27.168777400000003],[152.955208,-27.167044500000003],[152.954748,-27.170599400000004],[152.9526441,-27.180291499999996],[152.952571,-27.18232649999999],[152.954879,-27.183987900000005],[152.9646901,-27.185477399999993],[152.9650261,-27.183646400000004],[152.9834261,-27.186321400000004],[152.9828461,-27.181060400000003],[152.9836608,-27.178684300000008],[152.9859331,-27.186149400000005],[152.9869701,-27.19084939999999],[152.9922269,-27.191265200000004],[152.9952502,-27.190276199999992],[152.99623910000003,-27.184707199999988],[153.0029331,-27.1872234],[153.0027191,-27.188406399999998],[153.0070641,-27.189085499999997],[153.006359,-27.1931284],[153.0077921,-27.195804500000005],[153.0126771,-27.1994827],[153.01195,-27.203210400000003],[153.0041741,-27.202070400000004],[153.0022261,-27.202851499999994],[152.9978511,-27.2087104],[152.9919111,-27.211765399999994],[152.9790021,-27.212367399999994],[152.9778301,-27.213907400000004],[152.97471100000004,-27.21514939999999],[152.9712491,-27.215427400000006],[152.9695299,-27.2145095],[152.9670973,-27.215150900000005],[152.96556310000003,-27.2120444],[152.96489040000003,-27.207749399999994],[152.962631,-27.2047066],[152.9608002,-27.206223699999992],[152.9583933,-27.204112500000004],[152.9552505,-27.205506499999995],[152.9446454,-27.204135099999995],[152.9457726,-27.197636499999998],[152.9176701,-27.19363750000001],[152.9172115,-27.1953097],[152.9058849,-27.193741199999995],[152.9064242,-27.190575799999998],[152.9023062,-27.1912508],[152.8873555,-27.189169599999996],[152.8865625,-27.193321899999997],[152.8623871,-27.18940939999999],[152.8634834,-27.182435899999994],[152.8574414,-27.1816252],[152.85370700000001,-27.180264899999994],[152.8530872,-27.183935499999997],[152.8489594,-27.183368199999997],[152.8445412,-27.1827935],[152.845964,-27.17216730000001],[152.8471235,-27.166626100000002],[152.8517593,-27.1674119],[152.8523262,-27.1689434],[152.8550942,-27.169981399999998],[152.8587191,-27.169048400000005],[152.8623891,-27.171648400000002],[152.8673801,-27.168696400000005],[152.8700751,-27.167741399999997],[152.8722771,-27.1681714],[152.8744791,-27.1641124],[152.8770241,-27.1652094],[152.8830411,-27.16606439999999],[152.8824931,-27.169144400000004],[152.8917961,-27.1704681],[152.8939721,-27.158478399999996],[152.8973721,-27.1627554],[152.9004671,-27.1637264],[152.8996861,-27.165260399999998],[152.9009581,-27.169018400000002],[152.9029801,-27.1712974],[152.9082171,-27.173751400000008],[152.9103411,-27.172956399999993],[152.9134111,-27.173867400000006],[152.9139511,-27.176418399999996],[152.91625310000003,-27.175942400000004],[152.9177561,-27.177556400000007],[152.9220262,-27.175334300000003]]]]}},{"type":"Feature","properties":{"suburb_name":"Nerang","suburb_areasqkm":35.3932,"address_cnt":10816.0,"address_density_sqkm":306.0,"tp":"Suburb : Nerang<br>Density per sqkm: 306"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.3163379,-28.012377499999996],[153.3117829,-28.0118315],[153.3100489,-28.009836499999995],[153.310052,-28.0076795],[153.3069709,-28.008174499999996],[153.3043829,-28.00972249999999],[153.2953339,-28.0081795],[153.2963299,-28.00281469999999],[153.2989919,-28.001962500000005],[153.2994349,-28.0000665],[153.2928899,-27.999183499999997],[153.286472,-27.9976735],[153.2825159,-27.9939365],[153.2826929,-27.991947499999995],[153.2800859,-27.9841295],[153.2812389,-27.9782235],[153.279843,-27.9757735],[153.28245160000003,-27.961565500000003],[153.2794944,-27.9611127],[153.2816798,-27.9495325],[153.2795639,-27.9492171],[153.2807622,-27.9426124],[153.297473,-27.945202099999992],[153.299246,-27.9454645],[153.2987869,-27.9494905],[153.3000629,-27.950582499999996],[153.2992599,-27.953559499999994],[153.3179623,-27.956328700000007],[153.31817890000002,-27.95442949999999],[153.3210179,-27.9538265],[153.323812,-27.9548545],[153.3242305,-27.955056699999997],[153.3217859,-27.968177499999992],[153.336933,-27.970400100000003],[153.3360509,-27.9757105],[153.3443839,-27.976942499999996],[153.342547,-27.979583499999997],[153.3415169,-27.984528500000007],[153.3429499,-27.9859935],[153.3471999,-27.98700450000001],[153.3507969,-27.986170499999997],[153.3522949,-27.988666499999994],[153.3612109,-27.995074500000005],[153.3601489,-28.0006735],[153.3547351,-27.9981183],[153.3507741,-28.004947500000004],[153.3461568,-28.002753999999992],[153.3426312,-28.007109299999996],[153.3397199,-28.0086265],[153.3376089,-28.008695500000005],[153.3238549,-28.006353499999992],[153.3233409,-28.007743499999986],[153.319469,-28.007151500000003],[153.3191709,-28.008680499999997],[153.3153449,-28.011227499999997],[153.3163379,-28.012377499999996]]]]}},{"type":"Feature","properties":{"suburb_name":"New Farm","suburb_areasqkm":2.0602,"address_cnt":9904.0,"address_density_sqkm":4807.0,"tp":"Suburb : New Farm<br>Density per sqkm: 4,807"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.050878,-27.4623657],[153.0547558,-27.467859099999995],[153.054631,-27.469336399999992],[153.0490769,-27.474120099999993],[153.045657,-27.4754671],[153.042268,-27.474326099999995],[153.040681,-27.470218399999993],[153.040175,-27.4668712],[153.038747,-27.4645554],[153.0389915,-27.460627099999996],[153.0433269,-27.45624919999999],[153.044992,-27.4586245],[153.050878,-27.4623657]]]]}},{"type":"Feature","properties":{"suburb_name":"Oxenford","suburb_areasqkm":13.9246,"address_cnt":6308.0,"address_density_sqkm":453.0,"tp":"Suburb : Oxenford<br>Density per sqkm: 453"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.3013959,-27.926748499999988],[153.2984739,-27.926346499999998],[153.2952929,-27.924747500000006],[153.2946609,-27.919053499999997],[153.291412,-27.9180445],[153.2889419,-27.918800500000003],[153.2834109,-27.917074499999995],[153.279412,-27.915027499999994],[153.28076700000003,-27.912461499999992],[153.278703,-27.9111475],[153.276974,-27.907599500000003],[153.278114,-27.905092499999995],[153.2808789,-27.903968500000005],[153.2819359,-27.9023435],[153.28683900000001,-27.903812499999994],[153.288921,-27.9064535],[153.2953659,-27.9016025],[153.2957839,-27.899428500000003],[153.2938449,-27.897054499999996],[153.289754,-27.90040249999999],[153.2873609,-27.89941749999999],[153.2856569,-27.8952845],[153.2886114,-27.8937246],[153.291495,-27.8936235],[153.293359,-27.8924565],[153.2960059,-27.885726599999995],[153.3038737,-27.882568500000005],[153.3093259,-27.8784305],[153.3144719,-27.876850500000003],[153.3153399,-27.8809115],[153.315464,-27.886230499999996],[153.314432,-27.8949385],[153.3151809,-27.900444499999992],[153.3178169,-27.908903500000008],[153.3201899,-27.9152275],[153.3227629,-27.9193585],[153.329714,-27.926281499999998],[153.327409,-27.9259654],[153.3138619,-27.923951499999998],[153.3118459,-27.925612499999996],[153.3075793,-27.9245736],[153.305171,-27.9247025],[153.30387,-27.926295499999988],[153.3013959,-27.926748499999988]]]]}},{"type":"Feature","properties":{"suburb_name":"Paddington (Qld)","suburb_areasqkm":2.4618,"address_cnt":5839.0,"address_density_sqkm":2372.0,"tp":"Suburb : Paddington (Qld)<br>Density per sqkm: 2,372"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9987171,-27.468116399999992],[152.9963009,-27.46868039999999],[152.9920457,-27.4673065],[152.9912692,-27.465767400000004],[152.988792,-27.464983399999998],[152.988588,-27.459604399999996],[152.987258,-27.458075500000003],[152.988695,-27.455120400000002],[152.9914829,-27.45291259999999],[152.99424910000002,-27.4522861],[152.9938529,-27.453477499999995],[152.9986622,-27.455676399999998],[153.003799,-27.456663499999998],[153.011963,-27.4595704],[153.01117,-27.463388499999994],[153.0090172,-27.462383399999993],[153.0054809,-27.462183399999986],[153.0018809,-27.4634104],[153.0011281,-27.466679499999998],[152.9987171,-27.468116399999992]]]]}},{"type":"Feature","properties":{"suburb_name":"Petrie","suburb_areasqkm":6.6035,"address_cnt":3913.0,"address_density_sqkm":593.0,"tp":"Suburb : Petrie<br>Density per sqkm: 593"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9762511,-27.250550400000005],[152.9748283,-27.255726000000003],[152.9749756,-27.258889399999997],[152.977763,-27.2628801],[152.9800307,-27.2641728],[152.9823279,-27.26380839999999],[152.9884301,-27.265959400000003],[152.9927231,-27.2657474],[152.9935361,-27.267718400000003],[152.9920421,-27.269710399999997],[152.9937641,-27.273175399999992],[152.9927383,-27.277849399999997],[152.9903675,-27.2782276],[152.9894218,-27.274235400000002],[152.9856191,-27.275261999999998],[152.9813885,-27.2749035],[152.9793751,-27.273665000000005],[152.97681270000004,-27.274831300000002],[152.9718346,-27.273488100000005],[152.9701071,-27.271441000000003],[152.9664349,-27.270891899999988],[152.9657393,-27.272086700000003],[152.9649889,-27.277596700000004],[152.9625698,-27.27784709999999],[152.9606178,-27.276635199999998],[152.9582608,-27.2731472],[152.9582198,-27.270193199999998],[152.9564439,-27.266954400000003],[152.9558222,-27.2624354],[152.9575689,-27.2617274],[152.959697,-27.25792839999999],[152.9623431,-27.25679510000001],[152.9604892,-27.252465399999995],[152.9721011,-27.247415399999998],[152.9724851,-27.248936400000005],[152.9762511,-27.250550400000005]]]]}},{"type":"Feature","properties":{"suburb_name":"Point Lookout","suburb_areasqkm":4.4931,"address_cnt":1682.0,"address_density_sqkm":374.0,"tp":"Suburb : Point Lookout<br>Density per sqkm: 374"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.53908350000003,-27.441733699999993],[153.511753,-27.431529499999996],[153.512831,-27.420876500000002],[153.5161839,-27.420978799999993],[153.5213509,-27.424076699999993],[153.5248798,-27.425451700000004],[153.5285368,-27.4259577],[153.5335867,-27.425251699999993],[153.53544670000002,-27.4239347],[153.5390186,-27.425174600000002],[153.5433326,-27.425333600000002],[153.5426858,-27.430607499999994],[153.5467135,-27.4348146],[153.5463576,-27.4370626],[153.5422516,-27.436953599999995],[153.53908350000003,-27.441733699999993]]]]}},{"type":"Feature","properties":{"suburb_name":"Raceview","suburb_areasqkm":5.9067,"address_cnt":4951.0,"address_density_sqkm":838.0,"tp":"Suburb : Raceview<br>Density per sqkm: 838"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.7848695,-27.6292478],[152.7883721,-27.629719400000006],[152.789195,-27.631521400000004],[152.791936,-27.6320634],[152.79054400000004,-27.63532139999999],[152.790723,-27.6383604],[152.794318,-27.6401324],[152.7938015,-27.64191079999999],[152.796182,-27.6409274],[152.798883,-27.6438294],[152.800486,-27.644115399999997],[152.7993219,-27.647563400000006],[152.7887727,-27.646347399999993],[152.785941,-27.648039399999995],[152.761685,-27.644749399999995],[152.7623111,-27.641317400000002],[152.7568042,-27.640592300000012],[152.7557121,-27.639255400000003],[152.7544114,-27.634473100000005],[152.7631131,-27.636461700000005],[152.763935,-27.6316644],[152.775023,-27.633167400000005],[152.7758661,-27.628069400000008],[152.7848695,-27.6292478]]]]}},{"type":"Feature","properties":{"suburb_name":"Runaway Bay","suburb_areasqkm":5.4921,"address_cnt":6617.0,"address_density_sqkm":1205.0,"tp":"Suburb : Runaway Bay<br>Density per sqkm: 1,205"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.4051649,-27.925751499999997],[153.3982048,-27.927279499999997],[153.3906658,-27.92641280000001],[153.3892109,-27.923338499999996],[153.3859528,-27.922928899999995],[153.3847838,-27.92166790000001],[153.3857638,-27.920480799999993],[153.3866189,-27.916072499999995],[153.3879571,-27.9133445],[153.3876619,-27.9088345],[153.3883772,-27.90062739999999],[153.40374590000002,-27.902959499999998],[153.4048383,-27.901891800000005],[153.4070309,-27.905745500000002],[153.4082813,-27.911829700000006],[153.4080694,-27.916622699999998],[153.4067303,-27.9224398],[153.4071774,-27.924342499999998],[153.4051649,-27.925751499999997]]],[[[153.4132062,-27.9047897],[153.4103927,-27.904511],[153.4096694,-27.899626399999995],[153.4129761,-27.9026257],[153.4132062,-27.9047897]]]]}},{"type":"Feature","properties":{"suburb_name":"Sherwood (Qld)","suburb_areasqkm":2.2929,"address_cnt":4208.0,"address_density_sqkm":1835.0,"tp":"Suburb : Sherwood (Qld)<br>Density per sqkm: 1,835"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9724045,-27.535506499999997],[152.9713885,-27.5327205],[152.9729034,-27.526331500000005],[152.9712545,-27.5234535],[152.975297,-27.524545399999997],[152.9889918,-27.526542400000004],[152.9911,-27.526384399999998],[152.990049,-27.528272399999985],[152.994067,-27.532050400000003],[152.99248,-27.5351164],[152.990553,-27.53617540000001],[152.9854147,-27.535250399999995],[152.9814794,-27.537166399999993],[152.978674,-27.536090499999993],[152.9724045,-27.535506499999997]]]]}},{"type":"Feature","properties":{"suburb_name":"Silkstone","suburb_areasqkm":1.9707,"address_cnt":1893.0,"address_density_sqkm":961.0,"tp":"Suburb : Silkstone<br>Density per sqkm: 961"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.7883721,-27.629719400000006],[152.7848695,-27.6292478],[152.7849521,-27.624755099999998],[152.7787991,-27.623914799999994],[152.7794369,-27.6202134],[152.7801321,-27.616446400000005],[152.7829142,-27.61680939999999],[152.8010686,-27.619234799999997],[152.800563,-27.622184400000002],[152.797339,-27.622922400000004],[152.79672610000003,-27.6259384],[152.793469,-27.627805399999993],[152.7883721,-27.629719400000006]]]]}},{"type":"Feature","properties":{"suburb_name":"Sippy Downs","suburb_areasqkm":14.511,"address_cnt":5685.0,"address_density_sqkm":392.0,"tp":"Suburb : Sippy Downs<br>Density per sqkm: 392"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0852281,-26.713257399999996],[153.0887441,-26.7140455],[153.0940641,-26.713996399999992],[153.1057921,-26.715350399999995],[153.1135411,-26.7137264],[153.1176771,-26.714538399999995],[153.1177141,-26.716287399999995],[153.1223851,-26.721073499999996],[153.1184401,-26.724363399999998],[153.1163841,-26.723811499999993],[153.1107271,-26.7258324],[153.1123581,-26.728688399999996],[153.1097801,-26.729790399999995],[153.1033651,-26.731087399999996],[153.1043471,-26.733512399999995],[153.0926393,-26.7318421],[153.0869181,-26.730633499999996],[153.0852811,-26.740127499999993],[153.0832561,-26.737831400000005],[153.0835891,-26.736284400000002],[153.0789541,-26.733130399999997],[153.0770721,-26.7339794],[153.0737191,-26.733287399999995],[153.0710751,-26.7310154],[153.0683171,-26.731736399999992],[153.0644191,-26.728944399999996],[153.0615001,-26.728149400000003],[153.0577951,-26.72846639999999],[153.0559582,-26.7320151],[153.0521998,-26.7331069],[153.046603,-26.733726799999992],[153.0462332,-26.727750300000004],[153.0443344,-26.723078199999996],[153.0481496,-26.7164291],[153.0496854,-26.714964099999996],[153.0526583,-26.7133464],[153.0597411,-26.711280400000003],[153.0646411,-26.7109764],[153.0852281,-26.713257399999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Southport (Qld)","suburb_areasqkm":14.3533,"address_cnt":30384.0,"address_density_sqkm":2117.0,"tp":"Suburb : Southport (Qld)<br>Density per sqkm: 2,117"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.4105029,-27.954974499999995],[153.4122729,-27.955463],[153.4141669,-27.959207],[153.4185018,-27.9661218],[153.4187509,-27.968975500000003],[153.4204169,-27.970346499999994],[153.4214084,-27.974087500000007],[153.4201756,-27.977003699999997],[153.4184477,-27.9783406],[153.4162041,-27.982222500000002],[153.4175469,-27.988147499999993],[153.4155029,-27.990350499999987],[153.4161229,-27.9934325],[153.4147248,-27.9975427],[153.4105528,-27.998409499999998],[153.4011039,-27.996879499999995],[153.3985836,-27.9941397],[153.3952589,-27.9934785],[153.3932799,-27.98949749999999],[153.3924759,-27.9860675],[153.3926961,-27.982217499999994],[153.3911538,-27.979677399999996],[153.3910171,-27.9760835],[153.3882659,-27.97686550000001],[153.3809649,-27.976823499999995],[153.3776829,-27.973125499999984],[153.3760369,-27.968654500000007],[153.3764739,-27.964654499999998],[153.3775678,-27.9608335],[153.383155,-27.9551925],[153.3837429,-27.953896500000003],[153.3985499,-27.956154499999997],[153.4037079,-27.9567255],[153.4105029,-27.954974499999995]]]]}},{"type":"Feature","properties":{"suburb_name":"Spring Mountain (Qld)","suburb_areasqkm":19.6953,"address_cnt":3655.0,"address_density_sqkm":186.0,"tp":"Suburb : Spring Mountain (Qld)<br>Density per sqkm: 186"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.8943646,-27.704098699999996],[152.8906567,-27.703577499999994],[152.8867636,-27.726370999999997],[152.8827946,-27.747345200000005],[152.8746558,-27.746273000000002],[152.876257,-27.737604400000002],[152.862429,-27.735689399999995],[152.863791,-27.727987400000004],[152.8634943,-27.7242983],[152.8612242,-27.720336300000007],[152.8598872,-27.7163023],[152.8603766,-27.714210899999994],[152.8622026,-27.71222489999999],[152.8661455,-27.711111900000002],[152.8660494,-27.708960899999994],[152.868115,-27.7061544],[152.868047,-27.69964439999999],[152.86967,-27.699838399999997],[152.877187,-27.693552400000005],[152.873289,-27.689445400000004],[152.873409,-27.687908399999994],[152.876422,-27.685850399999996],[152.873991,-27.681717399999997],[152.871378,-27.6809484],[152.87205300000002,-27.6786144],[152.87032100000002,-27.675926399999998],[152.882462,-27.6714304],[152.883055,-27.6680324],[152.887491,-27.6677144],[152.8868,-27.6712524],[152.89764960000002,-27.67440979999999],[152.8971659,-27.67950039999999],[152.8980479,-27.681849399999997],[152.9016169,-27.684986399999996],[152.9043575,-27.685461300000004],[152.906538,-27.697327399999995],[152.908371,-27.697673400000003],[152.9105,-27.701903399999996],[152.9102861,-27.704422499999993],[152.908228,-27.704143499999994],[152.902945,-27.701442400000005],[152.8983962,-27.698411200000002],[152.895845,-27.695213400000004],[152.8943646,-27.704098699999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Surfers Paradise","suburb_areasqkm":5.7961,"address_cnt":36537.0,"address_density_sqkm":6304.0,"tp":"Suburb : Surfers Paradise<br>Density per sqkm: 6,304"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.4337488,-28.018993100000003],[153.42610190000002,-28.017732499999997],[153.4231599,-28.016414499999993],[153.41297490000002,-28.01598149999999],[153.4110739,-28.0163265],[153.4133509,-28.003987500000008],[153.4152409,-27.999598499999998],[153.4156739,-27.99706249999999],[153.4178957,-27.991498699999987],[153.4191199,-27.991242499999995],[153.4216018,-27.993948499999995],[153.4241679,-27.994548500000004],[153.4258534,-27.988856099999996],[153.4224474,-27.9918479],[153.4215133,-27.99153929999999],[153.4191041,-27.9867417],[153.418581,-27.9823017],[153.42015770000003,-27.980747499999996],[153.4233209,-27.982172499999997],[153.427921,-27.982971400000004],[153.4302156,-27.984839500000003],[153.4303676,-27.990652499999996],[153.4315017,-28.002910399999998],[153.4337488,-28.018993100000003]]]]}},{"type":"Feature","properties":{"suburb_name":"Tallebudgera","suburb_areasqkm":19.208,"address_cnt":1678.0,"address_density_sqkm":87.0,"tp":"Suburb : Tallebudgera<br>Density per sqkm: 87"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.4372054,-28.16166919999999],[153.4339889,-28.163447499999997],[153.4287139,-28.165217500000004],[153.4245669,-28.1688645],[153.4245119,-28.1702655],[153.4213529,-28.1739245],[153.4177959,-28.173385499999995],[153.4170889,-28.1770365],[153.41263900000004,-28.1763497],[153.4101599,-28.1816585],[153.4123989,-28.183538499999997],[153.4067399,-28.1856195],[153.4045129,-28.1892585],[153.4011239,-28.186745500000004],[153.3976611,-28.182450799999998],[153.394844,-28.180835899999998],[153.3961859,-28.173796499999998],[153.3986649,-28.174181500000003],[153.40135490000003,-28.168533500000002],[153.3995609,-28.166949499999998],[153.3992339,-28.164665499999998],[153.3963169,-28.162309500000003],[153.3964209,-28.15952550000001],[153.3995879,-28.1595625],[153.4006409,-28.15618750000001],[153.4030089,-28.155848499999998],[153.4044299,-28.152706499999997],[153.4026529,-28.14965349999999],[153.4040639,-28.1471615],[153.4034069,-28.1436815],[153.4072469,-28.140919499999992],[153.4104909,-28.137528499999995],[153.4082759,-28.13669949999999],[153.4087199,-28.134319499999997],[153.4116759,-28.1325565],[153.4190419,-28.130496499999996],[153.4225479,-28.126419499999997],[153.4257439,-28.125990500000004],[153.4257279,-28.124364499999995],[153.4295449,-28.119285500000007],[153.4339679,-28.1197935],[153.4379111,-28.115242],[153.4382349,-28.113406499999996],[153.4425079,-28.114486499999995],[153.4428079,-28.118063499999998],[153.4410789,-28.120444499999994],[153.4411119,-28.12374249999999],[153.4431649,-28.123108499999994],[153.4438989,-28.1207405],[153.4488319,-28.11755249999999],[153.4505469,-28.1191595],[153.4497319,-28.1207215],[153.4447959,-28.123115500000004],[153.4442259,-28.1247795],[153.4464859,-28.127256500000005],[153.4460929,-28.128975499999996],[153.4427989,-28.1300185],[153.4385269,-28.12979049999999],[153.4357159,-28.131521499999995],[153.4337509,-28.131624499999997],[153.4317269,-28.1337845],[153.4330859,-28.1367395],[153.4321349,-28.137987500000005],[153.4333383,-28.1408572],[153.43285,-28.1433931],[153.44090950000003,-28.144614800000003],[153.4414379,-28.148740699999998],[153.4385903,-28.148307299999995],[153.4373387,-28.153100999999992],[153.4372054,-28.16166919999999]]]]}},{"type":"Feature","properties":{"suburb_name":"Armstrong Creek (Qld)","suburb_areasqkm":34.3053,"address_cnt":168.0,"address_density_sqkm":5.0,"tp":"Suburb : Armstrong Creek (Qld)<br>Density per sqkm: 5"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.843851,-27.223380399999996],[152.8417951,-27.23490539999999],[152.8361402,-27.2366074],[152.8267071,-27.23696139999999],[152.8228562,-27.239320500000005],[152.8201209,-27.238631400000003],[152.816625,-27.239795399999995],[152.8126091,-27.237895399999996],[152.8080879,-27.237238399999995],[152.804781,-27.237850399999992],[152.8054048,-27.234228199999993],[152.7951815,-27.2329141],[152.7916737,-27.238323700000002],[152.7943542,-27.241251300000005],[152.7940551,-27.243146300000003],[152.7885477,-27.243302100000005],[152.7850991,-27.241782399999998],[152.7811742,-27.243603999999994],[152.7788069,-27.246060399999998],[152.7770372,-27.245328399999998],[152.7732381,-27.2460175],[152.7666491,-27.242043399999993],[152.7620741,-27.2382474],[152.7574205,-27.238040300000005],[152.7555391,-27.24016549999999],[152.750687,-27.2401144],[152.7471308,-27.241807899999998],[152.7483241,-27.235227399999996],[152.7421741,-27.234340400000004],[152.7453471,-27.232630400000005],[152.7479881,-27.227567399999998],[152.7509439,-27.2255634],[152.7507533,-27.22279969999999],[152.7528553,-27.2106799],[152.7603324,-27.21173170000001],[152.7609632,-27.2082165],[152.7650312,-27.2019554],[152.7668532,-27.201497399999994],[152.7707469,-27.195347500000004],[152.7770732,-27.19582739999999],[152.7805541,-27.19880339999999],[152.7886901,-27.194612399999993],[152.792177,-27.1917904],[152.7929761,-27.18936040000001],[152.795607,-27.190939200000003],[152.7985901,-27.1913634],[152.7973101,-27.194558399999995],[152.7994011,-27.195371399999996],[152.8019161,-27.1929044],[152.8042802,-27.1943244],[152.803436,-27.198312399999992],[152.80237220000004,-27.199851399999996],[152.8036641,-27.2017554],[152.8066641,-27.202320399999994],[152.8081911,-27.207973399999997],[152.8057202,-27.2089584],[152.8045131,-27.210797399999993],[152.80550820000002,-27.213730399999996],[152.80800300000004,-27.2121865],[152.8130881,-27.2102844],[152.8147331,-27.211705399999992],[152.8155321,-27.2154244],[152.8184781,-27.216005400000007],[152.8198691,-27.2136544],[152.82457310000004,-27.2163284],[152.8266371,-27.219151399999994],[152.8300731,-27.215780399999993],[152.834221,-27.215778399999994],[152.8351251,-27.2133294],[152.8379001,-27.212822400000004],[152.8380021,-27.2176654],[152.839562,-27.218349400000008],[152.8409171,-27.222795399999992],[152.843851,-27.223380399999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Chapel Hill (Qld)","suburb_areasqkm":5.0175,"address_cnt":4319.0,"address_density_sqkm":861.0,"tp":"Suburb : Chapel Hill (Qld)<br>Density per sqkm: 861"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9601647,-27.49365299999999],[152.9593117,-27.498049399999996],[152.9620742,-27.500787799999998],[152.961971,-27.504004399999992],[152.9578162,-27.507483399999998],[152.958621,-27.510459399999995],[152.9544369,-27.51692449999999],[152.950316,-27.515719499999996],[152.9499862,-27.5137084],[152.951838,-27.510865400000004],[152.9501889,-27.50899439999999],[152.950518,-27.506124399999997],[152.948255,-27.5055944],[152.9435221,-27.505932500000004],[152.9423632,-27.507302399999993],[152.9389569,-27.502843399999996],[152.9383769,-27.498130399999997],[152.9358091,-27.4931644],[152.937041,-27.4868014],[152.9363109,-27.483549399999998],[152.93765110000004,-27.482394999999997],[152.9436743,-27.482679799999993],[152.9432092,-27.486747500000003],[152.9447921,-27.48696839999999],[152.9436239,-27.4938104],[152.9475376,-27.4943628],[152.9484909,-27.4892563],[152.9548962,-27.490156800000005],[152.9557981,-27.4930035],[152.9601647,-27.49365299999999]]]]}},{"type":"Feature","properties":{"suburb_name":"Karragarra Island","suburb_areasqkm":1.0084,"address_cnt":297.0,"address_density_sqkm":295.0,"tp":"Suburb : Karragarra Island<br>Density per sqkm: 295"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.3664829,-27.6354433],[153.3738226,-27.636079000000002],[153.3798206,-27.638990899999996],[153.3807766,-27.641136900000003],[153.3773887,-27.642579899999998],[153.3711587,-27.640284000000005],[153.3650138,-27.639512],[153.3604118,-27.636982],[153.3610885,-27.635414899999994],[153.3664829,-27.6354433]]]]}},{"type":"Feature","properties":{"suburb_name":"Lamb Island","suburb_areasqkm":1.385,"address_cnt":1041.0,"address_density_sqkm":752.0,"tp":"Suburb : Lamb Island<br>Density per sqkm: 752"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.3813765,-27.629434899999993],[153.3782665,-27.631887999999996],[153.3754816,-27.630207999999996],[153.3724426,-27.63074099999999],[153.3738019,-27.625525500000006],[153.3737686,-27.622369],[153.3750061,-27.621124500000004],[153.3799645,-27.6217629],[153.3831514,-27.620764899999994],[153.38243800000004,-27.618656500000004],[153.3842581,-27.616506500000003],[153.3861538,-27.61900749999999],[153.3892003,-27.6208579],[153.38557640000002,-27.623579899999992],[153.3853684,-27.626114899999997],[153.3813765,-27.629434899999993]]]]}},{"type":"Feature","properties":{"suburb_name":"Landsborough (Qld)","suburb_areasqkm":59.5572,"address_cnt":2431.0,"address_density_sqkm":41.0,"tp":"Suburb : Landsborough (Qld)<br>Density per sqkm: 41"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0455538,-26.7899113],[153.0446879,-26.794062300000004],[153.040595,-26.806089300000004],[153.0365842,-26.819345299999988],[153.03469430000004,-26.827037299999997],[153.0313841,-26.842381399999994],[153.03001260000002,-26.8463393],[153.0279121,-26.8499354],[153.0227121,-26.850827400000004],[153.0161071,-26.848451399999995],[153.0112041,-26.84359540000001],[153.0058501,-26.8403894],[153.0059731,-26.8385514],[152.9845005,-26.8357165],[152.9841131,-26.831466399999993],[152.9794771,-26.829189400000004],[152.9668901,-26.827521399999995],[152.9664081,-26.830461400000004],[152.9581341,-26.827594399999995],[152.9552301,-26.8240084],[152.9508787,-26.8221565],[152.9502991,-26.818268400000004],[152.940919,-26.816970500000004],[152.9440481,-26.799090400000004],[152.9394371,-26.7945894],[152.9361231,-26.7939804],[152.9320471,-26.7964014],[152.9297951,-26.7965434],[152.9266241,-26.794986400000003],[152.9289591,-26.793331399999996],[152.9284321,-26.790635400000006],[152.9292181,-26.7846124],[152.9349252,-26.778085399999995],[152.9389883,-26.7786356],[152.9381351,-26.783650400000003],[152.9403589,-26.783402400000007],[152.9447791,-26.7883504],[152.9478482,-26.783060400000004],[152.9505181,-26.781842399999995],[152.952119,-26.779063699999995],[152.9552675,-26.779122599999997],[152.957977,-26.778003099999992],[152.9609061,-26.774476399999998],[152.9616296,-26.7713644],[152.9658916,-26.771937700000006],[152.9640235,-26.776350799999996],[152.9664291,-26.777242400000002],[152.9705562,-26.7770084],[152.97142,-26.779548400000003],[152.9733841,-26.7810945],[152.9759211,-26.779504400000008],[152.9757861,-26.775160400000004],[152.9794001,-26.778741399999998],[152.98274400000003,-26.7787023],[152.9792851,-26.773318400000004],[152.9797551,-26.7728384],[152.9861161,-26.7737164],[152.9893048,-26.773485299999994],[152.9932721,-26.770481399999998],[152.9963051,-26.77225039999999],[152.99631310000004,-26.774610399999997],[152.9985291,-26.7758584],[153.0009241,-26.77384139999999],[153.0117921,-26.7741134],[153.0111451,-26.7780364],[153.0116061,-26.779849399999993],[153.0090701,-26.7824614],[153.0229353,-26.7843191],[153.0222016,-26.793119100000006],[153.0245303,-26.7957306],[153.0331122,-26.797140400000007],[153.036994,-26.79550979999999],[153.0407426,-26.791637199999993],[153.0455538,-26.7899113]]]]}},{"type":"Feature","properties":{"suburb_name":"Maroochy River","suburb_areasqkm":25.9046,"address_cnt":1017.0,"address_density_sqkm":39.0,"tp":"Suburb : Maroochy River<br>Density per sqkm: 39"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.03113620000002,-26.563949400000002],[153.0306212,-26.568683799999995],[153.0386164,-26.5698098],[153.0427475,-26.569969600000004],[153.0482476,-26.567715899999993],[153.0486962,-26.5650988],[153.0535882,-26.565775399999996],[153.0540921,-26.5635845],[153.0517281,-26.56259349999999],[153.0496386,-26.559896299999995],[153.0636376,-26.561834299999994],[153.0639401,-26.5614215],[153.06439210000002,-26.564691500000006],[153.0626821,-26.5667604],[153.0644491,-26.569265499999997],[153.0634371,-26.5725504],[153.0643451,-26.573828400000004],[153.0654351,-26.575155399999996],[153.0666961,-26.58069349999999],[153.066069,-26.5821264],[153.04638740000001,-26.579252999999998],[153.0443467,-26.590659000000002],[153.0398071,-26.589940400000003],[153.0377931,-26.592412400000004],[153.0401701,-26.593959399999992],[153.0398321,-26.598458400000002],[153.0354622,-26.595620399999998],[153.0347764,-26.599338799999998],[153.0304408,-26.5987338],[153.024052,-26.596156399999995],[153.0223812,-26.593998399999997],[153.0196935,-26.594180600000005],[153.0169064,-26.596491999999994],[153.0106522,-26.596421400000004],[153.0095471,-26.593517399999996],[153.0058771,-26.5915734],[153.0055472,-26.5937464],[153.0014501,-26.593244399999993],[153.0011082,-26.595160399999997],[152.9962052,-26.594476399999994],[152.9959322,-26.596219399999995],[152.9869722,-26.594960400000005],[152.98909010000003,-26.5816134],[152.9783391,-26.579904400000004],[152.9779102,-26.577212399999997],[152.97875120000003,-26.5725144],[152.9803461,-26.569345399999996],[152.9825102,-26.567193500000002],[152.9867301,-26.565674400000002],[152.9885602,-26.5555544],[152.9924552,-26.552686399999995],[152.9954191,-26.554089399999995],[152.9969382,-26.55719640000001],[153.0058332,-26.558488400000005],[153.0085211,-26.560925299999994],[153.0074552,-26.5622804],[153.0169831,-26.5636654],[153.0172812,-26.5620024],[153.03113620000002,-26.563949400000002]]]]}},{"type":"Feature","properties":{"suburb_name":"Meldale","suburb_areasqkm":5.5769,"address_cnt":133.0,"address_density_sqkm":24.0,"tp":"Suburb : Meldale<br>Density per sqkm: 24"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0837011,-27.026174499999993],[153.0810071,-27.029277399999998],[153.07981610000002,-27.035271399999992],[153.0798671,-27.040323399999995],[153.0764751,-27.041866499999994],[153.0733671,-27.0409694],[153.0713641,-27.0389284],[153.0733231,-27.036801399999998],[153.0719301,-27.0346164],[153.0696011,-27.0335114],[153.06411410000004,-27.0332864],[153.0623271,-27.034305399999994],[153.0552241,-27.032770399999997],[153.0512891,-27.029906399999998],[153.0521631,-27.024365499999995],[153.0572244,-27.019968999999993],[153.0563691,-27.017429399999997],[153.0630401,-27.018553500000003],[153.0682351,-27.0225824],[153.0771041,-27.017419399999998],[153.0803781,-27.015129500000008],[153.08329,-27.01496609999999],[153.0857331,-27.018017999999994],[153.0858731,-27.020487100000004],[153.0836811,-27.022386],[153.0837011,-27.026174499999993]]]]}},{"type":"Feature","properties":{"suburb_name":"Moorina (Qld)","suburb_areasqkm":14.787,"address_cnt":198.0,"address_density_sqkm":13.0,"tp":"Suburb : Moorina (Qld)<br>Density per sqkm: 13"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.8916931,-27.139644399999998],[152.8908443,-27.1445845],[152.8877247,-27.144152899999998],[152.8855201,-27.1565404],[152.8877881,-27.157875400000005],[152.8939121,-27.1572814],[152.8939721,-27.158478399999996],[152.8917961,-27.1704681],[152.8824931,-27.169144400000004],[152.8830411,-27.16606439999999],[152.8770241,-27.1652094],[152.8744791,-27.1641124],[152.8722771,-27.1681714],[152.8700751,-27.167741399999997],[152.8673801,-27.168696400000005],[152.8623891,-27.171648400000002],[152.8587191,-27.169048400000005],[152.8550942,-27.169981399999998],[152.8576221,-27.154382400000003],[152.8529188,-27.153506299999997],[152.8510168,-27.1546103],[152.8483161,-27.154367400000005],[152.8510651,-27.139651399999998],[152.8529961,-27.137807399999996],[152.85928210000003,-27.139241999999985],[152.8584621,-27.143815399999998],[152.8638591,-27.145015400000002],[152.8669221,-27.141329399999993],[152.8660811,-27.136908399999996],[152.8669601,-27.13493039999999],[152.8653131,-27.13318539999999],[152.8649821,-27.1309484],[152.8664411,-27.1289864],[152.8652221,-27.125450399999988],[152.8637931,-27.124309399999998],[152.8776331,-27.1259974],[152.8843871,-27.1263354],[152.8850615,-27.129010400000006],[152.8875771,-27.13068789999999],[152.8898979,-27.134043499999997],[152.8928557,-27.133228500000005],[152.8916931,-27.139644399999998]]]]}},{"type":"Feature","properties":{"suburb_name":"Mount Ommaney","suburb_areasqkm":2.2623,"address_cnt":1457.0,"address_density_sqkm":644.0,"tp":"Suburb : Mount Ommaney<br>Density per sqkm: 644"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9431751,-27.543073000000003],[152.941622,-27.546874399999993],[152.9409743,-27.552094099999994],[152.9354938,-27.55125089999999],[152.9344107,-27.552988799999998],[152.9295492,-27.551403699999998],[152.9219413,-27.550147799999998],[152.9209857,-27.546374599999996],[152.9241603,-27.544336800000004],[152.9253642,-27.542091499999998],[152.9272313,-27.5391798],[152.928891,-27.540367399999997],[152.9335541,-27.537978699999996],[152.9345501,-27.54040069999999],[152.9404321,-27.542564700000003],[152.9431751,-27.543073000000003]]]]}},{"type":"Feature","properties":{"suburb_name":"Nudgee Beach","suburb_areasqkm":4.7266,"address_cnt":197.0,"address_density_sqkm":42.0,"tp":"Suburb : Nudgee Beach<br>Density per sqkm: 42"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.1080641,-27.3480845],[153.105561,-27.351693500000007],[153.102915,-27.360140500000004],[153.102792,-27.362100500000004],[153.106537,-27.3761825],[153.105984,-27.3779795],[153.10496,-27.374940499999997],[153.102123,-27.371567399999996],[153.100278,-27.3712235],[153.09785620000002,-27.3669994],[153.0971081,-27.364029399999996],[153.0919791,-27.358012500000008],[153.0905741,-27.357063400000005],[153.0860295,-27.356209900000003],[153.0866751,-27.3543374],[153.082395,-27.352976499999993],[153.0830121,-27.350260500000005],[153.084602,-27.348697399999995],[153.089408,-27.351296499999997],[153.09290300000004,-27.349624400000003],[153.090109,-27.343827399999995],[153.087832,-27.34540739999999],[153.0847671,-27.343444399999992],[153.084924,-27.338716500000007],[153.08176110000002,-27.334600399999996],[153.082563,-27.333445400000002],[153.0938513,-27.339104200000005],[153.09589600000004,-27.342105500000002],[153.09978510000002,-27.342738499999996],[153.1080641,-27.3480845]]]]}},{"type":"Feature","properties":{"suburb_name":"Palmview","suburb_areasqkm":18.5626,"address_cnt":4920.0,"address_density_sqkm":265.0,"tp":"Suburb : Palmview<br>Density per sqkm: 265"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.1043471,-26.733512399999995],[153.1040391,-26.73648349999999],[153.1055071,-26.738267399999998],[153.1043411,-26.7417264],[153.1007131,-26.743694399999995],[153.0949171,-26.74278840000001],[153.0900061,-26.740590500000007],[153.0873736,-26.741944500000002],[153.0828501,-26.745582400000007],[153.0831731,-26.746907400000005],[153.0806251,-26.7494314],[153.0808801,-26.7516614],[153.0788501,-26.753071399999996],[153.0753351,-26.75340539999998],[153.0712211,-26.7552265],[153.0684071,-26.755236399999994],[153.0663261,-26.7571135],[153.0650491,-26.7598554],[153.05783710000003,-26.76432039999999],[153.0558681,-26.76659239999999],[153.0526051,-26.76679340000001],[153.0500701,-26.768317399999994],[153.0447921,-26.768553400000002],[153.045958,-26.7637615],[153.0463535,-26.758556299999995],[153.0433621,-26.760394400000003],[153.0339325,-26.759739600000007],[153.0300962,-26.760136400000004],[153.0277476,-26.7611783],[153.0287819,-26.755422700000004],[153.0244771,-26.7522154],[153.02569910000003,-26.749210399999996],[153.026721,-26.743258799999996],[153.03158710000002,-26.743934000000003],[153.03301850000003,-26.73537440000001],[153.0394284,-26.733741300000002],[153.0467465,-26.734938100000008],[153.046603,-26.733726799999992],[153.0521998,-26.7331069],[153.0559582,-26.7320151],[153.0577951,-26.72846639999999],[153.0615001,-26.728149400000003],[153.0644191,-26.728944399999996],[153.0683171,-26.731736399999992],[153.0710751,-26.7310154],[153.0737191,-26.733287399999995],[153.0770721,-26.7339794],[153.0789541,-26.733130399999997],[153.0835891,-26.736284400000002],[153.0832561,-26.737831400000005],[153.0852811,-26.740127499999993],[153.0869181,-26.730633499999996],[153.0926393,-26.7318421],[153.1043471,-26.733512399999995]]]]}},{"type":"Feature","properties":{"suburb_name":"South Maclean","suburb_areasqkm":17.7198,"address_cnt":1943.0,"address_density_sqkm":110.0,"tp":"Suburb : South Maclean<br>Density per sqkm: 110"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.023481,-27.78537639999999],[153.028019,-27.786038399999992],[153.0274999,-27.789824499999995],[153.0247419,-27.803443499999993],[153.0279653,-27.8092628],[153.025419,-27.8088304],[153.023541,-27.8065475],[153.0169101,-27.80452349999999],[153.012093,-27.805638499999997],[153.007458,-27.8047845],[153.0055381,-27.8032615],[152.994725,-27.801631399999998],[152.9928359,-27.811026399999996],[152.98056600000004,-27.809228500000003],[152.9733829,-27.8155195],[152.97041510000003,-27.817490500000005],[152.9659421,-27.814574599999993],[152.9646061,-27.8119893],[152.9682041,-27.8076722],[152.9669645,-27.8068942],[152.9721614,-27.800550299999998],[152.977426,-27.800940099999995],[152.9739645,-27.795109300000004],[152.973433,-27.798032500000005],[152.9613024,-27.796313999999995],[152.9621479,-27.791746],[152.9564751,-27.790852799999996],[152.961986,-27.781538400000006],[152.962648,-27.778919399999992],[152.9806101,-27.781579899999997],[152.980862,-27.778295500000002],[152.9989379,-27.78094839999999],[152.99933900000002,-27.778686399999994],[153.002016,-27.779188399999995],[153.004301,-27.7822584],[153.0108481,-27.784927499999995],[153.015985,-27.782672399999996],[153.018159,-27.788369399999997],[153.022137,-27.788841399999992],[153.023481,-27.78537639999999]]]]}},{"type":"Feature","properties":{"suburb_name":"Nirimba (Qld)","suburb_areasqkm":0.475,"address_cnt":1124.0,"address_density_sqkm":2366.0,"tp":"Suburb : Nirimba (Qld)<br>Density per sqkm: 2,366"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0578023,-26.816559199999997],[153.0613861,-26.8175174],[153.0625471,-26.81951649999999],[153.0615365,-26.824209700000004],[153.0555774,-26.823241199999988],[153.0568771,-26.8174065],[153.0578023,-26.816559199999997]]]]}},{"type":"Feature","properties":{"suburb_name":"One Mile (Qld)","suburb_areasqkm":1.7282,"address_cnt":994.0,"address_density_sqkm":575.0,"tp":"Suburb : One Mile (Qld)<br>Density per sqkm: 575"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.7474115,-27.624812199999997],[152.747802,-27.626699399999996],[152.745889,-27.629011400000003],[152.746189,-27.6398414],[152.745866,-27.6417494],[152.7423741,-27.644862399999994],[152.7405971,-27.644820400000004],[152.7382461,-27.6425024],[152.738099,-27.637659400000004],[152.7358341,-27.634669400000003],[152.7335349,-27.634247199999997],[152.7320681,-27.630925],[152.740455,-27.627968400000004],[152.743826,-27.627306399999995],[152.7474115,-27.624812199999997]]]]}},{"type":"Feature","properties":{"suburb_name":"Bonogin","suburb_areasqkm":39.3652,"address_cnt":2141.0,"address_density_sqkm":54.0,"tp":"Suburb : Bonogin<br>Density per sqkm: 54"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.3844032,-28.1040117],[153.3822129,-28.115330499999995],[153.3834809,-28.116188499999996],[153.3858989,-28.114640500000004],[153.3881839,-28.116295199999996],[153.3886439,-28.1196155],[153.3874009,-28.122815499999994],[153.3880469,-28.126018499999997],[153.3905129,-28.126571499999997],[153.3922839,-28.1284575],[153.3974854,-28.127976399999998],[153.3978461,-28.131399500000008],[153.3947,-28.130936400000003],[153.3938994,-28.1322882],[153.3898159,-28.131381099999995],[153.3866544,-28.132076200000004],[153.3857511,-28.13476719999999],[153.3867273,-28.136831299999997],[153.3866365,-28.139818899999998],[153.3920121,-28.143157499999997],[153.3915259,-28.145074499999996],[153.3884469,-28.1461415],[153.3871819,-28.1484905],[153.38016590000004,-28.14743149999999],[153.3775866,-28.160891799999998],[153.3686759,-28.159563499999997],[153.36815360000003,-28.162165899999994],[153.3641076,-28.162300800000004],[153.3608095,-28.158476300000004],[153.3551662,-28.158681899999994],[153.3524133,-28.1600585],[153.3485275,-28.160550900000004],[153.3477129,-28.16535010000001],[153.348024,-28.168200200000005],[153.3452009,-28.169315399999984],[153.34059760000002,-28.173356199999994],[153.3373977,-28.173299899999996],[153.3346563,-28.175744299999998],[153.3324064,-28.178958400000006],[153.3295725,-28.1809688],[153.3265397,-28.185565699999998],[153.3215999,-28.18567880000001],[153.3200119,-28.17989530000001],[153.3185942,-28.1774222],[153.3194915,-28.169306300000002],[153.32026290000002,-28.167020399999988],[153.3226656,-28.165319800000006],[153.3237795,-28.159049499999995],[153.3213329,-28.1544125],[153.3214389,-28.1490115],[153.3185819,-28.1434665],[153.3210939,-28.1439695],[153.3218849,-28.139502500000003],[153.3246859,-28.136065500000004],[153.325083,-28.1310285],[153.326239,-28.12999449999999],[153.3276228,-28.125801499999998],[153.3294819,-28.124924500000006],[153.3302925,-28.120866700000004],[153.328617,-28.119219300000005],[153.3294135,-28.115050400000005],[153.3358349,-28.1166645],[153.3376219,-28.105954499999996],[153.34706260000002,-28.107277399999994],[153.3524065,-28.1084652],[153.3632279,-28.110195500000003],[153.3636899,-28.1132565],[153.3670149,-28.111586499999998],[153.3700129,-28.10653449999999],[153.3728568,-28.107079499999994],[153.3737029,-28.1041235],[153.3760249,-28.10502449999999],[153.3844032,-28.1040117]]]]}},{"type":"Feature","properties":{"suburb_name":"Gaven","suburb_areasqkm":7.1615,"address_cnt":793.0,"address_density_sqkm":111.0,"tp":"Suburb : Gaven<br>Density per sqkm: 111"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.329714,-27.926281499999998],[153.33437290000003,-27.9329585],[153.3377479,-27.9414875],[153.3427409,-27.951613499999993],[153.3441049,-27.955017499999997],[153.34524390000004,-27.9606375],[153.3466989,-27.9668975],[153.3471269,-27.97105049999999],[153.3461129,-27.9746575],[153.3443839,-27.976942499999996],[153.3360509,-27.9757105],[153.336933,-27.970400100000003],[153.3217859,-27.968177499999992],[153.3242305,-27.955056699999997],[153.323812,-27.9548545],[153.324248,-27.9503345],[153.3256649,-27.948534499999997],[153.3258839,-27.945299500000004],[153.327094,-27.944495500000002],[153.3327009,-27.9455685],[153.3359059,-27.94349949999999],[153.3358799,-27.940930500000004],[153.3345229,-27.938204499999998],[153.3308839,-27.9416945],[153.3289659,-27.939532499999995],[153.331304,-27.936831500000007],[153.3284219,-27.9352705],[153.3280539,-27.9327465],[153.3263883,-27.930458000000005],[153.327409,-27.9259654],[153.329714,-27.926281499999998]]]]}},{"type":"Feature","properties":{"suburb_name":"Whiteside","suburb_areasqkm":15.3786,"address_cnt":293.0,"address_density_sqkm":19.0,"tp":"Suburb : Whiteside<br>Density per sqkm: 19"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9575689,-27.2617274],[152.9558222,-27.2624354],[152.9564439,-27.266954400000003],[152.9534512,-27.265495399999995],[152.9496601,-27.260740499999997],[152.9506191,-27.259376400000004],[152.949462,-27.257367500000004],[152.9461961,-27.256733399999998],[152.9423182,-27.262048399999998],[152.938247,-27.2635204],[152.932712,-27.263656500000003],[152.930264,-27.2671274],[152.9268901,-27.268748400000003],[152.9253172,-27.2721144],[152.922281,-27.27341739999999],[152.9178879,-27.270736399999997],[152.913722,-27.2674185],[152.9104762,-27.266056399999993],[152.9061282,-27.265613399999992],[152.9032809,-27.266239499999994],[152.9025202,-27.268903500000004],[152.9005111,-27.270336499999992],[152.89714,-27.267935400000002],[152.897135,-27.2632445],[152.8988832,-27.261497499999994],[152.902936,-27.259867500000002],[152.904889,-27.260820399999997],[152.9073871,-27.2599544],[152.9066001,-27.2566664],[152.904448,-27.255340500000003],[152.9023712,-27.256629499999995],[152.896447,-27.252943400000007],[152.8949271,-27.2499045],[152.8963329,-27.247162400000004],[152.893801,-27.2450744],[152.8957691,-27.242701399999994],[152.8996381,-27.243561499999995],[152.901635,-27.242568399999996],[152.89984,-27.240700399999998],[152.8997799,-27.238889499999996],[152.897756,-27.2364444],[152.8949141,-27.237321399999995],[152.8919362,-27.236783399999993],[152.89102,-27.233599400000003],[152.8895772,-27.2329154],[152.886677,-27.2289914],[152.887734,-27.2263584],[152.8857983,-27.2229844],[152.89101500000004,-27.219463400000002],[152.89132600000002,-27.217756500000004],[152.8969281,-27.220677399999992],[152.9006161,-27.2244744],[152.9069661,-27.2293784],[152.9101481,-27.2326654],[152.9146511,-27.235386399999996],[152.9176991,-27.23858139999999],[152.9199601,-27.243227500000003],[152.9225671,-27.246229400000004],[152.9281081,-27.248708399999995],[152.9325399,-27.248390400000005],[152.934508,-27.2504344],[152.939291,-27.253503399999996],[152.9439512,-27.255055399999996],[152.9487,-27.2554865],[152.9519219,-27.258637499999995],[152.9562869,-27.258803400000005],[152.9575689,-27.2617274]]]]}},{"type":"Feature","properties":{"suburb_name":"Clagiraba","suburb_areasqkm":27.6766,"address_cnt":321.0,"address_density_sqkm":12.0,"tp":"Suburb : Clagiraba<br>Density per sqkm: 12"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.2888509,-28.006864500000002],[153.2846269,-28.0106095],[153.2821409,-28.014353500000002],[153.2785019,-28.015754499999993],[153.2785319,-28.019200499999997],[153.2738799,-28.0192905],[153.2729659,-28.022293500000004],[153.2692059,-28.021086499999996],[153.2668139,-28.0252915],[153.2604099,-28.024262499999995],[153.2570054,-28.023738599999994],[153.2545095,-28.026273299999993],[153.2542318,-28.029737900000004],[153.2528005,-28.0309106],[153.2456255,-28.029919700000004],[153.2477502,-28.019169800000004],[153.24491190000003,-28.016684500000004],[153.2404359,-28.014673599999988],[153.2408739,-28.011433500000003],[153.2388825,-28.011155099999996],[153.2186396,-28.008325900000006],[153.2181,-28.0060065],[153.219733,-28.003375500000004],[153.2208989,-27.9996925],[153.220534,-27.994370499999995],[153.21066900000002,-27.992956999999997],[153.2112729,-27.989882299999998],[153.2079341,-27.985767999999997],[153.20132670000004,-27.982683299999998],[153.2007739,-27.980541200000005],[153.2035295,-27.9783579],[153.22512210000002,-27.981638399999994],[153.2259345,-27.977172499999998],[153.2201564,-27.9762413],[153.2217735,-27.9681155],[153.2240453,-27.96284710000001],[153.2227481,-27.96229080000001],[153.2228816,-27.959194999999994],[153.224073,-27.956786999999995],[153.232322,-27.9580385],[153.2363809,-27.959677400000004],[153.2386679,-27.961450399999993],[153.2421398,-27.959176499999998],[153.2455868,-27.95919849999999],[153.248744,-27.95742050000001],[153.2551199,-27.960989499999997],[153.252219,-27.96094849999999],[153.2468299,-27.967443499999998],[153.2476259,-27.968640500000006],[153.2520429,-27.971372500000005],[153.253641,-27.97320849999999],[153.2519229,-27.9743935],[153.246661,-27.975420499999988],[153.2451719,-27.977141499999988],[153.2480609,-27.979691500000012],[153.2527629,-27.980937499999996],[153.2529149,-27.9830825],[153.257409,-27.984697499999996],[153.2568999,-27.9874895],[153.2552229,-27.990145499999997],[153.25688800000003,-27.994339499999995],[153.26051,-27.995265500000002],[153.2587048,-27.999189500000007],[153.2625249,-27.999960500000004],[153.26296,-28.0022435],[153.26593,-28.0066955],[153.2698529,-28.007931499999998],[153.2712669,-28.005486500000004],[153.2757809,-28.00533649999999],[153.2836849,-28.00715749999999],[153.2888509,-28.006864500000002]]]]}},{"type":"Feature","properties":{"suburb_name":"Moodlu","suburb_areasqkm":4.5949,"address_cnt":163.0,"address_density_sqkm":35.0,"tp":"Suburb : Moodlu<br>Density per sqkm: 35"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9137444,-27.069844399999997],[152.9115131,-27.068173400000003],[152.9066401,-27.066221399999993],[152.9014581,-27.062297399999995],[152.9017241,-27.058808399999993],[152.8995191,-27.057222399999997],[152.9006619,-27.049928700000002],[152.9027731,-27.050206399999993],[152.9034931,-27.045787399999995],[152.9013591,-27.045507399999998],[152.9019711,-27.041646399999994],[152.9112921,-27.042870399999995],[152.9139671,-27.041735200000005],[152.9172331,-27.042210900000004],[152.9160249,-27.049602],[152.9228981,-27.0506524],[152.9218391,-27.0565274],[152.9179561,-27.0559524],[152.9166441,-27.0631254],[152.9219891,-27.063977399999995],[152.9213804,-27.067582600000005],[152.9098049,-27.061826799999995],[152.91486,-27.068079199999996],[152.9137444,-27.069844399999997]]]]}},{"type":"Feature","properties":{"suburb_name":"Woodhill (Qld)","suburb_areasqkm":12.8782,"address_cnt":751.0,"address_density_sqkm":58.0,"tp":"Suburb : Woodhill (Qld)<br>Density per sqkm: 58"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.002599,-27.891235499999993],[153.0013499,-27.895710499999996],[152.9974651,-27.895743399999997],[152.9935029,-27.894785399999996],[152.99183,-27.896114499999996],[152.9884168,-27.896720399999992],[152.9866139,-27.902138],[152.9756928,-27.900558299999997],[152.9751233,-27.902029699999993],[152.948195,-27.8982144],[152.947111,-27.895940399999994],[152.949887,-27.895186400000004],[152.95169,-27.891595399999993],[152.951033,-27.890154400000004],[152.95137,-27.8855545],[152.950082,-27.881948500000007],[152.947951,-27.8806534],[152.946128,-27.877349400000003],[152.943947,-27.868303399999995],[152.9571211,-27.870233099999997],[152.957216,-27.8697784],[152.974694,-27.872494500000002],[152.9726071,-27.878934499999993],[152.9840222,-27.880654499999995],[152.986081,-27.881706499999996],[152.993766,-27.88288239999999],[152.992885,-27.8874975],[153.0014381,-27.8888165],[153.002599,-27.891235499999993]]]]}},{"type":"Feature","properties":{"suburb_name":"Curramore (Qld)","suburb_areasqkm":37.7549,"address_cnt":116.0,"address_density_sqkm":3.0,"tp":"Suburb : Curramore (Qld)<br>Density per sqkm: 3"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.8063984,-26.679686099999998],[152.80490220000002,-26.68654340000001],[152.8013571,-26.707263400000002],[152.7991202,-26.70918740000001],[152.7957661,-26.7093704],[152.7917191,-26.709304400000004],[152.7902155,-26.7060174],[152.7820872,-26.702135399999996],[152.7772862,-26.703348399999996],[152.7778452,-26.698454399999996],[152.7756691,-26.695047400000004],[152.7604982,-26.6928724],[152.7591931,-26.696803400000004],[152.7549732,-26.696212399999997],[152.7539482,-26.699949400000005],[152.7481152,-26.6986574],[152.7480521,-26.700687399999996],[152.7401311,-26.701025399999995],[152.7388521,-26.701753399999998],[152.7227441,-26.6990334],[152.7242113,-26.691463899999988],[152.71417380000003,-26.689886199999993],[152.7152742,-26.687834399999993],[152.7118202,-26.683565400000006],[152.7092442,-26.680089399999996],[152.7109782,-26.677902400000004],[152.7079812,-26.675468399999996],[152.7091142,-26.67314240000001],[152.7091682,-26.670142399999996],[152.7063282,-26.668448400000003],[152.7023951,-26.6634414],[152.7042312,-26.6587164],[152.7044861,-26.655212399999993],[152.70659400000002,-26.642420700000002],[152.7090653,-26.6420804],[152.7120843,-26.643433399999996],[152.7175631,-26.644489400000005],[152.7185452,-26.6465484],[152.7233716,-26.644849899999997],[152.7271636,-26.652015899999995],[152.7279956,-26.655714899999996],[152.7302953,-26.659662399999995],[152.7368016,-26.660501399999998],[152.7378333,-26.654154400000003],[152.7348032,-26.65316039999999],[152.7355531,-26.649520400000004],[152.7412703,-26.6492596],[152.7489092,-26.659043399999998],[152.7534738,-26.659993999999994],[152.75507620000002,-26.66644639999999],[152.7582302,-26.667305399999996],[152.75631720000004,-26.6771604],[152.7573972,-26.67821239999999],[152.7643332,-26.6791934],[152.76517320000002,-26.67499939999999],[152.7668112,-26.672199399999997],[152.7687062,-26.672468399999993],[152.771836,-26.6765534],[152.773897,-26.677941400000012],[152.7806892,-26.679282399999998],[152.7825581,-26.6688815],[152.7962087,-26.670841299999992],[152.79346870000003,-26.6739813],[152.7917648,-26.677567299999996],[152.8063984,-26.679686099999998]]]]}},{"type":"Feature","properties":{"suburb_name":"Peak Crossing","suburb_areasqkm":91.5613,"address_cnt":117.0,"address_density_sqkm":1.0,"tp":"Suburb : Peak Crossing<br>Density per sqkm: 1"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.685207,-27.7398384],[152.692995,-27.740388399999997],[152.7011099,-27.742000399999995],[152.7178769,-27.744409499999996],[152.718954,-27.746906399999997],[152.736409,-27.7494434],[152.757833,-27.752505399999997],[152.7576889,-27.755875699999994],[152.765398,-27.7569774],[152.765501,-27.756368399999996],[152.785378,-27.7590424],[152.788172,-27.756877400000004],[152.792492,-27.754914399999993],[152.804559,-27.7565134],[152.804276,-27.758271399999998],[152.808017,-27.758778399999994],[152.80653380000004,-27.7682488],[152.8055756,-27.7681304],[152.8041168,-27.77632459999999],[152.804833,-27.776424399999986],[152.8033064,-27.785573200000005],[152.8114386,-27.786795499999997],[152.811838,-27.784514400000006],[152.814715,-27.7852994],[152.821764,-27.784996399999997],[152.821764,-27.789094400000003],[152.824437,-27.793757399999997],[152.825682,-27.798111399999996],[152.825322,-27.8001694],[152.826465,-27.807496399999998],[152.827408,-27.809637400000003],[152.8264137,-27.8150404],[152.816365,-27.813620399999998],[152.8140616,-27.826200799999995],[152.804052,-27.824847399999996],[152.802681,-27.8318524],[152.800563,-27.8315444],[152.7872253,-27.829540799999997],[152.7883281,-27.82379259999999],[152.7636826,-27.819951900000003],[152.7627157,-27.824800599999993],[152.7600862,-27.824395399999997],[152.757489,-27.819179399999996],[152.754392,-27.818316900000003],[152.742263,-27.816352400000003],[152.713153,-27.81208539999999],[152.707332,-27.811183399999997],[152.7021572,-27.808053399999995],[152.7027069,-27.805376400000007],[152.693772,-27.804133399999994],[152.6964971,-27.789738399999994],[152.6923601,-27.789101399999996],[152.694545,-27.7773254],[152.686206,-27.776061399999996],[152.683392,-27.7706754],[152.684298,-27.767137399999992],[152.69137,-27.7615494],[152.69107600000004,-27.7574344],[152.689842,-27.7556294],[152.685598,-27.754772399999993],[152.686306,-27.750448399999996],[152.685737,-27.747951399999994],[152.688311,-27.743100399999996],[152.685207,-27.7398384]]]]}},{"type":"Feature","properties":{"suburb_name":"Springbrook","suburb_areasqkm":52.7159,"address_cnt":722.0,"address_density_sqkm":14.0,"tp":"Suburb : Springbrook<br>Density per sqkm: 14"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.2939199,-28.129119499999995],[153.2958129,-28.129398499999997],[153.2923419,-28.137675499999993],[153.2889099,-28.138312499999998],[153.2884099,-28.141727499999995],[153.2970959,-28.1429515],[153.2985166,-28.1446635],[153.2977699,-28.148603499999993],[153.2950149,-28.149572500000005],[153.2974619,-28.153634499999995],[153.2962879,-28.155721499999988],[153.2963009,-28.166155499999995],[153.2974629,-28.168334499999997],[153.2959499,-28.171818500000004],[153.2941369,-28.173828499999996],[153.2959479,-28.1807855],[153.2959069,-28.184977500000006],[153.3007619,-28.191408499999994],[153.3005169,-28.195239499999996],[153.3042529,-28.195728500000005],[153.3046679,-28.194225499999995],[153.3106449,-28.196365500000002],[153.3153091,-28.199869699999997],[153.3131549,-28.2040337],[153.3172911,-28.2070021],[153.3131584,-28.211534999999998],[153.3118495,-28.2113407],[153.3014149,-28.222581099999996],[153.2992649,-28.221918499999997],[153.2983718,-28.219495500000004],[153.2964799,-28.2191325],[153.2953706,-28.222863300000004],[153.2942686,-28.230473199999995],[153.2966492,-28.232647699999998],[153.2968412,-28.234269299999998],[153.2915154,-28.233745999999993],[153.2866099,-28.2354165],[153.2819929,-28.233779500000004],[153.2772069,-28.234191999999997],[153.2742419,-28.237996500000005],[153.2690599,-28.238598499999995],[153.2653416,-28.241253399999994],[153.2577009,-28.23993249999999],[153.2600799,-28.238699500000003],[153.2584489,-28.235882499999992],[153.2581339,-28.233208499999993],[153.2591149,-28.230674499999992],[153.2573189,-28.228312500000005],[153.2615659,-28.226376499999997],[153.2600909,-28.2246305],[153.2567369,-28.22686849999999],[153.2543489,-28.225617499999995],[153.2562669,-28.221950499999995],[153.2566459,-28.218740500000003],[153.2536229,-28.21713250000001],[153.2529729,-28.214460499999998],[153.2533219,-28.21071349999999],[153.2501259,-28.208846499999993],[153.2508349,-28.2038695],[153.2528159,-28.200688499999995],[153.2539089,-28.198672500000004],[153.2522069,-28.194217500000004],[153.2493819,-28.19285049999999],[153.2488199,-28.1903875],[153.2464328,-28.1869497],[153.2466858,-28.180878500000002],[153.2463118,-28.178285499999994],[153.2420199,-28.174148499999998],[153.2376269,-28.167648500000002],[153.2448119,-28.168742500000004],[153.2483199,-28.168450500000006],[153.2489759,-28.1607385],[153.2465979,-28.157096499999998],[153.2490959,-28.152859499999995],[153.2478649,-28.146779500000008],[153.2572379,-28.148106499999994],[153.2579059,-28.1417975],[153.2635139,-28.1425755],[153.2646389,-28.1406135],[153.2602079,-28.136876500000003],[153.2585379,-28.136126499999996],[153.2577109,-28.132797499999995],[153.2735119,-28.134932499999998],[153.2735739,-28.1367525],[153.2684579,-28.1370115],[153.2674769,-28.1414745],[153.2780039,-28.142925499999997],[153.2795859,-28.136331499999994],[153.2824649,-28.1400445],[153.2844199,-28.141175499999996],[153.2840239,-28.1365275],[153.2849079,-28.135870500000003],[153.2918929,-28.1366045],[153.2929319,-28.132819499999997],[153.2904149,-28.13153949999999],[153.2939199,-28.129119499999995]]]]}},{"type":"Feature","properties":{"suburb_name":"North Arm (Qld)","suburb_areasqkm":22.5321,"address_cnt":404.0,"address_density_sqkm":18.0,"tp":"Suburb : North Arm (Qld)<br>Density per sqkm: 18"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.936743,-26.4949134],[152.9401391,-26.4927919],[152.9623269,-26.4956076],[152.9622252,-26.499319400000005],[152.9856692,-26.502636399999997],[152.9861462,-26.4995604],[152.9934963,-26.500488799999992],[152.9972232,-26.503676400000003],[153.0010192,-26.5052594],[153.0001522,-26.50989239999999],[152.9940372,-26.509076399999998],[152.9923831,-26.518952400000003],[152.9883981,-26.518411399999994],[152.9877242,-26.521845399999997],[152.9866012,-26.52910539999999],[152.9860671,-26.529289399999993],[152.9718932,-26.527547399999992],[152.9694222,-26.528943399999996],[152.9607022,-26.527772399999996],[152.9590392,-26.5259794],[152.9599381,-26.524071399999993],[152.9553267,-26.521884600000003],[152.9555202,-26.527117399999995],[152.9225852,-26.52274939999999],[152.91905240000003,-26.5190023],[152.9175152,-26.516658399999994],[152.9212063,-26.514401099999994],[152.9238241,-26.499592400000004],[152.9237592,-26.49828539999999],[152.9311603,-26.499317900000005],[152.9318822,-26.49515359999999],[152.936743,-26.4949134]]]]}},{"type":"Feature","properties":{"suburb_name":"Goolman","suburb_areasqkm":21.0127,"address_cnt":44.0,"address_density_sqkm":2.0,"tp":"Suburb : Goolman<br>Density per sqkm: 2"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.7479283,-27.705160600000003],[152.7562529,-27.704407400000008],[152.759436,-27.705287],[152.758622,-27.709691399999993],[152.7766378,-27.712288999999995],[152.773544,-27.7289694],[152.7864443,-27.730972899999998],[152.799302,-27.732454400000005],[152.7968439,-27.74872909999999],[152.792492,-27.754914399999993],[152.788172,-27.756877400000004],[152.785378,-27.7590424],[152.765501,-27.756368399999996],[152.765398,-27.7569774],[152.7576889,-27.755875699999994],[152.757833,-27.752505399999997],[152.736409,-27.7494434],[152.73655,-27.748112399999993],[152.739704,-27.744603399999995],[152.741904,-27.739261400000004],[152.7412481,-27.73406840000001],[152.7490091,-27.735176400000007],[152.7503761,-27.72561840000001],[152.75204,-27.7177254],[152.749307,-27.7172024],[152.7479283,-27.705160600000003]]]]}},{"type":"Feature","properties":{"suburb_name":"Mount Forbes","suburb_areasqkm":39.5558,"address_cnt":124.0,"address_density_sqkm":3.0,"tp":"Suburb : Mount Forbes<br>Density per sqkm: 3"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.648047,-27.703154399999995],[152.6475571,-27.705542399999995],[152.6451479,-27.718475400000003],[152.646175,-27.7199924],[152.64678990000002,-27.726362399999992],[152.631227,-27.7241644],[152.629719,-27.73311139999999],[152.6397742,-27.73293539999999],[152.636467,-27.751089400000005],[152.626651,-27.749746399999996],[152.623435,-27.767105399999995],[152.620819,-27.766291399999993],[152.6084961,-27.7645704],[152.6067431,-27.764590399999996],[152.60098810000002,-27.769126399999994],[152.586947,-27.767100400000004],[152.5865521,-27.765666400000004],[152.5810371,-27.763259399999995],[152.5848241,-27.7431314],[152.5872865,-27.7294074],[152.5879004,-27.724757899999993],[152.5798415,-27.723586499999996],[152.5815101,-27.714569400000002],[152.5731301,-27.713380400000002],[152.5757032,-27.699167299999992],[152.6024001,-27.7029754],[152.6198392,-27.6989854],[152.648047,-27.703154399999995]]]]}},{"type":"Feature","properties":{"suburb_name":"Mount Nebo","suburb_areasqkm":13.2809,"address_cnt":279.0,"address_density_sqkm":21.0,"tp":"Suburb : Mount Nebo<br>Density per sqkm: 21"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.7993311,-27.401636399999997],[152.7986585,-27.405093199999992],[152.7756215,-27.401673400000007],[152.7746331,-27.4010194],[152.7746541,-27.3931934],[152.7756441,-27.389095400000002],[152.7723831,-27.383021400000004],[152.7729081,-27.379041399999995],[152.7695861,-27.3788504],[152.7665001,-27.3769594],[152.76232410000003,-27.3717444],[152.7626361,-27.3669034],[152.7600121,-27.363880399999992],[152.7615211,-27.3618184],[152.7626211,-27.3582484],[152.7629041,-27.3545954],[152.7666801,-27.351371399999998],[152.7696488,-27.351019100000002],[152.7717671,-27.350037399999998],[152.7708971,-27.3472524],[152.7720141,-27.345967399999996],[152.7785531,-27.3492804],[152.783496,-27.350993399999997],[152.7858802,-27.3510424],[152.7889461,-27.349348400000004],[152.788236,-27.350274399999993],[152.7897511,-27.357775399999998],[152.7890341,-27.360352400000004],[152.7892211,-27.363673400000003],[152.7951201,-27.364390399999998],[152.796371,-27.3676975],[152.7919142,-27.3671215],[152.791436,-27.3700984],[152.792961,-27.37586229999999],[152.7919386,-27.376845499999998],[152.796276,-27.3789224],[152.7987881,-27.38257339999999],[152.7961971,-27.383609500000002],[152.7939766,-27.382225199999993],[152.7895359,-27.384647899999994],[152.7849781,-27.387767499999995],[152.7851121,-27.393513400000007],[152.7898387,-27.394722699999992],[152.7908564,-27.3960773],[152.7914552,-27.399947400000002],[152.7928451,-27.401703399999988],[152.7948231,-27.400752399999988],[152.7993311,-27.401636399999997]]]]}},{"type":"Feature","properties":{"suburb_name":"Weyba Downs","suburb_areasqkm":6.2149,"address_cnt":174.0,"address_density_sqkm":28.0,"tp":"Suburb : Weyba Downs<br>Density per sqkm: 28"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0499975,-26.430897900000005],[153.0605233,-26.432405899999996],[153.061368,-26.4347524],[153.0633943,-26.436914500000004],[153.063893,-26.439089400000004],[153.05904,-26.440016399999994],[153.0548903,-26.446470400000003],[153.0541873,-26.4514164],[153.0528552,-26.455332400000007],[153.0504352,-26.469224399999998],[153.0458543,-26.468572899999998],[153.0385972,-26.4631134],[153.0365122,-26.4591504],[153.0340737,-26.446207300000005],[153.0309362,-26.443247399999997],[153.0344209,-26.443402999999996],[153.0429997,-26.441622999999996],[153.0481656,-26.442344000000002],[153.0499975,-26.430897900000005]]]]}},{"type":"Feature","properties":{"suburb_name":"Ocean View","suburb_areasqkm":39.8557,"address_cnt":559.0,"address_density_sqkm":14.0,"tp":"Suburb : Ocean View<br>Density per sqkm: 14"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.8510651,-27.139651399999998],[152.8483161,-27.154367400000005],[152.8510168,-27.1546103],[152.8529188,-27.153506299999997],[152.8576221,-27.154382400000003],[152.8550942,-27.169981399999998],[152.8523262,-27.1689434],[152.8517593,-27.1674119],[152.8471235,-27.166626100000002],[152.8478582,-27.162347399999998],[152.8453551,-27.1624774],[152.8407851,-27.165412399999994],[152.83513620000002,-27.16449739999999],[152.8289229,-27.160276399999997],[152.82899670000003,-27.159317699999995],[152.8220001,-27.1583284],[152.8242332,-27.1555784],[152.82388510000004,-27.154146399999995],[152.8113009,-27.152429199999997],[152.8118186,-27.1495049],[152.8001852,-27.147715299999998],[152.8013979,-27.141403],[152.7985798,-27.141578300000003],[152.7891275,-27.1401782],[152.7897606,-27.136775099999994],[152.7855061,-27.134623400000002],[152.7830061,-27.1315514],[152.77919310000001,-27.131347400000006],[152.7761412,-27.133728399999995],[152.7767853,-27.1388004],[152.773808,-27.1384374],[152.7746152,-27.134381399999995],[152.7656368,-27.1329702],[152.7668721,-27.1270774],[152.7656041,-27.1249574],[152.7579441,-27.122626400000005],[152.7553361,-27.1193104],[152.7515101,-27.113076399999994],[152.7415592,-27.111599399999996],[152.74232620000004,-27.1074974],[152.7653641,-27.110852400000002],[152.766864,-27.10214249999999],[152.7802571,-27.104142600000007],[152.7835761,-27.086408399999996],[152.7856361,-27.088301399999995],[152.7883771,-27.089274400000004],[152.7890001,-27.091253400000003],[152.7955651,-27.09397239999999],[152.7959021,-27.095492399999998],[152.7999431,-27.0964874],[152.8031951,-27.095558400000005],[152.8051231,-27.092519399999993],[152.8057031,-27.088809400000002],[152.8143159,-27.089840500000008],[152.8139781,-27.0917204],[152.8177631,-27.092236399999997],[152.8168671,-27.097218399999992],[152.8122762,-27.0965588],[152.8118831,-27.098970399999992],[152.8086369,-27.099493000000006],[152.8072999,-27.108086200000002],[152.8202163,-27.110075400000007],[152.81944300000004,-27.113956799999993],[152.8289348,-27.115842799999996],[152.8279208,-27.121267700000008],[152.8303508,-27.1216317],[152.8286499,-27.130733699999997],[152.8302931,-27.131246400000002],[152.8364811,-27.130795399999993],[152.8359251,-27.132682399999997],[152.8395841,-27.136553399999997],[152.8426161,-27.135834399999997],[152.8472691,-27.138669399999998],[152.8510651,-27.139651399999998]]]]}},{"type":"Feature","properties":{"suburb_name":"Bellthorpe","suburb_areasqkm":74.2013,"address_cnt":131.0,"address_density_sqkm":2.0,"tp":"Suburb : Bellthorpe<br>Density per sqkm: 2"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.7635486,-26.8463894],[152.7695475,-26.8486694],[152.7699539,-26.850040399999997],[152.7649443,-26.856581400000003],[152.7713591,-26.864122399999996],[152.7688491,-26.864524400000004],[152.7680621,-26.8688024],[152.7820522,-26.870872399999993],[152.7808291,-26.877468399999994],[152.7758731,-26.876732400000005],[152.7746401,-26.883712399999993],[152.7723651,-26.885887399999987],[152.7703361,-26.885673400000005],[152.7674891,-26.883628400000003],[152.7658051,-26.887013399999997],[152.7585471,-26.888831400000004],[152.7552422,-26.892332399999997],[152.7537571,-26.8921264],[152.7525981,-26.899282400000004],[152.75564610000004,-26.8996994],[152.7570082,-26.901606399999995],[152.7569591,-26.905981399999995],[152.7560122,-26.9121424],[152.7504498,-26.911633099999996],[152.7434882,-26.910772399999992],[152.7436502,-26.909718399999996],[152.7382928,-26.909054999999995],[152.7411141,-26.8906549],[152.7375053,-26.890224100000005],[152.7381132,-26.88619539999999],[152.7427015,-26.886748099999995],[152.7434666,-26.881669900000002],[152.730689,-26.8800903],[152.732097,-26.882737700000007],[152.7193712,-26.880923399999993],[152.7184711,-26.886001400000005],[152.6879581,-26.8816464],[152.6866431,-26.877560400000004],[152.6823741,-26.873082399999994],[152.68021620000002,-26.869364400000006],[152.6759221,-26.8661304],[152.6776241,-26.863578400000005],[152.6752451,-26.8601854],[152.6756972,-26.8583064],[152.6742611,-26.856345400000006],[152.6718212,-26.857754400000008],[152.6700151,-26.854802399999993],[152.6697531,-26.847496399999994],[152.6708402,-26.84498739999999],[152.6683732,-26.842975399999997],[152.6664811,-26.839463399999996],[152.6672752,-26.835845399999997],[152.6727142,-26.8342734],[152.6784622,-26.8303954],[152.6784972,-26.828648399999988],[152.6763811,-26.8260294],[152.6790808,-26.822176099999993],[152.6775852,-26.8209244],[152.6744732,-26.821994399999998],[152.6720271,-26.82076439999999],[152.6719722,-26.818915400000005],[152.6751492,-26.818324399999998],[152.6790302,-26.816421400000003],[152.6813217,-26.809931099999996],[152.6787747,-26.8087691],[152.6780597,-26.804339099999996],[152.6799817,-26.801616100000004],[152.6792202,-26.7998644],[152.6987982,-26.802969400000002],[152.6981262,-26.805542399999997],[152.6955221,-26.8079034],[152.6964532,-26.809115399999992],[152.70914420000003,-26.811117400000004],[152.7209932,-26.8085494],[152.7222351,-26.806802399999995],[152.7266342,-26.811459399999993],[152.7263911,-26.8141814],[152.7290761,-26.816616399999994],[152.7329681,-26.8149434],[152.7351711,-26.811241400000004],[152.7336722,-26.8074754],[152.7391781,-26.808014400000005],[152.7398811,-26.80979089999999],[152.7421261,-26.810146400000004],[152.7467822,-26.815103399999998],[152.749486,-26.8162848],[152.74764910000002,-26.820007400000005],[152.746946,-26.824216500000002],[152.7424084,-26.8228343],[152.7395773,-26.8227857],[152.738858,-26.824649599999997],[152.7411059,-26.828061499999993],[152.7408439,-26.829980500000005],[152.7429849,-26.83291200000001],[152.7463541,-26.835452400000005],[152.7496687,-26.836472899999993],[152.7525781,-26.8407794],[152.7581991,-26.843940600000003],[152.7623623,-26.8448616],[152.7635486,-26.8463894]]]]}},{"type":"Feature","properties":{"suburb_name":"Wootha","suburb_areasqkm":17.1975,"address_cnt":130.0,"address_density_sqkm":8.0,"tp":"Suburb : Wootha<br>Density per sqkm: 8"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.7611022,-26.79235039999999],[152.7616082,-26.7893774],[152.7674291,-26.781727399999998],[152.7664531,-26.7799114],[152.7700191,-26.779185399999992],[152.7739382,-26.776794400000004],[152.7756981,-26.776788400000004],[152.7872711,-26.7784344],[152.7912981,-26.7809504],[152.7923942,-26.7831414],[152.79590710000002,-26.783654399999996],[152.7964611,-26.7805424],[152.8018178,-26.781312299999993],[152.8038421,-26.770103399999993],[152.8068921,-26.771020399999998],[152.8077551,-26.769573400000002],[152.8109162,-26.771853399999994],[152.81460620000001,-26.771366400000005],[152.8170982,-26.77244439999999],[152.8188571,-26.775057399999998],[152.8204112,-26.7717334],[152.8192002,-26.7692204],[152.8229382,-26.768080399999995],[152.8267722,-26.769672399999997],[152.8327691,-26.770185400000003],[152.8338202,-26.771592399999992],[152.8328871,-26.777548399999993],[152.8388891,-26.780672399999997],[152.8376451,-26.788213399999997],[152.8408101,-26.788497399999997],[152.8408891,-26.791155400000005],[152.8426831,-26.7936024],[152.8420961,-26.7956854],[152.8393331,-26.797582399999992],[152.8354751,-26.797067399999996],[152.8350691,-26.799421399999993],[152.8325661,-26.7990844],[152.8311711,-26.806258399999994],[152.8288341,-26.807782399999997],[152.8253071,-26.803651399999993],[152.8257311,-26.802647399999994],[152.8238651,-26.79888439999999],[152.8257338,-26.798328699999985],[152.8262711,-26.7953044],[152.81857,-26.794122599999998],[152.8150093,-26.791377499999996],[152.8133002,-26.7884364],[152.8121061,-26.793594399999996],[152.80392410000002,-26.792072399999988],[152.8026522,-26.797506399999993],[152.7977501,-26.797523399999996],[152.7962021,-26.7987394],[152.7936421,-26.796065399999993],[152.7903052,-26.797227399999997],[152.7875191,-26.797012400000003],[152.7852682,-26.79789939999999],[152.7803692,-26.796017400000004],[152.7794982,-26.797115399999992],[152.7758751,-26.795722399999995],[152.7710332,-26.795937399999993],[152.7669222,-26.7933114],[152.7611022,-26.79235039999999]]]]}},{"type":"Feature","properties":{"suburb_name":"Mutdapilly","suburb_areasqkm":43.7214,"address_cnt":81.0,"address_density_sqkm":2.0,"tp":"Suburb : Mutdapilly<br>Density per sqkm: 2"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.6923601,-27.789101399999996],[152.673499,-27.786394400000002],[152.662523,-27.7846434],[152.6590051,-27.782867399999994],[152.655522,-27.7879144],[152.653535,-27.7856804],[152.6465289,-27.784598399999997],[152.6439671,-27.786546399999995],[152.6319752,-27.792230400000005],[152.62967010000003,-27.7941984],[152.634259,-27.768708400000005],[152.623435,-27.767105399999995],[152.626651,-27.749746399999996],[152.636467,-27.751089400000005],[152.6397742,-27.73293539999999],[152.629719,-27.73311139999999],[152.631227,-27.7241644],[152.64678990000002,-27.726362399999992],[152.646175,-27.7199924],[152.6451479,-27.718475400000003],[152.6475571,-27.705542399999995],[152.667437,-27.7084364],[152.6712,-27.703308399999997],[152.682611,-27.7049424],[152.680486,-27.711550399999993],[152.6807171,-27.7145384],[152.6793041,-27.7174334],[152.678627,-27.7217124],[152.67877,-27.725764399999996],[152.677325,-27.729270399999994],[152.673971,-27.730472399999996],[152.6747931,-27.7344874],[152.679355,-27.735813400000005],[152.68184,-27.73811939999999],[152.685207,-27.7398384],[152.688311,-27.743100399999996],[152.685737,-27.747951399999994],[152.686306,-27.750448399999996],[152.685598,-27.754772399999993],[152.689842,-27.7556294],[152.69107600000004,-27.7574344],[152.69137,-27.7615494],[152.684298,-27.767137399999992],[152.683392,-27.7706754],[152.686206,-27.776061399999996],[152.694545,-27.7773254],[152.6923601,-27.789101399999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Obi Obi","suburb_areasqkm":34.3247,"address_cnt":168.0,"address_density_sqkm":5.0,"tp":"Suburb : Obi Obi<br>Density per sqkm: 5"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.8488312,-26.670918400000005],[152.84778100000003,-26.6725884],[152.8437601,-26.673921899999996],[152.8450132,-26.677326399999995],[152.8157592,-26.6727404],[152.8143467,-26.6804079],[152.8063984,-26.679686099999998],[152.7917648,-26.677567299999996],[152.79346870000003,-26.6739813],[152.7962087,-26.670841299999992],[152.7961676,-26.667159299999998],[152.7940556,-26.6612643],[152.7947156,-26.6598193],[152.7927926,-26.6536233],[152.7943282,-26.645205400000002],[152.7915922,-26.641727900000003],[152.7967092,-26.636610399999995],[152.7958322,-26.631880399999993],[152.7918952,-26.631055399999997],[152.7937822,-26.620292399999997],[152.7943822,-26.6204064],[152.7958402,-26.612124400000003],[152.7976492,-26.613025400000005],[152.7988892,-26.607809399999994],[152.8019152,-26.608240399999996],[152.8023642,-26.605679400000003],[152.8008142,-26.604804400000003],[152.7998312,-26.599259399999998],[152.8022311,-26.597252400000002],[152.8079102,-26.5975934],[152.8118481,-26.60013439999999],[152.8139882,-26.6031984],[152.8163231,-26.6051254],[152.8159631,-26.610853399999996],[152.8240222,-26.6177244],[152.8284152,-26.618186399999995],[152.8341471,-26.6172634],[152.8407612,-26.619217399999997],[152.8427672,-26.6214784],[152.8431181,-26.6234424],[152.8424884,-26.6263835],[152.8385032,-26.625946399999997],[152.8362892,-26.640379399999993],[152.8346272,-26.64295640000001],[152.8362252,-26.645998399999996],[152.8506102,-26.6482174],[152.8469901,-26.650801400000002],[152.8434452,-26.6546414],[152.8394791,-26.65573739999999],[152.8387064,-26.6619516],[152.8409647,-26.663372399999997],[152.8425551,-26.667321400000002],[152.8488312,-26.670918400000005]]]]}},{"type":"Feature","properties":{"suburb_name":"Undullah","suburb_areasqkm":105.1876,"address_cnt":35.0,"address_density_sqkm":0.0,"tp":"Suburb : Undullah<br>Density per sqkm: 0"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.821764,-27.784996399999997],[152.823591,-27.781053399999998],[152.84165,-27.783586399999997],[152.842059,-27.785288399999992],[152.849072,-27.785663400000004],[152.854584,-27.787991399999996],[152.858921,-27.7903734],[152.861462,-27.793415399999997],[152.863764,-27.792585399999993],[152.868587,-27.792989399999993],[152.871639,-27.797343399999995],[152.872388,-27.801360399999997],[152.875388,-27.802691399999993],[152.878534,-27.8012864],[152.881561,-27.80087639999999],[152.883835,-27.8015994],[152.889044,-27.800540399999996],[152.889683,-27.798032399999997],[152.891775,-27.798843399999992],[152.893398,-27.797323400000003],[152.896848,-27.799630399999998],[152.90606200000002,-27.8009894],[152.9021106,-27.822325500000005],[152.9064946,-27.829643500000003],[152.9092267,-27.834200000000003],[152.8948162,-27.841129399999996],[152.901851,-27.8526294],[152.900152,-27.8531154],[152.897385,-27.8575944],[152.895713,-27.856911399999994],[152.892758,-27.85215240000001],[152.892641,-27.850525399999995],[152.888132,-27.850206399999994],[152.8676022,-27.8823201],[152.848487,-27.911768400000003],[152.834517,-27.909920400000004],[152.835546,-27.903765399999997],[152.83097,-27.903159400000003],[152.826233,-27.9017444],[152.8237241,-27.9021484],[152.819286,-27.900727399999997],[152.8143799,-27.9014065],[152.8105891,-27.903890499999996],[152.803829,-27.9016104],[152.7996908,-27.90129539999999],[152.7968559,-27.900376400000003],[152.791049,-27.894863399999995],[152.792091,-27.894112400000004],[152.794752,-27.886735400000003],[152.7967282,-27.884583500000005],[152.7902869,-27.8835972],[152.791437,-27.877755400000005],[152.794444,-27.878224399999986],[152.79562,-27.871850500000004],[152.785586,-27.8703784],[152.786504,-27.8650515],[152.7932432,-27.8653041],[152.7940537,-27.8606346],[152.795387,-27.858395699999996],[152.7948262,-27.856649400000002],[152.79747270000001,-27.854088899999997],[152.7895105,-27.853001400000007],[152.7932257,-27.8339431],[152.800362,-27.834899399999998],[152.800563,-27.8315444],[152.802681,-27.8318524],[152.804052,-27.824847399999996],[152.8140616,-27.826200799999995],[152.816365,-27.813620399999998],[152.8264137,-27.8150404],[152.827408,-27.809637400000003],[152.826465,-27.807496399999998],[152.825322,-27.8001694],[152.825682,-27.798111399999996],[152.824437,-27.793757399999997],[152.821764,-27.789094400000003],[152.821764,-27.784996399999997]]]]}},{"type":"Feature","properties":{"suburb_name":"Coochin Creek","suburb_areasqkm":74.5807,"address_cnt":66.0,"address_density_sqkm":1.0,"tp":"Suburb : Coochin Creek<br>Density per sqkm: 1"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0596647,-26.91193],[153.0596507,-26.909852],[153.06259260000002,-26.907473],[153.0639606,-26.904722],[153.0661955,-26.9072609],[153.0644382,-26.9107165],[153.0611791,-26.912644399999994],[153.0596647,-26.91193]]],[[[153.0588583,-26.9233704],[153.0537782,-26.920472399999998],[153.0511812,-26.921310399999992],[153.0488642,-26.923187499999994],[153.0496411,-26.924544400000002],[153.0457452,-26.9265864],[153.0438552,-26.929640500000012],[153.0406131,-26.927235999999994],[153.0377126,-26.93139349999999],[153.0324976,-26.929740899999995],[153.0341143,-26.9269827],[153.0312793,-26.926118200000005],[153.0279041,-26.926510499999996],[153.0236681,-26.926097800000008],[153.0199471,-26.925034600000004],[153.0160033,-26.928015099999996],[153.0146482,-26.930607199999997],[153.0125307,-26.93048359999999],[153.0051835,-26.934513200000005],[153.0043646,-26.936558800000004],[153.000676,-26.9384532],[152.9962416,-26.935826499999997],[152.9938061,-26.9309087],[152.9943361,-26.921576400000003],[152.9967811,-26.911436400000003],[152.9990351,-26.905838399999993],[153.0041801,-26.891471400000007],[153.0083221,-26.877096399999992],[153.0103641,-26.8709244],[153.0137211,-26.864994400000004],[153.0185941,-26.8593784],[153.0228851,-26.8557404],[153.0279121,-26.8499354],[153.0319211,-26.8502805],[153.0341301,-26.852282399999996],[153.0543921,-26.852969400000003],[153.0571141,-26.8500644],[153.0617481,-26.846217399999997],[153.0651431,-26.8445255],[153.0678091,-26.845367400000004],[153.0716781,-26.84545839999999],[153.071854,-26.844157500000005],[153.0782871,-26.844657399999992],[153.0812611,-26.847058500000006],[153.0925221,-26.8524764],[153.0937321,-26.853329500000005],[153.0965691,-26.850960499999996],[153.0983311,-26.847728400000005],[153.1001321,-26.846374500000003],[153.1069361,-26.8460585],[153.10960410000004,-26.84372339999999],[153.1120321,-26.844163399999992],[153.1104844,-26.8471128],[153.1092995,-26.8550998],[153.1094595,-26.8579547],[153.1115271,-26.8633484],[153.1125941,-26.867768400000006],[153.1103976,-26.8729497],[153.1065321,-26.878490500000005],[153.1073441,-26.8834234],[153.1090141,-26.8849475],[153.10887510000003,-26.886813500000002],[153.1001401,-26.8918424],[153.0976551,-26.892548499999997],[153.0920221,-26.8953944],[153.0868782,-26.8951298],[153.0852142,-26.895959800000004],[153.0819812,-26.895719899999996],[153.0787433,-26.8982879],[153.0780943,-26.900267899999996],[153.0727151,-26.90819739999999],[153.0709061,-26.909038399999996],[153.0688711,-26.905940399999988],[153.0667621,-26.9045064],[153.0660065,-26.901198000000004],[153.0628695,-26.895650999999997],[153.0633085,-26.893219999999996],[153.0610885,-26.892900999999995],[153.0607145,-26.896398],[153.0628155,-26.899663999999998],[153.0627811,-26.901233400000002],[153.0607466,-26.903861999999997],[153.0624506,-26.905985],[153.0618386,-26.907653999999994],[153.0588567,-26.909578000000003],[153.0593317,-26.912412000000003],[153.0622156,-26.913884999999993],[153.0624617,-26.915732999999992],[153.0611354,-26.9216748],[153.0588583,-26.9233704]]]]}},{"type":"Feature","properties":{"suburb_name":"Ashwell","suburb_areasqkm":7.5335,"address_cnt":66.0,"address_density_sqkm":9.0,"tp":"Suburb : Ashwell<br>Density per sqkm: 9"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.5386661,-27.625795399999994],[152.5372371,-27.623407399999998],[152.5402281,-27.617520400000007],[152.5476561,-27.6145264],[152.5488601,-27.615029399999997],[152.5525201,-27.6136174],[152.5516621,-27.6119234],[152.5557471,-27.610438400000003],[152.5638221,-27.607659399999996],[152.5650961,-27.611525399999998],[152.5643701,-27.616794399999996],[152.5682431,-27.625782400000002],[152.5691261,-27.626256400000006],[152.5746711,-27.639301400000008],[152.5736981,-27.639630399999998],[152.5672292,-27.6423504],[152.563825,-27.635651399999986],[152.5562442,-27.6387094],[152.5515242,-27.639868399999997],[152.5459021,-27.628863400000004],[152.54054990000003,-27.62784540000001],[152.5386661,-27.625795399999994]]]]}},{"type":"Feature","properties":{"suburb_name":"Neranwood","suburb_areasqkm":1.0654,"address_cnt":28.0,"address_density_sqkm":26.0,"tp":"Suburb : Neranwood<br>Density per sqkm: 26"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.3179665,-28.115850999999996],[153.3156434,-28.116508999999994],[153.3144255,-28.119444999999995],[153.3088521,-28.1205444],[153.3066189,-28.119643500000002],[153.3090479,-28.117831499999998],[153.3068699,-28.1113195],[153.30765190000002,-28.1071855],[153.31018890000001,-28.107600499999997],[153.3098069,-28.109526199999994],[153.3191519,-28.111032499999993],[153.3177729,-28.113246500000002],[153.3179665,-28.115850999999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Kagaru","suburb_areasqkm":29.0873,"address_cnt":12.0,"address_density_sqkm":0.0,"tp":"Suburb : Kagaru<br>Density per sqkm: 0"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.93036300000003,-27.8331244],[152.92518,-27.839108399999994],[152.924948,-27.842073399999997],[152.929737,-27.841154399999997],[152.930958,-27.8398384],[152.93396,-27.8406814],[152.938308,-27.8406714],[152.943013,-27.842649399999992],[152.946439,-27.843447399999988],[152.944748,-27.844664399999996],[152.944886,-27.8495304],[152.949638,-27.851018399999997],[152.948339,-27.853597399999998],[152.951962,-27.8576424],[152.942905,-27.861440399999996],[152.944768,-27.8657664],[152.943947,-27.868303399999995],[152.942916,-27.8683564],[152.930658,-27.86607839999999],[152.927195,-27.863139399999998],[152.923515,-27.86301539999999],[152.9286704,-27.886907],[152.907505,-27.883610399999995],[152.903819,-27.8873744],[152.8676022,-27.8823201],[152.888132,-27.850206399999994],[152.892641,-27.850525399999995],[152.892758,-27.85215240000001],[152.895713,-27.856911399999994],[152.897385,-27.8575944],[152.900152,-27.8531154],[152.901851,-27.8526294],[152.8948162,-27.841129399999996],[152.9092267,-27.834200000000003],[152.9064946,-27.829643500000003],[152.93036300000003,-27.8331244]]]]}},{"type":"Feature","properties":{"suburb_name":"Teneriffe","suburb_areasqkm":0.6441,"address_cnt":4588.0,"address_density_sqkm":7123.0,"tp":"Suburb : Teneriffe<br>Density per sqkm: 7,123"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.050878,-27.4623657],[153.044992,-27.4586245],[153.0433269,-27.45624919999999],[153.04204500000003,-27.455232499999994],[153.044453,-27.453699399999998],[153.0478847,-27.450109200000004],[153.0505677,-27.4550381],[153.051475,-27.46192449999999],[153.050878,-27.4623657]]]]}},{"type":"Feature","properties":{"suburb_name":"Tingalpa","suburb_areasqkm":9.2069,"address_cnt":4871.0,"address_density_sqkm":529.0,"tp":"Suburb : Tingalpa<br>Density per sqkm: 529"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.12149500000004,-27.486397399999994],[153.12022,-27.486839400000004],[153.116377,-27.4865325],[153.11272,-27.487224499999996],[153.11244600000003,-27.483415499999996],[153.1090136,-27.4827666],[153.1074976,-27.4794626],[153.1095445,-27.479201599999993],[153.1104255,-27.47632759999999],[153.1058776,-27.475249699999996],[153.1034776,-27.472981700000002],[153.1072073,-27.47125889999999],[153.1078185,-27.468378699999995],[153.1109444,-27.4635226],[153.1136534,-27.463692599999998],[153.1189513,-27.462104600000004],[153.1204953,-27.458774600000005],[153.1224382,-27.459311600000003],[153.1184613,-27.4650136],[153.1219633,-27.464186599999994],[153.1222122,-27.46161659999999],[153.1267792,-27.461987499999992],[153.1431049,-27.464335399999996],[153.1434289,-27.464582499999995],[153.15492770000003,-27.466230399999993],[153.1503389,-27.469558399999997],[153.145198,-27.474750400000005],[153.1408179,-27.475895499999996],[153.1472232,-27.478653399999992],[153.1453207,-27.484450200000005],[153.1419842,-27.4839243],[153.1415481,-27.4857804],[153.1393641,-27.483457400000002],[153.1366524,-27.486312],[153.1265117,-27.484758299999996],[153.1274212,-27.482594499999998],[153.12259,-27.479958399999994],[153.1187301,-27.481698399999996],[153.12149500000004,-27.486397399999994]]]]}},{"type":"Feature","properties":{"suburb_name":"Upper Caboolture","suburb_areasqkm":16.0983,"address_cnt":2918.0,"address_density_sqkm":181.0,"tp":"Suburb : Upper Caboolture<br>Density per sqkm: 181"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.8916931,-27.139644399999998],[152.8928557,-27.133228500000005],[152.8898979,-27.134043499999997],[152.8875771,-27.13068789999999],[152.8850615,-27.129010400000006],[152.8843871,-27.1263354],[152.8776331,-27.1259974],[152.879563,-27.115426499999998],[152.8805311,-27.114024399999998],[152.872345,-27.112968499999997],[152.8730982,-27.1083065],[152.8772141,-27.108938399999992],[152.8781651,-27.103713499999998],[152.880215,-27.104017399999996],[152.8842374,-27.1046324],[152.8873841,-27.1015284],[152.8905327,-27.100485299999992],[152.8907097,-27.097519300000002],[152.8985716,-27.09390019999999],[152.8983086,-27.0977502],[152.8999085,-27.097766200000002],[152.90514500000003,-27.094146400000003],[152.9089689,-27.094101399999992],[152.9116733,-27.095249500000005],[152.9104403,-27.0971174],[152.9120052,-27.098460399999993],[152.9168813,-27.097490099999998],[152.9186062,-27.095819099999996],[152.9299583,-27.09942639999999],[152.9277621,-27.1005864],[152.9259291,-27.103328400000002],[152.923379,-27.102962700000003],[152.9203361,-27.10879909999999],[152.9230755,-27.108427900000002],[152.9223351,-27.112715399999992],[152.9305951,-27.1138744],[152.9299085,-27.115892700000003],[152.9271774,-27.119003099999997],[152.9214221,-27.118073100000007],[152.9201871,-27.117342400000002],[152.9177101,-27.120551399999993],[152.9064701,-27.126877399999998],[152.907015,-27.128470599999996],[152.9059986,-27.134397700000005],[152.9049961,-27.134257399999996],[152.9029191,-27.137834399999992],[152.8985441,-27.13719740000001],[152.8916931,-27.139644399999998]]]]}},{"type":"Feature","properties":{"suburb_name":"Victoria Point (Qld)","suburb_areasqkm":13.4412,"address_cnt":8843.0,"address_density_sqkm":658.0,"tp":"Suburb : Victoria Point (Qld)<br>Density per sqkm: 658"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.30234,-27.595316500000003],[153.297924,-27.59319249999999],[153.296201,-27.596188499999997],[153.2928908,-27.598942500000003],[153.288631,-27.599309500000007],[153.28735100000003,-27.600338499999996],[153.288575,-27.606439500000004],[153.261147,-27.602005499999994],[153.25933,-27.600027500000007],[153.25989,-27.596181500000007],[153.25857500000004,-27.5914645],[153.2556373,-27.588511699999998],[153.255723,-27.5866385],[153.259196,-27.58567449999999],[153.261395,-27.583277499999998],[153.271911,-27.585785500000007],[153.27614,-27.585208500000004],[153.278178,-27.58403149999999],[153.282368,-27.579336499999993],[153.285665,-27.578935500000004],[153.289522,-27.5801815],[153.291824,-27.578508499999995],[153.294588,-27.578273499999998],[153.293006,-27.57544950000001],[153.294302,-27.573346499999996],[153.289457,-27.572389500000003],[153.289986,-27.569664499999995],[153.28944,-27.564619500000003],[153.2950305,-27.5644196],[153.2996284,-27.563184500000002],[153.3039323,-27.5633835],[153.308197,-27.5648895],[153.308672,-27.5690515],[153.3059744,-27.571197499999997],[153.3049144,-27.573987500000005],[153.3080782,-27.577984500000003],[153.3084922,-27.579899500000003],[153.312213,-27.5816625],[153.31502,-27.5792555],[153.317747,-27.581023499999993],[153.312698,-27.5842895],[153.3118351,-27.586179399999992],[153.3124264,-27.5897584],[153.3098114,-27.5890705],[153.3070754,-27.5903565],[153.30234,-27.595316500000003]]]]}},{"type":"Feature","properties":{"suburb_name":"West End (Brisbane - Qld)","suburb_areasqkm":1.926,"address_cnt":11104.0,"address_density_sqkm":5765.0,"tp":"Suburb : West End (Brisbane - Qld)<br>Density per sqkm: 5,765"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0103942,-27.489993200000008],[152.999074,-27.48996139999999],[152.9962501,-27.487732500000003],[152.997489,-27.48545439999999],[153.002617,-27.478837399999996],[153.007899,-27.474101399999995],[153.0108071,-27.476944299999996],[153.0127151,-27.477219499999997],[153.0140401,-27.481260200000005],[153.0116351,-27.483182399999993],[153.0103942,-27.489993200000008]]]]}},{"type":"Feature","properties":{"suburb_name":"Willowbank","suburb_areasqkm":20.5866,"address_cnt":650.0,"address_density_sqkm":32.0,"tp":"Suburb : Willowbank<br>Density per sqkm: 32"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.682611,-27.7049424],[152.6712,-27.703308399999997],[152.667437,-27.7084364],[152.6475571,-27.705542399999995],[152.648047,-27.703154399999995],[152.6516581,-27.684227400000005],[152.6549431,-27.6661654],[152.6705771,-27.668435400000003],[152.672001,-27.661225400000003],[152.674855,-27.6584614],[152.680915,-27.655163399999996],[152.6909421,-27.656746399999996],[152.6989025,-27.657709599999997],[152.699635,-27.660288400000002],[152.698195,-27.66094040000001],[152.6997801,-27.663873400000007],[152.6972291,-27.673854399999996],[152.698288,-27.676612399999996],[152.6968081,-27.678790400000004],[152.6982841,-27.6872874],[152.693456,-27.68848540000001],[152.689642,-27.6887194],[152.6891091,-27.6917684],[152.687482,-27.695573400000004],[152.687806,-27.69689139999999],[152.683232,-27.701126399999993],[152.682611,-27.7049424]]]]}},{"type":"Feature","properties":{"suburb_name":"Woodend (Qld)","suburb_areasqkm":1.2991,"address_cnt":763.0,"address_density_sqkm":587.0,"tp":"Suburb : Woodend (Qld)<br>Density per sqkm: 587"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.7589647,-27.610329400000005],[152.757803,-27.612816399999996],[152.753691,-27.6139474],[152.750398,-27.613272400000003],[152.7515751,-27.6109934],[152.751095,-27.609245399999995],[152.7485902,-27.609410699999998],[152.7493792,-27.6053373],[152.7484331,-27.602171399999996],[152.7517281,-27.596423400000003],[152.7541571,-27.595237399999995],[152.7547891,-27.599095400000007],[152.7573411,-27.603931400000004],[152.75557,-27.607870399999996],[152.7589647,-27.610329400000005]]]]}},{"type":"Feature","properties":{"suburb_name":"Alexandra Hills","suburb_areasqkm":13.6902,"address_cnt":7156.0,"address_density_sqkm":523.0,"tp":"Suburb : Alexandra Hills<br>Density per sqkm: 523"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.2295166,-27.513652899999997],[153.2307875,-27.515085699999993],[153.2355603,-27.515361700000007],[153.236642,-27.516991500000003],[153.239825,-27.515817499999997],[153.244229,-27.5170395],[153.246334,-27.5206575],[153.246629,-27.523551499999996],[153.246658,-27.5265475],[153.248069,-27.528834499999988],[153.25019699999999,-27.529441499999997],[153.250321,-27.5326665],[153.247969,-27.533638499999995],[153.24676200000002,-27.537231500000008],[153.244045,-27.539396499999995],[153.245905,-27.542305500000005],[153.244511,-27.545075499999996],[153.242185,-27.546847500000002],[153.240271,-27.546820500000003],[153.238003,-27.5545465],[153.239349,-27.555047500000004],[153.236936,-27.559838500000005],[153.235612,-27.565570499999993],[153.235057,-27.5654795],[153.233209,-27.557586400000005],[153.2315051,-27.552818499999997],[153.227062,-27.549160400000005],[153.2221552,-27.547804499999998],[153.2201996,-27.546383],[153.2085202,-27.535778399999998],[153.207945,-27.5327095],[153.2091184,-27.529936199999995],[153.2107184,-27.521326199999997],[153.2090048,-27.518780399999994],[153.2102633,-27.514737899999997],[153.212887,-27.512665600000005],[153.2196201,-27.514287400000004],[153.2277764,-27.5153966],[153.2295166,-27.513652899999997]]]]}},{"type":"Feature","properties":{"suburb_name":"Bardon","suburb_areasqkm":4.9893,"address_cnt":5241.0,"address_density_sqkm":1050.0,"tp":"Suburb : Bardon<br>Density per sqkm: 1,050"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9920457,-27.4673065],[152.9891852,-27.46818249999999],[152.9885851,-27.47036539999999],[152.9863412,-27.470875500000002],[152.9832682,-27.470730499999995],[152.9818271,-27.47218850000001],[152.9754299,-27.4705045],[152.9737091,-27.465867399999997],[152.9703301,-27.4681584],[152.9658492,-27.465110099999993],[152.9666461,-27.459086000000003],[152.9583407,-27.458012900000003],[152.9590444,-27.4545433],[152.963041,-27.4512354],[152.96238200000002,-27.454956400000007],[152.964983,-27.454874399999998],[152.967781,-27.452854400000003],[152.9707017,-27.453642399999996],[152.9726875,-27.452625],[152.9774208,-27.454991700000004],[152.9799161,-27.451189399999997],[152.9837571,-27.4494794],[152.98520010000001,-27.4474385],[152.9872661,-27.4486554],[152.991612,-27.448897400000003],[152.9912543,-27.450954999999993],[152.99424910000002,-27.4522861],[152.9914829,-27.45291259999999],[152.988695,-27.455120400000002],[152.987258,-27.458075500000003],[152.988588,-27.459604399999996],[152.988792,-27.464983399999998],[152.9912692,-27.465767400000004],[152.9920457,-27.4673065]]]]}},{"type":"Feature","properties":{"suburb_name":"Baringa","suburb_areasqkm":2.6675,"address_cnt":2652.0,"address_density_sqkm":994.0,"tp":"Suburb : Baringa<br>Density per sqkm: 994"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0651882,-26.80092349999999],[153.0762589,-26.802490899999995],[153.0802781,-26.803074400000003],[153.0829542,-26.8016248],[153.0849734,-26.80255650000001],[153.0876323,-26.808486599999995],[153.0851799,-26.809794000000007],[153.0869219,-26.8114439],[153.0896524,-26.812240800000005],[153.0900131,-26.8140382],[153.086332,-26.8136914],[153.080493,-26.814742399999993],[153.0778818,-26.813061100000006],[153.0745723,-26.814874299999996],[153.073234,-26.811396599999995],[153.0737143,-26.808819500000002],[153.0714863,-26.8086885],[153.068954,-26.810520399999998],[153.0662254,-26.8149375],[153.0646183,-26.813736600000002],[153.06407,-26.811132899999993],[153.0651882,-26.80092349999999]]]]}},{"type":"Feature","properties":{"suburb_name":"Beachmere","suburb_areasqkm":31.874,"address_cnt":2689.0,"address_density_sqkm":84.0,"tp":"Suburb : Beachmere<br>Density per sqkm: 84"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0430171,-27.151356399999997],[153.0358491,-27.151545399999996],[153.0337321,-27.149410400000004],[153.0332021,-27.1464445],[153.0340611,-27.142588399999998],[153.0361091,-27.137189399999993],[153.0356451,-27.1314945],[153.0346521,-27.1286475],[153.0329981,-27.127639399999993],[153.0247981,-27.1259204],[153.0228811,-27.125030399999996],[153.0208781,-27.122423400000002],[153.0176741,-27.1092524],[153.0138031,-27.108481500000003],[153.0126131,-27.1099354],[153.0128121,-27.1127824],[153.0092581,-27.1120114],[153.0082341,-27.1155564],[153.0040021,-27.1147854],[153.0029771,-27.113673399999996],[153.0033241,-27.11177439999999],[153.0054731,-27.111300400000005],[153.0084281,-27.108029399999996],[153.0129071,-27.107080399999997],[153.0123171,-27.104922399999996],[153.0090111,-27.105530400000003],[153.0014341,-27.1028904],[153.0004301,-27.100851399999996],[153.0012691,-27.098880399999988],[153.0003671,-27.096776399999996],[153.0019191,-27.095466399999996],[153.0010141,-27.0920904],[153.0034501,-27.0913984],[153.0086541,-27.0875184],[153.0271081,-27.090002500000004],[153.0258521,-27.097275399999997],[153.0297921,-27.09778339999999],[153.0310971,-27.0905234],[153.0383541,-27.091535500000003],[153.0420751,-27.092387499999997],[153.0502511,-27.093430399999995],[153.0523443,-27.0805486],[153.0653081,-27.0819574],[153.0683691,-27.0815524],[153.0858431,-27.0835674],[153.0848503,-27.091388299999995],[153.0863133,-27.091548299999992],[153.0858092,-27.095266200000005],[153.0926381,-27.096209400000003],[153.0799721,-27.1027604],[153.0745419,-27.106459000000005],[153.0721606,-27.107058999999996],[153.069002,-27.109296999999998],[153.06832,-27.111415000000004],[153.0661631,-27.111676],[153.0636601,-27.114150999999996],[153.0622412,-27.117914],[153.0591012,-27.122269],[153.0556074,-27.128175999999996],[153.0484367,-27.144556699999995],[153.0430171,-27.151356399999997]]]]}},{"type":"Feature","properties":{"suburb_name":"Bellbird Park","suburb_areasqkm":6.5085,"address_cnt":4778.0,"address_density_sqkm":734.0,"tp":"Suburb : Bellbird Park<br>Density per sqkm: 734"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.893754,-27.6434784],[152.890773,-27.6471014],[152.8856727,-27.648079200000012],[152.883547,-27.647343400000004],[152.878514,-27.647254399999998],[152.87795070000004,-27.6486395],[152.8737005,-27.653667399999996],[152.870448,-27.6537964],[152.8751271,-27.626397399999995],[152.881133,-27.627263399999997],[152.885749,-27.627933400000003],[152.890835,-27.6270814],[152.892728,-27.62341239999999],[152.903214,-27.625014400000005],[152.901538,-27.626753399999988],[152.903494,-27.631757399999998],[152.907431,-27.633912399999996],[152.900885,-27.63684939999999],[152.89873,-27.639108399999998],[152.898464,-27.641608400000003],[152.895895,-27.6405434],[152.893754,-27.6434784]]]]}},{"type":"Feature","properties":{"suburb_name":"Bells Creek","suburb_areasqkm":24.8602,"address_cnt":5590.0,"address_density_sqkm":225.0,"tp":"Suburb : Bells Creek<br>Density per sqkm: 225"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0876323,-26.808486599999995],[153.09346400000004,-26.807798100000003],[153.099298,-26.804511199999997],[153.099804,-26.805238100000004],[153.0951487,-26.808014799999995],[153.0963696,-26.809670499999992],[153.0958504,-26.81268719999999],[153.0916931,-26.8263015],[153.0871111,-26.825722400000004],[153.0857061,-26.829281499999993],[153.08335810000003,-26.8305585],[153.0846611,-26.83362139999999],[153.0813821,-26.837579399999996],[153.0818791,-26.838683399999997],[153.0890661,-26.839961399999986],[153.0862351,-26.842231499999993],[153.0870301,-26.845690499999993],[153.0931871,-26.8474784],[153.0925221,-26.8524764],[153.0812611,-26.847058500000006],[153.0782871,-26.844657399999992],[153.071854,-26.844157500000005],[153.0716781,-26.84545839999999],[153.0678091,-26.845367400000004],[153.0651431,-26.8445255],[153.0617481,-26.846217399999997],[153.0571141,-26.8500644],[153.0543921,-26.852969400000003],[153.0341301,-26.852282399999996],[153.0319211,-26.8502805],[153.0279121,-26.8499354],[153.03001260000002,-26.8463393],[153.0313841,-26.842381399999994],[153.03469430000004,-26.827037299999997],[153.0365842,-26.819345299999988],[153.040595,-26.806089300000004],[153.0502877,-26.807238100000003],[153.0515931,-26.799003399999997],[153.0651882,-26.80092349999999],[153.06407,-26.811132899999993],[153.0646183,-26.813736600000002],[153.0662254,-26.8149375],[153.068954,-26.810520399999998],[153.0714863,-26.8086885],[153.0737143,-26.808819500000002],[153.073234,-26.811396599999995],[153.0745723,-26.814874299999996],[153.0778818,-26.813061100000006],[153.080493,-26.814742399999993],[153.086332,-26.8136914],[153.0900131,-26.8140382],[153.0896524,-26.812240800000005],[153.0869219,-26.8114439],[153.0851799,-26.809794000000007],[153.0876323,-26.808486599999995]],[[153.0578023,-26.816559199999997],[153.0568771,-26.8174065],[153.0555774,-26.823241199999988],[153.0615365,-26.824209700000004],[153.0625471,-26.81951649999999],[153.0613861,-26.8175174],[153.0578023,-26.816559199999997]]]]}},{"type":"Feature","properties":{"suburb_name":"Benowa","suburb_areasqkm":6.5536,"address_cnt":5940.0,"address_density_sqkm":906.0,"tp":"Suburb : Benowa<br>Density per sqkm: 906"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.4004709,-27.9977145],[153.3979576,-28.009086299999993],[153.4005714,-28.009489800000004],[153.3996589,-28.014466400000003],[153.3962074,-28.014284600000003],[153.3959544,-28.01555759999999],[153.3975714,-28.019909599999995],[153.3965334,-28.022575600000007],[153.3971335,-28.024821600000003],[153.3958835,-28.0277676],[153.3928546,-28.02827359999999],[153.3909229,-28.027505499999997],[153.3887856,-28.024662599999996],[153.3877536,-28.017058699999996],[153.3867816,-28.0153127],[153.38310660000002,-28.012685700000002],[153.3787607,-28.011196700000006],[153.3718387,-28.009704800000012],[153.3678649,-28.003807500000004],[153.3673359,-28.00093250000001],[153.363994,-27.997510500000008],[153.3679939,-27.993344499999996],[153.3695089,-27.992777499999992],[153.3729169,-27.995879499999997],[153.3738629,-27.997868500000006],[153.3774419,-27.999242499999998],[153.3799469,-27.999048499999994],[153.3826849,-28.00017950000001],[153.3891689,-27.996031499999994],[153.4004709,-27.9977145]]]]}},{"type":"Feature","properties":{"suburb_name":"Bethania","suburb_areasqkm":5.8367,"address_cnt":4128.0,"address_density_sqkm":707.0,"tp":"Suburb : Bethania<br>Density per sqkm: 707"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.160415,-27.6716655],[153.162955,-27.6712035],[153.165504,-27.678025500000007],[153.166357,-27.6817825],[153.16939,-27.687452499999996],[153.170115,-27.691473499999997],[153.168951,-27.6946915],[153.1646447,-27.694151899999998],[153.164532,-27.6962075],[153.161053,-27.69971049999999],[153.1578245,-27.699308699999996],[153.1599868,-27.7050466],[153.1544489,-27.7041988],[153.15535,-27.6990524],[153.1489269,-27.700261199999996],[153.1506325,-27.694530899999997],[153.145508,-27.693790499999995],[153.143923,-27.690149499999993],[153.1495849,-27.6880722],[153.1490345,-27.686802800000002],[153.1401614,-27.68099089999999],[153.1396824,-27.6776903],[153.1413037,-27.676703200000002],[153.147433,-27.679464500000005],[153.15129,-27.678135500000003],[153.1570954,-27.673681099999996],[153.160415,-27.6716655]]]]}},{"type":"Feature","properties":{"suburb_name":"Birkdale","suburb_areasqkm":11.2731,"address_cnt":7167.0,"address_density_sqkm":636.0,"tp":"Suburb : Birkdale<br>Density per sqkm: 636"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.2102633,-27.514737899999997],[153.2072609,-27.5133854],[153.206274,-27.515187499999996],[153.201166,-27.5141515],[153.197502,-27.510104499999994],[153.194853,-27.5090045],[153.191104,-27.508610499999993],[153.191376,-27.506893500000004],[153.18805,-27.5037955],[153.187541,-27.5011255],[153.184719,-27.501550499999997],[153.186344,-27.500307500000005],[153.18579,-27.4982235],[153.187981,-27.495044499999995],[153.189442,-27.494290499999995],[153.192143,-27.495330499999994],[153.191797,-27.492293499999995],[153.187456,-27.490888499999993],[153.186683,-27.4875215],[153.195664,-27.4890415],[153.20213600000002,-27.491597500000005],[153.2088614,-27.492593199999988],[153.2083155,-27.491034199999994],[153.2124626,-27.489873299999992],[153.2096681,-27.482293900000002],[153.2129719,-27.4823925],[153.2179849,-27.4813287],[153.2224288,-27.483143399999996],[153.2268271,-27.482709599999993],[153.2289786,-27.488839499999997],[153.228176,-27.48952049999999],[153.2295532,-27.493763499999996],[153.2286622,-27.499065500000004],[153.2265653,-27.498757699999995],[153.2261635,-27.503666999999997],[153.2238176,-27.507333899999992],[153.2304401,-27.508346999999997],[153.2295166,-27.513652899999997],[153.2277764,-27.5153966],[153.2196201,-27.514287400000004],[153.212887,-27.512665600000005],[153.2102633,-27.514737899999997]]]]}},{"type":"Feature","properties":{"suburb_name":"Birtinya","suburb_areasqkm":3.1991,"address_cnt":2878.0,"address_density_sqkm":900.0,"tp":"Suburb : Birtinya<br>Density per sqkm: 900"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.1157491,-26.760591500000004],[153.1142155,-26.756433900000005],[153.1119301,-26.757362399999998],[153.1107761,-26.7532995],[153.1117291,-26.746619399999997],[153.1143451,-26.741021399999994],[153.1168871,-26.7377464],[153.1163917,-26.7363839],[153.1125079,-26.735801899999995],[153.1135051,-26.730391399999988],[153.1181351,-26.730202399999992],[153.1234741,-26.730806499999996],[153.1246201,-26.7320004],[153.1236801,-26.745745399999993],[153.1233481,-26.751440399999993],[153.1178141,-26.756388500000003],[153.1175098,-26.75898859999999],[153.1157491,-26.760591500000004]]]]}},{"type":"Feature","properties":{"suburb_name":"Bongaree","suburb_areasqkm":6.9233,"address_cnt":6869.0,"address_density_sqkm":992.0,"tp":"Suburb : Bongaree<br>Density per sqkm: 992"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.178405,-27.099587500000002],[153.1725931,-27.100337399999994],[153.1676524,-27.100028299999995],[153.1653165,-27.099070300000008],[153.1640885,-27.097264299999996],[153.1616858,-27.090920099999998],[153.1602135,-27.090179399999997],[153.158286,-27.0839621],[153.1582154,-27.081279399999985],[153.1551544,-27.0725855],[153.1525765,-27.070405499999996],[153.1480501,-27.068364499999998],[153.1499931,-27.066270500000005],[153.1617351,-27.06121239999999],[153.1674571,-27.059508400000002],[153.17556300000004,-27.077010399999995],[153.1712271,-27.078593499999993],[153.1722491,-27.080419500000012],[153.1765851,-27.079058500000006],[153.1763501,-27.078074500000007],[153.1809591,-27.0765274],[153.1812222,-27.079800500000005],[153.1796351,-27.081070699999998],[153.1720811,-27.083471500000005],[153.1714964,-27.084625299999995],[153.178405,-27.099587500000002]]]]}},{"type":"Feature","properties":{"suburb_name":"Boronia Heights","suburb_areasqkm":4.2574,"address_cnt":3963.0,"address_density_sqkm":931.0,"tp":"Suburb : Boronia Heights<br>Density per sqkm: 931"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0295276,-27.696268099999998],[153.0276202,-27.69598299999999],[153.027147,-27.698505800000003],[153.0129999,-27.696400399999995],[153.0120509,-27.694602400000004],[153.0049121,-27.693550499999997],[153.0061552,-27.686766499999997],[153.00838800000002,-27.684231],[153.0143221,-27.6810695],[153.0166021,-27.678918999999997],[153.0216622,-27.678939399999994],[153.031311,-27.680463500000005],[153.031664,-27.686588499999996],[153.0295276,-27.696268099999998]]]]}},{"type":"Feature","properties":{"suburb_name":"Bulimba","suburb_areasqkm":2.1281,"address_cnt":5138.0,"address_density_sqkm":2414.0,"tp":"Suburb : Bulimba<br>Density per sqkm: 2,414"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0534553,-27.456338999999993],[153.0529223,-27.452130999999994],[153.0507023,-27.444867999999996],[153.0536032,-27.442226000000005],[153.059043,-27.4425025],[153.063804,-27.4433294],[153.07013,-27.445559399999997],[153.0692599,-27.4502314],[153.0655682,-27.4497814],[153.0627255,-27.452659300000004],[153.06171340000003,-27.456609199999995],[153.0534553,-27.456338999999993]]]]}},{"type":"Feature","properties":{"suburb_name":"Camp Hill","suburb_areasqkm":4.7314,"address_cnt":6357.0,"address_density_sqkm":1344.0,"tp":"Suburb : Camp Hill<br>Density per sqkm: 1,344"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.075813,-27.513637399999997],[153.074625,-27.5137144],[153.07533710000004,-27.5119425],[153.075228,-27.503358400000003],[153.0758108,-27.499981499999997],[153.068628,-27.4992195],[153.0682419,-27.497737499999992],[153.06456,-27.494150499999993],[153.063505,-27.486700400000004],[153.069396,-27.487729499999993],[153.0739399,-27.485190200000005],[153.0771589,-27.48550859999999],[153.080762,-27.487113499999992],[153.0815111,-27.482604399999996],[153.0845443,-27.481009500000003],[153.0876682,-27.481478499999998],[153.0883489,-27.484941499999998],[153.0867506,-27.487483899999994],[153.0855841,-27.4942174],[153.0861011,-27.4954304],[153.086428,-27.4963175],[153.0852421,-27.502644400000005],[153.087284,-27.503336499999996],[153.086514,-27.507428499999993],[153.08517,-27.509213499999994],[153.0823312,-27.509896499999996],[153.07904700000003,-27.513187500000004],[153.075813,-27.513637399999997]]]]}},{"type":"Feature","properties":{"suburb_name":"Cleveland (Qld)","suburb_areasqkm":11.7743,"address_cnt":11983.0,"address_density_sqkm":1018.0,"tp":"Suburb : Cleveland (Qld)<br>Density per sqkm: 1,018"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.2646072,-27.516018500000005],[153.2685977,-27.515810800000004],[153.2737557,-27.5162878],[153.2892044,-27.5140617],[153.2890434,-27.516904700000005],[153.2843836,-27.5309547],[153.2848466,-27.534839700000003],[153.2820466,-27.535833699999998],[153.2779107,-27.540504699999996],[153.2801857,-27.542605699999996],[153.2820866,-27.542741700000004],[153.2837476,-27.54627869999999],[153.28122670000002,-27.5477577],[153.281152,-27.549264499999996],[153.279123,-27.5490305],[153.242185,-27.546847500000002],[153.244511,-27.545075499999996],[153.245905,-27.542305500000005],[153.244045,-27.539396499999995],[153.24676200000002,-27.537231500000008],[153.247969,-27.533638499999995],[153.250321,-27.5326665],[153.25019699999999,-27.529441499999997],[153.248069,-27.528834499999988],[153.246658,-27.5265475],[153.246629,-27.523551499999996],[153.260573,-27.524331499999995],[153.2641586,-27.5241482],[153.265136,-27.521832499999995],[153.263681,-27.518861500000007],[153.2646072,-27.516018500000005]]]]}},{"type":"Feature","properties":{"suburb_name":"Coolangatta (Qld)","suburb_areasqkm":1.9016,"address_cnt":9114.0,"address_density_sqkm":4793.0,"tp":"Suburb : Coolangatta (Qld)<br>Density per sqkm: 4,793"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.5204494,-28.170925499999992],[153.5204301,-28.169401499999996],[153.5230465,-28.165980399999988],[153.5295083,-28.1672184],[153.5328843,-28.16691839999999],[153.5366562,-28.165111400000004],[153.5410282,-28.167145399999992],[153.5436121,-28.16684929999999],[153.544931,-28.1643475],[153.54759000000004,-28.1643093],[153.5500668,-28.162123500000007],[153.5521771,-28.164395999999993],[153.5414504,-28.168984999999992],[153.5395154,-28.172054000000003],[153.5346549,-28.177629999999994],[153.5311679,-28.175227499999995],[153.5204494,-28.170925499999992]]]]}},{"type":"Feature","properties":{"suburb_name":"Currumbin","suburb_areasqkm":2.0381,"address_cnt":2668.0,"address_density_sqkm":1309.0,"tp":"Suburb : Currumbin<br>Density per sqkm: 1,309"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.4799719,-28.1451967],[153.4786878,-28.1430915],[153.4729459,-28.1381455],[153.4720959,-28.1366955],[153.4775009,-28.1351165],[153.4783209,-28.133086500000005],[153.4831759,-28.12989449999999],[153.4832659,-28.127774499999997],[153.4863258,-28.126558799999998],[153.4886187,-28.13109279999999],[153.4935267,-28.137385699999996],[153.4898929,-28.139062500000005],[153.4864809,-28.1369585],[153.4856388,-28.139877700000003],[153.4863034,-28.143375500000005],[153.48246290000003,-28.1459044],[153.4799719,-28.1451967]]]]}},{"type":"Feature","properties":{"suburb_name":"Currumbin Waters","suburb_areasqkm":9.9376,"address_cnt":5823.0,"address_density_sqkm":586.0,"tp":"Suburb : Currumbin Waters<br>Density per sqkm: 586"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.458067,-28.179029700000005],[153.4578767,-28.1791846],[153.4538899,-28.175615499999996],[153.4516469,-28.1744775],[153.4530409,-28.17161949999999],[153.4535279,-28.167822500000003],[153.4459859,-28.1662075],[153.4458819,-28.160382499999997],[153.4456199,-28.157527499999997],[153.4467499,-28.154751499999996],[153.4496529,-28.151700499999997],[153.4506269,-28.147587499999997],[153.4499085,-28.144709999999993],[153.4526119,-28.141075500000003],[153.4539869,-28.137183499999995],[153.4631349,-28.138978500000004],[153.4713239,-28.135325499999993],[153.4720959,-28.1366955],[153.4729459,-28.1381455],[153.4786878,-28.1430915],[153.4799719,-28.1451967],[153.4798348,-28.149438500000002],[153.481998,-28.152840499999993],[153.4861038,-28.154976499999993],[153.4858604,-28.157023000000002],[153.4815144,-28.158230999999994],[153.4769524,-28.156879499999995],[153.4724899,-28.161740000000005],[153.4684559,-28.162418999999996],[153.4649039,-28.167555999999998],[153.4585284,-28.175001000000005],[153.4591529,-28.178145000000004],[153.458067,-28.179029700000005]]]]}},{"type":"Feature","properties":{"suburb_name":"East Ipswich","suburb_areasqkm":1.6664,"address_cnt":1263.0,"address_density_sqkm":758.0,"tp":"Suburb : East Ipswich<br>Density per sqkm: 758"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.771187,-27.615110399999992],[152.7716069,-27.612790399999998],[152.767784,-27.61107439999999],[152.768998,-27.605873399999997],[152.7727211,-27.606410399999998],[152.774498,-27.598007400000004],[152.777487,-27.600924399999993],[152.7834931,-27.603874400000002],[152.7828069,-27.607809399999994],[152.7837024,-27.609842300000004],[152.782934,-27.613523499999996],[152.7763371,-27.612806399999997],[152.771187,-27.615110399999992]]]]}},{"type":"Feature","properties":{"suburb_name":"Ferny Hills","suburb_areasqkm":10.2484,"address_cnt":3686.0,"address_density_sqkm":360.0,"tp":"Suburb : Ferny Hills<br>Density per sqkm: 360"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9491981,-27.4087464],[152.94781,-27.4065174],[152.9445741,-27.405994400000004],[152.940785,-27.404254399999992],[152.9404771,-27.403231400000003],[152.9359551,-27.399842399999994],[152.934356,-27.3997384],[152.93242,-27.397259399999996],[152.9301861,-27.396976400000007],[152.92823400000003,-27.3943974],[152.9251961,-27.39332139999999],[152.9169521,-27.394170400000004],[152.9150457,-27.4057079],[152.9003755,-27.403714299999997],[152.9026651,-27.390544399999996],[152.9041501,-27.389679399999995],[152.9048321,-27.387012399999993],[152.9021785,-27.382901899999993],[152.8994289,-27.382194399999992],[152.9003951,-27.3814874],[152.9041809,-27.3821584],[152.9060501,-27.3804624],[152.907648,-27.3758694],[152.9089001,-27.374646399999996],[152.920216,-27.376153399999996],[152.9194501,-27.380606399999994],[152.9402481,-27.383304399999997],[152.9437881,-27.382080499999987],[152.947848,-27.381565400000003],[152.9444711,-27.3906344],[152.945754,-27.393205499999993],[152.944984,-27.395243400000002],[152.9520786,-27.396347699999993],[152.9510837,-27.399064799999994],[152.9491981,-27.4087464]]]]}},{"type":"Feature","properties":{"suburb_name":"Hendra","suburb_areasqkm":2.4952,"address_cnt":2753.0,"address_density_sqkm":1103.0,"tp":"Suburb : Hendra<br>Density per sqkm: 1,103"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0602503,-27.423202099999997],[153.0600069,-27.418473399999996],[153.0631522,-27.418107499999998],[153.0626542,-27.415369099999992],[153.0633142,-27.411710499999998],[153.065719,-27.412278399999995],[153.069649,-27.41037439999999],[153.0757902,-27.408397700000002],[153.0772142,-27.410428500000002],[153.076551,-27.415722500000008],[153.0768981,-27.4173525],[153.079295,-27.4200945],[153.0802479,-27.421812399999986],[153.080003,-27.424567399999997],[153.0730058,-27.423640799999998],[153.07262210000002,-27.426054],[153.0646306,-27.42507859999999],[153.0632609,-27.4236155],[153.0602503,-27.423202099999997]]]]}},{"type":"Feature","properties":{"suburb_name":"Highgate Hill","suburb_areasqkm":1.1773,"address_cnt":4459.0,"address_density_sqkm":3787.0,"tp":"Suburb : Highgate Hill<br>Density per sqkm: 3,787"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.024353,-27.4885021],[153.022068,-27.4929564],[153.0195661,-27.493650200000005],[153.0132201,-27.48997119999999],[153.0103942,-27.489993200000008],[153.0116351,-27.483182399999993],[153.0140401,-27.481260200000005],[153.01883710000004,-27.48197919999999],[153.0201061,-27.484493500000003],[153.023352,-27.485412200000003],[153.024353,-27.4885021]]]]}},{"type":"Feature","properties":{"suburb_name":"Inala","suburb_areasqkm":6.2224,"address_cnt":6903.0,"address_density_sqkm":1109.0,"tp":"Suburb : Inala<br>Density per sqkm: 1,109"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9568003,-27.601719700000004],[152.957183,-27.599603399999992],[152.959843,-27.5991074],[152.9593979,-27.590582700000002],[152.9660713,-27.588902399999995],[152.964136,-27.580419499999998],[152.9679539,-27.579410499999994],[152.966553,-27.573848399999996],[152.972765,-27.572613399999998],[152.974011,-27.578176400000007],[152.975511,-27.585039699999996],[152.9782332,-27.584509600000004],[152.979049,-27.588161399999997],[152.97691,-27.588582399999993],[152.977051,-27.592373499999997],[152.978698,-27.597652399999998],[152.987135,-27.59602739999999],[152.988445,-27.602009400000004],[152.9880727,-27.604049399999983],[152.9717708,-27.607152500000005],[152.961427,-27.609222399999997],[152.9595622,-27.601266500000005],[152.9568003,-27.601719700000004]]]]}},{"type":"Feature","properties":{"suburb_name":"Indooroopilly","suburb_areasqkm":6.9158,"address_cnt":9180.0,"address_density_sqkm":1327.0,"tp":"Suburb : Indooroopilly<br>Density per sqkm: 1,327"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9901269,-27.5035304],[152.9902029,-27.5053885],[152.98852,-27.50722439999999],[152.9898954,-27.509516099999992],[152.9917756,-27.5072021],[152.999518,-27.508486499999997],[152.998152,-27.51111539999999],[152.997784,-27.514735399999996],[153.0018269,-27.516991299999997],[153.0075718,-27.5171503],[153.0095638,-27.5196593],[153.0079019,-27.521239300000005],[153.0013679,-27.522348300000004],[152.997962,-27.5220254],[152.9933101,-27.519157400000005],[152.9903161,-27.517948399999998],[152.9864022,-27.513878500000004],[152.9865281,-27.5126004],[152.9769572,-27.505950499999997],[152.9726961,-27.5044644],[152.9706131,-27.504544399999997],[152.96811,-27.507269499999996],[152.966409,-27.51103539999999],[152.9658091,-27.514289400000006],[152.963605,-27.514002800000004],[152.9621812,-27.516902399999992],[152.9604499,-27.51652440000001],[152.9550006,-27.517067],[152.9544369,-27.51692449999999],[152.958621,-27.510459399999995],[152.9578162,-27.507483399999998],[152.961971,-27.504004399999992],[152.9620742,-27.500787799999998],[152.9593117,-27.498049399999996],[152.9601647,-27.49365299999999],[152.9608394,-27.490025300000003],[152.96813420000004,-27.4909165],[152.967872,-27.492565],[152.9724875,-27.493245899999998],[152.9726111,-27.494179399999993],[152.9778391,-27.495068400000005],[152.979904,-27.496557399999993],[152.9851391,-27.4972314],[152.9847082,-27.499368499999996],[152.987379,-27.499728499999993],[152.98673,-27.502806499999995],[152.9901269,-27.5035304]]]]}},{"type":"Feature","properties":{"suburb_name":"Jacobs Well","suburb_areasqkm":13.5673,"address_cnt":1627.0,"address_density_sqkm":120.0,"tp":"Suburb : Jacobs Well<br>Density per sqkm: 120"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.3513739,-27.801766699999998],[153.3469664,-27.80361750000001],[153.3413195,-27.80502759999999],[153.33971,-27.802824499999996],[153.343568,-27.7840445],[153.336197,-27.7827805],[153.338807,-27.7744925],[153.340427,-27.772577499999997],[153.3447706,-27.76951889999999],[153.345664,-27.763581500000008],[153.34466920000003,-27.760761500000005],[153.3473149,-27.7589445],[153.350857,-27.760775500000005],[153.353943,-27.764105499999996],[153.3617909,-27.763531499999992],[153.3604469,-27.769592499999995],[153.3615259,-27.773790500000004],[153.372183,-27.7813265],[153.379281,-27.785902500000006],[153.3820484,-27.7864156],[153.3896596,-27.791269299999993],[153.3915596,-27.7939482],[153.3869587,-27.7966333],[153.3833197,-27.796264299999997],[153.3836217,-27.799608299999996],[153.3806367,-27.801293299999998],[153.3791418,-27.799551299999997],[153.3771648,-27.79919930000001],[153.3766028,-27.799653299999992],[153.3758518,-27.80206929999999],[153.3751659,-27.802322500000002],[153.3733369,-27.799734300000004],[153.3705009,-27.797497400000005],[153.3666293,-27.796290999999997],[153.3627941,-27.796485399999998],[153.3563571,-27.7976565],[153.3499863,-27.80004449999999],[153.3513739,-27.801766699999998]]],[[[153.3734259,-27.802054399999996],[153.37151390000002,-27.800724399999993],[153.3732519,-27.800121299999997],[153.3744779,-27.802169299999996],[153.3756379,-27.80266930000001],[153.3763579,-27.802281299999997],[153.3765598,-27.800177300000005],[153.3775628,-27.799377299999993],[153.3803108,-27.801540300000003],[153.3768568,-27.805423299999998],[153.3738541,-27.807043500000006],[153.371927,-27.80402949999999],[153.3734259,-27.802054399999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Kallangur","suburb_areasqkm":11.2865,"address_cnt":10820.0,"address_density_sqkm":959.0,"tp":"Suburb : Kallangur<br>Density per sqkm: 959"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9978531,-27.270740400000005],[152.9951591,-27.270029400000002],[152.9935361,-27.267718400000003],[152.9927231,-27.2657474],[152.9884301,-27.265959400000003],[152.9823279,-27.26380839999999],[152.9800307,-27.2641728],[152.977763,-27.2628801],[152.9749756,-27.258889399999997],[152.9748283,-27.255726000000003],[152.9762511,-27.250550400000005],[152.9763144,-27.247470099999997],[152.9754771,-27.24240239999999],[152.9768882,-27.2343503],[152.9803841,-27.2348624],[152.9810582,-27.231968499999997],[152.9927241,-27.2335934],[152.991428,-27.227984399999993],[152.9955651,-27.230398400000006],[153.0032588,-27.231697999999998],[153.0056071,-27.236406399999996],[153.0082901,-27.2395834],[153.0137061,-27.243674400000003],[153.0168651,-27.246939399999995],[153.0180931,-27.248670399999998],[153.0160411,-27.250116499999994],[153.0136401,-27.2492784],[153.0095401,-27.25036340000001],[153.0060941,-27.252350600000003],[153.0057831,-27.2541444],[153.0019671,-27.255941399999994],[152.998888,-27.260523400000007],[152.9996301,-27.2612434],[152.9978531,-27.270740400000005]]]]}},{"type":"Feature","properties":{"suburb_name":"Leichhardt (Qld)","suburb_areasqkm":2.8006,"address_cnt":2144.0,"address_density_sqkm":766.0,"tp":"Suburb : Leichhardt (Qld)<br>Density per sqkm: 766"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.7320681,-27.630925],[152.7283731,-27.632184399999996],[152.727338,-27.629241399999998],[152.7256291,-27.627533399999994],[152.72151,-27.6293834],[152.7198721,-27.627556400000003],[152.72566080000001,-27.623221700000006],[152.72555,-27.6182594],[152.7282994,-27.616206200000004],[152.728743,-27.613986999999995],[152.7335531,-27.614118399999995],[152.7328281,-27.617839400000005],[152.7373569,-27.618536500000005],[152.7395901,-27.617713399999996],[152.743758,-27.617826400000006],[152.7447581,-27.6188834],[152.7428571,-27.621723399999997],[152.743375,-27.622735400000003],[152.747472,-27.62399840000001],[152.7474115,-27.624812199999997],[152.743826,-27.627306399999995],[152.740455,-27.627968400000004],[152.7320681,-27.630925]]]]}},{"type":"Feature","properties":{"suburb_name":"Loganlea","suburb_areasqkm":5.5373,"address_cnt":5232.0,"address_density_sqkm":945.0,"tp":"Suburb : Loganlea<br>Density per sqkm: 945"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.143923,-27.690149499999993],[153.1416088,-27.6907529],[153.1420448,-27.68820109999999],[153.1306726,-27.686697400000003],[153.13004,-27.687415200000004],[153.122664,-27.686443499999992],[153.1213951,-27.677125499999995],[153.1202831,-27.677678500000003],[153.1204071,-27.673673300000004],[153.1192251,-27.672459299999993],[153.120999,-27.668979299999993],[153.1190424,-27.6666963],[153.120345,-27.663882399999995],[153.123867,-27.6626975],[153.125352,-27.660371399999995],[153.1275958,-27.6624627],[153.13066,-27.6668745],[153.1343261,-27.669410300000003],[153.139894,-27.6714055],[153.145174,-27.672184499999997],[153.147192,-27.6731075],[153.15129,-27.678135500000003],[153.147433,-27.679464500000005],[153.1413037,-27.676703200000002],[153.1396824,-27.6776903],[153.1401614,-27.68099089999999],[153.1490345,-27.686802800000002],[153.1495849,-27.6880722],[153.143923,-27.690149499999993]]]]}},{"type":"Feature","properties":{"suburb_name":"Main Beach","suburb_areasqkm":3.4601,"address_cnt":5667.0,"address_density_sqkm":1638.0,"tp":"Suburb : Main Beach<br>Density per sqkm: 1,638"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.4302156,-27.984839500000003],[153.427921,-27.982971400000004],[153.4233209,-27.982172499999997],[153.4215927,-27.979265500000004],[153.4244146,-27.974330499999997],[153.42387890000003,-27.971960499999998],[153.4272085,-27.9714725],[153.4265326,-27.96966449999999],[153.4239786,-27.970567499999987],[153.4228299,-27.967783499999996],[153.4260105,-27.9663665],[153.4261265,-27.964353499999994],[153.4241906,-27.963500600000003],[153.4238835,-27.961064599999997],[153.4239484,-27.951989500000007],[153.4252069,-27.9498235],[153.4243879,-27.9442175],[153.4247169,-27.9417995],[153.4220044,-27.942120599999996],[153.4222365,-27.9487876],[153.4212385,-27.948818599999996],[153.4212874,-27.940888600000005],[153.4227415,-27.9385824],[153.4255499,-27.937036999999997],[153.4299329,-27.936194499999996],[153.4303979,-27.939001499999996],[153.4300959,-27.963120500000002],[153.4293775,-27.974532500000002],[153.4302156,-27.984839500000003]]],[[[153.4178974,-27.935322599999996],[153.4186834,-27.940021599999998],[153.4163078,-27.940152499999996],[153.4140855,-27.933650599999996],[153.4139145,-27.931327699999997],[153.4190124,-27.9315456],[153.4178974,-27.935322599999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Manly (Qld)","suburb_areasqkm":2.1582,"address_cnt":2637.0,"address_density_sqkm":1222.0,"tp":"Suburb : Manly (Qld)<br>Density per sqkm: 1,222"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.1815322,-27.4454333],[153.1869942,-27.446265299999997],[153.1865292,-27.451160199999993],[153.189314,-27.451681500000003],[153.191991,-27.4506495],[153.19409,-27.452333500000005],[153.194928,-27.456243499999996],[153.1945421,-27.4589972],[153.1900862,-27.461951199999994],[153.1890219,-27.4612813],[153.1846263,-27.4626692],[153.182352,-27.4611965],[153.1800384,-27.462433299999997],[153.17652,-27.459369400000003],[153.1756374,-27.456110299999995],[153.1796463,-27.453183300000003],[153.1838622,-27.446839299999994],[153.1815322,-27.4454333]]]]}},{"type":"Feature","properties":{"suburb_name":"Moorooka","suburb_areasqkm":4.0693,"address_cnt":7175.0,"address_density_sqkm":1763.0,"tp":"Suburb : Moorooka<br>Density per sqkm: 1,763"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.019603,-27.546405399999998],[153.017039,-27.54582939999999],[153.013722,-27.5420105],[153.0120182,-27.541271499999997],[153.0138738,-27.5358652],[153.0136518,-27.5314662],[153.016132,-27.5299505],[153.019543,-27.5255784],[153.023475,-27.5244709],[153.0248781,-27.522946499999996],[153.0303461,-27.523250399999995],[153.0324049,-27.525017499999997],[153.03166,-27.5277214],[153.033763,-27.530339499999997],[153.037707,-27.53096040000001],[153.0395935,-27.53209139999999],[153.0390015,-27.535083300000004],[153.0356297,-27.534545299999998],[153.0343801,-27.540863500000004],[153.0323049,-27.541311399999998],[153.0244972,-27.5403154],[153.0238947,-27.5438881],[153.02066,-27.543439399999997],[153.019603,-27.546405399999998]]]]}},{"type":"Feature","properties":{"suburb_name":"Mountain Creek (Qld)","suburb_areasqkm":7.368,"address_cnt":5247.0,"address_density_sqkm":712.0,"tp":"Suburb : Mountain Creek (Qld)<br>Density per sqkm: 712"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.1042991,-26.684664499999997],[153.1055671,-26.685922499999997],[153.1106031,-26.693574399999996],[153.1146341,-26.696457400000003],[153.1145611,-26.696576399999998],[153.1146881,-26.70450539999999],[153.1160801,-26.705972399999997],[153.1195371,-26.7068874],[153.1182511,-26.708911399999998],[153.1139041,-26.711547500000002],[153.1135411,-26.7137264],[153.1057921,-26.715350399999995],[153.0940641,-26.713996399999992],[153.0887441,-26.7140455],[153.0852281,-26.713257399999996],[153.0874951,-26.7002124],[153.0896611,-26.6975524],[153.0881171,-26.695601500000006],[153.0923445,-26.692286600000003],[153.1042991,-26.684664499999997]]]]}},{"type":"Feature","properties":{"suburb_name":"Newport (Qld)","suburb_areasqkm":4.0366,"address_cnt":3641.0,"address_density_sqkm":902.0,"tp":"Suburb : Newport (Qld)<br>Density per sqkm: 902"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0726616,-27.211101100000004],[153.0733852,-27.2070755],[153.0800571,-27.2068604],[153.0823561,-27.204587400000005],[153.0821941,-27.2029744],[153.0845401,-27.205047399999994],[153.0887321,-27.2052164],[153.0887201,-27.202826399999996],[153.0925601,-27.204097399999995],[153.0965223,-27.2028265],[153.1029152,-27.1998304],[153.1025231,-27.201982500000007],[153.0997661,-27.204452400000008],[153.1005421,-27.205869399999997],[153.1053763,-27.206424199999997],[153.104077,-27.208201500000005],[153.1030021,-27.213875399999992],[153.1039222,-27.2149785],[153.102448,-27.215272500000005],[153.0991531,-27.219404399999995],[153.099336,-27.217341400000002],[153.0880398,-27.215705399999997],[153.0874407,-27.218919499999995],[153.08250860000004,-27.2177685],[153.0758721,-27.2169645],[153.0768132,-27.211664999999993],[153.0726616,-27.211101100000004]]]]}},{"type":"Feature","properties":{"suburb_name":"North Lakes","suburb_areasqkm":11.7335,"address_cnt":10209.0,"address_density_sqkm":870.0,"tp":"Suburb : North Lakes<br>Density per sqkm: 870"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0320581,-27.207583400000008],[153.0342061,-27.2081405],[153.0337581,-27.212979399999995],[153.0359291,-27.215188499999996],[153.0331571,-27.218359400000004],[153.0325711,-27.218599400000002],[153.022311,-27.217156399999993],[153.0268711,-27.223830400000004],[153.0257492,-27.23016120000001],[153.029269,-27.2306826],[153.0308199,-27.233911499999998],[153.0266072,-27.240885400000007],[153.0201181,-27.2432195],[153.0168651,-27.246939399999995],[153.0137061,-27.243674400000003],[153.0082901,-27.2395834],[153.0056071,-27.236406399999996],[153.0032588,-27.231697999999998],[152.99845,-27.221696399999992],[152.9919111,-27.211765399999994],[152.9978511,-27.2087104],[153.0022261,-27.202851499999994],[153.0041741,-27.202070400000004],[153.01195,-27.203210400000003],[153.0149572,-27.203664499999995],[153.0163872,-27.205420499999992],[153.0159281,-27.2080444],[153.0301077,-27.21009629999999],[153.0320581,-27.207583400000008]]]]}},{"type":"Feature","properties":{"suburb_name":"Red Hill (Brisbane - Qld)","suburb_areasqkm":1.6179,"address_cnt":3907.0,"address_density_sqkm":2415.0,"tp":"Suburb : Red Hill (Brisbane - Qld)<br>Density per sqkm: 2,415"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0020451,-27.445091499999997],[153.004252,-27.445036500000004],[153.0071589,-27.4523605],[153.0070012,-27.4538324],[153.01202000000004,-27.454483499999995],[153.0147602,-27.4598322],[153.011963,-27.4595704],[153.003799,-27.456663499999998],[152.9986622,-27.455676399999998],[152.9938529,-27.453477499999995],[152.99424910000002,-27.4522861],[152.9912543,-27.450954999999993],[152.991612,-27.448897400000003],[152.995119,-27.448749399999993],[152.9958121,-27.446134400000005],[152.999995,-27.4491204],[153.0003591,-27.446420499999995],[153.0020451,-27.445091499999997]]]]}},{"type":"Feature","properties":{"suburb_name":"Redcliffe (Qld)","suburb_areasqkm":4.1848,"address_cnt":8351.0,"address_density_sqkm":1996.0,"tp":"Suburb : Redcliffe (Qld)<br>Density per sqkm: 1,996"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.1139801,-27.2388795],[153.1081929,-27.237612499999997],[153.0969411,-27.2359365],[153.0971175,-27.2349994],[153.0970621,-27.2301474],[153.0991531,-27.219404399999995],[153.102448,-27.215272500000005],[153.1039222,-27.2149785],[153.10808990000004,-27.2146365],[153.1077051,-27.216689499999994],[153.1102892,-27.217081499999992],[153.1112657,-27.215103000000006],[153.1166982,-27.2159124],[153.1166601,-27.220062499999997],[153.1154841,-27.223207299999995],[153.115245,-27.22724740000001],[153.1178232,-27.231763199999996],[153.1147282,-27.236305299999994],[153.1139801,-27.2388795]]]]}},{"type":"Feature","properties":{"suburb_name":"Regents Park (Qld)","suburb_areasqkm":4.7781,"address_cnt":4442.0,"address_density_sqkm":930.0,"tp":"Suburb : Regents Park (Qld)<br>Density per sqkm: 930"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0351791,-27.664403400000005],[153.0519876,-27.667175600000004],[153.052776,-27.670931],[153.0509921,-27.681866400000004],[153.0489973,-27.689116699999992],[153.031664,-27.686588499999996],[153.031311,-27.680463500000005],[153.031136,-27.673697400000002],[153.0338111,-27.666387399999994],[153.0351791,-27.664403400000005]]]]}},{"type":"Feature","properties":{"suburb_name":"Rocksberg","suburb_areasqkm":26.2057,"address_cnt":204.0,"address_density_sqkm":8.0,"tp":"Suburb : Rocksberg<br>Density per sqkm: 8"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.8510651,-27.139651399999998],[152.8472691,-27.138669399999998],[152.8426161,-27.135834399999997],[152.8395841,-27.136553399999997],[152.8359251,-27.132682399999997],[152.8364811,-27.130795399999993],[152.8302931,-27.131246400000002],[152.8286499,-27.130733699999997],[152.8303508,-27.1216317],[152.8279208,-27.121267700000008],[152.8289348,-27.115842799999996],[152.81944300000004,-27.113956799999993],[152.8202163,-27.110075400000007],[152.8072999,-27.108086200000002],[152.8086369,-27.099493000000006],[152.8118831,-27.098970399999992],[152.8122762,-27.0965588],[152.8168671,-27.097218399999992],[152.8177631,-27.092236399999997],[152.8139781,-27.0917204],[152.8143159,-27.089840500000008],[152.8186171,-27.090624400000003],[152.8192481,-27.0864854],[152.8267591,-27.083075400000002],[152.8342831,-27.085928399999993],[152.8360911,-27.087962399999995],[152.8451856,-27.089128900000002],[152.8434505,-27.09957989999999],[152.8614381,-27.102060399999996],[152.8618701,-27.0984764],[152.85998210000002,-27.095939399999995],[152.8603781,-27.094502400000003],[152.8760661,-27.0965654],[152.8756037,-27.098965099999997],[152.8810092,-27.0997174],[152.880215,-27.104017399999996],[152.8781651,-27.103713499999998],[152.8772141,-27.108938399999992],[152.8730982,-27.1083065],[152.872345,-27.112968499999997],[152.8805311,-27.114024399999998],[152.879563,-27.115426499999998],[152.8776331,-27.1259974],[152.8637931,-27.124309399999998],[152.8652221,-27.125450399999988],[152.8664411,-27.1289864],[152.8649821,-27.1309484],[152.8653131,-27.13318539999999],[152.8669601,-27.13493039999999],[152.8660811,-27.136908399999996],[152.8669221,-27.141329399999993],[152.8638591,-27.145015400000002],[152.8584621,-27.143815399999998],[152.85928210000003,-27.139241999999985],[152.8529961,-27.137807399999996],[152.8510651,-27.139651399999998]]]]}},{"type":"Feature","properties":{"suburb_name":"Sandstone Point","suburb_areasqkm":5.4213,"address_cnt":2594.0,"address_density_sqkm":478.0,"tp":"Suburb : Sandstone Point<br>Density per sqkm: 478"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.1144211,-27.085721499999988],[153.1155391,-27.079122499999997],[153.1181001,-27.0646035],[153.1180219,-27.0631207],[153.1256988,-27.0627387],[153.1310161,-27.065740499999993],[153.1337081,-27.0667115],[153.13816870000002,-27.0719196],[153.14214810000001,-27.073363500000006],[153.1440796,-27.07583749999999],[153.1421007,-27.0782365],[153.1428537,-27.080477499999994],[153.1362788,-27.083492599999996],[153.1328841,-27.0861045],[153.1298749,-27.0869486],[153.1243881,-27.086785499999994],[153.1187671,-27.084982399999994],[153.1144211,-27.085721499999988]]]]}},{"type":"Feature","properties":{"suburb_name":"Shorncliffe","suburb_areasqkm":1.2173,"address_cnt":1141.0,"address_density_sqkm":937.0,"tp":"Suburb : Shorncliffe<br>Density per sqkm: 937"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.082563,-27.333445400000002],[153.08176110000002,-27.334600399999996],[153.07956300000004,-27.335213399999997],[153.077657,-27.332378399999996],[153.07358010000002,-27.329736400000005],[153.0739071,-27.3281224],[153.077281,-27.3261523],[153.0781543,-27.3217663],[153.0826103,-27.321863199999996],[153.0867982,-27.325318199999998],[153.0881652,-27.3278272],[153.08754620000002,-27.3294172],[153.084041,-27.331257500000003],[153.082563,-27.333445400000002]]]]}},{"type":"Feature","properties":{"suburb_name":"Sinnamon Park","suburb_areasqkm":2.9344,"address_cnt":3540.0,"address_density_sqkm":1206.0,"tp":"Suburb : Sinnamon Park<br>Density per sqkm: 1,206"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9465129,-27.555376499999998],[152.9430074,-27.557996699999993],[152.939972,-27.559080399999992],[152.9409743,-27.552094099999994],[152.941622,-27.546874399999993],[152.9431751,-27.543073000000003],[152.9482004,-27.536443899999995],[152.9497301,-27.529158099999993],[152.9529558,-27.530522599999994],[152.9582767,-27.53469060000001],[152.9602335,-27.537596700000005],[152.9575476,-27.5378397],[152.9546251,-27.540545400000006],[152.9519743,-27.545118399999996],[152.9530115,-27.54543039999999],[152.95271,-27.549836399999993],[152.9539095,-27.552289599999998],[152.95283960000003,-27.553880099999997],[152.9465129,-27.555376499999998]]]]}},{"type":"Feature","properties":{"suburb_name":"Slacks Creek","suburb_areasqkm":8.4702,"address_cnt":6740.0,"address_density_sqkm":796.0,"tp":"Suburb : Slacks Creek<br>Density per sqkm: 796"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.118227,-27.646392099999993],[153.118761,-27.638071399999994],[153.1190372,-27.634725399999997],[153.1185299,-27.6284934],[153.1167781,-27.624950400000003],[153.1158209,-27.620379399999997],[153.11913,-27.6197535],[153.121196,-27.6143875],[153.1244389,-27.616775299999997],[153.125875,-27.619035499999995],[153.1307231,-27.630237500000003],[153.1332384,-27.633581600000003],[153.14105,-27.640705500000003],[153.1482068,-27.645738399999995],[153.1553139,-27.6483075],[153.157245,-27.64941449999999],[153.164123,-27.655199499999988],[153.163133,-27.658655499999995],[153.161753,-27.658997499999995],[153.159407,-27.6622404],[153.156921,-27.66063249999999],[153.1566187,-27.658074400000004],[153.1547998,-27.6550084],[153.1496414,-27.656150199999992],[153.1465547,-27.653644899999996],[153.1420963,-27.658290099999995],[153.1404226,-27.656346100000004],[153.1409483,-27.653373999999985],[153.118355,-27.6499775],[153.118227,-27.646392099999993]]]]}},{"type":"Feature","properties":{"suburb_name":"South Brisbane","suburb_areasqkm":2.0041,"address_cnt":14667.0,"address_density_sqkm":7318.0,"tp":"Suburb : South Brisbane<br>Density per sqkm: 7,318"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0302331,-27.482104399999997],[153.03055990000001,-27.483739399999997],[153.0307479,-27.4857785],[153.0270612,-27.4899838],[153.0252497,-27.489763100000005],[153.024353,-27.4885021],[153.023352,-27.485412200000003],[153.0201061,-27.484493500000003],[153.01883710000004,-27.48197919999999],[153.0140401,-27.481260200000005],[153.0127151,-27.477219499999997],[153.0108071,-27.476944299999996],[153.007899,-27.474101399999995],[153.013636,-27.470220400000002],[153.016882,-27.469496399999997],[153.0185059,-27.4709012],[153.024214,-27.478953399999998],[153.027111,-27.4816124],[153.0302331,-27.482104399999997]]]]}},{"type":"Feature","properties":{"suburb_name":"South Ripley","suburb_areasqkm":50.5177,"address_cnt":2571.0,"address_density_sqkm":51.0,"tp":"Suburb : South Ripley<br>Density per sqkm: 51"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.808017,-27.758778399999994],[152.804276,-27.758271399999998],[152.804559,-27.7565134],[152.792492,-27.754914399999993],[152.7968439,-27.74872909999999],[152.799302,-27.732454400000005],[152.7864443,-27.730972899999998],[152.773544,-27.7289694],[152.7766378,-27.712288999999995],[152.777453,-27.707844499999997],[152.771631,-27.706999399999994],[152.7752691,-27.687595999999996],[152.7778635,-27.6879725],[152.77861,-27.684084399999996],[152.78470500000003,-27.687936399999998],[152.789808,-27.6904974],[152.796269,-27.6908414],[152.803124,-27.6874784],[152.807254,-27.686016400000003],[152.811255,-27.685752399999995],[152.821557,-27.687661399999996],[152.820453,-27.69398839999999],[152.826757,-27.694846399999996],[152.826167,-27.7013484],[152.824567,-27.711034400000003],[152.8359609,-27.712710400000006],[152.837002,-27.7066404],[152.8477438,-27.708137499999996],[152.846503,-27.715266399999997],[152.856408,-27.716503399999997],[152.8569009,-27.713633500000004],[152.8603766,-27.714210899999994],[152.8598872,-27.7163023],[152.8612242,-27.720336300000007],[152.8634943,-27.7242983],[152.863791,-27.727987400000004],[152.862429,-27.735689399999995],[152.876257,-27.737604400000002],[152.8746558,-27.746273000000002],[152.873349,-27.753346499999992],[152.85795,-27.7511104],[152.856795,-27.757256399999996],[152.843451,-27.755287399999997],[152.843176,-27.75678439999999],[152.836003,-27.755730399999994],[152.833945,-27.752655399999988],[152.8345848,-27.7475643],[152.829264,-27.746774399999993],[152.8282489,-27.7527155],[152.8230255,-27.75202609999999],[152.8222629,-27.7563748],[152.811397,-27.7548954],[152.811052,-27.759027399999997],[152.808017,-27.758778399999994]]]]}},{"type":"Feature","properties":{"suburb_name":"Stretton","suburb_areasqkm":5.0913,"address_cnt":1877.0,"address_density_sqkm":369.0,"tp":"Suburb : Stretton<br>Density per sqkm: 369"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0700546,-27.642216599999994],[153.053562,-27.639675499999985],[153.053905,-27.6378004],[153.057205,-27.637824499999994],[153.0619829,-27.611447399999996],[153.0663069,-27.611087399999995],[153.075251,-27.612398399999993],[153.078184,-27.6133214],[153.078733,-27.613583600000002],[153.078172,-27.6193741],[153.0766381,-27.627623400000004],[153.072804,-27.627065499999997],[153.0700546,-27.642216599999994]]]]}},{"type":"Feature","properties":{"suburb_name":"Tallebudgera Valley","suburb_areasqkm":60.1322,"address_cnt":813.0,"address_density_sqkm":14.0,"tp":"Suburb : Tallebudgera Valley<br>Density per sqkm: 14"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.3974854,-28.127976399999998],[153.3983909,-28.1266335],[153.40415,-28.12368289999999],[153.4079819,-28.11949629999999],[153.4116779,-28.116983500000003],[153.4148419,-28.119842499999997],[153.4173739,-28.118940500000004],[153.4212759,-28.123048500000007],[153.4257279,-28.124364499999995],[153.4257439,-28.125990500000004],[153.4225479,-28.126419499999997],[153.4190419,-28.130496499999996],[153.4116759,-28.1325565],[153.4087199,-28.134319499999997],[153.4082759,-28.13669949999999],[153.4104909,-28.137528499999995],[153.4072469,-28.140919499999992],[153.4034069,-28.1436815],[153.4040639,-28.1471615],[153.4026529,-28.14965349999999],[153.4044299,-28.152706499999997],[153.4030089,-28.155848499999998],[153.4006409,-28.15618750000001],[153.3995879,-28.1595625],[153.3964209,-28.15952550000001],[153.3963169,-28.162309500000003],[153.3992339,-28.164665499999998],[153.3995609,-28.166949499999998],[153.40135490000003,-28.168533500000002],[153.3986649,-28.174181500000003],[153.3961859,-28.173796499999998],[153.394844,-28.180835899999998],[153.3976611,-28.182450799999998],[153.4011239,-28.186745500000004],[153.3983969,-28.188458499999996],[153.3966259,-28.19141649999999],[153.3923209,-28.192836500000006],[153.3917139,-28.195652499999998],[153.3880059,-28.196551500000005],[153.3855629,-28.1980975],[153.3756979,-28.206056499999992],[153.3695623,-28.21210440000001],[153.3650969,-28.213709499999993],[153.3596529,-28.2166585],[153.3600159,-28.2174195],[153.3557339,-28.220650499999994],[153.3544829,-28.2228695],[153.3516839,-28.225079500000007],[153.3477789,-28.2261935],[153.3445949,-28.228830500000004],[153.3419703,-28.228874699999995],[153.3401759,-28.239016500000005],[153.3383549,-28.238734500000003],[153.3363284,-28.248998999999994],[153.3316994,-28.245404199999996],[153.3310374,-28.2388625],[153.3297714,-28.236861500000003],[153.3257229,-28.235923000000003],[153.3218679,-28.237788999999992],[153.3168549,-28.2385195],[153.3145679,-28.237169999999992],[153.3099908,-28.2380527],[153.3047664,-28.239682499999994],[153.3003724,-28.238014],[153.2968412,-28.234269299999998],[153.2966492,-28.232647699999998],[153.2942686,-28.230473199999995],[153.2953706,-28.222863300000004],[153.2964799,-28.2191325],[153.2983718,-28.219495500000004],[153.2992649,-28.221918499999997],[153.3014149,-28.222581099999996],[153.3118495,-28.2113407],[153.3131584,-28.211534999999998],[153.3172911,-28.2070021],[153.3131549,-28.2040337],[153.3153091,-28.199869699999997],[153.3195457,-28.197352099999996],[153.3202149,-28.195040700000003],[153.31950990000004,-28.1912677],[153.319664,-28.1876535],[153.3215999,-28.18567880000001],[153.3265397,-28.185565699999998],[153.3295725,-28.1809688],[153.3324064,-28.178958400000006],[153.3346563,-28.175744299999998],[153.3373977,-28.173299899999996],[153.34059760000002,-28.173356199999994],[153.3452009,-28.169315399999984],[153.348024,-28.168200200000005],[153.3477129,-28.16535010000001],[153.3485275,-28.160550900000004],[153.3524133,-28.1600585],[153.3551662,-28.158681899999994],[153.3608095,-28.158476300000004],[153.3641076,-28.162300800000004],[153.36815360000003,-28.162165899999994],[153.3686759,-28.159563499999997],[153.3775866,-28.160891799999998],[153.38016590000004,-28.14743149999999],[153.3871819,-28.1484905],[153.3884469,-28.1461415],[153.3915259,-28.145074499999996],[153.3920121,-28.143157499999997],[153.3866365,-28.139818899999998],[153.3867273,-28.136831299999997],[153.3857511,-28.13476719999999],[153.3866544,-28.132076200000004],[153.3898159,-28.131381099999995],[153.3938994,-28.1322882],[153.3947,-28.130936400000003],[153.3978461,-28.131399500000008],[153.3974854,-28.127976399999998]]]]}},{"type":"Feature","properties":{"suburb_name":"Alberton (Qld)","suburb_areasqkm":16.1991,"address_cnt":350.0,"address_density_sqkm":22.0,"tp":"Suburb : Alberton (Qld)<br>Density per sqkm: 22"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.28668,-27.694341500000004],[153.28946400000004,-27.692422499999992],[153.292527,-27.692019500000004],[153.2928994,-27.694485299999997],[153.2922674,-27.69814429999999],[153.2931574,-27.7016432],[153.2947064,-27.703206200000004],[153.2996454,-27.711686200000003],[153.29855,-27.7156855],[153.296897,-27.724908500000005],[153.281816,-27.722758499999998],[153.270069,-27.7210845],[153.2566899,-27.719210499999996],[153.251909,-27.721135499999995],[153.252216,-27.7188665],[153.2474811,-27.7157025],[153.248056,-27.712450499999996],[153.243146,-27.710140499999994],[153.2395911,-27.711924499999995],[153.239956,-27.70915649999999],[153.232815,-27.7081495],[153.2328138,-27.7052834],[153.2362192,-27.7030705],[153.233891,-27.699379399999998],[153.2339093,-27.694313599999997],[153.239454,-27.695045500000003],[153.2410073,-27.6958616],[153.2411442,-27.697763499999997],[153.2432882,-27.698306499999994],[153.2524397,-27.6974442],[153.2549195,-27.6953312],[153.2565173,-27.691876899999993],[153.2589972,-27.692850700000005],[153.2662384,-27.692736099999998],[153.2700163,-27.6958823],[153.2734611,-27.697986100000005],[153.2780526,-27.6957884],[153.2836465,-27.695379299999985],[153.28668,-27.694341500000004]]]]}},{"type":"Feature","properties":{"suburb_name":"Aroona","suburb_areasqkm":1.8916,"address_cnt":1389.0,"address_density_sqkm":734.0,"tp":"Suburb : Aroona<br>Density per sqkm: 734"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.121864,-26.7900544],[153.1206708,-26.790032699999998],[153.1157371,-26.785505400000005],[153.1128881,-26.786449399999995],[153.1076995,-26.7859092],[153.1095062,-26.7748755],[153.1150431,-26.775592499999995],[153.1260571,-26.77827339999999],[153.1230271,-26.7847434],[153.121864,-26.7900544]]]]}},{"type":"Feature","properties":{"suburb_name":"Camp Mountain","suburb_areasqkm":16.2313,"address_cnt":572.0,"address_density_sqkm":35.0,"tp":"Suburb : Camp Mountain<br>Density per sqkm: 35"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9003755,-27.403714299999997],[152.8993171,-27.4035594],[152.8975979,-27.4150735],[152.8972348,-27.417267399999997],[152.8726891,-27.413743400000005],[152.8721501,-27.4130527],[152.8648011,-27.4178434],[152.86312460000002,-27.417652600000004],[152.8530141,-27.4161404],[152.8532542,-27.41477650000001],[152.8485292,-27.414198400000004],[152.846276,-27.4129234],[152.8476332,-27.405186499999992],[152.8504131,-27.404970399999993],[152.8544631,-27.402886499999997],[152.857121,-27.3991834],[152.85918810000004,-27.3934105],[152.8655799,-27.3917934],[152.8686201,-27.390742399999997],[152.868875,-27.38935739999999],[152.876185,-27.3876104],[152.8760681,-27.3840444],[152.8792575,-27.3821529],[152.8806549,-27.378602400000005],[152.8840191,-27.377523399999998],[152.8904901,-27.379163500000008],[152.8913311,-27.3782434],[152.894237,-27.3809774],[152.8994289,-27.382194399999992],[152.9021785,-27.382901899999993],[152.9048321,-27.387012399999993],[152.9041501,-27.389679399999995],[152.9026651,-27.390544399999996],[152.9003755,-27.403714299999997]]]]}},{"type":"Feature","properties":{"suburb_name":"Cedar Creek (Logan - Qld)","suburb_areasqkm":38.7607,"address_cnt":496.0,"address_density_sqkm":13.0,"tp":"Suburb : Cedar Creek (Logan - Qld)<br>Density per sqkm: 13"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.160404,-27.8003505],[153.160046,-27.804805499999993],[153.16841,-27.805976499999993],[153.169248,-27.803285499999998],[153.176176,-27.80836349999999],[153.177974,-27.811355499999998],[153.184624,-27.810288600000003],[153.2026497,-27.81306349999999],[153.2081979,-27.814954499999995],[153.2112596,-27.814796399999995],[153.212154,-27.818337500000002],[153.211989,-27.8228535],[153.214237,-27.825494499999998],[153.214098,-27.827440500000005],[153.208266,-27.8291325],[153.211193,-27.8315735],[153.210033,-27.838479499999995],[153.2138566,-27.839021099999997],[153.2125469,-27.846532499999988],[153.211003,-27.851685500000002],[153.210008,-27.851491500000005],[153.208926,-27.857133500000003],[153.216264,-27.8583035],[153.214336,-27.868592499999995],[153.216391,-27.8688915],[153.214848,-27.876974499999992],[153.208961,-27.876074499999998],[153.20724600000003,-27.8849875],[153.204869,-27.884631499999998],[153.203154,-27.8938105],[153.195909,-27.8928195],[153.195051,-27.8971635],[153.183278,-27.895431500000004],[153.18068900000003,-27.895066500000002],[153.183345,-27.891345500000003],[153.184699,-27.887655499999994],[153.184689,-27.884941499999993],[153.1862739,-27.881227500000005],[153.18574,-27.8780145],[153.186371,-27.87518950000001],[153.185424,-27.87374649999999],[153.188946,-27.855091499999993],[153.181078,-27.853917500000005],[153.182023,-27.848539500000005],[153.180635,-27.848324500000004],[153.181499,-27.843981499999998],[153.180513,-27.840859499999993],[153.17569800000004,-27.839415499999998],[153.175731,-27.8368375],[153.173152,-27.834760499999998],[153.168712,-27.83890349999999],[153.169445,-27.841532499999996],[153.164634,-27.842316499999992],[153.165446,-27.8381045],[153.158669,-27.837106500000004],[153.154385,-27.8363565],[153.155497,-27.8314185],[153.147469,-27.82998549999999],[153.148913,-27.8234385],[153.144401,-27.822655499999996],[153.145216,-27.818997499999988],[153.13719,-27.817589499999997],[153.139141,-27.8088645],[153.14151,-27.804913499999998],[153.142772,-27.797736500000003],[153.160404,-27.8003505]]]]}},{"type":"Feature","properties":{"suburb_name":"Doonan","suburb_areasqkm":32.1303,"address_cnt":1574.0,"address_density_sqkm":49.0,"tp":"Suburb : Doonan<br>Density per sqkm: 49"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0279762,-26.422911399999997],[153.0283961,-26.42643439999999],[153.0305751,-26.427529400000005],[153.0317252,-26.430488400000005],[153.0342782,-26.4309624],[153.0499975,-26.430897900000005],[153.0481656,-26.442344000000002],[153.0429997,-26.441622999999996],[153.0344209,-26.443402999999996],[153.0309362,-26.443247399999997],[153.0340737,-26.446207300000005],[153.0365122,-26.4591504],[153.0385972,-26.4631134],[153.0458543,-26.468572899999998],[153.0567562,-26.477332400000005],[153.0596292,-26.478704500000003],[153.063814,-26.4794425],[153.0590599,-26.484552799999992],[153.0546912,-26.4836824],[153.0525551,-26.483933400000005],[153.0494372,-26.48205039999999],[153.0452581,-26.482064400000006],[153.0427711,-26.481131399999995],[153.0368822,-26.476223400000006],[153.0340381,-26.4757814],[153.0301262,-26.473826399999997],[153.0061482,-26.47057039999999],[153.0060522,-26.471126399999996],[152.9972762,-26.469924399999996],[152.9976672,-26.467604399999992],[152.9846212,-26.46583040000001],[152.9847852,-26.464859399999998],[152.9792182,-26.464100400000003],[152.9795752,-26.462102399999996],[152.9804742,-26.4570114],[152.9796082,-26.45667439999999],[152.9763672,-26.450588399999994],[152.9786302,-26.4484124],[152.9760812,-26.447684399999996],[152.9765122,-26.443678399999985],[152.9741311,-26.44242139999999],[152.9756543,-26.433321399999997],[152.9866811,-26.434848499999998],[152.9856821,-26.433253499999996],[152.9955664,-26.434655400000004],[152.9976878,-26.433415200000002],[152.9989072,-26.428897399999997],[153.0053107,-26.4275443],[153.00664070000002,-26.419921499999994],[153.0279762,-26.422911399999997]]]]}},{"type":"Feature","properties":{"suburb_name":"Eumundi","suburb_areasqkm":23.3137,"address_cnt":1551.0,"address_density_sqkm":67.0,"tp":"Suburb : Eumundi<br>Density per sqkm: 67"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9747771,-26.433199299999995],[152.9756543,-26.433321399999997],[152.9741311,-26.44242139999999],[152.9765122,-26.443678399999985],[152.9760812,-26.447684399999996],[152.9786302,-26.4484124],[152.9763672,-26.450588399999994],[152.9796082,-26.45667439999999],[152.9804742,-26.4570114],[152.9795752,-26.462102399999996],[152.9739462,-26.4612854],[152.9735082,-26.463441399999997],[152.9712382,-26.463164400000004],[152.9701572,-26.468714399999993],[152.9724102,-26.469046399999996],[152.9715332,-26.4739244],[152.9703263,-26.474223399999996],[152.9687572,-26.481691400000003],[152.9723892,-26.482195399999995],[152.9715058,-26.487451100000005],[152.9769692,-26.488200400000004],[152.9786402,-26.490204399999993],[152.9773302,-26.49745739999999],[152.9812951,-26.498427400000004],[152.9830252,-26.4975724],[152.9863912,-26.498041399999995],[152.9861462,-26.4995604],[152.9856692,-26.502636399999997],[152.9622252,-26.499319400000005],[152.9623269,-26.4956076],[152.9401391,-26.4927919],[152.936743,-26.4949134],[152.9355952,-26.494753399999993],[152.937575,-26.483865900000005],[152.9447332,-26.4849254],[152.945081,-26.48283689999999],[152.9438962,-26.4769354],[152.9424212,-26.473503299999994],[152.9430949,-26.470447899999996],[152.9415327,-26.469087300000005],[152.9433831,-26.458779399999997],[152.9407692,-26.459349399999994],[152.9390732,-26.458476400000006],[152.9350502,-26.459892399999994],[152.9328012,-26.459465400000003],[152.9356514,-26.445031799999995],[152.936108,-26.44314999999999],[152.945023,-26.444587399999993],[152.9462617,-26.437163299999998],[152.9644727,-26.43960639999999],[152.9663872,-26.432031499999994],[152.9747771,-26.433199299999995]]]]}},{"type":"Feature","properties":{"suburb_name":"Grandchester","suburb_areasqkm":57.3853,"address_cnt":433.0,"address_density_sqkm":8.0,"tp":"Suburb : Grandchester<br>Density per sqkm: 8"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.480795,-27.718511399999997],[152.4777851,-27.7189304],[152.4731721,-27.7228604],[152.4705741,-27.724360399999995],[152.4684501,-27.721814400000003],[152.4670741,-27.723888399999996],[152.4668411,-27.727532399999998],[152.46580410000004,-27.727998399999997],[152.454311,-27.724901399999993],[152.4569561,-27.7102724],[152.4408551,-27.707876400000004],[152.4247591,-27.705726399999996],[152.4240261,-27.7098944],[152.4122571,-27.708200399999996],[152.4135031,-27.700926400000004],[152.3906521,-27.6977554],[152.3917701,-27.693964400000002],[152.3915681,-27.690815399999998],[152.3954581,-27.686852399999996],[152.40303910000003,-27.685024399999996],[152.4111741,-27.681397399999998],[152.4120791,-27.677131399999993],[152.4161977,-27.675128900000015],[152.4177267,-27.6731189],[152.4176686,-27.67120789999999],[152.4226491,-27.6636584],[152.4164981,-27.6628774],[152.4125611,-27.6614224],[152.4128641,-27.6598284],[152.4132881,-27.657365400000003],[152.4184471,-27.65788939999999],[152.4204191,-27.655259399999995],[152.4224601,-27.654338399999997],[152.4303071,-27.656722399999996],[152.4326651,-27.6565014],[152.4328051,-27.654649399999997],[152.4303971,-27.6530034],[152.4310991,-27.651617399999996],[152.4343321,-27.650599399999997],[152.4366451,-27.651835400000007],[152.4388551,-27.65008439999999],[152.4406721,-27.650474400000007],[152.4407181,-27.6523714],[152.4424331,-27.65399439999999],[152.4452621,-27.6542044],[152.4477991,-27.655924399999993],[152.4502851,-27.653134400000003],[152.4524051,-27.654537400000002],[152.4541251,-27.6572664],[152.4545221,-27.660449400000005],[152.4578341,-27.662442399999996],[152.4593441,-27.653826399999996],[152.4627491,-27.654290400000004],[152.4636571,-27.649996400000003],[152.4653341,-27.647340400000008],[152.4636561,-27.6434024],[152.4655201,-27.642469399999992],[152.4690561,-27.6383694],[152.4725741,-27.6268544],[152.4750611,-27.625173399999998],[152.4758801,-27.622869399999995],[152.4799711,-27.6178444],[152.4871112,-27.6188174],[152.4865801,-27.621839399999992],[152.4969931,-27.623335399999995],[152.4948551,-27.625716399999998],[152.4961251,-27.6273644],[152.4953801,-27.6337424],[152.4939061,-27.6350354],[152.4948711,-27.639988399999996],[152.4941521,-27.6427964],[152.4954281,-27.645700399999992],[152.4998671,-27.649942400000004],[152.4985151,-27.652177399999992],[152.4959151,-27.665324399999996],[152.4928001,-27.667035400000003],[152.491755,-27.6731364],[152.485551,-27.672280400000002],[152.483914,-27.681645399999997],[152.4730241,-27.679952399999998],[152.4718611,-27.683060399999995],[152.469447,-27.6957534],[152.4805011,-27.6973314],[152.4762321,-27.7005194],[152.4810271,-27.7063884],[152.4777191,-27.708559399999995],[152.478914,-27.710052400000002],[152.475783,-27.712041399999997],[152.480795,-27.718511399999997]]]]}},{"type":"Feature","properties":{"suburb_name":"Jamboree Heights","suburb_areasqkm":1.1503,"address_cnt":1379.0,"address_density_sqkm":1199.0,"tp":"Suburb : Jamboree Heights<br>Density per sqkm: 1,199"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.927443,-27.56246940000001],[152.9295492,-27.551403699999998],[152.9344107,-27.552988799999998],[152.9354938,-27.55125089999999],[152.9409743,-27.552094099999994],[152.939972,-27.559080399999992],[152.935376,-27.559885399999995],[152.93176,-27.561818400000007],[152.927443,-27.56246940000001]]]]}},{"type":"Feature","properties":{"suburb_name":"Kenilworth","suburb_areasqkm":187.7352,"address_cnt":495.0,"address_density_sqkm":3.0,"tp":"Suburb : Kenilworth<br>Density per sqkm: 3"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.7412703,-26.6492596],[152.7355531,-26.649520400000004],[152.7348032,-26.65316039999999],[152.7378333,-26.654154400000003],[152.7368016,-26.660501399999998],[152.7302953,-26.659662399999995],[152.7279956,-26.655714899999996],[152.7271636,-26.652015899999995],[152.7233716,-26.644849899999997],[152.7217826,-26.642472899999998],[152.7194676,-26.642069899999992],[152.7159556,-26.639288899999997],[152.7154063,-26.63506190000001],[152.7084163,-26.6341852],[152.7074542,-26.637174399999996],[152.7054502,-26.63515539999999],[152.7007002,-26.63330739999999],[152.7013692,-26.6294374],[152.6990902,-26.627940399999996],[152.69784320000002,-26.6236484],[152.6940092,-26.621849399999988],[152.6915382,-26.623485399999993],[152.6889352,-26.6238224],[152.6845212,-26.626669399999994],[152.68180920000003,-26.622131400000004],[152.6751002,-26.62240939999999],[152.6731782,-26.6199694],[152.6737642,-26.618454400000005],[152.677295,-26.617486299999996],[152.6755092,-26.6152704],[152.6719821,-26.617160399999996],[152.6696751,-26.6175414],[152.6656912,-26.6162414],[152.6636842,-26.629095400000004],[152.6590502,-26.629070399999996],[152.6579072,-26.626316399999986],[152.6548652,-26.628679399999996],[152.6522362,-26.629784400000002],[152.6517912,-26.634447399999996],[152.6479082,-26.635791400000002],[152.6475242,-26.6387334],[152.6461512,-26.6403434],[152.6493552,-26.643853399999998],[152.6466322,-26.64454139999999],[152.6456512,-26.6485004],[152.6438962,-26.649288399999996],[152.6446282,-26.65176440000001],[152.6431992,-26.6528464],[152.6405182,-26.6504924],[152.6369452,-26.6512914],[152.6313062,-26.657844400000002],[152.6295612,-26.658954400000002],[152.6286262,-26.668626400000008],[152.6292292,-26.6707314],[152.6248032,-26.6724604],[152.6282662,-26.6754624],[152.6330112,-26.675094400000003],[152.6342872,-26.674259400000004],[152.6349232,-26.6706764],[152.6512382,-26.672806399999995],[152.6520482,-26.668691400000004],[152.6605212,-26.66982640000001],[152.6561362,-26.699104399999996],[152.6537852,-26.6988064],[152.6542642,-26.69562639999999],[152.6515502,-26.692817400000006],[152.6486052,-26.691331399999992],[152.6415662,-26.690644399999993],[152.6379492,-26.69166040000001],[152.6343762,-26.691553400000004],[152.6326022,-26.6928994],[152.6309442,-26.6962834],[152.6303816,-26.702963599999997],[152.6316756,-26.704499600000002],[152.63255060000003,-26.708505599999995],[152.6285466,-26.71020259999999],[152.6250147,-26.709820700000005],[152.6213538,-26.7124297],[152.6215878,-26.714723699999993],[152.6188258,-26.716708800000006],[152.6164019,-26.716632799999996],[152.613562,-26.720049799999998],[152.61391,-26.7237788],[152.611593,-26.725881799999993],[152.611248,-26.728687899999997],[152.6087312,-26.7316489],[152.6061702,-26.732545900000005],[152.6022992,-26.730163899999997],[152.5979473,-26.73139099999999],[152.5969693,-26.733560999999995],[152.5926602,-26.733189400000004],[152.5896922,-26.7316534],[152.5868262,-26.7334504],[152.5832662,-26.73083139999999],[152.5829742,-26.727115400000002],[152.5812505,-26.7258221],[152.5804942,-26.722756299999997],[152.5820265,-26.720232100000004],[152.5793715,-26.716187099999992],[152.5729312,-26.711380399999992],[152.5702276,-26.7106562],[152.56852950000004,-26.708688200000005],[152.5650846,-26.707205199999997],[152.5621801,-26.707989399999992],[152.5555792,-26.705993399999997],[152.5529392,-26.706024399999997],[152.5508772,-26.703570399999993],[152.5517562,-26.701627400000007],[152.5514782,-26.6975064],[152.55434320000003,-26.6958674],[152.5574462,-26.691877399999992],[152.5578852,-26.688784400000003],[152.5556092,-26.687409399999996],[152.5557442,-26.6804874],[152.5537212,-26.681835399999997],[152.55219650000004,-26.680851399999987],[152.5722862,-26.6592434],[152.5714673,-26.657956400000003],[152.5832093,-26.645371399999995],[152.5877902,-26.613978399999997],[152.5853722,-26.612024399999996],[152.5820192,-26.60432739999999],[152.5814792,-26.599665400000003],[152.5841482,-26.596678399999995],[152.5740182,-26.595461399999998],[152.5760992,-26.59109340000001],[152.5752014,-26.583994500000006],[152.5778402,-26.5831234],[152.5792862,-26.5808716],[152.5823241,-26.581068399999992],[152.5830829,-26.5798102],[152.5879469,-26.579734100000003],[152.5888959,-26.5822569],[152.5921876,-26.584353700000005],[152.5955047,-26.5840893],[152.5997458,-26.581069899999996],[152.60252240000003,-26.5779234],[152.6042015,-26.5783376],[152.6058803,-26.5796863],[152.6063237,-26.584284099999994],[152.6122282,-26.582960499999995],[152.6159912,-26.58320239999999],[152.6186662,-26.5843004],[152.6236442,-26.583112399999997],[152.6256352,-26.581968400000004],[152.6294532,-26.583764400000003],[152.6305402,-26.5833674],[152.6357632,-26.5851124],[152.6379992,-26.584548399999996],[152.6420092,-26.586516399999997],[152.6436692,-26.5862374],[152.6526452,-26.590234399999993],[152.6535882,-26.5928204],[152.6602662,-26.5970944],[152.6629452,-26.597335399999995],[152.6654402,-26.596256399999994],[152.6699712,-26.5961034],[152.6732842,-26.597264399999997],[152.6804932,-26.597696399999993],[152.6814222,-26.5908734],[152.6828982,-26.589273400000003],[152.6810122,-26.58392939999999],[152.6826172,-26.582043399999996],[152.6836552,-26.5787774],[152.6860252,-26.577008399999997],[152.6920252,-26.576517399999997],[152.6949652,-26.575553400000004],[152.6947292,-26.571766399999994],[152.6956253,-26.570405400000002],[152.6949412,-26.5678664],[152.7007602,-26.56519339999999],[152.7065932,-26.5598234],[152.7084431,-26.55988839999999],[152.7105642,-26.5565694],[152.7095614,-26.554153500000005],[152.71047670000002,-26.552499699999995],[152.71156980000004,-26.552633199999995],[152.7124496,-26.54619529999999],[152.7147031,-26.546335100000007],[152.7284543,-26.536964699999995],[152.7333955,-26.542988499999993],[152.7376513,-26.540242599999996],[152.7451372,-26.549614400000003],[152.7464792,-26.549842399999996],[152.7463742,-26.55565139999999],[152.7470812,-26.557284399999997],[152.7496472,-26.557848399999994],[152.7542382,-26.5569574],[152.7603262,-26.563412399999997],[152.7636642,-26.564905399999997],[152.7605182,-26.567627399999996],[152.7556522,-26.5674824],[152.7602163,-26.584285899999998],[152.7473272,-26.587062400000004],[152.7459192,-26.5953134],[152.7461082,-26.599713400000002],[152.7505892,-26.60000539999999],[152.7517062,-26.6036004],[152.7536262,-26.604539399999997],[152.7549642,-26.6026034],[152.7598732,-26.6074514],[152.7662232,-26.608134400000004],[152.7695482,-26.6107534],[152.7690612,-26.614393399999994],[152.7670182,-26.6164494],[152.7620472,-26.616745399999996],[152.7596632,-26.616095399999995],[152.7579151,-26.618049399999993],[152.7539911,-26.619620399999995],[152.7507523,-26.6197645],[152.7516392,-26.622025399999995],[152.7538242,-26.622667400000005],[152.7524012,-26.626726400000003],[152.7499132,-26.628727399999995],[152.7512012,-26.631590399999997],[152.7504422,-26.633584399999997],[152.7483471,-26.6344704],[152.7458951,-26.6376896],[152.7446366,-26.640864999999998],[152.7421052,-26.6440674],[152.7412703,-26.6492596]]]]}},{"type":"Feature","properties":{"suburb_name":"Moggill","suburb_areasqkm":11.6441,"address_cnt":2401.0,"address_density_sqkm":206.0,"tp":"Suburb : Moggill<br>Density per sqkm: 206"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.888926,-27.590257400000002],[152.888369,-27.5897364],[152.881857,-27.584703399999995],[152.876547,-27.579924400000003],[152.872716,-27.579241400000004],[152.869922,-27.580971400000006],[152.868666,-27.583311399999996],[152.8635311,-27.5956254],[152.860818,-27.597952400000004],[152.858193,-27.597626399999996],[152.856391,-27.596037400000004],[152.855733,-27.5832054],[152.8533521,-27.5743984],[152.84961,-27.566690399999995],[152.856001,-27.5651704],[152.860882,-27.564866000000002],[152.8784713,-27.567424099999997],[152.8780951,-27.569258600000005],[152.8857089,-27.567805399999994],[152.8902753,-27.5685439],[152.8907662,-27.566206899999997],[152.8953528,-27.567413400000007],[152.8958931,-27.564710500000004],[152.897754,-27.564196400000004],[152.900948,-27.565775399999996],[152.901566,-27.567609399999995],[152.895035,-27.5747104],[152.893976,-27.579286399999997],[152.89704200000003,-27.58666440000001],[152.900215,-27.590336400000005],[152.9017101,-27.591026399999997],[152.905081,-27.5960334],[152.9060851,-27.598450400000004],[152.905994,-27.6012464],[152.903018,-27.6023434],[152.898156,-27.6023944],[152.894625,-27.599475399999996],[152.891583,-27.593134399999993],[152.888926,-27.590257400000002]]]]}},{"type":"Feature","properties":{"suburb_name":"Samsonvale","suburb_areasqkm":33.8301,"address_cnt":253.0,"address_density_sqkm":7.0,"tp":"Suburb : Samsonvale<br>Density per sqkm: 7"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.897135,-27.2632445],[152.8963012,-27.26113939999999],[152.8911831,-27.2576995],[152.888662,-27.253742399999997],[152.8850552,-27.255703399999998],[152.8861071,-27.257287399999996],[152.8852859,-27.2606754],[152.881092,-27.26263149999999],[152.8809191,-27.266130399999998],[152.879013,-27.268182400000004],[152.8765221,-27.26853939999999],[152.8770689,-27.2710664],[152.8762949,-27.2736015],[152.8734301,-27.2745375],[152.870617,-27.275779499999995],[152.8668201,-27.2764324],[152.8648171,-27.277642499999995],[152.8608682,-27.275953399999988],[152.8599369,-27.274106499999995],[152.8571811,-27.275087500000005],[152.838662,-27.2872895],[152.838685,-27.2894814],[152.8418751,-27.293413399999995],[152.840241,-27.296523999999994],[152.831175,-27.297651499999994],[152.8286522,-27.2984674],[152.8274468,-27.304806599999996],[152.8232309,-27.304210499999993],[152.8224721,-27.3074735],[152.8146806,-27.30634869999999],[152.8156006,-27.301332000000002],[152.8098604,-27.300512599999994],[152.8087011,-27.300400199999995],[152.812279,-27.29384350000001],[152.8129022,-27.286819400000002],[152.81388210000003,-27.286949499999995],[152.8149539,-27.28047649999999],[152.8220771,-27.2787364],[152.8234841,-27.276835400000003],[152.82593210000002,-27.276261400000003],[152.8286491,-27.277232400000003],[152.8298851,-27.27495739999999],[152.8342632,-27.273382399999992],[152.8352582,-27.2701434],[152.840467,-27.2662734],[152.8422029,-27.264009499999997],[152.840957,-27.2623805],[152.8416561,-27.258224399999996],[152.8467152,-27.2589384],[152.8476541,-27.253767400000008],[152.8513711,-27.254644399999997],[152.8545042,-27.256175399999997],[152.8555622,-27.25790439999999],[152.8578849,-27.253554399999995],[152.8566011,-27.2489444],[152.857247,-27.2459314],[152.8566591,-27.2430674],[152.8543411,-27.239636400000002],[152.8479861,-27.2392534],[152.8455871,-27.2380144],[152.8455811,-27.23447039999999],[152.8417951,-27.23490539999999],[152.843851,-27.223380399999996],[152.848058,-27.223241400000006],[152.8494311,-27.219693400000004],[152.8524151,-27.2170244],[152.854137,-27.2175844],[152.855919,-27.220404500000008],[152.8647111,-27.219858399999996],[152.8681899,-27.2167864],[152.8693282,-27.21787539999999],[152.8691681,-27.220825499999997],[152.867638,-27.221173399999998],[152.868596,-27.226010500000008],[152.8754922,-27.226626399999994],[152.8799281,-27.224462399999997],[152.8827202,-27.2255495],[152.8837463,-27.228679399999997],[152.886677,-27.2289914],[152.8895772,-27.2329154],[152.89102,-27.233599400000003],[152.8919362,-27.236783399999993],[152.8949141,-27.237321399999995],[152.897756,-27.2364444],[152.8997799,-27.238889499999996],[152.89984,-27.240700399999998],[152.901635,-27.242568399999996],[152.8996381,-27.243561499999995],[152.8957691,-27.242701399999994],[152.893801,-27.2450744],[152.8963329,-27.247162400000004],[152.8949271,-27.2499045],[152.896447,-27.252943400000007],[152.9023712,-27.256629499999995],[152.904448,-27.255340500000003],[152.9066001,-27.2566664],[152.9073871,-27.2599544],[152.904889,-27.260820399999997],[152.902936,-27.259867500000002],[152.8988832,-27.261497499999994],[152.897135,-27.2632445]]]]}},{"type":"Feature","properties":{"suburb_name":"South Stradbroke","suburb_areasqkm":21.5795,"address_cnt":585.0,"address_density_sqkm":27.0,"tp":"Suburb : South Stradbroke<br>Density per sqkm: 27"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.4440689,-27.7645607],[153.4424476,-27.770937],[153.441569,-27.777717499999994],[153.4398838,-27.785225000000004],[153.43715889999999,-27.800466],[153.4327539,-27.8269225],[153.4306193,-27.8431239],[153.4289174,-27.854182800000004],[153.4271949,-27.8683735],[153.4257978,-27.885045699999996],[153.4256858,-27.890772700000003],[153.4249729,-27.8991287],[153.424965,-27.9079927],[153.426633,-27.9178375],[153.4287809,-27.9252065],[153.4297749,-27.932566499999997],[153.4280232,-27.934007599999997],[153.42457730000004,-27.933660599999996],[153.4225189,-27.9320224],[153.4201139,-27.925981500000002],[153.4192083,-27.922238599999996],[153.4177509,-27.919845500000005],[153.4196639,-27.9156575],[153.41983220000003,-27.912322700000004],[153.4215149,-27.9043185],[153.4219699,-27.898528500000005],[153.4214241,-27.8947755],[153.4190529,-27.889040500000004],[153.4185119,-27.8841055],[153.41971080000002,-27.8815348],[153.4228758,-27.880221799999994],[153.4237807,-27.875607799999997],[153.4234987,-27.873602800000004],[153.420947,-27.870648499999998],[153.4197347,-27.8667528],[153.4148907,-27.861291900000005],[153.4110428,-27.8575539],[153.4094198,-27.8572439],[153.4089858,-27.852081899999998],[153.4107957,-27.84982389999999],[153.4081628,-27.8473009],[153.4070418,-27.8424399],[153.4064427,-27.835019],[153.4084857,-27.832197999999995],[153.40784000000002,-27.826464499999997],[153.4092118,-27.822701499999997],[153.4165924,-27.818181999999997],[153.4221972,-27.8132499],[153.4250229,-27.809364499999997],[153.4271491,-27.804740000000002],[153.4280139,-27.8007095],[153.430765,-27.796294999999994],[153.4325069,-27.790366999999993],[153.4331899,-27.783614999999998],[153.4379769,-27.777756500000002],[153.4394871,-27.772210500000003],[153.4381157,-27.767664099999998],[153.43606,-27.765483499999995],[153.438296,-27.759128500000003],[153.437884,-27.753703499999993],[153.43842,-27.751107500000003],[153.4415235,-27.751637099999993],[153.4441825,-27.753877099999993],[153.4452545,-27.756306100000003],[153.4440689,-27.7645607]]],[[[153.4169509,-27.879784800000003],[153.4177958,-27.8776808],[153.4157978,-27.872886799999996],[153.4157458,-27.8700468],[153.4179167,-27.8700378],[153.4215988,-27.879290800000003],[153.4187058,-27.880404799999997],[153.4169509,-27.879784800000003]]],[[[153.4403575,-27.740453199999994],[153.445749,-27.734335499999997],[153.4488291,-27.737857499999993],[153.4459114,-27.7421111],[153.443428,-27.742473399999998],[153.4403575,-27.740453199999994]]]]}},{"type":"Feature","properties":{"suburb_name":"Steiglitz (Qld)","suburb_areasqkm":11.4371,"address_cnt":394.0,"address_density_sqkm":34.0,"tp":"Suburb : Steiglitz (Qld)<br>Density per sqkm: 34"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.34466920000003,-27.760761500000005],[153.339776,-27.75426950000001],[153.335649,-27.750337499999993],[153.335804,-27.7475925],[153.324683,-27.746034499999997],[153.3270382,-27.732956599999998],[153.328385,-27.7304055],[153.326561,-27.723210499999997],[153.3347709,-27.724364499999997],[153.337151,-27.722196499999992],[153.339116,-27.7192135],[153.3445,-27.721447500000004],[153.348836,-27.721051499999994],[153.357023,-27.722247499999995],[153.357548,-27.7244565],[153.3603109,-27.730576499999998],[153.36123,-27.7346965],[153.360517,-27.7381075],[153.358356,-27.741982500000002],[153.35405,-27.746945499999995],[153.353234,-27.750770500000005],[153.354334,-27.754729500000003],[153.35706,-27.757416499999998],[153.3617909,-27.763531499999992],[153.353943,-27.764105499999996],[153.350857,-27.760775500000005],[153.3473149,-27.7589445],[153.34466920000003,-27.760761500000005]]]]}},{"type":"Feature","properties":{"suburb_name":"Witta","suburb_areasqkm":35.9082,"address_cnt":664.0,"address_density_sqkm":18.0,"tp":"Suburb : Witta<br>Density per sqkm: 18"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.8570131,-26.723879399999998],[152.8489631,-26.7228004],[152.8476361,-26.730430400000003],[152.8465361,-26.7318224],[152.8382091,-26.730602399999995],[152.8354861,-26.7449959],[152.8189013,-26.742502700000003],[152.8182091,-26.74603739999999],[152.8129832,-26.74531039999999],[152.8036451,-26.744010400000004],[152.8058881,-26.7315174],[152.7995782,-26.7323864],[152.8019061,-26.718530399999995],[152.7946811,-26.717426400000004],[152.7957661,-26.7093704],[152.7991202,-26.70918740000001],[152.8013571,-26.707263400000002],[152.80490220000002,-26.68654340000001],[152.8063984,-26.679686099999998],[152.8143467,-26.6804079],[152.8157592,-26.6727404],[152.8450132,-26.677326399999995],[152.8440312,-26.680305399999998],[152.8474892,-26.679861399999997],[152.851937,-26.686811800000008],[152.8544243,-26.6889178],[152.8552365,-26.691301100000004],[152.8525792,-26.7078544],[152.85777510000003,-26.7085634],[152.8592541,-26.71047039999999],[152.8570131,-26.723879399999998]]]]}},{"type":"Feature","properties":{"suburb_name":"Diddillibah","suburb_areasqkm":11.0453,"address_cnt":1133.0,"address_density_sqkm":103.0,"tp":"Suburb : Diddillibah<br>Density per sqkm: 103"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0293941,-26.658019399999993],[153.0240511,-26.662888399999993],[153.01855410000002,-26.663616400000002],[153.0178801,-26.660389400000003],[153.0211522,-26.65761639999999],[153.0208121,-26.655889400000003],[153.0231321,-26.653393400000002],[153.0206442,-26.651618400000004],[153.0214652,-26.6471787],[153.0161241,-26.647124400000003],[153.0138682,-26.64830239999999],[153.0081431,-26.6479494],[153.0023092,-26.6470504],[153.0007741,-26.6508924],[152.9974461,-26.653339399999993],[152.9918011,-26.6544214],[152.9895381,-26.649726399999988],[152.9882582,-26.6448514],[152.9929382,-26.641685400000007],[152.9934872,-26.639893400000002],[152.9963101,-26.6376304],[153.0003182,-26.636491399999997],[153.0050532,-26.63611040000001],[153.0081551,-26.6377274],[153.0114902,-26.637900400000007],[153.0122561,-26.6366994],[153.0161191,-26.63750539999999],[153.0181871,-26.6397894],[153.0214291,-26.639334400000003],[153.0259191,-26.63776039999999],[153.0287711,-26.638990399999997],[153.0309341,-26.636530399999998],[153.0335761,-26.636776400000002],[153.0341761,-26.6345764],[153.0360711,-26.635443399999993],[153.0383271,-26.634258399999997],[153.0427521,-26.633612399999997],[153.0453351,-26.63393739999999],[153.0484151,-26.6370485],[153.0512931,-26.6372064],[153.0530331,-26.634154399999996],[153.0561921,-26.6345274],[153.0591771,-26.639403399999996],[153.0549861,-26.640745499999998],[153.0541804,-26.643313399999993],[153.0547964,-26.645138400000004],[153.0533375,-26.649193399999998],[153.0531985,-26.652053399999996],[153.0523872,-26.653873500000003],[153.0496621,-26.654325500000002],[153.0475451,-26.6529534],[153.0458961,-26.6511294],[153.0426131,-26.650762400000005],[153.0401132,-26.651728400000003],[153.0370511,-26.65067239999999],[153.0338021,-26.651960399999993],[153.032252,-26.6548875],[153.0293941,-26.658019399999993]]]]}},{"type":"Feature","properties":{"suburb_name":"Seventeen Mile Rocks","suburb_areasqkm":2.0377,"address_cnt":1630.0,"address_density_sqkm":800.0,"tp":"Suburb : Seventeen Mile Rocks<br>Density per sqkm: 800"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.959427,-27.553108399999992],[152.9587551,-27.556209399999997],[152.9544812,-27.556836400000005],[152.952638,-27.558309399999995],[152.9481531,-27.558114399999997],[152.9465129,-27.555376499999998],[152.95283960000003,-27.553880099999997],[152.9539095,-27.552289599999998],[152.95271,-27.549836399999993],[152.9530115,-27.54543039999999],[152.9519743,-27.545118399999996],[152.9546251,-27.540545400000006],[152.9575476,-27.5378397],[152.9602335,-27.537596700000005],[152.9617727,-27.541339599999993],[152.9654191,-27.544617400000003],[152.965481,-27.5458574],[152.964426,-27.54831039999999],[152.9623702,-27.550274999999996],[152.961878,-27.5529124],[152.959427,-27.553108399999992]]]]}},{"type":"Feature","properties":{"suburb_name":"Cedar Creek (Moreton Bay - Qld)","suburb_areasqkm":19.0101,"address_cnt":374.0,"address_density_sqkm":20.0,"tp":"Suburb : Cedar Creek (Moreton Bay - Qld)<br>Density per sqkm: 20"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.8349501,-27.3199824],[152.8347768,-27.320967999999997],[152.8458993,-27.322481699999997],[152.8446051,-27.330751400000004],[152.8481441,-27.333011399999993],[152.844787,-27.33371640000001],[152.8454469,-27.336054399999995],[152.848909,-27.336498399999996],[152.8474031,-27.34557539999999],[152.85444620000004,-27.34648039999999],[152.8542712,-27.347562399999994],[152.8534961,-27.351999400000004],[152.8485893,-27.351352100000003],[152.8480781,-27.353978399999995],[152.8441348,-27.3539935],[152.8392354,-27.354810000000004],[152.8395853,-27.356622499999993],[152.83451010000002,-27.3559705],[152.8349799,-27.352749399999997],[152.8282551,-27.351767399999996],[152.828464,-27.356274500000005],[152.8202931,-27.35356240000001],[152.8214285,-27.346892999999994],[152.8188552,-27.3473854],[152.8082505,-27.345162099999996],[152.8095264,-27.342065399999992],[152.8042276,-27.343898100000004],[152.80057110000004,-27.341226499999994],[152.7986925,-27.338476600000007],[152.7942425,-27.337856100000003],[152.7923437,-27.339212799999995],[152.7945541,-27.327330400000005],[152.7835405,-27.3253908],[152.783978,-27.3229924],[152.782255,-27.322325400000008],[152.77957010000003,-27.3232614],[152.7776812,-27.320867400000008],[152.7751652,-27.319883399999988],[152.7764337,-27.3115374],[152.792982,-27.3139125],[152.7928873,-27.314438099999997],[152.8071174,-27.316477699999997],[152.8065032,-27.320011400000002],[152.8119121,-27.323624200000005],[152.8158684,-27.3225153],[152.8201261,-27.322650399999993],[152.8228897,-27.324237599999993],[152.8236768,-27.3259578],[152.8292642,-27.326950399999998],[152.8305721,-27.319384500000005],[152.8349501,-27.3199824]]]]}},{"type":"Feature","properties":{"suburb_name":"Cedar Grove","suburb_areasqkm":17.8198,"address_cnt":898.0,"address_density_sqkm":50.0,"tp":"Suburb : Cedar Grove<br>Density per sqkm: 50"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9836084,-27.844788499999996],[152.986002,-27.843299399999996],[152.98919300000003,-27.8397865],[152.993453,-27.8424824],[152.99277,-27.847208499999997],[152.996519,-27.846128400000005],[152.999423,-27.847163399999996],[153.004159,-27.849250399999995],[153.003542,-27.85109150000001],[153.00495,-27.852892399999998],[153.00513,-27.8578985],[153.0032179,-27.8593531],[152.999925,-27.8639784],[152.998626,-27.8695504],[152.997144,-27.871664499999998],[152.9921108,-27.875669400000003],[152.9897831,-27.8787144],[152.986081,-27.881706499999996],[152.9840222,-27.880654499999995],[152.9726071,-27.878934499999993],[152.974694,-27.872494500000002],[152.957216,-27.8697784],[152.9571211,-27.870233099999997],[152.943947,-27.868303399999995],[152.944768,-27.8657664],[152.942905,-27.861440399999996],[152.951962,-27.8576424],[152.948339,-27.853597399999998],[152.949638,-27.851018399999997],[152.944886,-27.8495304],[152.944748,-27.844664399999996],[152.946439,-27.843447399999988],[152.952093,-27.8446764],[152.955338,-27.844379399999998],[152.956308,-27.845992400000004],[152.959687,-27.846455399999993],[152.960401,-27.8439164],[152.957808,-27.8426054],[152.956332,-27.840335400000004],[152.958722,-27.8380095],[152.961509,-27.838457499999997],[152.967875,-27.840855400000002],[152.97122,-27.8433375],[152.973217,-27.845691499999997],[152.977388,-27.8479024],[152.982081,-27.851539399999997],[152.984893,-27.851649399999992],[152.985624,-27.849802399999998],[152.98417700000002,-27.8477274],[152.9836084,-27.844788499999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Dayboro","suburb_areasqkm":14.4435,"address_cnt":1257.0,"address_density_sqkm":87.0,"tp":"Suburb : Dayboro<br>Density per sqkm: 87"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.846289,-27.187438399999998],[152.8447081,-27.192347399999996],[152.8416122,-27.210353399999995],[152.8530299,-27.211958399999997],[152.8524151,-27.2170244],[152.8494311,-27.219693400000004],[152.848058,-27.223241400000006],[152.843851,-27.223380399999996],[152.8409171,-27.222795399999992],[152.839562,-27.218349400000008],[152.8380021,-27.2176654],[152.8379001,-27.212822400000004],[152.8351251,-27.2133294],[152.834221,-27.215778399999994],[152.8300731,-27.215780399999993],[152.8266371,-27.219151399999994],[152.82457310000004,-27.2163284],[152.8198691,-27.2136544],[152.8184781,-27.216005400000007],[152.8155321,-27.2154244],[152.8147331,-27.211705399999992],[152.8130881,-27.2102844],[152.80800300000004,-27.2121865],[152.80550820000002,-27.213730399999996],[152.8045131,-27.210797399999993],[152.8057202,-27.2089584],[152.8081911,-27.207973399999997],[152.8066641,-27.202320399999994],[152.8036641,-27.2017554],[152.80237220000004,-27.199851399999996],[152.803436,-27.198312399999992],[152.8042802,-27.1943244],[152.8019161,-27.1929044],[152.7994011,-27.195371399999996],[152.7973101,-27.194558399999995],[152.7985901,-27.1913634],[152.7984443,-27.189240399999992],[152.804008,-27.187774399999995],[152.8057792,-27.188500400000002],[152.8102231,-27.1847774],[152.8170339,-27.182132399999997],[152.8170531,-27.1803284],[152.8191011,-27.17936539999999],[152.8240501,-27.183275400000003],[152.8245141,-27.184475399999993],[152.846289,-27.187438399999998]]]]}},{"type":"Feature","properties":{"suburb_name":"Mount Nathan","suburb_areasqkm":14.5728,"address_cnt":727.0,"address_density_sqkm":50.0,"tp":"Suburb : Mount Nathan<br>Density per sqkm: 50"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.2963299,-28.00281469999999],[153.2918499,-28.0027095],[153.2888509,-28.006864500000002],[153.2836849,-28.00715749999999],[153.2757809,-28.00533649999999],[153.2712669,-28.005486500000004],[153.2698529,-28.007931499999998],[153.26593,-28.0066955],[153.26296,-28.0022435],[153.2625249,-27.999960500000004],[153.2587048,-27.999189500000007],[153.26051,-27.995265500000002],[153.25688800000003,-27.994339499999995],[153.2552229,-27.990145499999997],[153.2568999,-27.9874895],[153.257409,-27.984697499999996],[153.2529149,-27.9830825],[153.2527629,-27.980937499999996],[153.2480609,-27.979691500000012],[153.2451719,-27.977141499999988],[153.246661,-27.975420499999988],[153.2519229,-27.9743935],[153.253641,-27.97320849999999],[153.2520429,-27.971372500000005],[153.2476259,-27.968640500000006],[153.2468299,-27.967443499999998],[153.252219,-27.96094849999999],[153.2551199,-27.960989499999997],[153.2569829,-27.961678499999998],[153.2603929,-27.9607635],[153.2642389,-27.958547499999995],[153.2662279,-27.954665499999997],[153.2684679,-27.952385500000002],[153.2721767,-27.952996900000002],[153.2742068,-27.960172499999988],[153.2742639,-27.96324649999999],[153.2763801,-27.967329399999997],[153.27812680000002,-27.973662499999996],[153.279843,-27.9757735],[153.2812389,-27.9782235],[153.2800859,-27.9841295],[153.2826929,-27.991947499999995],[153.2825159,-27.9939365],[153.286472,-27.9976735],[153.2928899,-27.999183499999997],[153.2994349,-28.0000665],[153.2989919,-28.001962500000005],[153.2963299,-28.00281469999999]]]]}},{"type":"Feature","properties":{"suburb_name":"Mundoolun","suburb_areasqkm":43.1916,"address_cnt":809.0,"address_density_sqkm":19.0,"tp":"Suburb : Mundoolun<br>Density per sqkm: 19"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.106321,-27.911426499999994],[153.101723,-27.914361499999995],[153.100474,-27.918113400000003],[153.094021,-27.9182234],[153.095491,-27.923936499999996],[153.090475,-27.925729500000006],[153.088366,-27.9309095],[153.0858989,-27.931550499999997],[153.084893,-27.933414499999998],[153.08195400000002,-27.9325475],[153.075245,-27.9343115],[153.075162,-27.935672499999992],[153.071532,-27.9365505],[153.0696959,-27.938553399999993],[153.05786200000003,-27.9366425],[153.052009,-27.936382499999993],[153.047418,-27.93554149999999],[153.048635,-27.928633499999997],[153.048562,-27.9238235],[153.039962,-27.922930399999995],[153.037061,-27.917691499999997],[153.03218,-27.917324400000002],[153.030985,-27.915709500000006],[153.031531,-27.9092584],[153.030808,-27.906873400000002],[153.03218,-27.904030399999996],[153.031487,-27.902541499999998],[153.036799,-27.8999924],[153.041717,-27.89640439999999],[153.04604910000003,-27.894785200000005],[153.044028,-27.889085400000003],[153.04684,-27.886757499999998],[153.048193,-27.8832715],[153.050342,-27.880609499999988],[153.058129,-27.878946400000007],[153.060748,-27.8758925],[153.06137900000002,-27.872862400000002],[153.06077,-27.870453499999993],[153.063034,-27.867271500000005],[153.065873,-27.874297799999994],[153.0717529,-27.864796499999994],[153.068498,-27.8636785],[153.067486,-27.860782399999998],[153.071458,-27.857137400000003],[153.07184170000002,-27.852895399999998],[153.0745266,-27.849825599999992],[153.0766276,-27.851671399999994],[153.079833,-27.857193400000003],[153.087908,-27.859501499999993],[153.09614,-27.860802500000002],[153.094103,-27.871166499999994],[153.10074,-27.8721645],[153.103225,-27.875341399999993],[153.101881,-27.877717499999996],[153.103956,-27.8812395],[153.111376,-27.882770500000003],[153.105426,-27.885821499999995],[153.103125,-27.8855344],[153.101136,-27.8882714],[153.103382,-27.890240499999994],[153.098767,-27.892390499999994],[153.097757,-27.895414400000003],[153.098276,-27.901007499999995],[153.103129,-27.903772500000002],[153.101184,-27.906472499999996],[153.102766,-27.908286499999996],[153.105697,-27.909627499999996],[153.106321,-27.911426499999994]]]]}},{"type":"Feature","properties":{"suburb_name":"Ormeau Hills","suburb_areasqkm":8.6003,"address_cnt":1816.0,"address_density_sqkm":211.0,"tp":"Suburb : Ormeau Hills<br>Density per sqkm: 211"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.2100105,-27.800632500000003],[153.210444,-27.7982885],[153.212186,-27.7961115],[153.2124913,-27.791701600000003],[153.2157979,-27.788470500000003],[153.2211929,-27.789433499999998],[153.2227711,-27.7909225],[153.226534,-27.791135499999996],[153.23145700000003,-27.7885045],[153.231609,-27.78867049999999],[153.259694,-27.79320149999999],[153.261162,-27.7984045],[153.25749800000003,-27.798488499999994],[153.257643,-27.802205499999996],[153.2539201,-27.804616399999997],[153.2536951,-27.805991499999998],[153.250904,-27.80938950000001],[153.2471705,-27.805230100000003],[153.2454619,-27.8045955],[153.2423221,-27.80542399999999],[153.2373649,-27.804730399999993],[153.234538,-27.8098535],[153.230569,-27.810908400000002],[153.2276699,-27.8131025],[153.2209949,-27.809042499999997],[153.2156708,-27.803708399999994],[153.212317,-27.8025675],[153.2100105,-27.800632500000003]]]]}},{"type":"Feature","properties":{"suburb_name":"Park Ridge South","suburb_areasqkm":9.4241,"address_cnt":730.0,"address_density_sqkm":77.0,"tp":"Suburb : Park Ridge South<br>Density per sqkm: 77"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.064712,-27.719888499999996],[153.064578,-27.7252739],[153.0633195,-27.732489800000003],[153.0623703,-27.732360499999995],[153.061202,-27.739120500000002],[153.037176,-27.735553699999997],[153.0343537,-27.73218809999999],[153.028812,-27.73149829999999],[153.0273313,-27.737094599999992],[153.021408,-27.736243399999996],[153.0218169,-27.7339781],[153.011158,-27.7324477],[153.010878,-27.733322499999996],[153.004345,-27.73234939999999],[153.006039,-27.723311499999998],[153.0125882,-27.724289900000002],[153.0184538,-27.7233994],[153.0307259,-27.725087700000003],[153.0311969,-27.722148700000005],[153.0335688,-27.715611799999998],[153.064712,-27.719888499999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Yandina Creek","suburb_areasqkm":26.1255,"address_cnt":478.0,"address_density_sqkm":18.0,"tp":"Suburb : Yandina Creek<br>Density per sqkm: 18"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9877242,-26.521845399999997],[152.9883981,-26.518411399999994],[152.9923831,-26.518952400000003],[152.9940372,-26.509076399999998],[153.0001522,-26.50989239999999],[153.0010192,-26.5052594],[153.0043781,-26.506815399999994],[153.0066742,-26.510856400000005],[153.0145135,-26.51191199999999],[153.0177109,-26.509600099999997],[153.0180991,-26.5073704],[153.0136383,-26.504805500000003],[153.0119232,-26.5027364],[153.0125202,-26.4992974],[153.0116781,-26.4981302],[153.0126982,-26.4923814],[153.0157012,-26.4915564],[153.0167602,-26.4896064],[153.0197062,-26.489514399999994],[153.0204872,-26.491482399999995],[153.0234002,-26.492729400000005],[153.0228632,-26.495942400000008],[153.0261022,-26.497490400000004],[153.0312789,-26.498203400000005],[153.0306672,-26.503161399999993],[153.0342512,-26.5036584],[153.0318461,-26.506141399999994],[153.0319662,-26.509350399999995],[153.0339952,-26.510018399999993],[153.0362892,-26.5130364],[153.0382082,-26.513798399999995],[153.0384282,-26.5175074],[153.0410692,-26.5263354],[153.0444482,-26.529389399999996],[153.0442402,-26.531370400000004],[153.0471661,-26.5337544],[153.0479101,-26.5360324],[153.0460562,-26.54026440000001],[153.0489801,-26.5439614],[153.0535732,-26.553578399999996],[153.0552552,-26.55513639999999],[153.0615241,-26.557979499999995],[153.0639401,-26.5614215],[153.0636376,-26.561834299999994],[153.0496386,-26.559896299999995],[153.0517281,-26.56259349999999],[153.0540921,-26.5635845],[153.0535882,-26.565775399999996],[153.0486962,-26.5650988],[153.0482476,-26.567715899999993],[153.0427475,-26.569969600000004],[153.0386164,-26.5698098],[153.0306212,-26.568683799999995],[153.03113620000002,-26.563949400000002],[153.0315111,-26.562494399999995],[153.0296311,-26.558178399999996],[153.0301502,-26.5483754],[153.0146022,-26.546191399999998],[153.0155702,-26.5399934],[153.0091232,-26.539115399999996],[153.0082522,-26.544362399999994],[153.0056411,-26.543044999999996],[153.0079332,-26.529382399999996],[153.00444020000003,-26.52910739999999],[153.0003842,-26.5275184],[152.9994322,-26.52591339999999],[152.9957332,-26.5232854],[152.9951492,-26.526688400000005],[152.9911602,-26.526139400000005],[152.9915621,-26.523781399999994],[152.9877242,-26.521845399999997]]]]}},{"type":"Feature","properties":{"suburb_name":"Austinville","suburb_areasqkm":22.4044,"address_cnt":174.0,"address_density_sqkm":8.0,"tp":"Suburb : Austinville<br>Density per sqkm: 8"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.3179665,-28.115850999999996],[153.3205859,-28.117102499999998],[153.3234418,-28.1195904],[153.3253919,-28.1183564],[153.328617,-28.119219300000005],[153.3302925,-28.120866700000004],[153.3294819,-28.124924500000006],[153.3276228,-28.125801499999998],[153.326239,-28.12999449999999],[153.325083,-28.1310285],[153.3246859,-28.136065500000004],[153.3218849,-28.139502500000003],[153.3210939,-28.1439695],[153.3185819,-28.1434665],[153.3214389,-28.1490115],[153.3213329,-28.1544125],[153.3237795,-28.159049499999995],[153.3226656,-28.165319800000006],[153.32026290000002,-28.167020399999988],[153.3194915,-28.169306300000002],[153.3185942,-28.1774222],[153.3200119,-28.17989530000001],[153.3215999,-28.18567880000001],[153.319664,-28.1876535],[153.31950990000004,-28.1912677],[153.3202149,-28.195040700000003],[153.3195457,-28.197352099999996],[153.3153091,-28.199869699999997],[153.3106449,-28.196365500000002],[153.3046679,-28.194225499999995],[153.3042529,-28.195728500000005],[153.3005169,-28.195239499999996],[153.3007619,-28.191408499999994],[153.2959069,-28.184977500000006],[153.2959479,-28.1807855],[153.2941369,-28.173828499999996],[153.2959499,-28.171818500000004],[153.2974629,-28.168334499999997],[153.2963009,-28.166155499999995],[153.2962879,-28.155721499999988],[153.2974619,-28.153634499999995],[153.2950149,-28.149572500000005],[153.2977699,-28.148603499999993],[153.2985166,-28.1446635],[153.2970959,-28.1429515],[153.2884099,-28.141727499999995],[153.2889099,-28.138312499999998],[153.2923419,-28.137675499999993],[153.2958129,-28.129398499999997],[153.2939199,-28.129119499999995],[153.2897539,-28.128506499999997],[153.2896669,-28.1260185],[153.2921629,-28.125350499999993],[153.2938769,-28.1216825],[153.2958709,-28.1208495],[153.3017309,-28.122455500000008],[153.3049249,-28.1197255],[153.3066189,-28.119643500000002],[153.3088521,-28.1205444],[153.3144255,-28.119444999999995],[153.3156434,-28.116508999999994],[153.3179665,-28.115850999999996]]]]}},{"type":"Feature","properties":{"suburb_name":"West Ipswich","suburb_areasqkm":0.7158,"address_cnt":491.0,"address_density_sqkm":686.0,"tp":"Suburb : West Ipswich<br>Density per sqkm: 686"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.7517444,-27.615228200000004],[152.7532642,-27.616068399999996],[152.7512161,-27.6191944],[152.7537311,-27.6200475],[152.7514161,-27.6251514],[152.750022,-27.6237294],[152.747472,-27.62399840000001],[152.743375,-27.622735400000003],[152.7428571,-27.621723399999997],[152.7447581,-27.6188834],[152.7452111,-27.6167944],[152.7517444,-27.615228200000004]]]]}},{"type":"Feature","properties":{"suburb_name":"Karawatha","suburb_areasqkm":8.0466,"address_cnt":343.0,"address_density_sqkm":43.0,"tp":"Suburb : Karawatha<br>Density per sqkm: 43"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0965032,-27.6396275],[153.0968502,-27.64201650000001],[153.0944503,-27.642860500000005],[153.095462,-27.6451385],[153.085909,-27.648494399999993],[153.084287,-27.649653499999996],[153.077062,-27.652111500000004],[153.072826,-27.650967499999997],[153.06946,-27.652922499999995],[153.068238,-27.652237499999995],[153.067687,-27.651081499999997],[153.0685797,-27.650345599999998],[153.0700546,-27.642216599999994],[153.072804,-27.627065499999997],[153.0766381,-27.627623400000004],[153.078172,-27.6193741],[153.078733,-27.613583600000002],[153.084265,-27.616193399999997],[153.093105,-27.6174605],[153.094709,-27.617349499999996],[153.0937061,-27.620813600000005],[153.0958028,-27.621097199999998],[153.0974839,-27.622893299999998],[153.0963426,-27.627028200000005],[153.0914662,-27.626301600000005],[153.09099420000004,-27.628917099999985],[153.0946132,-27.631762199999994],[153.0961602,-27.630327500000003],[153.0945733,-27.639325499999998],[153.0965032,-27.6396275]]]]}},{"type":"Feature","properties":{"suburb_name":"Coes Creek","suburb_areasqkm":2.3846,"address_cnt":667.0,"address_density_sqkm":280.0,"tp":"Suburb : Coes Creek<br>Density per sqkm: 280"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9542551,-26.6428174],[152.9557261,-26.645448399999996],[152.9546211,-26.650067399999998],[152.9533212,-26.652056399999996],[152.9493561,-26.6546584],[152.9480862,-26.6543144],[152.9456772,-26.6563774],[152.9428661,-26.6574974],[152.9415921,-26.6549234],[152.9386519,-26.6522289],[152.936842,-26.651148299999996],[152.9386058,-26.6473456],[152.9354891,-26.6469036],[152.9339104,-26.644268199999996],[152.9350316,-26.641649099999995],[152.9408021,-26.6424764],[152.9473867,-26.6434104],[152.9494642,-26.6421314],[152.9542551,-26.6428174]]]]}},{"type":"Feature","properties":{"suburb_name":"Landers Shoot","suburb_areasqkm":4.4921,"address_cnt":108.0,"address_density_sqkm":24.0,"tp":"Suburb : Landers Shoot<br>Density per sqkm: 24"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9482893,-26.710975499999996],[152.94597110000004,-26.71390239999999],[152.9429661,-26.715708399999993],[152.9384111,-26.71570139999999],[152.9318571,-26.717091400000005],[152.9298252,-26.716149399999995],[152.9228461,-26.71863839999999],[152.9222231,-26.722522399999992],[152.9167871,-26.7217314],[152.9164241,-26.723725400000003],[152.9101532,-26.723875399999997],[152.9116332,-26.7147594],[152.9115551,-26.712111399999998],[152.9130076,-26.7100917],[152.9164981,-26.7106277],[152.9173572,-26.706076799999998],[152.929597,-26.7079175],[152.9336171,-26.703442399999993],[152.9419532,-26.7046374],[152.94100010000002,-26.708920400000007],[152.9482893,-26.710975499999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Neurum","suburb_areasqkm":35.1615,"address_cnt":149.0,"address_density_sqkm":4.0,"tp":"Suburb : Neurum<br>Density per sqkm: 4"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.7396041,-26.990108400000004],[152.7380991,-26.9917934],[152.73553160000003,-26.9923013],[152.7263596,-26.991042],[152.72526660000003,-26.997595600000004],[152.7161277,-26.996358700000002],[152.7163106,-26.9952812],[152.6996431,-26.993048400000003],[152.6981122,-27.002188399999994],[152.6988201,-27.005640400000004],[152.7000991,-27.006811400000007],[152.6969941,-27.009138399999994],[152.6910611,-27.004529400000003],[152.6889031,-27.001149400000003],[152.6871471,-26.996931399999998],[152.6852481,-26.99583639999999],[152.6832821,-26.992149399999995],[152.6850402,-26.989970400000015],[152.6857402,-26.98656939999999],[152.6882111,-26.9873594],[152.6892722,-26.9845364],[152.6864911,-26.9847464],[152.6869741,-26.9813384],[152.6851991,-26.9799514],[152.6810562,-26.9798094],[152.6797511,-26.9772564],[152.68144510000002,-26.9749054],[152.6803391,-26.971940400000005],[152.6837372,-26.969054400000005],[152.6849821,-26.965475400000003],[152.6806951,-26.9641514],[152.6776461,-26.965753399999997],[152.6741421,-26.966236400000003],[152.6714522,-26.965249399999998],[152.6659431,-26.968964399999997],[152.6645202,-26.968804399999993],[152.6636811,-26.964741399999998],[152.6662911,-26.9636874],[152.6677302,-26.959061399999996],[152.6657401,-26.9577244],[152.6628892,-26.9585434],[152.6577021,-26.95635639999999],[152.6575561,-26.953905399999996],[152.6545981,-26.9539784],[152.6512701,-26.9553204],[152.6520621,-26.9521764],[152.6532721,-26.949039400000007],[152.6558111,-26.9477564],[152.6588501,-26.94983439999999],[152.6602371,-26.947874399999993],[152.6630791,-26.948160399999992],[152.6653711,-26.942820399999995],[152.6676271,-26.9436014],[152.6733362,-26.9426874],[152.6737171,-26.946031399999995],[152.6762551,-26.9444504],[152.6785612,-26.94421339999999],[152.6792562,-26.9417084],[152.6813282,-26.9392214],[152.6843621,-26.938719399999997],[152.6869061,-26.9398994],[152.6877741,-26.94267539999999],[152.6901061,-26.9432554],[152.6910972,-26.945474399999995],[152.6945362,-26.944767399999993],[152.6978082,-26.946802399999996],[152.7003031,-26.9464444],[152.7018751,-26.948106399999993],[152.7046661,-26.9479554],[152.7089831,-26.952243399999997],[152.7110701,-26.953519400000005],[152.7133951,-26.953088399999995],[152.7164381,-26.954402399999992],[152.7199042,-26.950968399999997],[152.72137020000002,-26.9467814],[152.7233021,-26.9441854],[152.7236301,-26.941079400000003],[152.7306831,-26.942836399999997],[152.7331151,-26.941547400000005],[152.7355911,-26.941437400000005],[152.7372011,-26.946594399999995],[152.7393441,-26.9464864],[152.7369661,-26.959676399999996],[152.7355751,-26.959429399999998],[152.7339121,-26.969256399999992],[152.7381421,-26.969904399999997],[152.73562810000004,-26.9840334],[152.7326261,-26.983625400000005],[152.7322661,-26.985816399999994],[152.7409571,-26.986991400000004],[152.7396041,-26.990108400000004]]]]}},{"type":"Feature","properties":{"suburb_name":"Wilston","suburb_areasqkm":1.4443,"address_cnt":2433.0,"address_density_sqkm":1685.0,"tp":"Suburb : Wilston<br>Density per sqkm: 1,685"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0234572,-27.4273865],[153.0242819,-27.4284894],[153.02183,-27.4423494],[153.017971,-27.440798499999996],[153.015058,-27.4417894],[153.013242,-27.442452399999997],[153.01129100000003,-27.440645399999998],[153.0135562,-27.440671400000003],[153.0144571,-27.43552239999999],[153.0131121,-27.4340264],[153.013715,-27.4298284],[153.015648,-27.430114400000004],[153.0179861,-27.426404699999996],[153.0234572,-27.4273865]]]]}},{"type":"Feature","properties":{"suburb_name":"Wishart (Qld)","suburb_areasqkm":4.5454,"address_cnt":4645.0,"address_density_sqkm":1022.0,"tp":"Suburb : Wishart (Qld)<br>Density per sqkm: 1,022"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.1174148,-27.545101],[153.1167871,-27.548855400000008],[153.1137419,-27.552839499999994],[153.1089458,-27.56146129999999],[153.1047366,-27.560852599999997],[153.1042906,-27.5641416],[153.1021616,-27.56721359999999],[153.0993587,-27.566659599999998],[153.0979817,-27.5635366],[153.0948837,-27.563394699999993],[153.0924098,-27.56470769999999],[153.09105,-27.567494399999998],[153.089282,-27.56812939999999],[153.0882622,-27.565655499999995],[153.0917401,-27.547171400000003],[153.0938066,-27.543766599999998],[153.0954669,-27.5440224],[153.0958538,-27.5477872],[153.09905,-27.548267799999998],[153.1005301,-27.5447916],[153.1111402,-27.546630500000006],[153.1174148,-27.545101]]]]}},{"type":"Feature","properties":{"suburb_name":"Woombye","suburb_areasqkm":13.5073,"address_cnt":2164.0,"address_density_sqkm":160.0,"tp":"Suburb : Woombye<br>Density per sqkm: 160"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9480862,-26.6543144],[152.9493561,-26.6546584],[152.9533212,-26.652056399999996],[152.9546211,-26.650067399999998],[152.9557261,-26.645448399999996],[152.9553922,-26.6419674],[152.9624742,-26.642937399999997],[152.9655332,-26.640877399999997],[152.9696391,-26.6414364],[152.97116420000003,-26.6441384],[152.9730412,-26.6433114],[152.9787411,-26.6423044],[152.9787852,-26.644087400000004],[152.9809361,-26.646154400000004],[152.9834122,-26.6469994],[152.9882582,-26.6448514],[152.9895381,-26.649726399999988],[152.9918011,-26.6544214],[152.9936551,-26.657269399999997],[152.9960612,-26.662913400000008],[152.9975311,-26.669662400000004],[152.9988122,-26.673815399999995],[153.0019311,-26.6792744],[152.998832,-26.679522600000002],[152.9969499,-26.676656599999998],[152.9937502,-26.676935500000003],[152.9929711,-26.679467300000002],[152.9874251,-26.6802584],[152.9809181,-26.6793844],[152.9769241,-26.676786399999997],[152.9721871,-26.675531400000004],[152.9682532,-26.676553399999996],[152.9644802,-26.676014300000006],[152.9633961,-26.671397199999998],[152.9624311,-26.668728399999996],[152.9638482,-26.6640604],[152.9625522,-26.661190400000002],[152.9596601,-26.659788399999996],[152.9616462,-26.658027400000005],[152.9585671,-26.6562494],[152.956827,-26.658166499999993],[152.9526321,-26.657634399999996],[152.9480862,-26.6543144]]]]}},{"type":"Feature","properties":{"suburb_name":"Woorim","suburb_areasqkm":27.4495,"address_cnt":1803.0,"address_density_sqkm":66.0,"tp":"Suburb : Woorim<br>Density per sqkm: 66"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.178405,-27.099587500000002],[153.1714964,-27.084625299999995],[153.1720811,-27.083471500000005],[153.1796351,-27.081070699999998],[153.1812222,-27.079800500000005],[153.1809591,-27.0765274],[153.1763501,-27.078074500000007],[153.1765851,-27.079058500000006],[153.1722491,-27.080419500000012],[153.1712271,-27.078593499999993],[153.17556300000004,-27.077010399999995],[153.1674571,-27.059508400000002],[153.1617351,-27.06121239999999],[153.16212410000003,-27.058857499999995],[153.1603641,-27.055006500000008],[153.1555871,-27.056618500000003],[153.1565542,-27.0528484],[153.1558839,-27.050957399999998],[153.1536985,-27.049233000000005],[153.1522212,-27.046739499999997],[153.14921410000002,-27.04715549999999],[153.1498741,-27.0432887],[153.14748940000004,-27.042954799999997],[153.1492461,-27.032882499999996],[153.1544791,-27.030356500000003],[153.1702291,-27.02336040000001],[153.1641381,-27.009507499999994],[153.1679941,-27.012638499999998],[153.1727381,-27.0122175],[153.1766878,-27.020821499999993],[153.1801587,-27.027601399999998],[153.1916557,-27.046613299999994],[153.1996576,-27.057429199999994],[153.2022471,-27.062217499999992],[153.2049461,-27.0684215],[153.2068737,-27.075252200000005],[153.2075637,-27.0816702],[153.2064618,-27.084895100000004],[153.2021778,-27.087301099999998],[153.2007681,-27.0891525],[153.1993801,-27.0938795],[153.197754,-27.096272100000007],[153.194937,-27.097274199999998],[153.1842601,-27.0980535],[153.178405,-27.099587500000002]]]]}},{"type":"Feature","properties":{"suburb_name":"Yeronga","suburb_areasqkm":3.0296,"address_cnt":4582.0,"address_density_sqkm":1512.0,"tp":"Suburb : Yeronga<br>Density per sqkm: 1,512"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.01019,-27.5224854],[153.0116794,-27.51925819999999],[153.0110154,-27.51710419999999],[153.00830040000002,-27.515823199999993],[153.003653,-27.5155354],[152.999664,-27.513949500000003],[153.001675,-27.508997400000005],[153.004025,-27.506484399999998],[153.00579,-27.505914399999998],[153.017935,-27.5050855],[153.0166689,-27.51170359999999],[153.0244593,-27.512886699999996],[153.023883,-27.518003399999998],[153.0285278,-27.518659999999997],[153.0256161,-27.5221334],[153.0152119,-27.5205497],[153.01462000000004,-27.523051399999996],[153.01019,-27.5224854]]]]}},{"type":"Feature","properties":{"suburb_name":"Zillmere","suburb_areasqkm":3.6568,"address_cnt":5530.0,"address_density_sqkm":1512.0,"tp":"Suburb : Zillmere<br>Density per sqkm: 1,512"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.05264,-27.3521654],[153.051093,-27.360418400000004],[153.0502521,-27.361253400000003],[153.04721610000004,-27.360846400000003],[153.0465441,-27.3644664],[153.04329720000004,-27.3639904],[153.0434361,-27.367802099999995],[153.0346757,-27.366486399999992],[153.0264434,-27.365245499999997],[153.0278639,-27.3578605],[153.0264805,-27.357653999999997],[153.0272681,-27.353466399999995],[153.0321308,-27.352589699999996],[153.0333697,-27.353257000000003],[153.0353481,-27.349565400000003],[153.05264,-27.3521654]]]]}},{"type":"Feature","properties":{"suburb_name":"Alderley","suburb_areasqkm":2.5703,"address_cnt":4190.0,"address_density_sqkm":1630.0,"tp":"Suburb : Alderley<br>Density per sqkm: 1,630"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0006461,-27.435559399999992],[152.998313,-27.437605400000002],[152.9940994,-27.436478600000004],[152.9949006,-27.43145670000001],[152.9917884,-27.431921599999995],[152.9929553,-27.425773599999996],[152.9964012,-27.42148969999999],[152.9995172,-27.422086600000007],[152.999798,-27.4166434],[152.9988611,-27.413362499999998],[153.002898,-27.416178399999993],[153.004876,-27.414214500000007],[153.0088571,-27.413072399999997],[153.007821,-27.4183895],[153.0086531,-27.420010399999995],[153.0073631,-27.424234500000004],[153.0083661,-27.424960500000005],[153.007564,-27.429141499999993],[153.0051686,-27.430739099999997],[153.001604,-27.430202399999995],[153.0006461,-27.435559399999992]]]]}},{"type":"Feature","properties":{"suburb_name":"Annerley","suburb_areasqkm":2.8756,"address_cnt":7953.0,"address_density_sqkm":2766.0,"tp":"Suburb : Annerley<br>Density per sqkm: 2,766"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0324049,-27.525017499999997],[153.0303461,-27.523250399999995],[153.0248781,-27.522946499999996],[153.0256161,-27.5221334],[153.0285278,-27.518659999999997],[153.023883,-27.518003399999998],[153.0244593,-27.512886699999996],[153.027635,-27.5101534],[153.0288751,-27.505736399999996],[153.028319,-27.502164499999996],[153.028819,-27.500105599999998],[153.0395628,-27.501732499999992],[153.0386909,-27.50898949999999],[153.0403052,-27.51222539999999],[153.0436584,-27.5148175],[153.0389282,-27.513699199999998],[153.037999,-27.5174055],[153.0346801,-27.519476500000003],[153.0351892,-27.523415499999995],[153.0324049,-27.525017499999997]]]]}},{"type":"Feature","properties":{"suburb_name":"Arundel","suburb_areasqkm":10.3831,"address_cnt":6573.0,"address_density_sqkm":633.0,"tp":"Suburb : Arundel<br>Density per sqkm: 633"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.3837429,-27.953896500000003],[153.3783159,-27.9492785],[153.3724657,-27.947042999999997],[153.364768,-27.945047499999994],[153.3531579,-27.94565750000001],[153.3463189,-27.9490135],[153.3460989,-27.949849500000003],[153.3521665,-27.960111799999996],[153.3551249,-27.9617645],[153.34524390000004,-27.9606375],[153.3441049,-27.955017499999997],[153.3427409,-27.951613499999993],[153.3377479,-27.9414875],[153.3420169,-27.9400145],[153.3446119,-27.9381625],[153.348667,-27.936612499999995],[153.3493759,-27.93531249999999],[153.346693,-27.933254500000004],[153.3460849,-27.929294499999997],[153.3441539,-27.927389499999997],[153.345802,-27.92585349999999],[153.3448339,-27.924088500000007],[153.342117,-27.924038499999998],[153.3419469,-27.921405499999995],[153.3435549,-27.919095499999997],[153.3491,-27.922279500000002],[153.3533269,-27.922735499999998],[153.3569289,-27.924154499999997],[153.360171,-27.926535499999993],[153.3744481,-27.931476500000002],[153.3799611,-27.932216500000003],[153.39044,-27.9344715],[153.3896489,-27.936723500000006],[153.3874629,-27.9385445],[153.3852269,-27.950099500000007],[153.3837429,-27.953896500000003]]]]}},{"type":"Feature","properties":{"suburb_name":"Aspley","suburb_areasqkm":6.4114,"address_cnt":7192.0,"address_density_sqkm":1122.0,"tp":"Suburb : Aspley<br>Density per sqkm: 1,122"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0272681,-27.353466399999995],[153.0264805,-27.357653999999997],[153.0278639,-27.3578605],[153.0264434,-27.365245499999997],[153.0346757,-27.366486399999992],[153.0339604,-27.370206200000002],[153.0361138,-27.370530799999997],[153.0353763,-27.374189399999995],[153.0326404,-27.378126399999996],[153.0293571,-27.378958399999995],[153.0249191,-27.3744694],[153.023465,-27.375926399999997],[153.0169356,-27.374978499999997],[153.0140857,-27.376347599999995],[153.0048677,-27.374535799999997],[153.00241400000002,-27.37759939999999],[153.00107500000001,-27.377576400000002],[153.0024107,-27.370637799999997],[153.0016931,-27.370535499999992],[153.0021971,-27.362461399999997],[153.0010252,-27.359031500000004],[153.0041507,-27.3599857],[153.00472710000003,-27.356760399999995],[153.006832,-27.357093399999997],[153.0076371,-27.359410399999998],[153.0108511,-27.3601424],[153.01325,-27.358761399999995],[153.0164161,-27.35447239999999],[153.0183721,-27.3529504],[153.0247581,-27.3528204],[153.0272681,-27.353466399999995]]]]}},{"type":"Feature","properties":{"suburb_name":"Beerburrum","suburb_areasqkm":80.7742,"address_cnt":471.0,"address_density_sqkm":6.0,"tp":"Suburb : Beerburrum<br>Density per sqkm: 6"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.8725021,-26.9305014],[152.8746977,-26.928518300000004],[152.8774437,-26.929468299999996],[152.8788556,-26.927257299999997],[152.8822265,-26.926192300000004],[152.8875135,-26.926956199999996],[152.8913915,-26.9297252],[152.8933675,-26.9293312],[152.8963324,-26.93148409999999],[152.9003703,-26.927898100000004],[152.9052932,-26.926977099999995],[152.9088992,-26.925014],[152.9108321,-26.926652999999998],[152.919491,-26.927906900000004],[152.9222509,-26.922982899999997],[152.9320633,-26.924286800000004],[152.9367463,-26.926845600000004],[152.936733,-26.929828799999996],[152.9353083,-26.932831099999998],[152.9368121,-26.9361374],[152.9397635,-26.935306100000002],[152.9545302,-26.938772399999994],[152.9596861,-26.937123400000004],[152.9625214,-26.9381149],[152.9642412,-26.936723699999995],[152.9672731,-26.9375951],[152.9693769,-26.936223999999996],[152.9727138,-26.9367566],[152.9745799,-26.934560200000004],[152.9763948,-26.934281799999997],[152.9821415,-26.937182499999995],[152.9849505,-26.934794800000002],[152.9871046,-26.93501],[152.9905589,-26.931497299999997],[152.9938061,-26.9309087],[152.9962416,-26.935826499999997],[153.000676,-26.9384532],[153.0043646,-26.936558800000004],[153.0051835,-26.934513200000005],[153.0125307,-26.93048359999999],[153.0146482,-26.930607199999997],[153.0160033,-26.928015099999996],[153.0199471,-26.925034600000004],[153.0236681,-26.926097800000008],[153.0279041,-26.926510499999996],[153.0312793,-26.926118200000005],[153.0341143,-26.9269827],[153.0324976,-26.929740899999995],[153.0377126,-26.93139349999999],[153.0406131,-26.927235999999994],[153.0438552,-26.929640500000012],[153.0457452,-26.9265864],[153.0496411,-26.924544400000002],[153.0488642,-26.923187499999994],[153.0511812,-26.921310399999992],[153.0537782,-26.920472399999998],[153.0588583,-26.9233704],[153.0602748,-26.924130999999996],[153.0619062,-26.92857459999999],[153.0597999,-26.932930699999996],[153.0585731,-26.933631399999996],[153.054207,-26.93258249999999],[153.0519113,-26.933410500000004],[153.047795,-26.938886400000005],[153.045756,-26.940230399999994],[153.0431412,-26.946213099999998],[153.0444042,-26.94883010000001],[153.0466332,-26.949471100000004],[153.0490802,-26.952877999999995],[153.0524172,-26.955747000000002],[153.0535412,-26.958708999999992],[153.0580631,-26.962336],[153.0628351,-26.962878900000003],[153.065595,-26.964134900000005],[153.066809,-26.9670469],[153.065865,-26.974958800000007],[153.0632152,-26.977974399999997],[153.0576122,-26.975245499999993],[153.0494352,-26.9722584],[153.0466902,-26.970458400000005],[153.0427681,-26.9694464],[153.01846010000003,-26.966342399999995],[153.0175301,-26.972454400000004],[153.0180821,-26.976444400000002],[153.0168591,-26.979054399999992],[153.0115961,-26.978980399999998],[153.0029701,-26.984774400000003],[152.9942651,-26.984092400000005],[152.9916671,-26.9845204],[152.9884251,-26.9831154],[152.9851381,-26.984714400000005],[152.9803521,-26.982199399999992],[152.9755941,-26.9846674],[152.9740941,-26.9823464],[152.9781391,-26.980246399999995],[152.9750171,-26.9743674],[152.9666391,-26.9787924],[152.9613411,-26.972549400000002],[152.9533661,-26.968437399999996],[152.9516071,-26.966017400000002],[152.9458961,-26.9665594],[152.9440161,-26.9653074],[152.9373801,-26.964357399999997],[152.9350421,-26.9631114],[152.9325851,-26.963312400000003],[152.9235161,-26.9600774],[152.9215111,-26.960632399999998],[152.919733,-26.95550009999999],[152.9132899,-26.953963299999995],[152.9104212,-26.954423700000007],[152.9037188,-26.953882500000002],[152.8984314,-26.958019200000003],[152.8931289,-26.9594835],[152.8911612,-26.960737399999996],[152.887792,-26.957256400000006],[152.8855148,-26.955939600000004],[152.874011,-26.958328400000003],[152.8580176,-26.956204299999996],[152.8612052,-26.936290300000003],[152.8635841,-26.934833399999995],[152.8678131,-26.935838399999998],[152.8682491,-26.933598399999994],[152.8725021,-26.9305014]]],[[[153.0727772,-26.929735399999995],[153.0749286,-26.928046900000002],[153.0756266,-26.931096900000007],[153.0742167,-26.934727900000002],[153.07232,-26.935103500000004],[153.0727772,-26.929735399999995]]],[[[153.0775461,-26.952535400000006],[153.0798941,-26.951924399999996],[153.0783261,-26.9567224],[153.0750452,-26.9589384],[153.0724592,-26.956190500000005],[153.0726702,-26.9545185],[153.0757431,-26.953917500000003],[153.0775461,-26.952535400000006]]],[[[153.0694361,-26.9773309],[153.066506,-26.977365399999993],[153.0674819,-26.974307899999996],[153.0696921,-26.973798899999995],[153.0694361,-26.9773309]]]]}},{"type":"Feature","properties":{"suburb_name":"Berrinba","suburb_areasqkm":5.0701,"address_cnt":1420.0,"address_density_sqkm":280.0,"tp":"Suburb : Berrinba<br>Density per sqkm: 280"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.080596,-27.677902500000002],[153.0753732,-27.672845999999996],[153.0726338,-27.669864499999996],[153.0679081,-27.66765349999999],[153.0667598,-27.666219599999994],[153.06808680000003,-27.664305600000006],[153.071268,-27.6645874],[153.073456,-27.663713500000004],[153.0730257,-27.6601356],[153.07393700000003,-27.6550075],[153.0680007,-27.653837600000003],[153.068238,-27.652237499999995],[153.06946,-27.652922499999995],[153.072826,-27.650967499999997],[153.077062,-27.652111500000004],[153.084287,-27.649653499999996],[153.085909,-27.648494399999993],[153.095462,-27.6451385],[153.099952,-27.64336249999999],[153.098677,-27.651613499999996],[153.0983461,-27.65341739999999],[153.0923564,-27.655788499999996],[153.0865365,-27.657582499999997],[153.091731,-27.659633099999997],[153.0917314,-27.660392499999993],[153.0896609,-27.660411399999997],[153.089473,-27.6639764],[153.086403,-27.667133499999995],[153.082509,-27.6674895],[153.080596,-27.677902500000002]]]]}},{"type":"Feature","properties":{"suburb_name":"Bilinga","suburb_areasqkm":2.7185,"address_cnt":2258.0,"address_density_sqkm":831.0,"tp":"Suburb : Bilinga<br>Density per sqkm: 831"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.5230465,-28.165980399999988],[153.5204301,-28.169401499999996],[153.5204494,-28.170925499999992],[153.520088,-28.170780699999995],[153.5015244,-28.16331359999999],[153.49552480000003,-28.1609043],[153.4940319,-28.15587199999999],[153.4965979,-28.153004499999998],[153.5007058,-28.150560500000005],[153.5033696,-28.150605599999995],[153.5104136,-28.1576365],[153.5146155,-28.161206500000002],[153.5230465,-28.165980399999988]]]]}},{"type":"Feature","properties":{"suburb_name":"Booval","suburb_areasqkm":1.6999,"address_cnt":2046.0,"address_density_sqkm":1204.0,"tp":"Suburb : Booval<br>Density per sqkm: 1,204"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.8010686,-27.619234799999997],[152.7829142,-27.61680939999999],[152.782934,-27.613523499999996],[152.7837024,-27.609842300000004],[152.79783440000003,-27.6086815],[152.8002051,-27.60957140000001],[152.801148,-27.612142399999993],[152.8010686,-27.619234799999997]]]]}},{"type":"Feature","properties":{"suburb_name":"Broadbeach Waters","suburb_areasqkm":5.3144,"address_cnt":5000.0,"address_density_sqkm":941.0,"tp":"Suburb : Broadbeach Waters<br>Density per sqkm: 941"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.42610190000002,-28.017732499999997],[153.4271059,-28.022968399999996],[153.4286129,-28.025609499999998],[153.4270309,-28.027254499999994],[153.4276739,-28.028963500000007],[153.4272569,-28.0329555],[153.4303329,-28.035136500000007],[153.4306318,-28.0385445],[153.424811,-28.037694499999994],[153.4248109,-28.03509949999999],[153.416028,-28.0365425],[153.4088065,-28.0351771],[153.4031519,-28.032152499999995],[153.395787,-28.030975499999997],[153.3901171,-28.030054600000003],[153.3909229,-28.027505499999997],[153.3928546,-28.02827359999999],[153.3958835,-28.0277676],[153.3971335,-28.024821600000003],[153.3991474,-28.0244966],[153.4003654,-28.027213600000003],[153.4033824,-28.029157499999993],[153.4063299,-28.028182499999996],[153.4065839,-28.026780499999994],[153.4041719,-28.022911499999992],[153.4077452,-28.0190075],[153.4087042,-28.01716149999999],[153.4110739,-28.0163265],[153.41297490000002,-28.01598149999999],[153.4231599,-28.016414499999993],[153.42610190000002,-28.017732499999997]]]]}},{"type":"Feature","properties":{"suburb_name":"Buccan","suburb_areasqkm":18.2091,"address_cnt":1027.0,"address_density_sqkm":56.0,"tp":"Suburb : Buccan<br>Density per sqkm: 56"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.157119,-27.720351499999992],[153.152998,-27.74096949999999],[153.157491,-27.741639399999997],[153.155911,-27.749449399999996],[153.154147,-27.753765499999997],[153.164141,-27.755321499999997],[153.162754,-27.762938499999994],[153.160764,-27.764382400000006],[153.1598551,-27.768909300000008],[153.158561,-27.769334499999996],[153.155363,-27.768448400000008],[153.147354,-27.767191499999996],[153.146948,-27.764797499999993],[153.138964,-27.763549499999993],[153.140565,-27.7551505],[153.137888,-27.754755500000005],[153.138334,-27.7526165],[153.130954,-27.751470499999996],[153.1257461,-27.74991640000001],[153.124535,-27.755122499999995],[153.109459,-27.7527675],[153.10651300000004,-27.7535515],[153.111982,-27.750323499999993],[153.115253,-27.747091500000003],[153.12038900000002,-27.743310499999993],[153.120953,-27.740871500000004],[153.119404,-27.7375435],[153.109042,-27.731974499999996],[153.109296,-27.730509499999997],[153.113492,-27.7287885],[153.123399,-27.721528500000005],[153.123585,-27.719181400000007],[153.1224043,-27.715043199999993],[153.157119,-27.720351499999992]]]]}},{"type":"Feature","properties":{"suburb_name":"Buderim","suburb_areasqkm":30.5793,"address_cnt":17850.0,"address_density_sqkm":584.0,"tp":"Suburb : Buderim<br>Density per sqkm: 584"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0852281,-26.713257399999996],[153.0646411,-26.7109764],[153.0597411,-26.711280400000003],[153.0526583,-26.7133464],[153.0496854,-26.714964099999996],[153.0494191,-26.713590399999998],[153.0511851,-26.704981199999995],[153.0383671,-26.7030744],[153.0372671,-26.700801399999992],[153.0344623,-26.700462000000005],[153.0351431,-26.696345400000006],[153.0310951,-26.69599640000001],[153.0334756,-26.68753939999999],[153.0372321,-26.6871754],[153.0352362,-26.6835524],[153.0365354,-26.68138729999999],[153.0241952,-26.67967649999999],[153.0224608,-26.676156900000006],[153.0210952,-26.674911500000007],[153.0195272,-26.670149399999996],[153.0243551,-26.6674132],[153.0257647,-26.670624100000005],[153.0326931,-26.672114499999992],[153.0345421,-26.664019399999997],[153.0390966,-26.6646363],[153.0441447,-26.6659661],[153.0477011,-26.661850400000002],[153.0568701,-26.662903400000005],[153.0602961,-26.662889500000002],[153.0636251,-26.661962399999997],[153.0653981,-26.6602614],[153.0671132,-26.663247399999992],[153.0699391,-26.665448400000002],[153.0727211,-26.666342399999998],[153.0882901,-26.668567400000004],[153.0916301,-26.669817399999996],[153.0949731,-26.6726444],[153.0969151,-26.675089399999994],[153.1042991,-26.684664499999997],[153.0923445,-26.692286600000003],[153.0881171,-26.695601500000006],[153.0896611,-26.6975524],[153.0874951,-26.7002124],[153.0852281,-26.713257399999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Burpengary East","suburb_areasqkm":30.0013,"address_cnt":7092.0,"address_density_sqkm":236.0,"tp":"Suburb : Burpengary East<br>Density per sqkm: 236"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9817079,-27.171830299999996],[152.9779138,-27.1586484],[152.9775219,-27.154040399999996],[152.9782067,-27.145590399999996],[152.9779781,-27.137962399999996],[152.9772841,-27.1270069],[152.9768675,-27.120465499999998],[152.9829551,-27.121320399999995],[152.9847111,-27.114617399999993],[152.9876681,-27.11296639999999],[152.9908901,-27.1134234],[152.9917891,-27.114746399999998],[152.9981191,-27.116148399999997],[153.0029771,-27.113673399999996],[153.0040021,-27.1147854],[153.0082341,-27.1155564],[153.0092581,-27.1120114],[153.0128121,-27.1127824],[153.0126131,-27.1099354],[153.0138031,-27.108481500000003],[153.0176741,-27.1092524],[153.0208781,-27.122423400000002],[153.0228811,-27.125030399999996],[153.0247981,-27.1259204],[153.0329981,-27.127639399999993],[153.0346521,-27.1286475],[153.0356451,-27.1314945],[153.0361091,-27.137189399999993],[153.0340611,-27.142588399999998],[153.0332021,-27.1464445],[153.0337321,-27.149410400000004],[153.0358491,-27.151545399999996],[153.0430171,-27.151356399999997],[153.0414981,-27.1537744],[153.0386501,-27.1543124],[153.0381081,-27.1571144],[153.0361611,-27.15753339999999],[153.0343011,-27.155227400000005],[153.0324281,-27.154663399999997],[153.0268772,-27.1614015],[153.0190462,-27.163731199999997],[153.0165279,-27.1621085],[153.0052321,-27.160598499999992],[153.0045481,-27.16422439999999],[153.002174,-27.164782500000005],[152.9992681,-27.166767400000005],[152.9985004,-27.171427299999998],[152.9948304,-27.170889099999993],[152.9944596,-27.1733112],[152.9842551,-27.1718924],[152.9817079,-27.171830299999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Caboolture South","suburb_areasqkm":4.4098,"address_cnt":4742.0,"address_density_sqkm":1075.0,"tp":"Suburb : Caboolture South<br>Density per sqkm: 1,075"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9326692,-27.099267400000002],[152.9297649,-27.098354600000004],[152.9308778,-27.092156500000005],[152.9324533,-27.090957799999998],[152.9325821,-27.088554099999993],[152.93586760000002,-27.086782499999995],[152.9417028,-27.08731759999999],[152.9462446,-27.090901299999995],[152.9479338,-27.0912149],[152.9523079,-27.089280299999995],[152.9553696,-27.086497799999997],[152.9595117,-27.086894799999996],[152.9609192,-27.088348999999997],[152.9677719,-27.091097500000004],[152.9684835,-27.094789399999996],[152.9677252,-27.099086399999997],[152.9634941,-27.0992594],[152.9489861,-27.0973614],[152.94841110000002,-27.101576400000006],[152.9397244,-27.1000595],[152.9380826,-27.100463899999998],[152.9326692,-27.099267400000002]]]]}},{"type":"Feature","properties":{"suburb_name":"Carseldine","suburb_areasqkm":4.8236,"address_cnt":5009.0,"address_density_sqkm":1038.0,"tp":"Suburb : Carseldine<br>Density per sqkm: 1,038"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.00472710000003,-27.356760399999995],[153.0034732,-27.356727500000005],[153.0062986,-27.345036999999998],[153.0077253,-27.3452345],[153.0084951,-27.3410825],[153.0083821,-27.337012499999997],[153.009349,-27.33610649999999],[153.010278,-27.336253500000005],[153.0117671,-27.331501500000005],[153.018462,-27.3322474],[153.0197113,-27.334354599999994],[153.0280893,-27.3454426],[153.0299523,-27.350625500000003],[153.0321308,-27.352589699999996],[153.0272681,-27.353466399999995],[153.0247581,-27.3528204],[153.0183721,-27.3529504],[153.0164161,-27.35447239999999],[153.01325,-27.358761399999995],[153.0108511,-27.3601424],[153.0076371,-27.359410399999998],[153.006832,-27.357093399999997],[153.00472710000003,-27.356760399999995]]]]}},{"type":"Feature","properties":{"suburb_name":"Chambers Flat","suburb_areasqkm":21.2161,"address_cnt":1998.0,"address_density_sqkm":94.0,"tp":"Suburb : Chambers Flat<br>Density per sqkm: 94"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.089286,-27.7675125],[153.085686,-27.770082499999994],[153.083524,-27.7699205],[153.075657,-27.766710499999995],[153.073137,-27.763792499999997],[153.069559,-27.762873500000005],[153.064431,-27.758631499999996],[153.063817,-27.754560500000004],[153.067554,-27.752175499999996],[153.068706,-27.7499535],[153.064607,-27.7506905],[153.05785,-27.7529334],[153.056151,-27.7562904],[153.0553071,-27.760953600000004],[153.052047,-27.767525499999998],[153.040935,-27.7659725],[153.0421506,-27.7594146],[153.045393,-27.759848500000004],[153.0489008,-27.7566884],[153.051247,-27.743564500000005],[153.0602111,-27.7448538],[153.061202,-27.739120500000002],[153.0623703,-27.732360499999995],[153.0633195,-27.732489800000003],[153.064578,-27.7252739],[153.064712,-27.719888499999996],[153.0649349,-27.718725499999994],[153.0809711,-27.720828400000002],[153.0905651,-27.7219005],[153.0901349,-27.7260135],[153.088508,-27.73406539999999],[153.087173,-27.738597500000004],[153.12038900000002,-27.743310499999993],[153.115253,-27.747091500000003],[153.111982,-27.750323499999993],[153.10651300000004,-27.7535515],[153.103591,-27.7549525],[153.101445,-27.7575694],[153.103165,-27.767021400000008],[153.102377,-27.769305499999998],[153.098589,-27.771635500000002],[153.096667,-27.771330499999998],[153.095045,-27.766923499999997],[153.092274,-27.765585499999993],[153.089286,-27.7675125]]]]}},{"type":"Feature","properties":{"suburb_name":"Collingwood Park (Qld)","suburb_areasqkm":7.4947,"address_cnt":4546.0,"address_density_sqkm":607.0,"tp":"Suburb : Collingwood Park (Qld)<br>Density per sqkm: 607"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.843012,-27.6296074],[152.842426,-27.6239874],[152.8399441,-27.622327399999996],[152.843035,-27.621074400000005],[152.844632,-27.618148399999995],[152.8467911,-27.617473500000003],[152.845543,-27.614193400000005],[152.847199,-27.611057400000004],[152.84672010000003,-27.608934399999995],[152.849922,-27.606934400000004],[152.852992,-27.606661399999997],[152.855608,-27.6083394],[152.858539,-27.606851399999996],[152.860333,-27.607410400000006],[152.8597601,-27.610510399999992],[152.865214,-27.611287400000002],[152.8656731,-27.608479399999997],[152.8696702,-27.606048400000002],[152.871975,-27.606891399999988],[152.872662,-27.609858399999997],[152.871909,-27.612582399999994],[152.869953,-27.613832399999993],[152.86622,-27.6250904],[152.862739,-27.63128839999999],[152.858878,-27.6346524],[152.85928850000002,-27.637465799999998],[152.8539871,-27.6367344],[152.852875,-27.642596400000002],[152.8491501,-27.640728400000008],[152.8456623,-27.640065699999997],[152.844792,-27.636300399999996],[152.845043,-27.633835399999995],[152.841793,-27.632213399999994],[152.843012,-27.6296074]]]]}},{"type":"Feature","properties":{"suburb_name":"Dutton Park","suburb_areasqkm":0.9312,"address_cnt":1519.0,"address_density_sqkm":1631.0,"tp":"Suburb : Dutton Park<br>Density per sqkm: 1,631"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.024353,-27.4885021],[153.0252497,-27.489763100000005],[153.0284339,-27.492660099999995],[153.032379,-27.495067400000003],[153.031107,-27.498333599999995],[153.028819,-27.500105599999998],[153.0263782,-27.500794399999997],[153.0228221,-27.50023539999999],[153.022631,-27.497861099999998],[153.0195661,-27.493650200000005],[153.022068,-27.4929564],[153.024353,-27.4885021]]]]}},{"type":"Feature","properties":{"suburb_name":"Edens Landing","suburb_areasqkm":2.5687,"address_cnt":2358.0,"address_density_sqkm":918.0,"tp":"Suburb : Edens Landing<br>Density per sqkm: 918"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.1608151,-27.7091495],[153.1599868,-27.7050466],[153.1578245,-27.699308699999996],[153.161053,-27.69971049999999],[153.164532,-27.6962075],[153.1646447,-27.694151899999998],[153.168951,-27.6946915],[153.17037900000003,-27.696670500000003],[153.173496,-27.6955215],[153.176313,-27.698131500000006],[153.1761249,-27.699068499999996],[153.1797442,-27.701886500000004],[153.1784731,-27.7051515],[153.1762591,-27.708490499999993],[153.17319200000003,-27.707811499999995],[153.168039,-27.709346500000002],[153.167643,-27.71160449999999],[153.16243,-27.710707499999998],[153.1608151,-27.7091495]]]]}},{"type":"Feature","properties":{"suburb_name":"Enoggera","suburb_areasqkm":8.6018,"address_cnt":3338.0,"address_density_sqkm":388.0,"tp":"Suburb : Enoggera<br>Density per sqkm: 388"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9917884,-27.431921599999995],[152.98703020000002,-27.4320285],[152.9838665,-27.430912699999997],[152.9825991,-27.4379524],[152.9761681,-27.4368844],[152.9754077,-27.4407847],[152.9737797,-27.4400757],[152.9715715,-27.442132800000007],[152.96324600000003,-27.441036400000005],[152.95205190000001,-27.4393845],[152.950564,-27.4340334],[152.949487,-27.432726899999995],[152.9482921,-27.4282674],[152.9487651,-27.4265834],[152.958209,-27.42831839999999],[152.9540561,-27.42545039999999],[152.9525104,-27.4215872],[152.9573173,-27.42225399999999],[152.966944,-27.423889399999997],[152.9672642,-27.4220177],[152.9729841,-27.42290979999999],[152.9793321,-27.4231884],[152.980134,-27.420921399999994],[152.9838688,-27.418659999999992],[152.98604810000003,-27.419189499999995],[152.987622,-27.410621399999997],[152.990538,-27.414470499999997],[152.993749,-27.411205399999997],[152.9975721,-27.411908399999998],[152.9988611,-27.413362499999998],[152.999798,-27.4166434],[152.9995172,-27.422086600000007],[152.9964012,-27.42148969999999],[152.9929553,-27.425773599999996],[152.9917884,-27.431921599999995]]]]}},{"type":"Feature","properties":{"suburb_name":"Graceville","suburb_areasqkm":1.8764,"address_cnt":2754.0,"address_density_sqkm":1468.0,"tp":"Suburb : Graceville<br>Density per sqkm: 1,468"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9879871,-27.5189774],[152.995408,-27.524598400000006],[152.994754,-27.527040399999994],[152.9911,-27.526384399999998],[152.9889918,-27.526542400000004],[152.975297,-27.524545399999997],[152.9712545,-27.5234535],[152.9693112,-27.519337999999998],[152.9696994,-27.517508500000005],[152.973923,-27.5181304],[152.9745604,-27.51630949999999],[152.9800931,-27.516240800000006],[152.9849121,-27.516919400000006],[152.9879871,-27.5189774]]]]}},{"type":"Feature","properties":{"suburb_name":"Hamilton (Qld)","suburb_areasqkm":2.5574,"address_cnt":7319.0,"address_density_sqkm":2862.0,"tp":"Suburb : Hamilton (Qld)<br>Density per sqkm: 2,862"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.089339,-27.445639400000005],[153.083525,-27.445250499999997],[153.0700933,-27.441613],[153.0640694,-27.440312999999996],[153.0562155,-27.439207100000004],[153.0493907,-27.440339199999997],[153.047512,-27.441522400000007],[153.0492368,-27.437245199999996],[153.0486646,-27.432819699999992],[153.0579279,-27.4348324],[153.0648843,-27.435740100000004],[153.0664546,-27.435319699999994],[153.0693985,-27.436604299999996],[153.0710679,-27.435894400000002],[153.0718351,-27.4310433],[153.0773181,-27.431709999999995],[153.0777251,-27.435387999999996],[153.070823,-27.4376454],[153.078051,-27.43922349999999],[153.085382,-27.439864499999995],[153.0847671,-27.441302100000005],[153.089339,-27.445639400000005]]]]}},{"type":"Feature","properties":{"suburb_name":"Heritage Park","suburb_areasqkm":4.89,"address_cnt":2163.0,"address_density_sqkm":442.0,"tp":"Suburb : Heritage Park<br>Density per sqkm: 442"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.052776,-27.670931],[153.0546597,-27.673621599999997],[153.0569736,-27.6746307],[153.060379,-27.6714984],[153.060921,-27.6692844],[153.062758,-27.667218499999997],[153.065306,-27.6705634],[153.06833,-27.6690515],[153.0679081,-27.66765349999999],[153.0726338,-27.669864499999996],[153.0753732,-27.672845999999996],[153.0694223,-27.678165],[153.0668633,-27.692447199999997],[153.0681432,-27.692638099999996],[153.067147,-27.6980385],[153.0600612,-27.6969856],[153.0556972,-27.695409599999994],[153.0567552,-27.6902706],[153.0489973,-27.689116699999992],[153.0509921,-27.681866400000004],[153.052776,-27.670931]]]]}},{"type":"Feature","properties":{"suburb_name":"Herston","suburb_areasqkm":1.6867,"address_cnt":1371.0,"address_density_sqkm":813.0,"tp":"Suburb : Herston<br>Density per sqkm: 813"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.030012,-27.443892400000006],[153.0287494,-27.451154099999993],[153.0262479,-27.451869399999996],[153.0236732,-27.455638299999997],[153.0217572,-27.457212299999995],[153.016543,-27.458041499999993],[153.015972,-27.4542384],[153.0178047,-27.453510899999998],[153.0187041,-27.448510499999987],[153.0163835,-27.4475914],[153.0167849,-27.445755499999997],[153.015058,-27.4417894],[153.017971,-27.440798499999996],[153.02183,-27.4423494],[153.0251431,-27.444082300000005],[153.030012,-27.443892400000006]]]]}},{"type":"Feature","properties":{"suburb_name":"Joyner","suburb_areasqkm":8.3926,"address_cnt":1794.0,"address_density_sqkm":214.0,"tp":"Suburb : Joyner<br>Density per sqkm: 214"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9505601,-27.283058399999994],[152.9537482,-27.291417000000006],[152.9399771,-27.289252399999988],[152.9353811,-27.2883004],[152.93047710000002,-27.286479400000005],[152.9285678,-27.283201799999997],[152.9290703,-27.281835299999997],[152.9276163,-27.278992399999996],[152.9256544,-27.278101400000004],[152.922281,-27.27341739999999],[152.9253172,-27.2721144],[152.9268901,-27.268748400000003],[152.930264,-27.2671274],[152.932712,-27.263656500000003],[152.938247,-27.2635204],[152.9423182,-27.262048399999998],[152.9461961,-27.256733399999998],[152.949462,-27.257367500000004],[152.9506191,-27.259376400000004],[152.9496601,-27.260740499999997],[152.9534512,-27.265495399999995],[152.9564439,-27.266954400000003],[152.9582198,-27.270193199999998],[152.9582608,-27.2731472],[152.9606178,-27.276635199999998],[152.9625698,-27.27784709999999],[152.9649889,-27.277596700000004],[152.964378,-27.280668300000006],[152.9613219,-27.282136400000002],[152.9575181,-27.281642400000003],[152.955653,-27.278346499999998],[152.95094600000002,-27.276801399999997],[152.9490279,-27.278959400000005],[152.9505601,-27.283058399999994]]]]}},{"type":"Feature","properties":{"suburb_name":"Keperra","suburb_areasqkm":5.1078,"address_cnt":3777.0,"address_density_sqkm":739.0,"tp":"Suburb : Keperra<br>Density per sqkm: 739"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9482921,-27.4282674],[152.94522,-27.427309399999995],[152.9404308,-27.4272658],[152.9415447,-27.4208373],[152.9368871,-27.420092999999998],[152.9393511,-27.416000399999998],[152.94265100000004,-27.413010899999996],[152.9396931,-27.4046204],[152.940785,-27.404254399999992],[152.9445741,-27.405994400000004],[152.94781,-27.4065174],[152.9491981,-27.4087464],[152.9520681,-27.407672400000006],[152.9525861,-27.405856399999998],[152.9589461,-27.402793400000004],[152.9592081,-27.4001254],[152.9621651,-27.397939400000002],[152.9647551,-27.397806400000007],[152.9651866,-27.4037444],[152.9670605,-27.404096799999994],[152.9667031,-27.409957399999996],[152.958587,-27.414583399999994],[152.9573173,-27.42225399999999],[152.9525104,-27.4215872],[152.9540561,-27.42545039999999],[152.958209,-27.42831839999999],[152.9487651,-27.4265834],[152.9482921,-27.4282674]]]]}},{"type":"Feature","properties":{"suburb_name":"Kippa-Ring","suburb_areasqkm":5.5697,"address_cnt":5163.0,"address_density_sqkm":927.0,"tp":"Suburb : Kippa-Ring<br>Density per sqkm: 927"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0991531,-27.219404399999995],[153.0970621,-27.2301474],[153.0971175,-27.2349994],[153.093051,-27.2353525],[153.0764432,-27.232875500000002],[153.0757212,-27.227972499999996],[153.0698624,-27.226247600000004],[153.0678806,-27.228434000000007],[153.06548200000003,-27.227955700000003],[153.0671892,-27.217846199999997],[153.0683279,-27.214544299999996],[153.07189800000003,-27.215373499999995],[153.0726616,-27.211101100000004],[153.0768132,-27.211664999999993],[153.0758721,-27.2169645],[153.08250860000004,-27.2177685],[153.0874407,-27.218919499999995],[153.0880398,-27.215705399999997],[153.099336,-27.217341400000002],[153.0991531,-27.219404399999995]]]]}},{"type":"Feature","properties":{"suburb_name":"Logan Central","suburb_areasqkm":2.8632,"address_cnt":3493.0,"address_density_sqkm":1220.0,"tp":"Suburb : Logan Central<br>Density per sqkm: 1,220"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.098677,-27.651613499999996],[153.099952,-27.64336249999999],[153.095462,-27.6451385],[153.0944503,-27.642860500000005],[153.0968502,-27.64201650000001],[153.0965032,-27.6396275],[153.0982011,-27.6398984],[153.102116,-27.638744399999997],[153.1025031,-27.634701500000006],[153.1081691,-27.636542399999993],[153.118761,-27.638071399999994],[153.118227,-27.646392099999993],[153.1091701,-27.645161499999986],[153.1071355,-27.645853700000007],[153.1095921,-27.6493654],[153.1121721,-27.651426400000002],[153.1104941,-27.6533515],[153.098677,-27.651613499999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Marcoola","suburb_areasqkm":14.6141,"address_cnt":3136.0,"address_density_sqkm":215.0,"tp":"Suburb : Marcoola<br>Density per sqkm: 215"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.098768,-26.606176700000002],[153.0975939,-26.606339900000002],[153.0919351,-26.6114524],[153.0882311,-26.611029399999993],[153.0870651,-26.609597399999995],[153.0841501,-26.611545399999994],[153.0821001,-26.609603399999994],[153.0764711,-26.608759499999994],[153.0700441,-26.607782499999992],[153.067514,-26.60965529999999],[153.0665251,-26.615108200000005],[153.0640701,-26.614730299999998],[153.0626573,-26.611843499999992],[153.0544321,-26.6102634],[153.055605,-26.605518100000005],[153.05511810000002,-26.599022400000003],[153.0609332,-26.5939134],[153.065389,-26.5877485],[153.0651852,-26.58413439999999],[153.066069,-26.5821264],[153.0666961,-26.58069349999999],[153.0654351,-26.575155399999996],[153.0643451,-26.573828400000004],[153.0791961,-26.575615400000004],[153.0795431,-26.573382399999996],[153.086358,-26.573745299999995],[153.0923591,-26.573347400000003],[153.0963882,-26.5746724],[153.0979046,-26.576498200000007],[153.097615,-26.582704499999995],[153.097506,-26.59560649999999],[153.098768,-26.606176700000002]]]]}},{"type":"Feature","properties":{"suburb_name":"Margate (Qld)","suburb_areasqkm":2.6257,"address_cnt":4749.0,"address_density_sqkm":1809.0,"tp":"Suburb : Margate (Qld)<br>Density per sqkm: 1,809"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0971175,-27.2349994],[153.0969411,-27.2359365],[153.1081929,-27.237612499999997],[153.1139801,-27.2388795],[153.1111283,-27.2466722],[153.1105521,-27.2496326],[153.1097002,-27.2513334],[153.0959754,-27.249214999999996],[153.0947698,-27.243284899999995],[153.0953931,-27.241385800000007],[153.0924969,-27.2382664],[153.093051,-27.2353525],[153.0971175,-27.2349994]]]]}},{"type":"Feature","properties":{"suburb_name":"Marsden","suburb_areasqkm":6.1275,"address_cnt":6628.0,"address_density_sqkm":1082.0,"tp":"Suburb : Marsden<br>Density per sqkm: 1,082"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.1051224,-27.688535400000006],[153.102266,-27.687279500000002],[153.1029271,-27.68567749999999],[153.0989419,-27.685383399999992],[153.0987397,-27.681714500000002],[153.0897191,-27.681064400000004],[153.0864121,-27.679519499999994],[153.080596,-27.677902500000002],[153.082509,-27.6674895],[153.086403,-27.667133499999995],[153.089473,-27.6639764],[153.0896609,-27.660411399999997],[153.0917314,-27.660392499999993],[153.0957564,-27.661881500000003],[153.0995383,-27.665370399999993],[153.1022581,-27.6667728],[153.1058253,-27.665861399999994],[153.1084253,-27.668038400000004],[153.1106743,-27.668761500000002],[153.1133892,-27.672297399999994],[153.1129082,-27.674118399999998],[153.1169317,-27.67971799999999],[153.1076033,-27.685532400000007],[153.1051224,-27.688535400000006]]]]}},{"type":"Feature","properties":{"suburb_name":"Middle Park (Qld)","suburb_areasqkm":1.4518,"address_cnt":1707.0,"address_density_sqkm":1176.0,"tp":"Suburb : Middle Park (Qld)<br>Density per sqkm: 1,176"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.927443,-27.56246940000001],[152.922711,-27.561761399999995],[152.916796,-27.5609905],[152.9174215,-27.5578058],[152.9148494,-27.5559919],[152.9141025,-27.552471799999992],[152.9219413,-27.550147799999998],[152.9295492,-27.551403699999998],[152.927443,-27.56246940000001]]]]}},{"type":"Feature","properties":{"suburb_name":"Moffat Beach","suburb_areasqkm":1.3786,"address_cnt":2143.0,"address_density_sqkm":1554.0,"tp":"Suburb : Moffat Beach<br>Density per sqkm: 1,554"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.1417731,-26.7879515],[153.1436191,-26.789890500000002],[153.1475563,-26.790432500000005],[153.1486411,-26.792327500000003],[153.1470971,-26.792971500000004],[153.1431012,-26.792437200000002],[153.1419602,-26.799198400000005],[153.1376409,-26.797902399999998],[153.1360029,-26.7978215],[153.1324345,-26.7945727],[153.1289665,-26.793838700000002],[153.1298881,-26.788867399999997],[153.1315791,-26.789855500000005],[153.1355301,-26.787802499999998],[153.1417731,-26.7879515]]]]}},{"type":"Feature","properties":{"suburb_name":"Ningi","suburb_areasqkm":27.215,"address_cnt":2691.0,"address_density_sqkm":99.0,"tp":"Suburb : Ningi<br>Density per sqkm: 99"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0383541,-27.091535500000003],[153.03609,-27.090520600000005],[153.0348771,-27.08814539999999],[153.0354863,-27.083678899999995],[153.0282589,-27.0828409],[153.0285441,-27.081076399999997],[153.0253811,-27.0806314],[153.0266323,-27.07258039999999],[153.0281669,-27.072473399999996],[153.0289141,-27.068181400000004],[153.0275071,-27.0636565],[153.0280281,-27.061815399999997],[153.0366421,-27.0629594],[153.0398001,-27.044770500000002],[153.0438931,-27.0451334],[153.0442901,-27.0420634],[153.0477401,-27.043547499999995],[153.0461051,-27.0457865],[153.0455831,-27.050480400000005],[153.0484161,-27.050540500000007],[153.0504281,-27.051886399999994],[153.0530641,-27.050564400000003],[153.0566681,-27.0555194],[153.0603511,-27.055311500000006],[153.0622931,-27.052401399999997],[153.0635441,-27.04807239999999],[153.0670481,-27.0486204],[153.0676381,-27.051826400000003],[153.0715521,-27.053382399999997],[153.0792241,-27.053721499999998],[153.0811951,-27.055804399999992],[153.0867271,-27.056954399999995],[153.0889811,-27.055697399999993],[153.0960191,-27.054795500000008],[153.0993041,-27.058112399999995],[153.1056301,-27.060652800000003],[153.1099421,-27.061095399999996],[153.1109041,-27.063153400000004],[153.10545610000003,-27.064155799999995],[153.1057921,-27.066090799999998],[153.1089841,-27.0661298],[153.112444,-27.064487800000002],[153.1180219,-27.0631207],[153.1181001,-27.0646035],[153.1155391,-27.079122499999997],[153.1069178,-27.07935429999999],[153.1044118,-27.078677999999996],[153.10428910000002,-27.07682949999999],[153.1011131,-27.075467399999997],[153.1001971,-27.082188399999996],[153.0932581,-27.081433500000003],[153.0925801,-27.079711399999997],[153.0901151,-27.079494500000003],[153.0895991,-27.0812244],[153.0858431,-27.0835674],[153.0683691,-27.0815524],[153.0653081,-27.0819574],[153.0523443,-27.0805486],[153.0502511,-27.093430399999995],[153.0420751,-27.092387499999997],[153.0383541,-27.091535500000003]]]]}},{"type":"Feature","properties":{"suburb_name":"North Booval","suburb_areasqkm":3.0442,"address_cnt":1521.0,"address_density_sqkm":500.0,"tp":"Suburb : North Booval<br>Density per sqkm: 500"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.7837024,-27.609842300000004],[152.7828069,-27.607809399999994],[152.7834931,-27.603874400000002],[152.7881771,-27.603081899999992],[152.789969,-27.6013024],[152.7903681,-27.5990014],[152.788663,-27.597755400000004],[152.781939,-27.598080399999997],[152.779779,-27.5973204],[152.77950900000002,-27.594619400000003],[152.7809521,-27.59191639999999],[152.7859781,-27.586331400000002],[152.789737,-27.585244399999997],[152.7888221,-27.587267399999998],[152.792741,-27.5912774],[152.795431,-27.591239400000006],[152.7972981,-27.594748399999997],[152.79497800000001,-27.595354400000005],[152.7962661,-27.60002439999999],[152.799399,-27.5998424],[152.80294200000003,-27.602540400000002],[152.802323,-27.604645399999995],[152.799499,-27.6052884],[152.797315,-27.60714439999999],[152.79783440000003,-27.6086815],[152.7837024,-27.609842300000004]]]]}},{"type":"Feature","properties":{"suburb_name":"Oxley (Qld)","suburb_areasqkm":6.9825,"address_cnt":5402.0,"address_density_sqkm":774.0,"tp":"Suburb : Oxley (Qld)<br>Density per sqkm: 774"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.99308300000004,-27.5511414],[152.986385,-27.552649500000005],[152.986543,-27.555993399999995],[152.982763,-27.5586494],[152.986849,-27.561302400000002],[152.988336,-27.564067400000003],[152.990877,-27.5666034],[152.988577,-27.570102399999985],[152.989106,-27.5711285],[152.98679,-27.5736534],[152.987704,-27.5772565],[152.9828002,-27.578175400000003],[152.9823779,-27.57649139999999],[152.974011,-27.578176400000007],[152.972765,-27.572613399999998],[152.966553,-27.573848399999996],[152.962046,-27.555276399999997],[152.959427,-27.553108399999992],[152.961878,-27.5529124],[152.9623702,-27.550274999999996],[152.964426,-27.54831039999999],[152.965481,-27.5458574],[152.9650127,-27.548004499999994],[152.9686299,-27.549312400000005],[152.974508,-27.54839740000001],[152.99308300000004,-27.5511414]]]]}},{"type":"Feature","properties":{"suburb_name":"Pacific Paradise","suburb_areasqkm":2.6459,"address_cnt":1555.0,"address_density_sqkm":588.0,"tp":"Suburb : Pacific Paradise<br>Density per sqkm: 588"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.074348,-26.639060399999995],[153.07299910000003,-26.640372200000005],[153.0675777,-26.6416536],[153.0697043,-26.63051550000001],[153.0709681,-26.6202914],[153.0732503,-26.614333499999997],[153.0764711,-26.608759499999994],[153.0821001,-26.609603399999994],[153.0811771,-26.614603399999996],[153.0830411,-26.616377399999998],[153.0819511,-26.622279400000004],[153.0778871,-26.621670399999996],[153.0768321,-26.6284704],[153.07604510000002,-26.628396399999996],[153.074348,-26.639060399999995]]]]}},{"type":"Feature","properties":{"suburb_name":"Palmwoods (Qld)","suburb_areasqkm":23.8833,"address_cnt":3868.0,"address_density_sqkm":162.0,"tp":"Suburb : Palmwoods (Qld)<br>Density per sqkm: 162"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.9633961,-26.671397199999998],[152.9644802,-26.676014300000006],[152.9682532,-26.676553399999996],[152.9721871,-26.675531400000004],[152.9769241,-26.676786399999997],[152.9809181,-26.6793844],[152.9874251,-26.6802584],[152.9929711,-26.679467300000002],[152.9979221,-26.681746400000005],[152.9971797,-26.68393429999999],[152.9923176,-26.6839441],[152.99225510000002,-26.6858334],[152.9880601,-26.687474400000003],[152.9880431,-26.690054399999998],[152.9869251,-26.692936399999997],[152.9833661,-26.694305400000005],[152.9810921,-26.697148400000003],[152.9799412,-26.7033274],[152.9777431,-26.703051399999996],[152.97655220000001,-26.710405399999996],[152.9785581,-26.710667399999995],[152.9773732,-26.7178894],[152.9697562,-26.716881399999995],[152.9685252,-26.71417039999999],[152.9657651,-26.713834399999996],[152.96291810000002,-26.715873400000003],[152.9572851,-26.715181399999995],[152.9551002,-26.712238399999997],[152.9482893,-26.710975499999996],[152.94100010000002,-26.708920400000007],[152.9419532,-26.7046374],[152.9336171,-26.703442399999993],[152.929597,-26.7079175],[152.9173572,-26.706076799999998],[152.9164981,-26.7106277],[152.9130076,-26.7100917],[152.9127501,-26.706673400000003],[152.9138212,-26.6990404],[152.9171835,-26.699509900000002],[152.9178719,-26.6954957],[152.919247,-26.693531400000005],[152.9256053,-26.6944471],[152.926166,-26.691103899999998],[152.9302641,-26.691920399999994],[152.9316122,-26.693291399999993],[152.9346091,-26.6937944],[152.9351661,-26.690481400000003],[152.9336741,-26.69028039999999],[152.9341421,-26.6870194],[152.9327161,-26.686824400000003],[152.9337802,-26.680587399999997],[152.9356502,-26.6819952],[152.9394962,-26.6825234],[152.9429691,-26.670039399999993],[152.94397220000002,-26.6679234],[152.9487982,-26.668554400000005],[152.9486811,-26.669548399999993],[152.9633961,-26.671397199999998]]]]}},{"type":"Feature","properties":{"suburb_name":"Rothwell","suburb_areasqkm":10.34,"address_cnt":4583.0,"address_density_sqkm":443.0,"tp":"Suburb : Rothwell<br>Density per sqkm: 443"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0821941,-27.2029744],[153.0823561,-27.204587400000005],[153.0800571,-27.2068604],[153.0733852,-27.2070755],[153.0726616,-27.211101100000004],[153.07189800000003,-27.215373499999995],[153.0683279,-27.214544299999996],[153.0671892,-27.217846199999997],[153.06548200000003,-27.227955700000003],[153.0678806,-27.228434000000007],[153.059206,-27.229787599999995],[153.0585541,-27.228622500000004],[153.06155910000004,-27.225131399999995],[153.0595891,-27.222050399999997],[153.0553071,-27.223502399999994],[153.0515421,-27.22344440000001],[153.0528391,-27.226585499999995],[153.0512171,-27.228651399999997],[153.0492821,-27.227537399999996],[153.0455611,-27.228190399999992],[153.042182,-27.221927400000002],[153.0398201,-27.221441499999997],[153.036629,-27.218505399999998],[153.0331571,-27.218359400000004],[153.0359291,-27.215188499999996],[153.0337581,-27.212979399999995],[153.0342061,-27.2081405],[153.0320581,-27.207583400000008],[153.0325771,-27.2066224],[153.0426691,-27.2080988],[153.0447411,-27.195749499999998],[153.046748,-27.194303799999997],[153.050404,-27.1948498],[153.0599138,-27.198035699999995],[153.0647542,-27.1987484],[153.070963,-27.2010559],[153.0743436,-27.201652599999996],[153.0772485,-27.201254599999995],[153.0821941,-27.2029744]]]]}},{"type":"Feature","properties":{"suburb_name":"Salisbury (Qld)","suburb_areasqkm":4.5662,"address_cnt":3817.0,"address_density_sqkm":836.0,"tp":"Suburb : Salisbury (Qld)<br>Density per sqkm: 836"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.024773,-27.557416400000008],[153.0228228,-27.55530909999999],[153.0226728,-27.5531521],[153.01989800000004,-27.5492815],[153.019603,-27.546405399999998],[153.02066,-27.543439399999997],[153.0238947,-27.5438881],[153.0244972,-27.5403154],[153.0323049,-27.541311399999998],[153.0343801,-27.540863500000004],[153.0356297,-27.534545299999998],[153.0390015,-27.535083300000004],[153.04389350000002,-27.53613],[153.03997,-27.5371935],[153.0391621,-27.539060400000004],[153.040254,-27.544111400000006],[153.0388972,-27.5462955],[153.0418178,-27.550991500000002],[153.04151370000002,-27.552681199999995],[153.0480624,-27.5535768],[153.0472433,-27.558311999999994],[153.0406461,-27.55724439999999],[153.0396155,-27.562782200000004],[153.0378968,-27.561449800000005],[153.0382392,-27.55939789999999],[153.0339849,-27.558924899999997],[153.0323449,-27.562164199999998],[153.024773,-27.557416400000008]]]]}},{"type":"Feature","properties":{"suburb_name":"Seven Hills (Qld)","suburb_areasqkm":1.5725,"address_cnt":1529.0,"address_density_sqkm":972.0,"tp":"Suburb : Seven Hills (Qld)<br>Density per sqkm: 972"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0851079,-27.473393499999993],[153.0877482,-27.473741500000003],[153.0888841,-27.474866500000005],[153.0876682,-27.481478499999998],[153.0845443,-27.481009500000003],[153.0815111,-27.482604399999996],[153.080762,-27.487113499999992],[153.0771589,-27.48550859999999],[153.0750001,-27.4834054],[153.070962,-27.4827765],[153.0674182,-27.4803765],[153.066736,-27.478251399999994],[153.0694561,-27.477895400000005],[153.0700491,-27.474887499999998],[153.075445,-27.4756644],[153.079211,-27.478908499999996],[153.0822666,-27.4769226],[153.08441,-27.477069499999995],[153.0851079,-27.473393499999993]]]]}},{"type":"Feature","properties":{"suburb_name":"Springfield Central","suburb_areasqkm":2.0893,"address_cnt":690.0,"address_density_sqkm":330.0,"tp":"Suburb : Springfield Central<br>Density per sqkm: 330"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.908371,-27.697673400000003],[152.906538,-27.697327399999995],[152.9043575,-27.685461300000004],[152.9016169,-27.684986399999996],[152.8980479,-27.681849399999997],[152.8971659,-27.67950039999999],[152.89764960000002,-27.67440979999999],[152.897724,-27.674427399999995],[152.900772,-27.675072400000005],[152.905165,-27.674625400000004],[152.913152,-27.6835584],[152.913163,-27.6884604],[152.909934,-27.691209399999998],[152.91084,-27.694144399999995],[152.908371,-27.697673400000003]]]]}},{"type":"Feature","properties":{"suburb_name":"Sunnybank Hills","suburb_areasqkm":6.4748,"address_cnt":7941.0,"address_density_sqkm":1226.0,"tp":"Suburb : Sunnybank Hills<br>Density per sqkm: 1,226"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.064887,-27.59005839999999],[153.0653014,-27.593712800000002],[153.0619829,-27.611447399999996],[153.0578249,-27.611728399999997],[153.0511361,-27.6112275],[153.0496669,-27.609437499999995],[153.0463672,-27.607701500000005],[153.042973,-27.604118099999997],[153.039806,-27.599042399999988],[153.0410868,-27.592891000000012],[153.0430631,-27.593174499999993],[153.045313,-27.591161399999997],[153.0461956,-27.5864639],[153.03819600000003,-27.584957399999993],[153.039919,-27.575387499999998],[153.0426458,-27.577763399999995],[153.0467401,-27.579962500000004],[153.0490769,-27.581910399999998],[153.064887,-27.59005839999999]]]]}},{"type":"Feature","properties":{"suburb_name":"Waterford (Qld)","suburb_areasqkm":6.8135,"address_cnt":2960.0,"address_density_sqkm":434.0,"tp":"Suburb : Waterford (Qld)<br>Density per sqkm: 434"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.1599868,-27.7050466],[153.1608151,-27.7091495],[153.1579268,-27.71691],[153.159234,-27.7206665],[153.157119,-27.720351499999992],[153.1224043,-27.715043199999993],[153.1226524,-27.7092208],[153.1248165,-27.704407199999995],[153.1251012,-27.699155299999997],[153.1263559,-27.694931900000004],[153.1278441,-27.6953082],[153.1283808,-27.698558399999992],[153.1300471,-27.700609200000002],[153.1368479,-27.703521399999996],[153.1417519,-27.708247099999998],[153.1461193,-27.706129000000004],[153.146833,-27.704045399999995],[153.1461684,-27.700479300000005],[153.1410673,-27.6960369],[153.13878120000004,-27.691919200000005],[153.1416088,-27.6907529],[153.143923,-27.690149499999993],[153.145508,-27.693790499999995],[153.1506325,-27.694530899999997],[153.1489269,-27.700261199999996],[153.15535,-27.6990524],[153.1544489,-27.7041988],[153.1599868,-27.7050466]]]]}},{"type":"Feature","properties":{"suburb_name":"Buddina","suburb_areasqkm":1.9737,"address_cnt":2849.0,"address_density_sqkm":1443.0,"tp":"Suburb : Buddina<br>Density per sqkm: 1,443"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.13217710000004,-26.679166399999993],[153.1375701,-26.6795145],[153.1354921,-26.706356399999997],[153.1355101,-26.709183399999997],[153.1301291,-26.7089134],[153.1296231,-26.704833400000002],[153.1263481,-26.70142649999999],[153.1279386,-26.700836199999994],[153.1295382,-26.694605699999993],[153.1280567,-26.6915372],[153.1276021,-26.687174399999993],[153.1325801,-26.686931399999995],[153.1350701,-26.6848125],[153.1356271,-26.681942400000004],[153.13217710000004,-26.679166399999993]]]]}},{"type":"Feature","properties":{"suburb_name":"Closeburn","suburb_areasqkm":11.7652,"address_cnt":305.0,"address_density_sqkm":26.0,"tp":"Suburb : Closeburn<br>Density per sqkm: 26"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.8890242,-27.337334399999992],[152.8853662,-27.338937400000002],[152.88103290000004,-27.338527499999998],[152.87992700000004,-27.334825400000007],[152.87717190000004,-27.333507399999995],[152.87601210000003,-27.335172399999994],[152.8739008,-27.3344785],[152.871409,-27.3361965],[152.8670892,-27.336214100000003],[152.866634,-27.338775399999996],[152.8610138,-27.3380621],[152.8599045,-27.344964899999997],[152.8542712,-27.347562399999994],[152.85444620000004,-27.34648039999999],[152.8474031,-27.34557539999999],[152.848909,-27.336498399999996],[152.8454469,-27.336054399999995],[152.844787,-27.33371640000001],[152.8481441,-27.333011399999993],[152.8446051,-27.330751400000004],[152.8458993,-27.322481699999997],[152.8347768,-27.320967999999997],[152.8349501,-27.3199824],[152.83879710000002,-27.3187664],[152.8412,-27.319102400000002],[152.8455661,-27.3176194],[152.8488351,-27.319106399999995],[152.85421710000003,-27.320192399999993],[152.85924830000002,-27.314302699999992],[152.8616335,-27.31256279999999],[152.86378930000004,-27.3128488],[152.8646047,-27.30673309999999],[152.874729,-27.307980399999998],[152.8841901,-27.3123094],[152.8834421,-27.3163654],[152.8779781,-27.315534399999997],[152.8768001,-27.32171140000001],[152.8773548,-27.323244799999998],[152.8833023,-27.3265327],[152.885156,-27.328777399999996],[152.8903343,-27.3296948],[152.8890242,-27.337334399999992]]]]}},{"type":"Feature","properties":{"suburb_name":"D'Aguilar","suburb_areasqkm":10.1799,"address_cnt":1020.0,"address_density_sqkm":100.0,"tp":"Suburb : D'Aguilar<br>Density per sqkm: 100"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.8092001,-26.997605399999998],[152.80453010000002,-26.9970474],[152.8007211,-26.994615400000004],[152.7970378,-26.990658499999995],[152.7930341,-26.9921464],[152.7815401,-26.990855400000004],[152.7811013,-26.993118799999998],[152.7716905,-26.99198639999999],[152.7715222,-26.993087900000003],[152.7658302,-26.992394600000004],[152.7666133,-26.9872412],[152.7723082,-26.987942700000005],[152.7734508,-26.980443900000004],[152.7841404,-26.981722799999996],[152.7846332,-26.978426399999996],[152.7828911,-26.978219400000004],[152.7834722,-26.974501400000005],[152.7906221,-26.975235399999992],[152.7899651,-26.972513400000004],[152.8318829,-26.977464499999996],[152.8351289,-26.9791993],[152.8327891,-26.981566399999995],[152.8264651,-26.9813174],[152.823514,-26.984375400000005],[152.8232061,-26.986648399999996],[152.8203301,-26.9892174],[152.8173471,-26.988868399999998],[152.8151841,-26.989720400000003],[152.8149271,-26.991441399999996],[152.8103528,-26.997744399999995],[152.8092001,-26.997605399999998]]]]}},{"type":"Feature","properties":{"suburb_name":"Ironbark (Qld)","suburb_areasqkm":15.0618,"address_cnt":252.0,"address_density_sqkm":17.0,"tp":"Suburb : Ironbark (Qld)<br>Density per sqkm: 17"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.697605,-27.572548399999988],[152.6986516,-27.575928700000002],[152.6879941,-27.578339399999997],[152.681675,-27.578107499999998],[152.674223,-27.5760514],[152.6647931,-27.5753384],[152.6657162,-27.574286400000002],[152.664863,-27.57161839999999],[152.6480941,-27.550872399999992],[152.6513511,-27.533023399999998],[152.6547146,-27.535485600000005],[152.6592701,-27.5325204],[152.6628811,-27.536983399999993],[152.6662781,-27.534777399999996],[152.6701841,-27.539260400000003],[152.6767161,-27.5348935],[152.683975,-27.547606500000004],[152.687777,-27.553253399999996],[152.6901951,-27.558597400000004],[152.6915372,-27.565946399999994],[152.697605,-27.572548399999988]]]]}},{"type":"Feature","properties":{"suburb_name":"Kholo","suburb_areasqkm":39.4023,"address_cnt":276.0,"address_density_sqkm":7.0,"tp":"Suburb : Kholo<br>Density per sqkm: 7"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.8419674,-27.511702299999993],[152.836669,-27.5109544],[152.8370251,-27.508765400000005],[152.831317,-27.508034399999993],[152.8297071,-27.516497400000002],[152.8267371,-27.5159174],[152.821606,-27.511899399999997],[152.8178671,-27.511384400000004],[152.8147382,-27.5123694],[152.81231,-27.510322400000003],[152.8102472,-27.512187400000002],[152.807941,-27.516734400000004],[152.808148,-27.5189024],[152.8064415,-27.519954000000002],[152.7944374,-27.518247900000002],[152.7919116,-27.51891749999999],[152.7915195,-27.521065599999993],[152.7824741,-27.519658399999997],[152.7814961,-27.525117399999992],[152.778931,-27.524739399999994],[152.7769491,-27.5351134],[152.7691801,-27.531098400000005],[152.7659171,-27.530847399999995],[152.761371,-27.532267399999995],[152.7601141,-27.5344094],[152.7611711,-27.539039399999997],[152.7647241,-27.54235939999999],[152.7656941,-27.545795399999992],[152.7651651,-27.547860399999998],[152.7589801,-27.55320339999999],[152.7535731,-27.55623539999999],[152.7505771,-27.558915400000004],[152.7499541,-27.561514399999997],[152.7473821,-27.565015399999997],[152.7460571,-27.566667399999996],[152.7422191,-27.5659714],[152.7401191,-27.561548400000007],[152.7414701,-27.554519399999997],[152.7422431,-27.548105399999997],[152.7435241,-27.5435284],[152.745512,-27.534100399999993],[152.747982,-27.527221400000002],[152.7497901,-27.524905399999998],[152.7528921,-27.523513399999995],[152.7556991,-27.523390399999997],[152.7601111,-27.525095400000005],[152.7623461,-27.5240394],[152.76302,-27.5211854],[152.7622021,-27.518853399999994],[152.75913,-27.517226399999995],[152.7515771,-27.5176474],[152.748681,-27.516764399999996],[152.7440011,-27.513878399999996],[152.7401851,-27.507512399999996],[152.7396711,-27.50530939999999],[152.7345831,-27.499933399999993],[152.73051810000004,-27.4972084],[152.73017000000002,-27.495611399999994],[152.7341078,-27.494466899999995],[152.7380131,-27.494586399999992],[152.7393311,-27.4875924],[152.7426061,-27.488196400000003],[152.7442921,-27.491949400000006],[152.7487991,-27.495266399999988],[152.7519601,-27.4938554],[152.7567711,-27.494306400000003],[152.7616881,-27.490538399999995],[152.7674001,-27.4882944],[152.769975,-27.4880874],[152.7774471,-27.4890784],[152.7782932,-27.49140269999999],[152.7803542,-27.492193499999996],[152.7862842,-27.490949399999995],[152.7911042,-27.491397399999993],[152.7944011,-27.4949784],[152.7952661,-27.4970724],[152.7992281,-27.497408399999998],[152.8004441,-27.4961354],[152.80173,-27.492209399999997],[152.8067961,-27.492866399999997],[152.8094251,-27.478458400000008],[152.8124121,-27.478104400000007],[152.8152691,-27.481900400000004],[152.81817310000002,-27.483029400000003],[152.8220571,-27.487032399999997],[152.8258431,-27.488426400000005],[152.8287841,-27.491117400000004],[152.837842,-27.4924904],[152.84006,-27.495928399999997],[152.8427713,-27.496502600000003],[152.8430028,-27.499027699999992],[152.84189700000002,-27.5015712],[152.8445246,-27.501971800000007],[152.8448099,-27.5067136],[152.8434847,-27.509549499999995],[152.8419674,-27.511702299999993]]]]}},{"type":"Feature","properties":{"suburb_name":"Lower Beechmont","suburb_areasqkm":16.2644,"address_cnt":623.0,"address_density_sqkm":38.0,"tp":"Suburb : Lower Beechmont<br>Density per sqkm: 38"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.2294868,-28.0827898],[153.2133596,-28.080332599999995],[153.2147439,-28.0731715],[153.216194,-28.06566949999999],[153.2199589,-28.066235499999998],[153.2189765,-28.0612918],[153.2251283,-28.06119649999999],[153.2263268,-28.054752999999998],[153.2287553,-28.0551077],[153.2307623,-28.044339600000004],[153.22922270000004,-28.040056699999994],[153.2300962,-28.039635],[153.232578,-28.025656599999994],[153.2362847,-28.025950900000005],[153.2388825,-28.011155099999996],[153.2408739,-28.011433500000003],[153.2404359,-28.014673599999988],[153.24491190000003,-28.016684500000004],[153.2477502,-28.019169800000004],[153.2456255,-28.029919700000004],[153.2528005,-28.0309106],[153.2542318,-28.029737900000004],[153.2545095,-28.026273299999993],[153.2570054,-28.023738599999994],[153.2604099,-28.024262499999995],[153.2615619,-28.02688949999999],[153.2602849,-28.0278025],[153.2592769,-28.0328655],[153.2581789,-28.032694499999998],[153.25578,-28.036836500000003],[153.258657,-28.038448499999998],[153.2597669,-28.040651499999992],[153.2574319,-28.0522285],[153.2488187,-28.050874599999997],[153.2478949,-28.0511845],[153.2468579,-28.060271500000002],[153.2400079,-28.0668085],[153.236656,-28.0838665],[153.2294868,-28.0827898]]]]}},{"type":"Feature","properties":{"suburb_name":"Macgregor (Qld)","suburb_areasqkm":2.6988,"address_cnt":2885.0,"address_density_sqkm":1069.0,"tp":"Suburb : Macgregor (Qld)<br>Density per sqkm: 1,069"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.087758,-27.568490500000003],[153.085432,-27.569143499999996],[153.085129,-27.571086200000007],[153.080625,-27.570955700000013],[153.076052,-27.573633499999993],[153.066352,-27.5722474],[153.0647189,-27.568839500000003],[153.06608,-27.560956499999996],[153.0680037,-27.5513328],[153.074085,-27.558597500000005],[153.078409,-27.5625125],[153.087758,-27.568490500000003]]]]}},{"type":"Feature","properties":{"suburb_name":"Mackenzie (Brisbane - Qld)","suburb_areasqkm":3.037,"address_cnt":920.0,"address_density_sqkm":303.0,"tp":"Suburb : Mackenzie (Brisbane - Qld)<br>Density per sqkm: 303"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.1203179,-27.536438299999993],[153.122982,-27.531994499999996],[153.1408138,-27.534514399999996],[153.1388231,-27.545705400000003],[153.1321289,-27.5469955],[153.1265612,-27.547151399999994],[153.121002,-27.545555500000003],[153.1174148,-27.545101],[153.117199,-27.541677500000006],[153.1203179,-27.536438299999993]]]]}},{"type":"Feature","properties":{"suburb_name":"North Stradbroke Island","suburb_areasqkm":260.8661,"address_cnt":177.0,"address_density_sqkm":1.0,"tp":"Suburb : North Stradbroke Island<br>Density per sqkm: 1"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.437156,-27.4068105],[153.440771,-27.4053805],[153.441719,-27.402100500000003],[153.445227,-27.402121499999993],[153.450569,-27.4071705],[153.45593000000002,-27.411410500000006],[153.45824,-27.412538500000004],[153.465839,-27.405512499999997],[153.4676286,-27.407011499999992],[153.4707276,-27.405413000000003],[153.4735405,-27.408581999999996],[153.4788186,-27.412995000000002],[153.4831725,-27.415543899999996],[153.4928523,-27.4183899],[153.5054531,-27.4208928],[153.5091921,-27.421285799999993],[153.512831,-27.420876500000002],[153.511753,-27.431529499999996],[153.53908350000003,-27.441733699999993],[153.5327769,-27.451241599999996],[153.5271921,-27.461579599999993],[153.5225562,-27.472140599999992],[153.5187394,-27.481981599999997],[153.5127855,-27.495566599999997],[153.5072627,-27.5098896],[153.5017648,-27.5230625],[153.4999929,-27.528437600000004],[153.4947821,-27.5417505],[153.4842645,-27.5708295],[153.4801046,-27.583324499999996],[153.4795517,-27.58582549999999],[153.4737749,-27.6039555],[153.4706099,-27.615829499999993],[153.4648172,-27.6408814],[153.4615594,-27.655717399999997],[153.4568853,-27.680904799999997],[153.4538009,-27.70370829999999],[153.453107,-27.714462199999993],[153.4532551,-27.724777199999995],[153.4540522,-27.728463099999995],[153.4511272,-27.730273099999994],[153.4452403,-27.73113319999999],[153.43906340000004,-27.7332982],[153.4357275,-27.730229199999997],[153.4379664,-27.727091200000004],[153.4427013,-27.728844199999997],[153.4441873,-27.7270702],[153.4452133,-27.722770199999992],[153.44575020000002,-27.716295200000005],[153.4436262,-27.716340199999998],[153.4368383,-27.7180283],[153.4352484,-27.720356299999995],[153.4351174,-27.7237592],[153.4321445,-27.728289200000003],[153.4349335,-27.732101200000002],[153.4370185,-27.733834199999997],[153.4353145,-27.735281199999992],[153.4252357,-27.7404232],[153.41815880000001,-27.740617299999997],[153.4115999,-27.738392299999997],[153.40777,-27.7353533],[153.405778,-27.732061400000006],[153.4061729,-27.727266399999998],[153.4053129,-27.7219684],[153.3992069,-27.7134885],[153.3938809,-27.7092085],[153.3931309,-27.706667599999996],[153.3977218,-27.704433499999997],[153.4001758,-27.7024345],[153.4021527,-27.6923346],[153.4014147,-27.689646599999996],[153.3993267,-27.6870896],[153.3967617,-27.682068599999997],[153.3975956,-27.680529700000005],[153.4014075,-27.6689257],[153.3987975,-27.664852699999997],[153.3999065,-27.661426700000007],[153.4089653,-27.656439699999996],[153.4118922,-27.6528746],[153.418402,-27.648914599999994],[153.420335,-27.646659600000003],[153.421669,-27.642041599999995],[153.419993,-27.638382699999998],[153.418316,-27.636629699999993],[153.416204,-27.631956700000003],[153.415022,-27.6272287],[153.412436,-27.622688800000002],[153.408866,-27.619743800000006],[153.408789,-27.616340799999996],[153.407083,-27.6109968],[153.407386,-27.6088218],[153.41046490000002,-27.606131799999996],[153.4130008,-27.599489800000004],[153.4137507,-27.594273799999996],[153.4117267,-27.5869879],[153.4117397,-27.584599899999994],[153.4133936,-27.578850900000006],[153.4103177,-27.576815899999996],[153.40989270000003,-27.573640900000004],[153.4125686,-27.572070899999993],[153.4111977,-27.570767899999993],[153.4103387,-27.5677479],[153.4105896,-27.5604709],[153.4116716,-27.556083900000004],[153.4119345,-27.548771999999996],[153.4092585,-27.537848],[153.4104035,-27.531087999999993],[153.4099444,-27.523983999999988],[153.4127243,-27.516804999999998],[153.4125433,-27.511626000000007],[153.4099859,-27.506547399999995],[153.40839,-27.50518469999999],[153.404612,-27.501450500000004],[153.408468,-27.501431499999992],[153.410233,-27.4998865],[153.411389,-27.50271149999999],[153.413408,-27.5036525],[153.412613,-27.497282500000004],[153.415772,-27.496795500000005],[153.414894,-27.49359550000001],[153.40693,-27.489947499999992],[153.406975,-27.488669500000007],[153.4085592,-27.484235100000003],[153.40913480000003,-27.475997599999996],[153.413678,-27.474850099999998],[153.417733,-27.4747031],[153.4216529,-27.472090100000003],[153.4230389,-27.4701051],[153.4240578,-27.464784099999992],[153.4267527,-27.459115100000002],[153.4265197,-27.457755099999996],[153.4292286,-27.4525491],[153.4287636,-27.4497621],[153.4303136,-27.44448509999999],[153.4360564,-27.427975099999998],[153.43658230000003,-27.422944100000002],[153.4393872,-27.4131931],[153.4388511,-27.4099771],[153.437156,-27.4068105]]]]}},{"type":"Feature","properties":{"suburb_name":"Rocklea (Qld)","suburb_areasqkm":9.223,"address_cnt":2571.0,"address_density_sqkm":279.0,"tp":"Suburb : Rocklea (Qld)<br>Density per sqkm: 279"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.019603,-27.546405399999998],[153.01989800000004,-27.5492815],[153.0226728,-27.5531521],[153.0228228,-27.55530909999999],[153.024773,-27.557416400000008],[153.020763,-27.5584734],[153.010631,-27.556975399999992],[153.0083557,-27.556188499999994],[153.007417,-27.563238399999996],[153.0065411,-27.5661703],[152.997315,-27.564796400000006],[152.996069,-27.571366399999995],[152.993483,-27.572095400000006],[152.988577,-27.570102399999985],[152.990877,-27.5666034],[152.988336,-27.564067400000003],[152.986849,-27.561302400000002],[152.982763,-27.5586494],[152.986543,-27.555993399999995],[152.986385,-27.552649500000005],[152.99308300000004,-27.5511414],[152.995606,-27.5504455],[152.9951002,-27.5484603],[152.996855,-27.5467224],[152.9947652,-27.545604299999994],[152.98936100000003,-27.546838500000007],[152.988983,-27.543615400000004],[152.994358,-27.543797399999995],[152.994641,-27.541771499999996],[152.990522,-27.541784399999997],[152.988739,-27.540138399999993],[152.989229,-27.537349499999998],[152.990553,-27.53617540000001],[152.99248,-27.5351164],[152.994067,-27.532050400000003],[152.9980091,-27.529670499999998],[153.000821,-27.531431499999993],[153.00329,-27.531567399999993],[153.0059098,-27.5350624],[153.0089672,-27.535776400000003],[153.008749,-27.5376024],[153.0120182,-27.541271499999997],[153.013722,-27.5420105],[153.017039,-27.54582939999999],[153.019603,-27.546405399999998]]]]}},{"type":"Feature","properties":{"suburb_name":"Thagoona","suburb_areasqkm":13.1913,"address_cnt":657.0,"address_density_sqkm":50.0,"tp":"Suburb : Thagoona<br>Density per sqkm: 50"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.6520731,-27.636718400000007],[152.64977810000002,-27.6363754],[152.6471571,-27.638550399999993],[152.642789,-27.639901399999985],[152.6436442,-27.642265399999992],[152.6362521,-27.648095400000003],[152.6291841,-27.6475424],[152.6288871,-27.649200400000005],[152.62084,-27.648049399999998],[152.6215899,-27.643858400000003],[152.616488,-27.6390934],[152.615157,-27.6369414],[152.616337,-27.63374239999999],[152.6192809,-27.63235069999999],[152.6149551,-27.62520539999999],[152.61558910000002,-27.624844400000008],[152.6101311,-27.615937399999993],[152.6169151,-27.6126204],[152.62390510000003,-27.609564400000004],[152.6327851,-27.605250400000003],[152.6353091,-27.609300399999995],[152.6450651,-27.604597399999992],[152.6482011,-27.6097494],[152.6527425,-27.614430299999995],[152.642217,-27.620613400000007],[152.6520731,-27.636718400000007]]]]}},{"type":"Feature","properties":{"suburb_name":"Verrierdale","suburb_areasqkm":30.0862,"address_cnt":565.0,"address_density_sqkm":19.0,"tp":"Suburb : Verrierdale<br>Density per sqkm: 19"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0590599,-26.484552799999992],[153.0584494,-26.4881794],[153.0595948,-26.492603299999992],[153.062553,-26.495466000000004],[153.0631806,-26.49792160000001],[153.0683206,-26.503461],[153.0657412,-26.506847500000003],[153.0662017,-26.508585200000006],[153.0574091,-26.5073458],[153.056902,-26.51000279999999],[153.0445402,-26.508089399999996],[153.0413202,-26.512097399999995],[153.0382082,-26.513798399999995],[153.0362892,-26.5130364],[153.0339952,-26.510018399999993],[153.0319662,-26.509350399999995],[153.0318461,-26.506141399999994],[153.0342512,-26.5036584],[153.0306672,-26.503161399999993],[153.0312789,-26.498203400000005],[153.0261022,-26.497490400000004],[153.0228632,-26.495942400000008],[153.0234002,-26.492729400000005],[153.0204872,-26.491482399999995],[153.0197062,-26.489514399999994],[153.0167602,-26.4896064],[153.0157012,-26.4915564],[153.0126982,-26.4923814],[153.0116781,-26.4981302],[153.0125202,-26.4992974],[153.0119232,-26.5027364],[153.0136383,-26.504805500000003],[153.0180991,-26.5073704],[153.0177109,-26.509600099999997],[153.0145135,-26.51191199999999],[153.0066742,-26.510856400000005],[153.0043781,-26.506815399999994],[153.0010192,-26.5052594],[152.9972232,-26.503676400000003],[152.9934963,-26.500488799999992],[152.9861462,-26.4995604],[152.9863912,-26.498041399999995],[152.9830252,-26.4975724],[152.9812951,-26.498427400000004],[152.9773302,-26.49745739999999],[152.9786402,-26.490204399999993],[152.9769692,-26.488200400000004],[152.9715058,-26.487451100000005],[152.9723892,-26.482195399999995],[152.9687572,-26.481691400000003],[152.9703263,-26.474223399999996],[152.9715332,-26.4739244],[152.9724102,-26.469046399999996],[152.9701572,-26.468714399999993],[152.9712382,-26.463164400000004],[152.9735082,-26.463441399999997],[152.9739462,-26.4612854],[152.9795752,-26.462102399999996],[152.9792182,-26.464100400000003],[152.9847852,-26.464859399999998],[152.9846212,-26.46583040000001],[152.9976672,-26.467604399999992],[152.9972762,-26.469924399999996],[153.0060522,-26.471126399999996],[153.0061482,-26.47057039999999],[153.0301262,-26.473826399999997],[153.0340381,-26.4757814],[153.0368822,-26.476223400000006],[153.0427711,-26.481131399999995],[153.0452581,-26.482064400000006],[153.0494372,-26.48205039999999],[153.0525551,-26.483933400000005],[153.0546912,-26.4836824],[153.0590599,-26.484552799999992]]]]}},{"type":"Feature","properties":{"suburb_name":"Wavell Heights","suburb_areasqkm":4.0921,"address_cnt":5224.0,"address_density_sqkm":1277.0,"tp":"Suburb : Wavell Heights<br>Density per sqkm: 1,277"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.0421951,-27.407988400000004],[153.0413429,-27.405193600000004],[153.0388664,-27.401099099999993],[153.0356015,-27.402265499999995],[153.0365424,-27.398217400000004],[153.0350205,-27.3979624],[153.0354204,-27.394055400000006],[153.0377024,-27.3899933],[153.0421063,-27.3913133],[153.0427703,-27.387666299999996],[153.0444373,-27.3878913],[153.0459547,-27.3795559],[153.054203,-27.381140399999992],[153.0534171,-27.385434400000005],[153.0549591,-27.388078199999992],[153.0594561,-27.388890400000005],[153.0593769,-27.397083499999997],[153.0587103,-27.3982643],[153.0514882,-27.3966863],[153.0487183,-27.397651299999996],[153.0477994,-27.403166],[153.0503203,-27.404047300000002],[153.04903730000004,-27.406294299999995],[153.0456832,-27.408573099999998],[153.0421951,-27.407988400000004]]]]}},{"type":"Feature","properties":{"suburb_name":"Worongary","suburb_areasqkm":13.9982,"address_cnt":2804.0,"address_density_sqkm":200.0,"tp":"Suburb : Worongary<br>Density per sqkm: 200"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.3545339,-28.06228550000001],[153.3496409,-28.060460499999998],[153.343042,-28.063277499999998],[153.3383289,-28.059702500000007],[153.3328929,-28.059461499999998],[153.32984400000004,-28.0583085],[153.3280548,-28.0550475],[153.3258929,-28.0528045],[153.3216249,-28.05049749999999],[153.31934590000003,-28.048597500000007],[153.3125129,-28.045472499999995],[153.3107099,-28.0430825],[153.310729,-28.040128499999998],[153.3183381,-28.041277600000004],[153.3206221,-28.0388018],[153.3200033,-28.033844499999997],[153.3225351,-28.029716399999998],[153.3239563,-28.02221589999999],[153.3258533,-28.0224909],[153.3313468,-28.0214264],[153.3349468,-28.0226153],[153.3358529,-28.018354999999996],[153.3435948,-28.019656999999995],[153.3494305,-28.017924600000004],[153.3505358,-28.0222015],[153.35349880000004,-28.042791999999995],[153.3557086,-28.049487500000005],[153.354526,-28.052034499999998],[153.3553641,-28.0543054],[153.3557489,-28.059393499999995],[153.3545339,-28.06228550000001]]]]}},{"type":"Feature","properties":{"suburb_name":"Image Flat","suburb_areasqkm":9.9741,"address_cnt":247.0,"address_density_sqkm":25.0,"tp":"Suburb : Image Flat<br>Density per sqkm: 25"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.96150760000003,-26.6007001],[152.9616866,-26.6058871],[152.9630386,-26.608335100000005],[152.9629396,-26.610306099999992],[152.9605908,-26.612665600000007],[152.939873,-26.6100043],[152.938399,-26.614942099999993],[152.93504380000002,-26.615885699999996],[152.9299677,-26.6151805],[152.9302756,-26.613281100000002],[152.9212004,-26.612093900000005],[152.9138952,-26.611134400000005],[152.9116901,-26.606606400000004],[152.9135692,-26.603850399999995],[152.9104421,-26.603423399999997],[152.9111412,-26.598545400000003],[152.9143452,-26.597659400000005],[152.9147741,-26.593382399999992],[152.9180961,-26.5938618],[152.9186681,-26.590425400000004],[152.919723,-26.584125800000002],[152.92274220000002,-26.5845084],[152.9286311,-26.591855400000004],[152.93782790000003,-26.593023999999996],[152.9396831,-26.5933054],[152.9383282,-26.600914900000003],[152.9469317,-26.602046999999995],[152.9484187,-26.593700399999992],[152.9575129,-26.5951622],[152.9579625,-26.596584100000005],[152.96150760000003,-26.6007001]]]]}},{"type":"Feature","properties":{"suburb_name":"Peachester","suburb_areasqkm":46.0008,"address_cnt":693.0,"address_density_sqkm":15.0,"tp":"Suburb : Peachester<br>Density per sqkm: 15"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.8957921,-26.891067399999994],[152.8945501,-26.892989400000005],[152.8910451,-26.890229399999996],[152.8784351,-26.89050139999999],[152.8667881,-26.888909399999992],[152.8694831,-26.87286439999999],[152.8574811,-26.871218399999997],[152.8583371,-26.866070400000005],[152.85170710000003,-26.865183400000003],[152.8532011,-26.856208399999993],[152.8485612,-26.855114399999998],[152.8480461,-26.8581484],[152.8439472,-26.8575774],[152.83858410000002,-26.855015399999996],[152.8320421,-26.856144399999998],[152.8316711,-26.85296840000001],[152.8290452,-26.8502084],[152.8244771,-26.849371399999995],[152.8181461,-26.840196399999993],[152.81840220000004,-26.837452399999997],[152.8171871,-26.836010400000003],[152.8197992,-26.834248400000003],[152.8230511,-26.835777400000005],[152.8268111,-26.834043400000002],[152.8302751,-26.835022399999996],[152.8356161,-26.8347774],[152.8400671,-26.832481399999992],[152.8417572,-26.82839239999999],[152.8408641,-26.8242364],[152.8436861,-26.8246274],[152.8460921,-26.822927399999994],[152.8482931,-26.823218399999984],[152.8507621,-26.8280474],[152.8530972,-26.828487400000004],[152.8563351,-26.827437400000004],[152.8581872,-26.829470400000005],[152.8608741,-26.830225400000007],[152.8626711,-26.82843539999999],[152.86745820000002,-26.830255399999988],[152.8693741,-26.83474740000001],[152.8716481,-26.8344654],[152.8724081,-26.832585399999996],[152.8752151,-26.833797400000005],[152.8798561,-26.8372414],[152.8800381,-26.835030399999997],[152.8783921,-26.832425399999998],[152.8797251,-26.82858939999999],[152.8830222,-26.825540399999998],[152.8821641,-26.821344399999997],[152.8831441,-26.818221400000002],[152.8806087,-26.814654499999993],[152.8827446,-26.8118615],[152.8815622,-26.8090774],[152.8895881,-26.810158400000002],[152.8893811,-26.811380399999994],[152.8973811,-26.8124544],[152.8983541,-26.8065674],[152.9054621,-26.8075214],[152.9063271,-26.802327400000006],[152.9137251,-26.803061399999994],[152.9130061,-26.808597400000007],[152.9163691,-26.808944899999997],[152.9163264,-26.811232799999996],[152.91941810000003,-26.8175644],[152.917367,-26.8220353],[152.9151321,-26.823388399999992],[152.9091871,-26.8226024],[152.9086121,-26.826074399999992],[152.9149351,-26.828024399999993],[152.9172091,-26.827067400000004],[152.9199751,-26.827923400000003],[152.9159771,-26.84930440000001],[152.9079921,-26.84813039999999],[152.9044101,-26.849284400000002],[152.90130410000003,-26.84904139999999],[152.8989471,-26.8627864],[152.8916051,-26.861777399999998],[152.8925309,-26.868437199999992],[152.8952389,-26.872170200000006],[152.8944791,-26.879671199999997],[152.895781,-26.882025200000008],[152.8945911,-26.885926200000007],[152.8957921,-26.891067399999994]]]]}},{"type":"Feature","properties":{"suburb_name":"Pine Mountain (Qld)","suburb_areasqkm":38.6625,"address_cnt":872.0,"address_density_sqkm":23.0,"tp":"Suburb : Pine Mountain (Qld)<br>Density per sqkm: 23"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.7205421,-27.579906399999995],[152.7144361,-27.5791004],[152.714069,-27.5765468],[152.7125485,-27.574111499999997],[152.7102972,-27.572531399999992],[152.6996642,-27.5710194],[152.697605,-27.572548399999988],[152.6915372,-27.565946399999994],[152.6901951,-27.558597400000004],[152.687777,-27.553253399999996],[152.683975,-27.547606500000004],[152.6767161,-27.5348935],[152.6793091,-27.5313064],[152.6825231,-27.530970400000008],[152.6820561,-27.529231399999997],[152.6849222,-27.528669399999995],[152.6871301,-27.526427400000003],[152.6896061,-27.525494400000003],[152.68879,-27.5232464],[152.6901051,-27.522095400000005],[152.6904391,-27.518378399999992],[152.6913861,-27.5175844],[152.6920362,-27.519816399999996],[152.6974551,-27.5160644],[152.6996181,-27.516376400000006],[152.7021781,-27.518129399999992],[152.706463,-27.5150684],[152.7043251,-27.513692399999996],[152.7041541,-27.512059400000002],[152.7060801,-27.510596399999997],[152.7057481,-27.5078154],[152.7122081,-27.5100614],[152.7144391,-27.509603400000003],[152.7146301,-27.507645400000005],[152.7211801,-27.5079904],[152.7269901,-27.506248399999997],[152.7270011,-27.50138039999999],[152.7211641,-27.4979284],[152.7197961,-27.495557399999996],[152.72095710000002,-27.492358399999997],[152.7264961,-27.4903144],[152.72932700000004,-27.492255399999998],[152.73017000000002,-27.495611399999994],[152.73051810000004,-27.4972084],[152.7345831,-27.499933399999993],[152.7396711,-27.50530939999999],[152.7401851,-27.507512399999996],[152.7440011,-27.513878399999996],[152.748681,-27.516764399999996],[152.7515771,-27.5176474],[152.75913,-27.517226399999995],[152.7622021,-27.518853399999994],[152.76302,-27.5211854],[152.7623461,-27.5240394],[152.7601111,-27.525095400000005],[152.7556991,-27.523390399999997],[152.7528921,-27.523513399999995],[152.7497901,-27.524905399999998],[152.747982,-27.527221400000002],[152.745512,-27.534100399999993],[152.7435241,-27.5435284],[152.7422431,-27.548105399999997],[152.7414701,-27.554519399999997],[152.7401191,-27.561548400000007],[152.735806,-27.560999399999996],[152.7351501,-27.562518400000002],[152.732047,-27.561964400000008],[152.725475,-27.563479399999995],[152.7210031,-27.563556400000007],[152.720511,-27.557832400000002],[152.716355,-27.559288399999993],[152.7111,-27.563075400000002],[152.7114491,-27.56670140000001],[152.7143971,-27.5657144],[152.7174681,-27.571559399999998],[152.719202,-27.5733894],[152.7205421,-27.579906399999995]]]]}},{"type":"Feature","properties":{"suburb_name":"Pinkenba","suburb_areasqkm":13.6011,"address_cnt":1009.0,"address_density_sqkm":74.0,"tp":"Suburb : Pinkenba<br>Density per sqkm: 74"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.107355,-27.440383499999992],[153.106758,-27.43785550000001],[153.1019087,-27.4399235],[153.1003958,-27.4368158],[153.1022612,-27.428619499999996],[153.099807,-27.428090500000003],[153.095239,-27.428418900000004],[153.096709,-27.4204275],[153.104567,-27.421418499999994],[153.1073074,-27.4255519],[153.1160597,-27.426649100000006],[153.1178049,-27.424883499999996],[153.1162983,-27.420395700000004],[153.121713,-27.4174935],[153.1282081,-27.417104499999997],[153.130904,-27.4103195],[153.132347,-27.402536399999995],[153.13116,-27.40226749999999],[153.13411,-27.3920255],[153.140574,-27.383608400000007],[153.138896,-27.382581500000008],[153.141175,-27.3791315],[153.1371656,-27.376678400000003],[153.1431517,-27.366227500000004],[153.1417798,-27.3624624],[153.13862360000002,-27.361139799999997],[153.1439885,-27.3607498],[153.15231640000002,-27.361348699999994],[153.1563504,-27.36368059999999],[153.1574644,-27.3705246],[153.1573465,-27.375107599999993],[153.1604024,-27.376985499999993],[153.158604,-27.379960500000003],[153.1528106,-27.384559600000003],[153.146384,-27.3881765],[153.148529,-27.392468499999993],[153.150449,-27.39460149999999],[153.1482877,-27.396480600000004],[153.1456108,-27.402698599999997],[153.146742,-27.404675499999993],[153.1454608,-27.407249599999993],[153.145202,-27.410123499999997],[153.140653,-27.4175475],[153.13592,-27.4210265],[153.1195514,-27.4289237],[153.115601,-27.432549500000004],[153.110082,-27.440122499999994],[153.107355,-27.440383499999992]]]]}},{"type":"Feature","properties":{"suburb_name":"Elaman Creek","suburb_areasqkm":12.5847,"address_cnt":43.0,"address_density_sqkm":3.0,"tp":"Suburb : Elaman Creek<br>Density per sqkm: 3"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.7772862,-26.703348399999996],[152.7820872,-26.702135399999996],[152.7902155,-26.7060174],[152.7917191,-26.709304400000004],[152.7957661,-26.7093704],[152.7946811,-26.717426400000004],[152.8019061,-26.718530399999995],[152.7995782,-26.7323864],[152.7979382,-26.7325064],[152.7923422,-26.730147399999996],[152.7883231,-26.731545400000005],[152.7876561,-26.735114400000004],[152.7842001,-26.738242400000004],[152.76912110000004,-26.7362724],[152.7610081,-26.737227400000002],[152.7588611,-26.722406399999997],[152.7611541,-26.724075399999997],[152.7627351,-26.7222344],[152.7645262,-26.712718399999996],[152.7607482,-26.7072974],[152.7621611,-26.70664139999999],[152.7645542,-26.7023814],[152.7678182,-26.701458400000007],[152.7772862,-26.703348399999996]]]]}},{"type":"Feature","properties":{"suburb_name":"Lanefield","suburb_areasqkm":16.7984,"address_cnt":101.0,"address_density_sqkm":6.0,"tp":"Suburb : Lanefield<br>Density per sqkm: 6"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.5386661,-27.625795399999994],[152.54054990000003,-27.62784540000001],[152.5459021,-27.628863400000004],[152.5515242,-27.639868399999997],[152.5562442,-27.6387094],[152.563825,-27.635651399999986],[152.5672292,-27.6423504],[152.5736981,-27.639630399999998],[152.5776611,-27.647742400000002],[152.5731623,-27.6495592],[152.5748521,-27.6520284],[152.573028,-27.661997400000004],[152.5648921,-27.660918400000003],[152.56234,-27.6746654],[152.5577771,-27.678194400000002],[152.5526241,-27.6780994],[152.548155,-27.681540399999992],[152.5455761,-27.690595399999996],[152.537743,-27.6895034],[152.5423641,-27.664656399999995],[152.5447541,-27.664298399999996],[152.5469561,-27.659757399999997],[152.5431111,-27.661315400000003],[152.5341401,-27.643462399999997],[152.5315941,-27.644512399999993],[152.5253441,-27.631279400000004],[152.5386661,-27.625795399999994]]]]}},{"type":"Feature","properties":{"suburb_name":"Pinjarra Hills","suburb_areasqkm":6.5708,"address_cnt":367.0,"address_density_sqkm":56.0,"tp":"Suburb : Pinjarra Hills<br>Density per sqkm: 56"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.927447,-27.5295314],[152.92659200000003,-27.5389604],[152.925742,-27.540903399999994],[152.92217,-27.542294399999996],[152.917096,-27.542465399999994],[152.906141,-27.543606400000005],[152.903117,-27.545523400000004],[152.902745,-27.5473074],[152.9039481,-27.5500504],[152.901415,-27.554225400000004],[152.899707,-27.555024399999997],[152.897672,-27.552828399999996],[152.895051,-27.553034399999994],[152.889609,-27.549291399999994],[152.887609,-27.548676400000005],[152.886532,-27.5458614],[152.8897331,-27.542630399999993],[152.8904231,-27.540407399999992],[152.8910421,-27.537509399999998],[152.896218,-27.53830140000001],[152.8966285,-27.5368444],[152.9015729,-27.5324056],[152.9020771,-27.53098689999999],[152.905945,-27.531689399999998],[152.910716,-27.5301819],[152.9110377,-27.5257695],[152.9146129,-27.526323599999994],[152.9180641,-27.5289168],[152.9190809,-27.5245424],[152.9224942,-27.5211349],[152.92347120000002,-27.521298899999994],[152.9220352,-27.5239309],[152.9258612,-27.524423799999997],[152.9258612,-27.526946799999997],[152.927447,-27.5295314]]]]}},{"type":"Feature","properties":{"suburb_name":"Lytton","suburb_areasqkm":8.5092,"address_cnt":276.0,"address_density_sqkm":32.0,"tp":"Suburb : Lytton<br>Density per sqkm: 32"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.1533789,-27.436469399999993],[153.1460717,-27.435443499999995],[153.143306,-27.436000499999988],[153.1427932,-27.438749900000005],[153.1454087,-27.4391225],[153.1438488,-27.442224499999995],[153.1417907,-27.442376599999992],[153.1360658,-27.438673499999993],[153.1389981,-27.4359265],[153.1401248,-27.432588700000007],[153.1369275,-27.425337500000005],[153.1431698,-27.420840600000002],[153.1468785,-27.415595499999995],[153.1500354,-27.409716900000003],[153.1526454,-27.406115399999994],[153.1558743,-27.4032674],[153.1547066,-27.4017811],[153.1646441,-27.4006664],[153.1655591,-27.400544400000005],[153.1701731,-27.401466400000004],[153.17351510000003,-27.404781299999996],[153.1743821,-27.408546299999994],[153.1737022,-27.415872300000007],[153.1701412,-27.4170803],[153.1709592,-27.419372299999996],[153.1705782,-27.4230253],[153.1693813,-27.4241053],[153.1681954,-27.423938],[153.16812700000003,-27.42005249999999],[153.1662373,-27.419159099999998],[153.1647038,-27.4221394],[153.1618357,-27.424865700000005],[153.160494,-27.4285195],[153.1551845,-27.427823399999998],[153.1533789,-27.436469399999993]]]]}},{"type":"Feature","properties":{"suburb_name":"Gheerulla","suburb_areasqkm":79.6767,"address_cnt":199.0,"address_density_sqkm":2.0,"tp":"Suburb : Gheerulla<br>Density per sqkm: 2"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.875495,-26.5550618],[152.87455820000002,-26.5598675],[152.8765702,-26.5624964],[152.8772822,-26.565632400000002],[152.8804562,-26.568043400000004],[152.8829631,-26.571679199999988],[152.8770111,-26.573827400000003],[152.8783042,-26.575965399999998],[152.8769947,-26.579197800000003],[152.8776022,-26.5860024],[152.8715442,-26.5870254],[152.8673882,-26.586395400000004],[152.8658751,-26.587567400000008],[152.8643422,-26.590025399999995],[152.8660072,-26.5926374],[152.8616093,-26.599563999999997],[152.8629252,-26.600831399999997],[152.8607271,-26.6032824],[152.8586202,-26.602884399999997],[152.8550182,-26.6050964],[152.8561572,-26.606601399999995],[152.8539611,-26.610421400000007],[152.8522334,-26.618270599999995],[152.853009,-26.618391099999997],[152.8518155,-26.624602499999998],[152.8475311,-26.6237004],[152.8444282,-26.624248400000006],[152.8431181,-26.6234424],[152.8427672,-26.6214784],[152.8407612,-26.619217399999997],[152.8341471,-26.6172634],[152.8284152,-26.618186399999995],[152.8240222,-26.6177244],[152.8159631,-26.610853399999996],[152.8163231,-26.6051254],[152.8139882,-26.6031984],[152.8118481,-26.60013439999999],[152.8079102,-26.5975934],[152.8022311,-26.597252400000002],[152.8002452,-26.596608400000008],[152.7972332,-26.593137400000007],[152.7920842,-26.594565399999997],[152.7831622,-26.592885399999993],[152.7790692,-26.594289399999997],[152.7729072,-26.59163039999999],[152.7663872,-26.590736400000008],[152.7620332,-26.590927399999998],[152.7602163,-26.584285899999998],[152.7556522,-26.5674824],[152.7605182,-26.567627399999996],[152.7636642,-26.564905399999997],[152.7603262,-26.563412399999997],[152.7542382,-26.5569574],[152.7496472,-26.557848399999994],[152.7470812,-26.557284399999997],[152.7463742,-26.55565139999999],[152.7464792,-26.549842399999996],[152.74983120000002,-26.547238399999998],[152.7527362,-26.549754399999994],[152.7561483,-26.547990399999993],[152.7557001,-26.5464084],[152.7582172,-26.543933399999997],[152.7571811,-26.539355499999996],[152.7585002,-26.536374400000003],[152.7619972,-26.5364214],[152.7648571,-26.53859239999999],[152.7671604,-26.537325400000004],[152.7694002,-26.533702400000006],[152.7685553,-26.528697399999995],[152.7745471,-26.5294304],[152.7772302,-26.530299400000004],[152.7780012,-26.534095399999998],[152.7810672,-26.532592399999995],[152.8162832,-26.5373144],[152.8154792,-26.54190739999999],[152.8325425,-26.54431889999999],[152.8361722,-26.545176399999992],[152.8385512,-26.547734400000003],[152.8386231,-26.54955739999999],[152.8410562,-26.551312399999997],[152.8530299,-26.5529957],[152.875495,-26.5550618]]]]}},{"type":"Feature","properties":{"suburb_name":"Moreton Island","suburb_areasqkm":172.8398,"address_cnt":163.0,"address_density_sqkm":1.0,"tp":"Suburb : Moreton Island<br>Density per sqkm: 1"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.3641891,-27.12756140000001],[153.3661849,-27.128521799999994],[153.3672108,-27.1256334],[153.3706706,-27.12492829999999],[153.37051330000003,-27.12312809999999],[153.365873,-27.1225796],[153.3694969,-27.110073399999997],[153.3701398,-27.103014399999992],[153.3695908,-27.088768499999997],[153.3687717,-27.085316500000005],[153.3711167,-27.0850149],[153.3715527,-27.0820309],[153.370184,-27.0735955],[153.3669717,-27.0733345],[153.3639967,-27.0673245],[153.3614056,-27.061028499999995],[153.3637046,-27.0588985],[153.3680495,-27.056329499999997],[153.3702635,-27.0542945],[153.3772493,-27.050278499999994],[153.3832292,-27.0485745],[153.3857202,-27.047252600000004],[153.3894181,-27.0428615],[153.3963339,-27.038013500000005],[153.397572,-27.0383685],[153.3895341,-27.04609749999999],[153.3906651,-27.046678500000002],[153.394685,-27.042814499999995],[153.4017129,-27.04003449999999],[153.4043928,-27.03771549999999],[153.4068428,-27.037183499999998],[153.4071078,-27.0400615],[153.4023139,-27.041200500000006],[153.4032789,-27.043154500000004],[153.4067088,-27.042376500000007],[153.4121807,-27.039693500000002],[153.4185936,-27.0378554],[153.4239845,-27.036941400000007],[153.4277115,-27.035710399999996],[153.4272774,-27.0332273],[153.4230995,-27.0333494],[153.4217185,-27.03517739999999],[153.4196946,-27.0354074],[153.41702160000003,-27.032929399999997],[153.4201526,-27.032076399999998],[153.4267195,-27.0320063],[153.4344383,-27.032365299999995],[153.4377633,-27.0319623],[153.4475151,-27.027989100000003],[153.4547489,-27.0237021],[153.4589968,-27.025347000000004],[153.4589818,-27.027115999999996],[153.4654248,-27.028360899999992],[153.4684947,-27.028465899999986],[153.4674837,-27.031798900000002],[153.4676857,-27.034638900000004],[153.4660718,-27.036486900000003],[153.4661448,-27.039176899999998],[153.46346080000004,-27.039804899999996],[153.458776,-27.050924],[153.4559191,-27.059224000000004],[153.4545252,-27.064370099999998],[153.4513043,-27.0722531],[153.4508843,-27.074911099999998],[153.44646150000003,-27.0889551],[153.44517150000001,-27.092128000000002],[153.4404707,-27.109027099999995],[153.4393158,-27.114785100000002],[153.4376918,-27.120449100000002],[153.4354619,-27.126161100000008],[153.4340499,-27.131222],[153.4316971,-27.142790999999992],[153.4301781,-27.146655],[153.4275252,-27.156719999999996],[153.4261563,-27.164692999999993],[153.4242264,-27.172313000000003],[153.4228785,-27.183271],[153.4209946,-27.193252000000008],[153.4181718,-27.216554899999995],[153.4172369,-27.227267900000005],[153.416857,-27.237294800000004],[153.417183,-27.247207800000005],[153.4165831,-27.256624799999997],[153.4175862,-27.274410699999994],[153.4184572,-27.2796046],[153.4237662,-27.3031025],[153.4260693,-27.3070045],[153.4331552,-27.31558040000001],[153.4344561,-27.31786839999999],[153.4363872,-27.326093399999998],[153.4372922,-27.3339524],[153.4372273,-27.3417673],[153.4309645,-27.3586583],[153.4288636,-27.3629233],[153.4263636,-27.3602723],[153.4186457,-27.3550074],[153.4184577,-27.351654400000005],[153.4198096,-27.347407399999998],[153.4224665,-27.343485400000006],[153.4228555,-27.339333399999997],[153.4218835,-27.3330714],[153.4151705,-27.319768499999995],[153.4115055,-27.312963499999995],[153.4112085,-27.311445500000005],[153.4052216,-27.300122600000005],[153.4056695,-27.29489269999999],[153.4022455,-27.284207700000003],[153.3991715,-27.27811679999999],[153.3976815,-27.27288379999999],[153.3934325,-27.2661249],[153.3896526,-27.26081290000001],[153.3819116,-27.246207000000005],[153.3772226,-27.235666000000002],[153.3767716,-27.226801],[153.3752515,-27.2199011],[153.3719466,-27.211978099999996],[153.3676036,-27.205485200000002],[153.3655075,-27.2012322],[153.3653805,-27.198512199999996],[153.3666465,-27.193225199999997],[153.3722393,-27.180869199999997],[153.3732682,-27.176272200000003],[153.3722452,-27.168839199999994],[153.3700182,-27.1630843],[153.3701692,-27.160839199999998],[153.3656792,-27.14609329999999],[153.3621292,-27.1379684],[153.3617242,-27.134315399999995],[153.3641891,-27.12756140000001]],[[153.421957,-27.348552400000003],[153.4195349,-27.349706499999993],[153.4189049,-27.3522465],[153.420576,-27.352554499999993],[153.421957,-27.348552400000003]]]]}},{"type":"Feature","properties":{"suburb_name":"Mount Marrow","suburb_areasqkm":8.267,"address_cnt":105.0,"address_density_sqkm":13.0,"tp":"Suburb : Mount Marrow<br>Density per sqkm: 13"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.6169151,-27.6126204],[152.6133401,-27.606674399999992],[152.6099331,-27.608299400000003],[152.6052921,-27.600581399999996],[152.5977371,-27.599441400000003],[152.5963371,-27.5992474],[152.59791710000002,-27.590889399999995],[152.5992771,-27.590273399999997],[152.6050501,-27.5912104],[152.6055461,-27.59390939999999],[152.6071541,-27.594856399999994],[152.6319451,-27.5830174],[152.6353981,-27.588633399999996],[152.6396741,-27.592942400000002],[152.6393301,-27.595193399999996],[152.6450651,-27.604597399999992],[152.6353091,-27.609300399999995],[152.6327851,-27.605250400000003],[152.62390510000003,-27.609564400000004],[152.6169151,-27.6126204]]]]}},{"type":"Feature","properties":{"suburb_name":"Swanbank","suburb_areasqkm":17.4061,"address_cnt":130.0,"address_density_sqkm":7.0,"tp":"Suburb : Swanbank<br>Density per sqkm: 7"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.844789,-27.674259399999993],[152.83919900000004,-27.676359400000003],[152.829949,-27.684811400000005],[152.822995,-27.68759439999999],[152.821557,-27.687661399999996],[152.811255,-27.685752399999995],[152.807254,-27.686016400000003],[152.803842,-27.682401400000003],[152.80329000000003,-27.680421400000004],[152.806875,-27.677052399999997],[152.8020121,-27.675022399999992],[152.798517,-27.672094399999988],[152.797656,-27.668048399999993],[152.8004672,-27.666346299999994],[152.79917,-27.6627974],[152.799146,-27.659122399999998],[152.8012491,-27.656320800000003],[152.803918,-27.654034400000004],[152.804561,-27.65222249999999],[152.8018559,-27.650538399999995],[152.7993219,-27.647563400000006],[152.800486,-27.644115399999997],[152.798883,-27.6438294],[152.796182,-27.6409274],[152.7938015,-27.64191079999999],[152.797553,-27.638907399999994],[152.806612,-27.635945399999997],[152.8098281,-27.634558399999996],[152.8138191,-27.631786299999995],[152.821065,-27.635238399999988],[152.826762,-27.635812400000002],[152.826326,-27.6376934],[152.8237891,-27.6386074],[152.824757,-27.641666400000002],[152.8233971,-27.651647399999998],[152.8256481,-27.653740399999997],[152.828809,-27.653604399999992],[152.832895,-27.654470399999994],[152.8326926,-27.6562636],[152.8376304,-27.656909999999993],[152.8356441,-27.667750399999996],[152.837375,-27.6679944],[152.8360012,-27.6718584],[152.844789,-27.674259399999993]]]]}},{"type":"Feature","properties":{"suburb_name":"Veresdale Scrub","suburb_areasqkm":15.7371,"address_cnt":122.0,"address_density_sqkm":8.0,"tp":"Suburb : Veresdale Scrub<br>Density per sqkm: 8"},"geometry":{"type":"MultiPolygon","coordinates":[[[[153.031487,-27.902541499999998],[153.03218,-27.904030399999996],[153.030808,-27.906873400000002],[153.031531,-27.9092584],[153.030985,-27.915709500000006],[153.03218,-27.917324400000002],[153.037061,-27.917691499999997],[153.039962,-27.922930399999995],[153.040651,-27.926153399999997],[153.035302,-27.9345154],[153.032681,-27.937381400000003],[153.0234594,-27.94214699999999],[153.0240834,-27.938556999999996],[153.0036449,-27.935770399999996],[153.005773,-27.923477399999996],[152.994654,-27.921969400000005],[152.995747,-27.915660399999997],[152.996746,-27.9125865],[152.998475,-27.902279500000002],[153.000055,-27.902499399999996],[153.0013499,-27.895710499999996],[153.002599,-27.891235499999993],[153.0061771,-27.889319500000003],[153.0175071,-27.891075499999996],[153.0183401,-27.892487500000005],[153.0142586,-27.89583949999999],[153.018304,-27.900595500000005],[153.0233541,-27.900933399999996],[153.02634,-27.9021554],[153.031487,-27.902541499999998]]]]}},{"type":"Feature","properties":{"suburb_name":"Crohamhurst","suburb_areasqkm":22.8365,"address_cnt":118.0,"address_density_sqkm":5.0,"tp":"Suburb : Crohamhurst<br>Density per sqkm: 5"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.8408641,-26.8242364],[152.8394271,-26.822072399999993],[152.8390221,-26.8178304],[152.8361691,-26.8144184],[152.8334751,-26.8133624],[152.8288341,-26.807782399999997],[152.8311711,-26.806258399999994],[152.8325661,-26.7990844],[152.8350691,-26.799421399999993],[152.8354751,-26.797067399999996],[152.8393331,-26.797582399999992],[152.8420961,-26.7956854],[152.8426831,-26.7936024],[152.8408891,-26.791155400000005],[152.8408101,-26.788497399999997],[152.8469452,-26.788774399999994],[152.8476161,-26.785039399999995],[152.8589802,-26.786683399999998],[152.8595271,-26.7836264],[152.8848451,-26.787146399999994],[152.8853081,-26.78464039999999],[152.8896791,-26.783434399999997],[152.8899491,-26.7847534],[152.8879071,-26.797260399999995],[152.8867861,-26.797113400000004],[152.8858281,-26.8030074],[152.8833845,-26.80524249999999],[152.8815622,-26.8090774],[152.8827446,-26.8118615],[152.8806087,-26.814654499999993],[152.8831441,-26.818221400000002],[152.8821641,-26.821344399999997],[152.8830222,-26.825540399999998],[152.8797251,-26.82858939999999],[152.8783921,-26.832425399999998],[152.8800381,-26.835030399999997],[152.8798561,-26.8372414],[152.8752151,-26.833797400000005],[152.8724081,-26.832585399999996],[152.8716481,-26.8344654],[152.8693741,-26.83474740000001],[152.86745820000002,-26.830255399999988],[152.8626711,-26.82843539999999],[152.8608741,-26.830225400000007],[152.8581872,-26.829470400000005],[152.8563351,-26.827437400000004],[152.8530972,-26.828487400000004],[152.8507621,-26.8280474],[152.8482931,-26.823218399999984],[152.8460921,-26.822927399999994],[152.8436861,-26.8246274],[152.8408641,-26.8242364]]]]}},{"type":"Feature","properties":{"suburb_name":"The Bluff (Ipswich - Qld)","suburb_areasqkm":8.2908,"address_cnt":54.0,"address_density_sqkm":7.0,"tp":"Suburb : The Bluff (Ipswich - Qld)<br>Density per sqkm: 7"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.5386661,-27.625795399999994],[152.5253441,-27.631279400000004],[152.5236929,-27.62847739999999],[152.52033180000004,-27.629871599999998],[152.5185017,-27.626331599999993],[152.514825,-27.628044899999995],[152.5125291,-27.622688899999996],[152.5199511,-27.619723399999994],[152.518339,-27.618015000000003],[152.5157409,-27.613089400000003],[152.52272920000001,-27.609705399999996],[152.5236692,-27.604196399999992],[152.5246581,-27.59852439999999],[152.5390351,-27.600722400000002],[152.5415461,-27.5998064],[152.54579010000003,-27.6007474],[152.5477401,-27.604224399999996],[152.55221010000002,-27.605874400000005],[152.5553871,-27.609043400000004],[152.5557471,-27.610438400000003],[152.5516621,-27.6119234],[152.5525201,-27.6136174],[152.5488601,-27.615029399999997],[152.5476561,-27.6145264],[152.5402281,-27.617520400000007],[152.5372371,-27.623407399999998],[152.5386661,-27.625795399999994]]]]}},{"type":"Feature","properties":{"suburb_name":"Woolshed","suburb_areasqkm":11.5157,"address_cnt":15.0,"address_density_sqkm":1.0,"tp":"Suburb : Woolshed<br>Density per sqkm: 1"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.5124732,-27.574385799999998],[152.5116821,-27.581578399999998],[152.5199741,-27.582661399999992],[152.5188311,-27.5898204],[152.5172171,-27.590331400000007],[152.5150811,-27.603101399999996],[152.5236692,-27.604196399999992],[152.52272920000001,-27.609705399999996],[152.5157409,-27.613089400000003],[152.518339,-27.618015000000003],[152.5169771,-27.6194124],[152.5119001,-27.620908400000005],[152.4976862,-27.618999399999996],[152.4969931,-27.623335399999995],[152.4865801,-27.621839399999992],[152.4871112,-27.6188174],[152.4799711,-27.6178444],[152.4818191,-27.612357399999997],[152.4848721,-27.6105054],[152.4875301,-27.606798399999995],[152.4879621,-27.6032984],[152.5044439,-27.595905700000007],[152.4970191,-27.582939399999997],[152.5030961,-27.580238399999992],[152.5077981,-27.581094400000005],[152.5093351,-27.572528],[152.5124732,-27.574385799999998]]]]}},{"type":"Feature","properties":{"suburb_name":"Lake Manchester","suburb_areasqkm":94.0445,"address_cnt":10.0,"address_density_sqkm":0.0,"tp":"Suburb : Lake Manchester<br>Density per sqkm: 0"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.7665001,-27.3769594],[152.7695861,-27.3788504],[152.7729081,-27.379041399999995],[152.7723831,-27.383021400000004],[152.7756441,-27.389095400000002],[152.7746541,-27.3931934],[152.7746331,-27.4010194],[152.7756215,-27.401673400000007],[152.7986585,-27.405093199999992],[152.800794,-27.407319899999997],[152.799362,-27.409471400000005],[152.80166090000003,-27.410986699999995],[152.8038798,-27.414734799999998],[152.8060405,-27.416727],[152.8083,-27.414670900000008],[152.81348,-27.419618299999993],[152.8171037,-27.419579000000002],[152.8240957,-27.4240675],[152.824085,-27.4261889],[152.82846610000001,-27.4326467],[152.8258962,-27.434794699999998],[152.8252702,-27.4383747],[152.82761510000003,-27.443555399999994],[152.8274371,-27.445780399999997],[152.8251691,-27.447407399999996],[152.824682,-27.449343399999982],[152.82245700000001,-27.450967399999996],[152.822212,-27.453374400000005],[152.8236461,-27.456619399999997],[152.8180081,-27.460484400000002],[152.812962,-27.46082239999999],[152.810127,-27.463536399999995],[152.8112091,-27.470837399999997],[152.810447,-27.4740394],[152.8120891,-27.4759054],[152.8124121,-27.478104400000007],[152.8094251,-27.478458400000008],[152.8067961,-27.492866399999997],[152.80173,-27.492209399999997],[152.8004441,-27.4961354],[152.7992281,-27.497408399999998],[152.7952661,-27.4970724],[152.7944011,-27.4949784],[152.7911042,-27.491397399999993],[152.7862842,-27.490949399999995],[152.7803542,-27.492193499999996],[152.7782932,-27.49140269999999],[152.7774471,-27.4890784],[152.769975,-27.4880874],[152.7674001,-27.4882944],[152.7616881,-27.490538399999995],[152.7567711,-27.494306400000003],[152.7519601,-27.4938554],[152.7487991,-27.495266399999988],[152.7442921,-27.491949400000006],[152.7426061,-27.488196400000003],[152.7393311,-27.4875924],[152.7380131,-27.494586399999992],[152.7341078,-27.494466899999995],[152.73017000000002,-27.495611399999994],[152.72932700000004,-27.492255399999998],[152.7264961,-27.4903144],[152.725307,-27.489509399999996],[152.726359,-27.4838154],[152.7161901,-27.482327399999996],[152.7171351,-27.4771774],[152.7119751,-27.476374400000005],[152.7079991,-27.4751734],[152.711757,-27.470080399999997],[152.7116936,-27.468322099999998],[152.7079838,-27.4667749],[152.6997311,-27.467308399999997],[152.6953401,-27.4664124],[152.6884971,-27.463354399999993],[152.68732510000004,-27.4608144],[152.6873579,-27.4551055],[152.6868342,-27.45361949999999],[152.6934351,-27.450732400000003],[152.6956931,-27.4509384],[152.6975391,-27.449033399999998],[152.7010941,-27.447836399999996],[152.7047631,-27.447711400000003],[152.7077831,-27.4468174],[152.7125011,-27.446711399999995],[152.71427510000004,-27.444960399999996],[152.7222351,-27.4449004],[152.7242911,-27.4454654],[152.7253201,-27.44000039999999],[152.7313371,-27.440645399999994],[152.7337271,-27.437030399999998],[152.7358561,-27.436945399999995],[152.7385041,-27.4354494],[152.740322,-27.437360399999996],[152.7427265,-27.4363663],[152.7442008,-27.427836],[152.7428741,-27.425412800000007],[152.7475312,-27.423253400000007],[152.74809,-27.420892800000004],[152.7477798,-27.415853999999996],[152.7501384,-27.414163400000003],[152.7520572,-27.4111135],[152.7517687,-27.4056891],[152.7524511,-27.403048500000008],[152.7544681,-27.402245399999995],[152.7554363,-27.3960433],[152.7567306,-27.394225900000002],[152.7553285,-27.392161],[152.7552971,-27.386007699999993],[152.7596243,-27.382494199999993],[152.7611111,-27.3802494],[152.7648628,-27.3788812],[152.7665001,-27.3769594]]]]}}]},"generateId":true},"source_layer":null,"paint":{"fill-antialias":true,"fill-color":["interpolate",["linear"],["get","address_density_sqkm"],0,"#4B0055",18,"#353E7C",75.66666666666663,"#007094",395,"#009B95",766,"#00BE7D",1203.166666666666,"#96D84B",11874,"#FDE333"],"fill-opacity":0.5,"fill-translate-anchor":"map"},"layout":{"visibility":"visible"},"slot":null,"minzoom":null,"maxzoom":null,"popup":null,"tooltip":"tp","hover_options":null,"before_id":null,"filter":null}],"legend_html":"<div id=\"legend-27f1\" class=\"mapboxgl-legend bottom-left\"><h2>Address Density per sqkm suburb<\/h2><div class=\"legend-gradient\" style=\"background:linear-gradient(to right, #4B0055, #353E7C, #007094, #009B95, #00BE7D, #96D84B, #FDE333)\"><\/div><div class=\"legend-labels\" style=\"position: relative; height: 20px;\"><div class=\"legend-labels\"><span style=\"position: absolute; left: 0%;\">     0<\/span><span style=\"position: absolute; left: 33.3333333333333%;\">   395<\/span><span style=\"position: absolute; left: 66.6666666666667%;\">   766<\/span><span style=\"position: absolute; left: 100%;\">11,874<\/span><\/div><\/div><\/div>","legend_css":"\n    @import url('https://fonts.googleapis.com/css2?family=Open+Sans&display=swap');\n\n    #legend-27f1 h2 {\n      font-size: 14px;\n      font-family: 'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;\n      line-height: 20px;\n      margin-bottom: 10px;\n      margin-top: 0px;\n    }\n\n    #legend-27f1 {\n      position: absolute;\n      border-radius: 10px;\n      margin: 10px;\n      width: 200px;\n      background-color: #ffffff80;\n      padding: 10px 20px;\n      z-index: 1002;\n    }\n\n    #legend-27f1.top-left {\n      top: 10px;\n      left: 10px;\n    }\n\n    #legend-27f1.bottom-left {\n      bottom: 10px;\n      left: 10px;\n    }\n\n    #legend-27f1.top-right {\n      top: 10px;\n      right: 10px;\n    }\n\n    #legend-27f1.bottom-right {\n      bottom: 10px;\n      right: 10px;\n    }\n\n    #legend-27f1 .legend-gradient {\n      height: 20px;\n      margin: 5px 10px 5px 10px;\n    }\n\n    #legend-27f1 .legend-labels {\n      position: relative;\n      height: 20px;\n      margin: 0 10px;\n    }\n\n    #legend-27f1 .legend-labels span {\n      font-size: 12px;\n      position: absolute;\n      transform: translateX(-50%);  /* Center all labels by default */\n      white-space: nowrap;\n    }\n\n","custom_controls":{"custom-control-8aaa0":{"html":"<div style='position:relative;top:10px;left:50%;transform:translateX(-50%);\n                     background-color: rgba(255,255,255,0.8); padding:8px 15px; border-radius:5px;\n                     font-family:Arial, sans-serif; font-weight:bold;font-size:20px;'>South East Queensland Address Density Map<\/div>","position":"top-left"},"custom-control-aff31":{"html":"<div style='position:relative;bottom:10px;right:10px;\n                     background-color: rgba(255,255,255,0.6); padding:4px 8px; border-radius:3px;\n                     font-family:Arial, sans-serif; font-size:0.8em;'>Data Source: Overture Maps Foundation<\/div>","position":"bottom-right"}}},"evals":[],"jsHooks":[]}</script>
<script type="application/htmlwidget-sizing" data-for="htmlwidget-4f686ea153fd3a1dba28">{"viewer":{"width":"100%","height":"100vh","padding":0,"fill":false},"browser":{"width":"100%","height":"100vh","padding":0,"fill":false}}</script>
</body>
</html>
